---
title: "TF5200_single_step_mode_en"
product: "TF5200"
category: "Motion_Control"
tags: ["NC"]
language: "EN"
document_type: "Manual"
version: "1.14"
source_pdf: "https://download.beckhoff.com/download/Document/automation/twincat3/TF5200_single_step_mode_en.pdf"
---
Functional description | DE TF5200 | Twin CAT 3 CNC Single step mode 06.06.2025 | Version: 1.14
## Page 3

Hinweise zur Dokumentation Hinweise zur Dokumentation Diese Beschreibung wendet sich ausschließlich an ausgebildetes Fachpersonal der Steuerungs- und Automatisierungstechnik, das mit den geltenden nationalen Normen vertraut ist. Zur Installation und Inbetriebnahme der Komponenten ist die Beachtung der Dokumentation und der nachfolgenden Hinweise und Erklärungen unbedingt notwendig. Das Fachpersonal ist verpflichtet, für jede Installation und Inbetriebnahme die zu dem betreffenden Zeitpunkt veröffentliche Dokumentation zu verwenden. Das Fachpersonal hat sicherzustellen, dass die Anwendung bzw. der Einsatz der beschriebenen Produkte alle Sicherheitsanforderungen, einschließlich sämtlicher anwendbaren Gesetze, Vorschriften, Bestimmungen und Normen erfüllt. Disclaimer Diese Dokumentation wurde sorgfältig erstellt. Die beschriebenen Produkte werden jedoch ständig weiter entwickelt. Wir behalten uns das Recht vor, die Dokumentation jederzeit und ohne Ankündigung zu überarbeiten und zu ändern. Aus den Angaben, Abbildungen und Beschreibungen in dieser Dokumentation können keine Ansprüche auf Änderung bereits gelieferter Produkte geltend gemacht werden. Marken Beckhoff®, Twin CAT®, Twin CAT/BSD®, TC/BSD®, Ether CAT®, Ether CAT G®, Ether CAT G10®, Ether CAT P®, Safety over Ether CAT®, Twin SAFE®, XFC®, XTS® und XPlanar® sind eingetragene und lizenzierte Marken der Beckhoff Automation Gmb H. Die Verwendung anderer in dieser Dokumentation enthaltenen Marken oder Kennzeichen durch Dritte kann zu einer Verletzung von Rechten der Inhaber der entsprechenden Bezeichnungen führen. Patente Die Ether CAT-Technologie ist patentrechtlich geschützt, insbesondere durch folgende Anmeldungen und Patente: EP1590927, EP1789857, EP1456722, EP2137893, DE102015105702 mit den entsprechenden Anmeldungen und Eintragungen in verschiedenen anderen Ländern. Ether CAT® ist eine eingetragene Marke und patentierte Technologie lizenziert durch die Beckhoff Automation Gmb H, Deutschland Copyright © Beckhoff Automation Gmb H & Co. KG, Deutschland. Weitergabe sowie Vervielfältigung dieses Dokuments, Verwertung und Mitteilung seines Inhalts sind verboten, soweit nicht ausdrücklich gestattet. Zuwiderhandlungen verpflichten zu Schadenersatz. Alle Rechte für den Fall der Patent-, Gebrauchsmuster- oder Geschmacksmustereintragung vorbehalten. TF5200 | Twin CAT 3 CNC Version: 1.14 3 Single step mode
## Page 4

Hinweise zur Dokumentation 4 Version: 1.14 TF5200 | Twin CAT 3 CNC Single step mode
## Page 5

Allgemeine und Sicherheitshinweise Allgemeine und Sicherheitshinweise Verwendete Symbole und ihre Bedeutung In der vorliegenden Dokumentation werden die folgenden Symbole mit nebenstehendem Sicherheitshinweis und Text verwendet. Die (Sicherheits-) Hinweise sind aufmerksam zu lesen und unbedingt zu befolgen! Symbole im Erklärtext 1. Gibt eine Aktion an. ð Gibt eine Handlungsanweisung an. GEFAHR Akute Verletzungsgefahr! Wenn der Sicherheitshinweis neben diesem Symbol nicht beachtet wird, besteht unmittelbare Gefahr für Leben und Gesundheit von Personen! VORSICHT Schädigung von Personen und Maschinen! Wenn der Sicherheitshinweis neben diesem Symbol nicht beachtet wird, können Personen und Maschinen geschädigt werden! HINWEIS Einschränkung oder Fehler Dieses Symbol beschreibt Einschränkungen oder warnt vor Fehlern. Tipps und weitere Hinweise Dieses Symbol kennzeichnet Informationen, die zum grundsätzlichen Verständnis beitragen oder zusätzliche Hinweise geben. Allgemeines Beispiel Beispiel zu einem erklärten Sachverhalt. NC-Programmierbeispiel Programmierbeispiel (komplettes NC-Programm oder Programmsequenz) der beschriebenen Funktionalität bzw. des entsprechenden NC-Befehls. Spezifischer Versionshinweis Optionale, ggf. auch eingeschränkte Funktionalität. Die Verfügbarkeit dieser Funktionalität ist von der Konfiguration und dem Versionsumfang abhängig. TF5200 | Twin CAT 3 CNC Version: 1.14 5 Single step mode
## Page 6

Inhaltsverzeichnis Inhaltsverzeichnis Hinweise zur Dokumentation................................................................................................................... 3 Allgemeine und Sicherheitshinweise...................................................................................................... 5 1 Übersicht.................................................................................................................................................... 8 2 Beauftragbare Betriebsmodi.................................................................................................................... 9 3 Programmbereiche für den Einzelschritt sperren................................................................................ 10 4 Einzelschrittbetrieb auf Satznummern.................................................................................................. 12 5 Parameter................................................................................................................................................. 15 5.1 Übersicht......................................................................................................................................... 15 5.2 Beschreibung.................................................................................................................................. 15 6 Schnittstellenanbindung........................................................................................................................ 16 6.1 Anwahl über CNC-Objekt................................................................................................................ 16 7 Support und Service............................................................................................................................... 17 Stichwortverzeichnis.............................................................................................................................. 18 6 Version: TF5200 | Twin CAT 3 CNC Single step mode
## Page 7

Abbildungsverzeichnis Abbildungsverzeichnis Abb. 1 Eine Geometrieinformation kann zu mehreren NC-Bewegungssätzen führen............................ 12 TF5200 | Twin CAT 3 CNC Version: 1.14 7 Single step mode
## Page 8

Übersicht 1 Übersicht Aufgabe Bei aktivem Einzelschrittbetrieb hat der Maschinenbediener die Möglichkeit, Schritt für Schritt ein NC- Programm auszuführen. Jede NC-Zeile wird vom Bediener einzeln freigegeben. Kommentarzeilen oder Kommentarblöcke und ausgeblendete Sätze werden übersprungen. Eigenschaften Die Unterbrechung des Ablaufes des NC-Programmes an den Satzgrenzen wird im Interpolator durchgeführt. Der Ablauf bei der Decodierung bzw. im Look-Ahead wird nicht beeinflusst. Dadurch können auch im Einzelschritt konturkorrigierende Funktionen wie Spline bzw. Werkzeugradiuskorrektur aktiv sein. Allerdings können konturverändernde Funktionalitäten Satzgrenzen verschieben. Für den Einzelschrittbetrieb sind nicht die programmierten Satzgrenzen wirksam, sondern gegebenenfalls die verschobenen Satzgrenzen. Parametrierung Das Verhalten des Einzelschrittbetriebes wird durch den Kanalparameter P-CHAN-00015 und den beauftragten Betriebsmodus [} 9] beeinflusst. Ist der Einzelschrittbetrieb aktiviert, so wird abhängig von diesen Parametern bei unterschiedlichen Kriterien vor NC-Sätzen angehalten. Programmierung Mit dem NC-Befehl #SINGLE STEP [DISABLE | ENABLE] [} 10] können ganze Programmbereiche für den Einzelschrittbetrieb gesperrt werden. Dieser Programmbereich wird dann in einem kompletten Einzelschritt übersprungen. Über den NC-Befehl #SINGLE STEP [RESOLUTION..] [} 12] kann eine satznummernabhängige Auflösung für einen Einzelschritt definiert werden. Obligatorischer Hinweis zu Verweisen auf andere Dokumente Zwecks Übersichtlichkeit wird eine verkürzte Darstellung der Verweise (Links) auf andere Dokumente bzw. Parameter gewählt, z. B. [PROG] für Programmieranleitung oder P-AXIS-00001 für einen Achsparameter. Technisch bedingt funktionieren diese Verweise nur in der Online-Hilfe (HTML5, CHM), allerdings nicht in PDF-Dateien, da PDF keine dokumentenübergreifenden Verlinkungen unterstützt. 8 Version: 1.14 TF5200 | Twin CAT 3 CNC Single step mode
## Page 9

Beauftragbare Betriebsmodi 2 Beauftragbare Betriebsmodi Anwahl Der Einzelschritt und seine Betriebsmodi können über die Bedienung (HMI) bzw. die SPS über das CNC- Objekt „Single Step Mode“ [} 16] zu jedem beliebigen Zeitpunkt gesetzt werden. Abhängig vom Kanalparameter P-CHAN-00015 wirkt der angewählte Betriebsmodus des Einzelschritt auf die entsprechenden NC-Zeilen. Folgende Betriebsmodi stehen zur Verfügung: 0 : Step into Als Grundeinstellung ist für den Einzelschritt der Betriebsmodus "Step into" aktiv. Dies bedeutet, dass bei Unterprogrammaufrufen am ersten Satz im Unterprogramm der Programmablauf wieder unterbrochen wird. 1 : Step over Sollen die in einem Unterprogramm enthaltenen NC-Zeilen nicht im Einzelschritt gefahren werden, kann der Betriebsmodus "Step over" eingestellt werden. Dies bedeutet, dass im nächsten Schritt ein eventuell vorhandener Unterprogrammaufruf nicht zu einem Anhalten führt. Die Programmbearbeitung wird ohne Anhalten solange fortgesetzt, bis das Unterprogramm wieder verlassen wird. Diese Eigenschaft gilt auch für geschachtelte Unterprogramme. 2 : Return from Function Alle nachfolgenden Anweisungen führen nicht zu einem Stopp. Erst der Rücksprung aus der aktuellen Programmebene führt wieder zu einem Anhalten des NC-Programmes. Befindet sich die aktuelle Unterbrechungsstelle bereits in der obersten Ebene, also dem Hauptprogramm, wirkt dieser Betriebsmodi wie "Step into". 3 : Step to next movement Der Einzelschrittbetrieb wirkt ausschließlich auf NC-Sätze mit Achsbewegungen. Alle anderen NC-Zeilen führen zu keinem Stopp. TF5200 | Twin CAT 3 CNC Version: 1.14 9 Single step mode
## Page 10

Programmbereiche für den Einzelschritt sperren 3 Programmbereiche für den Einzelschritt sperren Auswahl Im Einzelschrittbetrieb lassen sich einzelne Bereiche über den Befehl #SINGLE STEP [ DISABLE / ENABLE ] unterdrücken. Hierdurch wird der komplette Bereich über einen Einzelschritt fortgesetzt. In dazwischenliegenden Bereichen wird nicht angehalten. Syntax: #SINGLE STEP [ DISABLE | ENABLE ] modal Der Programmbereich im kursiv dargestellten Bereich N40–N100 und der Unterprogrammaufruf werden nicht im Einzelschrittbetrieb durchgeführt. %SINGLE_STEP N10 X0 Y0 Z0 N20 X10 N30 Y10 N40 #SINGLE STEP [DISABLE] N50 X20 N60 Y20 N65 L GSP.nc N70 Z20 N80 X30 N90 Z30 N100 #SINGLE STEP [ENABLE] N110 Y30 N120 X40 N130 Z40 N999 M30 10 Version: 1.14 TF5200 | Twin CAT 3 CNC Single step mode
## Page 11

Programmbereiche für den Einzelschritt sperren Verschachtelte Disable / Enable Bei einer Schachtelung von Disable / Enable Kommandos umfasst die Einzelschrittsperre den Bereich vom ersten Disable bis zum ersten Enable (siehe folgendes Beispiel). Bei nachfolgenden verschachtelten Bereichen ist der Einzelschrittbetrieb im kursiv dargestellten Bereich zwischen N40-N75 verhindert. %SINGLE_STEP N10 X0 Y0 Z0 N20 X10 N30 Y10 N40 #SINGLE STEP [DISABLE] N50 X20 N55 #SINGLE STEP [DISABLE] N60 Y20 N65 L GSP.nc N70 Z20 N75 #SINGLE STEP [ENABLE] N80 X30 N90 Z30 N100 #SINGLE STEP [ENABLE] N110 Y30 N120 X40 N130 Z40 N999 M30 TF5200 | Twin CAT 3 CNC Version: 1.14 11 Single step mode
## Page 12

Einzelschrittbetrieb auf Satznummern 4 Einzelschrittbetrieb auf Satznummern Satznummer Bei aktiviertem Einzelschrittbetrieb stoppt die CNC vor jedem neuen Bewegungssatz (siehe P-CHAN-00015 [} 15]) und wartet auf eine Quittierung von der SPS. Wurde das NC-Programm automatisiert, basierend auf CAD/CAM-Daten, durch einen Postprozessor generiert, so kann eine ursprüngliche Geometrieinformation zu mehreren NC-Bewegungssätzen führen. In diesem Fall sollte ein Einzelschritt mit der ursprünglichen Granularität der CAD/CAM-Daten korrelieren und nur auf der ursprünglichen Geometrieauflösung stoppen. Ein weiterer Anwendungsfall kann sein, dass der Einzelschrittbetrieb explizit auf einzelnen Sätzen unterdrückt werden soll. Syntax: #SINGLE STEP [ RESOLUTION<value> ] modal GEOMETRY N10 Z40 ... N20 F= V. E. Feedrate N30 G91 Z60 N40 F= V. E. Feedrate ... M30 CAD/CAM-System program-generator %program N10 G01 F1 Z40 ... CNC- N20 F= V. E. Feedrate N30 G91 Z20 Channel N31 G91 Z20 N32 G91 Z20 N40 F= V. E. Feedrate ... single step activation IPO PLC single step handshake Abb. 1: Eine Geometrieinformation kann zu mehreren NC-Bewegungssätzen führen. 12 Version: 1.14 TF5200 | Twin CAT 3 CNC Single step mode
## Page 13

Einzelschrittbetrieb auf Satznummern Satznummernbezogene Einzelschrittauflösung Mit der Option RESOLUTION kann der Anwender eine satznummernbezogene Einzelschrittauflösung definieren: 0: Aus, kein Einzelschritt auf Satznummern bezogen, Stopp vor jeder NC-Zeile 1: Der Einzelschritt stoppt vor jeder neu programmierten NC-Satznummer > 1: Es wird vor jedem Satz angehalten, der ganzzahlig ohne Rest geteilt werden kann. <Ganzzahliges Ergebnis> = <Satznummer> / <Auflösung> < 0: Unzulässiger Wert für die Einzelschrittauflösung, es wird eine Fehler- meldung ausgegeben. Die Einzelschrittauflösung RESOLUTION auf Satznummern wurde auf 10 eingestellt. In diesem Fall wird vor jedem Satz angehalten, der ganzzahlig ohne Rest durch 10 geteilt werden kann. Im kursiv dargestellten Bereich wird im Einzelschrittmodus nicht angehalten. Die schwarzen Linien stellen den Einzelschrittstopp dar. %single_step N000 #SINGLE STEP [RESOLUTION = 10] ________________ N000 X0 ________________ N010 X1 N011 X1.1 N012 X1.2 ________________ N020 X2 ________________ N030 X3 … ________________ N090 X9 N091 Y0 N092 Y1 N093 Y2 N094 Y3 N095 Y4 ________________ N100 Y5 N101 Y6 N102 Y7 ________________ N110 Y8 … Um eine effektive Diagnose zu gewährleisten, sollten alle NC-Zeilen grundsätzlich mit einer eindeutigen Satznummer versehen werden Satznummerierung mit Anwenderauflösung (10er Schritte) und interner Nummerierung (1er Schrittweite). %single_step N010 #SINGLE STEP [RESOLUTION = 10] ________________ N090 Y0 TF5200 | Twin CAT 3 CNC Version: 1.14 13 Single step mode
## Page 14

Einzelschrittbetrieb auf Satznummern N091 Y1 N092 Y2 N093 Y3 N094 Y4 ________________ N100 Y5 N101 Y6 N102 Y7 ________________ N110 Y8 … 14 Version: 1.14 TF5200 | Twin CAT 3 CNC Single step mode
## Page 15

Parameter 5 Parameter 5.1 Übersicht ID Parameter Beschreibung P-CHAN-00015 Einzelschrittmodus Verhalten des Einzelschrittbetriebs 5.2 Beschreibung P-CHAN-00015 Verhalten des Einzelschrittbetriebs definieren Beschreibung Dieser Parameter bestimmt das grundsätzliche Verhalten des Einzelschrittbetriebs nach Aktivierung in der HMI. Allen Betriebsarten gemeinsam ist, dass vor NC-Sätzen mit Achsbewegungen angehalten wird. Zusätzlich kann noch das Verhalten bzgl. weiterer NC-Sätze festgelegt werden. Werden durch bestimmte NC-Funktionalitäten (WRK, SPLINE, Polynomüberschleifen etc.) Bewegungssätze eingefügt und Satzgrenzen verändert, so bestimmen diese neuen Satzgrenzen auch das Anhalten im Einzelschrittbetrieb. Parameter einzelschrittmodus Datentyp SGN16 Datenbereich -1: Einzelschrittbetrieb für • NC-Bewegungssätze 0: (Standard) - Einzelschrittbetrieb für • NC-Bewegungssätze und • relevante Steuersätze 1: Einzelschrittbetrieb für • NC-Bewegungssätze und • relevante Steuersätze und • alle weiteren NC-Sätze * Dimension ---- Standardwert 0 Anmerkungen * Bei Kommentarzeilen, Kommentarbereichen und ausgeblendeten NC-Sätzen (Skip) wird generell nicht angehalten. TF5200 | Twin CAT 3 CNC Version: 1.14 15 Single step mode
## Page 16

Schnittstellenanbindung 6 Schnittstellenanbindung 6.1 Anwahl über CNC-Objekt Der Betriebsmodus des Einzelschrittbetriebes wird durch Schreiben des Modifikators vor dem nächsten Schritt durch die SPS eingestellt. Der Betriebsmodus ist haltend wirksam. Name Single Step Mode Beschreibung Mit diesem CNC-Objekt kann die Wirkungsweise des Einzelschrittbetriebs gewählt werden. Datenbereich: 0 - Step into 1 - Step over 2 - Return from Function 3 - Step to next movement Siehe [FCT-M2// Beauftragbare Betriebsmodi [} 9]] Task GEO (Port 551) Indexgruppe 0x12130<C > Indexoffset 0x1A ID Datentyp UNS32 Länge 4 Attribute read/ write Einheit [-] Anmerkungen 16 Version: 1.14 TF5200 | Twin CAT 3 CNC Single step mode
## Page 17

Support und Service 7 Support und Service Beckhoff und seine weltweiten Partnerfirmen bieten einen umfassenden Support und Service, der eine schnelle und kompetente Unterstützung bei allen Fragen zu Beckhoff Produkten und Systemlösungen zur Verfügung stellt. Downloadfinder Unser Downloadfinder beinhaltet alle Dateien, die wir Ihnen zum Herunterladen anbieten. Sie finden dort Applikationsberichte, technische Dokumentationen, technische Zeichnungen, Konfigurationsdateien und vieles mehr. Die Downloads sind in verschiedenen Formaten erhältlich. Beckhoff Niederlassungen und Vertretungen Wenden Sie sich bitte an Ihre Beckhoff Niederlassung oder Ihre Vertretung für den lokalen Support und Service zu Beckhoff Produkten! Die Adressen der weltweiten Beckhoff Niederlassungen und Vertretungen entnehmen Sie bitte unserer Internetseite: www.beckhoff.com Dort finden Sie auch weitere Dokumentationen zu Beckhoff Komponenten. Beckhoff Support Der Support bietet Ihnen einen umfangreichen technischen Support, der Sie nicht nur bei dem Einsatz einzelner Beckhoff Produkte, sondern auch bei weiteren umfassenden Dienstleistungen unterstützt: • Support • Planung, Programmierung und Inbetriebnahme komplexer Automatisierungssysteme • umfangreiches Schulungsprogramm für Beckhoff Systemkomponenten Hotline: +49 5246 963-157 E-Mail: support@beckhoff.com Beckhoff Service Das Beckhoff Service-Center unterstützt Sie rund um den After-Sales-Service: • Vor-Ort-Service • Reparaturservice • Ersatzteilservice • Hotline-Service Hotline: +49 5246 963-460 E-Mail: service@beckhoff.com Beckhoff Unternehmenszentrale Beckhoff Automation Gmb H & Co. KG Hülshorstweg 20 33415 Verl Deutschland Telefon: +49 5246 963-0 E-Mail: info@beckhoff.com Internet: www.beckhoff.com TF5200 | Twin CAT 3 CNC Version: 1.14 17 Single step mode
## Page 18

Stichwortverzeichnis Stichwortverzeichnis P P-CHAN-00015 15 18 Version: 1.14 TF5200 | Twin CAT 3 CNC Single step mode
## Page 20

Mehr Informationen: www.beckhoff.de/TF5200 Beckhoff Automation Gmb H & Co. KG Hülshorstweg 20 33415 Verl Deutschland Telefon: +49 5246 9630 info@beckhoff.com www.beckhoff.com
