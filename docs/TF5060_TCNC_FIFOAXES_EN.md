---
title: "TF5060 Twin CAT 3"
product: "TF5060"
category: "Motion_Control"
tags: ["CAT", "NC", "TWIN"]
language: "EN"
document_type: "Manual"
version: "1.4.0"
source_pdf: "https://download.beckhoff.com/download/Document/automation/twincat3/TF5060_TCNC_FIFOAXES_EN.pdf"
release_date: "2023-07-29"
---
Manual | EN TF5060 Twin CAT 3 | NC FIFO AXES 2023-07-29 | Version: 1.4.0
## Page 3

Table of contents Table of contents 1 Foreword.................................................................................................................................................... 5 1.1 Notes on the documentation............................................................................................................. 5 1.2 For your safety.................................................................................................................................. 5 1.3 Notes on information security............................................................................................................ 7 2 Overview.................................................................................................................................................... 8 3 PLC Library................................................................................................................................................ 9 3.1 Fi Fo Get Dimension............................................................................................................................ 9 3.2 Fi Fo Group Integrate......................................................................................................................... 10 3.3 Fi Fo Group Disintegrate.................................................................................................................... 10 3.4 Fi Fo Write......................................................................................................................................... 11 3.5 Fi Fo Overwrite.................................................................................................................................. 12 3.6 Fi Fo Start......................................................................................................................................... 13 3.7 Fi Fo Stop.......................................................................................................................................... 14 3.8 Fi Fo Set Channel Override................................................................................................................ 15 4 Appendix.................................................................................................................................................. 16 4.1 Samples.......................................................................................................................................... 16 TF5060 Version: 1.4.0 3
## Page 4

Table of contents 4 Version: 1.4.0 TF5060
## Page 5

Foreword 1 Foreword 1.1 Notes on the documentation This description is intended exclusively for trained specialists in control and automation technology who are familiar with the applicable national standards. The documentation and the following notes and explanations must be complied with when installing and commissioning the components. The trained specialists must always use the current valid documentation. The trained specialists must ensure that the application and use of the products described is in line with all safety requirements, including all relevant laws, regulations, guidelines, and standards. Disclaimer The documentation has been compiled with care. The products described are, however, constantly under development. We reserve the right to revise and change the documentation at any time and without notice. Claims to modify products that have already been supplied may not be made on the basis of the data, diagrams, and descriptions in this documentation. Trademarks Beckhoff®, ATRO® , Ether CAT®, Ether CAT G®, Ether CAT G10®, Ether CAT P®, MX-System®, Safety over Ether CAT®, TC/BSD®, Twin CAT®, Twin CAT/BSD®, Twin SAFE®, XFC®, XPlanar®, and XTS® are registered and licensed trademarks of Beckhoff Automation Gmb H. If third parties make use of the designations or trademarks contained in this publication for their own purposes, this could infringe upon the rights of the owners of the said designations. Ether CAT® is a registered trademark and patented technology, licensed by Beckhoff Automation Gmb H, Germany. Copyright © Beckhoff Automation Gmb H & Co. KG, Germany. The distribution and reproduction of this document, as well as the use and communication of its contents without express authorization, are prohibited. Offenders will be held liable for the payment of damages. All rights reserved in the event that a patent, utility model, or design are registered. Third-party trademarks Trademarks of third parties may be used in this documentation. You can find the trademark notices here: https://www.beckhoff.com/trademarks. 1.2 For your safety Safety regulations Read the following explanations for your safety. Always observe and follow product-specific safety instructions, which you may find at the appropriate places in this document. Exclusion of liability All the components are supplied in particular hardware and software configurations which are appropriate for the application. Modifications to hardware or software configurations other than those described in the documentation are not permitted, and nullify the liability of Beckhoff Automation Gmb H & Co. KG. TF5060 Version: 1.4.0 5
## Page 6

Foreword Personnel qualification This description is only intended for trained specialists in control, automation, and drive technology who are familiar with the applicable national standards. Signal words The signal words used in the documentation are classified below. In order to prevent injury and damage to persons and property, read and follow the safety and warning notices. Personal injury warnings DANGER Hazard with high risk of death or serious injury. WARNING Hazard with medium risk of death or serious injury. CAUTION There is a low-risk hazard that could result in medium or minor injury. Warning of damage to property or environment NOTICE The environment, equipment, or data may be damaged. Information on handling the product This information includes, for example: recommendations for action, assistance or further information on the product. 6 Version: 1.4.0 TF5060
## Page 7

Foreword 1.3 Notes on information security The products of Beckhoff Automation Gmb H & Co. KG (Beckhoff), insofar as they can be accessed online, are equipped with security functions that support the secure operation of plants, systems, machines and networks. Despite the security functions, the creation, implementation and constant updating of a holistic security concept for the operation are necessary to protect the respective plant, system, machine and networks against cyber threats. The products sold by Beckhoff are only part of the overall security concept. The customer is responsible for preventing unauthorized access by third parties to its equipment, systems, machines and networks. The latter should be connected to the corporate network or the Internet only if appropriate protective measures have been set up. In addition, the recommendations from Beckhoff regarding appropriate protective measures should be observed. Further information regarding information security and industrial security can be found in our https://www.beckhoff.com/secguide. Beckhoff products and solutions undergo continuous further development. This also applies to security functions. In light of this continuous further development, Beckhoff expressly recommends that the products are kept up to date at all times and that updates are installed for the products once they have been made available. Using outdated or unsupported product versions can increase the risk of cyber threats. To stay informed about information security for Beckhoff products, subscribe to the RSS feed at https:// www.beckhoff.com/secinfo. TF5060 Version: 1.4.0 7
## Page 8

Overview 2 Overview TF5060 Twin CAT 3 NC FIFO Axes In many applications it is necessary to synchronise two or more axes. Axes can be coupled together in the Twin CAT NC PTP. A master axis is then actively controlled, and the position of one or more coupled slave axes is synchronously controlled by the NC. The simplest type of coupling is linear coupling with a fixed ratio of transmission (an electronic gearbox). Some applications require a more complex coupling of master and slave, one which can not be described by a simple mathematical formula. Such a dependency can be described by means of a table that specifies an associated slave position for every master position. The Twin CAT NC PTP offers the possibility of coupling a slave axis to a master axis by means of a table (electronic camshaft). Here the table contains a certain number of prescribed reference points, and the NC interpolates position and speed between them. FIFO axes extend the table concept for any number of sequences that do not usually recur cyclically. In this case, rather than having one master-slave table prescribed in advance, the latest axis positions are constantly "topped up" by a PLC program. Because the FIFO axes are combined into a FIFO group, synchronised axis motions can be implemented. Details. 8 Version: 1.4.0 TF5060
## Page 9

PLC Library 3 PLC Library The library Tc2_Nc Fifo Axes allows to transfer externally generated position setpoint values to an axis group during runtime. In this process the setpoint value generation is designed in such a way that as well the setpoint position as the setpoint velocity are determined as the FIFO inputs are worked through in sequence. Between two neighboring FIFO inputs will be interpolated if necessary. 3.1 Fi Fo Get Dimension Fi Fo Get Dimension i Channel Id UDINT BOOL b Busy b Execute BOOL BOOL b Err t Timeout TIME UDINT i Err Id UDINT i No Of Axes UDINT i No Of Fifo Entries The function block Fi Fo Get Dimension determines the dimensioning, i.e. the number of the axes and the maximum number of FIFO entries in a FIFO channel. Inputs VAR_INPUT i Channel Id : UDINT; b Execute : BOOL; t Timeout : TIME; END_VAR Name Type Description i Channel Id UDINT Channel ID of the FIFO channel b Execute BOOL Edge-triggered signal for execution of the command t Timeout TIME ADS timeout (about 1 second) Outputs VAR_OUTPUT b Busy : BOOL; b Err : BOOL; i Err Id : UDINT; i No Of Axes : UDINT; i No Of Fifo Entries : UDINT; END_VAR Name Type Description b Busy BOOL Becomes TRUE with a rising edge at b Execute, and remains TRUE until the block has executed the command. b Err BOOL Becomes TRUE if an error occurs while executing the command. i Err Id UDINT Error number (ADS or NC error number) i No Of Axes UDINT Number of axes for which the FIFO channel has been parameterised. i No Of Fifo Entries UDINT Number of FIFO entries for which the FIFO channel has been parameterised. Requirements Development environment Target platform PLC libraries to be linked Twin CAT V3.1.0 PC or CX (x86 or x64) Tc2_Nc Fifo Axes TF5060 Version: 1.4.0 9
## Page 10

PLC Library 3.2 Fi Fo Group Integrate Fi Fo Group Integrate i Channel Id UDINT BOOL b Busy i Axis Id UDINT BOOL b Err i Group Position UDINT UDINT i Err Id b Execute BOOL t Timeout TIME The function block Fi Fo Group Integrate integrates an initially independent PTP axis into a FIFO channel. i Group Position specifies the logical sequence, and indicates the position within the channel at which the axis is to be inserted. Inputs VAR_INPUT i Channel Id : UDINT; i Axis Id : UDINT; (* [1..n] *) i Group Position : UDINT; (* [1..m] *) b Execute : BOOL; t Timeout : TIME; END_VAR Name Type Description i Channel Id UDINT Channel ID of the FIFO channel i Axis Id UDINT Axis ID of an axis that is to be inserted into the FIFO channel i Group Position UDINT Position of the axis within the FIFO channel (i Group Position>=1) b Execute BOOL Edge-triggered signal for execution of the command t Timeout TIME ADS timeout (about 1 second) Outputs VAR_OUTPUT b Busy : BOOL; b Err : BOOL; i Err Id : UDINT; END_VAR Name Type Description b Busy BOOL Becomes TRUE with a rising edge at b Execute, and remains TRUE until the block has executed the command. b Err BOOL Becomes TRUE if an error occurs while executing the command i Err Id UDINT Error number (ADS or NC error number) Requirements Development environment Target platform PLC libraries to be linked Twin CAT V3.1.0 PC or CX (x86 or x64) Tc2_Nc Fifo Axes 3.3 Fi Fo Group Disintegrate Fi Fo Group Disintegrate i Channel Id UDINT BOOL b Busy b Execute BOOL BOOL b Err t Timeout TIME UDINT i Err Id 10 Version: 1.4.0 TF5060
## Page 11

PLC Library The function block Fi Fo Group Disintegrate dismantles a FIFO channel. This means that all the axes are removed from the FIFO channel and are placed in the standard PTP channel as independent PTP axes. Inputs VAR_INPUT i Channel Id : UDINT; b Execute : BOOL; t Timeout : TIME; END_VAR Name Type Description i Channel Id UDINT Channel ID of the FIFO channel b Execute BOOL Edge-triggered signal for execution of the command t Timeout TIME ADS timeout (about 1 second) Outputs VAR_OUTPUT b Busy : BOOL; b Err : BOOL; i Err Id : UDINT; END_VAR Name Type Description b Busy BOOL Becomes TRUE with a rising edge at b Execute, and remains TRUE until the block has executed the command. b Err BOOL Becomes TRUE if an error occurs while executing the command i Err Id UDINT Error number (ADS or NC error number) Requirements Development environment Target platform PLC libraries to be linked Twin CAT V3.1.0 PC or CX (x86 or x64) Tc2_Nc Fifo Axes 3.4 Fi Fo Write Fi Fo Write i Channel Id UDINT BOOL b Busy Adr Data Array Pointer To LREAL BOOL b Err i Col Dim UDINT UDINT i Err Id i Rows To Write UDINT b Execute BOOL t Timeout TIME The function block Fi Fo Write reads position data for i Col Dim FIFO channel axes from Adr Data Array and transfers i Rows To Write entries to the FIFO. Inputs VAR_INPUT i Channel Id : UDINT; Adr Data Array : POINTER TO LREAL; (* PLC: ARRAY[ ROWS, COLUMNS ] OF LREAL *) i Col Dim : UDINT; (* second array dimension (COLUMNS) *) i Rows To Write : UDINT; (* number of rows to write <= Row Dim *) b Execute : BOOL; t Timeout : TIME; END_VAR TF5060 Version: 1.4.0 11
## Page 12

PLC Library Name Type Description i Channel Id UDINT Channel ID of the FIFO channel Adr Data Array POINTER TO LREAL The address of a data field containing position data for the master and slave axes. The first of the field's dimensions describes the table lines, and the second dimension describes the columns. i Col Dim UDINT Number of columns in the data field. This value must correspond to the actual size of the second field dimension. i Rows To Write UDINT Number of table lines. This value may be less than or equal to the size of the first field dimension. b Execute BOOL Edge-triggered signal for execution of the command t Timeout TIME ADS timeout (about 1 second) Outputs VAR_OUTPUT b Busy : BOOL; b Err : BOOL; i Err Id : UDINT; END_VAR Name Type Description b Busy BOOL Becomes TRUE with a rising edge at b Execute, and remains TRUE until the block has executed the command. b Err BOOL Becomes TRUE if an error occurs while executing the command i Err Id UDINT Error number (ADS or NC error number) Requirements Development environment Target platform PLC libraries to be linked Twin CAT V3.1.0 PC or CX (x86 or x64) Tc2_Nc Fifo Axes 3.5 Fi Fo Overwrite Fi Fo Overwrite i Channel Id UDINT BOOL b Busy Adr Data Array Pointer To LREAL BOOL b Err i Col Dim UDINT UDINT i Err Id i Rows To Write UDINT b Execute BOOL t Timeout TIME The function block Fi Fo Overwrite reads position data for i Col Dim FIFO channel axes from Adr Data Array and transfers i Rows To Write entries to the FIFO. Existing FIFO data will be overwritten. Inputs VAR_INPUT i Channel Id : UDINT; Adr Data Array : POINTER TO LREAL; (* PLC: ARRAY[ ROWS, COLUMNS ] OF LREAL *) i Col Dim : UDINT; (* second array dimension (COLUMNS) *) i Rows To Write : UDINT; (* number of rows to write <= Row Dim *) b Execute : BOOL; t Timeout : TIME; END_VAR 12 Version: 1.4.0 TF5060
## Page 13

PLC Library Name Type Description i Channel Id UDINT Channel ID of the FIFO channel Adr Data Array POINTER TO LREAL The address of a data field containing position data for the master and slave axes. The first of the field's dimensions describes the table lines, and the second dimension describes the columns. i Col Dim UDINT Number of columns in the data field. This value must correspond to the actual size of the second field dimension. i Rows To Write UDINT Number of table lines. This value may be less than or equal to the size of the first field dimension. b Execute BOOL Edge-triggered signal for execution of the command t Timeout TIME ADS timeout (about 1 second) Outputs VAR_OUTPUT b Busy : BOOL; b Err : BOOL; i Err Id : UDINT; END_VAR Name Type Description b Busy BOOL Becomes TRUE with a rising edge at b Execute, and remains TRUE until the block has executed the command. b Err BOOL Becomes TRUE if an error occurs while executing the command i Err Id UDINT Error number (ADS or NC error number) Requirements Development environment Target platform PLC libraries to be linked Twin CAT V3.1.0 PC or CX (x86 or x64) Tc2_Nc Fifo Axes 3.6 Fi Fo Start Fi Fo Start i Channel Id UDINT BOOL b Busy b Execute BOOL BOOL b Err t Timeout TIME UDINT i Err Id The function block Fi Fo Start initiates processing of the FIFO channel, so that all the axes in the FIFO channel are driven in accordance with the position data previously provided to the FIFO. Inputs VAR_INPUT i Channel Id : UDINT; b Execute : BOOL; t Timeout : TIME; END_VAR Name Type Description i Channel Id UDINT Channel ID of the FIFO channel b Execute BOOL Edge-triggered signal for execution of the command TF5060 Version: 1.4.0 13
## Page 14

PLC Library Name Type Description t Timeout TIME ADS timeout (about 1 second) Outputs VAR_OUTPUT b Busy : BOOL; b Err : BOOL; i Err Id : UDINT; END_VAR Name Type Description b Busy BOOL Becomes TRUE with a rising edge at b Execute, and remains TRUE until the block has executed the command. b Err BOOL Becomes TRUE if an error occurs while executing the command i Err Id UDINT Error number (ADS or NC error number) Requirements Development environment Target platform PLC libraries to be linked Twin CAT V3.1.0 PC or CX (x86 or x64) Tc2_Nc Fifo Axes 3.7 Fi Fo Stop Fi Fo Stop i Channel Id UDINT BOOL b Busy b Execute BOOL BOOL b Err t Timeout TIME UDINT i Err Id The function block Fi Fo Stop halts a FIFO channel. Processing of the position data from the FIFO stops, and all the axes in the FIFO channel are halted. Inputs VAR_INPUT i Channel Id : UDINT; b Execute : BOOL; t Timeout : TIME; END_VAR Name Type Description i Channel Id UDINT Channel ID of the FIFO channel b Execute BOOL Edge-triggered signal for execution of the command t Timeout TIME ADS timeout (about 1 second) Outputs VAR_OUTPUT b Busy : BOOL; b Err : BOOL; i Err Id : UDINT; END_VAR Name Type Description b Busy BOOL Becomes TRUE with a rising edge at b Execute, and remains TRUE until the block has executed the command. 14 Version: 1.4.0 TF5060
## Page 15

PLC Library Name Type Description b Err BOOL Becomes TRUE if an error occurs while executing the command i Err Id UDINT Error number (ADS or NC error number) Requirements Development environment Target platform PLC libraries to be linked Twin CAT V3.1.0 PC or CX (x86 or x64) Tc2_Nc Fifo Axes 3.8 Fi Fo Set Channel Override Fi Fo Set Channel Override i Channel Id UDINT BOOL b Busy i Override UDINT BOOL b Err b Execute BOOL UDINT i Err Id t Timeout TIME The function block Fi Fo Set Channel Override sets the channel override by means of which the processing speed of the FIFO channel can be affected. The channel override should not be confused with the axis overrides for the individual axes. Inputs VAR_INPUT i Channel Id : UDINT; i Override : UDINT; b Execute : BOOL; t Timeout : TIME; END_VAR Name Type Description i Channel Id UDINT Channel ID of the FIFO channel i Override UDINT Channel override for the speed of the FIFO channel. b Execute BOOL Edge-triggered signal for execution of the command t Timeout TIME ADS timeout (about 1 second) Outputs VAR_OUTPUT b Busy : BOOL; b Err : BOOL; i Err Id : UDINT; END_VAR Name Type Description b Busy BOOL Becomes TRUE with a rising edge at b Execute, and remains TRUE until the block has executed the command. b Err BOOL Becomes TRUE if an error occurs while executing the command i Err Id UDINT Error number (ADS or NC error number) Requirements Development environment Target platform PLC libraries to be linked Twin CAT V3.1.0 PC or CX (x86 or x64) Tc2_Nc Fifo Axes TF5060 Version: 1.4.0 15
## Page 16

Appendix 4 Appendix 4.1 Samples Use of FIFO Axes This example shows the basic use of the FIFO axis functionality under Twin CAT 3. Among other things, the project contains a file "Read Me.txt", which explains to which locations some files have to be copied. Download: https://infosys.beckhoff.com/content/1033/tf5060_tc3_nc_fifo_axes/Resources/13632521867.zip 16 Version: 1.4.0 TF5060
## Page 17

Trademark statements Beckhoff®, ATRO® , Ether CAT®, Ether CAT G®, Ether CAT G10®, Ether CAT P®, MX-System®, Safety over Ether CAT®, TC/BSD®, Twin CAT®, Twin CAT/BSD®, Twin SAFE®, XFC®, XPlanar® and XTS® are registered and licensed trademarks of Beckhoff Automation Gmb H.
## Page 18

More Information: www.beckhoff.com/tf5060 Beckhoff Automation Gmb H & Co. KG Hülshorstweg 20 33415 Verl Germany Phone: +49 5246 9630 info@beckhoff.com www.beckhoff.com
