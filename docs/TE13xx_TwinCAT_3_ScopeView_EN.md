---
title: "TE13xx Twin CAT 3"
product: "TE13xx"
category: "Engineering_Tools"
tags: ["CAT", "TWIN"]
language: "EN"
document_type: "Manual"
version: "1.20.2"
source_pdf: "https://download.beckhoff.com/download/Document/automation/twincat3/TE13xx_TwinCAT_3_ScopeView_EN.pdf"
release_date: "2025-10-22"
---
Manual | EN TE13xx Twin CAT 3 | Scope View 2025-10-22 | Version: 1.20.2

## Page 3

Table of contents Table of contents 1 Foreword.................................................................................................................................................... 5 1.1 Notes on the documentation............................................................................................................. 5 1.2 For your safety.................................................................................................................................. 5 1.3 Notes on information security............................................................................................................ 7 2 Overview.................................................................................................................................................... 8 3 Installation............................................................................................................................................... 13 3.1 System requirements...................................................................................................................... 13 3.2 Downloading the setup file.............................................................................................................. 13 3.3 Installation....................................................................................................................................... 13 3.4 After the Installation........................................................................................................................ 16 3.5 Licensing......................................................................................................................................... 16 4 Technical introduction............................................................................................................................ 19 4.1 Basic concept.................................................................................................................................. 19 5 Configuration........................................................................................................................................... 20 5.1 Architecture..................................................................................................................................... 20 5.1.1 Scope nodes.................................................................................................................... 22 5.1.2 Data pool.......................................................................................................................... 29 5.1.3 Charts and channels........................................................................................................ 47 5.1.4 Trigger............................................................................................................................ 107 5.1.5 Markers.......................................................................................................................... 147 5.1.6 Dynamic Style................................................................................................................ 157 5.1.7 Shapes........................................................................................................................... 161 5.1.8 Twin CAT Target Browser............................................................................................... 166 5.2 Special features............................................................................................................................ 177 5.2.1 Communication.............................................................................................................. 177 5.2.2 Headless mode.............................................................................................................. 183 5.2.3 Vision integration............................................................................................................ 187 5.2.4 Physical units................................................................................................................. 191 5.2.5 Layer Charts................................................................................................................... 211 5.2.6 Curve Creator................................................................................................................. 224 5.2.7 Comment function.......................................................................................................... 233 5.2.8 Reporting........................................................................................................................ 247 5.3 Loading, saving and exporting...................................................................................................... 277 5.3.1 Configurations................................................................................................................ 277 5.3.2 Data................................................................................................................................ 288 5.4 Menus and options........................................................................................................................ 307 5.4.1 Menu commands............................................................................................................ 307 5.4.2 Toolbar commands........................................................................................................ 309 5.4.3 Options........................................................................................................................... 311 5.5 Scope Diagnostics........................................................................................................................ 313 5.5.1 Debug messages........................................................................................................... 313 5.5.2 Scope Statistics tool....................................................................................................... 314 5.5.3 Support Information Report............................................................................................ 319 TE13xx Version: 1.20.2 3

## Page 4

Table of contents 6 . NET API................................................................................................................................................. 322 6.1 Comparison of integration in the two Scope versions................................................................... 322 6.2 Scope Control Integration............................................................................................................. 324 6.2.1 Redist folder................................................................................................................... 325 6.2.2 Sample YT chart............................................................................................................ 326 6.2.3 Sample XY chart............................................................................................................ 331 6.2.4 Sample Array Bar Chart................................................................................................. 337 6.2.5 Sample Single Bar Chart................................................................................................ 344 6.2.6 Sample Digital Chart...................................................................................................... 350 6.2.7 Sample Scope Export.................................................................................................... 356 6.2.8 Sample Array Marker..................................................................................................... 357 6.2.9 Sample Chart Snipping Tool.......................................................................................... 363 6.2.10 Sample XYZ-Chart......................................................................................................... 363 6.3 API Documentation....................................................................................................................... 369 6.4 Integration in a WPF (Windows Presentation Foundation) project............................................... 370 7 Samples................................................................................................................................................. 372 7.1 Creating and editing a Scope project............................................................................................ 372 8 Appendix................................................................................................................................................ 389 8.1 How To.......................................................................................................................................... 389 8.1.1 Changing common settings at the same time................................................................ 389 8.1.2 Oversampling recordings with the Twin CAT 3 Scope.................................................... 391 8.1.3 Opening .svd files from a network directory................................................................... 394 8.1.4 Using old configuration files........................................................................................... 396 8.2 FAQ............................................................................................................................................... 396 8.3 Third-party components................................................................................................................ 398 Glossary................................................................................................................................................. 399 9 Support and Service............................................................................................................................. 400 4 Version: 1.20.2 TE13xx

## Page 5

Foreword 1 Foreword 1.1 Notes on the documentation This description is intended exclusively for trained specialists in control and automation technology who are familiar with the applicable national standards. The documentation and the following notes and explanations must be complied with when installing and commissioning the components. The trained specialists must always use the current valid documentation. The trained specialists must ensure that the application and use of the products described is in line with all safety requirements, including all relevant laws, regulations, guidelines, and standards. Disclaimer The documentation has been compiled with care. The products described are, however, constantly under development. We reserve the right to revise and change the documentation at any time and without notice. Claims to modify products that have already been supplied may not be made on the basis of the data, diagrams, and descriptions in this documentation. Trademarks Beckhoff®, ATRO® , Ether CAT®, Ether CAT G®, Ether CAT G10®, Ether CAT P®, MX-System®, Safety over Ether CAT®, TC/BSD®, Twin CAT®, Twin CAT/BSD®, Twin SAFE®, XFC®, XPlanar®, and XTS® are registered and licensed trademarks of Beckhoff Automation Gmb H. If third parties make use of the designations or trademarks contained in this publication for their own purposes, this could infringe upon the rights of the owners of the said designations. Ether CAT® is a registered trademark and patented technology, licensed by Beckhoff Automation Gmb H, Germany. Copyright © Beckhoff Automation Gmb H & Co. KG, Germany. The distribution and reproduction of this document, as well as the use and communication of its contents without express authorization, are prohibited. Offenders will be held liable for the payment of damages. All rights reserved in the event that a patent, utility model, or design are registered. Third-party trademarks Trademarks of third parties may be used in this documentation. You can find the trademark notices here: https://www.beckhoff.com/trademarks. 1.2 For your safety Safety regulations Read the following explanations for your safety. Always observe and follow product-specific safety instructions, which you may find at the appropriate places in this document. Exclusion of liability All the components are supplied in particular hardware and software configurations which are appropriate for the application. Modifications to hardware or software configurations other than those described in the documentation are not permitted, and nullify the liability of Beckhoff Automation Gmb H & Co. KG. TE13xx Version: 1.20.2 5

## Page 6

Foreword Personnel qualification This description is only intended for trained specialists in control, automation, and drive technology who are familiar with the applicable national standards. Signal words The signal words used in the documentation are classified below. In order to prevent injury and damage to persons and property, read and follow the safety and warning notices. Personal injury warnings DANGER Hazard with high risk of death or serious injury. WARNING Hazard with medium risk of death or serious injury. CAUTION There is a low-risk hazard that could result in medium or minor injury. Warning of damage to property or environment NOTICE The environment, equipment, or data may be damaged. Information on handling the product This information includes, for example: recommendations for action, assistance or further information on the product. 6 Version: 1.20.2 TE13xx

## Page 7

Foreword 1.3 Notes on information security The products of Beckhoff Automation Gmb H & Co. KG (Beckhoff), insofar as they can be accessed online, are equipped with security functions that support the secure operation of plants, systems, machines and networks. Despite the security functions, the creation, implementation and constant updating of a holistic security concept for the operation are necessary to protect the respective plant, system, machine and networks against cyber threats. The products sold by Beckhoff are only part of the overall security concept. The customer is responsible for preventing unauthorized access by third parties to its equipment, systems, machines and networks. The latter should be connected to the corporate network or the Internet only if appropriate protective measures have been set up. In addition, the recommendations from Beckhoff regarding appropriate protective measures should be observed. Further information regarding information security and industrial security can be found in our https://www.beckhoff.com/secguide. Beckhoff products and solutions undergo continuous further development. This also applies to security functions. In light of this continuous further development, Beckhoff expressly recommends that the products are kept up to date at all times and that updates are installed for the products once they have been made available. Using outdated or unsupported product versions can increase the risk of cyber threats. To stay informed about information security for Beckhoff products, subscribe to the RSS feed at https:// www.beckhoff.com/secinfo. TE13xx Version: 1.20.2 7

## Page 8

Overview 2 Overview Twin CAT 3 Scope is the charting and analysis tool for Twin CAT. Variables in Twin CAT can be recorded and displayed graphically. Sampling rates can be adjusted individually for each channel. Recordings in the µs range and long-term recordings over several days are equally possible. Due to division into a Scope View with multi-core support for the display of the signals and a Scope Server for the recording of the values, it is possible it to connect to servers distributed in the field from a central View. A tool is thus available not only for machine commissioning, but also for process monitoring. The Twin CAT 3 Scope functionality includes cursor tools and trigger functions. Twin CAT 3 Scope also sets new standards for Engineering. Like Twin CAT 3 itself, it is integrated in Microsoft Visual Studio. It is thus possible to use Twin CAT 3 projects and Scope projects in parallel in a single solution. Variables can be shifted very simply from the Twin CAT 3 project to a Scope configuration. Of course the Scope can also still be used as a standalone tool in the framework of the Twin CAT XAE Shell. Due to the constantly increasing range of functions required of data analysis tools, the Twin CAT 3 Scope is subdivided into product levels with different ranges of features. The Twin CAT 3 Scope Base contains a license-free View and a license-free Server. Both are installed together with Twin CAT 3 XAE. Product note The Twin CAT 3 Scope software consists of two products: • Twin CAT 3 Scope View is a Twin CAT 3 engineering product and supplies the graphic interface for the configuration of recordings and the display of signal curves. The View is available in different product levels and is licensed for the device on which it is displayed. This document contains the technical product description. • Twin CAT 3 Scope Server is a Twin CAT 3 function and provides the software for data logging. The server sends the recorded data to the View. The software is installed on distributed devices or on the local target device. The server license is issued for the device on which the server runs. In most cases the Base version, which is installed together with Twin CAT XAE or the Scope View, is sufficient. The server license is only required if it is used independently, i.e. without View, e.g. for control via a PLC function block. The Twin CAT 3 Scope server is documented separately as part of the Twin CAT 3 functions. Both components must be available in the system in order to be able to use the Scope. Principle of operation The principle of operation of the two main components View and Server is explained in detail in the Basic Concept [} 19] in the Technical Introduction. Product level / feature list The following table shows which functionalities are available with which Twin CAT Scope level and the corresponding licensing arrangement. 8 Version: 1.20.2 TE13xx

## Page 9

Overview Features Scope Base Scope Server Scope View Professional Full Licence Server View Server View Full 7 days trial Full 7 days trial version version General: Free of charge Local record Remote Record using Target Server Remote Record using Local Server Scope Control - - - Integration Long Time - - - Records > 1h Ring Buffer Auto Save - - - Auto Export - - - Restart Record - - - View Multicore - - - Support Communication: ADS OPC UA (3 (3 Nodes) Nodes) Base: Configuration - - - Wizard Target Browser - - - Filter Individual - - - Sample Rate Drag and Drop - - - for Configuration Docking - - - Windows YT Time based - - - Charts XY Charts - - - Array Bar - - - Charts TE13xx Version: 1.20.2 9

## Page 10

Overview Features Scope Base Scope Server Scope View Professional Full Licence Overview Chart - - - Stacked Y-Axes - - - Logarithmic Y- - - - Axes Chart - - - synchronisation Master Chart - - - synchronisation Channel Marks - - - Channel Offset - - - Channel Scaling - - - Panning - - - Zoom - - - Cursor - - - Fillmode - - - Print Report - - - Data export - - - wizard Export tool Extended data - - - export formats Attach/Detach Client to/from recording server Autostart - - - Record after Serverstart Curve Creator Curve Creator - - - Transformatione n Layer - - - (max 1) Data Scout - - - Data Scout Toolbar snipping buttons Trigger: Event Marker - - - 10 Version: 1.20.2 TE13xx

## Page 11

Overview Features Scope Base Scope Server Scope View Professional Full Licence Start Record - - - Stop Record - - - Stop Display - - - Restart Display - - - Start Subsave - - - Stop Subsave - - - Reporting - - - Trigger Reporting - - - Collector Reporting - - - Collector + Trigger Units: Unit Property - - - Unit Wizard - - - Unit Dictionary - - - Editor Unit generation - - - by Terminal selection Parse Units - - - from PLC Code Units in Target - - - Browser Units in Tooltips - - - Units in Cursor - - - Window Vision Integration: Vision - Acquisitions (max 1) Vision picture export Reporting Integration: 24/7-Reporting - - - with Trigger Groups Include - - comments (max 1) (max 1) TE13xx Version: 1.20.2 11

## Page 12

Overview Features Scope Base Scope Server Scope View Professional Full Licence On-Demand- Reporting Adding - - - Additional (max 1) (max 1) Information Select specific - - - Scope Information Select specific - - - charts Comments: Create coments - - - for elements Create - - - comments for data points Edit comments - - - in comment window Templates for - - - comments Auto generated - - - comments for trigger 12 Version: 1.20.2 TE13xx

## Page 13

Installation 3 Installation 3.1 System requirements The following system requirements must be fulfilled for proper functioning of the Twin CAT 3 Scope View. Supported operating systems Windows 10 Twin CAT Minimum is Twin CAT 3 ADS. . NET Framework . NET Framework 4.7.2 is required. The Twin CAT 3 Scope Base is installed together with Twin CAT 3 XAE. The further product levels and features are enabled by licensing. If you use a newer Scope version outside a Twin CAT 3 XAE update, or if you want to install the Scope in stand-alone mode on a PC without Twin CAT 3 Engineering, you can download the corresponding setup file from the internet. Scope View can be licensed as a full version or as a 7-day test version. For limitations of the test version, please refer to the product overview page. 3.2 Downloading the setup file The Twin CAT Measurement Setup is available as a download from the Beckhoff website. This is the latest version of various measurement products such as Scope View, Scope Server, Bode Plot, Filter Designer etc.. The range of functions, which is sometimes very varied, can only be activated via the licenses. Follow these steps to download the setup file: 1. Open the web browser of your choice and go to the Beckhoff website: www.beckhoff.com. 2. In the structure tree of the web page, go to the Automation node and select the relevant product. For example: > Twin CAT 3 > TE1xxx | TC3 Engineering > TE13xx | TC3 Scope View Professional. 3. Click on the download link to place the software in the shopping cart. Then click on Start download. 4. (Optional) Transfer the downloaded file to the Twin CAT runtime system you want to install the product on. 3.3 Installation Setup installation (Twin CAT 3.1 Build 4024) The following section describes how to install the Twin CAT 3 function for Windows-based operating systems. ü The Twin CAT 3 function setup file was downloaded from the Beckhoff website. 1. Run the setup file as administrator. To do this, select the Run As Admin command in the context menu of the file. ð The installation dialog opens. TE13xx Version: 1.20.2 13

## Page 14

Installation 2. Accept the end user licensing agreement and click Next. 3. Enter your user data. 14 Version: 1.20.2 TE13xx

## Page 15

Installation 4. If you want to install the full version of the Twin CAT 3 function, select Complete as the installation type. If you want to install the Twin CAT 3 function components separately, select Custom. 5. Click Next, then Install to start the installation. ð A dialog box informs you that the Twin CAT system must be stopped to proceed with the installation. TE13xx Version: 1.20.2 15

## Page 16

Installation 6. Confirm the dialog with Yes. 7. Click Finish to exit the setup. ð The Twin CAT 3 function has been installed successfully. 3.4 After the Installation The next step after successful installation is licensing of the products “TE130x Scope View” and/or “TF3300 Scope Server”. By default the product level “Base” is active, which is available without a license. The advanced functionality can be enabled through corresponding licensing, e.g. for the product level “Professional”. Further steps then are: • First steps with Twin CAT 3 Scope [} 372] • Detailed documentation of the individual functions [} 20] • The integration of Twin CAT 3 Scope View Control into your own . NET-based visualization 3.5 Licensing The Twin CAT 3 function can be activated as a full version or as a 7-day test version. Both license types can be activated via the Twin CAT 3 development environment (XAE). 16 Version: 1.20.2 TE13xx

## Page 17

Installation Licensing the full version of a Twin CAT 3 Function A description of the procedure to license a full version can be found in the Beckhoff Information System in the documentation "Twin CAT 3 Licensing". Licensing the 7-day test version of a Twin CAT 3 Function A 7-day test version cannot be enabled for a Twin CAT 3 license dongle. 1. Start the Twin CAT 3 development environment (XAE). 2. Open an existing Twin CAT 3 project or create a new project. 3. If you want to activate the license for a remote device, set the desired target system. To do this, select the target system from the Choose Target System drop-down list in the toolbar. ð The licensing settings always refer to the selected target system. When the project is activated on the target system, the corresponding Twin CAT 3 licenses are automatically copied to this system. 4. In the Solution Explorer, double-click License in the SYSTEM subtree. ð The Twin CAT 3 license manager opens. 5. Open the Manage Licenses tab. In the Add License column, check the check box for the license you want to add to your project (e.g. "TF4100 TC3 Controller Toolbox"). 6. Open the Order Information (Runtime) tab. ð In the tabular overview of licenses, the previously selected license is displayed with the status “missing”. TE13xx Version: 1.20.2 17

## Page 18

Installation 7. Click 7-Day Trial License... to activate the 7-day trial license. ð A dialog box opens, prompting you to enter the security code displayed in the dialog. 8. Enter the code exactly as it is displayed and confirm the entry. 9. Confirm the subsequent dialog, which indicates the successful activation. ð In the tabular overview of licenses, the license status now indicates the expiry date of the license. 10. Restart the Twin CAT system. ð The 7-day trial version is enabled. 18 Version: 1.20.2 TE13xx

## Page 19

Technical introduction 4 Technical introduction 4.1 Basic concept Twin CAT Scope is divided into two main components: Scope View and Scope Server. The Scope Server handles the actual data collection. It can connect to control systems via ADS, OPC UA or MQTT live and record data. In addition, historized data from your own svdx files, from binary files of the Analytics Logger, as well as from the Analytics Storage Provider via MQTT can be read via the server. The configuration necessary for this is done in the Scope View. Apart from the configuration, the recorded data are also graphically displayed there in various types of chart. The Scope View normally runs on the engineering systems of the service or commissioning engineers or on machine computers intended to prepare recorded data graphically for the machine personnel. It is therefore intended for commissioning and also for the continuous monitoring of machines and systems. An ADS connection is necessary in order to be able to start a recording with a Scope View on a Remote Scope Server. A disconnection is also possible from version 3.3.3140.0. This means that the configuration is downloaded to the server and continues to run autonomously there. Alternatively the remote server can be controlled by a PLC function block. If no Scope Server is installed on the control system, the Scope Server on the device with the Scope View –the so-called local server –can also be used. For this there must be a constant connection to the remote device during the recording. Apart from many properties in the Scope View for the graphic display and analysis of the data streams, the Scope also offers the option of triggered, i.e. event-based operation. Furthermore it is possible to export the recorded data in various file formats to external tools for further processing. TE13xx Version: 1.20.2 19

## Page 20

Configuration 5 Configuration 5.1 Architecture Not only are signal curves represented in the Twin CAT 3 Scope View; recording configurations are also created. For the creation of these configurations it is important to be familiar with the architecture of the Twin CAT 3 Scope View. This is reflected in the tree structure of the measurement project in the Solution Explorer. By right-clicking on the tree node, context menus can be opened with which various Scope functions can be called up, such as opening a window or adding elements below the selected node. 20 Version: 1.20.2 TE13xx

## Page 21

Configuration Main level, at which several Scopes can be added. The Scopes within a project can be controlled independently of one another. Measureme nt Scope Project A Scope always stands for a recording configuration. This means that all elements inserted below it are subject to the same recording settings. If a Scope is selected, the setting options Standard such as recording time and ring buffer are displayed in the Visual Studio Properties window. Scope Project See also: Scope node [} 22] All raw acquisitions whose data are to be recorded are located in the Data Pool. Whether they are displayed in the View as graphs depends on the configuration of the charts. A distinction is Data Pool made between raw acquisitions and interpreted acquisitions Several YT charts can exist in parallel in a Scope. They are the actual display area in the view YT and provide the time base. Each chart has its own toolbar for changing the display. The color Chart and axis settings can be made in the Properties window. Clicking on the signal curve in the chart highlights the respective channel in the Solution Explorer. See also: YT chart properties [} 47] A chart (YT, XY, array or single bar) can have several axes. An axis provides Axis the value range for the connected channels. Amongst others, the automatic or free scaling can be set in the Properties window. See also: YT axis properties [} 51] A channel represents the style characteristics of a selected variable. In the Channel Properties window the color, marks and other parameters can be set. Double- clicking on the channel highlights the respective signal in the chart. The acquisition contains information on the actually selected variables. Acquisition Markers are hierarchically assigned to the charts. X and Y markers can be Marker added within a chart. Amongst other things, the current values of the signal/ marker intersection and differences to the other markers are displayed in the Marker Tool window. Any desired number of X and Y markers can be set. See also: Marker [} 147] With the help of Dynamic Styles [} 157], the style properties such as graph Dynamic thickness or graph color can be changed at runtime based on the states of the Style same or other acquisitions. Several XY charts can exist in parallel in a Scope. They represent the actual display area in XY the view. Each chart has its own toolbar for changing the display. The color and scaling Chart settings can be made in the Properties window. Clicking on the signal curve in the chart highlights the respective channel in the Solution Explorer. See also: XY chart properties [} 59] Shapes [} 161] are geometric figures that can be placed in the charts. The Shapes figures can be individualized accordingly through the specification of coordinates. An array bar chart can connect to an array in the controller and display each array element as Array a bar. Several array bar charts can exist in parallel in a Scope. The settings for the chart can Bar Chart be made in the Properties window. The bar chart displays a single variable as a bar diagram. The settings [} 79] for this chart Single type can be made in the Property window. Bar Chart The Digital Chart displays one value per channel. In the Digital Chart the values are shown in Digital a numerical display and axis groups can be used to group the channels. Chart See also: Digital Chart properties [} 88] Triggers are assigned to the Scopes in the tree structure of the Scope View. The trigger action, Trigger e.g. a Stop Record, can be set in the Properties window of the Trigger Group. The lower-level triggers can be logically linked to form a trigger condition. The variable selection also takes place here in the Properties window. See also: Trigger properties [} 107] TE13xx Version: 1.20.2 21

## Page 22

Configuration The interfaces for the control of the Scope View are divided into several individual windows (Tool windows) and their position and size are freely configurable. Solution Explorer Display of the project structure within a solution. See also: Architecture [} 20] Markers Display of the values present at the X/Y-marker. See also: Markers [} 147] Target Browser Channels can be added to a Scope configuration via their symbol names using the Target Browser. See also: Target Browser [} 166] Properties The settings of the element marked in the Solution Explorer are displayed in the Properties and can be edited. See also: Scope nodes [} 22] Error list List of errors, warnings and messages. Each scope project lists the generated messages independently here. The messages for the respectively selected Scope can be deleted via the context menu command Clear Error List. Scope View Control Display of the individual charts. The charts can be displayed next to each other or in overlapping tabs within the control, exactly like all other windows. 5.1.1 Scope nodes The Scope node in the Solution Explorer is a type of administration shell for the Scope configuration. Several Scope nodes can be created in a measurement project. A Scope contains the charts, axes and channels of a configuration. With selected Scope nodes the higher-level properties are displayed in the Property window. These fulfill the following functions. 22 Version: 1.20.2 TE13xx

## Page 23

Configuration TE13xx Version: 1.20.2 23

## Page 24

Configuration Auto Save Auto Save Path Here you can select the path for saving the recording via the file browser. Filename Mask Affects the filename of the recording to be saved. In this way it is possible to realize continuous timestamps, for example. Use Auto Save Turns on automatic saving for a stopped recording. Auto delete mode Here you can set the mode in which the Auto Delete function should run. If set to "Disabled", no files will be deleted. "Capacity“ deletes the oldest file in the folder if more than the number of files specified in "Delete more than" has been saved. If set to "Older Than", all files older than the time specified in "Delete older than" will be deleted. The option "Capacity Or Older Than" is a combination of "Capacity" and "Older Than". That is, files are deleted when the conditions for either option are met. Auto Save Mode After a recording is stopped: None – no data is stored automatically. SVDX – the data is automatically stored in a .svdx file. Export – the data is exported. The export configuration can be customized. Configuration With this option, the configuration of the export can be set via the wizard [} 290]. Delete more than This option defines when and with how many created files the oldest is to be deleted. The option is only active as long as "Capacity" or "Capacity Or Older Than" is selected in "Auto Delete". Delete older than This option defines the number of seconds after which a file is to be deleted with Auto Delete. This option is only active as long as "Older Than" or "Capacity Or Older Than" is selected in "Auto Delete". Image Delete Mode Here you can set in which mode the Auto Delete function for the image data should run. If set to "Disabled", no files will be deleted. "Capacity“ deletes the oldest file in the folder if more than the number of files specified in "Delete more than" has been saved. If set to "Older Than", all files older than the time specified in "Delete older than" will be deleted. The option "Capacity Or Older Than" is a combination of "Capacity" and "Older Than". That is, files are deleted when the conditions for either option are met. With the "Like Data" setting, the settings are taken from the data. Delete Images older This option defines the number of seconds after which a file is to be deleted with than Auto Delete. This option is only active as long as "Older Than" or "Capacity Or Older Than" is selected in "Auto Delete". Delete Images more This option defines when and with how many created files the oldest is to be than deleted. The option is only active as long as "Capacity" or "Capacity Or Older Than" is selected in "Auto Delete". Common Comment A free comment can be stored here. File Name Filename of the current Scope instance. File Path Directory in which the Scope instance was saved. Graphics Shows the currently used graphic. A distinction is made between GDI+ and Direct X. View Detail Level Here you can set the level of detail for showing or hiding various options. For a better overview, the Extended level is particularly recommended for XY plots. The option is therefore only available for XY plots at present. The options “Default” and “Extended” are available for all chart types. 24 Version: 1.20.2 TE13xx

## Page 25

Configuration Record Restart Record Here you can restart a stopped recording. Ring buffer Here you can specify how the server should respond, once the recording time has been reached. • If the option is disabled, the recording is stopped when the recording time is reached. The recording can be terminated prematurely via the stop button. • If the option is enabled the recording is not stopped, but the oldest data in the memory is overwritten. This increases the start time of the recording. The recording can be stopped by pressing the stop button. Start Record Here you can set whether the recording should be started via the recording button (User Start) or when a trigger event occurs (Trigger Start). Record Mode File Store Here you can specify whether the server should buffer the data in a local file (True) or only in the RAM (False). The choice depends on the quantity of data to be recorded and the recording equipment. The access time is faster, if only the RAM is used. For larger data quantities it is usually necessary to activate the “File Store” option. Record Time Here you can specify the total recording time. It is entered in the format Days:Hours:Minutes:Seconds. Synchronization mode This option sends a command to the selected Twin CAT controllers to activate timestamp correction. This can be done in the familiar Soft, Medium and Hard levels from the Twin CAT configuration. This option only takes effect if the Twin CAT configuration of the selected controllers has also configured the respective mode. Subsequent configuration from the scope is not possible. Changing the settings of several Scopes at the same time To change the settings for several Scopes at the same time, please refer to the chapter Multiple selection [} 389]. Context menu The context menu entries for a Scope project differ depending on whether the project is a pure Scope configuration or whether it is a loaded SVDX. TE13xx Version: 1.20.2 25

## Page 26

Configuration Context menu of a pure Scope configuration The first two groups contain the functionalities for opening various Windows tools. These include firstly the Target Browser [} 166], the Comment Window, the Layer Editor [} 211], the Marker Window [} 108] and finally the Trigger Window [} 108]. In the following group, the existing configuration can be reconfigured with just a few clicks. "Reload in Wizard" This function can be used to open the Scope project in the Project Wizard [} 281] in order to reconfigure it there. However, this function is only available if only ADS acquisitions are available. "Change Ads Symbol..." If the symbol names have changed in several ADS acquisitions, parts of the name can be exchanged using this function. "Change Display Name" The "Change Display Name" function can be used to set the level of detail to be displayed for the names of the channels and acquisitions. "Change Target System" If the target system of all ADS acquisitions is to be changed, this can be done with this function by selecting the new target system in the submenu. "Change Index Group..." This function can be used to change the Index Group of all ADS variables. Either an offset can be calculated or a new value can be entered. 26 Version: 1.20.2 TE13xx

## Page 27

Configuration "Add Chart" The various chart types or images can be added to the project using the submenu. The following group offers various functions for interacting with the markers. "Create Marker Table" This function is used to create tables for all charts in the Marker window that are linked to the charts to display all chart information. "New Time Marker" Creates a new Time Marker and adds it to the selected element. "Create Report" Creates a report based on the project. [} 259] "Load Detached Configuration" This function can be used to load a detached project from a connected server [} 183]. "Add comment" To write additional information to the selected node, this function can be used to add a new comment, which is displayed in the comment window. "Add Template Comment" In this submenu, new templates can be created or selected in order to add them. Various standard functionalities can be found in the last two groups. "Send Information Report..." Open the Support Information Report [} 319] to send a message to the support team. "Scope Statistics" Open the Scope statistics [} 314]. The selected node can be copied ("Copy"), removed ("Remove"), renamed ("Rename") or inserted below it ("Paste"). The Visual Studio properties window can also be opened for further parameterization ("Properties"). TE13xx Version: 1.20.2 27

## Page 28

Configuration Context menu of an SVDX file The first two groups contain the functionalities for opening various Windows tools. These include firstly the Target Browser [} 166], the Comment Window, the Layer Editor [} 211], the Marker Window [} 108] and finally the Trigger Window [} 108]. In the following group, the existing configuration can be reconfigured with just a few clicks. "Change Display Name" The "Change Display Name" function can be used to set the level of detail to be displayed for the names of the channels and acquisitions. "Add Chart" The various chart types or images can be added to the project using the submenu. The following group offers various functions for interacting with the markers. "Create Marker Table" This function is used to create tables for all charts in the Marker window that are linked to the charts to display all chart information. "New Time Marker" Creates a new Time Marker and adds it to the selected element. "Extract Scope Configuration" Extracts the Scope configuration from the selected .svdx. "Create Report" Creates a report based on the project. [} 259] "Add comment" To write additional information to the selected node, this function can be used to add a new comment, which is displayed in the comment window. 28 Version: 1.20.2 TE13xx

## Page 29

Configuration "Add Template Comment" In this submenu, new templates can be created or selected in order to add them. Various standard functionalities can be found in the last two groups. "Send Information Report..." Open the Support Information Report [} 319] to send a message to the support team. "Scope Statistics" Open the Scope statistics [} 314]. The selected node can be copied ("Copy"), removed ("Remove"), renamed ("Rename") or inserted below it ("Paste"). The Visual Studio properties window can also be opened for further parameterization ("Properties"). 5.1.2 Data pool The data pool is a container for project acquisitions. All acquisitions created for the project are placed in the data pool. Acquisitions that are enabled at the start of a recording are recorded and can be referenced in the interpreter of a channel during both the configuration and the recording in order to display the data of the acquisition. There are two types of acquisition, the array bar acquisition, which is displayed with a green accent, and other acquisitions, which are displayed with a red accent. The array bar acquisitions can only be referenced in array bar channel interpreters and not in other channel interpreters or trigger set interpreters. Each project has a data pool that is automatically added during creation. In order to start a recording there may not be any acquisitions with the same configuration in the data pool. Since several interpreters may point to an acquisition, acquisitions with the same configuration are not necessary. Acquisition interpreters Acquisition interpreters can reference an acquisition of the data pool and forward the data after manipulation. The following settings can be made: Acquisition Acquisition Selection of the acquisition used from the data pool. TE13xx Version: 1.20.2 29

## Page 30

Configuration Modify Bitmask In this field a value can be entered with which the display value is masked, provided it is not of the type floating point. This means that the value of the channel is ANDed with the binary value of the mask. This helps you, for example, to observe individual bits of a status byte. Offset A free offset can be added to the function value of the channel in the offset field. Scalefactor The display value of a channel can be changed with the scale factor. Unit This property enables the physical unit to be configured individually for the X- acquisition and the Y-acquisition of the channel. This can be done with the aid of the "Unit Wizard", which can be opened using the button on the right in the field. A further option is to define the units beforehand as attributes in the PLC code. These are then read out directly and entered in the Unit field. Detailed information on the units and their configuration options can be taken from the chapter [} 191]. Context menu The first two groups contain the functionalities for opening various Windows tools. These include firstly the Target Browser [} 166], the Comment Window, the Layer Editor [} 211], the Marker Window [} 108] and finally the Trigger Window [} 108]. In the following group, the existing configuration can be reconfigured with just a few clicks. "Change Ads Symbol..." If the symbol names have changed in several ADS acquisitions, parts of the name can be exchanged using this function. "Change Display Name" The "Change Display Name" function can be used to set the level of detail to be displayed for the names of the channels and acquisitions. "Change Index Group..." This function can be used to change the Index Group of all ADS variables. Either an offset can be calculated or a new value can be entered. In the fourth group, further acquisitions can be added or deleted. 30 Version: 1.20.2 TE13xx

## Page 31

Configuration "Remove unused acquisitions" If acquisitions are not used in the remaining Scope configuration, they can be deleted from the data pool. "Empty Ads Acquisition" Add a new and unconfigured Ads Acquisition. "Load Sequence" If data for a sequence is already available in a file [} 219], this data can be loaded into a sequence using this function. "New Empty Sequence" A new sequence can be created using the Curve Creator [} 219]. Various standard functionalities can be found in the last two groups. The selected node can be copied ("Copy"), removed ("Remove"), renamed ("Rename") or inserted below it ("Paste"). The Visual Studio properties window can also be opened for further parameterization ("Properties"). 5.1.2.1 ADS Acquisition Ads Acquisition describes a variable for which the values are communicated via Ads. TE13xx Version: 1.20.2 31

## Page 32

Configuration Common Enabled Here you can decide whether the configured channel should be recorded or not. Name Here you can edit the name of the acquisition. Symbol Comment Here the actual symbol comment is displayed, if such a comment exists. Symbol Area Indicates the variable range. Array Length Indicates the length of the selected array. Data Type Indicates the data type of the selected variable. Force Oversampling Indicates whether the specified variable is an oversampling variable. Sample Time [ms] Specifies the sampling interval for the variable. Time Offset[s] This can be used for one-time manipulation of the original time stamp during recording of the data point. e.g. to compensate path differences of different target systems. The phase differences have to be determined manually by the user. Use Task Sample Time Here you can specify whether the data for the selected variables are to be sampled with the Task Sample Time or the Free Sample Time. Free Sample Time can be used to set the Sample Time. Variable Size Shows the size of the variables in bytes Symbol ADS Index group Group index of the variable. Index offset Offset index of the variable. Symbol based If this option is set, the variables are communicated via the symbol name. If this option is not set, the variables are communicated via the Group and Offset indices, and the input fields for Group and Offset are enabled. Symbol Name Symbol name of the selected variable. Target Target System Indicates the target system selected for a recording. By default this is the target system for the selected variable. Use Local Server If this option is set, the Scope Server installed on the Scope View system is used for the recording. If the option is not set, the system tries to connect to the remote server of the target system. Target Port Shows the variable port on the respective Twin CAT system. A drop-down box can be used to select the available ports for the selected target system. Unit If a unit is defined for the variable, it is displayed here. However, it cannot be edited. If a unit is to be added to the display, it must be specified with the channel. 32 Version: 1.20.2 TE13xx

## Page 33

Configuration Context menu The first two groups contain the functionalities for opening various Windows tools. These include firstly the Target Browser [} 166], the Comment Window, the Layer Editor [} 211], the Marker Window [} 108] and finally the Trigger Window [} 108]. In the following group, the existing configuration can be reconfigured with just a few clicks. "Change Ads Symbol..." If the symbol names have changed in several ADS acquisitions, parts of the name can be exchanged using this function. "Change Display Name" The "Change Display Name" function can be used to set the level of detail to be displayed for the names of the channels and acquisitions. "Change Index Group..." This function can be used to change the Index Group of all ADS variables. Either an offset can be calculated or a new value can be entered. "Enabled" This setting can be used to set whether or not data should be recorded for the acquisition. If the setting is active (tick is visible on the left), data is collected and the acquisition can also be used in the rest of the configuration. Various standard functionalities can be found in the last two groups. The selected node can be copied ("Copy"), removed ("Remove"), renamed ("Rename") or inserted below it ("Paste"). The Visual Studio properties window can also be opened for further parameterization ("Properties"). 5.1.2.2 Database Acquisition Data Base Acquisition describes a variable to which the values are loaded from a database server. TE13xx Version: 1.20.2 33

## Page 34

Configuration Common Enabled Here you can decide whether the configured channel should be recorded or not. Name Here you can edit the name of the acquisition. Symbol Comment Here the actual symbol comment is displayed, if such a comment exists. 34 Version: 1.20.2 TE13xx

## Page 35

Configuration Symbol Area Indicates the variable range. Array Length Indicates the length of the selected array. Data Type Indicates the data type of the selected variable. Force Oversampling Indicates whether the specified variable is an oversampling variable. Sample Time [ms] Specifies the sampling interval for the variable. Time Offset[s] This can be used for one-time manipulation of the original time stamp during recording of the data point. e.g. to compensate path differences of different target systems. The phase differences have to be determined manually by the user. Use Task Sample Time Here you can specify whether the data for the selected variables are to be sampled with the Task Sample Time or the Free Sample Time. Free Sample Time can be used to set the Sample Time. Variable Size Shows the size of the variables in bytes Symbol Data Base Server Column Name Indicates the column name of the database. Id Indicates the ID of the database server. Select Indicates the Select command used to access the database. Server Net Id Specifies the Net ID of the system on which the Data Base Server is running. Table Provides the name of the table. Timestamp Column Indicates the name of the column in which the timestamp is stored. Target Target System Indicates the target system selected for a recording. By default this is the target system for the selected variable. Use Local Server If this option is set, the Scope Server installed on the Scope View system is used for the recording. If the option is not set, the system tries to connect to the remote server of the target system. Unit If a unit is defined for the variable, it is displayed here. However, it cannot be edited. If a unit is to be added to the display, it must be specified with the channel. Context menu Further information can be found in the Acquisition context menu. [} 46] 5.1.2.3 Analytics File Acquisition Analytics File Acquisition describes a variable for which the values are read from an Analytics File. TE13xx Version: 1.20.2 35

## Page 36

Configuration Common Enabled Here you can decide whether the configured channel should be recorded or not. Name Here you can edit the name of the acquisition. Symbol Comment Here the actual symbol comment is displayed, if such a comment exists. 36 Version: 1.20.2 TE13xx

## Page 37

Configuration Symbol Area Indicates the variable range. Array Length Indicates the length of the selected array. Data Type Indicates the data type of the selected variable. Force Oversampling Indicates whether the specified variable is an oversampling variable. Sample Time [ms] Specifies the sampling interval for the variable. Time Offset[s] This can be used for one-time manipulation of the original time stamp during recording of the data point. e.g. to compensate path differences of different target systems. The phase differences have to be determined manually by the user. Use Task Sample Time Here you can specify whether the data for the selected variables are to be sampled with the Task Sample Time or the Free Sample Time. Free Sample Time can be used to set the Sample Time. Variable Size Shows the size of the variables in bytes Symbol Iot File Byte Offset Indicates the byte offset of the variable in the Io T File. Name Symbol name of the selected variable. Path Selection of the path for the Iot Files. Time Range Select which time range of the historical recording will be used in the new recording. Target Target System Indicates the target system selected for a recording. By default this is the target system for the selected variable. Use Local Server If this option is set, the Scope Server installed on the Scope View system is used for the recording. If the option is not set, the system tries to connect to the remote server of the target system. Unit If a unit is defined for the variable, it is displayed here. However, it cannot be edited. If a unit is to be added to the display, it must be specified with the channel. Context menu Further information can be found in the Acquisition context menu. [} 46] 5.1.2.4 Analytics MQTT Acquisition Mqtt Acquisition describes a variable for which the values are communicated via Mqtt. TE13xx Version: 1.20.2 37

## Page 38

Configuration Common Enabled Here you can decide whether the configured channel should be recorded or not. Name Here you can edit the name of the acquisition. Symbol Comment Here the actual symbol comment is displayed, if such a comment exists. 38 Version: 1.20.2 TE13xx

## Page 39

Configuration Symbol Area Indicates the variable range. Array Length Indicates the length of the selected array. Data Type Indicates the data type of the selected variable. Force Oversampling Indicates whether the specified variable is an oversampling variable. Sample Time [ms] Specifies the sampling interval for the variable. Time Offset[s] This can be used for one-time manipulation of the original time stamp during recording of the data point. e.g. to compensate path differences of different target systems. The phase differences have to be determined manually by the user. Use Task Sample Time Here you can specify whether the data for the selected variables are to be sampled with the Task Sample Time or the Free Sample Time. Free Sample Time can be used to set the Sample Time. Variable Size Shows the size of the variables in bytes Symbol MQTT Byte Offset Specifies the offset of a symbol. Host Specifies the host name of the Mqtt broker. Name Symbol name of the selected variable. Time Range Select which time range of the historical recording will be used in the new recording. Topic Specifies the topic under which the symbol is located. Target Target System Indicates the target system selected for a recording. By default this is the target system for the selected variable. Use Local Server If this option is set, the Scope Server installed on the Scope View system is used for the recording. If the option is not set, the system tries to connect to the remote server of the target system. Unit If a unit is defined for the variable, it is displayed here. However, it cannot be edited. If a unit is to be added to the display, it must be specified with the channel. Context menu Further information can be found in the Acquisition context menu. [} 46] 5.1.2.5 OPC Acquisition Opc Acquisition describes a variable for which the values are communicated via Opc. TE13xx Version: 1.20.2 39

## Page 40

Configuration Common Enabled Here you can decide whether the configured channel should be recorded or not. Name Here you can edit the name of the acquisition. Symbol Comment Here the actual symbol comment is displayed, if such a comment exists. 40 Version: 1.20.2 TE13xx

## Page 41

Configuration Symbol Area Indicates the variable range. Array Length Indicates the length of the selected array. Data Type Indicates the data type of the selected variable. Force Oversampling Indicates whether the specified variable is an oversampling variable. Sample Time [ms] Specifies the sampling interval for the variable. Time Offset[s] This can be used for one-time manipulation of the original time stamp during recording of the data point. e.g. to compensate path differences of different target systems. The phase differences have to be determined manually by the user. Use Task Sample Time Here you can specify whether the data for the selected variables are to be sampled with the Task Sample Time or the Free Sample Time. Free Sample Time can be used to set the Sample Time. Variable Size Shows the size of the variables in bytes Symbol Opc Bit Size Size of the symbol in bits. Name Name of the symbol. Namespace Namespace of the symbol. Node Class Name of the node to which the symbol is assigned in the hierarchy. Node Id Id of the system node. Path Path to the symbol. Target Target System Indicates the target system selected for a recording. By default this is the target system for the selected variable. Use Local Server If this option is set, the Scope Server installed on the Scope View system is used for the recording. If the option is not set, the system tries to connect to the remote server of the target system. Target Opc Endpoint Name Name of the selected OPC UA end point. Contains information about the encryption method and signing. Security Policy Uri URI of the selected encryption method. Server URL URL of the OPC UA Server from which the symbol is to be recorded. Unit If a unit is defined for the variable, it is displayed here. However, it cannot be edited. If a unit is to be added to the display, it must be specified with the channel. Context menu Further information can be found in the Acquisition context menu. [} 46] 5.1.2.6 svdx Acquisition Svdx Acquisition describes a variable to which the values from a Svdx file are read. TE13xx Version: 1.20.2 41

## Page 42

Configuration Common Enabled Here you can decide whether the configured channel should be recorded or not. Name Here you can edit the name of the acquisition. Symbol Comment Here the actual symbol comment is displayed, if such a comment exists. Symbol Area Indicates the variable range. Array Length Indicates the length of the selected array. Data Type Indicates the data type of the selected variable. Force Oversampling Indicates whether the specified variable is an oversampling variable. Sample Time [ms] Specifies the sampling interval for the variable. Time Offset[s] This can be used for one-time manipulation of the original time stamp during recording of the data point. e.g. to compensate path differences of different target systems. The phase differences have to be determined manually by the user. Use Task Sample Time Here you can specify whether the data for the selected variables are to be sampled with the Task Sample Time or the Free Sample Time. Free Sample Time can be used to set the Sample Time. Variable Size Shows the size of the variables in bytes 42 Version: 1.20.2 TE13xx

## Page 43

Configuration Symbol SVDX File Handle Specifies the handle to the variable in the SVDX file. Path Select the path of the SVDX file. Symbol Name Symbol name of the selected variable. Time Range Select which time range of the historical recording will be used in the new recording. Target Target System Indicates the target system selected for a recording. By default this is the target system for the selected variable. Use Local Server If this option is set, the Scope Server installed on the Scope View system is used for the recording. If the option is not set, the system tries to connect to the remote server of the target system. Unit If a unit is defined for the variable, it is displayed here. However, it cannot be edited. If a unit is to be added to the display, it must be specified with the channel. Context menu Further information can be found in the Acquisition context menu. [} 46] 5.1.2.7 Sequences A sequence is an acquisition that contains its own data and does not use data recorded by the Scope Server. Therefore it is also possible to display sequences before the recording has been started. Only the values but no times are stored in sequences. In the Curve Creator, the values are displayed on an index-based axis. As a reference curve in layers, the sample time of the sequence and the start time in the layer are used to create time values. The sequences of a Scope project are displayed in the Solution Explorer in the data pool in a separate folder. Saving The data of a sequence is saved in a file when the Scope project is saved. The files are available in Analytics File Format. They are placed in a folder named after the sequence. Add sequences There are three ways to add new sequences to a Scope project. Create new sequence In the context menu of the data pool a new sequence can be created with New Empty Sequence, which consists at the beginning only of zeros. In Curve Creator [} 224] this sequence can be edited as desired and finally added as a new sequence in the data pool. TE13xx Version: 1.20.2 43

## Page 44

Configuration Load from file If reference data already exists as an Analytics file or in a CSV, these files can also be opened to add the data as a sequence. To add a sequence via this way, one or more new sequences can be inserted via the context menu from the data pool with Load Sequence. If there are several data series in the Analytics File or CSV file, a window for selecting the appropriate data series will open. 44 Version: 1.20.2 TE13xx

## Page 45

Configuration When the selection is confirmed with Ok, the window closes and the sequences are added to the data pool. If there is only one data series in the selected file, this window is skipped and the sequence is added automatically. The data structure in the CSV file consists of a first row containing the names of the data series. The following rows contain the data of the data series. Value1,Value2 1,5 2,4 3,3 4,2 5,1 Convert data from a current recording into a sequence If a recording is already available, sequences can be generated directly from the recorded data and added to the data pool. This can be done with the Curve Creator. Context menu TE13xx Version: 1.20.2 45

## Page 46

Configuration The first two groups contain the functionalities for opening various Windows tools. These include firstly the Target Browser [} 166], the Comment Window, the Layer Editor [} 211], the Marker Window [} 108] and finally the Trigger Window [} 108]. "Change Data" With the help of the Curve Creator [} 224] the data of a sequence can be viewed or manipulated. It is also possible to select multiple sequences in the Solution Explorer and edit them all simultaneously. It is also possible to view the values in the Property window. "Change Display Name" The "Change Display Name" function can be used to set the level of detail to be displayed for the names of the channels and acquisitions. "Enabled" This setting can be used to set whether or not data should be recorded for the acquisition. If the setting is active (tick is visible on the left), data is collected and the acquisition can also be used in the rest of the configuration. Various standard functionalities can be found in the last two groups. The selected node can be copied ("Copy"), removed ("Remove"), renamed ("Rename") or inserted below it ("Paste"). The Visual Studio properties window can also be opened for further parameterization ("Properties"). 5.1.2.8 Acquisition context menu The first two groups contain the functionalities for opening various Windows tools. These include firstly the Target Browser [} 166], the Comment Window, the Layer Editor [} 211], the Marker Window [} 108] and finally the Trigger Window [} 108]. In the following group, the existing configuration can be reconfigured with just a few clicks. "Change Display Name" The "Change Display Name" function can be used to set the level of detail to be displayed for the names of the channels and acquisitions. "Enabled" This setting can be used to set whether or not data should be recorded for the acquisition. If the setting is active (tick is visible on the left), data is collected and the acquisition can also be used in the rest of the configuration. Various standard functionalities can be found in the last two groups. 46 Version: 1.20.2 TE13xx

## Page 47

Configuration The selected node can be copied ("Copy"), removed ("Remove"), renamed ("Rename") or inserted below it ("Paste"). The Visual Studio properties window can also be opened for further parameterization ("Properties"). 5.1.3 Charts and channels 5.1.3.1 YT Chart All the properties of the individual hierarchy levels of YT Charts are explained below. The View Detail level, which can be set in the Scope settings, can be used to separate Channel Style and Channel Acquisition at channel level through an additional hierarchy level. Channel Style and Channel Acquisition are described separately below. 5.1.3.1.1 YT chart properties Here you can enter all the settings relating to a YT chart. TE13xx Version: 1.20.2 47

## Page 48

Configuration Behaviour Auto Start If this option is enabled, the chart starts the live display when a new recording is started. Data Tool Tip If this option is enabled, a click on a data point results in display of a tool tip with the exact values of the data point on the X- and Y-axis, plus the timestamp and name of the corresponding channel. Default Display This time specifies the standard width of the associated chart. This value is set, for Width example, when the rescale button is selected in the chart toolbar. Invert X-Axis Switches the signal sequence from the default (left to right) to right to left Master Chart In the drop-down list that is available here, a chart that is part of the current configuration can be selected and designated as master chart. All actions that are executed in the master chart are also automatically executed in this chart. A separate stop display option is provided, through which Y-zoom and Y-panning modes are available. An overview chart can also be displayed. 48 Version: 1.20.2 TE13xx

## Page 49

Configuration Time Bar Specifies whether the time bar is displayed in the chart. Tool Bar Specifies whether the toolbar is displayed in the chart. Color The background and frame color can be set by means of color dialogs. Common Comment A free comment can be saved here. CPU Core Here you can set (for each chart individually) which CPU core should be used for the current chart display. If required, multiple CPU cores can be specified for a chart. This may improve the performance. Show Name Specifies whether the name of the chart is shown in the graph. X-Axis Grid Use X-Axis Grid The X-subdivisions in the chart can be switched on or off here. Use X-Axis Auxiliary lines for the finer X-subdivision of the main grid can be shown or hidden here. Sub Grid X-Grid Color Color of the grid X-Grid Line Width Line width of the grid in pixels X-Sub Grid Number of areas into which the main grid is subdivided by auxiliary lines. Divisions X-Axis Style Since the X-axis is permanently assigned to a chart, all associated settings can be made here. Ticks Number of subdivisions X-Axis Color Color of the X axis X-Axis Line Width Line width of the axis in pixels Y-Settings Scale on Zoom If this option is selected, the chart instructs all axes (X and Y) to perform an auto-scaling after a zoom or panning action. This can be used to expand the selected area. Stacked Y-axes This setting can be used to specify whether the axes of a chart should be displayed side by side, so that the values of the attached channels are shown within the same area, or whether the axes should be above each other, each with its own representation range. Y-Zoom Here you can set the chart behavior during zooming. If the option is set, you can navigate in the data of a chart in the Y-direction as well. This includes both zooming and panning (shifting the display with the mouse). To change the settings for several charts at the same time, please refer to the chapter Multiple selection [} 389]. The chart display is operated with the toolbar. The overview shows all buttons and their explanation (from left): TE13xx Version: 1.20.2 49

## Page 50

Configuration Play Starts the live display mode. The data currently being accumulated are displayed. Break The display switches to the pause mode. You can now navigate in the data already recorded without stopping the recording. Display-Width The current display width is displayed here. It can be edited in the format hh:mm:ss,fff. The zoom function works down to the µs range. Alternatively, the display width can be changed by turning the mouse wheel in the selected chart window. The changed value is adopted automatically. Scroll buttons The outer scroll buttons move the current display in steps that correspond to the display width. The inner scroll keys move the display only by a tenth of the display width and can be kept pressed to view the data set. Position Shows the position. It can be edited in the format hh:mm:ss,fff. The colons are used as separators. If not all units are edited the format is sorted in ascending order, starting with seconds. Undo/Redo Time/ This option can be used to undo step changes in the display width or the current Position position, irrespective of how they were made (e.g. zoom, scroll, etc.). The right mouse button is likewise assigned this function. Once undone, values can be repeated with redo. Panning Horizontal In the horizontal panning mode the current display can be shifted along the X-axis by clicking and dragging with the mouse. Panning Free In the free panning mode the current display can be shifted along the X- and Y-axes by clicking and dragging with the mouse. Zoom Horizontal A new time range for the display can be selected by stretching a rectangle over the X-axis. Zoom Free You can zoom into the current display by stretching a rectangle over the graphic area. Zoom to Default Carries out an autoscale on all axes. The X-axis is/axes are set to the default display time. Zoom Out Max Scales the X-axis in such a way that all current values in the recording appear in the display. Overview Use the Overview option to display a chart within the chart. The signal range currently shown in the main chart is highlighted in the Overview Chart. The Overview Chart also offers an absolute time axis for the whole recording time. Chart Snipping Tool Screenshots of a chart can be edited and sent using the tool, see Chart Snipping Tool [} 274]. By turning the mouse wheel you can also zoom in or out on the current display. The cursor position of the mouse determines the center. The current recording times are displayed in the chart toolbar: 50 Version: 1.20.2 TE13xx

## Page 51

Configuration Start-Time The common starting point of the recordings of all connected channels. The start time defines the zero point of the recording. End-Time Maximum common time of all connected channels. The end time thus marks the final value of the recording. The difference between the end time and start time is maximally as large as the record time set (see Scope nodes [} 22]). Position The position time represents the zero point of the current chart, i.e. the time from the start time to the beginning of the display. Time Absolute time at the chart origin Date Absolute date at the chart origin Context menu You can find more information on this at Chart context menu. [} 103] 5.1.3.1.2 YT axis properties Here you can implement separate settings for each available YT axis. TE13xx Version: 1.20.2 51

## Page 52

Configuration 52 Version: 1.20.2 TE13xx

## Page 53

Configuration Common Canvas Color Defines the color of the chart. Comment A free comment can be saved here. Enabled Here you can switch the axis on or off completely. This functionality is also available via the context menu. Name Specifies whether the name of the X-axis is shown in the chart. Show Title Determines which title is displayed above the chart. This function is only displayed if there is only one axis group, or if the axis groups are not stacked. Hide: no title is displayed Custom: the value from the 'Title' setting is displayed Name: the name of the axis group is selected X-Axis Title: the title of the X-axis is reused Y-Axis Title: the title of the Y-axis is reused First Channel: the name of the first channel is reused All channels are listed below and a channel can be explicitly selected. Title If Show Title is set to 'Custom', this title will be displayed above the chart. TE13xx Version: 1.20.2 53

## Page 54

Configuration (Time/Y)-Axis Color (Time/Y) Color of the axis. Color Mode (Time /Y) Defines which color is displayed at the axis. Custom: the value from the 'Color Mode' setting is displayed First Channel: the name of the first channel is reused Below that, all channels are listed in order to select them explicitly. Inverted (Time /Y) Inverts the direction of the axis. Linewidth (Time /Y) Line width in pixels. Logarithmic (Y) Switches between logarithmic and linear scaling of the axes. Manual Max (Y) Maximum value for manual scaling. Manual Min (Y) Minimum value for manual scaling. Precision (Time /Y) Here you can specify the number of significant digits for the axis labeling. Corresponds to the number of digits on the axis. Show absolute times (t) After recording, the times on the time axis can also be indicated by absolute times. None: The relative times are also displayed after recording. Default: The times are displayed in absolute time on the time axis. Depending on how far you have zoomed in, the times are displayed with or without milliseconds. Custom: With this setting, a manual time format can be set using the "Times format" setting. Scale Mode (Y) Specifies the Scale Mode for the axis. There are three modes to choose from. In case of Manual, the range of the axis can be fixed. Auto Grow Only automatically increases the area of the axis, if data points are outside the specified range. Auto Grow NShrink further shrinks the range if extreme values in the data are no longer in the displayed time range. Scientific Notation (Y) Specifies whether the scientific notation should be used. Show Title (t/Y) Determines which title is displayed on the axis Hide: no title is displayed Custom: the value from the 'Title (t/Y)' setting is displayed Name of axisgroup: the name of the axis group is selected First Channel: the name of the first channel is reused All channels are listed below and a channel can be explicitly selected. Show Unit (Y) Determines whether the unit should also be displayed as an axis label. Hide: No unit is displayed. All Channels: All units configured channels are displayed. If different units are used, the units are separated by a comma. Times format (t) If the "Show absolute times" setting is set to "Custom", this setting is visible in order to be able to specify the time format of the axis. Possible placeholders for the timestamps are as follows: dd - day MM - month yyyy - year HH - hours in 24-hour format hh - hours in 12-hour format mm - minutes ss - seconds fff - milliseconds Title (X/Y) Axis title. Visible (X/Y) Specifies whether the axis is shown or hidden in the chart. 54 Version: 1.20.2 TE13xx

## Page 55

Configuration (Time/Y)-Grid Grid Color (Time/Y) Color of the grid. Grid Divisions (Time /Y) Number of subdivisions. Grid Linewidth (Time /Y) Line width of the grid in pixels. Subgrid Divisions (Time / Number of areas into which the main grid is subdivided by auxiliary lines. Y) In the case of logarithmic scaling the auxiliary lines for subdivision are shown only in the set number if the range of values per tick is precisely one decade. Otherwise the displayed auxiliary line shows the decades not displayed in the main grid. Use Grid (Time /Y) The X-subdivisions of the axis can be shown or hidden here. Use Sub Grid (Time /Y) Auxiliary lines for the finer X-subdivision of the main grid can be shown or hidden here. Auxiliary lines have no axis labeling. To change the settings for several axes at the same time, please refer to the chapter Multiple selection [} 389]. Context menu You can find more information on this at Axes context menu. [} 105] 5.1.3.1.3 YT channel style All style settings belonging to a YT channel can be made here. TE13xx Version: 1.20.2 55

## Page 56

Configuration Common Comment A free comment can be saved here. If applicable the comment will be adopted from the connected ADS symbol. Visible Here you can set whether the channel should be displayed in the chart. Line Antialias This option decides how the lines will be drawn. Antialias is "nicer" but requires considerably more computing. This has an effect in particular if there are many channels with large movements. Fill Color Fill mode can be used to color an area, e.g. above or below a curve. Here you can select the fill color. Fill Mode Fill mode can be used to color an area, e.g. above or below a curve. The default setting is “None”. Variables with the data type BOOL are an exception. For BOOL variables the default value is “Horizontal Zero”. Further alternatives: Bottom, Top, Center and Source. Fill Transparency Here you can set the transparency value of the fill color. The default value is 50. Line Color Graph color Line Width Line width of the chart. The line width 1 requires least computing. Type Changes the value display between line, steps and bars. The default value is line. Marks Mark Color Color of the interpolation point markers Marks Selection of the visibility of markings: On (permanently visible) | Auto (dependent on the zoom level) | Off (markings switched off). Mark Size Size of the interpolation point markers Modify Bit Mask In this field a value can be entered with which the display value is masked, provided it is not of the type floating point. This means that the value of the channel is ANDed with the binary value of the mask. This helps you, for example, to observe individual bits of a status byte. Offset A free offset can be added to the function value of the channel in the offset field. Scale Factor The display value of a channel can be changed with the scale factor. This makes sense if angle signals are to be displayed in degrees, rather than radians, for example. With a scaling factor of k = 360 / (2*Pi) = 57.296, therefore, degrees would be displayed instead of radians. Time Shift This option enables the graph to be moved along the time axis. This can be useful to compensate a known bus runtime, for example. Unit Unit This property allows the physical unit of the respective channel to be configured. This can be done with the aid of the "Unit Wizard", which can be opened using the button on the right in the field. A further option is to define the units beforehand as attributes in the PLC code. These are then read out directly and entered in the Unit field. Detailed information on the units and their configuration options can be taken from the section Physical units [} 191]. To change the settings for several channels at the same time, please refer to the chapter Multiple selection [} 389]. Configuration of channel style properties with the aid of PLC attributes All style properties of a channel can be set directly on a variable or a data type in the PLC with the aid of attributes. This makes it possible to always display a certain symbol with the same style properties without having to reconfigure it every time. 56 Version: 1.20.2 TE13xx

## Page 57

Configuration A PLC attribute is specified directly via the declaration of a variable or a data type in curly brackets. The following syntax applies to the assignment of the channel style properties: {attribute 'Tc Scope' := '<Property1:value, Property2:value,…>'} Example: {attribute 'Tc Scope' := '<Line Width:3, Line Color:red>'} Any number of channel style properties can be specified in an attribute. A separate syntax applies to the specification of the unit (Unit property; see: Configuration of units with the aid of PLC attributes [} 207]). Context menu You can find more information on this at Channel context menu. [} 106] 5.1.3.1.4 YT channel acquisition interpreter All acquisition settings belonging to a YT channel can be made here. Acquisition interpreters Acquisition interpreters can reference an acquisition of the data pool and forward the data after manipulation. The following settings can be made: Acquisition Acquisition Selection of the acquisition used from the data pool. TE13xx Version: 1.20.2 57

## Page 58

Configuration Modify Bitmask In this field a value can be entered with which the display value is masked, provided it is not of the type floating point. This means that the value of the channel is ANDed with the binary value of the mask. This helps you, for example, to observe individual bits of a status byte. Offset A free offset can be added to the function value of the channel in the offset field. Scalefactor The display value of a channel can be changed with the scale factor. Unit This property enables the physical unit to be configured individually for the X- acquisition and the Y-acquisition of the channel. This can be done with the aid of the "Unit Wizard", which can be opened using the button on the right in the field. A further option is to define the units beforehand as attributes in the PLC code. These are then read out directly and entered in the Unit field. Detailed information on the units and their configuration options can be taken from the chapter [} 191]. Different properties The properties of the channels can deviate from the illustration shown here. Some setting possibilities are visible / editable only for special channels. Example: The Array Length setting is only visible in the case of array symbols. To change the settings for several channels at the same time, please refer to the chapter Multiple selection [} 389]. 5.1.3.2 XY Chart All the properties of the individual hierarchy levels of XY Charts are explained below. The View Detail level, which can be set in the Scope settings, can be used to separate Channel Style and Channel Acquisition at channel level through an additional hierarchy level. Channel Style and Channel Acquisition are described separately below. 58 Version: 1.20.2 TE13xx

## Page 59

Configuration 5.1.3.2.1 XY chart properties All settings assigned to the XY chart can be made here. TE13xx Version: 1.20.2 59

## Page 60

Configuration Behaviour Auto Start If this option is enabled, the chart starts the live display when a new recording is started. Data Tool Tip If this option is enabled, a click on a data point results in display of a tool tip with the exact values of the data point on the X- and Y-axis, plus the timestamp and name of the corresponding channel. Default Display This time indicates the display time for the signal or the signal length in the XY chart. This Width value is set, for example, when the rescale button is selected in the chart toolbar. Master Chart In the drop-down list that is available here, a chart that is part of the current configuration can be selected and designated as master chart. All actions that are executed in the master chart are also automatically executed in this chart. A separate pause option is provided, through which XY-zoom and XY-panning modes are available. Time Bar Specifies whether the time bar is displayed in the chart. Tool Bar Specifies whether the toolbar is displayed in the chart. 60 Version: 1.20.2 TE13xx

## Page 61

Configuration Color The background and frame color can be set by means of color dialogs. Common Comment A free comment can be saved here. CPU Core Here you can set (for each chart individually) which CPU core should be used for the current chart display. If required, multiple CPU cores can be specified for a chart. This may improve the performance. Max Data Points Determines the maximum number of data points that can be displayed at the same time. The default value is 120,000. This means that, at a sampling rate of 1 ms (Task Sample Time), the maximum recording time for which values can be displayed simultaneously is 2 minutes. Show Name Specifies whether the name of the chart is shown in the graph. Settings Scale on Zoom If this option is selected, the chart instructs all axes (X and Y) to perform autoscaling after a zoom or panning action. This can be used to expand the selected area. Stacked Axes This setting can be used to specify whether the axes of a chart are shown side by side or above each other. In the side by side display, the values of the appended channels are shown within the same area. If they are shown above each other, the channels are displayed in their own areas. To change the settings for several charts at the same time, please refer to the chapter Multiple selection [} 389]. The chart display is operated with the toolbar. The overview shows all buttons and their explanation (from left): Play Starts the live display mode. The data currently being accumulated are displayed. Break The display switches to the pause mode. You can now navigate in the data already recorded without stopping the recording. Display-Width The current display width is displayed here. It can be edited in the format hh:mm:ss,fff. Alternatively, the display width can be changed by turning the mouse wheel in the selected chart window. The changed value is adopted automatically. Scroll buttons The outer scroll buttons move the current display in steps that correspond to the display width. The inner scroll keys move the display only by a tenth of the display width and can be kept pressed to view the data set. Position Shows the position. It can be edited in the format hh:mm:ss,fff. The colons are used as separators. If not all units are edited the format is sorted in ascending order, starting with seconds. Panning Free In the free panning mode the current display can be shifted along the X- and Y-axes by clicking and dragging with the mouse. Zoom Free You can zoom into the current display by stretching a rectangle over the graphic area. Zoom to Default Carries out an autoscale on all axes. The X-axis is/axes are set to the default display time. Zoom Out Max Scales the X and Y-axis in such a way that all current values in the recording appear in the display. Up to the maximum number of data points that can be shown. The maximum number is 60,000 data points. Chart Snipping Tool Screenshots of a chart can be edited and sent using the tool, see Chart Snipping Tool [} 274]. By turning the mouse wheel you can also zoom in or out on the current display. The cursor position defines the center. TE13xx Version: 1.20.2 61

## Page 62

Configuration The current recording times are displayed in the chart toolbar: Start-Time The common starting point of the recordings of all connected channels. The start time defines thus the zero point of the recording. End-Time Maximum common time of all connected channels. The end time marks the end value of the recording. The difference between the end time and start time is maximally as large as the record time set (see also: Scope nodes [} 22]). Position The position time represents the zero point of the current chart, i.e. the time from the start time to the beginning of the display. Time Absolute time at the chart origin. Date Absolute date at the chart origin. Context menu You can find more information on this at Chart context menu. [} 103] 5.1.3.2.2 XY axis properties Here you can implement separate settings for each available XY-axis. 62 Version: 1.20.2 TE13xx

## Page 63

Configuration Aspect Ratio Aspect ratio scaling Aspect ratio between the axes. Keep aspect ratio Enables the function to maintain the aspect ratio between the axes. Reference Axis Specifies the axis that defines the scaling. TE13xx Version: 1.20.2 63

## Page 64

Configuration Common Canvas Color Defines the color of the chart. Comment A free comment can be saved here. Enabled Here you can switch the axis on or off completely. This functionality is also available via the context menu. Name Specifies whether the name of the X-axis is shown in the chart. Show Title Determines which title is displayed above the chart. This function is only displayed if there is only one axis group, or if the axis groups are not stacked. Hide: no title is displayed Custom: the value from the 'Title' setting is displayed Name: the name of the axis group is selected X-Axis Title: the title of the X-axis is reused Y-Axis Title: the title of the Y-axis is reused First Channel: the name of the first channel is reused Below that, all channels are listed in order to select them explicitly. Title If Shot Title is set to 'Custom', this title will be displayed above the chart. (X/Y) Grid Grid Color (X/Y) Color of the grid. Grid Divisions (X/Y) Number of subdivisions. Grid Linewidth (X/Y) Line width of the grid in pixels. Subgrid Divisions (X/Y) Number of areas into which the main grid is subdivided by auxiliary lines. In the case of logarithmic scaling the auxiliary lines for subdivision are shown only in the set number if the range of values per tick is precisely one decade. Otherwise the displayed auxiliary line shows the decades not displayed in the main grid. Use Grid (X/Y) The X-subdivisions of the axis can be shown or hidden here. Use Sub Grid (X/Y) Auxiliary lines for the finer X-subdivision of the main grid can be shown or hidden here. Auxiliary lines have no axis labeling. 64 Version: 1.20.2 TE13xx

## Page 65

Configuration (X/Y)-Axis Color (X/Y) Color of the axis. Color Mode (X/Y) Defines which color is displayed at the axis. Custom: the value from the 'Color Mode' setting is displayed First Channel: the name of the first channel is reused Below that, all channels are listed in order to select them explicitly. Inverted (X/Y) Inverts the direction of the axis. Linewidth (X/Y) Line width in pixels. Logarithmic (X/Y) Switches between logarithmic and linear scaling of the axes. Manual Max (X/Y) Maximum value for manual scaling. Manual Min (X/Y) Minimum value for manual scaling. Precision (X/Y) Here you can specify the number of significant digits for the axis labeling. Corresponds to the number of digits on the axis. Scale Mode (X/Y) Specifies the Scale Mode for the axis. There are three modes to choose from. In case of Manual, the range of the axis can be fixed. Auto Grow Only automatically increases the area of the axis, if data points are out of range. Auto Grow NShrink further shrinks the range if extreme values in the data are no longer in the displayed time range. Show Title (X/Y) Determines which title is displayed on the axis Hide: no title is displayed Custom: the value from the 'Title (t/Y)' setting is displayed Name of axisgroup: the name of the axis group is selected First Channel: the name of the first channel is reused All channels are listed below and a channel can be explicitly selected. Show Unit (X/Y) Determines whether the unit should also be displayed as an axis label. Hide: No unit is displayed. All Channels: All units configured channels are displayed. If different units are used, the units are separated by a comma. Title (X/Y) Axis title. Visible (X/Y) Specifies whether the axis is shown or hidden in the chart. To change the settings for several axes at the same time, please refer to the chapter Multiple selection [} 389]. Context menu You can find more information on this at Axes context menu. [} 105] 5.1.3.2.3 XT channel style All style settings belonging to a XY channel can be made here. TE13xx Version: 1.20.2 65

## Page 66

Configuration Cap Cap Color Specifies the colour of the active cap. Cap Size Specifies the size of the cap. End Cap Activates the end cap for the channel. Start Cap Activates the start cap for the channel. Common Comment A free comment can be saved here. If applicable the comment will be adopted from the connected ADS symbol. Enabled Enables the channel. Name channel name. Visible Here you can set whether the channel should be displayed in the chart. 66 Version: 1.20.2 TE13xx

## Page 67

Configuration Line Antialias This option decides how the lines will be drawn. Antialias is "nicer" but requires considerably more computing. This has an effect in particular if there are many channels with large movements. Fill Color Fill mode can be used to color an area, e.g. above or below a curve. Here you can select the fill color. Fill Mode Fill mode can be used to color an area, e.g. above or below a curve. The default setting is “None”. Alternatives are: Horizontal Zero, Bottom, Top, Center and Source. Fill Here you can set the transparency value of the fill color. The default value is 50. Transparency Graph Type Specifies the graph type. You can choose between Line and Stair. Line Color Graph Colour. Line Width Line width of the chart. The line width 1 requires least computing. Marks Mark Color Color of the interpolation point markers. Mark State Specifies the visibility of markers: On (permanently visible) | Auto (depending on the zoom level) | Off (markers disabled). Mark Size Size of the interpolation point markers. To change the settings for several channels at the same time, please refer to the chapter Multiple selection [} 389]. Configuration of channel style properties with the aid of PLC attributes All style properties of a channel can be set directly on a variable or a data type in the PLC with the aid of attributes. This makes it possible to always display a certain symbol with the same style properties without having to reconfigure it every time. A PLC attribute is specified directly via the declaration of a variable or a data type in curly brackets. The following syntax applies to the assignment of the channel style properties: {attribute 'Tc Scope' := '<Property1:value, Property2:value,…>'} Example: {attribute 'Tc Scope' := '<Line Width:3, Line Color:red>'} Any number of channel style properties can be specified in an attribute. Note here that the X-acquisition and Y-acquisition sometimes have common channel style properties. For example, the properties that concern the line or the marks. If two symbols are added to an XY channel in which such properties are stored as PLC attributes, the properties of the symbol added last are always set. A separate syntax applies to the specification of the unit (Unit property; see: Configuration of units with the aid of PLC attributes [} 207]). Context menu You can find more information on this at Channel context menu. [} 106] 5.1.3.2.4 XY channel acquisition This chapter explains all the acquisitions settings for XY charts. TE13xx Version: 1.20.2 67

## Page 68

Configuration Acquisition Acquisition Selection of the acquisition used from the data pool. Common Name The name of the interpreter. Modify Bitmask In this field a value can be entered with which the display value is masked, provided it is not of the type floating point. This means that the value of the channel is ANDed with the binary value of the mask. This helps you, for example, to observe individual bits of a status byte. Offset Here a free offset can be added to the function value of the channel. Scalefactor The display value of a channel can be changed with the scale factor. Unit This property allows the physical unit to be configured for the respective acquisition. This can be done with the aid of the "Unit Wizard", which can be opened using the button on the right in the field. A further option is to define the units beforehand as attributes in the PLC code. These are then read out directly and entered in the Unit field. Detailed information on the units and their configuration options can be found in the chapter on Physical units [} 191]. To change the settings for several channels at the same time, please refer to the chapter Multiple selection [} 389]. 5.1.3.3 Array Bar Chart The properties of the individual hierarchy levels of array bar charts are explained below. The View Detail level, which can be set in the Scope settings, can be used to separate Channel Style and Channel Acquisition at channel level through an additional hierarchy level. Channel Style and Channel Acquisition are described separately below. 68 Version: 1.20.2 TE13xx

## Page 69

Configuration 5.1.3.3.1 Bar chart properties Here you can enter all the settings relating to an array bar chart. TE13xx Version: 1.20.2 69

## Page 70

Configuration Behaviour Auto Start . If this option is enabled, the chart starts the live display when a new recording is started. Data Tool Tip If this option is enabled, a click on a data point results in display of a tool tip with the exact values of the data point on the X- and Y-axis, plus the timestamp and name of the corresponding channel. Default Display This time refers to the display times of the minimum and maximum values in the array bar Width chart. The extreme values are always recorded. The freely adjustable display time makes it possible to display an extended history of the extreme values. Master Chart In the drop-down list that is available here, a chart that is part of the current configuration can be selected and designated as master chart. All actions that are executed in the master chart are also automatically executed in this chart. A separate pause option is provided, through which XY-zoom and XY-panning modes are available. Time Bar Specifies whether the time bar is displayed in the chart. Tool Bar Specifies whether the toolbar is displayed in the chart. 70 Version: 1.20.2 TE13xx

## Page 71

Configuration Color Border Color The color of the chart border. Forecolor The color of the chart name. Gradient A value between 0 and 1 can be used to display a color gradient in the background of the Background chart. Common Comment A free comment can be saved here. CPU Core Here you can set (for each chart individually) which CPU core should be used for the current chart display. If required, multiple CPU cores can be specified for a chart. This may improve the performance. Name Here you can set the name of the chart. Refresh Time Defines the interval in which new values are to be displayed. [ms] Show Name Specifies whether the name of the chart is shown in the graph. Settings Bar Orientation The bar orientation parameter can be used to set the orientation of the bars. Vertical: the bars are displayed vertically Horizontal: the bars are displayed horizontally Scale on Zoom After zooming, the axes are rescaled to make it easier to read the values. Stacked Axes This setting can be used to specify whether the axes of a chart are shown side by side or above each other. In the side by side display, the values of the appended channels are shown within the same area. If they are shown above each other, the channels are displayed in their own areas. To change the settings for several charts at the same time, please refer to the chapter Multiple selection [} 389]. The chart display is operated with the toolbar. The overview shows all buttons and their explanation (from left): TE13xx Version: 1.20.2 71

## Page 72

Configuration Play Starts the live display mode. The data currently being accumulated are displayed. Break The display switches to the pause mode. You can now navigate in the data already recorded without stopping the recording. Display-Width This time refers to the display times of the minimum and maximum values in the array bar chart. The extreme values are always recorded. The freely adjustable display time makes it possible to display an extended history of the extreme values. Scroll buttons The outer scroll buttons move the current display in steps that correspond to the display width. The inner scroll keys move the display only by a tenth of the display width and can be kept pressed to view the data set. Position The displayed position can be edited in the Position field in the format hh:mm:ss,fff. The colons serve here as separators. If not all units are edited the format is sorted in ascending order, starting with seconds. Undo/Redo Time/ This option can be used to undo step changes in the display width or the current Position position, irrespective of how they were made (e.g. zoom, scroll, etc.). The right mouse button is likewise assigned this function. Once undone, values can be repeated with redo. Panning Horizontal In the horizontal panning mode the current display can be shifted along the X-axis by clicking and dragging with the mouse. Panning Free In the free panning mode the current display can be shifted along the X- and Y-axes by clicking and dragging with the mouse. Zoom Horizontal A new time range for the display can be selected by stretching a rectangle over the X-axis. Zoom Free You can zoom into the current display by stretching a rectangle over the graphic area. Zoom to Default If autoscale is set, this option triggers a zoom to the maximum number of array elements. If autoscale is disabled, the zoom automatically focuses on the defined limits. Zoom Out Max Scales the X-axis such that all array elements are displayed. Chart Snipping Tool Screenshots of a chart can be edited and sent using the tool, see Chart Snipping Tool [} 274]. Context menu You can find more information on this at Chart context menu. [} 103] 5.1.3.3.2 Bar axis properties All the settings for the axes of array bar charts are described here. 72 Version: 1.20.2 TE13xx

## Page 73

Configuration TE13xx Version: 1.20.2 73

## Page 74

Configuration Common Canvas Color Defines the color of the chart. Comment A free comment can be saved here. Enabled Here you can switch the axis on or off completely. This functionality is also available via the context menu. Name Defines the name of the axes. Show Title Determines which title is displayed above the chart. This function is only displayed if there is only one axis group, or if the axis groups are not stacked. Hide: no title is displayed Custom: the value from the 'Title' setting is displayed Name: the name of the axis group is selected X-Axis Title: the title of the X-axis is reused Y-Axis Title: the title of the Y-axis is reused First Channel: the name of the first channel is reused Below that, all channels are listed in order to select them explicitly. Title If Shot Title is set to 'Custom', this title will be displayed above the chart. X-axis Color (X) Color of the axis. Color Mode (X/Y) Defines which color is displayed at the axis. Custom: the value from the 'Color Mode' setting is displayed First Channel: the name of the first channel is reused Below that, all channels are listed in order to select them explicitly. Inverted (X) Axis inversion. Linewidth (X) Line width in pixels Manual Max (X) If Auto Scale is inactive, the maximum value can be edited directly. Manual Min (X) If Auto Scale is inactive, the minimum value can be edited directly. Precision (X) Here you can specify the number of significant digits for the axis labeling. It corresponds to the number of visible digits on the axis. Scale Mode (X) Two Auto Scale modes are available for selection. The default mode is Auto Grow Only. This means the X-axis always scales to the historic maximum, until a rescale is carried out for the current view. Alternatively, select Auto Grow NShrink. This mode always automatically adjusts the maximum of the X-axis to the maximum in the current view (display width). Show Title (X) Specifies whether the name of the X-axis is shown in the chart. Title (X) Here you can enter an X-axis label. Visible (X) Specifies whether the axis is shown or hidden in the chart. 74 Version: 1.20.2 TE13xx

## Page 75

Configuration X-Grid Grid Color (X) Color of the grid. Grid Divisions (X) Maximum number of subdivisions. If there is not enough space for the selected number of ticks, these are automatically reduced in the chart. In the case of logarithmic scaling the number of ticks depends on the displayed range of values and can thus deviate from the settings. Grid Linewidth (X) Line width of the grid in pixels. Subgrid Divisions (X) Number of areas into which the main grid is subdivided by auxiliary lines. In the case of logarithmic scaling the auxiliary lines for subdivision are shown only in the set number if the range of values per tick is precisely one decade. Otherwise the displayed auxiliary line shows the decades not displayed in the main grid. Use Grid (X) The X-subdivisions of the axis can be shown or hidden here. Use Subgrid (X) Auxiliary lines for the finer X-subdivision of the main grid can be shown or hidden here. Auxiliary lines have no axis labeling. Y-axis Color (Y) Color of the axis. Inverted (Y) Axis inversion. Linewidth (Y) Line width in pixels. Logarithmic (Y) Switches between logarithmic and linear scaling of the axes. Manual Max (Y) If Auto Scale is inactive, the maximum value can be edited directly. Manual Min (Y) If Auto Scale is inactive, the minimum value can be edited directly. Precision (Y) Here you can specify the number of significant digits for the axis labeling. It corresponds to the number of visible digits on the axis. Scale Mode (Y) Two Auto Scale Modes are available for selection. The default mode is Auto Grow Only. This means the y-axis always scales to the historic maximum, until a rescale is carried out for the current view. Alternatively, Auto Grow NShrink can be selected. This mode always automatically adjusts the maximum of the y-axis to the maximum in the current view (display width). Show Title (Y) Specifies whether the name of the y-axis is shown in the chart. Title (Y) Here you can enter an y-axis label. Visible (Y) Specifies whether the axis is shown or hidden in the chart. Y-Grid Grid Color (Y) Color of the grid. Grid Divisions (Y) Maximum number of subdivisions. If there is not enough space for the selected number of ticks, these are automatically reduced in the chart. In the case of logarithmic scaling the number of ticks depends on the displayed range of values and can thus deviate from the settings. Grid Linewidth (Y) Line width of the grid in pixels. Subgrid Divisions (Y) Number of areas into which the main grid is subdivided by auxiliary lines. In the case of logarithmic scaling the auxiliary lines for subdivision are shown only in the set number if the range of values per tick is precisely one decade. Otherwise the displayed auxiliary line shows the decades not displayed in the main grid. Use Grid (Y) The Y-subdivisions of the axis can be shown or hidden here. Use Subgrid (Y) Auxiliary lines for the finer Y-subdivision of the main grid can be shown or hidden here. Auxiliary lines have no axis labeling. To change the settings for several axes at the same time, please refer to the chapter Multiple selection [} 389]. Context menu You can find more information on this at Axes context menu. [} 105] TE13xx Version: 1.20.2 75

## Page 76

Configuration 5.1.3.3.3 Bar channel properties All Style properties of array bar chart channels are explained here. Common Comment A free comment can be saved here. If applicable the comment will be adopted from the connected ADS symbol. Enabled Specifies whether values are loaded into the Scope View for the channel. The performance can be optimized, compared to the "Visible" setting. Name channel name. Visible Here you can set whether the channel should be displayed in the chart. 76 Version: 1.20.2 TE13xx

## Page 77

Configuration Index Scaling Display Index Max The maximum index of the linked array is set to the value entered for the display. Display Index Min The minimum index of the linked array is set to the value entered for the display. Offset (i) A free offset can be added to the function value of the channel in the offset field. Scalefactor (i) The display value of a channel can be changed with the scale factor. Line Antialias This option decides how the lines will be drawn. Antialias is "nicer" but requires considerably more computing. This has an effect in particular if there are many channels with large movements. Graph Type Here you can switch between different display types. The default value for an array bar chart is Bar. Other options are: Line and Stair. Line Color Graph Colour. Line Width Line width of the chart. The line width 1 requires least computing. Show Max If the option is set to TRUE, the maximum values for the set display width are shown. Show Min If the option is set to TRUE, the minimum values for the set display width are shown. Marks Mark Color Color of the interpolation point markers. Marks Selecting the visibility of markings → On (permanently visible) | Off (markings switched off). Mark Size Size of the interpolation point markers. Min/Max Show Max If the option is set to TRUE, the maximum values for the set display width are shown. Show Min If the option is set to TRUE, the minimum values for the set display width are shown. Y-Data Acquisition Here you can select the acquisition that will be displayed in the channel. Bismask (Y) In this field a value can be entered with which the display value is masked, provided it is not of the type floating point. This means that the value of the channel is ANDed with the binary value of the mask. This helps you, for example, to observe individual bits of a status byte. Offset (Y) A free offset can be added to the function value of the channel in the offset field. Scalefactor (Y) The display value of a channel can be changed with the scale factor. Unit (Y) This property enables the physical unit to be configured individually for the X- acquisition and the Y-acquisition of the channel. This can be done with the aid of the "Unit Wizard", which can be opened using the button on the right in the field. A further option is to define the units beforehand as attributes in the PLC code. These are then read out directly and entered in the Unit field. Detailed information on the units and their configuration options can be found in the chapter on Physical units [} 191]. To change the settings for several channels at the same time, please refer to the chapter Multiple selection [} 389]. Configuration of channel style properties with the aid of PLC attributes All style properties of a channel can be set directly on a variable or a data type in the PLC with the aid of attributes. This makes it possible to always display a certain symbol with the same style properties without having to reconfigure it every time. TE13xx Version: 1.20.2 77

## Page 78

Configuration A PLC attribute is specified directly via the declaration of a variable or a data type in curly brackets. The following syntax applies to the assignment of the channel style properties: {attribute 'Tc Scope' := '<Property1:value, Property2:value,…>'} Example: {attribute 'Tc Scope' := '<Line Width:3, Line Color:red>'} Any number of channel style properties can be specified in an attribute. A separate syntax applies to the specification of the unit (Unit property; see: Configuration of units with the aid of PLC attributes [} 207]). Context menu You can find more information on this at Channel context menu. [} 106] 5.1.3.3.4 Bar channel acquisition interpreter Acquisition interpreters Acquisition interpreters can reference an acquisition of the data pool and forward the data after manipulation. The following settings can be made: Acquisition Acquisition Selection of the acquisition used from the data pool. 78 Version: 1.20.2 TE13xx

## Page 79

Configuration Modify Bitmask In this field a value can be entered with which the display value is masked, provided it is not of the type floating point. This means that the value of the channel is ANDed with the binary value of the mask. This helps you, for example, to observe individual bits of a status byte. Offset A free offset can be added to the function value of the channel in the offset field. Scalefactor The display value of a channel can be changed with the scale factor. Unit This property enables the physical unit to be configured individually for the X- acquisition and the Y-acquisition of the channel. This can be done with the aid of the "Unit Wizard", which can be opened using the button on the right in the field. A further option is to define the units beforehand as attributes in the PLC code. These are then read out directly and entered in the Unit field. Detailed information on the units and their configuration options can be taken from the chapter [} 191]. 5.1.3.4 Single bar chart All the properties of the individual hierarchy levels of single bar charts are explained below. 5.1.3.4.1 Single bar chart properties All settings assigned to the single bar chart can be made here. TE13xx Version: 1.20.2 79

## Page 80

Configuration Behaviour Auto Start If this option is enabled, the chart starts the live display when a new recording is started. Data Tool Tip If this option is activated, a tool tip showing the exact values of a data point is displayed when clicking on the data point. The time stamp and the name of corresponding channel are also shown. Default Display Width This time specifies the standard width of the associated chart. This value determines the period between the displayed minimum and maximum values. Master Chart In the drop-down list that is available here, a chart that is part of the current configuration can be selected and designated as master chart. All actions that are executed in the master chart are also automatically executed in this chart. A separate pause option is provided, through which Y-zoom and Y-panning modes are available. An overview chart can also be displayed. Time Bar Specifies whether the time bar (information bar with time values) is displayed in the chart. Tool Bar Specifies whether the toolbar is displayed in the chart. 80 Version: 1.20.2 TE13xx

## Page 81

Configuration Color Border Color Defines the background color of the chart. Forecolor Specifies the color of the chart name. Gradient Background Provides for a color gradient in the background color. Common Comment A free comment can be saved here. CPU Core Here you can set (for each chart individually) which CPU core should be used for the current chart display. If required, multiple CPU cores can be specified for a chart. This may improve the performance. Name Name of the chart. Refresh Time [ms] Defines a rate at which the chart in the user interface is refreshed. Show Name Specifies whether the name of the chart is shown in the graph. Overview Back Color Specifies the background color of the overview chart. Fore Color Specifies the text and grid colors of the overview chart. Settings Scale on Zoom If this option is selected, the chart instructs the Y-axes to perform autoscaling after a zoom or panning action. The selected area can thus be widened. Stacked Axes With this setting you can select whether the various axis groups are arranged on a horizontal line or underneath one another. To change the settings for several charts at the same time, please refer to the chapter Multiple selection [} 389]. The chart display is operated with the toolbar. The overview shows all buttons and their explanation (from left): TE13xx Version: 1.20.2 81

## Page 82

Configuration Play Starts the live display mode. The data currently being accumulated are displayed. Break The display switches to the pause mode. You can now navigate in the data already recorded without stopping the recording. Display-Width The current display width is displayed here. It can be edited in the format hh:mm:ss,fff. The zoom function works down to the µs range. Scroll buttons The outer scroll buttons move the current display in steps that correspond to the display width. The inner scroll keys move the display only by a tenth of the display width and can be kept pressed to view the data set. Position Shows the position. It can be edited in the format hh:mm:ss,fff. The colons are used as separators. If not all units are edited the format is sorted in ascending order, starting with seconds. Undo/Redo Time/ This option can be used to undo step changes in the display width or the current Position position, irrespective of how they were made (e.g. zoom, scroll, etc.). The right mouse button is likewise assigned this function. Once undone, values can be repeated with redo. Panning Vertical In the vertical panning mode the current display can be shifted along the Y-axis by clicking and dragging. Zoom Vertical A new value range for the Y-axis can be selected by stretching a rectangle over the axis. Zoom to Default Carries out an autoscale on all axes. The display range is reset to the default display time. Zoom Out Max Sets the display range to the maximum recording length. Overview Use the Overview option to display a chart within the chart. The signal range currently shown in the main chart is highlighted in the Overview Chart. In addition the overview chart offers an absolute time axis for the entire recording duration. Chart Snipping Tool Screenshots of a chart can be edited and sent using the tool, see Chart Snipping Tool [} 274]. The current recording times are displayed in the chart toolbar: Start-Time The common starting point of the recordings of all connected channels. The start time defines the zero point of the recording. End-Time Maximum common time of all connected channels. The end time thus marks the final value of the recording. The difference between the end time and start time is maximally as large as the record time set (see Scope nodes [} 22]). Position The position time represents the zero point of the current chart, i.e. the time from the start time to the beginning of the display. Time Absolute time at the chart origin Date Absolute date at the chart origin Context menu You can find more information on this at Chart context menu. [} 103] 5.1.3.4.2 Single bar axis properties Settings can be made separately for each available single bar axis here. 82 Version: 1.20.2 TE13xx

## Page 83

Configuration TE13xx Version: 1.20.2 83

## Page 84

Configuration Common Canvas Color Defines the color of the chart. Comment A free comment can be saved here. Enabled Here you can switch the axis on or off completely. This functionality is also available via the context menu. Name Here the name of the axis can be edited. Show Title Determines which title is displayed above the chart. This function is only displayed if there is only one axis group, or if the axis groups are not stacked. Hide: no title is displayed Custom: the value from the 'Title' setting is displayed Name: the name of the axis group is selected X-Axis Title: the title of the X-axis is reused Y-Axis Title: the title of the Y-axis is reused First Channel: the name of the first channel is reused Below that, all channels are listed in order to select them explicitly. Title If Shot Title is set to 'Custom', this title will be displayed above the chart. Y-axis Color (Y) Color of the axis Color Mode (X/Y) Defines which color is displayed at the axis. Custom: the value from the 'Color Mode' setting is displayed First Channel: the name of the first channel is reused Below that, all channels are listed in order to select them explicitly. Inverted (Y) Invert axis value. Linewidth (Y) Line width in pixels Logarithmic (Y) Switches between logarithmic and linear scaling of the axes. Manual Max (Y) If the Scale Mode is set to Min Max, the maximum value can be edited directly. Manual Min (Y) If the Scale Mode is set to Min Max, the minimum value can be edited directly. Precision (Y) Here you can specify the number of significant digits for the axis labeling. It corresponds to the number of visible digits on the axis. Scale Mode (Y) Two Auto Scale modes are available for selection. The default mode is Auto Grow Only. This means the Y-axis always scales to the historic maximum, until a rescale is carried out for the current view. Alternatively, select Auto Grow NShrink. This mode always automatically adjusts the maximum of the Y-axis to the maximum in the current view (display width). Show Title (Y) Specifies whether the name of the axis is shown in the chart. Title (Y) Defines the name of the axis. Visible (Y) Specifies whether the axis is shown or hidden in the chart. 84 Version: 1.20.2 TE13xx

## Page 85

Configuration Y-Grid Grid Color (Y) Color of the grid. Grid Divisions (Y) Maximum number of subdivisions. If there is not enough space for the selected number of ticks, these are automatically reduced in the chart. In the case of logarithmic scaling the number of ticks depends on the displayed range of values and can thus deviate from the settings. Grid Linewidth (Y) Line width of the grid in pixels Subgrid Divisions (Y) Number of areas into which the main grid is subdivided by auxiliary lines. In the case of logarithmic scaling the auxiliary lines for subdivision are shown only in the set number if the range of values per tick is precisely one decade. Otherwise the displayed auxiliary line shows the decades not displayed in the main grid. Use Grid (Y) The subdivision of the axis can be shown or hidden here. Use Subgrid (Y) Auxiliary lines for the finer Y-subdivision of the main grid can be shown or hidden here. These auxiliary lines have no axis labeling. To change the settings for several axes at the same time, please refer to the chapter Multiple selection [} 389]. Context menu You can find more information on this at Axes context menu. [} 105] 5.1.3.4.3 Single bar channel properties All settings belonging to a single bar channel can be made here. Common Comment Comment on the channel. Enabled No data are acquired for the channel if Enabled is set to false. Name Specifies the name of the channel. Order Position Position of the channel in the chart. Title Color Specifies the title color for the channel. Visible Here you can set whether the channel should be displayed in the chart. TE13xx Version: 1.20.2 85

## Page 86

Configuration Line Antialias This option decides how the lines will be drawn. The computing time is longer with antialias. This has an effect in particular if there are many channels with large movements. Line Color Graph Colour. Marks Mark Color Color of the interpolation point marking. Mark Size Size of the interpolation point marking. Mark State Selecting the visibility of markings → On (permanently visible) | Off (markings switched off). Min/Max Show Max If the option is set to TRUE, the maximum values for the set display width are shown. Show Min If the option is set to TRUE, the minimum value for the set display width is shown. Y-Data Acquisition Here you can select the acquisition that will be displayed in the channel. Bismask (Y) In this field a value can be entered with which the display value is masked, provided it is not of the type floating point. This means that the value of the channel is ANDed with the binary value of the mask. This helps you, for example, to observe individual bits of a status byte. Offset (Y) A free offset can be added to the function value of the channel in the offset field. Scalefactor (Y) The display value of a channel can be changed with the scale factor. Unit (Y) This property enables the physical unit to be configured individually for the X- acquisition and the Y-acquisition of the channel. This can be done with the aid of the "Unit Wizard", which can be opened using the button on the right in the field. A further option is to define the units beforehand as attributes in the PLC code. These are then read out directly and entered in the Unit field. Detailed information on the units and their configuration options can be found in the chapter on Physical units [} 191]. To change the settings for several channels at the same time, please refer to the chapter Multiple selection [} 389]. Configuration of channel style properties with the aid of PLC attributes All style properties of a channel can be set directly on a variable or a data type in the PLC with the aid of attributes. This makes it possible to always display a certain symbol with the same style properties without having to reconfigure it every time. A PLC attribute is specified directly via the declaration of a variable or a data type in curly brackets. The following syntax applies to the assignment of the channel style properties: {attribute 'Tc Scope' := '<Property1:value, Property2:value,…>'} Example: {attribute 'Tc Scope' := '<Line Width:3, Line Color:red>'} Any number of channel style properties can be specified in an attribute. A separate syntax applies to the specification of the unit (Unit property; see: Configuration of units with the aid of PLC attributes [} 207]). 86 Version: 1.20.2 TE13xx

## Page 87

Configuration Context menu You can find more information on this at Channel context menu. [} 106] 5.1.3.4.4 Single bar acquisition interpreter Acquisition interpreters Acquisition interpreters can reference an acquisition of the data pool and forward the data after manipulation. The following settings can be made: Acquisition Acquisition Selection of the acquisition used from the data pool. Modify Bitmask In this field a value can be entered with which the display value is masked, provided it is not of the type floating point. This means that the value of the channel is ANDed with the binary value of the mask. This helps you, for example, to observe individual bits of a status byte. Offset A free offset can be added to the function value of the channel in the offset field. Scalefactor The display value of a channel can be changed with the scale factor. Unit This property enables the physical unit to be configured individually for the X- acquisition and the Y-acquisition of the channel. This can be done with the aid of the "Unit Wizard", which can be opened using the button on the right in the field. A further option is to define the units beforehand as attributes in the PLC code. These are then read out directly and entered in the Unit field. Detailed information on the units and their configuration options can be taken from the chapter [} 191]. 5.1.3.5 Digital Chart All the properties of the individual hierarchy levels of the Digital Chart are explained below. TE13xx Version: 1.20.2 87

## Page 88

Configuration 5.1.3.5.1 Digital Chart properties All settings assigned to the Digital Chart can be made here. 88 Version: 1.20.2 TE13xx

## Page 89

Configuration Behaviour Auto Start If this option is enabled, the chart starts the live display when a new recording is started. Data Tool Tip If this option is activated, a tool tip showing the exact values of a data point is displayed when clicking on the data point. The time stamp and the name of corresponding channel are also shown. Default Display Width This time specifies the standard width of the associated chart. This value determines the period between the displayed minimum and maximum values. Master Chart In the drop-down list that is available here, a chart that is part of the current configuration can be selected and designated as master chart. All actions that are executed in the master chart are also automatically executed in this chart. Only the Overview Chart can be shown in the toolbar. Time Bar Specifies whether the time bar (information bar with time values) is displayed in the chart. Tool Bar Specifies whether the toolbar is displayed in the chart. TE13xx Version: 1.20.2 89

## Page 90

Configuration Color Border Color Defines the background color of the chart. Forecolor Specifies the color of the chart name. Gradient Background Provides for a color gradient in the background color. Common Comment A free comment can be saved here. CPU Core Here you can set (for each chart individually) which CPU core should be used for the current chart display. If required, multiple CPU cores can be specified for a chart. This may improve the performance. Name The name of the chart. Refresh Time [ms] Defines the interval in which new values are to be displayed. Show Name Specifies whether the name of the chart is shown in the graph. Overview Back Color Sets the background color of the overview. Fore Color Sets the color of the axis labels and grids of the overview. Settings Stacked Axes Defines the stacking direction for axes. False for horizontal stacking of the axes and true for vertical stacking. The chart display is operated with the toolbar. The overview shows all buttons and their explanation (from left): Play Starts the live display mode. The currently pending data are displayed. Break Stops the live display mode and changes to the break mode. Here you can navigate in the data already recorded without stopping the recording. Display width The current display width is displayed here. It can be edited in the format hh:mm:ss,fff. The zoom function works down to the µs range. Scroll buttons The outer scroll buttons move the current display in steps that correspond to the display width. The inner scroll buttons move the display only by a tenth of the display width and can be kept pressed to view the data set. Position Shows the position. It can be edited in the format hh:mm:ss,fff. The colons are used as separators. If not all units are edited the format is sorted in ascending order, starting with seconds. Undo/Redo Time/ This option can be used to undo step changes in the display width or the current Position position, irrespective of how they were made (e.g. zoom, scroll, etc.). Once undone, values can be repeated with redo. Zoom to Default Resets the display width to the Default Display Width. Zoom Out Max Sets the display range to the maximum recording length. Overview Use the Overview option to display a chart within the chart. The signal range currently shown in the main chart is highlighted in the Overview Chart. In addition the overview chart offers an absolute time axis for the entire recording duration. The current recording times are displayed in the chart toolbar: 90 Version: 1.20.2 TE13xx

## Page 91

Configuration Start-Time The common starting point of the recordings of all connected channels. The start time defines the zero point of the recording. End-Time Maximum common time of all connected channels. The end time thus marks the final value of the recording. The difference between the end time and start time is maximally as large as the record time set (see Scope nodes [} 22]). Position The position time represents the zero point of the current chart, i.e. the time from the start time to the beginning of the display. Time Absolute time at the chart origin Date Absolute date at the chart origin Context menu You can find more information on this at Chart context menu. [} 103] 5.1.3.5.2 Digital axis properties Settings for digital chart axis groups can be made here. Common Canvas Color Defines the color for the axis group. Comment A free comment can be saved here. Enabled The axis group can be completely disabled here. This functionality is also available via the context menu. Name The name of the axis group. Context menu You can find more information on this at Axes context menu. [} 105] TE13xx Version: 1.20.2 91

## Page 92

Configuration 5.1.3.5.3 Digital channel properties All settings assigned to the Digital Chart can be made here. Common Comment A free comment can be saved here. If applicable the comment will be adopted from the connected ADS symbol. Enabled Defines whether data should be recorded for the channel. Name The name of the channel. Order Position Defines the order in which the channels are arranged within an axis group. Visible Here you can set whether the channel is to be displayed in the axis group. Modify All prefixes If this option is set to true, all available prefixes are used for the prefix scaling; otherwise deca, hecto, deci and centi are not considered. Scale Prefix The prefix scaling can be switched on or off here. With the prefix scaling, the displayed value is scaled with the aid of prefixes in such a way that it can be displayed with the lowest possible number of digits. 92 Version: 1.20.2 TE13xx

## Page 93

Configuration Style Background color Defines the color of the background of a channel. Foreground color Defines the color of the text and the digital digits. Precision The number of digits to be displayed can be set here. Show Min / Max This option determines whether the minimum and maximum values of the channel should be displayed below the digital digits. Show Name This option defines whether or not the name of the channel is to be displayed by the digital digits. Show Unit This option defines whether unit or prefix is to be displayed if it is present. Context menu You can find more information on this at Channel context menu. [} 106] 5.1.3.5.4 Digital channel acquisition All the settings for digital channel acquisition are explained here. Acquisition Acquisition Selection of the acquisition used from the data pool. Common Name The name of the interpreter. TE13xx Version: 1.20.2 93

## Page 94

Configuration Modify Bitmask In this field a value can be entered with which the display value is masked, provided it is not of the type floating point. This means that the value of the channel is ANDed with the binary value of the mask. This helps you, for example, to observe individual bits of a status byte. Offset A free offset can be added to the function value of the channel in the offset field. Scalefactor The display value of a channel can be changed with the scale factor. Unit This property enables the physical unit to be configured individually for the X- acquisition and the Y-acquisition of the channel. This can be done with the aid of the "Unit Wizard", which can be opened using the button on the right in the field. A further option is to define the units beforehand as attributes in the PLC code. These are then read out directly and entered in the Unit field. Detailed information on the units and their configuration options can be taken from the chapter [} 191]. 5.1.3.6 XYZ Chart XYZ Chart enables 3-dimensional representation of signals in Twin CAT 3 Scope. Three data series are combined to one channel. XYZ Chart is available from version 3.4.3145.0. Requirements: To use 3D charts in Twin CAT 3 Scope, Open GL must be installed on the system. To use all features and performance improvements Open GL version 2.1 or higher is required. 5.1.3.6.1 XYZ Chart movement XYZ Chart can be moved while holding down the left mouse button. A distinction is made between two different movement types: Orbital movement: In case of orbital movement, the direction of view rotates around the marked central point when the mouse is moved. The distance to the central point can be changed via the mouse wheel. 94 Version: 1.20.2 TE13xx

## Page 95

Configuration Shift: The chart can be moved at the screen level by moving the mouse. The mouse wheel moves the chart depth. Unlike orbital movement, displacement changes the relative position of the central point to the chart. Commutation: The ALT key is used to switch between the movement modes. When the ALT key is held down, "Shift" mode is active by default. The button marked in red can be used to invert the effect of the ALT key. In this way, movements are possible without a keyboard (e.g. on a touch screen). Jump to a data point: The button marked in red activates the "Zoom to selected point" function. If a data point is clicked with the function active, the camera jumps to the selected data point and sets it as the central point. This makes it possible to look closely at the surroundings of a data point. Reset: The current view can be reset to the default view by pressing the ESC key or by pressing the red "X" in the upper left corner. Animation: With XYZ Chart it is possible to add several views to an animation and to run them automatically one after the other. The chart can be controlled using the buttons in the top left corner of the chart. Starts the animation Pauses the animation Adds the current view to the animation Deletes all views from the animation TE13xx Version: 1.20.2 95

## Page 96

Configuration 5.1.3.6.2 XYZ chart properties 96 Version: 1.20.2 TE13xx

## Page 97

Configuration Behaviour Auto Start If this option is enabled, the chart starts the live display when a new recording is started. Data Tool Tip If this option is enabled, clicking on a data point displays the exact value, the timestamp and the name of the corresponding channel in the upper left corner. Default Display Width This time specifies the standard width of the associated chart. This value is set, for example, when the rescale button is selected in the chart toolbar. Master Chart In the drop-down list that is available here, a chart that is part of the current configuration can be selected and designated as master chart. All actions that are executed in the master chart are also automatically executed in this chart. A separate pause option is provided, through which Y-zoom and Y-panning modes are available. An overview chart can also be displayed. Time Bar Specifies whether the time bar is displayed in the chart. Tool Bar Specifies whether the toolbar is displayed in the chart. Color The background and frame color can be set by means of color dialogs. Common Comment A free comment can be saved here. CPU Core Here you can set (for each chart individually) which CPU core should be used for the current chart display. If required, multiple CPU cores can be specified for a chart. This may improve the performance. Max Data Points Determines the maximum number of data points that can be displayed at the same time. The default value is 120,000. This means that, at a sampling rate of 1 ms (Task Sample Time), the maximum recording time for which values can be displayed simultaneously is 2 minutes. Show Name Specifies whether the name of the chart is shown in the graph. Settings Stacked Axes Defines the stacking direction for axes. False for horizontal stacking of the axes and true for vertical stacking. Tool Bar Show Panning Mode Specifies whether the button for toggling the ALT functionality is displayed in the toolbar. XYZ Chart movement [} 94] Context menu You can find more information on this at Chart context menu. [} 103] 5.1.3.6.3 XYZ-axis properties Here you can find all settings for the axes in an XYZ chart. TE13xx Version: 1.20.2 97

## Page 98

Configuration 98 Version: 1.20.2 TE13xx

## Page 99

Configuration Common Canvas Color Here you can set the background color of the drawing area. Comment Here you can add a free comment. Enabled Shows/hides the entire axis. Name Indicates the name of the axis group. This is used in the Solution Editor. Show Title Determines which title is displayed above the chart. This function is only displayed if there is only one axis group, or if the axis groups are not stacked. Hide: no title is displayed Custom: the value from the 'Title' setting is displayed Name: the name of the axis group is selected X-Axis Title: the title of the X-axis is reused Y-Axis Title: the title of the Y-axis is reused First Channel: the name of the first channel is reused Below that, all channels are listed in order to select them explicitly. Title If Shot Title is set to 'Custom', this title will be displayed above the chart. (X/Y/Z) axis Color (X/Y/Z) Color of the axis. Color Mode (X/Y/Z) Defines which color is displayed at the axis. Custom: the value from the 'Color Mode' setting is displayed First Channel: the name of the first channel is reused Below that, all channels are listed in order to select them explicitly. Inverted (X/Y/Z) Inverts the scaling of the axis Line Width (X/Y/Z) Specifies the line width of the axis Logarithmic (X/Y/Z) Specifies whether the axis is scaled logarithmically. Manual Max (X/Y/Z) Specifies the maximum value for manual scaling. Manual Min (X/Y/Z) Specifies the minimum value for manual scaling. Precision (X/Y/Z) Specifies the number of significant digits for the axis label. Scale Mode (X/Y/Z) Specifies the Scale Mode for the axis. There are three modes to choose from. In case of Manual, the range of the axis can be fixed. Auto Grow Only automatically increases the area of the axis, if data points are outside the specified range. Auto Grow NShrink further shrinks the range if extreme values in the data are no longer in the displayed time range. Show Title (X/Y/Z) Specifies whether to display the title of the axis. Title (X/Y/Z) Axis title Visible (X/Y/Z) Toggles the visibility of the axis label. (X/Y/Z) Grid Grid Color (X/Y/Z) Color of the grid. Grid Divisions (X/Y/Z) Maximum number of grid subdivisions. If the drawing space is insufficient for the number of divisions, the system automatically switches to fewer divisions. Use Grid (X/Y/Z) The X-divisions can be switched on and off here. Context menu You can find more information on this at Axes context menu. [} 105] 5.1.3.6.4 XYZ channel properties Here you will find all settings for the channel properties. TE13xx Version: 1.20.2 99

## Page 100

Configuration Cap Cap Color Specifies the color of the active cap. Cap Size Specifies the size of the caps. Show Endcap Activates the end cap for the channel. Show Startcap Activates the start cap for the channel. 100 Version: 1.20.2 TE13xx

## Page 101

Configuration Common Comment A free comment can be saved here. If applicable the comment will be adopted from the connected ADS symbol. Enabled General switching on and off of the channel. Name channel name. This is initially put together automatically from the individual acquisitions and can then be changed. Visible Drawing of the channel in the graph can be enabled or disabled here. Even if drawing is disabled, the data is recorded. Line Antialias This option decides how the lines will be drawn. Antialias is "nicer" but requires considerably more computing. This has an effect in particular if there are many channels with large movements. Fill Color Fill mode can be used to color an area, e.g. above or below a curve. Here you can select the fill color. Fill Mode Fill mode can be used to color an area, e.g. above or below a curve. The default setting is “None”. Alternatives are: Horizontal Zero, Bottom, Top, Center and Source. Fill Transparency Here you can set the transparency value of the fill color. The default value is 50. Graph Type Here you can select different presentation types for the graph. Line Color Graph Colour. Line Width Line width of the chart. The line width 1 requires least computing. Marks Mark Color Color of the interpolation point markers. Mark Size Size of the interpolation point markers. Mark State Specifies the visibility of markers: On (permanently visible) | Auto (depending on the zoom level) | Off (markers disabled). Context menu You can find more information on this at Channel context menu. [} 106] 5.1.3.6.5 XYZ Channel Acquisition This chapter explains all the acquisitions settings for XYZ charts. TE13xx Version: 1.20.2 101

## Page 102

Configuration Acquisition Acquisition Selection of the acquisition used from the data pool. Common Name The name of the interpreter. Modify Bitmask In this field a value can be entered with which the display value is masked, provided it is not of the type floating point. This means that the value of the channel is ANDed with the binary value of the mask. This helps you, for example, to observe individual bits of a status byte. Offset Here a free offset can be added to the function value of the channel. Scalefactor The display value of a channel can be changed with the scale factor. Unit This property allows the physical unit to be configured for the respective acquisition. This can be done with the aid of the "Unit Wizard", which can be opened using the button on the right in the field. A further option is to define the units beforehand as attributes in the PLC code. These are then read out directly and entered in the Unit field. Detailed information on the units and their configuration options can be found in the chapter on Physical units [} 191]. 102 Version: 1.20.2 TE13xx

## Page 103

Configuration 5.1.3.7 Context menu 5.1.3.7.1 Chart context menu Context menu The first two groups contain the functionalities for opening various Windows tools. These include firstly the Target Browser [} 166], the Comment Window, the Layer Editor [} 211], the Marker Window [} 108] and finally the Trigger Window [} 108]. In the following group, the existing configuration can be reconfigured with just a few clicks. "Change Ads Symbol..." If the symbol names have changed in several ADS acquisitions, parts of the name can be exchanged using this function. "Change Display Name" The "Change Display Name" function can be used to set the level of detail to be displayed for the names of the channels and acquisitions. "Change Index Group..." This function can be used to change the Index Group of all ADS variables. Either an offset can be calculated or a new value can be entered. Elements below the chart can be added in the fourth group. "New Axis" A new axis group is added below the chart with this function. "New Image" If no image has yet been created below the chart, a new image can be created here. TE13xx Version: 1.20.2 103

## Page 104

Configuration "Stacked Axes" Here you can change the setting that allows you to select whether the axes of a chart should be next to each other. If no tick is visible on the left, the axes are next to each other and the values of the added channels are displayed within the same area. If the tick is visible, the axes are displayed one above the other and each axis has its own presentation range. The following group offers various functions for interacting with the markers. "Create Marker Table" This menu entry can be used to add a table in the Maker Window [} 108], which is automatically filled in with all the information from the chart. "New Time Marker" Creates a new Time Marker and adds it to the selected element. "Bring marker into view" This function can be used to move a time marker that is fixed to an axis to the center of the currently visible area of the chart. "Add comment" To write additional information to the selected node, this function can be used to add a new comment, which is displayed in the comment window. "Add Template Comment" In this submenu, new templates can be created or selected in order to add them. Various standard functionalities can be found in the last two groups. The selected node can be copied ("Copy"), removed ("Remove"), renamed ("Rename") or inserted below it ("Paste"). The Visual Studio properties window can also be opened for further parameterization ("Properties"). 104 Version: 1.20.2 TE13xx

## Page 105

Configuration 5.1.3.7.2 Axis context menu The first two groups contain the functionalities for opening various Windows tools. These include firstly the Target Browser [} 166], the Comment Window, the Layer Editor [} 211], the Marker Window [} 108] and finally the Trigger Window [} 108]. In the following group, the existing configuration can be reconfigured with just a few clicks. "Change Ads Symbol..." If the symbol names have changed in several ADS acquisitions, parts of the name can be exchanged using this function. "Change Display Name" The "Change Display Name" function can be used to set the level of detail to be displayed for the names of the channels and acquisitions. "Change Index Group..." This function can be used to change the Index Group of all ADS variables. Either an offset can be calculated or a new value can be entered. "New Empty Channel" A new channel can be added below the axis group with this entry. "Show Axis Scale" Setting whether the axes should be displayed or not. If the tick is visible on the left, the axes are drawn, otherwise they are not. This does not change the visibility of the channels or the chart. "Visible" Setting whether the entire axis group should be displayed. If the tick is present, the visible channels and the corresponding chart are displayed. If the tick is not visible, nothing more of the axis group is displayed. The following group offers various functions for interacting with the markers. TE13xx Version: 1.20.2 105

## Page 106

Configuration "Create Marker Table" This function can be used to add an automatically generated table in the Marker Window, which displays all information on the selected axis group. Depending on the chart type, different types of markers can be inserted using the menu entries below. "Add comment" To write additional information to the selected node, this function can be used to add a new comment, which is displayed in the comment window. "Add Template Comment" In this submenu, new templates can be created or selected in order to add them. Various standard functionalities can be found in the last two groups. The selected node can be copied ("Copy"), removed ("Remove"), renamed ("Rename") or inserted below it ("Paste"). The Visual Studio properties window can also be opened for further parameterization ("Properties"). 5.1.3.7.3 Channel context menu The first two groups contain the functionalities for opening various Windows tools. These include firstly the Target Browser [} 166], the Comment Window, the Layer Editor [} 211], the Marker Window [} 108] and finally the Trigger Window [} 108]. In the following group, the existing configuration can be reconfigured with just a few clicks. "Change Ads Symbol..." If the symbol names have changed in several ADS acquisitions, parts of the name can be exchanged using this function. "Change Display Name" The "Change Display Name" function can be used to set the level of detail to be displayed for the names of the channels and acquisitions. 106 Version: 1.20.2 TE13xx

## Page 107

Configuration "Change Index Group..." This function can be used to change the Index Group of all ADS variables. Either an offset can be calculated or a new value can be entered. "New Dynamic Style" This context menu entry can be used to create a new Dynamic Style and add it to the channel. "Go to Acquisition" With this function, all acquisitions of the channel are marked in the Solution Explorer. "Visible" A channel can be made invisible and visible again with this setting. If the entry is active (tick is visible on the left), the channel is displayed in the chart. "Enabled" If this menu entry is active, data is prepared for the channel in order to be displayed. "Add comment" To write additional information to the selected node, this function can be used to add a new comment, which is displayed in the comment window. "Add Template Comment" In this submenu, new templates can be created or selected in order to add them. Various standard functionalities can be found in the last two groups. The selected node can be copied ("Copy"), removed ("Remove"), renamed ("Rename") or inserted below it ("Paste"). The Visual Studio properties window can also be opened for further parameterization ("Properties"). 5.1.4 Trigger Triggers can be a useful addition to the scope configuration for controlling a scope recording or for marking significant events in the data stream. The triggers in the scope are organized in groups [} 110] and sets [} 143]. In a group the trigger action such as Start Record or Set Mark can be selected. The set defines the actual trigger condition, e.g. exceeding of a limit value of a particular variable. The sets can be linked using logical operators. A basic distinction is made between two types of sets, a channel and a menu directory type. Trigger groups and trigger sets can be added via the trigger context menu. Context menu TE13xx Version: 1.20.2 107

## Page 108

Configuration The first two groups contain the functionalities for opening various Windows tools. These include firstly the Target Browser [} 166], the Comment Window, the Layer Editor [} 211], the Marker Window [} 108] and finally the Trigger Window [} 108]. The entries in the third group can be used to create new trigger groups. "New Trigger Group" Creates an empty Trigger Group [} 110]. New Channel/Directory/Time Trigger Set Creates a new Trigger Group [} 110] with a new Trigger Set of the type Channel [} 144], Directory [} 145] or Time [} 146]. Various standard functionalities can be found in the last two groups. The selected node can be copied ("Copy"), removed ("Remove"), renamed ("Rename") or inserted below it ("Paste"). The Visual Studio properties window can also be opened for further parameterization ("Properties"). Manual triggering of trigger set Triggers can be manually triggered for test purposes via the Trigger Set context menu command Manual Trigger Hit. Trigger Window The Trigger window can be opened via the Trigger context menu. It displays the triggers with the times at which they were triggered. If you pause the chart displays and select the corresponding events in the trigger window, the display in the chart jumps to the corresponding position. Marker Window In the Marker Window, channel values from the times of markers or trigger events (timers) can be output and compared with other timer values. A Marker Window always refers to the project selected in the Solution Explorer. 108 Version: 1.20.2 TE13xx

## Page 109

Configuration The Marker Window consists of a menu bar and an arbitrary number of tables. The tables can be freely created and also deleted again. The menu bar at the top edge of the Marker Window contains the following buttons: • Copy: Copies all values from the Marker Window to the clipboard so that they can be pasted into another program. • Add table: Adds a new table. • Delete table: Deletes the selected table. • At the side of the buttons there is also a selection box in which all charts existing in the configuration are listed. If a chart is selected there, an automatic table is created containing all markers and channels that refer to the chart. All tables are pictured below one another under the menu bar. The values of the various channels at the different times of the timers are displayed in a table. There are two different options for the rows and columns. • Option 1: Select one timer / channel; in this case only the value of one time/one channel is output. • Option 2: Select two timers/channels; in this case the difference between the values is calculated. If two timers and two channels are selected, the difference is calculated between the 1st channel and the 1st time (position) and between the 2nd channel and the 2nd time (position). The following buttons are available for the configuration of the table: • Copy: Copies the values from the table. • Add row: Adds a row with a single selection option. • Add difference row: Adds a row with a double selection option for a difference. • Add column: Adds a column with a single selection option. • Add difference column: Adds a column with a double selection option for a difference. • Rotate orientation: The orientation setting button lets you define whether the timers or channels are in columns or in rows. • Colored marking: In order to be able to assign markers and channels not only on the basis of the names, small lines can be displayed in front of the name, which have the same color as the associated elements. • Colored numbers: The data can be drawn in the table in the same colors as the color of the associated timer. • Hex notation: The values are displayed using hexadecimal notation. • Absolute time: The time is displayed as an absolute time. • Unit: The units of the channels are also displayed in the table. • Scientific Notation: If the Scientific Notation is set to 'default' for the markers, this setting can be used to overwrite the value for the display in the Marker window. If the 'Components Highlight' setting is active in the options [} 311], the associated channels and markers can be highlighted in the diagram by clicking on a cell. If the value is set to 'Enabled', simply selecting the cell is sufficient. If the option is set to 'Double Click', a cell must be selected by double-clicking on it. TE13xx Version: 1.20.2 109

## Page 110

Configuration 5.1.4.1 Trigger Group Trigger Groups can contain several Trigger Sets. They offer setting options regarding Trigger Actions and general properties depending on the selected action. For an overview of the available actions, see Trigger Action [} 112]. Properties of the trigger group The properties of the trigger group can deviate from the illustration shown here, because some setting options are visible and editable only with special trigger actions. For example, the Trigger Position setting is visible only with the trigger actions "Stop Display" and "Restart Display". 110 Version: 1.20.2 TE13xx

## Page 111

Configuration Common Name Name of the trigger group Trigger Action Trigger Action Displays the selected trigger action for the corresponding trigger group Context menu The first two groups contain the functionalities for opening various Windows tools. These include firstly the Target Browser [} 166], the Comment Window, the Layer Editor [} 211], the Marker Window [} 108] and finally the Trigger Window [} 108]. "New Channel Trigger Set" This entry can be used to add a new Channel Trigger Set [} 144]. However, this entry is only displayed if no Directory Trigger Set exists in the Trigger Group. "New Directory Trigger Set" This entry can be used to add a new Directory Trigger Set [} 145]. However, this entry is only displayed if no Trigger Set has yet been added to the Trigger Group. "New Time Trigger Set" This entry can be used to add a new Time Trigger Set [} 146]. However, this entry is only displayed if no Directory Trigger Set exists in the Trigger Group. "Visible" If this entry has a tick on the left, this means that the Trigger Group is visible. This means that the Trigger Release information is displayed in the charts and also in the Trigger window. "Enabled" Trigger events are searched for in the data during recording only if this setting is active (tick on the left). Various standard functionalities can be found in the last two groups. The selected node can be copied ("Copy"), removed ("Remove"), renamed ("Rename") or inserted below it ("Paste"). The Visual Studio properties window can also be opened for further parameterization ("Properties"). TE13xx Version: 1.20.2 111

## Page 112

Configuration 5.1.4.1.1 Trigger Action The following trigger actions are available for selection. Trigger Action Short description Set Mark [} 112] Sets markers at significant locations in the data stream Start Record [} 115] Starts a recording based on an event Stop Record [} 117] Stops a recording based on an event Start Subsave [} 119] Starts one of up to five additional background recordings based on an event Stop Subsave [} 122] Stops the background recording that was started first based on an event Stop Display [} 124] Pauses the display based on an event; recording continues Restart Display [} 127] Starts the display based on an event Export [} 129] Exports the current data due to an event. Reporting Trigger Triggers the generation of the report in the Reporting Server. [} 133] Reporting Collector Sends the data to the Reporting Server. [} 136] Reporting Collector + Sends the data to the Reporting Server and triggers the generation of the report. Trigger [} 140] 5.1.4.1.1.1 Set Mark The Set Mark Trigger action marks significant locations in the data stream. These can be circles in the XY chart or vertical lines in the YT chart. In the latter, additional small images can optionally highlight the event. You can use your own images or those that the scope itself provides for certain event categories. 112 Version: 1.20.2 TE13xx

## Page 113

Configuration TE13xx Version: 1.20.2 113

## Page 114

Configuration Trigger Group Color Here you can specify the color for marking the event in the chart Connected Charts If the markings are not to be displayed in every chart of the configuration, charts for which the markings are displayed can be selected here. Each chart is automatically added when it is created. Enabled The selected trigger group can be switched on and off here Silent If you set Silent to TRUE, no more trigger messages are displayed in the engineering message window Trigger Category Predefined categories are available for the trigger markers. These are inserted with a symbol and a default color. The following categories are available: Alert Error Warning Info The "Text" option can be used to enter free text. This text is then displayed instead of a symbol. The "Custom Picture" or "Custom Folder" option can be used to select custom symbols or small images. Trigger Image Size Here you can enter the image size. The larger the value, the smaller the chart area Trigger Release This property specifies the maximum number of trigger events that can be stored and Capacity displayed simultaneously Visible Here you can set whether the event should also be visibly marked in the data stream Visible Trigger This setting allows predefined values for simultaneous display of events during Release Capacity recording, up to the value set in "Trigger Release Capacity" Trigger Category In addition to the four predefined categories, the markers can be further configured. Here you can choose between a text display and an image display. Text Trigger text The setting can be used to specify the text to be displayed in the chart at the trigger. Custom Picture Trigger Category A path to an image file can be specified. This image is displayed above the trigger in Image the chart. Use Server Files If this function is set, the specified path is not searched for on the local system, but on all server systems that are used in this trigger group. Custom Folder 114 Version: 1.20.2 TE13xx

## Page 115

Configuration Trigger Category A path to an image folder can be specified. With each new trigger event, the current Directory image is read out in this trigger and added to the trigger. Use Server Files If this function is set, the specified path is not searched for on the local system, but on all server systems that are used in this trigger group. 5.1.4.1.1.2 Start Record If this option is selected, the start mode in the scope settings is automatically set to "Trigger Start". The Scope View connects to the selected Scope Server as usual after you have clicked Start Record in the toolbar. The connected channels will now be screened, but without starting the actual recording. Recording starts automatically at the trigger time of the last trigger set condition. This trigger action also works well in combination with the Restart Record function in the scope settings. The click on the record button is automated for further recordings after it has been pressed once. TE13xx Version: 1.20.2 115

## Page 116

Configuration Trigger Group Color Here you can specify the color for marking the event in the chart Connected Charts If the markings are not to be displayed in every chart of the configuration, charts for which the markings are displayed can be selected here. Each chart is automatically added when it is created. Enabled The selected trigger group can be switched on and off here Silent If you set Silent to TRUE, no more trigger messages are displayed in the engineering message window Trigger Category Predefined categories are available for the trigger markers. These are inserted with a symbol and a default color. The following categories are available: Alert Error Warning Info The "Text" option can be used to enter free text. This text is then displayed instead of a symbol. The "Custom Picture" or "Custom Folder" option can be used to select custom symbols or small images. Trigger Image Size Here you can enter the image size. The larger the value, the smaller the chart area Trigger Release This property specifies the maximum number of trigger events that can be stored and Capacity displayed simultaneously Visible Here you can set whether the event should also be visibly marked in the data stream Visible Trigger This setting allows predefined values for simultaneous display of events during Release Capacity recording, up to the value set in "Trigger Release Capacity" Trigger Category In addition to the four predefined categories, the markers can be further configured. Here you can choose between a text display and an image display. Text Trigger text The setting can be used to specify the text to be displayed in the chart at the trigger. Custom Picture Trigger Category A path to an image file can be specified. This image is displayed above the trigger in Image the chart. Use Server Files If this function is set, the specified path is not searched for on the local system, but on all server systems that are used in this trigger group. Custom Folder 116 Version: 1.20.2 TE13xx

## Page 117

Configuration Trigger Category A path to an image folder can be specified. With each new trigger event, the current Directory image is read out in this trigger and added to the trigger. Use Server Files If this function is set, the specified path is not searched for on the local system, but on all server systems that are used in this trigger group. 5.1.4.1.1.3 Stop Record This trigger action is ideal for monitoring malfunctions in applications that occur after an unspecified time. For this application we recommend operating the scope in ring buffer mode with the Stop Record Trigger Action selected. This is the best way to use the options for pre- and post-trigger time. because with these options you can decide whether you want to see a time range before and after the trigger event in the recording. It is also possible to use only one of the two options. If you use the pre-trigger time, all valid trigger events before this time expires will be ignored. This function works best with the scope options Auto Save and Restart Record [} 22]. TE13xx Version: 1.20.2 117

## Page 118

Configuration Trigger Group Color Here you can specify the color for marking the event in the chart Connected Charts If the markings are not to be displayed in every chart of the configuration, charts for which the markings are displayed can be selected here. Each chart is automatically added when it is created. Enabled The selected trigger group can be switched on and off here Post-Trigger Here you can set a time in the format dd:HH:mm:ss for the recording to continue after the trigger event has occurred Pre-Trigger In the format dd:HH:mm:ss the minimum time that must elapse before the trigger event can be set Silent If you set Silent to TRUE, no more trigger messages are displayed in the engineering message window Trigger Category Predefined categories are available for the trigger markers. These are inserted with a symbol and a default color. The following categories are available: Alert Error Warning Info The "Text" option can be used to enter free text. This text is then displayed instead of a symbol. The "Custom Picture" or "Custom Folder" option can be used to select custom symbols or small images. Trigger Image Size Here you can enter the image size. The larger the value, the smaller the chart area Trigger Release This property specifies the maximum number of trigger events that can be stored and Capacity displayed simultaneously Use Post-Trigger If TRUE, the time set under post-trigger is taken into account Use Pre-Trigger If TRUE, the time set under pre-trigger is taken into account Visible Here you can set whether the event should also be visibly marked in the data stream Visible Trigger This setting allows predefined values for simultaneous display of events during Release Capacity recording, up to the value set in "Trigger Release Capacity" Trigger Category In addition to the four predefined categories, the markers can be further configured. Here you can choose between a text display and an image display. Text Trigger text The setting can be used to specify the text to be displayed in the chart at the trigger. Custom Picture Trigger Category A path to an image file can be specified. This image is displayed above the trigger in Image the chart. Use Server Files If this function is set, the specified path is not searched for on the local system, but on all server systems that are used in this trigger group. 118 Version: 1.20.2 TE13xx

## Page 119

Configuration Custom Folder Trigger Category A path to an image folder can be specified. With each new trigger event, the current Directory image is read out in this trigger and added to the trigger. Use Server Files If this function is set, the specified path is not searched for on the local system, but on all server systems that are used in this trigger group. 5.1.4.1.1.4 Start Subsave The main use case for this trigger action is to store data packets during a long recording in order to make important data persistent. If you select this trigger action, another recording of the current configuration is started invisibly in the background when the trigger event occurs. This background recording always runs in the ring buffer, regardless of the scope settings. Please note that the maximum number of background recordings that can be started in parallel is five. A record time can also be specified here, irrespective of the actual scope settings. This also determines the required memory, which should be taken into account. The system must be designed for basic configuration and a maximum of five background recordings in RAM and hard disk. With subsave recordings it is possible to store overlapping and also gapless recordings. Please note that the same trigger condition must be used for the gapless recordings, e.g. "rising edge by 5". Which then duplicates this sample, with the result that is in the saved recording and in the restarted recording. Note on Subsave Trigger Start and Stop Subsave Triggers can only be used together. A configuration that only contains a Start Subsave trigger group does not make sense, because background recordings that have been started must be terminated with Stop Subsave. Only a manual stop of the basic recording also leads to the saving of the background recordings. TE13xx Version: 1.20.2 119

## Page 120

Configuration 120 Version: 1.20.2 TE13xx

## Page 121

Configuration Trigger Group Color Here you can specify the color for marking the event in the chart Connected Charts If the markings are not to be displayed in every chart of the configuration, charts for which the markings are displayed can be selected here. Each chart is automatically added when it is created. Enabled The selected trigger group can be switched on and off here Record Time Here you can set the ring buffer recording time for the background recordings in the format dd:HH:mm:ss Silent If you set Silent to TRUE, no more trigger messages are displayed in the engineering message window Trigger Category Predefined categories are available for the trigger markers. These are inserted with a symbol and a default color. The following categories are available: Alert Error Warning Info The "Text" option can be used to enter free text. This text is then displayed instead of a symbol. The "Custom Picture" or "Custom Folder" option can be used to select custom symbols or small images. Trigger Image Size Here you can enter the image size. The larger the value, the smaller the chart area Trigger Release This property specifies the maximum number of trigger events that can be stored and Capacity displayed simultaneously Visible Here you can set whether the event should also be visibly marked in the data stream Visible Trigger This setting allows predefined values for simultaneous display of events during Release Capacity recording, up to the value set in "Trigger Release Capacity" Trigger Category In addition to the four predefined categories, the markers can be further configured. Here you can choose between a text display and an image display. Text Trigger text The setting can be used to specify the text to be displayed in the chart at the trigger. Custom Picture Trigger Category A path to an image file can be specified. This image is displayed above the trigger in Image the chart. Use Server Files If this function is set, the specified path is not searched for on the local system, but on all server systems that are used in this trigger group. Custom Folder TE13xx Version: 1.20.2 121

## Page 122

Configuration Trigger Category A path to an image folder can be specified. With each new trigger event, the current Directory image is read out in this trigger and added to the trigger. Use Server Files If this function is set, the specified path is not searched for on the local system, but on all server systems that are used in this trigger group. 5.1.4.1.1.5 Stop Subsave This trigger action stops background recordings already started by the Start Subsave trigger. If several background recordings (maximum 5) are already running, the oldest background recording is stopped first by a corresponding event and automatically saved in the specified path as an .svdx file. The generated file name consists of the name of the Scope in the basic configuration and an ID composed of the date and time, in alphanumeric order. The Auto Delete functions are a special feature. This enhances storage space management on the target system. Automatically saved .svdx files can be deleted from the folder after a certain number of .svdx files has been reached, or the oldest files can be deleted after a specified time. 122 Version: 1.20.2 TE13xx

## Page 123

Configuration Trigger Group Color Here you can specify the color for marking the event in the chart. Connected Charts If the markings are not to be displayed in every chart of the configuration, charts for which the markings are displayed can be selected here. Each chart is automatically added when it is created. Connected Charts In the subsave, only the charts that are connected in this trigger group are added. The subsave only acquisitions that are not used in the selected charts are also not saved. Enabled The selected trigger group can be switched on and off here. Post-Trigger Here you can set a time in the format dd:HH:mm:ss for the recording to continue after the trigger event has occurred. Pre-Trigger In the format dd:HH:mm:ss the minimum time that must elapse before the trigger event can be set. Save Path Here you can specify the path for the svdx files to be saved. Silent If you set Silent to TRUE, no more trigger messages are displayed in the engineering message window. Trigger Category Predefined categories are available for the trigger markers. These are inserted with a symbol and a default color. The following categories are available: Alert Error Warning Info The "Text" option can be used to enter free text. This text is then displayed instead of a symbol. The "Custom Picture" or "Custom Folder" option can be used to select custom symbols or small images. Trigger Image Size Here you can enter the image size. The larger the value, the smaller the chart area. Trigger Release This property specifies the maximum number of trigger events that can be stored and Capacity displayed simultaneously. Use Post-Trigger If TRUE, the time set under post-trigger is taken into account. Use Pre-Trigger If TRUE, the time set under pre-trigger is taken into account. Visible Here you can set whether the event should also be visibly marked in the data stream. Visible Trigger This setting allows predefined values for simultaneous display of events during Release Capacity recording, up to the value set in "Trigger Release Capacity". Auto Delete Auto Delete mode Here you can set the mode in which the Auto Delete function should run. If set to "Disabled", no files will be deleted. "Capacity“ deletes the oldest file in the folder if more than the number of files specified in "Delete more than" has been saved. If set to "Older Than", all files older than the time specified in "Delete older than" will be deleted. The option "Capacity Or Older Than" is a combination of "Capacity" and "Older Than". That is, files are deleted when the conditions for either option are met. Delete more than This option defines when and with how many created files the oldest is to be deleted. The option is only active as long as "Capacity" or "Capacity Or Older Than" is selected in "Auto Delete". Delete older than This option defines the number of seconds after which a file is to be deleted with Auto Delete. The option is only active as long as "Older Than" or "Capacity Or Older Than" is selected in "Auto Delete". Trigger Category In addition to the four predefined categories, the markers can be further configured. Here you can choose between a text display and an image display. Text TE13xx Version: 1.20.2 123

## Page 124

Configuration Trigger text The setting can be used to specify the text to be displayed in the chart at the trigger. Custom Picture Trigger Category A path to an image file can be specified. This image is displayed above the trigger in Image the chart. Use Server Files If this function is set, the specified path is not searched for on the local system, but on all server systems that are used in this trigger group. Custom Folder Trigger Category A path to an image folder can be specified. With each new trigger event, the current Directory image is read out in this trigger and added to the trigger. Use Server Files If this function is set, the specified path is not searched for on the local system, but on all server systems that are used in this trigger group. 5.1.4.1.1.6 Stop Display With this trigger action you can pause the display of a chart. If the trigger condition occurs, all charts that are in live mode at that time are automatically stopped. If the trigger condition is met again, the display jumps to this new event. In order to prevent this retriggering, the Pause button can be pressed in the corresponding chart. Clear Chart is a special option. This option allows you to remove the previously drawn graphs from the display. Drawing continues from the event onwards. 124 Version: 1.20.2 TE13xx

## Page 125

Configuration TE13xx Version: 1.20.2 125

## Page 126

Configuration Trigger Group Clear Chart If this option is activated, all graphs in the displays with the event are deleted and redrawn starting from the display position of the event Color Here you can specify the color for marking the event in the chart Connected Charts If not every chart of the configuration is to be stopped, charts can be selected here, which are stopped by the trigger. Each chart is automatically added when it is created. Enabled The selected trigger group can be switched on and off here Silent If you set Silent to TRUE, no more trigger messages will be displayed in the engineering message window Trigger Category Predefined categories are available for the trigger markers. These are inserted with a symbol and a default color. The following categories are available: Alert Error Warning Info The "Text" option can be used to enter free text. This text is then displayed instead of a symbol. The "Custom Picture" or "Custom Folder" option can be used to select custom symbols or small images. Trigger Image Size Here you can enter the image size. The larger the value, the smaller the chart area. Trigger Position Here you can specify (in percent) at which position in the display the trigger event should appear when the display is stopped. Trigger Release This property specifies the maximum number of trigger events that can be stored and Capacity displayed simultaneously. Visible Here you can set whether the event should also be visibly marked in the data stream. Visible Trigger This setting allows predefined values for simultaneous display of events during Release Capacity recording, up to the value set in "Trigger Release Capacity" Trigger Category In addition to the four predefined categories, the markers can be further configured. Here you can choose between a text display and an image display. Text Trigger text The setting can be used to specify the text to be displayed in the chart at the trigger. Custom Picture Trigger Category A path to an image file can be specified. This image is displayed above the trigger in Image the chart. Use Server Files If this function is set, the specified path is not searched for on the local system, but on all server systems that are used in this trigger group. Custom Folder 126 Version: 1.20.2 TE13xx

## Page 127

Configuration Trigger Category A path to an image folder can be specified. With each new trigger event, the current Directory image is read out in this trigger and added to the trigger. Use Server Files If this function is set, the specified path is not searched for on the local system, but on all server systems that are used in this trigger group. 5.1.4.1.1.7 Restart Display This trigger action restarts all displays paused by a Stop Display trigger when the trigger condition is met. TE13xx Version: 1.20.2 127

## Page 128

Configuration Trigger Group Clear Chart Deletes the previously drawn graphs in a display when the event occurs Color Here you can specify the color for marking the event in the chart Connected Charts If not every chart of the configuration should be restarted, charts can be selected here, which will be restarted by the trigger. Each chart is automatically added when it is created. Enabled The selected trigger group can be switched on and off here Silent If you set Silent to TRUE, no more trigger messages are displayed in the engineering message window Trigger Category Predefined categories are available for the trigger markers. These are inserted with a symbol and a default color. The following categories are available: Alert Error Warning Info The "Text" option can be used to enter free text. This text is then displayed instead of a symbol. The "Custom Picture" or "Custom Folder" option can be used to select custom symbols or small images. Trigger Image Size Here you can enter the image size. The larger the value, the smaller the chart area Trigger Position Here you can specify (in percent) at which position in the display the trigger event should be when the display is restarted Trigger Release This property specifies the maximum number of trigger events that can be stored and Capacity displayed simultaneously Visible Here you can set whether the event should also be visibly marked in the data stream Visible Trigger This setting allows predefined values for simultaneous display of events during Release Capacity recording, up to the value set in "Trigger Release Capacity" Trigger Category In addition to the four predefined categories, the markers can be further configured. Here you can choose between a text display and an image display. Text Trigger text The setting can be used to specify the text to be displayed in the chart at the trigger. Custom Picture Trigger Category A path to an image file can be specified. This image is displayed above the trigger in Image the chart. Use Server Files If this function is set, the specified path is not searched for on the local system, but on all server systems that are used in this trigger group. Custom Folder 128 Version: 1.20.2 TE13xx

## Page 129

Configuration Trigger Category A path to an image folder can be specified. With each new trigger event, the current Directory image is read out in this trigger and added to the trigger. Use Server Files If this function is set, the specified path is not searched for on the local system, but on all server systems that are used in this trigger group. 5.1.4.1.1.8 Export Auto Delete TE13xx Version: 1.20.2 129

## Page 130

Configuration Auto Delete mode Here you can set the mode in which the Auto Delete function should run. If set to "Disabled", no files will be deleted. "Capacity“ deletes the oldest file in the folder if more than the number of files specified in "Delete more than" has been saved. If set to "Older Than", all files older than the time specified in "Delete older than" will be deleted. The option "Capacity Or Older Than" is a combination of "Capacity" and "Older Than". That is, files are deleted when the conditions for either option are met. Delete more than This option defines when and with how many created files the oldest is to be deleted. The option is only active as long as "Capacity" or "Capacity Or Older Than" is selected in "Auto Delete". Delete older than This option defines the number of seconds after which a file is to be deleted with Auto Delete. The option is only active as long as "Older Than" or "Capacity Or Older Than" is selected in "Auto Delete". Export Data Range This option determines which time period is to be exported. "Last Data" stands for the last value that is valid at the time of the trigger. The time period between the last two trigger events can be selected with the option "Since last trigger". "Time Range" can be used to define a free time range. Export Type With this option, the configuration of the export can be set via the wizard. Exportpath Specify the path where the exported data is to be saved. With the placeholder "$Scope Project" the path of the current project is automatically inserted. 130 Version: 1.20.2 TE13xx

## Page 131

Configuration Trigger Group Color Here you can specify the color for marking the event in the chart. Connected Charts If the markings are not to be displayed in every chart of the configuration, charts for which the markings are displayed can be selected here. Each chart is automatically added when it is created. The charts selected here are automatically selected in the Export Window in the "Export Type" property. If all channels or images are added in the export, only those from the selected charts will be added. Enabled The selected trigger group can be switched on and off here. Post-Trigger Here you can set a time in the format dd:HH:mm:ss for the recording to continue after the trigger event has occurred. Pre-Trigger In the format dd:HH:mm:ss the minimum time that must elapse before the trigger event can be set. Silent If you set Silent to TRUE, no more trigger messages will be displayed in the engineering message window. Trigger Category Predefined categories are available for the trigger markers. These are inserted with a symbol and a default color. The following categories are available: Alert Error Warning Info The "Text" option can be used to enter free text. This text is then displayed instead of a symbol. The "Custom Picture" or "Custom Folder" option can be used to select custom symbols or small images. Trigger Image Size Here you can enter the image size. The larger the value, the smaller the chart area. Trigger Release This property specifies the maximum number of trigger events that can be stored and Capacity displayed simultaneously. Use Post-Trigger If TRUE, the time set under post-trigger is taken into account. Use Pre-Trigger If TRUE, the time set under pre-trigger is taken into account. Visible Here you can set whether the event should also be visibly marked in the data stream. Visible Trigger This setting allows predefined values for simultaneous display of events during Release Capacity recording, up to the value set in "Trigger Release Capacity". Trigger Category In addition to the four predefined categories, the markers can be further configured. Here you can choose between a text display and an image display. Text Trigger text The setting can be used to specify the text to be displayed in the chart at the trigger. Custom Picture TE13xx Version: 1.20.2 131

## Page 132

Configuration Trigger Category A path to an image file can be specified. This image is displayed above the trigger in Image the chart. Use Server Files If this function is set, the specified path is not searched for on the local system, but on all server systems that are used in this trigger group. Custom Folder Trigger Category A path to an image folder can be specified. With each new trigger event, the current Directory image is read out in this trigger and added to the trigger. Use Server Files If this function is set, the specified path is not searched for on the local system, but on all server systems that are used in this trigger group. 132 Version: 1.20.2 TE13xx

## Page 133

Configuration 5.1.4.1.1.9 Reporting Trigger Auto Delete TE13xx Version: 1.20.2 133

## Page 134

Configuration Auto Delete mode Here you can set the mode in which the Auto Delete function should run. If set to "Disabled", no files will be deleted. "Capacity“ deletes the oldest file in the folder if more than the number of files specified in "Delete more than" has been saved. If set to "Older Than", all files older than the time specified in "Delete older than" will be deleted. The option "Capacity Or Older Than" is a combination of "Capacity" and "Older Than". That is, files are deleted when the conditions for either option are met. Delete more than This option defines when and with how many created files the oldest is to be deleted. The option is only active as long as "Capacity" or "Capacity Or Older Than" is selected in "Auto Delete". Delete older than This option defines the number of seconds after which a file is to be deleted with Auto Delete. The option is only active as long as "Older Than" or "Capacity Or Older Than" is selected in "Auto Delete". Reporting Report Name Here you can select the report name. The drop-down menu lists the available reports from the reporting server. Alternatively, a free text can be entered. Trigger Group Color Here you can specify the color for marking the event in the chart. Connected Charts If the markings are not to be displayed in every chart of the configuration, charts for which the markings are displayed can be selected here. Each chart is automatically added when it is created. The charts selected here are automatically selected in the Export Window in the "Export Type" property. If all channels or images are added in the export, only those from the selected charts will be added. Enabled The selected trigger group can be switched on and off here. Post-Trigger Here you can set a time in the format dd:HH:mm:ss for the recording to continue after the trigger event has occurred. Pre-Trigger In the format dd:HH:mm:ss the minimum time that must elapse before the trigger event can be set. Silent If you set Silent to TRUE, no more trigger messages will be displayed in the engineering message window. Trigger Category Predefined categories are available for the trigger markers. These are inserted with a symbol and a default color. The following categories are available: Alert Error Warning Info The "Text" option can be used to enter free text. This text is then displayed instead of a symbol. The "Custom Picture" or "Custom Folder" option can be used to select custom symbols or small images. Trigger Image Size Here you can enter the image size. The larger the value, the smaller the chart area. Trigger Release This property specifies the maximum number of trigger events that can be stored and Capacity displayed simultaneously. Use Post-Trigger If TRUE, the time set under post-trigger is taken into account. Use Pre-Trigger If TRUE, the time set under pre-trigger is taken into account. Visible Here you can set whether the event should also be visibly marked in the data stream. Visible Trigger This setting allows predefined values for simultaneous display of events during Release Capacity recording, up to the value set in "Trigger Release Capacity". 134 Version: 1.20.2 TE13xx

## Page 135

Configuration Trigger Category In addition to the four predefined categories, the markers can be further configured. Here you can choose between a text display and an image display. Text Trigger text The setting can be used to specify the text to be displayed in the chart at the trigger. Custom Picture Trigger Category A path to an image file can be specified. This image is displayed above the trigger in Image the chart. Use Server Files If this function is set, the specified path is not searched for on the local system, but on all server systems that are used in this trigger group. Custom Folder Trigger Category A path to an image folder can be specified. With each new trigger event, the current Directory image is read out in this trigger and added to the trigger. Use Server Files If this function is set, the specified path is not searched for on the local system, but on all server systems that are used in this trigger group. TE13xx Version: 1.20.2 135

## Page 136

Configuration 5.1.4.1.1.10 Reporting Collector Auto Delete 136 Version: 1.20.2 TE13xx

## Page 137

Configuration Auto Delete mode Here you can set the mode in which the Auto Delete function should run. If set to "Disabled", no files will be deleted. "Capacity“ deletes the oldest file in the folder if more than the number of files specified in "Delete more than" has been saved. If set to "Older Than", all files older than the time specified in "Delete older than" will be deleted. The option "Capacity Or Older Than" is a combination of "Capacity" and "Older Than". That is, files are deleted when the conditions for either option are met. Delete more than This option defines when and with how many created files the oldest is to be deleted. The option is only active as long as "Capacity" or "Capacity Or Older Than" is selected in "Auto Delete". Delete older than This option defines the number of seconds after which a file is to be deleted with Auto Delete. The option is only active as long as "Older Than" or "Capacity Or Older Than" is selected in "Auto Delete". Reporting Chart Background This option determines which background design is used for the charts in the report. Data Range This option defines which period should be displayed in the chart and included in the report. The time period between the last two trigger events can be selected with the option "Since last trigger". "Time Range" can be used to define a free time range. Include Marker This option determines whether the Marker Window for the corresponding chart should Window be integrated into the report (Markers [} 147]). Include Trigger This option determines whether the Trigger Window should be integrated into the report Window (Trigger [} 107]). Include Comment This option determines whether the Comment Window should be integrated into the Window report. Report Name | This option allows linking a chart to a report. A Reporting Triplet consists of a chart, the Data Key unique Data Key and the corresponding Report Name. A lot of Reporting Triplets can be created in the triplet editor (see figure below this table). Reporting Time This option is only available if Time Range is selected in the Data Range option. This Range option allows to set a free time range. TE13xx Version: 1.20.2 137

## Page 138

Configuration Trigger Group Color Here you can specify the color for marking the event in the chart. Connected Charts If the markings are not to be displayed in every chart of the configuration, charts for which the markings are displayed can be selected here. Each chart is automatically added when it is created. The charts selected here are automatically selected in the Export Window in the "Export Type" property. If all channels or images are added in the export, only those from the selected charts will be added. Enabled The selected trigger group can be switched on and off here. Post-Trigger Here you can set a time in the format dd:HH:mm:ss for the recording to continue after the trigger event has occurred. Pre-Trigger In the format dd:HH:mm:ss the minimum time that must elapse before the trigger event can be set. Silent If you set Silent to TRUE, no more trigger messages will be displayed in the engineering message window. Trigger Category Predefined categories are available for the trigger markers. These are inserted with a symbol and a default color. The following categories are available: Alert Error Warning Info The "Text" option can be used to enter free text. This text is then displayed instead of a symbol. The "Custom Picture" or "Custom Folder" option can be used to select custom symbols or small images. Trigger Image Size Here you can enter the image size. The larger the value, the smaller the chart area. Trigger Release This property specifies the maximum number of trigger events that can be stored and Capacity displayed simultaneously. Use Post-Trigger If TRUE, the time set under post-trigger is taken into account. Use Pre-Trigger If TRUE, the time set under pre-trigger is taken into account. Visible Here you can set whether the event should also be visibly marked in the data stream. Visible Trigger This setting allows predefined values for simultaneous display of events during Release Capacity recording, up to the value set in "Trigger Release Capacity". Trigger Category In addition to the four predefined categories, the markers can be further configured. Here you can choose between a text display and an image display. Text Trigger text The setting can be used to specify the text to be displayed in the chart at the trigger. Custom Picture 138 Version: 1.20.2 TE13xx

## Page 139

Configuration Trigger Category A path to an image file can be specified. This image is displayed above the trigger in Image the chart. Use Server Files If this function is set, the specified path is not searched for on the local system, but on all server systems that are used in this trigger group. Custom Folder Trigger Category A path to an image folder can be specified. With each new trigger event, the current Directory image is read out in this trigger and added to the trigger. Use Server Files If this function is set, the specified path is not searched for on the local system, but on all server systems that are used in this trigger group. TE13xx Version: 1.20.2 139

## Page 140

Configuration 5.1.4.1.1.11 Reporting Collector + Trigger Auto Delete 140 Version: 1.20.2 TE13xx

## Page 141

Configuration Auto Delete mode Here you can set the mode in which the Auto Delete function should run. If set to "Disabled", no files will be deleted. "Capacity“ deletes the oldest file in the folder if more than the number of files specified in "Delete more than" has been saved. If set to "Older Than", all files older than the time specified in "Delete older than" will be deleted. The option "Capacity Or Older Than" is a combination of "Capacity" and "Older Than". That is, files are deleted when the conditions for either option are met. Delete more than This option defines when and with how many created files the oldest is to be deleted. The option is only active as long as "Capacity" or "Capacity Or Older Than" is selected in "Auto Delete". Delete older than This option defines the number of seconds after which a file is to be deleted with Auto Delete. The option is only active as long as "Older Than" or "Capacity Or Older Than" is selected in "Auto Delete". Reporting Chart Background This option determines which background design is used for the charts in the report. Data Range This option defines which period should be displayed in the chart and included in the report. The time period between the last two trigger events can be selected with the option "Since last trigger". "Time Range" can be used to define a free time range. Include Marker This option determines whether the Marker Window for the corresponding chart should Window be integrated into the report (Markers [} 147]). Include Trigger This option determines whether the Trigger Window should be integrated into the report Window (Trigger [} 107]). Include Comment This option determines whether the Comment Window should be integrated into the Window report. Report Name | This option allows linking a chart to a report. A Reporting Triplet consists of a chart, the Data Key unique Data Key and the corresponding Report Name. A lot of Reporting Triplets can be created in the triplet editor (see figure below this table). Reporting Time This option is only available if Time Range is selected in the Data Range option. This Range option allows to set a free time range. TE13xx Version: 1.20.2 141

## Page 142

Configuration Trigger Group Color Here you can specify the color for marking the event in the chart. Connected Charts If the markings are not to be displayed in every chart of the configuration, charts for which the markings are displayed can be selected here. Each chart is automatically added when it is created. The charts selected here are automatically selected in the Export Window in the "Export Type" property. If all channels or images are added in the export, only those from the selected charts will be added. Enabled The selected trigger group can be switched on and off here. Post-Trigger Here you can set a time in the format dd:HH:mm:ss for the recording to continue after the trigger event has occurred. Pre-Trigger In the format dd:HH:mm:ss the minimum time that must elapse before the trigger event can be set. Silent If you set Silent to TRUE, no more trigger messages will be displayed in the engineering message window. Trigger Category Predefined categories are available for the trigger markers. These are inserted with a symbol and a default color. The following categories are available: Alert Error Warning Info The "Text" option can be used to enter free text. This text is then displayed instead of a symbol. The "Custom Picture" or "Custom Folder" option can be used to select custom symbols or small images. Trigger Image Size Here you can enter the image size. The larger the value, the smaller the chart area. Trigger Release This property specifies the maximum number of trigger events that can be stored and Capacity displayed simultaneously. Use Post-Trigger If TRUE, the time set under post-trigger is taken into account. Use Pre-Trigger If TRUE, the time set under pre-trigger is taken into account. Visible Here you can set whether the event should also be visibly marked in the data stream. Visible Trigger This setting allows predefined values for simultaneous display of events during Release Capacity recording, up to the value set in "Trigger Release Capacity". Trigger Category In addition to the four predefined categories, the markers can be further configured. Here you can choose between a text display and an image display. Text Trigger text The setting can be used to specify the text to be displayed in the chart at the trigger. Custom Picture 142 Version: 1.20.2 TE13xx

## Page 143

Configuration Trigger Category A path to an image file can be specified. This image is displayed above the trigger in Image the chart. Use Server Files If this function is set, the specified path is not searched for on the local system, but on all server systems that are used in this trigger group. Custom Folder Trigger Category A path to an image folder can be specified. With each new trigger event, the current Directory image is read out in this trigger and added to the trigger. Use Server Files If this function is set, the specified path is not searched for on the local system, but on all server systems that are used in this trigger group. 5.1.4.2 Trigger Set Trigger sets can start the trigger actions selected in the trigger groups. A basic distinction is made between two types of trigger sets. Channel Trigger Sets [} 144] for variables from the scope configuration and Directory Trigger Sets [} 145] for file operations in file folders on the hard disk. Context menu The first two groups contain the functionalities for opening various Windows tools. These include firstly the Target Browser [} 166], the Comment Window, the Layer Editor [} 211], the Marker Window [} 108] and finally the Trigger Window [} 108]. "Manual Trigger Hit" This function can be used to test a trigger. Various standard functionalities can be found in the last two groups. The selected node can be copied ("Copy"), removed ("Remove"), renamed ("Rename") or inserted below it ("Paste"). The Visual Studio properties window can also be opened for further parameterization ("Properties"). TE13xx Version: 1.20.2 143

## Page 144

Configuration 5.1.4.2.1 Channel Trigger Set Channel trigger sets refer to the actual variable from the scope configuration that can lead to the start of the trigger group based on a condition occurring. A trigger set can be regarded as a stand-alone trigger condition. Within a trigger group, trigger sets can also be linked to each other via logical operators. For variable selection, raw acquisitions from the data pool and interpreted variables from the channels are available. If raw acquisition is selected, it is possible to specify offset, scale factor and physical unit in the trigger set. For an interpreted acquisition, the data is taken from the selected channel. 144 Version: 1.20.2 TE13xx

## Page 145

Configuration Common Combine By selecting a logic operation these individual conditions can be placed in relation to one another. Note here that AND operations are handled before OR operations. Release The release condition can be defined as follows: Rising Edge: Rising edge through x Falling Edge: Falling edge through x On Change Ends: End of a change Threshold The numerical limit value that must be crossed Used Data The interpreted acquisition or raw acquisition from the data pool (when an acquisition is selected, a new interpreter is created under the channel trigger set) Misc Name Each trigger set can have its own name Modify Offset Offset for a raw acquisition Scale Factor Scale factor for a raw acquisition Unit Physical unit for a raw acquisition When a Trigger Set is triggered, the icon in the Solution Explorer changes from to . All trigger sets remain set until the entire trigger group has been triggered. 5.1.4.2.2 Directory Trigger Set Directory Trigger Set A directory trigger set monitors a directory. If an image is added to this folder or optionally also to the subfolders, this image is displayed above a trigger marking. The image is displayed in a kind of preview directly above the marker. Clicking on this preview displays a larger version of the image. The position of the trigger info is based on the name of the file. The name must be formatted in Twin CAT in order to be displayed correctly. There are three possibilities to format file names: "TC_" plus a timestamp in Windows file time format (example: TC_131835504293051402) TE13xx Version: 1.20.2 145

## Page 146

Configuration "PLC_" plus a timestamp in PLC format (example: PLC_1539076850) "DC_" plus a timestamp in DC format (example: DC_592392059744685800) It is also possible to drag images with a suitably formatted name onto a chart and to display them as triggers. This is possible during recording, after a recording has been stopped (data in RAM) and with a recording loaded as .svdx. Supported file formats include: png, bmp, jpg, jpeg, tif, tiff and gif. The directory trigger set offers the following setting options: Directory File System Server Server system on which the specified folder is located. All systems can be selected on which the server is also used. Include If this option is enabled, subfolders of the "Observed Path" are also monitored for new Subdirectories images. Observed Path Path to a folder that should be monitored. Use Server Files Activate the function to search for images not only on the local system but also on the connected Scope Server systems. 5.1.4.2.3 Time Trigger Set Time Trigger Sets refer to the time axis of the recording. Time Trigger Sets trigger automatically after the preset interval has elapsed and can thus be used for automatic Export [} 129] or Subsave [} 119]. The trigger action "Start Record [} 115]" cannot be combined with a Time Trigger Set. 146 Version: 1.20.2 TE13xx

## Page 147

Configuration Combine By selecting a logic operation these individual conditions can be placed in relation to one another. Note here that AND operations are handled before OR operations. Interval Time interval after which the Trigger Set is triggered. Name Each Trigger Set can have its own name. 5.1.5 Markers A marker is a chart element that can be docked to an axis. The marker consists of a line that can be found in the chart and a text field that appears alongside the chart and displays the name of the marker. On clicking on the marker, a tooltip appears that displays the position next to the name. If the marker was added to a time axis (YT chart) or an index axis (array bar chart and single bar chart), the values of the channel appear in the tooltip. The values of the different markers can be viewed in the marker window and compared with other markers. TE13xx Version: 1.20.2 147

## Page 148

Configuration A marker is added via the context menu of a project, a chart or an axis group. 148 Version: 1.20.2 TE13xx

## Page 149

Configuration Furthermore, a marker can also be created on a data point via the context menu in the chart. All the properties of a marker are explained here. TE13xx Version: 1.20.2 149

## Page 150

Configuration Appearance Color Color of a marker. Common Bandwidth Width of the rectangle behind a marker. Specification indicates the width from the marker to the edge of the rectangle. The value of the specification is identical to the input of the position. Name The name of the marker is the same as that displayed in the project tree and, depending on the "Show Title" setting, this value can also be displayed in the text field above the chart. Visible Setting whether the marker should currently be visible or invisible. Position Bind Axisvalue (only If this value is set to 'false', a percentage value can be entered in the "Position" for time markers setting. This means that the marker is always displayed in the current chart and the under a chart or axis time can be calculated as follows: chart position + display width * marker position group) If the marker is to have a fixed time, this value must be set to 'true'. An absolute timestamp can then be set for the position. Locked If Locked is set to false the marker can be moved freely within the chart with the mouse. Position Position of a cursor. The absolute value of the axis is entered here for value and index axes and the percentage value or absolute timestamp for time axes. Style 150 Version: 1.20.2 TE13xx

## Page 151

Configuration 3D Marker (only for The display of a marker within a 3D chart is made up of 5 components, which can be markers below the freely combined with each other: project or a 3D chart) • Highlight data point - the marker draws a dot around the data points that belong to the current point in time • Show grid point - points are drawn on the axis surfaces • Show axis point - a marker is added to the value axes • Show line on grid - a line is drawn between the points on the axis and on the axis surface • Show line to grid - a line is drawn between the points in the channel and on the axis surface Line Style This setting can be used to set the line type of the marker. Precision Precision of the display values. Scientific Notation Specifies whether the value is displayed in scientific notation in the tooltip and Marker window. • True - the scientific notation is used • False - the scientific notation is not used • Use Default - the current setting of the default settings is applied Show Full Array (only Specifies whether all values of an array or only a specific value is displayed in the for time markers) tooltip and Marker window. If only a specific value is to be specified, a position can be specified in addition to the time position. Show Position If this is selected, the position is also displayed in the marker label. Show Title This setting can be used to configure which text is displayed above the chart in the marker. • Hide – no text is displayed • Name – the name of the marker is displayed (the same as in the project tree) • Custom – the text from the 'Title' setting is displayed Title Specifies the text that can be displayed in the marker. Width Specifies the width of the marker line in pixels. XY Style (only for The display of a marker within an XY chart can be configured in different ways: markers below the • Circle - the data points that belong to the selected point in time are outlined project or an XY chart) • Cross - the data points that belong to the selected point in time are marked with a cross • Marker - a line is drawn between the axis and the data point • Fill - the circle or cross can be filled and/or left blank in the center to avoid overdrawing the data point Marker Window In the Marker Window, channel values from the times of markers or trigger events (timers) can be output and compared with other timer values. A Marker Window always refers to the project selected in the Solution Explorer. TE13xx Version: 1.20.2 151

## Page 152

Configuration The Marker Window consists of a menu bar and an arbitrary number of tables. The tables can be freely created and also deleted again. The menu bar at the top edge of the Marker Window contains the following buttons: • Copy: Copies all values from the Marker Window to the clipboard so that they can be pasted into another program. • Add table: Adds a new table. • Delete table: Deletes the selected table. • At the side of the buttons there is also a selection box in which all charts existing in the configuration are listed. If a chart is selected there, an automatic table is created containing all markers and channels that refer to the chart. All tables are pictured below one another under the menu bar. The values of the various channels at the different times of the timers are displayed in a table. There are two different options for the rows and columns. • Option 1: Select one timer / channel; in this case only the value of one time/one channel is output. • Option 2: Select two timers/channels; in this case the difference between the values is calculated. If two timers and two channels are selected, the difference is calculated between the 1st channel and the 1st time (position) and between the 2nd channel and the 2nd time (position). The following buttons are available for the configuration of the table: • Copy: Copies the values from the table. • Add row: Adds a row with a single selection option. • Add difference row: Adds a row with a double selection option for a difference. • Add column: Adds a column with a single selection option. • Add difference column: Adds a column with a double selection option for a difference. • Rotate orientation: The orientation setting button lets you define whether the timers or channels are in columns or in rows. • Colored marking: In order to be able to assign markers and channels not only on the basis of the names, small lines can be displayed in front of the name, which have the same color as the associated elements. • Colored numbers: The data can be drawn in the table in the same colors as the color of the associated timer. • Hex notation: The values are displayed using hexadecimal notation. • Absolute time: The time is displayed as an absolute time. • Unit: The units of the channels are also displayed in the table. • Scientific Notation: If the Scientific Notation is set to 'default' for the markers, this setting can be used to overwrite the value for the display in the Marker window. If the 'Components Highlight' setting is active in the options [} 311], the associated channels and markers can be highlighted in the diagram by clicking on a cell. If the value is set to 'Enabled', simply selecting the cell is sufficient. If the option is set to 'Double Click', a cell must be selected by double-clicking on it. The context menu of a data point in the chart can be used to create new markers, move markers or jump to the marker with the chart. 152 Version: 1.20.2 TE13xx

## Page 153

Configuration For the different markers there are different entries in the context menu for adding the markers. First, a time marker can be added at the location of the clicked data point using Add Timemarker. Since time markers can be added under the project, chart and axis, this can also be selected at this point in the submenu. The screenshot shows a YT chart. Therefore, time markers and Y-markers can be added there. The Y marker is added in the axis group where the channel is. This is comparable for charts that offer an X marker. Index markers can also be created and added. TE13xx Version: 1.20.2 153

## Page 154

Configuration The menu entry Get marker to position can be used to move a marker that already exists in the project to the position of the data point. Here you can select all markers that are related to the selected channel. Thus, for example, markers from other charts fall out. The selectable markers must not be curly. By selecting a marker in the submenu of the entry Goto markerposition the chart can be moved to the selected marker. Again, only the markers that are related to the selected channel are displayed. If time markers are outside the currently visible time range, they are not visible. With the setting Timemarker outside the chart the markers can still be displayed. If the setting is set to True, the markers that lie outside the time range are displayed to the right and left of the data. 154 Version: 1.20.2 TE13xx

## Page 155

Configuration In the screenshot you can see the case where five markers are in front of the current chart position and two markers are behind the visible area. The five earlier markers are now displayed at the top left, above the Y- axis, and the two later markers are displayed at the top right. If the markers are not locked, the marker can be dragged and dropped from there to the current time range. With a click on the markers, which are outside of the chart, you can jump to the current marker position. Special marker functions for Array Bar Charts In Array Bar Charts, Y-axis markers can be created in addition to X-axis markers. These can be added via the axis node in the Array Bar Chart through the context menu in the Solution Explorer. Most of the same functions and features are available as for the other markers. Clicking on the Y marker in the chart or in the Solution Explorer shows the corresponding properties in the Properties window. TE13xx Version: 1.20.2 155

## Page 156

Configuration Context menu The first two groups contain the functionalities for opening various Windows tools. These include firstly the Target Browser [} 166], the Comment Window, the Layer Editor [} 211], the Marker Window [} 151] and finally the Trigger Window [} 108]. Properties of the marker can be edited in the third group. 156 Version: 1.20.2 TE13xx

## Page 157

Configuration "Go to Marker" If the marker is a time marker, the time position of a chart can be moved to the marker using this menu entry. If this function is applied to a project marker, all charts at that point in time are moved. "Bring marker into view" This function can be used to move markers into the visible area of a chart by resetting the time position. The marker is positioned in the center of the currently visible area. This only works with time markers that are connected to an axis. Depending on their position in the project hierarchy, there is a case distinction in the menu entries: • The marker is below a chart or below an axis: This function gives the marker a new position based on the position of the chart above it. • The marker is below the project: If the marker is below the project, a chart in which the marker is to be positioned must be selected in a submenu for this function. "Visible" If this entry is active, the tick is visible on the left and the marker is displayed in the chart. If the entry is deactivated, the marker is not displayed in the chart. "Show Title" If the entry is active, a text field is displayed outside the chart in which the name of the marker is displayed. "Locked" This entry can be activated so that the marker cannot be moved freely with the mouse in the chart. The marker is then still displayed in the chart, but cannot be moved with the mouse. Various standard functionalities can be found in the last two groups. The selected node can be copied ("Copy"), removed ("Remove"), renamed ("Rename") or inserted below it ("Paste"). The Visual Studio properties window can also be opened for further parameterization ("Properties"). 5.1.6 Dynamic Style With the aid of Dynamic Styles the appearance of a channel can be adapted section-wise using an additional data series. Hence sections of the graph can be displayed in a different color, dashed, invisible or thicker. Restrictions with GDI+ There is a restriction that no color change and no dashed lines can be implemented as a Dynamic Style with the GDI+ graphics library. If these two style switches do not work for you, please check the graphic settings in the Scope > Graphic Library menu Any number of Dynamic Styles can be appended to a graph. Each Dynamic Style makes a change to a property of the graph (e.g. changing the color to red). Under each Dynamic Style there must be at least one condition that defines whether this action is to be executed with the current data value. Several conditions are also possible, which are then "ANDed" or "ORed". A Dynamic Style is added via the context menu of the channel. TE13xx Version: 1.20.2 157

## Page 158

Configuration If a channel contains at least one Dynamic Style, then a new entry "Acquisition" is displayed in the "Dynamic Style" group in the properties window of the channel. The data series for all dynamic styles can be defined here. This must be recorded by the same target system and sampled with the same sampling rate as the other data series of the channel. 158 Version: 1.20.2 TE13xx

## Page 159

Configuration Dynamic Styles can be used on channels in XY charts as well as on channels in YT charts. This opens up a wide range of possible applications. Also in the Motion area for the illustration of contours or simple alarm states. 5.1.6.1 Dynamic style properties All settings assigned to the dynamic style can be made here. TE13xx Version: 1.20.2 159

## Page 160

Configuration Apply To Defines which part(s) of the graph will be changed by the dynamic style. (Line, marker and/or fill area) Color Defines the color that will be used when changing color. (Visible only if Style is set to "Colored"). Link Option Specifies how the different conditions underneath the dynamic style are to be linked ("and" or "or") Style Specifies how the dynamic style should influence the graphs: • Normal → no change • Bold → bold • Dashed → dashed • Colored → other color • Invisible → invisible 5.1.6.2 Dynamic Style Condition There are two different conditions in Twin CAT 3 Scope. One is the Threshold condition, which checks whether a value lies above or below a limit. The other is the Area condition, which checks whether a value lies within a range. The conditions can be added via the context menu of the dynamic styles: Threshold condition A Threshold condition has the following properties: 160 Version: 1.20.2 TE13xx

## Page 161

Configuration Enabled Activates this condition Threshold Sets the limit value for switchover Operator Specifies the comparison operator between limit value and comparison value (smaller than, smaller than/equal to, greater than/equal to, or greater than) Area condition An Area condition has the following properties: Enabled Activates this condition Lower Limit The lower limit of the area to be checked Lower Operator Comparison operator for the lower limit (greater than or greater than/equal to) Upper Limit The upper limit of the area to be checked Upper Operator Comparison operator for the upper limit (smaller or smaller than/equal to) 5.1.7 Shapes The shapes form a new subgroup of the graph elements. They are created under the axis group in an XY chart. There are two types of shape: • Angular shapes (defined by coordinates) • Round shapes (defined by a center point and two radii) From version 3.4.3146.0 it is even possible that the shapes move within the XY plot. For this purpose, offset and scaling factor or alternatively the individual significant points of the shapes can be linked to variables from the data pool. A shape is added via the context menu of an axis group: TE13xx Version: 1.20.2 161

## Page 162

Configuration 5.1.7.1 Angular shape properties All the properties of an angular shape are explained here. 162 Version: 1.20.2 TE13xx

## Page 163

Configuration TE13xx Version: 1.20.2 163

## Page 164

Configuration Shape definition Closed Shape If Closed Shape is selected, the last point is connected to the first point again. Points List of all points. (Notation: (x|y);(x|y)) For a better input of the points a Shape Point Editor can be opened: In the Dynamic area, variables can be defined for the individual points instead of fixed coordinates. Mixed operation is also possible. Offset (X) In the offset field a free offset can be added to the coordinates of the shape in the X- direction. Scalefactor (X) The points of the shape can be changed in the X-direction with the scale factor. Offset (Y) In the offset field a free offset can be added to the coordinates of the shape in the Y- direction. Scalefactor (Y) The points of the shape can be changed in the Y-direction with the scale factor. Shape definition (dynamic) Dynamic Offset (X) Select a variable from the data pool or an interpreted channel for a dynamic change of the offset. Dynamic Scalefactor Select a variable from the data pool or an interpreted channel for a dynamic change of (X) the scaling factor. Dynamic Offset (Y) Select a variable from the data pool or an interpreted channel for a dynamic change of the offset. Dynamic Scalefactor Select a variable from the data pool or an interpreted channel for a dynamic change of (Y) the scaling factor. Style Fill Color Color of the area content. Line Width Width of the edges in pixels. Color Color of the edge. Fillmode The fill area of the shape always starts at the first point. To obtain a correct fill area, the shape must be convex with respect to the starting point. This means that all other points of the shape are reached with a straight line without leaving the shape. 164 Version: 1.20.2 TE13xx

## Page 165

Configuration 5.1.7.2 Round shape properties All the properties of a round shape are explained here. Shape definition Aperture The aperture specifies how wide the circle will be drawn. Center Center point of the circle. Radius (X) Radius of the circle in the X-direction. Radius (Y) Radius of the circle in the Y-direction. Start Degree (°) Starting angle from which the circle will be drawn. TE13xx Version: 1.20.2 165

## Page 166

Configuration Shape Definition (dynamic) Dynamic Aperture (°) Here you can link a variable that specifies how far the object is drawn. Dynamic Center (X) A variable can be linked here, which can be used to specify the center point of the object in the X direction. Dynamic Center (Y) A variable can be linked here, which can be used to specify the center point of the object in the Y direction. Dynamic Radius (X) Here a variable can be linked, with which the radius of the object can be changed in X direction. Dynamic Radius (Y) Here a variable can be linked, with which the radius of the object can be changed in Y direction. Dynamic Start Degree (°) Here you can link a variable that specifies the start angle of the object. Style Fill Color Color of the area content. Line Width Width of the edges in pixels. Color Color of the edge. Fillmode The fill area of the shape always starts at the first point. To obtain a correct fill area, the shape must be convex with respect to the starting point. This means that all other points of the shape are reached with a straight line without leaving the shape. 5.1.8 Twin CAT Target Browser The Twin CAT Target Browser is the central data management interface in the Twin CAT 3 Engineering. It can provide data from various Twin CAT target systems live via ADS or access historic data in databases. Depending on what Twin CAT 3 functions are installed on an engineering system, the ADS standard extension of the Twin CAT Target Browser is extended by further extensions (see Extensions [} 167]). Call options The Target Browser can be called via the Scope menu in Visual Studio®. Due to its ever increasing use in the Twin CAT system, it can also be opened via the Twin CAT menu under the item Target Browser. 166 Version: 1.20.2 TE13xx

## Page 167

Configuration In addition, it is possible that the various tools that use the Target Browser will provide additional calls. For example, some products do this via the context menu on their respective project nodes. Architecture Within Microsoft Visual Studio® the Twin CAT Target Browser is a tool window that is subdivided into two sections. Target systems are displayed on the left-hand side ("Specific Target Area"). You can switch between the various extensions via the tabs. The details of the respective target system or the selected object respectively are displayed on the right-hand side ("Common Symbol Area"). Many extensions support a "Value Preview" for variables. This means that if you select a variable and press and hold the space bar, a small chart appears. In this way you can determine whether data have arrived or exist in a database. A search bar above the right-hand section enables the filtering/reduction of the visible symbols. The entry must be confirmed with the [Enter] key. A breadcrumb navigation bar shows the current location. Extensions The following table shows an overview of the current extensions and the product from which they were installed. Further information on the extensions can be found in the associated document sections. Extension name Products ADS [} 167] Twin CAT XAE, Twin CAT Scope, Twin CAT Io T Data Agent, Twin CAT Data base Server, Twin CAT Analytics Service Tool OPC UA [} 170] Twin CAT Scope, Twin CAT Io T Data Agent Tc Analytics [} 172] Twin CAT Analytics Workbench and Service Tool, Twin CAT Scope Tc Analytics File [} 174] Twin CAT Analytics Workbench and Service Tool, Twin CAT Scope Tc DBSrv [} 175] Twin CAT Scope 5.1.8.1 Extension – ADS The Twin CAT Target Browser ADS extension is used most frequently within the Twin CAT system. Specific Target Area All target systems registered to the local Twin CAT 3 Engineering are displayed in a tree structure in the left- hand area of the Twin CAT Target Browser (ADS). In first place is the local system, followed by the target systems such as Industrial PCs or Embedded PCs in the order of registration. The prefixed screen symbol indicates the state of the system (green: run mode, blue: config mode, red: stop mode or unreachable). The available default ADS ports are listed below a target system. If you select a port, the available symbols/ variables are displayed in the Common Symbol Area on the right-hand side of the Twin CAT Target Browser. TE13xx Version: 1.20.2 167

## Page 168

Configuration Toolbar The toolbar of the ADS extension makes the following functions available: 168 Version: 1.20.2 TE13xx

## Page 169

Configuration Ports If an ADS port is not displayed by default, further ports can be added to a selection via this command. Edit Routes If an ADS route to a target system is missing, further target systems can be added via this button. Refresh The display of the target system states can be manually updated with this button. Common Symbol Area The ADS symbols available at the selected port are displayed in the right-hand area of the Twin CAT Target Browser. The addresses and the attributes, for example, are also displayed in addition to the name, the data type, the size and the symbol name. Special attributes, such as those of the units, are interpreted and output in their own columns. TE13xx Version: 1.20.2 169

## Page 170

Configuration 5.1.8.2 Extension - OPC UA The Twin CAT Target Browser OPC UA extension offers a standardized way into the Twin CAT 3 Engineering. Specific Target Area All OPC UA Servers that have been added using the Add command in the toolbar are displayed in a tree structure in the left-hand area of the Twin CAT Target Browser (Opc Ua). The screen symbol in front of the server designation at the first level of the tree structure indicates the connection status. Below the server the created end points are subdivided into "Anonym" (anonymous) and "Authenticated" (user mode). The encryption method is displayed in brackets for each end point. If you select an end point, the available OPC UA Nodes are displayed on the right-hand side of the Twin CAT Target Browser (see also: Displaying OPC UA Nodes [} 171]) Toolbar The toolbar of the OPC UA extension makes the following functions available: Add New connections to existing OPC UA Servers can be established with this command (see also: Adding OPC UA Servers [} 170]) Remove A registered server can be removed with this command. Refresh The display in the Target Browser tree can be manually updated with this button. Common Symbol Area The available OPC UA Nodes are displayed on the right-hand side of the Twin CAT Target Browser. These reflect the hierarchical structure of the PLC project. The node class and the identifier, for example, are also displayed in addition to the name, the data type, the size and the full object name. Adding OPC UA Servers 1. Click on Add in the OPC UA toolbar. 170 Version: 1.20.2 TE13xx

## Page 171

Configuration ð The dialog Opc Ua End Point Selection opens. 2. Enter the URL of the server. 3. Select the end point from the drop-down list. With OPC UA you can determine via the corresponding end points whether and which method of encryption is used. It is also possible to add several end points to a server. To do this, execute the Add command again. 4. Select whether the access is anonymous or authenticated. If the access is authenticated, enter a user name and password. Authenticated access may be required if a password-protected user management has been set up for the OPC UA server (e.g. different user accounts with different rights). 5. Confirm the dialog. ð The OPC UA Server is added to the tree structure in the Target Browser with the selected end points. Displaying OPC UA Nodes In order to display the available OPC UA Nodes, select the respective end point in the tree structure on the left-hand side. If you select an end point without certified access, the nodes will be displayed directly. If the selected end point is certified, you must first trust the server certificate in a corresponding dialog. TE13xx Version: 1.20.2 171

## Page 172

Configuration You can trust the certificate in a single case (until the Visual Studio instance is closed) or add it to the list of trusted certificates via the check box Save Certificate to Trustlist. During the first attempt to connect to an OPC UA Server it is additionally necessary to trust the certificate of the client (Target Browser) on the server side. To do this, copy the respective certificate in the certificate directory of the OPC UA Server from the "rejected" folder to the "trusted" folder. 5.1.8.3 Extension – Tc Analytics With the help of the Tc Analytics Extension of the Twin CAT Target Browser, MQTT data streams from different brokers and topics can be displayed and made available for different measurement products. All you have to do is drag and drop the desired stream symbols into the corresponding engineering tools. Specific Target Area In the left area of the Twin CAT Target Browser (Tc Analytics) all brokers and their data streams are displayed in a tree structure. In addition, historical data streams are also displayed. The current status of the system or the data stream is indicated by the preceding symbols (green: available, red: unreachable, gray: unknown status). Toolbar The toolbar of the Tc Analytics extension provides the following functions: 172 Version: 1.20.2 TE13xx

## Page 173

Configuration Add broker This button can be used to add broker connections. connection Delete broker This button can be used to delete existing connections to a broker from the tree. connection Refresh The display of the target system states can be manually updated with this button. Edit This button can be used to subsequently change the connection parameters. connection Machine This button opens the machine administration page. The incoming data streams of the Administration various "machines" can be managed via this page. Page Common Symbol Area The symbols of the different data streams are displayed in the right-hand area of the Twin CAT Target Browser (Tc Analytics). In addition to the name, data type, size and symbol name, attributes are also displayed, for example. Special attributes, such as those of the units, are interpreted and output in their own columns. If a historized data stream is selected, the individual recordings and their time ranges are also displayed. TE13xx Version: 1.20.2 173

## Page 174

Configuration 5.1.8.4 Extension – Tc Analytics File With the help of the Tc Analytics Extension of the Twin CAT Target Browser, MQTT data streams from different brokers and topics can be displayed and made available for different measurement products. All you have to do is drag and drop the desired stream symbols into the corresponding engineering tools. Specific Target Area In the left area of the Twin CAT Target Browser (Tc Analytics File) all folders are displayed in which a search for Analytics File folders is to take place. Any Analytics File folders that are found are then displayed in a tree structure. Toolbar The toolbar of the Tc Analytics File extension provides the following functions: New folder This button can be used to add folder paths in which a search for Analytics File folders is to take place. Delete folder This button can be used to delete the selected folder from the tree. Refresh This button can be used to manually update the displays. This button can be used to customize various properties of the Tc Analytics File extension. Properties 174 Version: 1.20.2 TE13xx

## Page 175

Configuration Common Symbol Area The symbols of the different Analytics Files are displayed on the right in the Twin CAT Target Browser (Tc Analytics File). In addition to the name, data type, size and symbol name, attributes are also displayed, for example. Special attributes, such as those of the units, are interpreted and output in their own columns. In addition, the individual recordings and their time ranges are displayed. 5.1.8.5 Extension – Tc DBSrv The Tc DBSrv extension of the Twin CAT Target Browser can be used to display data sets from databases in Twin CAT Scope via the Twin CAT Database Server. Only the desired columns of the tables have to be dragged into Twin CAT Scope. A corresponding SQL command is generated automatically, which can of course still be customized manually. Specific Target Area All target systems registered to the local Twin CAT 3 Engineering are displayed in a tree structure in the left- hand area of the Twin CAT Target Browser (Tc DBSrv). In first place is the local system, followed by the target systems such as Industrial PCs or Embedded PCs in the order of registration. The prefixed screen symbol indicates the state of the system (green: run mode, blue: config mode, red: stop mode or unreachable). The available Twin CAT Database Server instances are listed below a target system. Below you will find all configured databases with their accessible tables. If a table node is selected, the individual table columns are displayed in the "Common Symbol Area". Toolbar The toolbar of the Tc DBSrv extension provides the following functions: TE13xx Version: 1.20.2 175

## Page 176

Configuration Edit Routes If an ADS route to a target system is missing, further target systems can be added via this button. If the filter is active, only those routes are displayed where a Twin CAT Database Server is Filter installed and accessible. Add database This button can be used to create database configurations. Databases from the database pool or new configurations can be created on the Twin CAT Database Server. The familiar configuration editors open. Delete This button can be used to delete the selected database configuration from the Twin CAT Database Server. database Refresh The display of the target system states can be manually updated with this button. Set timestamp This button or the corresponding context menu item in the table node can be used to specify a column as timestamp; the time range of the table is read out based on this column. column Common Symbol Area The tables are displayed with their columns in the right-hand area of the Twin CAT Target Browser (Tc DBSrv). In addition to the name and the data type, the size of the columns is also displayed. If a column is defined as a timestamp column, the time range of the data is displayed 176 Version: 1.20.2 TE13xx

## Page 177

Configuration 5.2 Special features 5.2.1 Communication In principle the TE1300 and TF3300 documentation refers to the Twin CAT-specific communication via ADS. The Twin CAT 3 Scope itself is also capable of receiving data via other communication channels and displaying them. For example via OPC UA. In this section the differences relating to the communication channels are illustrated and explained. 5.2.1.1 OPC UA In addition to the standard communication protocol ADS, the Twin CAT 3 Scope View offers the option of transmitting measured data via the standardized communication channel OPC UA. This is made possible by an OPC UA Client implemented in the Twin CAT 3 Scope Server and has the advantage that data can also be recorded from third-party suppliers' systems and analyzed (see illustration). In the following, the special features of communication via OPC UA are explained in comparison with ADS communication. 5.2.1.1.1 Addition of OPC UA symbols In order to record symbols via OPC UA with the Twin CAT 3 Scope View, they must first be added to the Scope project with the aid of the Target Browser, as is also the case with ADS. In the Target Browser on the OPC UA tab you can add any number of target systems on which an OPC UA Server runs. The associated symbols are then listed in a hierarchical tree structure in the right-hand area of the Target Browser and can be added to the Scope project by drag-and-drop. (See also Extension - OPC UA [} 170]) TE13xx Version: 1.20.2 177

## Page 178

Configuration 5.2.1.1.2 Acquisition of OPC UA symbols The acquisition of OPC UA symbols differs in part from the ADS acquisition. Since the properties of the groups "Common", "Symbol" and "Target" are identical to the ADS acquisition, only the specific OPC UA properties are explained in the following. Properties Symbol Opc Bit Size Size of the symbol in bits. Name Name of the symbol. Namespace Namespace of the symbol. Node Class Name of the node to which the symbol is assigned in the hierarchy. Node Id Id of the system node. Path Path to the symbol. Target Opc 178 Version: 1.20.2 TE13xx

## Page 179

Configuration Endpoint Name Name of the selected OPC UA end point. Contains information about the encryption method and signing. Security Policy Uri URI of the selected encryption method. Server URL URL of the OPC UA Server from which the symbol is to be recorded. See also: Properties 5.2.1.1.3 Recording of OPC UA symbols The function of recording symbols via OPC UA is available only with a Scope View Professional license. In principle the recording of signals via OPC UA can be started as usual via the Start Record button. However, you should note the following special features: • Sample Time: When recording OPC UA symbols there is no task sample time as with ADS symbols. The sample state is thus always set to "Free Sample". Therefore, set the desired sample time before starting the recording. Select only sampling rates that are also supported by the respective OPC UA Server. Otherwise an error message will appear when starting the recording and the sample time will be changed automatically to the sample time returned by the OPC UA Server. • Oversampling: For arrays it is also possible to use the oversampling function with OPC UA. However, since there is no task sample time and the oversampling actually refers to the task sample time, the interpretation does not correspond to the conventional oversampling with ADS. In the interpretation of the measured data this must be taken into account in particular with free sample times, which deviate widely from the actual task sample time. • Encrypted and/or authenticated connections: If the measured data are recorded by means of an encrypted and/or authenticated OPC UA connection, some further steps have to be performed following the first actuation of the Start Record button. More precise information on this can be found in the sections Encrypted connections [} 179] and Authenticated access [} 181]. • Determinism: The intervals between the data points that are transmitted via OPC UA correspond approximately to the set sampling rate. However, it is not necessarily to be expected that all data points are really equidistant as in the case of ADS. There may very well be deviations of 1-2 ms. • Missing data: If "gaps" should occur in the data when recording data via OPC UA (the interval between the data points is not equal to the set sample time), this may be due to the respective OPC UA Server and/or the quality of the connection. In this case, check the Scope Server log if necessary. 5.2.1.1.4 Encrypted connections OPC UA offers the possibility to implement a secure communication channel via encrypted connections. Even before adding the symbol you can select the encryption method via the respective end point during the creation of the OPC UA Server in the Target Browser (see also: Adding an OPC UA Server [} 170]). TE13xx Version: 1.20.2 179

## Page 180

Configuration If you add the symbol to the Scope project, the selected encryption method is automatically adopted (see also: Addition of OPC UA symbols [} 177]). As soon as you click on Start Record to start the recording, a dialog appears requesting you to adjust the Scope Server configuration. In order to make the necessary configurations on the Scope Server so that the recording can be started, confirm the dialog. The Scope Server – Opc Ua Configuration window opens in which you are requested to trust the certificate of the OPC UA Server, with which the communication is to take place, on the client side (Scope Server) (Trust button). 180 Version: 1.20.2 TE13xx

## Page 181

Configuration You can trust the certificate in a single case or add it to the list of trusted certificates via the check box Save to Trustlist. In order to check the server certificate, the server URL of the OPC UA Server and the selected end point have to be entered in the window. You can open the detailed information about the certificate via the Details button. In addition to the "Common name" and the period of validity of the certificate ("Valid from/to"), the "Thumbprint" is of particular relevance. On the basis of the thumbprint you can determine whether the certificate is really that of the OPC UA Server to which you wish to connect. During the first attempt to connect to an OPC UA Server it is additionally necessary to trust the certificate of the client (Scope Server) on the server side. The following error message informs you: „Connection to OPC UA Server failed. Please trust the client certificate at OPC UA Server.” In order to trust the certificate of the client on the server, copy the respective certificate in the certificate directory of the OPC UA Server from the "rejected" folder to the "trusted" folder. If the certificates have been exchanged on both sides and you have trusted both, you can start the recording. 5.2.1.1.5 Authenticated access OPC UA offers the option of an authenticated access. To do this the user must log in with his user data (user name and password) in order to be able to communicate data via OPC UA. This is necessary, for example, if various user accounts have been set up on the target device on which the OPC UA Server is running and these accounts are locked via an authentication, or if various authorizations are to be implemented for different data. TE13xx Version: 1.20.2 181

## Page 182

Configuration In a similar way to the encrypted connections, you define the identity type (anonymous/authenticated) before adding the symbol when creating the OPC UA Server in the Target Browser. For an authenticated access, activate the "Username" option instead of the "Anonymous" option and enter a user name and a password (see also: Adding an OPC UA Server [} 170]). When you add the symbol to the Scope project, the identity type and the user name are transferred with it (see also: Addition of OPC UA symbols [} 177]). Before starting the recording the password is requested again for security reasons. As soon as you click on Start Record to start the recording, the window Scope Server – Opc Ua Configuration opens, in which you are requested to enter the password. The user name that was entered in the Target Browser appears automatically. The recording is started after confirming the entry via OK and correct authentication. If an incorrect password is entered, the connection attempt is regarded as having failed ("Wrong credentials. Start Record not possible") and you are given the option to enter the password again. 182 Version: 1.20.2 TE13xx

## Page 183

Configuration 5.2.2 Headless mode Headless mode allows you to download a configuration to a local server or remote scope server (TF3300), start it and then disconnect the ADS connection that is established at that time. The recording continues to run autonomously in the server with the current settings. A connection to the active recording can subsequently be re-established with the View. If you do not have the current configuration, it can be loaded from the server to the View. The prerequisite for this is a scope server previously installed via the measurement setup on the device where the recording is to run. Procedure Configure your scope as usual. For each acquisition, the data pool contains the target system on which the actual process runs. The scope node properties in the Solution Explorer contain a Headless Mode category, where you can define the main server, i.e. the scope server that is responsible for the recording. This may be the scope server of the target system (see data pool) or a server on a completely different system. Once these settings have been implemented, start recording as usual using the Record button. You can now see how the data in the chart is updated cyclically. To switch to Headless mode, right-click the Scope node in the Solution Explorer. The context menu opens and the command for the Headless mode can be selected. TE13xx Version: 1.20.2 183

## Page 184

Configuration Once the command has been executed, the display in the chart ceases and the recording continues on the selected scope server. If you now select the Headless command again via the context menu, you will reconnect to the active recording. The data is displayed again immediately, and all the usual functions are available. As an alternative to the context menu entry, the Start Record button can be pressed again. The scope detects that an identically configured recording is already running. You will be asked whether a new recording should indeed be started or whether the connection to the existing recording should be restored: Loss of data If a recording was terminated regularly during the headless phase, it can only be loaded once by a client afterwards. The data must then be saved consistently as svdx or exported to other formats. Otherwise the data is discarded. If you do not have the configuration that is currently running on a scope server but would like to view it, you have two options. 184 Version: 1.20.2 TE13xx

## Page 185

Configuration In your view you can select the command Load Detached Configuration from the context menu of the scope node in the Solution Explorer. A wizard opens in which you can select the target system (Config or Run mode). If recordings are available, they can be selected and loaded accordingly. If a recording is active, you can connect to it accordingly and see the current values. TE13xx Version: 1.20.2 185

## Page 186

Configuration The green Play icon indicates that the recording is complete. The red icon indicates that the recording is still in progress. In both cases, you can load the configuration and connect accordingly. Alternatively, you can save the configuration locally as a .tcscopex file via the Scope Server UI. You can then pass this configuration on to an engineering system with Scope View. 186 Version: 1.20.2 TE13xx

## Page 187

Configuration In the Scope Server UI, switch to the Connect tab and click the Connections button. You will then see an overview of the available configurations and their status. Use the "get config" link to obtain the corresponding configuration as a .tcscopex file. 5.2.3 Vision integration In addition to the process data, Scope View can also display the images that are generated and analyzed with Twin CAT Vision. Thanks to the synchronization between the images and the process data, more than just the measurable values can be controlled via the images. In addition to the simple display functionality, the images can also be exported [} 307] as single images or as video. TE13xx Version: 1.20.2 187

## Page 188

Configuration 5.2.3.1 Twin CAT settings Some settings are required in Twin CAT and in the PLC for the Vision images to be recorded and displayed in Scope. • Twin CAT Version: >= 4024.13 • Data type of the image that should appear in Scope: ITc Vn Displayable Image 5.2.3.2 Image acquisition After adding an image variable from the Target Browser to the Scope project, an image acquisition is added to the data pool. In addition to the typical settings, there are other image-specific settings. Compression mode "Default Compression" is set as standard. The incoming images are stored in the server after a jpg compression to keep the file size low. The "Uncompressed" option can be used to save the incoming images in their original size. Save option Specify where the images should be saved [} 288]. Image Height / Image Width Information about the dimension of the selected image. FPS Number of images to be captured in one second. 188 Version: 1.20.2 TE13xx

## Page 189

Configuration 5.2.3.3 Image display In order to be able to display the images from the image acquisition, a new "Image" can be added via the context menu in the Scope Project or in any chart. You can also drag and drop an image acquisition from the data pool into a chart or the project. A project can contain any number of images; a chart can contain only one image. Depending on the position of the image, the element consists of several displayed objects. If the image is inserted under a chart, another time marker is displayed in the chart, which always shows the position of the current image. By moving the time marker, the currently displayed image can be changed. The current image is displayed behind the chart. TE13xx Version: 1.20.2 189

## Page 190

Configuration If the image is under a Scope project, the displayed objects can be found in several places. Each chart contains a time marker, which marks the current time of the image. There is also another image view that can be docked next to the charts. The view only shows the data and information of the one image. For better recognition between the time markers in the charts and the image view, the image is outlined in the marker color. An overview of the entire record is also displayed above the current image in the film track control. The control can be shown or hidden using the Film Track icon. Within the film track, images of the recording are displayed above the time axis in two layers. Images of the entire recording time are displayed in the layer at the back. Clicking on an image also makes the enlarged image move to the respective time, and the enlarged version of the clicked image is displayed. The magnifier is displayed in the layer at the front. This is used for better and more accurate scrolling through the images. Use the mouse to drag the magnifier across the time bar to change the position of the current image. Additional images are displayed within the magnifier. The current image is displayed in the center, and the immediately preceding or following images are displayed to the right and left. By clicking on the images, the current image position moves to the next image. This allows you to scroll through the recording image by image. In addition to the images, the magnifier also shows the current position on the time bar. In addition to the default marker settings, there are a several other settings: 190 Version: 1.20.2 TE13xx

## Page 191

Configuration Color Adjust the color of the marker and the image control border. Magnifier Color Adjust the color of the magnifier in the image control. Time Bar Show or hide time information in the image control. Tool Bar Show or hide controls in the image control. Image acquisition Selection of the current image acquisition. 5.2.3.4 Performance optimization • In order to optimize communication with larger images, the router memory should be increased on the Twin CAT system. • To reduce the network load, the size of the images sent to the Scope server can be reduced. • Since the raw images are communicated between the Twin CAT system and the Scope server, it makes sense to run the Scope server locally on the control system. The communication between the Scope components can be optimized by image compression for display. "Use Local Server [} 188]" must be set to False for this purpose. • If you have a very high network load and many large images, it is advisable to lower the FPS [} 188]. 5.2.4 Physical units Measured values can be recorded and displayed as a graph with the aid of the Twin CAT 3 Scope. To make interpretation of the recorded data easier, the Twin CAT 3 Scope offers the option of setting a physical unit for each individual channel. Firstly, this enables the unit in which the measured values were recorded to be made known. Secondly, the data can be converted into other units so that the user has the option to view the data, meaningfully scaled, in a unit that he selects. TE13xx Version: 1.20.2 191

## Page 192

Configuration 5.2.4.1 Introduction Base units The units in TC3 Scope are based on the SI system of units. Both the seven standard SI units and all units that can be derived from the product of any powers of these seven standard SI units are designated base units. These base units are coded in TC3 Scope via unique Enum values. To do this, four bits are interpreted as a signed value for each power value of the base units and combined to form a 32-bit integer (Int32), so that any derived units (limited only by the size of the data type) can be formed. Each digit of the Enum value represents one of the base units so that a unit is formed from the following equation in the case of an Enum value of "0xabcdefgh": E = Anglea * Luminous Intesityb * Amount of Substancec * Temperatured * Currente * Timef * Massg * Length h The following table shows the basic values for the calculation of the derived units. Measured variable Name of the unit Symbol of the unit Enum value Dimensionless values Unit of One 1 0x00000000 Length Meter m 0x00000001 Mass Kilogram kg 0x00000010 Time Second s 0x00000100 Current Ampere A 0x00001000 Temperature Degree Celsius °C 0x00010000 Amount of Substance Mole mol 0x00100000 Luminous Intensity Candela cd 0x01000000 Angle Radian rad 0x10000000 In addition to the seven standard SI units, two further units are listed here that are relevant for practical use. One of them is the "Unit of One" for dimensionless variables, which also serves as the default value if no other unit has been set. On the other hand, the angle is also considered, since there are several units such as the angular velocity or the solid angle that are composed of the powers of the angle, even though the angle is actually dimensionless. A further peculiarity is mass with its SI unit of kilogram, because unlike the other SI units it already contains a prefix in its basic form. Therefore, in order to be able to carry out scaling with the aid of prefixes, gram is assumed as the unit of mass in TC3 Scope View instead of kilogram. For the derived units, however, the mass percentage is nevertheless represented as kilograms, as the definition would otherwise no longer fit. In order to form units derived from these basic values, the powers of the standard SI units must be multiplied accordingly. For example, if a force is to be illustrated in Newton, the rule is: N = m1 * kg1 * s-2, resulting in an Enum value of 0x00000E11. E represents the power of "-2" here, which results from the display as two's complement in the hexadecimal system. All the derived base units already predefined in TC3 Scope are listed below. 192 Version: 1.20.2 TE13xx

## Page 193

Configuration Measured variable Name of the unit Symbol of the unit Enum value Absorbed Dose Gray Gy 0x00000E02 Acceleration Meter per square second m * s-2 0x00000E01 Angular Acceleration Radian per square second rad * s-2 0x10000E00 Angular Velocity Radian per second rad * s-1 0x10000F00 Area Square meter m2 0x00000002 Capacity Farad F 0x000024FE, Catalytic Activity Katal kat 0x00100F000 Charge Coulomb C 0x00001100 Conductance Siemens S 0x000023FE Energy Joule J 0x00000E12 Force Newton N 0x00000E11 Frequency Hertz Hz 0x00000F00 Illuminance Lux lx 0x0100000E Inductance Henry H 0x0000EE12 Luminous Flux Lumen lm 0x21000000 Magnetic Flux Weber Wb 0x0000FE12 Magnetic Flux Density Tesla T 0x0000FE10 Power Watt W 0x00000D12 Pressure Pascal Pa 0x00000E1F Resistance Ohm Ω 0x0000ED12 Solid Angle Steradian sr 0x20000000 Velocity Meter per second m * s-1 0x00000F01 Voltage Volt V 0x0000FD12 Volume Cubic meter m3 0x00000003 Any other base units can be formed by means of the Enum values (see also Configuration of units with the aid of PLC attributes [} 207]). However, the specification of the base unit is insufficient in order to represent a unit completely and to scale the measured values in a suitable manner afterwards. Therefore, further parameters need to be specified: a scaling factor, an offset and a prefix. The scaling factor and the offset are used to convert the raw values into the appropriate unit. The prefix offers the option to scale a unit by the power of ten. The following prefixes are available. For example, if "milli" is selected as the prefix, the respective unit is divided by 10-3 so that automatic adjustment of the scaling takes place. TE13xx Version: 1.20.2 193

## Page 194

Configuration Name of the prefix Symbol of the prefix Multiplication factor Enum value Yocto y 10-24 -24 Zepto z 10-21 -21 Atto a 10-18 -18 Femto f 10-15 -15 Pico p 10-12 -12 Nano n 10-9 -9 Micro µ 10-6 -6 Milli m 10-3 -3 Centi c 10-2 -2 Deci d 10-1 -1 None - 100 0 Deca da 101 1 Hecto h 102 2 Kilo k 103 3 Mega M 106 6 Giga G 109 9 Tera T 1012 12 Peta P 1015 15 Exa E 1018 18 Zetta Z 1021 21 Yotta Y 1024 24 Transformations In the measurement technology application area, it is frequently the case that an SI unit has to be converted into another SI unit. This is the case, for example, when an acceleration is measured with the aid of a sensor and a fieldbus terminal. Voltages or currents are initially measured, which should give an indication of the acceleration. For this reason, the TC3 Scope also provides for the transformation from one SI unit into another SI unit. Such a transformation is defined by a source variable (source unit), a target variable (target unit), a scaling factor for the conversion and a name. Example: • Source variable: Voltage • Target variable: Acceleration • Scaling factor: 0.101937 • Name: Accelerometer User units In addition to the SI system of units there are further systems of units that are also used in practice (CGS system of units, Anglo-American system of measurement, etc.). In order to be able to represent such units too, the TC3 Scope provides for so-called user units into which the base units can be converted. A user unit is defined through its associated basic variable, the name and the symbol of the user unit, a scaling factor and an offset for conversion as well as a prefix. For the user unit gravitation (g), for example, this results in the following values: • Basic variable: Acceleration • Name: Gravity • Symbol: g • Scaling factor: 1 / 9.81 • Offset: 0 • Prefix: none 194 Version: 1.20.2 TE13xx

## Page 195

Configuration Resulting unit A unit in the TC3 Scope can thus be composed of the three elements base unit, transformation and user unit, depending on what is required in the specific application case. However, it is always the resulting unit that is displayed. If a voltage is the basic variable, which is then converted via a transformation into an acceleration in m/s2 and from there into g with the aid of a user unit, the measured data and offset with the scaling factors and offsets and the result is the acceleration in g. The following illustration shows how the resulting unit is displayed in the Properties window: If existent, the symbol for the prefix will be displayed first. After that comes the symbol for the unit and subsequently the measured variable in brackets. Apart from the display in the Properties window, the units also appear in the tooltips that appear when clicking on a data point (see illustration) and are displayed in the marker window. TE13xx Version: 1.20.2 195

## Page 196

Configuration 5.2.4.2 Configuring units with the aid of the Unit Wizard The units can be set for each individual channel in the TC3 Scope. They are displayed in the Properties window for the channel style and can also be configured there with the aid of the Unit Wizard. To open the Unit Wizard, click on the button with the three points on the right of the field. 196 Version: 1.20.2 TE13xx

## Page 197

Configuration On the first page of the wizard there are three selection options between which you can choose, depending on the type of values you have measured and recorded with the TC3 Scope. • Scaled Value: If you have already scaled your values as desired and only wish to enter the appropriate unit, select the option "Scaled Value" [} 197]. • Unscaled Value: If you have not yet scaled your values and wish to scale them yourself with the aid of a scaling factor and an offset in addition to selecting the unit, select the option "Unscaled Value" [} 198]. • Terminal Value: If you have measured your values using a Beckhoff fieldbus terminal and now wish to scale the values automatically through the setting of the hardware employed and to generate a unit, select the option "Terminal Value" [} 202]. (However, this option is available only with the Scope View Professional License). Scaled Value If you have selected the option "Scaled Value", the following page opens: TE13xx Version: 1.20.2 197

## Page 198

Configuration In order to select a unit, first select your measured variable. Subsequently, all units that come into question for the selected measured variable are displayed on the right-hand side. After you have selected the desired unit you can optionally select a prefix. In the "Unit Preview" field at the bottom left you can see how the currently selected unit will be displayed later in the Properties window. Finally, you can set the unit with the Create button. Since the values have already been scaled appropriately, no conversion of the values takes place in this case. The selected unit is merely entered and displayed. Unscaled Value If you have selected the option "Unscaled Value", the following page opens: 198 Version: 1.20.2 TE13xx

## Page 199

Configuration In order to select a unit, first select your measured variable. Subsequently, all units that come into question for the selected measured variable are displayed on the right-hand side. After having selected the desired unit you can specify a scaling factor and an offset with which the measured values are to be converted into the appropriate unit. Subsequently, the Next button takes you to the next page, on which you can optionally select a transformation (e.g. a sensor). However, this page only appears if the previously selected unit is a base unit and not a user unit. Otherwise you will be taken directly to the last page of the dialog (Prefix Selection). TE13xx Version: 1.20.2 199

## Page 200

Configuration The list shows transformations from one SI unit to another SI unit. The list contains only transformations whose source unit corresponds to the previously selected base unit. The associated target unit is displayed in the "Unit Preview" field at the bottom left if a transformation is selected. If no transformation is required, simply select None. Some transformations are predefined as examples in the TC3 Scope. However, these frequently depend on the specific application case (sensor, measuring setup, etc.), therefore it is not particularly useful to define a large number of generally valid transformations. You can therefore create your own transformations with the aid of the Unit Dictionary, which you can access via the button at the bottom right or via the Scope options [} 311]. Detailed information about the Unit Dictionary can be found in the section Unit Dictionary Editor [} 208]. Furthermore, there is an option to enter transformations via the PLC attributes (see Configuration of units with the aid of PLC attributes [} 207]). After having selected the desired transformation, the Next button opens the next page, on which you can optionally select a user unit. 200 Version: 1.20.2 TE13xx

## Page 201

Configuration Once again, only user units that match the previously selected base unit appear. Some frequently used user units are predefined. As with the transformations, further user units can be added via the Unit Dictionary or the PLC attributes. After selecting the user unit, you will be taken to the last page of this dialog: TE13xx Version: 1.20.2 201

## Page 202

Configuration Here you can optionally select a prefix for your unit. This is then also displayed in the "Unit Preview". Finally, you can create the configured unit with the aid of the Create button. Terminal Value If you have selected the option "Terminal Value", the following page opens: 202 Version: 1.20.2 TE13xx

## Page 203

Configuration On this page you can select the type of terminal with which you recorded your measured values. Several Beckhoff Ether CAT terminals are already predefined. You can use the Unit Dictionary to view them or to add further terminals (see also Unit Dictionary Editor [} 208]). Since a Beckhoff Ether CAT terminal can be configured in different ways, you must select the set configuration of your terminal on the next page. TE13xx Version: 1.20.2 203

## Page 204

Configuration All configuration options of the previously selected terminal type appear in the list. You can filter the configuration options via the text search in order to quickly find the appropriate configuration. The various configuration options are also stored in the Unit Dictionary. Subsequently, the Next button takes you to the next page, on which you can optionally select a transformation (e.g. a sensor). 204 Version: 1.20.2 TE13xx

## Page 205

Configuration The list shows transformations from one SI unit to another SI unit. The list contains only transformations whose source unit corresponds to the previously selected base unit. You can see the associated target unit in the "Unit Preview" field at the bottom left when a transformation is selected. If no transformation is required, simply select None. Some transformations are predefined as examples in the TC3 Scope. However, these frequently depend on the specific application case (sensor, measuring setup, etc.), therefore it is not useful to define a large number of generally valid transformations. You can therefore create your own transformations with the aid of the Unit Dictionary, which you can access via the button at the bottom right or via the Scope options [} 311]. Detailed information about the Unit Dictionary can be found in the section Unit Dictionary Editor [} 208]. Furthermore, there is an option to enter transformations via the PLC attributes (see Configuration of units with the aid of PLC attributes [} 207]). After having selected the desired transformation, the Next button opens the next page, on which you can optionally select a user unit. TE13xx Version: 1.20.2 205

## Page 206

Configuration Once again, only user units that match the previously selected base unit appear. Some frequently used user units are predefined. As with the transformations, further user units can be added via the Unit Dictionary or the PLC attributes. After selecting the user unit, you will be taken to the last page of this dialog: 206 Version: 1.20.2 TE13xx

## Page 207

Configuration Here you can optionally select a prefix for your unit. This is then also displayed in the "Unit Preview". Finally, you can create the configured unit with the aid of the Create button. 5.2.4.3 Configuration of units with the aid of PLC attributes In addition to the input option via the Unit Wizard, units can also be configured with the aid of the attributes of a symbol or a data type in the PLC code. This is useful, for example, if a certain variable is recorded more frequently using the TC3 Scope. The unit then only needs to be provided once as an attribute and not reconfigured every time. PLC attributes are specified directly via the declaration of a variable or the data type in curly brackets, as can be seen in the illustration below. Three different unit elements can be specified with the aid of the PLC attributes: Base units (Base Unit), transformations (Unit Transformation) and user units (User Unit). The syntax for their input is as follows: Base units {attribute 'Base Unit' := '< Base Unit, Scale Factor, Offset, Prefix >'} e.g.: {attribute 'Base Unit' := '< Angular Velocity, 0.5, 0, kilo>'} → The unit is then krad/s (Angular Velocity) with a Scale Factor of 0.5. Transformations TE13xx Version: 1.20.2 207

## Page 208

Configuration {attribute 'Unit Transformation' := '<Source Unit, Target Unit, Scale Factor, Name>'} e.g.: {attribute 'Unit Transformation' := '<Current, Temperature, 10, Current-Temperature Converter>'} → The resulting unit is the temperature in °C. User units {attribute 'User Unit' := '<Base Unit, User Unit, Symbol, Scale Factor, Offset, Prefix >'} e.g.: {attribute 'User Unit' := '<Temperature, Fahrenheit, °F, 1.8, 32, 0>'} → The resulting unit is the temperature in °F. For the base units and prefixes the Enum values can be entered as numbers in addition to the names. This enables any base units and prefixes to be selected even if they are not predefined. The three different elements can be specified individually or in combination. Note, however, that not all combinations make sense. A transformation and a user unit, for example, should be specified with an appropriate base unit. If no appropriate base unit is specified it will automatically be set to the base unit of the transformation or user unit. In the case of input errors in the attribute syntax, the default value, i.e. a "Unit of One" is set automatically with a scale factor of "1", an offset of "0" and the prefix "none". 5.2.4.4 Unit Dictionary Editor For the user the Unit Dictionary Editor represents the interface to the Unit Dictionary, in which all available unit elements are stored. The predefined elements can be viewed and new values added via the Unit Dictionary Editor. The Unit Dictionary Editor is available only with a Scope View Professional License. On the one hand the editor can be called from the Unit Wizard via the Unit Dictionary button, which always appears when terminals, transformations or user units can be selected. On the other hand, the editor can be called via the Scope Options [} 311]. The Unit Dictionary Editor contains four different tabs containing the various elements: • Units [} 208] • Sources [} 209] • Transformations [} 210] • User Units [} 210] Units The Units tab contains a list of all base units. These are predefined and cannot be changed using the Unit Dictionary Editor. If additional base units are required, they must be entered by means of the Enum values as PLC attributes (see also Configuration of units with the aid of PLC attributes [} 207]). 208 Version: 1.20.2 TE13xx

## Page 209

Configuration Sources The Sources tab contains the Beckhoff Ether CAT terminals. However, as other sources are also conceivable for the measured values depending on the application case, the tab is generally called "Sources". The terminal types with their configuration options are displayed in the list at the top left. To the right of that the properties of the respectively selected terminal can be viewed. TE13xx Version: 1.20.2 209

## Page 210

Configuration An input field can be opened in the lower area with the Add Source button. Further terminals or other user- specific sources can be added there. To do this it is merely necessary to fill out the fields. The element created can then be added using the Add to Source List button. A selected element can be deleted again with the Delete from Source List button. However, predefined values cannot be deleted from the list. Note that when entering new "Source" elements, a terminal type and the associated configuration options should be entered so that they can be sorted in the Unit Dictionary Editor and in the Unit Wizard analogous to the existing elements. For example, the terminal type in the above screenshot is "EL3751". Its associated configuration options are added as individual elements. The name of the configuration begins with the designation of the terminal type and contains the respective configuration option behind that in square brackets. Transformations The Transformations tab contains all predefined transformations. The properties of a selected transformation can be seen on the right. In order to define a new transformation, the input field must be opened via the Add Transformations button and the corresponding data entered. The transformation can then be added using the Add to Transformation List button. A selected transformation can be deleted again with the aid of the Delete from Transformation List button. Note that predefined transformations cannot be deleted. User Units The User Units tab contains all predefined user units. 210 Version: 1.20.2 TE13xx

## Page 211

Configuration The properties of a selected user unit can be seen on the right-hand side. In order to define a new user unit, the input field must be opened via the Add User Unit button and the corresponding data entered. The user unit can then be added using the Add to User Unit List button. A selected user unit can be deleted again with the aid of the Delete from User Unit List button. Note that predefined user units cannot be deleted. 5.2.5 Layer Charts The layer function is used to compare signal curves with each other. Here it is possible to load reference curves so that they are visually displayed next to the data that is currently being recorded or was last recorded. In addition, data from the current recording at different times can also be compared. Currently, these functions are implemented for YT and XY charts. 5.2.5.1 Basic functionality To compare data with each other, various layers can be added under YT and XY charts. Here, a layer represents a collection of graphs that are displayed in the current chart. The data displayed in this layer are freely configurable. TE13xx Version: 1.20.2 211

## Page 212

Configuration The configurations for the Layer Chart are made exclusively in the Layer Editor. Basic settings in the chart First, a point in time (anchor point) must be selected in the chart. This anchor point serves as a starting point for all layers defined in this chart. For example, if reference curves are added, the anchor point is the point in the chart where the recording of the curve begins. See the Layer Editor [} 213] for more information on the various configuration options for this time point. Basic settings in Ghosting mode In Ghosting mode, data from different points in time can be superimposed from a current recording. In this mode, a point in time (data starting point) is first selected from the current recording. Now the graphs belonging to the layer show the data from the data starting point, only that the starting point in the display is no longer the recording time, but that of the anchor point of the chart. In the screenshot, the green graph shows the channel, which is known to be below the chart, and the red graph is the representation of a layer. The orange marker shows the anchor point of the chart and the blue marker shows the point in time, which is selected in the layer as the data starting point. Since the data in the layer is now drawn from the anchor point, the green graph is now slightly shifted in red. Basic settings for reference curves To compare the data of the current recording with reference curves, this reference data from the data pool must be connected to the layer. See the chapter Reference Data Mode [} 219] for more information on reference curves. 212 Version: 1.20.2 TE13xx

## Page 213

Configuration The screenshot shows the channel in green, which is below the chart as usual. The red curve shows a layer containing a reference curve. This reference curve starts at the anchor point of the chart, which is indicated by the marker, and is then drawn over a length of 10 seconds, since the reference curve contains 1000 data points and these data points are interpreted with a sampling rate of 10 ms. 5.2.5.2 Layer Editor In the Layer Editor, which is integrated as a tool window in Visual Studio®, all settings for the layers are made. The editor is divided into three areas. General settings The upper area contains general settings. On the one hand, the chart to be edited can be selected there. Use the plus to add new layers and the arrows to sort the existing layers. Here, the layers are sorted in ascending order according to their data starting point. TE13xx Version: 1.20.2 213

## Page 214

Configuration Chart settings The middle area includes all settings related to the selected chart. These are the settings of the anchor point. In addition to the anchor point at which the drawing of the graphs begins, an end point can also be defined. The end point specifies the time up to which the graphs are to be drawn. The following options can be selected to set the point in time. Custom If Custom is selected, a fixed timestamp can be entered for Timestamp. Display Time Offset This setting can be used to configure a dynamic time. The adjustable time is an offset which is added to the current position on the chart to calculate the time of the anchor point. 214 Version: 1.20.2 TE13xx

## Page 215

Configuration The screenshot shows a configuration where a Display Time Offset of +1 s has been set in the chart, resulting in the reference curve starting at one second. Duration The Duration setting is another dynamic time configuration. With this configuration, the point in time is determined anew every x time units. X is the time that can be configured in the window. The recording start time forms the first point in time. From then on, the associated timestamp is always the recording start time plus a multiple of the Duration setting. During recording, the timestamp jumps by one duration every x time units and after recording, the timestamp is at the last possible time. Charts When linking to a chart, the linked timestamp is always linked to the current position of the selected chart. Time marker If a timestamp is linked to a time marker, the timestamp is always set to the time of the marker. TE13xx Version: 1.20.2 215

## Page 216

Configuration In the configuration shown in the screenshot, the anchor point is connected to the orange marker and the layer is connected to the blue marker. With this configuration option, the connected timestamps can be easily and accurately set to the appropriate time. If a marker is set to the correct position, it is recommended to lock the marker (set the marker's lock property to true) so that it is not accidentally moved on the chart. Trigger Group With the selection of a trigger group, the timestamp is also updated dynamically again. With this configuration, the associated timestamp is always set by the trigger events that occurred in this trigger group. With the adjustable number you can still set which trigger event should be used. Here, the count is always from new to old. If the counter is set to 0, the timestamp always represents the time of the latest trigger event. If the trigger is set to 1, always the penultimate, etc. Trigger Release Info For Trigger Release Info, a trigger event can be explicitly selected to set the associated timestamp to the time of the event. Set end point The end point of a chart can be set using the same functions as the anchor point. Only the Duration function at the end is replaced by the Layer Length setting. A fixed Layer Length can be set here. Layer settings The third and lower area of the editor contains the settings of the layers. Each layer gets its own area so that all settings can be made there. 216 Version: 1.20.2 TE13xx

## Page 217

Configuration The settings are again divided into different areas. First there is the layer header: In the layer header the most important information is shown on the left and on the right there are buttons for configuring the layer. • Setting the visibility of a graph before the anchor point. If this setting is activated, data of a ghost graph will be drawn even before the anchor point, if data are already available for the time range. If the setting is deactivated, the layers only start at the anchor point. • This toggle button is used to enable/disable the Echo mode. • Turn visibility of the layer on and off. The Data setting area is a dynamic area, which is structured differently in the various modes and is therefore explained further there. The third area is for configuring the style of the graphs that are displayed in the layer. • Opacity - With this setting the colors of the original channels are adopted for the ghost graphs and adjusted in opacity. Thus, the different graphs can be easily assigned to each other and still be distinguished. Since there are no associated channels for reference curves, this setting is only available for ghost layers. • Color - The color selected here will be set for all graphs of the layer. • Linewidth - The graphs of this layer will be drawn in the specified line width. • Channel Visibility - If not all channels are to be displayed for ghost layers, the individual ghosts of the channels can be hidden. 5.2.5.3 Ghost mode To use the Ghost mode, in the data area of a layer the switch must select the left Ghost mode. The data output point can be set in the data area. The following options can be selected to set the point in time. Custom TE13xx Version: 1.20.2 217

## Page 218

Configuration If Custom is selected, a fixed timestamp can be entered for Timestamp. Display Time Offset This setting can be used to configure a dynamic time. The adjustable time is an offset which is added to the anchor position of the chart to calculate the time of the data to be repeated. The screenshot shows a configuration where in the chart the orange marker was selected as anchor point and in the layer the Display Time Offset was set to -1 s. Thus, the data output point of the layer is one second before the anchor point. This location is indicated by the blue marker. With a negative offset, data from the past can thus be displayed in the display of more recent data. The opposite can be achieved with a positive offset. Duration The Duration setting is another dynamic time configuration. With this configuration, the point in time is determined anew every x time units. X is the time that can be configured in the window. The recording start time forms the first point in time. From then on, the associated timestamp is always the recording start time plus a multiple of the Duration setting. During recording, the timestamp jumps by one duration every x time units and after recording, the timestamp is at the last possible time. Charts When linking to a chart, the linked timestamp is always linked to the current position of the selected chart. Time marker If a timestamp is linked to a time marker, the timestamp is always set to the time of the marker. 218 Version: 1.20.2 TE13xx

## Page 219

Configuration In the configuration shown in the screenshot, the anchor point is connected to the orange marker and the layer is connected to the blue marker. With this configuration option, the connected timestamps can be easily and accurately set to the appropriate time. If a marker is set to the correct position, it is recommended to lock the marker (set the marker's lock property to true) so that it is not accidentally moved on the chart. Trigger Group With the selection of a trigger group, the timestamp is also updated dynamically again. With this configuration, the associated timestamp is always set by the trigger events that occurred in this trigger group. With the adjustable number you can still set which trigger event should be used. Here, the count is always from new to old. If the counter is set to 0, the timestamp always represents the time of the latest trigger event. If the trigger is set to 1, always the penultimate, etc. Trigger Release Info For Trigger Release Info, a trigger event can be explicitly selected to set the associated timestamp to the time of the event. 5.2.5.4 Reference Data Mode To compare the data of the current recording with reference curves, the data of the reference curve must first be added to the data pool as sequences. Sequences are collected in the data pool in a Sequences folder. Add sequences There are three ways to add new sequences to a Scope project. Create new sequence In the context menu of the data pool a new sequence can be created with New Empty Sequence, which consists at the beginning only of zeros. In Curve Creator [} 224] this sequence can be edited as desired and finally added as a new sequence in the data pool. TE13xx Version: 1.20.2 219

## Page 220

Configuration Load from file If reference data already exists as an Analytics file or in a CSV, these files can also be opened to add the data as a sequence. To add a sequence via this way, one or more new sequences can be inserted via the context menu from the data pool with Load Sequence. If there are several data series in the Analytics File or CSV file, a window for selecting the appropriate data series will open. 220 Version: 1.20.2 TE13xx

## Page 221

Configuration When the selection is confirmed with Ok, the window closes and the sequences are added to the data pool. If there is only one data series in the selected file, this window is skipped and the sequence is added automatically. The data structure in the CSV file consists of a first row containing the names of the data series. The following rows contain the data of the data series. Value1,Value2 1,5 2,4 3,3 4,2 5,1 Convert data from a current recording into a sequence If a recording is already available, sequences can be generated directly from the recorded data and added to the data pool. This can be done with the Curve Creator. If sequences are added to the data pool, the layer can be configured with reference data. First the switch must be set to the right reference data mode. Then, for XY charts, the X and Y Acquisition (for YT charts, only the Y Acquisition) can be filled with sequences. For this purpose, the sequence can either be selected in the dropdown box or dragged and dropped from the Solution Explorer onto the dropdown box. 5.2.5.5 Echo mode If data is to be compared which recurs in a fixed cycle, the use of an echo layer is recommended. This layer consists internally of x further layers, where the data output point is always shifted to each other by a definable length. If the defined length is configured to the cycle length, the data output points of the layers in the echo layer always have a distance of one cycle length. Thus, the past cycles can be easily superimposed. TE13xx Version: 1.20.2 221

## Page 222

Configuration From the mode of operation, the echoes build on the use of the Duration setting of the data settings. The first layer always has the current data starting point. However, it always has only the second newest possible value for the duration calculation, so that a full frequency of data is always available for the echoes. The screenshot of the scope shows the echo mode using the example of a curve with a frequency of eight seconds. These eight seconds are also displayed as Duration length in the chart with this configuration. The current anchor position of the chart is marked with the green marker in the screenshot. From there, all three echoes are drawn in the echo layer. The data output points of the echoes are represented by markers in the same color in the overview chart. The blue marker belongs to the first echo layer, which can be seen as a blue graph in the chart. This time is eight seconds before the anchor point of the chart. Another eight seconds before that is the red marker representing the data output point of the second echo, which is represented in the chart by the red graph. The orange graph belongs to the third echo, which is represented by the orange marker in the overview chart and is also eight seconds before the red marker (2nd echo). The display with the echo mode can be optimized during recording by using the Restart Display Trigger in conjunction with the Time Trigger [} 146]. For configuration, the Clear Display function should be activated for the Restart Display Trigger and the Time Trigger Set should be set to the duration length. With this configuration, each time a new duration is started, the chart is cleaned up and the echoes load the data from the past durations. Then the charts are filled with new data, so that the new data gradually overlays the echoes. 222 Version: 1.20.2 TE13xx

## Page 223

Configuration Settings To activate the echo mode, it must be activated in the header. Echo Settings: • Echo Amount - number of echoes in this layer • Echo Duration - length of the frequency. If Duration mode is selected for the anchor point at the chart layer, the frequency cannot be set in this layer because the length is taken from the chart. The appearance of the echoes can be configured in the same way as the other layers. • Setting the visibility of a graph before the anchor point. If this setting is activated, data of a ghost graph will be drawn even before the anchor point, if data are already available for the time range. If the setting is deactivated, the layers only start at the anchor point. • Turn visibility of the layer on and off. • Opacity - With this setting the colors of the original channels are adopted for the ghost graphs and adjusted in opacity. Thus, the different graphs can be easily assigned to each other and still be distinguished. Since there are no associated channels for reference curves, this setting is only available for ghost layers. • Color - The color selected here will be set for all graphs of the layer. • Linewidth - The graphs of this layer will be drawn in the specified line width. • Channel Visibility - If not all channels are to be displayed for ghost layers, the individual ghosts of the channels can be hidden. 5.2.5.6 Compare channels from different charts If two channels in different charts are to be compared at different times, this can also be done through the layers. To do this, simply drop a channel that is to be displayed as a layer in the other chart from the Solution Explorer into the empty area of the Layer Editor of the target chart. TE13xx Version: 1.20.2 223

## Page 224

Configuration In the target chart, this channel is now automatically added invisible and only displayed visible in a new layer. The data starting point of the new layer is referenced to the old chart. In this way, you can select the position in the old chart that you want to compare in the new chart. The result of such an operation may look like this: In this example, the blue channel from the right chart was dropped into the Layer Editor of the left chart. The anchor point of the left chart is set to Display Time Offset with an offset of 0. Thus, the anchor point is the current chart position. By this configuration, what is shown in the right chart is also in the display in the left chart. 5.2.6 Curve Creator The Curve Creator can be used to display and manipulate data, from different sources, in one chart, on a common index axis. In addition to the chart, the Curve Creator also provides a legend that displays the names and colors of the graphs, as well as buttons that are used to save the graphs as an Analytics file. Open tool from a YT chart It is possible to load the currently displayed graphs of a YT Chart into the Curve Creator. For this, the recording of the scope view must be stopped. 224 Version: 1.20.2 TE13xx

## Page 225

Configuration When you click on the highlighted icon of the toolbar in the YT Chart, a new Curve Creator window will open. In the Curve Creator, the displayed data of the channels of the YT chart are then displayed. The values of the graphs can then be saved using the Save and Exit button. When saving, you can specify whether only the visible or also the invisible graphs are to be saved. You can also specify whether the data should be saved in the same folder as the Scope project or in a freely selectable folder. After closing the window, the graphs are stored as a sequence in the data pool. Create new sequences There is a possibility to create new sequences with freely adjustable data. For this purpose, New Empty Sequence must be selected in the context menu of the data pool. Then a new Curve Creator window will open. In the window there is a graph containing 1000 zero values. These can then be extended, shortened and edited. When closing via the button Save and Exit, you are first asked whether only the visible or also the invisible graphs should be saved. You are then asked whether the data should be saved as an Analytics File, next to the project or in a folder of your choice. After saving, a new sequence with the saved data is added to the data pool Editing in the data pool Sequences can be viewed and edited using the Curve Creator. To do this, one or more sequences must be selected in Solution Explorer. Then the context menu can be opened and with Edit a Curve Creator window can be opened. TE13xx Version: 1.20.2 225

## Page 226

Configuration When you click the Save and Exit button, the data is written to its original sequence. Analytics Workbench file path parameters In Analytics Workbench there are several functions with file path parameters. Here the Curve Creator can be used to create or view Analytics files. When the button in the File Path parameter is clicked for editing, a Curve Creator window opens. If the specified file does not exist, then a new graph is created, otherwise the first symbol of the Analytics file is displayed. When saving, either a new folder where the data will be saved can be selected or if the file already existed, then the Override and Exit button can be used to replace the opened file. When a new file has been saved, the file path in the parameter is updated. Track Editor In Analytics Data Scout, the Curve Creator can be used in the Track Editor to modify track data. When opened, the range that is also displayed in the chart is loaded from the track data and displayed in the Curve Creator. When closing via the button Save and Exit, you are first asked whether only the visible or also the invisible graphs should be saved. The graphs are then saved in an Analytics File and the changed area in the tracks is replaced with the new Analytics File. If the functions have been used to change the start or end point of graphs, it is not the selected range that is replaced, but the range from which the data originate. After closing the Curve Creator, the number of samples remains the same. Operation In Curve Creator, there are several functions in the toolbar for editing and displaying graphs. Navigation 226 Version: 1.20.2 TE13xx

## Page 227

Configuration Similar to a YT chart, the displayed area can be changed in the Curve Creator. However, no time is displayed on the X-axis, but indices. Therefore, the display width text field and the position text field contain index values and no times. Since there is no adjustable default display width, Zoom to default only returns the Y-axis and not the X-axis to the default value. Change start and end point It is possible to lengthen or shorten the graphs using these mouse modes, at the start or at the end. If one of the modes is selected, all graphs are selected. This can be recognized by the fact that all graph names are underlined in the legend. The graph can be selected or deselected by clicking on a graph name. If a graph is no longer selected, it is displayed in a slightly grayish color and is no longer underlined in the legend. You can also click on a graph in the chart to select it. After clicking on the graph, only this graph is selected. If the [Ctrl] key is pressed during the click, a multiple selection of the graphs can be edited. In addition, you can press a free area of the chart and draw a rectangle by holding down the left mouse button. When you release the mouse button, all the graphs that were inside the rectangle at the time of your release will be selected. All selected graphs have a round shape at the start or end; the unselected graphs are grayed out. The round red shape that now appears can be clicked. When clicked, a marker is displayed. This can be moved by moving the mouse. TE13xx Version: 1.20.2 227

## Page 228

Configuration When the left mouse button is released, the selected graphs are lengthened or shortened to the position of the marker. This happens even if the marker has not been moved for some time, but the action is not completed until the mouse button is released. If several graphs are selected and do not start or end at the same point, the distance between the graphs is maintained when they are lengthened or shortened. Compress and stretch This functionality allows you to change the distances between the values of a graph on the X-axis. The values of the graphs are not changed, only the index distance between the values. To use this function, the window shown below is opened, in which the factor of the distance between the values on the X-axis can be set. If one data point is to be displayed on each index of the X-axis, the factor must be set to '1'. If only one data point is to be on every second index, select the factor '2'. Set start offset This mouse mode can be used to set the start position of graphs on the X-axis. To set the start offset, graphs must be selected by clicking on them. Selected graphs get a red round shape at the start, unselected graphs are grayed out. 228 Version: 1.20.2 TE13xx

## Page 229

Configuration When a shape is clicked with the left mouse button, a marker appears. This marker indicates where the start position of the graphs should be. As long as the mouse button is pressed, the marker can be moved by moving the mouse. When you release the mouse button, the marker disappears and the start offset of the graphs is adjusted. Selection mode The Curve Creator can be used to manipulate the values of graphs. To manipulate values, an area in a graph must first be selected. The selection mode can be activated for this purpose. Then a graph can be clicked to start a selection. TE13xx Version: 1.20.2 229

## Page 230

Configuration A marker and two blue shapes are displayed at the value clicked on in the graph. As long as the mouse button remains pressed, the marker can be moved by moving the mouse. When moving the marker, an area between the start point and the marker is selected. The selected area has a different color than the unselected area and has a blue shape at the start and at the end. When the mouse button is released, the marker disappears. With the help of the blue shapes the selected area can be changed afterwards. To do this, just click on one of the shapes and a marker will appear that can be moved as in the initial selection. There can be only one selected area in the Curve Creator. Once an area has been selected, only the buttons for editing the selected area are operable. To cancel the selection, the editing can be ended by clicking on the checkmark in the toolbar or canceled by clicking on the X in the toolbar. When canceling, the graph is reset to the state before the selection. When clicking in the empty area in the chart, the selection, as when clicking on the checkmark, is canceled and the changes to the graph are applied. Transformations The transformation mouse modes are only available if an area has been selected with the selection mode. The transformations can be used to edit a selected area. To do this, click with the left mouse button on the selected graph, then a round blue shape will appear at the place where the center of the transformation is. 230 Version: 1.20.2 TE13xx

## Page 231

Configuration By moving the mouse while the mouse button is pressed, the center of the transformation can be moved up or down. When the mouse button is released, the round blue shape disappears and the transformation is complete. Several transformations can be applied before the selection mode is terminated. Curves transformation The Curves transformation puts a curved offset on the graph. The change is greatest at the center and becomes smaller the closer the value is to the start or end of the selection. Y offset transformation The offset transformation gives each value in the selected range the same offset based on how far the mouse has moved up or down from the start of the transformation. TE13xx Version: 1.20.2 231

## Page 232

Configuration Undoing actions In the Curve Creator it is possible to undo certain actions. This includes lengthening, shortening, compressing, stretching, setting start offset and transforming graphs. To undo these actions you can use the Undo Redo buttons on the right side. The Undo Redo buttons in the navigation area only undo the change of the displayed area. Legend A legend is displayed below the chart, listing all Curve Creator graphs by name and color. Hide graphs It is possible to hide the graphs in the Curve Creator. Hidden graphs will be grayed out in the legend. To hide a graph, either click on the colored rectangle in the legend or right-click on a graph in the context menu. Hidden graphs are saved as well. You can click again on the colored area in the legend to unhide. If the Curve Creator has been opened from a YT chart, graphs can be deleted via the legend or the context menu. Deleted graphs are not saved. Export with Sample Time setting If the Sample Time can be set for the exported data, the window shown below will open before the export. The Base Sample Time with which the graphs are to be exported can be defined in the upper area of the window. The table lists the various graphs with their factor ("compression and stretching") and their associated Sample Time. The Sample Time is calculated by multiplying the Base Sample Time by the factor, as the Base Sample Time indicates the duration of an index on the X-axis. 232 Version: 1.20.2 TE13xx

## Page 233

Configuration 5.2.7 Comment function In the Twin CAT Scope View it is possible to enter comments in many places, especially at the hierarchical levels of charts, axes and channels. The comments can be displayed summarized as a flat list or as a hierarchical tree in the comments window. It is also possible to automatically write comments in the comment window by using triggers. The individual comment functions are explained in more detail in the following sub-chapters. TE13xx Version: 1.20.2 233

## Page 234

Configuration 5.2.7.1 Comment window You can open the comment window in different ways. Manually via the Scope menu in the menu bar of the engineering software or via the context menu of the various Scope nodes in the Solution Explorer. The comment window opens automatically after setting a comment marker at a data point in the chart. 234 Version: 1.20.2 TE13xx

## Page 235

Configuration When the window is open, comments can be added to the window manually via the context menus in Scope or automatically via a trigger. The figure below shows the window with a manually created comment on the Scope node in the Measurement project. TE13xx Version: 1.20.2 235

## Page 236

Configuration To create the comment itself, please click under the heading and start typing. The following functions are available in the toolbar, which also directly influence the appearance of the text. • Add new comment: Always adds a new comment at the highest project level • Bold: The selected character string is displayed in bold • Italic: The selected character string is displayed in italics • Underline: The selected character string is underlined • Font size: Font size • Font: Font • Font color: Font color • Bullets: Bullets • Numbering: Numbered enumeration • Undo: Undo • Redo: Redo • Flat view: Represents a flat list of comments • Hierarchical view: Provides a nested display of the comments corresponding to the tree in the Solution Explorer In the following illustration, you can see the potential options you have in the area of formatting with the comment window. 236 Version: 1.20.2 TE13xx

## Page 237

Configuration As can be seen in the image, comments can always be removed at the end of a line by clicking on the dustbin symbol. You can switch between a flat list of comments and a hierarchically structured variant as required. The comments can be displayed in different ways. You can see the differences in the following two screenshots. TE13xx Version: 1.20.2 237

## Page 238

Configuration 238 Version: 1.20.2 TE13xx

## Page 239

Configuration 5.2.7.2 Manual comments There are three ways to manually insert comments into the comment window. 1. In the comment window Within the comment window, you can add a new comment at the highest project level using the plus symbol in the toolbar. Particularly suitable for making a quick note for a Scope recording, for example. TE13xx Version: 1.20.2 239

## Page 240

Configuration For the Twin CAT Scope, the highest project level is the Scope node. The comments inserted in this way have no direct relationship to a data point in the recording. 2. Via the context menu in the Solution Explorer For the Twin CAT Scope, comments can be inserted at almost all hierarchical levels in the Solution Explorer. Examples are the Scope node, the charts, the axes, the channels or the acquisitions. To do this, go to the desired level in the project tree and right-click to open the context menu. There you can select the Add comment command. 240 Version: 1.20.2 TE13xx

## Page 241

Configuration A new comment is then displayed in the comment window for the corresponding level, which you can fill in. This type of comment bears no relation to the actual signal curve in the chart. 3. Via the chart at the individual data points of the graphs TE13xx Version: 1.20.2 241

## Page 242

Configuration You can anchor comments directly to data points in the YT charts. Simply select the data point and right-click to open the context menu. Then select the Add Comment command. A corresponding comment is inserted in the comment window together with a timestamp. This means that there is a direct relationship between the data point and a comment you have formulated at the corresponding point. The timestamp becomes a link that can be clicked to jump directly back to the position of the comment in the chart. The link is underlined, as shown in the following illustration. 242 Version: 1.20.2 TE13xx

## Page 243

Configuration 5.2.7.3 Automatic comments Trigger functions can be used to automatically insert comments into the comment window. To do this, you can set the Add Comment setting to True in the settings for the various trigger groups. TE13xx Version: 1.20.2 243

## Page 244

Configuration Depending on the limit value defined in the trigger sets, a comment is automatically inserted in the comment window when the value is exceeded or not reached. The comment receives a timestamp as a link, a consecutive number for the number of triggers and a standard text. The standard text displays the variable name and indicates whether the corresponding limit value has been reached. The link helps with navigation in the chart. This makes it very easy to jump from event to event for which a comment has been created. The comment itself essentially marks the position in the data stream and therefore has a direct link to the data. You can manually add further specific information about the event to the comments afterwards or during the recording. 244 Version: 1.20.2 TE13xx

## Page 245

Configuration 5.2.7.4 Comment templates If you want your comments to be structured in a certain way and they are frequently repeated in your measurements, you can create a corresponding template. This function is ideal if, for example, you want to standardize test bench documentation or service assignments for end customers. Right-click on the Scope project node to open the context menu. Select the Add Template Comment entry. In the submenu, you can create new templates, search for existing templates on the hard disk or select already known templates directly. It is then transferred directly to the comment window. TE13xx Version: 1.20.2 245

## Page 246

Configuration If you want to create a new template, select the New Template command. A new window opens. The plus symbol in the toolbar can be used to create new/additional templates. The name of the template can be found in the top line and can be changed there accordingly. This name is then displayed later in the quick selection in the context menu. This allows a template to be integrated very quickly as a template in the comment window. 246 Version: 1.20.2 TE13xx

## Page 247

Configuration The templates can be formatted as required. The corresponding toolboxes are available in the toolbar. The templates are stored in the \Twin CAT\Functions\TE130x-Scope-View\Comments directory as tcmctmpl files. These can be searched for in other directories using the browse function from the context submenu. 5.2.8 Reporting 5.2.8.1 Basic concept The following figure shows the basic concept of Twin CAT Reporting from the Reporting Clients to the distribution of the generated Reports. Reporting Clients Currently, a Reporting Client is integrated in the Twin CAT Scope View as well as in the Twin CAT Analytics Workbench or in the Twin CAT Analytics Service Tool. These tools provide the ability to implement 24/7 reporting and on-demand reporting. • Scope Reporting [} 248] • Analytics Reporting 24/7 reporting is also possible via the PLC. The function blocks have the same functionality as the algorithms from Twin CAT Analytics. • PLC Reporting The Reporting Clients communicate with the Twin CAT Reporting Server. The Reporting Clients can send two types of messages. On the one hand, data messages can be sent with the associated data. On the other hand, so-called trigger messages can be communicated. This type of message triggers the generation of a report. Twin CAT Reporting Server The Twin CAT Reporting Server [} 263] has a variety of tasks. The server receives the messages from the Reporting Clients and stores the data in a Data Store. A report can be defined in an associated configuration file. The assignment of a data object to a report is established via a Report Name and a Data Key. The design of the report in can be customized in a stylesheet. As soon as a trigger message is received, a report with the associated data is generated in the configured formats and distributed accordingly. TE13xx Version: 1.20.2 247

## Page 248

Configuration Glossary Term Explanation Report A report is a document available in PDF, HTML and JSON formats. It contains the information and images. Configuration The configuration file describes the structure of a report. It also offers the possibility to file integrate static information into a report by default. Furthermore, settings can be made in the Reporting Server for the corresponding report. Reporting The Reporting Server manages the configuration files, receives information and creates Server individual reports from this information. Reporting A Reporting Client can be used to send data to the Reporting Server or to trigger the Client creation of a report. Data message A Reporting Client can send information to the Reporting Server via a data message. The contained data is cached in the Reporting Server. Trigger A Reporting Client can send a trigger message to the Reporting Server, triggering the message generation of a report. For this purpose, the Reporting Server uses all data received up to this point and belonging to the corresponding report. After generation, the data is deleted. Report Name The Report Name is used to identify a report. The Report Name is derived from the name of the configuration file without the extension (e.g.: configuration file: Beckhoff Report Template.json; Report Name: Beckhoff Report Template) Data Key A Data Key identifies a data object of a report. It must be unique within a report and its configuration file. This can ensure the assignment and sorting of data objects in the report. 24/7 Reporting 24/7 Reporting provides the ability to collect data and automatically generate reports. On-demand On-demand reporting provides the ability to generate custom reports on demand. reporting 5.2.8.2 Scope Reporting 5.2.8.2.1 24/7 Reporting The 24/7 reporting can be configured using the following Trigger Action in a Trigger Group. 248 Version: 1.20.2 TE13xx

## Page 249

Configuration 5.2.8.2.1.1 Reporting Trigger Auto Delete TE13xx Version: 1.20.2 249

## Page 250

Configuration Auto Delete mode Here you can set the mode in which the Auto Delete function should run. If set to "Disabled", no files will be deleted. "Capacity“ deletes the oldest file in the folder if more than the number of files specified in "Delete more than" has been saved. If set to "Older Than", all files older than the time specified in "Delete older than" will be deleted. The option "Capacity Or Older Than" is a combination of "Capacity" and "Older Than". That is, files are deleted when the conditions for either option are met. Delete more than This option defines when and with how many created files the oldest is to be deleted. The option is only active as long as "Capacity" or "Capacity Or Older Than" is selected in "Auto Delete". Delete older than This option defines the number of seconds after which a file is to be deleted with Auto Delete. The option is only active as long as "Older Than" or "Capacity Or Older Than" is selected in "Auto Delete". Reporting Report Name Here you can select the report name. The drop-down menu lists the available reports from the reporting server. Alternatively, a free text can be entered. Trigger Group Color Here you can specify the color for marking the event in the chart. Connected Charts If the markings are not to be displayed in every chart of the configuration, charts for which the markings are displayed can be selected here. Each chart is automatically added when it is created. The charts selected here are automatically selected in the Export Window in the "Export Type" property. If all channels or images are added in the export, only those from the selected charts will be added. Enabled The selected trigger group can be switched on and off here. Post-Trigger Here you can set a time in the format dd:HH:mm:ss for the recording to continue after the trigger event has occurred. Pre-Trigger In the format dd:HH:mm:ss the minimum time that must elapse before the trigger event can be set. Silent If you set Silent to TRUE, no more trigger messages will be displayed in the engineering message window. Trigger Category Predefined categories are available for the trigger markers. These are inserted with a symbol and a default color. The following categories are available: Alert Error Warning Info The "Text" option can be used to enter free text. This text is then displayed instead of a symbol. The "Custom Picture" or "Custom Folder" option can be used to select custom symbols or small images. Trigger Image Size Here you can enter the image size. The larger the value, the smaller the chart area. Trigger Release This property specifies the maximum number of trigger events that can be stored and Capacity displayed simultaneously. Use Post-Trigger If TRUE, the time set under post-trigger is taken into account. Use Pre-Trigger If TRUE, the time set under pre-trigger is taken into account. Visible Here you can set whether the event should also be visibly marked in the data stream. Visible Trigger This setting allows predefined values for simultaneous display of events during Release Capacity recording, up to the value set in "Trigger Release Capacity". 250 Version: 1.20.2 TE13xx

## Page 251

Configuration Trigger Category In addition to the four predefined categories, the markers can be further configured. Here you can choose between a text display and an image display. Text Trigger text The setting can be used to specify the text to be displayed in the chart at the trigger. Custom Picture Trigger Category A path to an image file can be specified. This image is displayed above the trigger in Image the chart. Use Server Files If this function is set, the specified path is not searched for on the local system, but on all server systems that are used in this trigger group. Custom Folder Trigger Category A path to an image folder can be specified. With each new trigger event, the current Directory image is read out in this trigger and added to the trigger. Use Server Files If this function is set, the specified path is not searched for on the local system, but on all server systems that are used in this trigger group. TE13xx Version: 1.20.2 251

## Page 252

Configuration 5.2.8.2.1.2 Reporting Collector Auto Delete 252 Version: 1.20.2 TE13xx

## Page 253

Configuration Auto Delete mode Here you can set the mode in which the Auto Delete function should run. If set to "Disabled", no files will be deleted. "Capacity“ deletes the oldest file in the folder if more than the number of files specified in "Delete more than" has been saved. If set to "Older Than", all files older than the time specified in "Delete older than" will be deleted. The option "Capacity Or Older Than" is a combination of "Capacity" and "Older Than". That is, files are deleted when the conditions for either option are met. Delete more than This option defines when and with how many created files the oldest is to be deleted. The option is only active as long as "Capacity" or "Capacity Or Older Than" is selected in "Auto Delete". Delete older than This option defines the number of seconds after which a file is to be deleted with Auto Delete. The option is only active as long as "Older Than" or "Capacity Or Older Than" is selected in "Auto Delete". Reporting Chart Background This option determines which background design is used for the charts in the report. Data Range This option defines which period should be displayed in the chart and included in the report. The time period between the last two trigger events can be selected with the option "Since last trigger". "Time Range" can be used to define a free time range. Include Marker This option determines whether the Marker Window for the corresponding chart should Window be integrated into the report (Markers [} 147]). Include Trigger This option determines whether the Trigger Window should be integrated into the report Window (Trigger [} 107]). Include Comment This option determines whether the Comment Window should be integrated into the Window report. Report Name | This option allows linking a chart to a report. A Reporting Triplet consists of a chart, the Data Key unique Data Key and the corresponding Report Name. A lot of Reporting Triplets can be created in the triplet editor (see figure below this table). Reporting Time This option is only available if Time Range is selected in the Data Range option. This Range option allows to set a free time range. TE13xx Version: 1.20.2 253

## Page 254

Configuration Trigger Group Color Here you can specify the color for marking the event in the chart. Connected Charts If the markings are not to be displayed in every chart of the configuration, charts for which the markings are displayed can be selected here. Each chart is automatically added when it is created. The charts selected here are automatically selected in the Export Window in the "Export Type" property. If all channels or images are added in the export, only those from the selected charts will be added. Enabled The selected trigger group can be switched on and off here. Post-Trigger Here you can set a time in the format dd:HH:mm:ss for the recording to continue after the trigger event has occurred. Pre-Trigger In the format dd:HH:mm:ss the minimum time that must elapse before the trigger event can be set. Silent If you set Silent to TRUE, no more trigger messages will be displayed in the engineering message window. Trigger Category Predefined categories are available for the trigger markers. These are inserted with a symbol and a default color. The following categories are available: Alert Error Warning Info The "Text" option can be used to enter free text. This text is then displayed instead of a symbol. The "Custom Picture" or "Custom Folder" option can be used to select custom symbols or small images. Trigger Image Size Here you can enter the image size. The larger the value, the smaller the chart area. Trigger Release This property specifies the maximum number of trigger events that can be stored and Capacity displayed simultaneously. Use Post-Trigger If TRUE, the time set under post-trigger is taken into account. Use Pre-Trigger If TRUE, the time set under pre-trigger is taken into account. Visible Here you can set whether the event should also be visibly marked in the data stream. Visible Trigger This setting allows predefined values for simultaneous display of events during Release Capacity recording, up to the value set in "Trigger Release Capacity". Trigger Category In addition to the four predefined categories, the markers can be further configured. Here you can choose between a text display and an image display. Text Trigger text The setting can be used to specify the text to be displayed in the chart at the trigger. Custom Picture 254 Version: 1.20.2 TE13xx

## Page 255

Configuration Trigger Category A path to an image file can be specified. This image is displayed above the trigger in Image the chart. Use Server Files If this function is set, the specified path is not searched for on the local system, but on all server systems that are used in this trigger group. Custom Folder Trigger Category A path to an image folder can be specified. With each new trigger event, the current Directory image is read out in this trigger and added to the trigger. Use Server Files If this function is set, the specified path is not searched for on the local system, but on all server systems that are used in this trigger group. TE13xx Version: 1.20.2 255

## Page 256

Configuration 5.2.8.2.1.3 Reporting Collector + Trigger Auto Delete 256 Version: 1.20.2 TE13xx

## Page 257

Configuration Auto Delete mode Here you can set the mode in which the Auto Delete function should run. If set to "Disabled", no files will be deleted. "Capacity“ deletes the oldest file in the folder if more than the number of files specified in "Delete more than" has been saved. If set to "Older Than", all files older than the time specified in "Delete older than" will be deleted. The option "Capacity Or Older Than" is a combination of "Capacity" and "Older Than". That is, files are deleted when the conditions for either option are met. Delete more than This option defines when and with how many created files the oldest is to be deleted. The option is only active as long as "Capacity" or "Capacity Or Older Than" is selected in "Auto Delete". Delete older than This option defines the number of seconds after which a file is to be deleted with Auto Delete. The option is only active as long as "Older Than" or "Capacity Or Older Than" is selected in "Auto Delete". Reporting Chart Background This option determines which background design is used for the charts in the report. Data Range This option defines which period should be displayed in the chart and included in the report. The time period between the last two trigger events can be selected with the option "Since last trigger". "Time Range" can be used to define a free time range. Include Marker This option determines whether the Marker Window for the corresponding chart should Window be integrated into the report (Markers [} 147]). Include Trigger This option determines whether the Trigger Window should be integrated into the report Window (Trigger [} 107]). Include Comment This option determines whether the Comment Window should be integrated into the Window report. Report Name | This option allows linking a chart to a report. A Reporting Triplet consists of a chart, the Data Key unique Data Key and the corresponding Report Name. A lot of Reporting Triplets can be created in the triplet editor (see figure below this table). Reporting Time This option is only available if Time Range is selected in the Data Range option. This Range option allows to set a free time range. TE13xx Version: 1.20.2 257

## Page 258

Configuration Trigger Group Color Here you can specify the color for marking the event in the chart. Connected Charts If the markings are not to be displayed in every chart of the configuration, charts for which the markings are displayed can be selected here. Each chart is automatically added when it is created. The charts selected here are automatically selected in the Export Window in the "Export Type" property. If all channels or images are added in the export, only those from the selected charts will be added. Enabled The selected trigger group can be switched on and off here. Post-Trigger Here you can set a time in the format dd:HH:mm:ss for the recording to continue after the trigger event has occurred. Pre-Trigger In the format dd:HH:mm:ss the minimum time that must elapse before the trigger event can be set. Silent If you set Silent to TRUE, no more trigger messages will be displayed in the engineering message window. Trigger Category Predefined categories are available for the trigger markers. These are inserted with a symbol and a default color. The following categories are available: Alert Error Warning Info The "Text" option can be used to enter free text. This text is then displayed instead of a symbol. The "Custom Picture" or "Custom Folder" option can be used to select custom symbols or small images. Trigger Image Size Here you can enter the image size. The larger the value, the smaller the chart area. Trigger Release This property specifies the maximum number of trigger events that can be stored and Capacity displayed simultaneously. Use Post-Trigger If TRUE, the time set under post-trigger is taken into account. Use Pre-Trigger If TRUE, the time set under pre-trigger is taken into account. Visible Here you can set whether the event should also be visibly marked in the data stream. Visible Trigger This setting allows predefined values for simultaneous display of events during Release Capacity recording, up to the value set in "Trigger Release Capacity". Trigger Category In addition to the four predefined categories, the markers can be further configured. Here you can choose between a text display and an image display. Text Trigger text The setting can be used to specify the text to be displayed in the chart at the trigger. Custom Picture 258 Version: 1.20.2 TE13xx

## Page 259

Configuration Trigger Category A path to an image file can be specified. This image is displayed above the trigger in Image the chart. Use Server Files If this function is set, the specified path is not searched for on the local system, but on all server systems that are used in this trigger group. Custom Folder Trigger Category A path to an image folder can be specified. With each new trigger event, the current Directory image is read out in this trigger and added to the trigger. Use Server Files If this function is set, the specified path is not searched for on the local system, but on all server systems that are used in this trigger group. 5.2.8.2.2 On-Demand-Reporting On-Demand-Reporting provides the ability to manually integrate charts and additional data into a report. The Scope Manual Report Wizard can be used on the one hand. The Chart Snipping Tool offers the option to export individual chart screenshots in a report on the other hand. 5.2.8.2.2.1 Scope Manual Report Wizard On-demand reporting can be started in two ways. The reporting can be opened via the Reporting button in the toolbar on the one hand: It can be started via the context menu on the Scope project on the other hand: TE13xx Version: 1.20.2 259

## Page 260

Configuration The wizard for on-demand reporting then opens. The charts and the corresponding data can be selected on the first page. The chart can be edited using the Chart Snipping Tool button in the Snipping Tool column. After closing the Chart Snipping Tool, a green tick appears next to the Chart Snipping Tool button. The changes can be discarded by clicking on the green tick. 260 Version: 1.20.2 TE13xx

## Page 261

Configuration Report Name Here you can select the report name. The drop-down menu lists the available reports from the reporting server. Alternatively, a free text can be entered. Chart Background This option defines which background design should be used for the charts in the report. Include Marker This option determines whether the Marker Window for the corresponding chart should Window be integrated into the report (Markers [} 147]). Include Trigger This option determines whether the Trigger Window should be integrated into the report Window (Trigger [} 107]). Include Comment This option determines whether the Comment Window should be integrated into the Window report. You can add additional information to the report on the second page. TE13xx Version: 1.20.2 261

## Page 262

Configuration The additional information is built in a key-value structure. Another line can be added by clicking on the empty line. A selected line can be deleted by pressing the Delete key. Information about the recording can be added to the report on the third page. 262 Version: 1.20.2 TE13xx

## Page 263

Configuration In the table, a lot of information is available for integration in a report. The checkbox in the Include column can be used to select or deselect individual pieces of information. The Generate Report option defines whether the report should be generated with the configured data. If this option is not selected, only the data will be sent to the Reporting Server, but the report will not be generated yet. This option is useful when manually adding data from multiple products to a single report. The Open Report option defines whether the report should be opened after generation. To use this option, a File Publish Location with PDF or HTML formats must be defined in the configuration file. If the report is generated in PDF and HTML format, the PDF report will be opened by default. 5.2.8.3 Twin CAT Reporting Server 5.2.8.3.1 Design 5.2.8.3.1.1 Configuration file The configuration file offers the possibility to organize, sort and customize the report. The configuration files must be stored in the folder .\Twin CAT\Functions\Reporting-Server\Configuration\Config Files. The following options are supported in the Reporting Server. TE13xx Version: 1.20.2 263

## Page 264

Configuration Key Description Sample Leve l General Store Type Specifies which store mode to use. Currently only "Store Type": "Ram" 1 "Ram" is supported. Header Provides the possibility to display three headers "Header": [ 1 "Header 1", arranged one below the other. If the second and / or "Header 2", third header is not to be used, an empty string can be "Header 3", specified. ] Footer The footer of a PDF page is divided into three areas. "Footer": [ 1 "Footer Left", All three areas can be individualized with a free text. "Footer Center", To display the date and time of creation, the "Footer Right", placeholder "{date} {time}" must be specified. To ] display the page number, the placeholder "{page} of {total-pages}" must be specified. If a range is to be left blank, an empty string can be specified. Logo The logo is displayed on the top right of the first "Logo": ".//<Bildname.png>" 1 page. The logo can be specified as a relative path to oder the folder Reporting- "Logo": "data:image/ Server\Configuration\Config Files. Alternatively, the <Encoding>;base64, logo can be specified as a Base64String with the <Base64String>" preceding encoding. Style Sheet Offers the possibility to customize the design of a "Style Sheet": 1 "Style Beckhoff.css" report. To use a user-specific style sheet, its name must be specified (see Style Sheet [} 267]). Signature Set Provides the possibility to sign a report (see Signing "Signature Settings File": "Beckhoff Signatures.json", tings File [} 270]). Email text This text will be included in every email unless a "Email Text": "Custom of E- 1 Mails send to all recipients specific text is specified. with no or empty E-Mail-Text. Special. Ones" Required Is a collection from Data Key. If the data objects of "Required Keys": ["Data101"] 1 Keys these data keys are not available in the Reporting Server, the report will not be generated. Trigger On Is another way to trigger the generation of a report. If "Trigger On Required Key Received" 1 : false Required true is selected for the option and all data objects Key with the required Data Keys are present, the report Received will be generated. This eliminates the need for a trigger message from a Reporting Client. Static Default Data Default Data This object can be used to define data objects to be "Default Data": {} 1 presented in each report. Text Fields This element is an array and can have multiple text "Text Fields": [] 2 field objects with the following elements. Key Used as a heading for the text field. "Key": "My Text Field" 3 Comment Serves as a comment for the data object. The "Comment": "My Comment" 3 comment is not displayed in the report. Sort Priority Specifies the position of the data object in the report. "Sort Priority": 42 3 Value Contains an individual value and must be specified "Value": "253-5553-9421" 3 as STRING. Tables This element is an array and can have multiple table "Tables": [] 2 objects with the following elements. 264 Version: 1.20.2 TE13xx

## Page 265

Configuration Key Description Sample Leve l Key Used as a heading for the table. "Key": "My Table" 3 Comment Serves as a comment for the data object. The "Comment": "My Comment" 3 comment is not displayed in the report. Sort Priority Specifies the position of the data object in the report. "Sort Priority": 42 3 Value This element is an object and contains the following "Value": {} 3 elements. Header This element is an array and receives the column "Header": ["Table Header 1", 4 "Table Header 2"] titles of the table. The number of column titles must be equal to the columns of the table. Data Types This element is an array and receives the data types "Data Types": ["string", 4 "double"] of the table column. The following data types are possible: BOOL, BYTE, SBYTE, CHAR, DECIMAL, DOUBLE, FLOAT, INT, UINT, LONG, ULONG, SHORT, USHORT, STRING. The number of data types must be equal to the columns of the table. Values This element is a 2D array and receives the value of "Values": [[],[]] 4 the table. An array in the array represents a table column. The table column must match the specified data type. The number of arrays must be equal to the columns of the table. The arrays should be the same size. Images This element is an array and can have multiple image "Images": [] 2 objects with the following elements. Key Used as a caption for the image. "Key": "My Image" 3 Comment Serves as a comment for the data object. The "Comment": "My Comment" 3 comment is not displayed in the report. Sort Priority Specifies the position of the data object in the report. "Sort Priority": 42 3 Value Contains the Base64String with PNG encoding. "Value": "<Base64String PNG- 3 Encoding>" Value Pairs This element is an array and can have multiple key- "Value Pairs": [] 2 value pair objects with the following elements. Key Used as a heading for the collection from key-value "Key": "My Value Pair" 3 pairs. Comment Serves as a comment for the data object. The "Comment": "My Comment" 3 comment is not displayed in the report. Sort Priority Specifies the position of the data object in the report. "Sort Priority": 42 3 Value Pair Serves as a collection of key-value pairs. This "Value Pair_Collection": [] 3 Collection element is an array and can have multiple objects with the following elements. Key Contains an individual value and is displayed "Key": "Serial number" 4 presented on the left side. Data Type Describes the data type of the "Value" element. "Data Type": "string" 4 Value Contains an individual value and is presented on the "Value": "253-5553-9421" 4 right side. The value must be specified as STRING. Data Configuratio ns Data Data Configurations can be used to sort and "Data Configurations": [] 1 Configuration individualize the data that is sent dynamically from s the Reporting Clients. This element is an array and can have multiple objects with the following elements. TE13xx Version: 1.20.2 265

## Page 266

Configuration Key Description Sample Leve l Key Corresponds to the Data Key of the data object. This "Key": "Data Table101" 2 ensures that this data configuration is applied to a unique data object. (Required) Title Provides the option of a better name as a heading. "Title": "Rotations and 2 vibrations" (optional) Sort Priority Specifies the position of the data object in the report. "Sort Priority": 42 2 (Required) Is Required Indicates whether this data object is required for "Is Required": false 2 generating the report. (see: Trigger On Required Key) Store Mode Provides the option to store individual data objects in "Store Mode": "Overwriting" 2 a specific way and display them accordingly. Currently, four different store modes are supported: • Blocking: The first data object is saved and all subsequent data objects with the same data key are discarded. • Overwriting: The newly received data object replaces the last data object with the same data key. • Appending: The newly received data object is saved. The previously received data objects are also held and presented in the report. In the case of a table, the data is merged. • Appending_Series: This store mode corresponds to the store mode "Appending". However, the data objects are numbered and presented in individual tables. Round To Provides the option to round floating-point numbers "Sort Priority": 4 2 to a specified decimal place. Timestamp F Provides the option to convert Timestamp to a "Timestamp Format": 2 "HH:mm:ss.ffff" ormat specified format. By default, the following formatting is selected: "yyyy-MM-dd HH:mm:ss.ffff" (See also: Custom date and time format strings) Is Asc Provides the option to specify the sort order of a data "Is Asc": true 2 table. If the value is true, the first data set is presented in the first line. Style Class Provides the option to use a custom CSS style class. "Style Class": "Custom Class" 2 The CSS style class must be defined in the CSS file and the CSS file must be referenced under the Style Sheet option. Publish Locations Publish "Publish Locations": [] 1 Locations Email Used to forward the report as an e-mail. This element "Email Publish Locations": [] 2 Publish is an array and can have multiple objects with the Location following elements. Type Specifies the type of distribution. "Type": "File" 3 Format Offers the option to send only a selection of formats "Format": ["PDF", "HTML", 3 "JSON"] by email. Address Provides the ability to send the report to multiple "Address": 3 [ "m.mustermann@tester.com "] email addresses. Use Bcc Provides the option to set the email addresses in "Use Bcc": false 3 BCC. 266 Version: 1.20.2 TE13xx

## Page 267

Configuration Key Description Sample Leve l Text Provides the option to specify a specific email text. "Text": "Hello, \n insert 3 email text here.\n Your This text replaces the default email text. Reporting Service. File Publish Used to copy the report to a specified location. This "File Publish Locations": [] 2 Location element is an array and can have multiple objects with the following elements. Type Specifies the type of distribution. "Type": "File" 3 Format Offers the option, to send only a selection of formats "Format": ["PDF", "HTML", 3 "JSON"] by email. Path Provides the possibility to specify a destination path "Path": "C:\\tmp\\Cpy Folder" 3 for the report. The destination path must not require administrator rights. 5.2.8.3.1.2 Style Sheet The style sheets offer the possibility to customize the design of the report. The Style Beckhoff.css style sheet serves as a template. This can be copied, renamed and customized. The name of the style sheet must then be specified in the corresponding configuration file. The style sheets must be stored in the folder . \Twin CAT\Functions\Reporting-Server\Configuration\Report Style Sheets. Basically, all HTML objects contained in an HTML report can be individualized in the custom style sheet. The following CSS objects are frequently used and are ideal for customization: CSS element Description html The HTML element refers to the entire report. h1 Main heading of the header in the report h3 Subheading of the header in the report; heading of a data object The following CSS classes are used to design data objects: CSS class Description reporting-header Class for the header of the report. reaporting-header Class for the icon on the top right of the header. img reporting-header The header is tabular and can be customized via this class. table reporting-body Class for the content of the report. reporting-body The headings of the data objects are located in a Caption element. caption reporting-body Class for a data table in the report. valuetable reporting-body Class for a collection from key-value pairs in the report. valuepair reporting-body Class for the additional information and analysis or recording information from the infotable manual report. reporting-body Class for images, such as charts from the scope in the report. figure reporting-body img This class contains the actual image. It is located in the figure element. 5.2.8.3.2 Report format The reports are generated in the following formats. 1. PDF TE13xx Version: 1.20.2 267

## Page 268

Configuration 2. HTML 3. JSON 5.2.8.3.3 Network Configuration A possible use case could be that the Reporting Server and the Reporting Client are running on different systems. The Reporting Server and the Reporting Client must be on the same network. To be able to map this use case, a JSON file must be extended. The file should be located under the following path and have the appropriate name: .\Twin CAT\Functions\Reporting- Server\Configuration\Network\Reporting Network Configuration.json A network configuration looks like this: Name Description Data type Config Ids Report names of the corresponding reports List<string> Ams Net Id Ams Net Id of the target system. The Reporting Server is string executed on the target system. 5.2.8.3.4 Email-Client configuration A Twin CAT Reporting Server can be connected to an SMTP server. The SMTP server must be set up by the user and is not part of Twin CAT Reporting. The Twin CAT Reporting Server sends the configured email with the report to the SMTP server. This forwards the email to the recipient. A wizard is available for configuring the connection to an SMTP server. The wizard can be opened in two ways. 1. Twin CAT > Analytics > Reporting Email 2. Scope > Reporting Email In the first dialog you can configure a connection to the SMPT server. 268 Version: 1.20.2 TE13xx

## Page 269

Configuration The second dialog offers the possibility to configure a connection to an HTTP proxy. This option can be enabled if the user's architecture requires it. TE13xx Version: 1.20.2 269

## Page 270

Configuration After clicking the Create button, the configuration will be saved in a corresponding file. 5.2.8.3.5 Signing In order to verify reports, PDF reports can be signed in Twin CAT Reporting. Digital and handwritten signatures are supported. The wizard for configuring signatures can be opened in the following ways. • Twin CAT > Analytics > Reporting > Reporting Signatures • Scope > Reporting > Reporting Signatures ü The wizard offers the possibility to create multiple signature configurations, which can then be reused in multiple report configurations. 1. The name of this configuration must be referenced in the configuration file via the key "Signature Settings File" (see Configuration file [} 263]). You can use the two checkboxes to select whether the configured signatures displayed on the next 270 Version: 1.20.2 TE13xx

## Page 271

Configuration pages should be used. By clicking the button Next you can edit the selected configuration. TE13xx Version: 1.20.2 271

## Page 272

Configuration 2. Here you can define a digital signature. ð Pfx and p12 certificates are supported by Twin CAT Reporting. 272 Version: 1.20.2 TE13xx

## Page 273

Configuration 3. Here you can define a handwritten signature. ð If you use handwritten signatures, an additional signature page is inserted into the report. 4. The signatures can be positioned via the left and bottom alignment. The origin is at the bottom left of the signature page. The following image shows an exemplary handwritten signature: ð The signature configuration information is stored in the Reporting Server folder in plain text in a file. 5.2.8.3.6 Licensing Twin CAT Reporting can be licensed as a full version and as a 7-day trial version. The following products include the Twin CAT Reporting license. Product number Product name TE1300 Twin CAT 3 Scope View Professional TF3300 Twin CAT 3 Scope Server TE3500 Twin CAT 3 Analytics Workbench TE3520 Twin CAT 3 Analytics Service Tool TE13xx Version: 1.20.2 273

## Page 274

Configuration The following features are available with the full version or with the 7-day trial version in Twin CAT Reporting Server. Features Twin CAT Reporting Server 7-day trial Full license General: Reports (Max. 1) (unlimited) Digital signatures Handwritten signatures Please refer to the product overview page for Reporting Client trial limitations. 5.2.8.4 Chart Snipping Tool The Chart Snipping Tool contains various tools for marking a chart screenshot. The edited screenshot can be exported in various formats. Subsequently, it can be saved or sent directly via the tool by email. You must make the settings for your chart such as zooming or panning before clicking the tool for copying to the clipboard for editing a screenshot. You cannot zoom with the tool. Opening the tool ü The recording of the scope view must be ended via the Stop Record button in the menu bar. 1. Click the icon at the end of the toolbar in the chart. ð The tool opens in a new window with the screenshot of the frozen view. Application areas in the overview The Chart Snipping Tool consists of four areas The Properties and Export columns must be opened by clicking the tabs at the top right edge of the screen. 274 Version: 1.20.2 TE13xx

## Page 275

Configuration 1. Tool selection 2. Screenshot/editing area 3. Properties: options for the presentation type 4. Export: saving or sending the edited screenshot ð The size, shape, color, text, etc. of the selected tool are individually set with the Properties. You can delete every inserted shape afterwards if necessary. To do this, first click the Shape menu to activate the shape and then delete it via the Delete key. Tool The following overviews explain the selection options and buttons and, if applicable, the procedure to use and design the tool. In all input boxes in the Properties there is an up or down arrow at the end of the input line. If you click an arrow and hold the mouse button down, the value is continuously increased or decreased. TE13xx Version: 1.20.2 275

## Page 276

Configuration Selection -1- Properties -3- Description Shape Double-click Shape. A circle is inserted in the editing area. The shape is subsequently designed in the Properties. Shape type Via the drop-down menu you have various selection options for shapes that you can assign to the selection, such as rectangles and arrows. Fill Color If you activate the checkbox, the area is activated for coloring and you can define the fill color of the shape. Border Color If you activate the checkbox, the area is activated for coloring and you can define the border color of the shape. Border Width If you click the up or down arrow at the end of the input line, the width of the border changes. Alternatively, you can enter a value and press the Enter key. Alignment You can define the alignment and position of the shape via the input boxes in this area. Alternatively, you can change or move the active/ marked shape directly via the crosshair or the boundary points. Height/Width You can define the alignment and position of the shape via the input boxes in this area. Chart Control Double-click Chart Control. A square new view is inserted in the editing area. This other screenshot is subsequently designed in the Properties. You can also apply all tools to the newly created window. Legend: you can insert a legend via the icon in the top right screen of the window. Graphic Library You can assign a graphic library, GDI_Plus or Direct X, via the drop- down menu. Scope View Data Via the drop-down menu, select a chart that you wish to highlight/ edit via the new cut-out. Alignment, Settings for the alignment, height and width. Height, Width Image Double-click Image. A square new view is inserted in the editing area. The view is subsequently designed in the Properties. Image Via the drop-down menu, select an image with a timestamp that you wish to insert in the new cut-out. Via the file symbol you can select and insert any image you like. Alignment, Settings for the alignment, height and width. Height, Width Text Double-click Text. A text box is inserted in the editing area. You can enter the text directly in the text box or in the text box in the Properties. Both input options are identical. Use Text If you activate the checkbox, the text in the text box is automatically Wrapping wrapped according to the specified shape. Font Size, Color Settings for the font size, color and style. and Style Alignment, Settings for the alignment, height and width. Height, Width, Eraser With the eraser tool you can remove previously added drawing lines again. Width, Height, Settings for the height, width and shape of the eraser tool. Shape Marker With the marker you can apply highlights freehand. 276 Version: 1.20.2 TE13xx

## Page 277

Configuration Width, Height, Settings for the height, width, color and shape of the marker. Color, Shape Pencil With the pencil you can do freehand drawings. Width, Height, Settings for the height, width, color and shape of the pencil. Color, Shape Export -4- Selection Description Encoding Via the tiles in the Encoding area you can select a file format for the screenshot you have made, such as PNG, TIFF, JPEG, BMP or WMP. The selected tile is given a purple background. Options DPI In this area you can specify the resolution for the X and Y-axes. Transparent If you activate the checkbox, the chart background is removed and background you can insert it without a background into another file or graphic. Destination Save file as: The "Save as" dialog is opened by clicking the icon. Copy: The edited screenshot is placed on the clipboard by clicking the icon. You can insert it directly in any position you like with the shortcut Ctrl + V. Mail: The edited screenshot is automatically attached to a new email by clicking the icon. Reporting: Clicking on the icon opens the Scope Manual Reporting Wizard. The edited screenshot is added to a Data Message sent to the Reporting Server. Messages Messages or error messages for saving/sending are shown in the lower area. 5.3 Loading, saving and exporting 5.3.1 Configurations 5.3.1.1 Creating and editing configurations The following section describes how you can create and edit a Scope configuration. TE13xx Version: 1.20.2 277

## Page 278

Configuration 5.3.1.1.1 Creating and editing a Scope project 5.3.1.1.1.1 Creating a measurement project In the menu File > New select the command Project. In the dialog that opens select the category Twin CAT Measurement and the required template. Available templates: Empty Measurement project Empty Measurement Project. Scope configurations (.sv2 | .tcscope | .tcscopex) or scope data (.svd | .svdx) can subsequently be inserted here. Scope YT Project Contains a Scope instance and a preconfigured YT chart with a corresponding axis. Scope YT NC Project Contains a Scope instance, which was specially preconfigured for working with drive axes. The template can easily be extended to the number of actually configured drive axes. Scope XY Project Contains a Scope instance and a preconfigured XY chart with a corresponding axis. Scope Array Bar Project Contains a Scope instance and a preconfigured array bar chart with a corresponding axis. 5.3.1.1.1.2 Add Scope report/project In the context menu of the Measurement project select the command Add > New Item..., then select the required template in the dialog that opens. 278 Version: 1.20.2 TE13xx

## Page 279

Configuration Available templates: Scope Project Scope instance with a pre-configured chart and an axis. Scope NC Project Scope instance that has been specially pre-configured for working with axes. Standard Report Printing template for printing charts. Adding an existing Scope project to a measurement project In the context menu of the measurement project, select the command Add > Existing Item and, in the dialog which then opens, select the desired file (.tcscopex | .tcscope | .sv2 | .svdx | .svd ) or drag the desired file by drag & drop onto the project in the Solution Explorer. 5.3.1.1.1.3 Adding variables Adding variable or channels The prerequisite is a Twin CAT Measurement project with a Scope View. To add channels to the configuration, double-click in the Target Browser on the corresponding channels in the tree structure or mark channels and select the command Add Symbols (Add Subsymbols) in the context menu or the toolbar. The symbols are now inserted at the last-selected place in the Scope configuration. Alternatively, you can add selected elements anywhere in the configuration via drag & drop. If you select a folder, an Ads Big type or an array containing subsymbols, the command Add Subsymbols adds a channel for each subsymbol. The command Add Symbol only adds one channel with the information for the selected symbol. TE13xx Version: 1.20.2 279

## Page 280

Configuration Disabling and enabling a channel A channel can be disabled in the configuration in order to prevent it being recorded. However, it is retained when saving the configuration. In the Solution Explorer, mark the channel to be deactivated and set the Disabled property in the Properties window to TRUE. Task selection If you select a target computer in the tree structure, the connected tasks become visible. These are marked in color: • Green = PLC task • Blue = NC task • Red = other If a task is not displayed, you can use Enable Server Ports to call up a selection menu that displays the restriction to particular tasks. All popular Ads ports are displayed in the dialog, regardless of whether server tasks are concerned. If a port is not listed here it can be entered in the text field at the bottom left. All selected ports that are servers are adopted after confirming with OK. Subsequently a check is made as to which of the ports exist, in order to update the display. Viewing the symbol list If a symbol list is available for the selected task, you can call it by selecting. All symbols of a task are transferred into a hierarchical view according to separators (e.g. '.'), allowing simple browsing. Settings The option Name Detail Level in the settings can be used to set the detail level of the channel name formed from the symbol name. If the detail level is zero, only the part of the symbol name after the last dot is transferred. Each further level then adds the term before the respective next full stop. For example, with a detail level of “0” the symbol “Main. Signals. Sine” becomes “Sine”, with a detail level of “1” it becomes “Signals. Sine”, with a detail level of “2” or higher “Main. Signals. Sine”. 280 Version: 1.20.2 TE13xx

## Page 281

Configuration Starting and stopping a recording Once you have selected all channels for the recording you can start the recording with the Record command in the Twin CAT Measurement toolbar ( ) and stop it again with the Stop Record command ( ) 5.3.1.1.1.4 Adding and deleting elements Adding a new chart Select the New YT Chart or New XY Chart command in the context menu of the Scope instance. Adding a new axis Select the New Axis command in the context menu of the Scope / Chart instance. Adding a new channel • Select the New Empty Channel command in the context menu of the Scope / Chart / Axis instance. • Drag & drop the symbol data from the Target Browser to an existing Scope / Chart / Axis instance. • Select the Add to Scope command in the context menu of the variable in the PLC editor. Deletion of elements • In the Solution Explorer, mark the element to be deleted and press the [Del] button. • Select the Delete command in the context menu of the element. 5.3.1.1.1.5 Shifting and copying elements Moving and copying individual elements Each element can be moved with drag & drop in the Solution Explorer. To copy an element, press the [Ctrl] button and shift the element by drag & drop. Notes: • If you move an element to another Scope, it is copied. Thus, it is still available in the original Scope. • When moving an element, it must always be placed on an element of a higher hierarchical level. • The described shift operations are available within a Scope even after the start of recording. 5.3.1.1.2 Creating and editing a Wizard project The Measurement Wizard assists you in creating and configuring a user-defined Measurement Scope project by guiding you through the necessary steps with several successive dialogs. TE13xx Version: 1.20.2 281

## Page 282

Configuration 5.3.1.1.2.1 Structure and mode of operation of the Measurement Wizard In the main area of the wizard you will be instructed with the help of various design elements to select the settings necessary for the Measurement Scope project. An option or setting is highlighted in gray after selection. The wizard usually moves automatically to the next configuration step. Otherwise a button labeled Next appears at the bottom of the screen via which you can proceed to the next configuration step. The steps that have already been completed are displayed in the left-hand area of the Wizard. The current configuration step is highlighted in gray. You can return to an already completed configuration step via the progress indicator or the Back button at the bottom edge of the wizard and edit the setting again. If you change a setting that had already been made, a dialog will inform you that you have changed the old configuration. 5.3.1.1.2.2 Creating and configuring a Measurement Wizard project ü Twin CAT is in RUN mode and the PLC project in online mode. 1. In the menu File > New select the command Project. 282 Version: 1.20.2 TE13xx

## Page 283

Configuration 2. In the dialog that opens, select the Twin CAT Measurement category and the Measurement Wizard Project template. ð The Measurement Wizard for TC3 Scope View, TC3 Bode Plot and TC3 Filter Designer opens. 3. Select TC3 Scope View. ð If you wish to select the variables to be recorded and displayed as a graph first and then the appropriate chart, select the "Variables" option [} 284]. If you wish to select the chart first and then the variables, select the "Chart" option [} 285]. TE13xx Version: 1.20.2 283

## Page 284

Configuration Selecting variables and then chart (Variables option) ü In the Measurement Wizard you selected the Variables option as the starting point. 1. Select the target system and the corresponding ADS port. Optionally you can open the Twin CAT Static Routes dialog via the Manage Targets button in order to obtain information about the routes of the local Twin CAT system and to add new routes. Click on Next. 2. Select the variables that are to be recorded and displayed as a graph. To do this, navigate through the menu or enter a variable name in the filter text field. Optionally you can select a different scaling factor and an offset. Furthermore, you have the option to specify a warning level and an alert level. With these values you configure the dynamic style function for these variables. From the warning value the graph is drawn in yellow and from the alert in red. Click on Next. 3. Select the chart type. You can only select chart types that match your variable selection. Here is an example of an XY chart. 4. Configure the axes. To do this, assign variables to the axes by marking the respective pairs. You can reset the selection with Undo. Click on Next. 284 Version: 1.20.2 TE13xx

## Page 285

Configuration ð The subsequent configuration step Finish shows an overview of the settings. 5. To delete a configured element again, mark it and click on Remove Selected. To add further variables to the configuration, click on Add More: Variables. Click on Create to end the configuration and create the project. ð A Twin CAT Measurement Project with a Scope Wizard project is added to the Solution. Selecting chart and then variables (Chart option) ü In the Measurement Wizard you selected the Chart option as the starting point. 1. Select the chart type. 2. Select the target system. Optionally you can open the Twin CAT Static Routes dialog via the Manage Targets button in order to obtain information about the routes of the local Twin CAT system and to add new routes. Click on Next. TE13xx Version: 1.20.2 285

## Page 286

Configuration 3. Assign a variable to the Y-axis. To do this, navigate through the menu or enter a variable name in the filter text field. Optionally you can select a different scaling factor and an offset. Furthermore, you have the option to specify a warning level and an alert level. With these values you configure the dynamic style function for these variables. From the warning value the graph is drawn in yellow and from the alert in red. Click on Next. 4. Assign a variable to the X-axis. To do this, navigate through the menu or enter a variable name in the filter text field. Optionally you can select a different scaling factor and an offset. Click on Next. ð The subsequent configuration step Finish shows an overview of the settings. 286 Version: 1.20.2 TE13xx

## Page 287

Configuration 5. To delete a configured element again, mark it and click on Remove Selected. To add a further chart to the configuration, click on Add More: Chart. Click on Create to end the configuration and create the project. ð A Twin CAT Measurement Project with a Scope Wizard project is added to the Solution. 5.3.1.1.2.3 Editing Scope projects with the Scope Wizard To edit a Measurement Wizard project or a Measurement Scope project with the aid of the Measurement Wizard, select Update Project in Scope Wizard in the context menu of the scope project in the Solution Explorer. The Measurement Wizard opens in which you can modify the configuration of the project. Project update with Scope Wizard The prerequisite for this function is that the original target system of the configuration is available on the engineering system. 5.3.1.2 Saving and loading a configuration Saving a Scope configuration: In the File menu select the command Save. (default keyboard shortcut: [Ctrl] + [S]) Loading a Scope configuration • In the File > Open menu, select the Project/Solution command and, in the dialog which then opens, select the project folder or the Measurement Project. • Scope files (.tcscope | .sv2 | .svd) can be opened directly by double-clicking. Since a Measurement Project as the basis is missing, a selection dialog appears in which you can create a new project (Empty Measurement Project). The Scope called by a double-click is added to the newly created project. At the same time a copy of the file is placed in the new project directory. • Measurement project files (.tcmproj) and solutions (.sln) can be opened directly by double-clicking. 5.3.1.3 Sending a configuration by e-mail In the context menu of the Scope instance to be sent, select the command Send Project By Email. If the Scope contains data (Scope state: replay), you can select whether the data should also be sent. TE13xx Version: 1.20.2 287

## Page 288

Configuration 5.3.2 Data 5.3.2.1 Formats The Twin CAT Scope has been on the market since 2008 and now supports a series of its own file formats due to new developments. This page provides an overview of them. All formats can always be used with the latest Scope version. Configuration: Scope version File format All in Twin CAT Scope2 (Twin CAT 2) .sv2 From Twin CAT 3 Scope .tcscope Since Twin CAT 3 Scope version 3.3.3140.0 .tcscopex The configuration files can always be converted into the more up-to-date formats. i.e. .sv2 >> .tcscope, .tcscope >> .tcscopex and also .sv2 >> .tcscopex. Data: The data are saved in .svd files in Twin CAT Scope 2 and also in Twin CAT 3 Scope up to version 3.3.3140.0. From version 3.3.3140.0 the files are saved in the new .svdx format. Old .svd files can also be converted into .svdx again. From version 3.3.3140.0 a .tcscopex file is saved for the configuration. The data are written to a .svdx file. 5.3.2.2 Saving and loading data Data that have been recorded with the TC3 Scope View can be saved as a .svdx file. A .svdx file is a specific, non-disclosed data format of the Twin CAT 3 Scope View. Saving data • Select the Save Data command in the Scope menu or in the toolbar. This creates a Scope data file (svdx) that can be added directly to the measurement project or saved in a directory via the directory selection dialog. • If you add multiple files to a measurement project, the name of the svdx file is automatically incremented with a digit. Saving with image data When saving images in a Scope data file, please note that for each image acquisition a decision can be made whether the data should be saved within the Scope data file or next to it. If the images are saved next to the Scope data file, folders are created next to the file in which the image data is saved. When the Scope data file is reopened, the image data must still be right next to the file for the images to reopen. If this is not the case, the process data can still be opened, but the images can then no longer be displayed. The advantage of saving the images next to the Scope data file is that the Scope data file remains smaller and thus more flexible, making it easier to share or send, for example. If all data are always to be viewed together, it is more practical to store the image data within the .svdx file, so that all the information is bundled in one file. Loading data The following options are available for loading data: • Double-click the desired .svdx file in the file system. Visual Studio opens and the dialog New Project appears. Select the Empty Measurement Project. The .svdx file is added to the new measurement project. • If a measurement project already exists, the .svdx file can be selected and opened via the command Add Existing Item. 288 Version: 1.20.2 TE13xx

## Page 289

Configuration • Open the measurement project, to which the .svdx file that was created has been added. In menu File > Open select the command Project/Solution; in the dialog that opens open the corresponding project. Reloading of svdx files If already save data are no longer displayed due to a disconnection of the Scope's internal communication to the Scope Server, the Reload command is automatically available in the context menu for the .svdx file. You can reload the data with this command. Extracting Scope configurations from an svdx file A .svdx file is visually identified as such. A yellow data symbol is displayed in the Solution Explorer. This enables exclusively data analysis within the file. If you want to reuse the configuration, for example to make a new recording with the same configuration, select the command Extract Scope Configuration in the Scope menu. TE13xx Version: 1.20.2 289

## Page 290

Configuration 5.3.2.3 Exporting data In order to enable the further processing of the data recorded with the Twin CAT Scope, the data can be exported in various other data formats. The Twin CAT Measurement Export Wizard is provided in order to make this as simple and as individual as possible. 1. Open the Export Wizard via the Scope Menu > Export… 2. On the first page you can select the desired target format. The original svd format is thereby selectable again as the target simply in order to reduce existing scope recordings with regard to the number of channels or their duration. Further formats are csv, svb, tdms and dat. 290 Version: 1.20.2 TE13xx

## Page 291

Configuration 3. Subsequently, the channels to be exported in the new format can be selected via Select channels. Confirm with Next. TE13xx Version: 1.20.2 291

## Page 292

Configuration 4. The timeframe that was defined by the recording is selected in the Select time period dialog. Select this timeframe graphically with the mouse or textually with Export start time and Export end time. Confirm with Next. 292 Version: 1.20.2 TE13xx

## Page 293

Configuration 5. Configure Properties for CSV-Export enables individual settings to be made for each data format. Confirm your settings with Next. TE13xx Version: 1.20.2 293

## Page 294

Configuration 6. Selected CSV-Configuration provides a summary. The generation of the new file/files is started with Create. 5.3.2.3.1 Export to csv The export of data to a csv file enables the following individual settings to be made. 294 Version: 1.20.2 TE13xx

## Page 295

Configuration Fig. 1: Sort channels by sampletime: Sort the exported channels in ascending order according to the sampling time. This reduces the file size as less placeholders for missing values have to be stored. Scale values before export: Convert the values with the scaling factor and offset configured on the channel. Include EOF tag: At the end of the file a row with the letters EOF is inserted to mark the end of the file. Full Timestamp: Saving the timestamps in filetime format. Otherwise, the timestamps are stored as millisecond intervals from the first data point of the export. Include trigger info: Saving the triggered trigger events. Timelines: All A separate time column for each channel None No time columns For each sampletime Successive channels with the same sampling time share the time column Interpolation: TE13xx Version: 1.20.2 295

## Page 296

Configuration None No interpolation of channels with lower sampling time Shift value Shifting values in channels with higher sampling time, so that values from the same timestamp are in one row. Fill with previous value Additional filling of the gaps with the previous value. Marker Windows: Either all, none, or only the selected marker tables can be included in the CSV. Only included Channels: Rows or columns of channels that are not included in the export are not exported with the marker tables. Only included marker: Rows or columns of markers whose timestamps are outside the exported range will not be exported with the marker tables. On the second page, further settings can be made. CSV separator: Selection of the separator between two columns. A custom character can be specified in the Custom field. Array separator: A different separator can be defined for channels with array values. Decimal mark: Selection of the decimal separator. Header configuration: 296 Version: 1.20.2 TE13xx

## Page 297

Configuration There are several suggested configurations available for the header of the export. The Custom selection allows individual configuration of the head on the next page. 5.3.2.3.2 Export to svb The Twin CAT Scope also supports the export of data to a binary format specified by Beckhoff. The file extension of the created file is svb. The following parameters can be set: TE13xx Version: 1.20.2 297

## Page 298

Configuration The header can be shown and hidden and also moved to its own file. You can choose whether to export the values in scaled or unscaled form, with and without sampling rate/time information. Format description for developers The binary data format is based on the text format but contains no separators. Instead the byte lengths of all variable data types (such as character strings) are contained in the corresponding headers. All times are specified in the file time format: 1 tick = 100 ns; origin is 1.1.1601 0h. All characters are stored in UTF8. 298 Version: 1.20.2 TE13xx

## Page 299

Configuration Variable Size (Bytes) or Number of character Data Type MAIN-HEADER Header Size 8 Int64 Name Size 4 Int32 Name Name Size Array of Char Start Time 8 Int64 End Time 8 Int64 Channel Count 4 Int32 Variable Size (Bytes) Data Type Channel - Header #1 Channel Header Size 8 Int64 Name Size 4 Int32 Name Name Size Array of Char Net Id Size 4 Int32 Net Id Net Id Size Array of Char Port 4 Int32 Sample Time 8 Int64 Symbol Based 1 bool (as byte) Symobl Name Size 4 Int32 Symbol name: Symbol Name Size Array of Char Comment Size 4 Int32 Comment Comment Size Array of Char Index Group 8 Int64 Index Offset 8 Int64 Data Type Size 4 Int32 Data Type Data Type Size Array of Char Data Type Id 4 Int32 Variable Size 4 Int32 Samples in File 8 Int64 Data in File 8 Int64 File-Start Position 8 Int64 Offset 8 Real64 Scalefactor 8 Real64 Bitmask 8 Int64 Channel-Header #2 ... Channel-Header #Main Header. Channel Count Variable Size (Bytes) Data Type Data Channel #1 Data Point #1 Timestamp 4 UInt32 Value Channel Header1. Variable Size Channel Header. Data Type Data Point #2 ... Data Point Channel Header #1. Samples In File Data Channel #2 ... TE13xx Version: 1.20.2 299

## Page 300

Configuration Data Channel #Main Header. Channel Count 5.3.2.3.3 Export to tdms The tdms format is a commonly used format in measurement technology and can be used with the aid of the Twin CAT 3 Scope View Professional License (TE1300). Apart from an author and a title for the measurement project conducted, you can also make settings with regard to the sampling rate or time axis. Furthermore, you can adopt physical units from the Scope and decide whether or not the values will be scaled. A grouping can also be specified for the tdms file. 5.3.2.3.4 Export to dat The dat format is a commonly used format in measurement technology and can be used with the aid of the Twin CAT 3 Scope View Professional License (TE1300). The implementation of dat is not standardized, for which reason minor deviations can occur in the implementation. The following settings can be made: 300 Version: 1.20.2 TE13xx

## Page 301

Configuration 5.3.2.3.5 Export to databases Data recorded with the Twin CAT Scope can be exported to a database with the help of the Twin CAT Database Server. There are two options. 1. In the base version it is possible to export data to a csv in such a way that this csv can be reused as a database with the Database Server. 2. The export of the data to SQL databases is possible with the Scope View Professional Version and a licensed Twin CAT Database Server. TE13xx Version: 1.20.2 301

## Page 302

Configuration Supported SQL databases In principle, only databases that can execute a bulk command are supported for the export. Up to now, only a Microsoft SQL connection has been implemented with version 3.4.3142.0. Regarding support of other databases via a bulk command please contact Support. 302 Version: 1.20.2 TE13xx

## Page 303

Configuration If you have chosen the second option, the Twin CAT Database Server must first be selected. This can also be located on a remote system. Subsequently, under the Database entry, select the database configured on the Database Server. TE13xx Version: 1.20.2 303

## Page 304

Configuration As soon as you have selected a database, the tables existing there are also displayed under Tables. You can select an existing table and map variables specifically to the existing structure or define a completely new table for this export. The assignment takes place on the next page, to which you will also gain access if you had selected Option 1, the DB csv Export. The table names and column names can also be edited on this page. This assignment can also be reset. The timestamp is explicitly listed as a dedicated channel in the scope configuration for this type of export. 304 Version: 1.20.2 TE13xx

## Page 305

Configuration 5.3.2.3.6 Automated export Along with the Scope, the Twin CAT 3 Scope Export Tool is additionally installed in the TE130X Scope View and in the TF3300 Scope Server directory. This can be used to subsequently convert contents of svdx files into the supported export formats – without Visual Studio. The tool comes complete with its documentation. For the tdms and dat formats, a full View or server license is required. TE13xx Version: 1.20.2 305

## Page 306

Configuration The Twin CAT 3 Scope Export Tool can also be used for export via a command line call, based on specified parameters. The interface shown here can be suppressed by entering the keyword "silent" in the command line. In this case the export is executed in the background. To automate the export, the tool can be called from the PLC via NT_Start Process. Code sample with fixed strings and fb Start Export as an instance of NT_Start Process: fb Start Export( NETID:= '', PATHSTR:= 'C:\Program Files (x86)\Beckhoff\Twin CAT\Functions\TF3300-Scope- Server\TC3Scope Export Tool.exe', DIRNAME:= 'C:\Program Files (x86)\Beckhoff\Twin CAT\Functions\TE130x-Scope-View', COMNDLINE:= '"svd=c:\Scope Project.svd" target=c:\Test Export.csv silent', START:= b Start, TMOUT:= T#20S, BUSY=> , ERR=> , ERRID=> ); Export Io T File Arrays as Oversampling Symbols to CSV To export an array symbol from an Io T file as an oversampling signal to a CSV file, only the array signal is selected in the signal selection. When exporting, the oversampling signals are now saved in addition to the other signals and time stamps. Here, all signals which have the same oversampling rate and thus a new identical sampling rate are grouped and stored with the same time series. Export Io T File Arrays as Oversampling Symbols to CSV 306 Version: 1.20.2 TE13xx

## Page 307

Configuration To export an array symbol from an Io T file as an oversampling signal to a CSV file, only the array signal is selected in the signal selection. Separate tables are created for the different sampling rates of the selected signals. All signals with the same array length are thus grouped in a table. This means that all signals in a table have a value at any time. If several signals with different sampling rates are selected during the export, the table name, which can be set in the configuration ("Config"), serves as the base name for the new tables. The sampling rate is appended after the base name (e.g. Export Table_200_ms). 5.3.2.3.7 Export with images Image data is exported using the Export Wizard. The following image export formats are available: • SVDX For more information on the format see the previous section. • JPG When exporting to jpg, all images in a selected period can be exported as individual images. The images of the different image members in the Scope are exported to separate folders. 5.4 Menus and options 5.4.1 Menu commands You can select various Scope functions in the Scope menu. The menu will have different contents depending on the object selected in the Solution Explorer. (For this reason, the screenshot shown below differs from the description). You can also take the corresponding key assignments from the Scope menu. TE13xx Version: 1.20.2 307

## Page 308

Configuration 308 Version: 1.20.2 TE13xx

## Page 309

Configuration Target Browser Opens the Target Browser. Cursor Window Opens the cursor window. Send Project By E-Mail... Corresponds to the command Send Project By E-Mail... in the context menu of the Scope instance to be sent. If the Scope contains data (Scope state: replay), you can select whether the data should also be sent. Clear error list Deletes all entries (Error | Warning | Message) of the currently active Scope from the error list. Change Ads Symbol... Dialog for the replacement of character strings. The symbol names of all channels located below the selected element are edited. Change Index Group... Dialog for incrementing / decrementing the Index Group / Index Offset. The acquisitions of all channels located below the selected element are edited. New YT Chart Creates a new YT chart within the Scope. New XY Chart Creates a new XY chart within the Scope. New Array Bar Chart Creates a new array bar chart within the Scope. New Axis Creates a new axis within the chart. If the selected element is not a chart, then a new chart is additionally created. New Empty Channel Creates a new channel within the axis. If no axis is selected, then a new axis is additionally created. Delete Deletes the element currently selected in the Solution Explorer. Export to CSV Exports the data to a CSV or TXT file. Export to Binary Exports the data to a binary file. Export to DAT Exports the data to a DAT file. Export to TDMS Exports the data to a TDMS file. Extract Scope Configuration Extracts the Scope Configuration from the selected .svd file. Upload Configuration To Target Downloads the current configuration as a .tcscope file to a user- selected target system. Save Data After stopping the recording, the current data including the configuration can be saved in an .svd file. The generated Scope data file (.svd) can be added directly to the Measurement Project or saved in a directory of your choice via the directory selection dialog. Scope Messages Some frequently occurring message boxes in the scope are equipped with a checkbox – Remember my answer and don't ask again! – so that the question is not repeated the next time. This makes the handling of the program individually adjustable for each user. If a message box has been deactivated, it can be activated again here. Local Scope Server... Opens the configuration interface of the Scope Server. Options... Opens the Visual Studio Options window and selects the Scope entry. 5.4.2 Toolbar commands The Scope recording can be started and stopped and the recorded data saved with the commands from the Twin CAT Measurement toolbar. If the toolbar is not visible by default or was closed, you can call it up again via View > Toolbars. TE13xx Version: 1.20.2 309

## Page 310

Configuration The following elements are available by default in the toolbar: Start All required servers are called and the recording settings and connected channels are Record entered. If data are already present from a preceding session, then a query appears asking whether the current data should be saved. Afterwards the recording is started in accordance with the above settings. After the start it is no longer possible to change the Scope settings or acquisition or to add or remove channels. Stop The recording is stopped. However, the recorded data remain on the connected servers and Record can be viewed. After stopping the recording, it is possible to change the Scope configuration. The current data will then be lost, however, if they are not saved. You can expand the toolbar and adapt it individually as you wish. To do this, select the Add or Remove Buttons command in the toolbar context menu (can be displayed on the right-hand side of the toolbar) and, in the menu which then opens, select the Customize command. The Customize dialog opens. The commands belonging to the Scope can be found under Add Command in the Scope category. 310 Version: 1.20.2 TE13xx

## Page 311

Configuration 5.4.3 Options You can define the standard settings in the Twin CAT Measurement options. Open the options in Visual Studio via the Options… command in the Scope menu. Options dialog Reporting General category TE13xx Version: 1.20.2 311

## Page 312

Configuration Show Chart Timebar/Toolbar Specifies whether the time bar and toolbar of the Scope chart should be visible in the printing template. Use Custom Color TRUE: The following color settings will be applied before the chart is exported for the report. (You can select color combinations that reduce the ink consumption for printing). Border Background Color Color for the border of the chart Chart Background Color Color for the background of the chart X-Axis Color Color for the labeling of the X-axis X-Axis Color Color for the grid of the X-axis Y-Axis Color Color for the labeling of the Y-axis Y-Axis Color Color for the grid of the Y-axis Export Raw Data to Report Provides the raw chart data for the report. (Significantly extends the time it takes to generate a report | Only required for creating custom charts). 312 Version: 1.20.2 TE13xx

## Page 313

Configuration Scope General • Behaviour: general settings for the behavior of the scope • Log to File: settings for saving the events in the file format • Log to Visual Studio: settings for displaying events in the Visual Studio Error List • Log to Windows Event Viewer: settings for forwarding the events to the Windows Event Viewer • The logging level specifies the events to be processed in each case Acquisition Standard acquisition data (will be used if empty channels are inserted) See: Acquisition [} 57] Channel Standard channel settings (will be used if empty channels are inserted) See: YT channel style [} 55] Chart Standard chart settings (will be used if new charts are inserted) See: YT chart properties [} 47] Scope Standard Scope settings (will be used if new Scope instances are inserted) See also: Scope node [} 22] Unit Dictionary The Unit Dictionary is a sort of dictionary for all unit elements. These include base units, Editor transformations and user units. All available unit elements stored in the dictionary can be viewed with the aid of the Unit Dictionary Editor. In addition, there is an option to add new values via the editor. See: Physical units [} 191] and Unit Dictionary Editor [} 208] X-axis Standard axis settings for the X-axis (will be used if new axes are inserted) See: YT axis properties [} 51] Y-axis Standard axis settings for the Y-axis (will be used if new axes are inserted) See: YT axis properties [} 51] 5.5 Scope Diagnostics 5.5.1 Debug messages For a very deep diagnosis of the behavior of the Twin CAT Scope itself, debug messages can be activated in both main components, View and Server. This can take place at various levels. The messages are described in corresponding trace log files in the Twin CAT Functions directory, in each case under View and Server. View: In the Options [} 311] under General there is an option to activate a trace log for the control, the charting and the measurement. The target path is also specified and adjustable. TE13xx Version: 1.20.2 313

## Page 314

Configuration Server: The settings for the server are to be made in the corresponding server interface. This is also described accordingly in the TF3300 documentation. All trace logs can be sent with the Support Information Report [} 319]. 5.5.2 Scope Statistics tool The Scope Statistics tool is used for the statistical evaluation of Scope projects. The tool is called with the Scope Statistics command in the context menu of the respective Scope project. 314 Version: 1.20.2 TE13xx

## Page 315

Configuration The statistics tool has seven different tabs for different topical areas. General The General tab contains general information regarding the Scope project and provides an overview of the elements contained therein. TE13xx Version: 1.20.2 315

## Page 316

Configuration Charts Number of charts in the project. Axis Number of axes in the project. Channel (on/off) Number of channels in the project that are enabled (on) or disabled (off) respectively. YT-Channel (on/off) Number of YT channels in the project that are enabled (on) or disabled (off) respectively. XY-Channel (on/off) Number of XY channels in the project that are enabled (on) or disabled (off) respectively. Array-Channel (on/off) Number of array channels in the project that are enabled (on) or disabled (off) respectively. X-Cursor Number of X cursors in the project. Y-Cursor Number of Y cursors in the project. Trigger Number of triggers in the project. Graphics The Graphics tab contains information on the graphic properties of the respective project, as these affect the drawing performance. Graphic-Lib Graphic library currently in use. Core Separation Number of charts that use core separation. Overwrite-Mode Number of charts for which the overwrite mode is activated. Antialias Number of charts for which the "antialiasing" function is activated. Line-Width (min:max) Minimum and maximum set line width of the channels. Marks (on/ auto/ off) Number of channels for which the marks are activated (on), set to automatic (auto) or deactivated (off) respectively. Channel (visible/ Number of visible or invisible channels respectively. invisible) Times The Times tab provides information on the time settings of the project. 316 Version: 1.20.2 TE13xx

## Page 317

Configuration Record-Time Set recording time of the project. Free Sample-Times Number of channels for which the sample state "Free Sample Time" is set. This means that for these channels a free sampling rate has been set that is longer than the Task Sample Time. Oversamples Number of channels for which oversampling is activated. Sample-Time Minimum and maximum set sampling rate within the project. (min:max) Data-Size The Data-Size tab contains information about the memory sizes. Memory-Size File size of the complete recording. Config-Data-Size File size of the configuration file. Data-Stream Data stream during the recording. Data-Types The Data-Types tab contains information about the data types within the Scope project. TE13xx Version: 1.20.2 317

## Page 318

Configuration The various data types of the channel acquisition are illustrated in a table and as a pie chart. Note here that in the "ARRAY" line only the arrays of the array bar chart are listed. Other arrays, for example those used for oversampling purposes, are listed under the data types of their element. To obtain a detailed overview, a table can be called via the Data-Types sorted by Sample-Times button in which the data types are listed in order of sampling rate. The data types sorted according to target system are illustrated in a table via the Data-Types sorted by Target-System button. Targets The Targets tab contains information on the target systems contained in the project. 318 Version: 1.20.2 TE13xx

## Page 319

Configuration The following data are provided for each target system: Targets AMS-Net Id and target port of the target system. Device Information about whether the system is a local or a remote access system. Records (local Server) Total number of records and the number of records on the local Scope Server. Task Sample-Time Task sample time for the respective target system. Trigger The Trigger tab contains information on all triggers that exist in the project. The following data are displayed for each trigger: Trigger Associated channel whose state is to be tested for the selected trigger conditions. Group Trigger group to which the respective trigger belongs. Release Indicates whether the trigger condition is a rising or falling edge. Threshold Limit value of the trigger condition. Action Trigger action that is executed when it is triggered. Combine Selected linking options to the other trigger conditions. 5.5.3 Support Information Report The Support Information Report is a tool for collecting product information for submission to Beckhoff technical support. Collecting product-related data such as Twin CAT version/build, product version, image version and device type reduces email traffic significantly and enables more efficient advice. TE13xx Version: 1.20.2 319

## Page 320

Configuration Plug-in mechanism Various Beckhoff products interface with the Support Information Report via a plug-in mechanism. These products, such as the Twin CAT Database Server, have a Support Information Report entry in the corresponding product menu. Creating and submitting a Support Information Report ü A Support Information Report is open. 1. Use the Behaviour text field to describe the behavior that occurred in as much detail as possible. 2. In the Attachment area, you can add files (screenshots etc.) to the report via the Add Attachment button, if required. Files can optionally be selected via remote access. To do this, select a target from the Remote System dropdown list. Depending on the selected target, it may be possible to browse Windows CE devices. 3. Enter your contact details and select a Beckhoff subsidiary for your country. This information is obligatory for submitting the Support Information Report. 4. You will be offered the option to store your contact details for future Support Information Reports. To do this, tick the Store personal data check box. 5. The product-specific plug-ins can be found in the lower section of the Support Information Report. Tick the Include in report check box. The information required for the product is added automatically, if it is available. The screenshot shows the current configuration of a Twin CAT Database Server in the form of an XML file as an example. 6. Submitting the Support Information Report: • If the device has an email connection, you can submit the Support Information Report directly to the Beckhoff subsidiary for your country via the Send Report button. • If the device does not have an email connection, you can save the Support Information Report locally as a .zip file via the Save .zip button and then make it available via FTP, USB etc. 320 Version: 1.20.2 TE13xx

## Page 321

Configuration TE13xx Version: 1.20.2 321

## Page 322

. NET API 6 . NET API If you wish use the Scope View Control in your own . NET-based HMI, the TE1300 setup must be carried out on the target system. Via the component installation you can select whether the View or even just the binaries are to be installed. Moreover, in this case the Engineering license for TE1300 has to be activated on the target system. 6.1 Comparison of integration in the two Scope versions The differences between the old and new Scope View Control API are compared in the following comparison. The basic methods of creating a YT chart are compared. Loading a configuration scope View Control. Load Scope Config(@"C:\temp\Scope YT Project.tcscope"); scope View Control. Operating. Start Record(); //Project Panel scope Project Panel. Scope Project = Scope Project. Load Scope Project(@"C:\temp\YT Scope Project.svproj"); scope Project Panel. Scope Project. Start Record(); //Chart Panel Scope Project scope Project = Scope Project. Load Scope Project(@"C:\temp\YT Scope Project.svproj"); chart Panel. Model Chart = scope Project. Sub Member. Of Type<Chart>(). First(); scope Project. Start Record(); The method of loading a configuration has been pulled out of the control in the new version and can be found in the Scope Project, which can now be reached via a property in the control. Apart from the control, which can display an entire project and displays the charts in a sanddock, there is now also an option to use a control for a single chart. This is displayed, for example, in the code under the comment "Chart Panel". Creating a configuration in the code Scope View Control Chart chart_old = scope View Control. New Chart(scope Display Modes. XT); Scope View Control YAxis axis_old = chart_old. New Axis(); Scope View Control Channel channel_old = axis_old. New Channel(); Scope Project scope Project_new = new Scope Project(); Chart chart_new = new YTChart(); Axis Group axis Group_new = new Axis Group(); Channel channel_new = new Channel(); Acquisition Interpreter acquisition Interpreter_new = new Acquisition Interpreter(); Ads Acquisition ads Acquisition_new = new Ads Acquisition(); scope Project_new. Add Member(chart_new); chart_new. Add Member(axis Group_new); axis Group_new. Add Member(channel_new); channel_new. Add Member(acquisition Interpreter_new); acquisition Interpreter_new. Add Member(ads Acquisition_new); The creation of a configuration in the C# code has passed from the static framework into a dynamic sequence. The methods to create a further object on the hierarchically higher object and to add it no longer exist. Now all objects can be created separately and added using the "Add Member" method. Care should be taken here that the hierarchy is maintained as in the sample. It is possible not to create individual hierarchy steps. This will then be done automatically. (Example: adding an acquisition to an Axis Group causes a channel and an Acquisition Interpreter object to be created). The objects are always added in the "Sub Member" list of the superordinate object. If a search is carried out for an object later on, one can simply run recursively through the lists in order to get from the project object to the acquisition. 322 Version: 1.20.2 TE13xx

## Page 323

. NET API Adapting the style channel_old. Style. Scale Factor = 2; channel_old. Style. Offset = 2; channel_old. Style. Line Color = Color. Red; channel_old. Style. Mark Color = Color. Dark Red; channel_old. Style. Line Width = 2; acquisition Interpreter_new. Scale Factor = 2; acquisition Interpreter_new. Offset = 2; Series Style series Style = channel_new. Style. Sub Member. Of Type<Series Style>(). First(); series Style. Display Color = Color. Green; series Style. Mark Color = Color. Dark Red; series Style. Line Width = 2; Properties that influence the values of a channel have been moved from the Channel. Style into the Acquisition Interpreter. Other style properties that define the style of a graph can be found in the Series Style class. This class is a Sub Member of the Channel Style class, which can in turn be found in the Sub Members of a channel. The style classes have the following structure: Overview of the various style hierarchies. The subordinate classes are always located in the Sub Member lists of the superordinate class. Chart • Chart Style (general style properties for a chart) ◦ Chart Zoom Style (configuration option specifying how a chart should react to zoom functions). Axis Group • Aspect Ratio Scaling Style (configuration option for uniform scaling between the axes) Axis • Axis Style (general style properties for the axis) Channel • Channel Style (general style properties of a channel) ◦ Cap Style (style properties of the Graphcaps) ◦ Min Max Style (visibility properties of the minimum and maximum values) ◦ Series Style (style properties of a graph) Adapting the acquisition channel_old. Acquisition. Ams Net Id = new Ams Net Id("172.17.61.30.1.1"); channel_old. Acquisition. Target Port = 851; channel_old. Acquisition. Is Symbol Based = true; channel_old. Acquisition. Symbol Name = "Variables.f Sine"; channel_old. Acquisition. Data Type = Scope2Data Type. REAL64; channel_old. Acquisition. Sample Time = (uint)Time Span. Ticks Per Millisecond; ads Acquisition_new. Ams Net Id String = "172.17.61.30.1.1"; ads Acquisition_new. Target Port = 851; ads Acquisition_new. Is Symbol Based = true; ads Acquisition_new. Symbol Name = "Variables.f Sine"; ads Acquisition_new. Data Type = Scope2Data Type. REAL64; ads Acquisition_new. Sample Time = (uint)Time Span. Ticks Per Millisecond; Nothing has changed in the configuration of the acquisition. Controlling the recording //Start Record scope View Control. Operating. Start Record(); scope View Control. Operating. Start All Displays(); //Stop Record scope View Control. Operating. Stop Record(); //Save SVD scope View Control. Operating. Save Data("Export Data.svd"); TE13xx Version: 1.20.2 323

## Page 324

. NET API //Start Record scope Project. Start Record(); foreach(Chart chart in scope Project. Sub Member. Of Type<Chart>()) { chart. Start Display(); } //Stop Record scope Project. Stop Record(); //Save SVD scope Project. Save Data("Export Data.svdx"); The functions for handling an exception have been moved from the Operating object directly into the Scope Project class. A chart is started directly via the Start Display method and no longer via the Operating class. When saving, note that the extension of the new data format is "svdx" and no longer "svd". 6.2 Scope Control Integration Integration of the Scope View Control in your own applications The Twin CAT Scope consists of different components. The main components are Scope View and Scope Server. The Scope View in turn contains the Scope Project Panel and Chart Panel, which are usable as self- contained components for customer-specific visualizations. The Scope View Control XLib developed in . NET is available with the installation of Twin CAT 3.1 from version 3.3.3140. In this way simple integration is possible in C#, VB. Net or WPF applications. Required software The Scope View Control requires . NET Framework 4.5.1. 324 Version: 1.20.2 TE13xx

## Page 325

. NET API Installation of the . NET Framework 4.5.1 1. Right-click on the project and select Properties. 2. Under Application, select ". NET Framework 4.5.1" as the target framework. ð The . NET Framework 4.5.1 is installed. MS Visual Studio In order to be able to add the panels to an existing or newly created project, use the Visual Studio Designer. 1. Open the form or the control to which a panel is to be added. 2. Right-click on a blank area in the toolbox and select Choose Items.... ð A dialog opens 3. Select Browse. 4. Search for Twin CAT. Measurement. Scope. Control.dll in the Redist folder [} 325]. (Computer > Local Disk (C:) > Twin CAT > Functions > TE130X-Scope- View > Redist > Twin CAT. Measurement. Scope. Control). 5. Select Twin CAT. Measurement. Scope. Control.dll and confirm. ð The two controls now appear in the toolbox Scope Project Panel Provides a control that can display an entire Scope Project configuration. The charts are divided into different Sand Doc pages. Chart Panel Provides a control that displays a chart. 6. Drag one or more panels into the designer with the mouse and position them. ð You have added the Scope View Control X to a project. If the project is now compiled, Visual Studio may report missing references to the Tc Ads Scope2Communications and Twin CAT. Scope2. Tools libraries. Execute the following steps: 7. Right-click on the current project in the Solution Explorer and select Add Reference. ð A dialog opens. 8. In the Browse tab, select the installation path of the . NET-GAC (Global Assembly Cache). 9. Add the following libraries to the project: • Twin CAT. Ads.dll • Twin CAT. Scope2. Communications.dll • Twin CAT. Measurement. Project Base • Twin CAT. Measurement. Scope. API 6.2.1 Redist folder The Redistributable folder in the Scope View folder (Twin CAT. Functions. TE130X-Scope-View) contains all libraries for the implementation of a Scope View control in your own . NET application. All components contained here are installed by the Setup in the Global Assembly Cache (GAC) and also loaded from there when executing. The Redist folder has the advantage that, when developing one's own applications, the referenced components and their dependents do not have to be laboriously sought in the GAC. All the files are located in this central folder so that development time is saved and unexpected version conflicts are avoided. There are two possible scenarios for the installation of an application with Scope Control integration on another device. • In the ideal case the same scope version is installed on the target system as on the development system (build system). The libraries are then automatically loaded from the GAC in the correct version. Additional copying of the Redist folder is unnecessary (but is recommended, as only in this case the Scope Server is always available in the correct version). TE13xx Version: 1.20.2 325

## Page 326

. NET API • Only a Scope Server in the version corresponding to the Scope Control is installed on the target system. ◦ Registration of the sources used on the development system in the GAC. All components in the Redist folder should be registered on the target system, irrespective of whether they are directly referenced in one's own application. ◦ The libraries of the Redist folder must be placed on the executive system next to the .exe. All components in the Redist folder should be provided on the target system, irrespective of whether they are directly referenced in one's own application. 6.2.2 Sample YT chart The application shown in the sample below serves to illustrate the main aspects of Scope View Control. First, a new Windows Forms application is created. Use the toolbox to add a toolbar and the buttons shown above to the form. By double clicking, a click event handler can be created for each button, which is filled with the sample code below. Subsequently, a Scope Project Panel (as in this sample) or a Chart Panel is added to the form and the "Dock" property" is set to "Fill". The sample developed here is available as a VS project: https://infosys.beckhoff.com/content/1033/ TE13xx_TC3_Scope View/Resources/6515674123.zip The sample accesses variables of the sample PLC program: https://infosys.beckhoff.com/content/1033/ TE13xx_TC3_Scope View/Resources/2282225419.zip 6.2.2.1 Loading the configuration The project, which is now executable, shows a gray surface at the start, since no configuration has been loaded or created. A configuration can either be created programmatically, or a file created with the Twin CAT Scope can be loaded. In this case, clicking on the Load button loads an existing configuration from a file. The C# code sample shows the call from a "Button Click Event Handler": private string filename = @"Scope Test Chart.tcscopex"; private void btn Load_Click(object sender, Event Args e) { File Info f Info = new File Info(filename); if (!f Info. Exists) { Message Box. Show("File not found! Please use the Add Chart button to create a config! Once a 326 Version: 1.20.2 TE13xx

## Page 327

. NET API config is created and saved it can be load using the Load button!", "File not found", Message Box Buttons. OK, Message Box Icon. Exclamation); } else { //delete old configuration scope Project Panel. Scope Project. Dispose(); //load configuration Scope Project Project = Scope Project. Load Scope Project(filename); scope Project Panel. Scope Project = Project; } } The use of a Scope Project Panel is shown in this sample. If only a chart is to be displayed, however, then the functionality is the same, the difference being that a Chart Panel has to be created on the interface instead of the Scope Project Panel. Apart from that the Chart Panel class possesses no Scope Project object, only a Chart object. Therefore, instead of this line: scope Project Panel. Scope Project = Project; the following code must be created: chart Panel. Model Chart = Project. Sub Member. Of Type<Chart>(). First(); 6.2.2.2 Adding elements All hierarchical elements that can be found in the Twin CAT Scope in the Solution Explorer can also be added in the code during the integration. A hierarchical element is structured in such a way that it possesses a "Sub Member" list, through which it is possible to iterate. Further objects can be added with "Add Member". If the new object is not added to an object located directly above it, then everything is re-created by the adding object until the object to be added can be integrated into the hierarchy. However, care must be taken that a YT chart is always created as the standard chart type. The fundamental hierarchy in the scope looks like this: Scope Project ╚╦ Data Pool ║╚ Acquisition ╠╦ Chart ║╚╦ Axis Group ║ ╠╦ Marker Container ║ ║╚ Marker ║ ╠╦ Axes ║ ╚╦ Channels ║ ╚ Acquisition Interpreter … further charts Charts: The chart is the environment, in which the graph with the coordinate system appears. The chart thus represents the base frame and must be created first. private void btn Add Chart_Click(object sender, Event Args e) { YTChart chart = new YTChart(); scope Project Panel. Scope Project. Add Member(chart); chart. Sub Member. Of Type<Chart Style>(). First(). Tool Tip Enabled = true; } Axes: TE13xx Version: 1.20.2 327

## Page 328

. NET API The Axis Group contains firstly the axes, which ensure the correct scaling of the values, and secondly the channels that are displayed in the chart. If the Axis Group is now added to the chart, the axis objects are created automatically. private void btn Add Axis_Click(object sender, Event Args e) { if (scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). Count() == 0) { Message Box. Show(this, "Please create a chart first!", "No chart connected!", Message Box Buttons. OK, Message Box Icon. Exclamation); } else { scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). First(). Add Member(new Axis Group()); } } Channels: The channel contains all the information on the data that are recorded in the Scope and is attached under the axis group in which these values are to be shown. private void btn Add Channel_Click(object sender, Event Args e) { Channel channel = new Channel(); if (scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). Count() == 0) { Message Box. Show(this, "Please create a chart first!", "No chart connected!", Message Box Buttons. OK, Message Box Icon. Exclamation); } else if (scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). First(). Sub Member. Of Type<Axis Group>(). Coun t() == 0) { Message Box. Show(this, "Please create a axis first!", "No axis connected!", Message Box Buttons. OK, Message Box Icon. Exclamation); } else { scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). First(). Sub Member. Of Type<Axis Group>(). F irst(). Add Member(channel); Change Channel Settings(channel); Set Acquisitions(channel); } } 6.2.2.3 Adapting the styles Each of the elements created has "Style" properties as a sub-member, containing all the properties that can also be seen in the corresponding properties window in Visual Studio. For example, color and line width can be assigned in the style classes of a channel. private void Change Channel Settings(Channel channel) { Series Style style = channel. Sub Member. Of Type<Channel Style>(). First(). Sub Member. Of Type<Series Style>(). First(); style. Display Color = Color. Red; style. Mark Color = Color. Dark Red; style. Line Width = 2; } Overview of the various style hierarchies. The subordinate classes are always located in the Sub Member lists of the superordinate class. Chart • Chart Style (general style properties for a chart) ◦ Chart Zoom Style (configuration option specifying how a chart should react to zoom functions). Axis Group • Aspect Ratio Scaling Style (configuration option for uniform scaling between the axes) Axis 328 Version: 1.20.2 TE13xx

## Page 329

. NET API • Axis Style (general style properties for the axis) Channel • Channel Style (general style properties of a channel) ◦ Cap Style (style properties of the Graphcaps) ◦ Min Max Style (visibility properties of the minimum and maximum values) ◦ Series Style (style properties of a graph) 6.2.2.4 Adaptation of the acquisition data The acquisition class of a channel describes the connection between the scope and the respective value of the machine controller. Therefore, for example, the name and size of a variable are expected at this point. The acquisition object is hierarchically positioned below an Acquisition Interpreter, which possesses further variable-independent information. Furthermore, the Acquisition Interpreter is a member of a channel and, depending on the chart type, a channel may contain several Acquisition Interpreters for the various axes. An acquisition can be appended directly to a channel as in the sample and the interpreter is automatically generated. private void Set Acquisitions(Channel channel) { Ads Acquisition acq = new Ads Acquisition(); acq. Ams Net Id Exchange = "localhost"; acq. Target Port = 851; acq. Is Symbol Based = true; acq. Symbol Name = "Variables.f Sine"; acq. Data Type = Scope2Data Type. REAL64; acq. Sample Time = (uint)(10 * Time Span. Ticks Per Millisecond); Acquisition Interpreter acquisition Interpreter = new Acquisition Interpreter(); acquisition Interpreter. Acquisition = acq; channel. Add Member(acquisition Interpreter); } 6.2.2.5 Controlling the recording Recording settings or methods of starting and stopping the recording and also saving the values are contained in the Scope Project class, which was already created in the first step. In order to start a recording you should first check whether data still exist. If so they can be deleted with Disconnect. After that the recording can be started in the Scope Project with the "Start Record" method. private void btn Start_Click(object sender, Event Args e) { try { //discard old data if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Reply) scope Project Panel. Scope Project. Disconnect(false); //start record if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Config) scope Project Panel. Scope Project. Start Record(); } catch (Exception err) { Message Box. Show(this, err. Message, "Error on start record!",Message Box Buttons. OK, Message Box Icon. Error); } } To stop a recording the "Stop Record" method is called on the Scope Project. Before executing this method it is also possible to check whether a recording is running. If this is the case the Scope State in the Scope Project will indicate Record. private void btn Stop_Click(object sender, Event Args e) { try { TE13xx Version: 1.20.2 329

## Page 330

. NET API if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Record) { scope Project Panel. Scope Project. Stop Record(); } } catch (Exception err) { Message Box. Show(this, err. Message, "Error on stop record!",Message Box Buttons. OK, Message Box Icon. Error); } } Before closing the application, a running recording should be stopped first and the application should be cleanly disconnected from the Scope server. private void Form1_Form Closing(object sender, Form Closing Event Args e) { if (scope Project Panel != null && scope Project Panel. Scope Project != null) { if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Record) { scope Project Panel. Scope Project. Stop Record(); } if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Reply) { scope Project Panel. Scope Project. Disconnect(); } } } 6.2.2.6 Save configuration / recording There are two possibilities to save: • Saving the recorded data in a .svdx file • Creating a configuration file (.tcscopex) The difference is that the .svdx file can be opened in any Twin CAT 3 Scope View, in order to display the measured data. The .tcscopex file, on the other hand, only contains the configuration, without measured data. It can be used to start new recordings, as required. private void btn Save_Click(object sender, Event Args e) { try { //save data and configuration if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Reply) { File. Create("Export Data.svdx"). Close(); scope Project Panel. Scope Project. Save Data("Export Data.svdx"); } //just save the configuration else { File. Create(filename). Close(); scope Project Panel. Scope Project. Save To File(filename); } } catch (Exception err) { Message Box. Show(this, err. Message, "Error on save!",Message Box Buttons. OK, Message Box Icon. Error); } } 6.2.2.7 Controlling a chart So that the toolbar and the time bar do not have to be shown permanently in the integration, it is possible to control the functions directly via the chart objects. 330 Version: 1.20.2 TE13xx

## Page 331

. NET API Since these functions can only be used in recording mode, the system checks whether signals are currently being recorded. This can be started with the Start Display method of the chart. The display can be paused with the Stop Display method. The recording continues in the background. This is apparent if the Overview chart is active, for example. Before the chart is deleted, the system checks whether a chart is open in the display. It then checks whether recording is active. If this is the case, the current recording is stopped. Using the Disconnect method the graph can be deleted from the chart and the chart can then be deleted from the project using the Remove Member method. private void btn Run_Click(object sender, Event Args e) { if (scope Project Panel. Scope Project. Scope State != Twin CAT. Measurement. Scope. API. Scope View State. Record) { Message Box. Show(this, "Only possible if a record is running!", "Run not possible!",Message Box Buttons. OK, Message Box Icon. Exclamation); } if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Record) scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). First(). Start Display(); } private void btn Pause_Click(object sender, Event Args e) { if (scope Project Panel. Scope Project. Scope State != Twin CAT. Measurement. Scope. API. Scope View State. Record) { Message Box. Show(this, "Only possible if a record is running!", "Pause not possible!",Message Box Buttons. OK, Message Box Icon. Exclamation); } if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Record) scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). First(). Stop Display(); } private void btn Del Chart_Click(object sender, Event Args e) { if (scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). Count() == 0) { Message Box. Show(this, "No chart is connected!", "Nothing to delete!",Message Box Buttons. OK, Message Box Icon. Exclamation); } else if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Record) { scope Project Panel. Scope Project. Stop Record(); scope Project Panel. Scope Project. Disconnect(false); } else if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Reply) { scope Project Panel. Scope Project. Disconnect(false); } else { scope Project Panel. Scope Project. Remove Member(scope Project Panel. Scope Project. Sub Member. Of Type<Char t>(). First()); } } 6.2.3 Sample XY chart The application shown in the sample below serves to illustrate the main aspects of Scope View Control. First, a new Windows Forms application is created. Use the toolbox to add a toolbar and the buttons shown above to the form. By double clicking, a click event handler can be created for each button, which is filled with the sample code below. Subsequently, a Scope Project Panel (as in this sample) or a Chart Panel is added to the form and the "Dock" property" is set to "Fill". TE13xx Version: 1.20.2 331

## Page 332

. NET API The sample developed here is available as a VS project: https://infosys.beckhoff.com/content/1033/ TE13xx_TC3_Scope View/Resources/6515672459.zip The sample accesses variables of the sample PLC program: https://infosys.beckhoff.com/content/1033/ TE13xx_TC3_Scope View/Resources/2282225419.zip 6.2.3.1 Loading the configuration The project, which is now executable, shows a gray surface at the start, since no configuration has been loaded or created. A configuration can either be created programmatically, or a file created with the Twin CAT Scope can be loaded. In this case, clicking on the Load button loads an existing configuration from a file. The C# code sample shows the call from a "Button Click Event Handler": private string filename = @"Scope Test Chart.tcscopex"; private void btn Load_Click(object sender, Event Args e) { File Info f Info = new File Info(filename); if (!f Info. Exists) { Message Box. Show("File not found! Please use the Add Chart button to create a config! Once a config is created and saved it can be load using the Load button!", "File not found", Message Box Buttons. OK, Message Box Icon. Exclamation); } else { //delete old configuration scope Project Panel. Scope Project. Dispose(); //load configuration Scope Project Project = Scope Project. Load Scope Project(filename); scope Project Panel. Scope Project = Project; } } The use of a Scope Project Panel is shown in this sample. If only a chart is to be displayed, however, then the functionality is the same, the difference being that a Chart Panel has to be created on the interface instead of the Scope Project Panel. Apart from that the Chart Panel class possesses no Scope Project object, only a Chart object. Therefore, instead of this line: scope Project Panel. Scope Project = Project; 332 Version: 1.20.2 TE13xx

## Page 333

. NET API the following code must be created: chart Panel. Model Chart = Project. Sub Member. Of Type<Chart>(). First(); 6.2.3.2 Adding elements private void btn Add Chart_Click(object sender, Event Args e) { XYChart chart = new XYChart(); Chart Style chart Style = new Chart Style(); chart Style. Tool Tip Enabled = true; chart. Add Member(chart Style); scope Project Panel. Scope Project. Add Member(chart); } private void btn Add Axis_Click(object sender, Event Args e) { Axis Group axis Group = new Axis Group(); if (scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). Count() == 0) { Message Box. Show(this, "Please create a chart first!", "No chart connected!", Message Box Buttons. OK, Message Box Icon. Exclamation); } else { scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). First(). Add Member(axis Group); } } private void btn Add Channel_Click(object sender, Event Args e) { Channel channel = new Channel(); if (scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). Count() == 0) { Message Box. Show(this, "Please create a chart first!", "No chart connected!", Message Box Buttons. OK, Message Box Icon. Exclamation); } else if (scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). First(). Sub Member. Of Type<Axis Group>(). Coun t() == 0) { Message Box. Show(this, "Please create a axis first!", "No axis connected!", Message Box Buttons. OK, Message Box Icon. Exclamation); } else { scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). First(). Sub Member. Of Type<Axis Group>(). F irst(). Add Member(channel); Change Channel Settings(channel); Set Acquisitions(channel); } } All hierarchical elements that can be found in the Twin CAT Scope in the Solution Explorer can also be added in the code during the integration. A hierarchical element is structured in such a way that it possesses a "Sub Member" list, through which it is possible to iterate. Further objects can be added with "Add Member". If the new object is not added to an object located directly above it, then everything is re-created by the adding object until the object to be added can be integrated into the hierarchy. However, care must be taken that a YT chart is always created as the standard chart type. The fundamental hierarchy in the scope looks like this: Scope Project ╚╦ Data Pool ║╚ Acquisition ╠╦ Chart ║╚╦ Axis Group ║ ╠╦ Marker Container TE13xx Version: 1.20.2 333

## Page 334

. NET API ║ ║╚ Marker ║ ╠╦ Axes ║ ╚╦ Channels ║ ╚ Acquisition Interpreter … further charts Charts: The chart is the environment, in which the graph with the coordinate system appears. The chart thus represents the base frame and must be created first. Axes: The Axis Group contains firstly the axes, which ensure the correct scaling of the values, and secondly the channels that are displayed in the chart. If the Axis Group is now added to the chart, the axis objects are created automatically. Channels: The channel contains all the information on the data that are recorded in the Scope and is attached under the axis group in which these values are to be shown. 6.2.3.3 Adapting the styles private void Change Channel Settings(Channel channel) { Series Style series Style = channel. Sub Member. Of Type<Channel Style>(). First(). Sub Member. Of Type<Series Style>(). First(); series Style. Display Color = Color. Green; series Style. Mark Color = Color. Dark Green; series Style. Line Width = 2; } Each of the elements created has "Style" properties as a sub-member, containing all the properties that can also be seen in the corresponding properties window in Visual Studio. For example, color and line width can be assigned in the style classes of a channel. Overview of the various style hierarchies. The subordinate classes are always located in the Sub Member lists of the superordinate class. Chart • Chart Style (general style properties for a chart) ◦ Chart Zoom Style (configuration option specifying how a chart should react to zoom functions). Axis Group • Aspect Ratio Scaling Style (configuration option for uniform scaling between the axes) Axis • Axis Style (general style properties for the axis) Channel • Channel Style (general style properties of a channel) ◦ Cap Style (style properties of the Graphcaps) ◦ Min Max Style (visibility properties of the minimum and maximum values) ◦ Series Style (style properties of a graph) 6.2.3.4 Adaptation of the acquisition data private void Set Acquisitions(Channel channel) { Ads Acquisition x Acquisition = new Ads Acquisition(); 334 Version: 1.20.2 TE13xx

## Page 335

. NET API x Acquisition. Ams Net Id Exchange = "localhost"; x Acquisition. Target Port = 851; x Acquisition. Is Symbol Based = true; x Acquisition. Symbol Name = "Variables.a Buffer Sine[1]"; x Acquisition. Data Type = Scope2Data Type. REAL64; x Acquisition. Sample Time = (uint)(1 * Time Span. Ticks Per Millisecond); channel. Add Member(x Acquisition); Ads Acquisition y Acquisition = new Ads Acquisition(); y Acquisition. Ams Net Id Exchange = "localhost"; y Acquisition. Target Port = 851; y Acquisition. Is Symbol Based = true; y Acquisition. Symbol Name = "Variables.a Buffer Sawtooth[1]"; y Acquisition. Data Type = Scope2Data Type. REAL64; y Acquisition. Sample Time = (uint)(1 * Time Span. Ticks Per Millisecond); channel. Add Member(y Acquisition); } The acquisition class of a channel describes the connection between the scope and the respective value of the machine controller. Therefore, for example, the name and size of a variable are expected at this point. The acquisition object is hierarchically positioned below an Acquisition Interpreter, which possesses further variable-independent information. Furthermore, the Acquisition Interpreter is a member of a channel and, depending on the chart type, a channel may contain several Acquisition Interpreters for the various axes. An acquisition can be appended directly to a channel as in the sample and the interpreter is automatically generated. 6.2.3.5 Adapting the recording Recording settings or methods of starting and stopping the recording and also saving the values are contained in the Scope Project class, which was already created in the first step. In order to start a recording you should first check whether data still exist. If so they can be deleted with Disconnect. After that the recording can be started in the Scope Project with the "Start Record" method. private void btn Start_Click(object sender, Event Args e) { try { //discard old data if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Reply) scope Project Panel. Scope Project. Disconnect(false); //start record if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Config) scope Project Panel. Scope Project. Start Record(); } catch (Exception err) { Message Box. Show(this, err. Message, "Error on start record!",Message Box Buttons. OK, Message Box Icon. Error); } } To stop a recording the "Stop Record" method is called on the Scope Project. Before executing this method it is also possible to check whether a recording is running. If this is the case the Scope State in the Scope Project will indicate Record. private void btn Stop_Click(object sender, Event Args e) { try { if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Record) { scope Project Panel. Scope Project. Stop Record(); } } catch (Exception err) { Message Box. Show(this, err. Message, "Error on stop record!",Message Box Buttons. OK, TE13xx Version: 1.20.2 335

## Page 336

. NET API Message Box Icon. Error); } } Before closing the application, a running recording should be stopped first and the application should be cleanly disconnected from the Scope server. private void Form1_Form Closing(object sender, Form Closing Event Args e) { if (scope Project Panel != null && scope Project Panel. Scope Project != null) { if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Record) { scope Project Panel. Scope Project. Stop Record(); } if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Reply) { scope Project Panel. Scope Project. Disconnect(); } } } 6.2.3.6 Save configuration / recording There are two possibilities to save: • Saving the recorded data in a .svdx file • Creating a configuration file (.tcscopex) The difference is that the .svdx file can be opened in any Twin CAT 3 Scope View, in order to display the measured data. The .tcscopex file, on the other hand, only contains the configuration, without measured data. It can be used to start new recordings, as required. private void btn Save_Click(object sender, Event Args e) { try { //save data and configuration if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Reply) { File. Create("Export Data.svdx"). Close(); scope Project Panel. Scope Project. Save Data("Export Data.svdx"); } //just save the configuration else { File. Create(filename). Close(); scope Project Panel. Scope Project. Save To File(filename); } } catch (Exception err) { Message Box. Show(this, err. Message, "Error on save!",Message Box Buttons. OK, Message Box Icon. Error); } } 6.2.3.7 Controlling a chart So that the toolbar and the time bar do not have to be shown permanently in the integration, it is possible to control the functions directly via the chart objects. Since these functions can only be used in recording mode, the system checks whether signals are currently being recorded. This can be started with the Start Display method of the chart. The display can be paused with the Stop Display method. The recording continues in the background. This is apparent if the Overview chart is active, for example. 336 Version: 1.20.2 TE13xx

## Page 337

. NET API Before the chart is deleted, the system checks whether a chart is open in the display. It then checks whether recording is active. If this is the case, the current recording is stopped. Using the Disconnect method the graph can be deleted from the chart and the chart can then be deleted from the project using the Remove Member method. private void btn Run_Click(object sender, Event Args e) { if (scope Project Panel. Scope Project. Scope State != Twin CAT. Measurement. Scope. API. Scope View State. Record) { Message Box. Show(this, "Only possible if a record is running!", "Run not possible!",Message Box Buttons. OK, Message Box Icon. Exclamation); } if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Record) scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). First(). Start Display(); } private void btn Pause_Click(object sender, Event Args e) { if (scope Project Panel. Scope Project. Scope State != Twin CAT. Measurement. Scope. API. Scope View State. Record) { Message Box. Show(this, "Only possible if a record is running!", "Pause not possible!",Message Box Buttons. OK, Message Box Icon. Exclamation); } if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Record) scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). First(). Stop Display(); } private void btn Del Chart_Click(object sender, Event Args e) { if (scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). Count() == 0) { Message Box. Show(this, "No chart is connected!", "Nothing to delete!",Message Box Buttons. OK, Message Box Icon. Exclamation); } else if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Record) { scope Project Panel. Scope Project. Stop Record(); scope Project Panel. Scope Project. Disconnect(false); } else if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Reply) { scope Project Panel. Scope Project. Disconnect(false); } else { scope Project Panel. Scope Project. Remove Member(scope Project Panel. Scope Project. Sub Member. Of Type<Char t>(). First()); } } 6.2.4 Sample Array Bar Chart The application shown in the sample below serves to illustrate the main aspects of Scope View Control. First, a new Windows Forms application is created. Use the toolbox to add a toolbar and the buttons shown above to the form. By double clicking, a click event handler can be created for each button, which is filled with the sample code below. Subsequently, a Scope Project Panel (as in this sample) or a Chart Panel is added to the form and the "Dock" property" is set to "Fill". TE13xx Version: 1.20.2 337

## Page 338

. NET API The sample developed here is available as a VS project: https://infosys.beckhoff.com/content/1033/ TE13xx_TC3_Scope View/Resources/6515665803.zip The sample accesses variables of the sample PLC program: https://infosys.beckhoff.com/content/1033/ TE13xx_TC3_Scope View/Resources/2282225419.zip 6.2.4.1 Loading the configuration The project, which is now executable, shows a gray surface at the start, since no configuration has been loaded or created. A configuration can either be created programmatically, or a file created with the Twin CAT Scope can be loaded. In this case, clicking on the Load button loads an existing configuration from a file. The C# code sample shows the call from a "Button Click Event Handler": private string filename = @"Scope Test Chart.tcscopex"; private void btn Load_Click(object sender, Event Args e) { File Info f Info = new File Info(filename); if (!f Info. Exists) { Message Box. Show("File not found! Please use the Add Chart button to create a config! Once a config is created and saved it can be load using the Load button!", "File not found", Message Box Buttons. OK, Message Box Icon. Exclamation); } else { //delete old configuration scope Project Panel. Scope Project. Dispose(); //load configuration Scope Project Project = Scope Project. Load Scope Project(filename); scope Project Panel. Scope Project = Project; } } The use of a Scope Project Panel is shown in this sample. If only a chart is to be displayed, however, then the functionality is the same, the difference being that a Chart Panel has to be created on the interface instead of the Scope Project Panel. Apart from that the Chart Panel class possesses no Scope Project object, only a Chart object. Therefore, instead of this line: scope Project Panel. Scope Project = Project; the following code must be created: 338 Version: 1.20.2 TE13xx

## Page 339

. NET API chart Panel. Model Chart = Project. Sub Member. Of Type<Chart>(). First(); 6.2.4.2 Adding elements private void btn Add Chart_Click(object sender, Event Args e) { Array Bar Chart chart = new Array Bar Chart(); scope Project Panel. Scope Project. Add Member(chart); chart. Sub Member. Of Type<Chart Style>(). First(). Tool Tip Enabled = true; } private void btn Add Axis_Click(object sender, Event Args e) { if (scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). Count() == 0) { Message Box. Show(this, "Please create a chart first!", "No chart connected!", Message Box Buttons. OK, Message Box Icon. Exclamation); } else { scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). First(). Add Member(new Axis Group()); } } private void btn Add Channel_Click(object sender, Event Args e) { Channel channel = new Channel(); if (scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). Count() == 0) { Message Box. Show(this, "Please create a chart first!", "No chart connected!", Message Box Buttons. OK, Message Box Icon. Exclamation); } else if (scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). First(). Sub Member. Of Type<Axis Gro up>(). Count() == 0) { Message Box. Show(this, "Please create a axis first!", "No axis connected!", Message Box Buttons. OK, Message Box Icon. Exclamation); } else { scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). First(). Sub Member. Of Type<Axis Group>(). F irst(). Add Member(channel); Change Channel Settings(channel); Set Acquisitions(channel); } } All hierarchical elements that can be found in the Twin CAT Scope in the Solution Explorer can also be added in the code during the integration. A hierarchical element is structured in such a way that it possesses a "Sub Member" list, through which it is possible to iterate. Further objects can be added with "Add Member". If the new object is not added to an object located directly above it, then everything is re-created by the adding object until the object to be added can be integrated into the hierarchy. However, care must be taken that a YT chart is always created as the standard chart type. The fundamental hierarchy in the scope looks like this: Scope Project ╚╦ Data Pool ║╚ Acquisition ╠╦ Chart ║╚╦ Axis Group ║ ╠╦ Marker Container ║ ║╚ Marker ║ ╠╦ Axes ║ ╚╦ Channels ║ ╚ Acquisition Interpreter TE13xx Version: 1.20.2 339

## Page 340

. NET API … further charts Charts: The chart is the environment, in which the graph with the coordinate system appears. The chart thus represents the base frame and must be created first. Axes: The Axis Group contains firstly the axes, which ensure the correct scaling of the values, and secondly the channels that are displayed in the chart. If the Axis Group is now added to the chart, the axis objects are created automatically. Channels: The channel contains all the information on the data that are recorded in the Scope and is attached under the axis group in which these values are to be shown. 6.2.4.3 Adapting the styles private void Change Channel Settings(Channel channel) { Series Style style = channel. Sub Member. Of Type<Channel Style>(). First(). Sub Member. Of Type<Series Styl e>(). First(); style. Display Color = Color. Blue; style. Mark Color = Color. Dark Blue; style. Line Width = 2; } Each of the elements created has "Style" properties as a sub-member, containing all the properties that can also be seen in the corresponding properties window in Visual Studio. For example, color and line width can be assigned in the style classes of a channel. Overview of the various style hierarchies. The subordinate classes are always located in the Sub Member lists of the superordinate class. Chart • Chart Style (general style properties for a chart) ◦ Chart Zoom Style (configuration option specifying how a chart should react to zoom functions). Axis Group • Aspect Ratio Scaling Style (configuration option for uniform scaling between the axes) Axis • Axis Style (general style properties for the axis) Channel • Channel Style (general style properties of a channel) ◦ Cap Style (style properties of the Graphcaps) ◦ Min Max Style (visibility properties of the minimum and maximum values) ◦ Series Style (style properties of a graph) 6.2.4.4 Adaptation of the acquisition data private void Set Acquisitions(Channel channel) { //Ams Net Id and Ams Port need the Twin CAT. Ads.dll Ads Acquisition acq = new Ads Acquisition(); acq. Ams Net Id Exchange = "localhost"; acq. Target Port = 851; acq. Is Symbol Based = true; acq. Symbol Name = "Variables.a Normal Distribution"; acq. Data Type = Scope2Data Type. REAL64; acq. Sample Time = (uint)(100 * Time Span. Ticks Per Millisecond); acq. Array Length = 2000; 340 Version: 1.20.2 TE13xx

## Page 341

. NET API acq. Oversample = 2000; channel. Add Member(acq); } The acquisition class of a channel describes the connection between the scope and the respective value of the machine controller. Therefore, for example, the name and size of a variable are expected at this point. The acquisition object is hierarchically positioned below an Acquisition Interpreter, which possesses further variable-independent information. Furthermore, the Acquisition Interpreter is a member of a channel and, depending on the chart type, a channel may contain several Acquisition Interpreters for the various axes. An acquisition can be appended directly to a channel as in the sample and the interpreter is automatically generated. 6.2.4.5 Adapting the recording Recording settings or methods of starting and stopping the recording and also saving the values are contained in the Scope Project class, which was already created in the first step. In order to start a recording you should first check whether data still exist. If so they can be deleted with Disconnect. After that the recording can be started in the Scope Project with the "Start Record" method. private void btn Start_Click(object sender, Event Args e) { try { //discard old data if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Reply) scope Project Panel. Scope Project. Disconnect(false); //start record if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Config) scope Project Panel. Scope Project. Start Record(); } catch (Exception err) { Message Box. Show(this, err. Message, "Error on start record!",Message Box Buttons. OK, Message Box Icon. Error); } } To stop a recording the "Stop Record" method is called on the Scope Project. Before executing this method it is also possible to check whether a recording is running. If this is the case the Scope State in the Scope Project will indicate Record. private void btn Stop_Click(object sender, Event Args e) { try { if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Record) { scope Project Panel. Scope Project. Stop Record(); } } catch (Exception err) { Message Box. Show(this, err. Message, "Error on stop record!",Message Box Buttons. OK, Message Box Icon. Error); } } Before closing the application, a running recording should be stopped first and the application should be cleanly disconnected from the Scope server. private void Form1_Form Closing(object sender, Form Closing Event Args e) { if (scope Project Panel != null && scope Project Panel. Scope Project != null) { if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Record) { scope Project Panel. Scope Project. Stop Record(); } TE13xx Version: 1.20.2 341

## Page 342

. NET API if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Reply) { scope Project Panel. Scope Project. Disconnect(); } } } 6.2.4.6 Save configuration / recording There are two possibilities to save: • Saving the recorded data in a .svdx file • Creating a configuration file (.tcscopex) The difference is that the .svdx file can be opened in any Twin CAT 3 Scope View, in order to display the measured data. The .tcscopex file, on the other hand, only contains the configuration, without measured data. It can be used to start new recordings, as required. private void btn Save_Click(object sender, Event Args e) { try { //save data and configuration if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Reply) { File. Create("Export Data.svdx"). Close(); scope Project Panel. Scope Project. Save Data("Export Data.svdx"); } //just save the configuration else { File. Create(filename). Close(); scope Project Panel. Scope Project. Save To File(filename); } } catch (Exception err) { Message Box. Show(this, err. Message, "Error on save!",Message Box Buttons. OK, Message Box Icon. Error); } } 6.2.4.7 Controlling a chart So that the toolbar and the time bar do not have to be shown permanently in the integration, it is possible to control the functions directly via the chart objects. Since these functions can only be used in recording mode, the system checks whether signals are currently being recorded. This can be started with the Start Display method of the chart. The display can be paused with the Stop Display method. The recording continues in the background. This is apparent if the Overview chart is active, for example. Before the chart is deleted, the system checks whether a chart is open in the display. It then checks whether recording is active. If this is the case, the current recording is stopped. Using the Disconnect method the graph can be deleted from the chart and the chart can then be deleted from the project using the Remove Member method. private void btn Run_Click(object sender, Event Args e) { if (scope Project Panel. Scope Project. Scope State != Twin CAT. Measurement. Scope. API. Scope View State. Record) { Message Box. Show(this, "Only possible if a record is running!", "Run not possible!",Message Box Buttons. OK, Message Box Icon. Exclamation); } if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Record) scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). First(). Start Display(); } private void btn Pause_Click(object sender, Event Args e) { 342 Version: 1.20.2 TE13xx

## Page 343

. NET API if (scope Project Panel. Scope Project. Scope State != Twin CAT. Measurement. Scope. API. Scope View State. Record) { Message Box. Show(this, "Only possible if a record is running!", "Pause not possible!",Message Box Buttons. OK, Message Box Icon. Exclamation); } if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Record) scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). First(). Stop Display(); } private void btn Del Chart_Click(object sender, Event Args e) { if (scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). Count() == 0) { Message Box. Show(this, "No chart is connected!", "Nothing to delete!",Message Box Buttons. OK, Message Box Icon. Exclamation); } else if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Record) { scope Project Panel. Scope Project. Stop Record(); scope Project Panel. Scope Project. Disconnect(false); } else if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Reply) { scope Project Panel. Scope Project. Disconnect(false); } else { scope Project Panel. Scope Project. Remove Member(scope Project Panel. Scope Project. Sub Member. Of Type<Char t>(). First()); } } 6.2.4.8 Displaying minimum and maximum In the Array bar chart example shown above, lines for minimum and maximum can be seen. These can also be set via the style classes on a channel. private void btn Min_Click(object sender, Event Args e) { foreach(Chart chart in scope Project Panel. Scope Project. Sub Member. Of Type<Chart>()) { foreach(Axis Group ag in chart. Sub Member. Of Type<Axis Group>()) { foreach(Channel channel in ag. Sub Member. Of Type<Channel>()) { Min Max Style min Max Style = channel. Sub Member. Of Type<Channel Style>(). First(). Sub Member . Of Type<Min Max Style>(). First(); min Max Style. Show Min = !min Max Style. Show Min; } } } } private void btn Show Max_Click(object sender, Event Args e) { foreach (Chart chart in scope Project Panel. Scope Project. Sub Member. Of Type<Chart>()) { foreach (Axis Group ag in chart. Sub Member. Of Type<Axis Group>()) { foreach (Channel channel in ag. Sub Member. Of Type<Channel>()) { Min Max Style min Max Style = channel. Sub Member. Of Type<Channel Style>(). First(). Sub Member . Of Type<Min Max Style>(). First(); min Max Style. Show Max = !min Max Style. Show Max; } } } } TE13xx Version: 1.20.2 343

## Page 344

. NET API 6.2.4.9 Scaling the X-axis In this sample the X-axis can be scaled by entries so that a different value range is used. The values of the Index Scaling class, which is located in the Acquisition Interpreter as a Sub Member, are thereby edited. The value range can be shifted with the offset. The offset represents the starting value of the value range. The value range can be scaled differently with the scale factor. The value is multiplied by the value range. private void tb XScale_Text Changed(object sender, Event Args e) { foreach(Chart chart in scope Project Panel. Scope Project. Sub Member. Of Type<Chart>()) { foreach(Axis Group ag in chart. Sub Member. Of Type<Axis Group>()) { foreach(Channel channel in ag. Sub Member. Of Type<Channel>()) { foreach(Acquisition Interpreter ai in channel. Sub Member. Of Type<Acquisition Interpreter >(). Where(x => x. Orientation == Twin CAT. Measurement. Scope. API. Axis Orientation. Y)) { Index Scaling index Scaling = ai. Sub Member. Of Type<Index Scaling>(). First(); double factor = 0; double. Try Parse(tb XScale. Text, out factor); index Scaling. Scale Factor = factor; } } } } } private void tb XOffset_Text Changed(object sender, Event Args e) { foreach (Chart chart in scope Project Panel. Scope Project. Sub Member. Of Type<Chart>()) { foreach (Axis Group ag in chart. Sub Member. Of Type<Axis Group>()) { foreach (Channel channel in ag. Sub Member. Of Type<Channel>()) { foreach (Acquisition Interpreter ai in channel. Sub Member. Of Type<Acquisition Interprete r>(). Where(x => x. Orientation == Twin CAT. Measurement. Scope. API. Axis Orientation. Y)) { Index Scaling index Scaling = ai. Sub Member. Of Type<Index Scaling>(). First(); double offset = 0; double. Try Parse(tb XOffset. Text, out offset); index Scaling. Offset = offset; } } } } } 6.2.5 Sample Single Bar Chart The application shown in the sample below serves to illustrate the main aspects of Scope View Control. First, a new Windows Forms application is created. Use the toolbox to add a toolbar and the buttons shown above to the form. By double clicking, a click event handler can be created for each button, which is filled with the sample code below. Subsequently, a Scope Project Panel (as in this sample) or a Chart Panel is added to the form and the "Dock" property" is set to "Fill". 344 Version: 1.20.2 TE13xx

## Page 345

. NET API The sample developed here is available as a VS project: https://infosys.beckhoff.com/content/1033/ TE13xx_TC3_Scope View/Resources/6515670795.zip The sample accesses variables of the sample PLC program: https://infosys.beckhoff.com/content/1033/ TE13xx_TC3_Scope View/Resources/2282225419.zip 6.2.5.1 Loading the configuration The project, which is now executable, shows a gray surface at the start, since no configuration has been loaded or created. A configuration can either be created programmatically, or a file created with the Twin CAT Scope can be loaded. In this case, clicking on the Load button loads an existing configuration from a file. The C# code sample shows the call from a "Button Click Event Handler": private string filename = @"Scope Test Chart.tcscopex"; private void btn Load_Click(object sender, Event Args e) { File Info f Info = new File Info(filename); if (!f Info. Exists) { Message Box. Show("File not found! Please use the Add Chart button to create a config! Once a config is created and saved it can be load using the Load button!", "File not found", Message Box Buttons. OK, Message Box Icon. Exclamation); } else { //delete old configuration scope Project Panel. Scope Project. Dispose(); //load configuration Scope Project Project = Scope Project. Load Scope Project(filename); scope Project Panel. Scope Project = Project; } } The use of a Scope Project Panel is shown in this sample. If only a chart is to be displayed, however, then the functionality is the same, the difference being that a Chart Panel has to be created on the interface instead of the Scope Project Panel. Apart from that the Chart Panel class possesses no Scope Project object, only a Chart object. Therefore, instead of this line: TE13xx Version: 1.20.2 345

## Page 346

. NET API scope Project Panel. Scope Project = Project; the following code must be created: chart Panel. Model Chart = Project. Sub Member. Of Type<Chart>(). First(); 6.2.5.2 Adding elements private void btn Add Chart_Click(object sender, Event Args e) { Bar Chart chart = new Bar Chart(); scope Project Panel. Scope Project. Add Member(chart); chart. Sub Member. Of Type<Chart Style>(). First(). Tool Tip Enabled = true; } private void btn Add Axis_Click(object sender, Event Args e) { if(scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). Count() == 0) { Message Box. Show(this, "Please create a chart first!", "No chart connected!", Message Box Buttons. OK, Message Box Icon. Exclamation); } else { scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). First(). Add Member(new Axis Group()); } } private void btn Add Channel_Click(object sender, Event Args e) { Channel channel = new Channel(); if (scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). Count() == 0) { Message Box. Show(this, "Please create a chart first!", "No chart connected!", Message Box Buttons. OK, Message Box Icon. Exclamation); } else if (scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). First(). Sub Member. Of Type<Axis Gro up>(). Count() == 0) { Message Box. Show(this, "Please create a axis first!", "No axis connected!", Message Box Buttons. OK, Message Box Icon. Exclamation); } else { scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). First(). Sub Member. Of Type<Axis Group>(). F irst(). Add Member(channel); Change Channel Settings(channel); Set Acquisitions(channel); } } All hierarchical elements that can be found in the Twin CAT Scope in the Solution Explorer can also be added in the code during the integration. A hierarchical element is structured in such a way that it possesses a "Sub Member" list, through which it is possible to iterate. Further objects can be added with "Add Member". If the new object is not added to an object located directly above it, then everything is re-created by the adding object until the object to be added can be integrated into the hierarchy. However, care must be taken that a YT chart is always created as the standard chart type. The fundamental hierarchy in the scope looks like this: Scope Project ╚╦ Data Pool ║╚ Acquisition ╠╦ Chart ║╚╦ Axis Group ║ ╠╦ Marker Container ║ ║╚ Marker ║ ╠╦ Axes 346 Version: 1.20.2 TE13xx

## Page 347

. NET API ║ ╚╦ Channels ║ ╚ Acquisition Interpreter … further charts Charts: The chart is the environment, in which the graph with the coordinate system appears. The chart thus represents the base frame and must be created first. Axes: The Axis Group contains firstly the axes, which ensure the correct scaling of the values, and secondly the channels that are displayed in the chart. If the Axis Group is now added to the chart, the axis objects are created automatically. Channels: The channel contains all the information on the data that are recorded in the Scope and is attached under the axis group in which these values are to be shown. 6.2.5.3 Adapting the styles private void Change Channel Settings(Channel channel) { Series Style style = channel. Sub Member. Of Type<Channel Style>(). First(). Sub Member. Of Type<Series Styl e>(). First(); style. Display Color = Color. Green; style. Mark Color = Color. Dark Red; } Each of the elements created has "Style" properties as a sub-member, containing all the properties that can also be seen in the corresponding properties window in Visual Studio. For example, color and line width can be assigned in the style classes of a channel. Overview of the various style hierarchies. The subordinate classes are always located in the Sub Member lists of the superordinate class. Chart • Chart Style (general style properties for a chart) ◦ Chart Zoom Style (configuration option specifying how a chart should react to zoom functions). Axis Group • Aspect Ratio Scaling Style (configuration option for uniform scaling between the axes) Axis • Axis Style (general style properties for the axis) Channel • Channel Style (general style properties of a channel) ◦ Cap Style (style properties of the Graphcaps) ◦ Min Max Style (visibility properties of the minimum and maximum values) ◦ Series Style (style properties of a graph) 6.2.5.4 Adaptation of the acquisition data private void Set Acquisitions(Channel channel) { //Ams Net Id and Ams Port need the Twin CAT. Ads.dll Ads Acquisition acq = new Ads Acquisition(); acq. Ams Net Id Exchange = "localhost"; acq. Target Port = 851; acq. Is Symbol Based = true; acq. Symbol Name = "Variables.f Sine"; TE13xx Version: 1.20.2 347

## Page 348

. NET API acq. Data Type = Scope2Data Type. REAL64; acq. Sample Time = (uint)(10 * Time Span. Ticks Per Millisecond); Acquisition Interpreter acquisition Interpreter = new Acquisition Interpreter(); acquisition Interpreter. Acquisition = acq; channel. Add Member(acquisition Interpreter); } The acquisition class of a channel describes the connection between the scope and the respective value of the machine controller. Therefore, for example, the name and size of a variable are expected at this point. The acquisition object is hierarchically positioned below an Acquisition Interpreter, which possesses further variable-independent information. Furthermore, the Acquisition Interpreter is a member of a channel and, depending on the chart type, a channel may contain several Acquisition Interpreters for the various axes. An acquisition can be appended directly to a channel as in the sample and the interpreter is automatically generated. 6.2.5.5 Controlling the recording Recording settings or methods of starting and stopping the recording and also saving the values are contained in the Scope Project class, which was already created in the first step. In order to start a recording you should first check whether data still exist. If so they can be deleted with Disconnect. After that the recording can be started in the Scope Project with the "Start Record" method. private void btn Start_Click(object sender, Event Args e) { try { //discard old data if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Reply) scope Project Panel. Scope Project. Disconnect(false); //start record if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Config) scope Project Panel. Scope Project. Start Record(); } catch (Exception err) { Message Box. Show(this, err. Message, "Error on start record!",Message Box Buttons. OK, Message Box Icon. Error); } } To stop a recording the "Stop Record" method is called on the Scope Project. Before executing this method it is also possible to check whether a recording is running. If this is the case the Scope State in the Scope Project will indicate Record. private void btn Stop_Click(object sender, Event Args e) { try { if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Record) { scope Project Panel. Scope Project. Stop Record(); } } catch (Exception err) { Message Box. Show(this, err. Message, "Error on stop record!",Message Box Buttons. OK, Message Box Icon. Error); } } Before closing the application, a running recording should be stopped first and the application should be cleanly disconnected from the Scope server. private void Form1_Form Closing(object sender, Form Closing Event Args e) { if (scope Project Panel != null && scope Project Panel. Scope Project != null) { if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Record) 348 Version: 1.20.2 TE13xx

## Page 349

. NET API { scope Project Panel. Scope Project. Stop Record(); } if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Reply) { scope Project Panel. Scope Project. Disconnect(); } } } 6.2.5.6 Save configuration / recording There are two possibilities to save: • Saving the recorded data in a .svdx file • Creating a configuration file (.tcscopex) The difference is that the .svdx file can be opened in any Twin CAT 3 Scope View, in order to display the measured data. The .tcscopex file, on the other hand, only contains the configuration, without measured data. It can be used to start new recordings, as required. private void btn Save_Click(object sender, Event Args e) { try { //save data and configuration if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Reply) { File. Create("Export Data.svdx"). Close(); scope Project Panel. Scope Project. Save Data("Export Data.svdx"); } //just save the configuration else { File. Create(filename). Close(); scope Project Panel. Scope Project. Save To File(filename); } } catch (Exception err) { Message Box. Show(this, err. Message, "Error on save!",Message Box Buttons. OK, Message Box Icon. Error); } } 6.2.5.7 Controlling a chart So that the toolbar and the time bar do not have to be shown permanently in the integration, it is possible to control the functions directly via the chart objects. Since these functions can only be used in recording mode, the system checks whether signals are currently being recorded. This can be started with the Start Display method of the chart. The display can be paused with the Stop Display method. The recording continues in the background. This is apparent if the Overview chart is active, for example. Before the chart is deleted, the system checks whether a chart is open in the display. It then checks whether recording is active. If this is the case, the current recording is stopped. Using the Disconnect method the graph can be deleted from the chart and the chart can then be deleted from the project using the Remove Member method. private void btn Run_Click(object sender, Event Args e) { if (scope Project Panel. Scope Project. Scope State != Twin CAT. Measurement. Scope. API. Scope View State. Record) { Message Box. Show(this, "Only possible if a record is running!", "Run not possible!",Message Box Buttons. OK, Message Box Icon. Exclamation); } if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Record) scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). First(). Start Display(); TE13xx Version: 1.20.2 349

## Page 350

. NET API } private void btn Pause_Click(object sender, Event Args e) { if (scope Project Panel. Scope Project. Scope State != Twin CAT. Measurement. Scope. API. Scope View State. Record) { Message Box. Show(this, "Only possible if a record is running!", "Pause not possible!",Message Box Buttons. OK, Message Box Icon. Exclamation); } if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Record) scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). First(). Stop Display(); } private void btn Del Chart_Click(object sender, Event Args e) { if (scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). Count() == 0) { Message Box. Show(this, "No chart is connected!", "Nothing to delete!",Message Box Buttons. OK, Message Box Icon. Exclamation); } else if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Record) { scope Project Panel. Scope Project. Stop Record(); scope Project Panel. Scope Project. Disconnect(false); } else if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Reply) { scope Project Panel. Scope Project. Disconnect(false); } else { scope Project Panel. Scope Project. Remove Member(scope Project Panel. Scope Project. Sub Member. Of Type<Char t>(). First()); } } 6.2.6 Sample Digital Chart The application shown in the sample below serves to illustrate the main aspects of Scope View Control. First, a new Windows Forms application is created. Use the toolbox to add a toolbar and the buttons shown above to the form. By double clicking, a click event handler can be created for each button, which is filled with the sample code below. Subsequently, a Scope Project Panel (as in this sample) or a Chart Panel is added to the form and the "Dock" property" is set to "Fill". 350 Version: 1.20.2 TE13xx

## Page 351

. NET API The sample developed here is available as a VS project: https://infosys.beckhoff.com/content/1033/ TE13xx_TC3_Scope View/Resources/7138570379.zip The sample accesses variables of the sample PLC program: https://infosys.beckhoff.com/content/1033/ TE13xx_TC3_Scope View/Resources/2282225419.zip 6.2.6.1 Loading the configuration The project, which is now executable, shows a gray surface at the start, since no configuration has been loaded or created. A configuration can either be created programmatically, or a file created with the Twin CAT Scope can be loaded. In this case, clicking on the Load button loads an existing configuration from a file. The C# code sample shows the call from a "Button Click Event Handler": private string filename = @"Scope Test Chart.tcscopex"; private void btn Load_Click(object sender, Event Args e) { File Info f Info = new File Info(filename); if (!f Info. Exists) { Message Box. Show("File not found! Please use the Add Chart button to create a config! Once a config is created and saved it can be load using the Load button!", "File not found", Message Box Buttons. OK, Message Box Icon. Exclamation); } else { //delete old configuration scope Project Panel. Scope Project. Dispose(); //load configuration Scope Project Project = Scope Project. Load Scope Project(filename); scope Project Panel. Scope Project = Project; } } TE13xx Version: 1.20.2 351

## Page 352

. NET API The use of a Scope Project Panel is shown in this sample. If only a chart is to be displayed, however, then the functionality is the same, the difference being that a Chart Panel has to be created on the interface instead of the Scope Project Panel. Apart from that the Chart Panel class possesses no Scope Project object, only a Chart object. Therefore, instead of this line: scope Project Panel. Scope Project = Project; the following code must be created: chart Panel. Model Chart = Project. Sub Member. Of Type<Chart>(). First(); 6.2.6.2 Adding elements All hierarchical elements that can be found in the Twin CAT Scope in the Solution Explorer can also be added in the code during the integration. A hierarchical element is structured in such a way that it possesses a "Sub Member" list, through which it is possible to iterate. Further objects can be added with "Add Member". If the new object is not added to an object located directly above it, then everything is re-created by the adding object until the object to be added can be integrated into the hierarchy. However, care must be taken that a YT chart is always created as the standard chart type. The fundamental hierarchy in the scope looks like this: Scope Project ╚╦ Data Pool ║╚ Acquisition ╠╦ Chart ║╚╦ Axis Group ║ ╠╦ Marker Container ║ ║╚ Marker ║ ╚╦ Channels ║ ╚ Acquisition Interpreter … further charts Charts: The chart is the environment in which the channel appears. The chart thus represents the base frame and must be created first. private void btn Add Chart_Click(object sender, Event Args e) { Digital Chart chart = new Digital Chart(); Chart Style chart Style = new Chart Style(); chart. Add Member(chart Style); scope Project Panel. Scope Project. Add Member(chart); } Axis groups: The Axis Group is responsible for the scaling of the subordinate channel. private void btn Add Axis_Click(object sender, Event Args e) { Axis Group axis Group = new Axis Group(); if (scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). Count() == 0) { Message Box. Show(this, "Please create a chart first!", "No chart connected!", Message Box Buttons. OK, Message Box Icon. Exclamation); } else { scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). Last(). Add Member(axis Group); } } 352 Version: 1.20.2 TE13xx

## Page 353

. NET API private void btn Add Channel_Click(object sender, Event Args e) { Channel channel = new Channel(); if (scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). Count() == 0) { Message Box. Show(this, "Please create a chart first!", "No chart connected!", Message Box Buttons. OK, Message Box Icon. Exclamation); } else if (scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). Last(). Sub Member. Of Type<Axis Group>(). Count () == 0) { Message Box. Show(this, "Please create a axis first!", "No axis connected!", Message Box Buttons. OK, Message Box Icon. Exclamation); } else { scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). Last(). Sub Member. Of Type<Axis Group>(). La st(). Add Member(channel); Change Channel Settings(channel); Set Acquisitions(channel); } } Channels: The channel contains all the information on the data that are recorded in the Scope and is attached under the axis group in which these values are to be shown. 6.2.6.3 Adapting the styles Each of the elements created has "Style" objects as a sub-member, containing all the properties that can also be seen in the corresponding properties window in Visual Studio. The color and the number of digits, for example, can be set in the style classes of a channel. private void Change Channel Settings(Channel channel) { Digital Style digital Style = channel. Sub Member. Of Type<Channel Style>(). Last(). Sub Member. Of Type<Digital Style>(). Last(); digital Style. Background Color = Color. Light Gray; digital Style. Precision = 5; } Overview of the various style hierarchies. The subordinate classes are always located in the Sub Member lists of the superordinate class. Chart • Chart Style (general style properties for a chart) Channel • Channel Style (general style properties of a channel) ◦ Digital Style (contains special settings for the digital chart) 6.2.6.4 Adaptation of the acquisition data The acquisition class of a channel describes the connection between the scope and the respective value of the machine controller. Therefore, for example, the name and size of a variable are expected at this point. The acquisition object is hierarchically positioned below an Acquisition Interpreter, which possesses further variable-independent information. Furthermore, the Acquisition Interpreter is a member of a channel and, depending on the chart type, a channel may contain several Acquisition Interpreters for the various axes. An acquisition can be appended directly to a channel as in the sample and the interpreter is automatically generated. private void Set Acquisitions(Channel channel) { Ads Acquisition acquisition = new Ads Acquisition(); acquisition. Ams Net Id Exchange = "localhost"; acquisition. Target Port = 851; acquisition. Symbol Based = true; acquisition. Symbol Name = "Variables.f Sawtooth"; TE13xx Version: 1.20.2 353

## Page 354

. NET API acquisition. Data Type = Scope2Data Type. REAL64; acquisition. Sample Time = (uint)(1 * Time Span. Ticks Per Millisecond); Acquisition Interpreter Acquisition Interpreter = new Acquisition Interpreter(); Acquisition Interpreter. Acquisition = acquisition; channel. Add Member(Acquisition Interpreter); } 6.2.6.5 Controlling the recording Recording settings or methods of starting and stopping the recording and also saving the values are contained in the Scope Project class, which was already created in the first step. In order to start a recording you should first check whether data still exist. If so they can be deleted with Disconnect. After that the recording can be started in the Scope Project with the "Start Record" method. private void btn Start_Click(object sender, Event Args e) { try { //discard old data if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Reply) scope Project Panel. Scope Project. Disconnect(false); //start record if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Config) scope Project Panel. Scope Project. Start Record(); } catch (Exception err) { Message Box. Show(this, err. Message, "Error on start record!",Message Box Buttons. OK, Message Box Icon. Error); } } To stop a recording the "Stop Record" method is called on the Scope Project. Before executing this method it is also possible to check whether a recording is running. If this is the case the Scope State in the Scope Project will indicate Record. private void btn Stop_Click(object sender, Event Args e) { try { if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Record) { scope Project Panel. Scope Project. Stop Record(); } } catch (Exception err) { Message Box. Show(this, err. Message, "Error on stop record!",Message Box Buttons. OK, Message Box Icon. Error); } } Before closing the application, a running recording should be stopped first and the application should be cleanly disconnected from the Scope server. private void Form1_Form Closing(object sender, Form Closing Event Args e) { if (scope Project Panel != null && scope Project Panel. Scope Project != null) { if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Record) { scope Project Panel. Scope Project. Stop Record(); } if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Reply) { scope Project Panel. Scope Project. Disconnect(); } } } 354 Version: 1.20.2 TE13xx

## Page 355

. NET API 6.2.6.6 Save configuration / recording There are two possibilities to save: • Saving the recorded data in a .svdx file • Creating a configuration file (.tcscopex) The difference is that the .svdx file can be opened in any Twin CAT 3 Scope View, in order to display the measured data. The .tcscopex file, on the other hand, only contains the configuration, without measured data. It can be used to start new recordings, as required. private void btn Save_Click(object sender, Event Args e) { try { //save data and configuration if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Reply) { File. Create("Export Data.svdx"). Close(); scope Project Panel. Scope Project. Save Data("Export Data.svdx"); } //just save the configuration else { File. Create(filename). Close(); scope Project Panel. Scope Project. Save To File(filename); } } catch (Exception err) { Message Box. Show(this, err. Message, "Error on save!",Message Box Buttons. OK, Message Box Icon. Error); } } 6.2.6.7 Controlling a chart So that the toolbar and the time bar do not have to be shown permanently in the integration, it is possible to control the functions directly via the chart objects. Since these functions can only be used in recording mode, the system checks whether signals are currently being recorded. This can be started with the Start Display method of the chart. The display can be paused with the Stop Display method. The recording continues in the background. This is apparent if the Overview chart is active, for example. Before the chart is deleted, the system checks whether a chart is open in the display. It then checks whether recording is active. If this is the case, the current recording is stopped. Using the Disconnect method the graph can be deleted from the chart and the chart can then be deleted from the project using the Remove Member method. private void btn Run_Click(object sender, Event Args e) { if (scope Project Panel. Scope Project. Scope State != Twin CAT. Measurement. Scope. API. Scope View State. Record) { Message Box. Show(this, "Only possible if a record is running!", "Run not possible!",Message Box Buttons. OK, Message Box Icon. Exclamation); } if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Record) scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). First(). Start Display(); } private void btn Pause_Click(object sender, Event Args e) { if (scope Project Panel. Scope Project. Scope State != Twin CAT. Measurement. Scope. API. Scope View State. Record) { Message Box. Show(this, "Only possible if a record is running!", "Pause not possible!",Message Box Buttons. OK, Message Box Icon. Exclamation); } if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Record) scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). First(). Stop Display(); TE13xx Version: 1.20.2 355

## Page 356

. NET API } private void btn Del Chart_Click(object sender, Event Args e) { if (scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). Count() == 0) { Message Box. Show(this, "No chart is connected!", "Nothing to delete!",Message Box Buttons. OK, Message Box Icon. Exclamation); } else if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Record) { scope Project Panel. Scope Project. Stop Record(); scope Project Panel. Scope Project. Disconnect(false); } else if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Reply) { scope Project Panel. Scope Project. Disconnect(false); } else { scope Project Panel. Scope Project. Remove Member(scope Project Panel. Scope Project. Sub Member. Of Type<Char t>(). First()); } } 6.2.7 Sample Scope Export The following sample shows how a Scope file is exported in a different data type. This sample is based on the programming language C# in a Windows Forms project. The interface for this sample consists of two text boxes for entering the paths and a button for starting the export. The sample developed here is available as a VS project: https://infosys.beckhoff.com/content/1033/ TE13xx_TC3_Scope View/Resources/6515669131.zip The variables refer to the Twin CAT program behind the following file: https://infosys.beckhoff.com/content/ 1033/TE13xx_TC3_Scope View/Resources/2282225419.zip 6.2.7.1 Export First, the content of the respective text box is assigned to the variables svd File and destination. The system then checks whether the user has entered both paths correctly. After that the configuration file (.svdx file) is loaded into a Scope Project. Once the configuration has been loaded, the path via which the new file is to be saved is checked. If the path is reachable, a window is transferred to the Show Progress property that displays the status of the export and the export can then be started with the Export method. private void btn Export_Click(object sender, Event Args e) { Scope Project scope Project = new Scope Project(); string svdx File = text Box_SVDX. Text; string destination = @text Box_Export. Text; try 356 Version: 1.20.2 TE13xx

## Page 357

. NET API { //Checking the existence of the path if (destination == null) { destination = Environment. Current Directory; } else if (string. Is Null Or Empty(svdx File) || ! File. Exists(svdx File)) { Message Box. Show("SVDX File could not be found!", "SVDX Error", Message Box Buttons. OK, Mes sage Box Icon. Exclamation); } else { scope Project. Set From File(svdx File); } if (string. Is Null Or Empty(destination)) { Message Box. Show("No destination file defined!", "Destination Error", Message Box Buttons. O K, Message Box Icon. Exclamation); } else { try { //search the method with the right export scope Project. Show Progress = (string header, Twin CAT. Scope2. Tools. Progress Box. Work Del egate work) => { return Twin CAT. Scope2. Tools. Progress Box. Show(this, header, 100, work) == Dialog Resu lt. OK; }; scope Project. Export(destination); } catch (Exception) { System. Diagnostics. Debug. Write("Could not save file"); } } //Disconnect the .svdx File scope Project. Disconnect(true); scope Project. Dispose(); } catch (Exception ex) { Console. Write(ex. To String()); Console. Read Line(); scope Project. Disconnect(true); } } 6.2.8 Sample Array Marker The use of markers in a Scope Project using an array bar chart is explained below. In this sample the programming language C# is used. TE13xx Version: 1.20.2 357

## Page 358

. NET API First, a Windows Forms application is created. Use the toolbox to add a toolbar and the buttons shown above to the form. A Chart Panel is subsequently inserted and the "Dock" property is set to "Fill" so that the graph completely fills the window. Apart from that the marker values are to be illustrated in tables. To do this, two Data Grid View elements must be added to the form. The two columns "Y-marker" and "Position" have to be added to the Data Grid View on the right. To do this, click on Browse in the "Columns" row in the Properties window to open the dialog Edit Columns. You can then use Add to create new columns. The header text corresponds to the displayed column header. The code behind the Load and Create Configuration buttons largely corresponds to the code from the sample of the array bar chart. All you have to do is create an additional column for the channel in Data Grid View. private string filename = @"..\..\Scope Test YTMarker.tcscopex"; Scope Project scope Project = new Scope Project(); Axis Group axis Group { get { if (scope Project. Sub Member. Of Type<Chart>(). Count() == 0) return null; return scope Project. Sub Member. Of Type<Chart>(). First(). Sub Member. Of Type<Axis Group>(). First(); } } private void btn Load_Click(object sender, Event Args e) { File Info f Info = new File Info(filename); if (!f Info. Exists) { Message Box. Show("File not found! Please use the Add Chart button to create a config! Once a config is created and saved it can be load using the Load button!", "File not found", Message Box Buttons. OK, Message Box Icon. Exclamation); } else { //delete old configuration scope Project. Dispose(); //load new configuration 358 Version: 1.20.2 TE13xx

## Page 359

. NET API scope Project = Scope Project. Load Scope Project(filename); } chart Panel. Model Chart = scope Project. Sub Member. Of Type<Chart>(). First(); } Create Configuration is a combination of the familiar buttons Add Chart, Add Axis and Add Channel. private void btn Create Configuration_Click(object sender, Event Args e) { //Add Chart Array Bar Chart chart = new Array Bar Chart(); scope Project. Add Member(chart); //Add Axis Axis Group axis Group = new Axis Group(); chart. Add Member(axis Group); //Add Channel Channel channel = new Channel(); axis Group. Add Member(channel); Set Acquisitions(channel); Ads Acquisition acquisition = (Ads Acquisition)channel. Sub Member. Of Type<Acquisition Interpreter>(). First(). Acquisition; data Grid View1. Columns. Add(acquisition. Symbol Name, acquisition. Symbol Name); chart Panel. Model Chart = chart; } private void Set Acquisitions(Channel channel) { Ads Acquisition acq = new Ads Acquisition(); acq. Ams Net Id = Ams Net Id. Local; acq. Target Port = 851; acq. Is Symbol Based = true; acq. Symbol Name = "Variables.a Normal Distribution"; acq. Data Type = Data Type Converter. Ads To Scope2Datatype(Ads Datatype Id. ADST_INT16); acq. Sample Time = (uint)(100 * Time Span. Ticks Per Millisecond); acq. Array Length = 2000; acq. Oversample = 2000; Acquisition Interpreter acquisition Interpreter = new Acquisition Interpreter(); acquisition Interpreter. Acquisition = acq; channel. Add Member(acquisition Interpreter); } The sample developed here is available as a VS project: https://infosys.beckhoff.com/content/1033/ TE13xx_TC3_Scope View/Resources/6515667467.zip The variables refer to the Twin CAT program behind the following file: https://infosys.beckhoff.com/content/ 1033/TE13xx_TC3_Scope View/Resources/2282225419.zip 6.2.8.1 Adding markers The markers of a chart are located as Sub Members under the respective axes. In order to add a marker, an object of the Marker class is instanced and the axis is added using the "Add Member" method. After creating the marker, method events are added in order to update the tables on the interface. The new cursor, including its color, is then added in the table. Furthermore, the Marker_New Marker Values method is called in order to update the values in the table. The created marker is always inserted at position '0' by default. In order for the marker to appear in the visible axis area, the currently visible area can be queried at the associated axis in order to be able to calculate the position of the marker. The currently visible range can be queried with the delegate "Get Display Range". The two transferred parameters return the minimum and maximum value of the visible axis after the call. private void btn Add XMarker_Click(object sender, Event Args e) { try { Marker marker = new Marker(); marker. Position = 0; marker. Orientation = Twin CAT. Measurement. Scope. API. Cursor Alignment. Vertical; marker. Locked = false; TE13xx Version: 1.20.2 359

## Page 360

. NET API axis Group. Sub Member. Of Type<Marker Container>(). First(). Add Member(marker); marker. New Marker Values += Marker_New Marker Values; marker. Position Changed += XMarker_Position Changed; data Grid View1. Rows. Insert(axis Group. Sub Member. Of Type<Marker Container>(). First(). Sub Member. Of Type<Marker>(). Where(x => x. Orientation == Twin CAT. Measurement. Scope. API. Cursor Alignment. Vertical). C ount() - 1, marker. Position, marker. Title); data Grid View1. Rows[axis Group. Sub Member. Of Type<Marker Container>(). First(). Sub Member. Of Type<Ma rker>(). Where(x => x. Orientation == Twin CAT. Measurement. Scope. API. Cursor Alignment. Vertical). Count() - 1]. Cells[1]. Style. Fore Color = marker. Display Color; Index Axis index Axis = axis Group. First Or Default<Index Axis>(); if(index Axis != null && index Axis. Get Display Range != null) { index Axis. Get Display Range. Invoke(out double min, out double max); marker. Position = min + ((max - min) / 2); } Marker_New Marker Values(marker, null); } catch (Exception) { } } private void btn Add YMarker_Click(object sender, Event Args e) { try { Marker marker = new Marker(); marker. Orientation = Twin CAT. Measurement. Scope. API. Cursor Alignment. Horizontal; marker. Locked = false; axis Group. Sub Member. Of Type<Marker Container>(). First(). Add Member(marker); marker. Position Changed += YMarker_Position Changed; data Grid View2. Rows. Insert(axis Group. Sub Member. Of Type<Marker Container>(). First(). Sub Member. Of Type<Marker>(). Where(x => x. Orientation == Twin CAT. Measurement. Scope. API. Cursor Alignment. Horizontal) . Count() - 1, marker. Title, marker. Position); data Grid View2. Rows[axis Group. Sub Member. Of Type<Marker Container>(). First(). Sub Member. Of Type<Ma rker>(). Where(x => x. Orientation == Twin CAT. Measurement. Scope. API. Cursor Alignment. Horizontal). Count( ) - 1]. Default Cell Style. Fore Color = marker. Display Color; Value Axis value Axis = axis Group. First Or Default<Value Axis>(); if(value Axis != null && value Axis. Get Display Range != null) { value Axis. Get Display Range. Invoke(out double min, out double max); marker. Position = min + ((max - min) / 2); } } catch (Exception) { } } 6.2.8.2 Deleting markers The markers located in the axis can be removed again using the Remove Member method. In this sample the marker currently selected in the Data Grid is deleted. To do this the marker is first deleted from the axis, after which the row is deleted from the table. private void btn Delete XMarker_Click(object sender, Event Args e) { try { Marker Container ia = axis Group. Sub Member. Of Type<Marker Container>(). First(); ia. Remove Member(ia. Sub Member. Of Type<Marker>(). Where(x => x. Orientation == Twin CAT. Measuremen t. Scope. API. Cursor Alignment. Vertical). To Array()[data Grid View1. Selected Cells[0]. Row Index]); data Grid View1. Rows. Remove At(data Grid View1. Selected Cells[0]. Row Index); } catch (Exception) { } } private void btn Delete YMarker_Click(object sender, Event Args e) { try { Marker Container va = axis Group. Sub Member. Of Type<Marker Container>(). First(); va. Remove Member(va. Sub Member. Of Type<Marker>(). Where(x => x. Orientation == Twin CAT. Measuremen t. Scope. API. Cursor Alignment. Horizontal). To Array()[data Grid View2. Selected Cells[0]. Row Index]); data Grid View2. Rows. Remove At(data Grid View2. Selected Cells[0]. Row Index); } catch (Exception) { } } 360 Version: 1.20.2 TE13xx

## Page 361

. NET API The selection in the Data Grid View can also be controlled by clicking on the marker in the chart. To this end an Event Handler is registered to the member_Clicked event of the Chart Panel or Scope Project Panel. The selected model is handed over there so that it can continue to be used. In the sample the matching index is sought in order to select the rows in the grid. private void Chart Panel_Member_Clicked(object sender, Twin CAT. Measurement. Project Base. Measurement Mem ber Base e) { foreach(Axis Group ag in chart Panel. Model Chart. Sub Member. Of Type<Axis Group>()) { foreach(Marker Container mc in ag. Sub Member. Of Type<Marker Container>()) { if (mc. Sub Member. Contains(e)) { switch (((Marker)e). Orientation) { case Twin CAT. Measurement. Scope. API. Cursor Alignment. Vertical: data Grid View1. Clear Selection(); data Grid View1[1, mc. Sub Member. Of Type<Marker>(). Where(x => x. Orientation == T win CAT. Measurement. Scope. API. Cursor Alignment. Vertical). To List(). Index Of(e as Marker)]. Selected = tru e; break; case Twin CAT. Measurement. Scope. API. Cursor Alignment. Horizontal: data Grid View2. Clear Selection(); data Grid View2[0, mc. Sub Member. Of Type<Marker>(). Where(x => x. Orientation == T win CAT. Measurement. Scope. API. Cursor Alignment. Horizontal). To List(). Index Of(e as Marker)]. Selected = t rue; break; default: break; } } } } } 6.2.8.3 Update values The following methods are available for updating the values in the tables: Marker_New Marker Values (updates the new channel values of the XMarker), XMarker_Position Changes (updates the position value of the Marker) and YMarker_Position Changed (updates the position value of the Marker). Since these methods are called through events, the respective marker is sent as a parameter. This allows this marker to be found in the table first, so that the values can then be modified. private void XMarker_Position Changed(object sender, Event Args e) { Marker tmp Marker = (Marker)sender; //set new channel value for (int k = 0; k < axis Group. Sub Member. Of Type<Marker Container>(). First(). Sub Member. Of Type<Marke r>(). Count(); k++) { if (axis Group. Sub Member. Of Type<Marker Container>(). First(). Sub Member. Of Type<Marker>(). Where(x => x. Orientation == Twin CAT. Measurement. Scope. API. Cursor Alignment. Vertical). To Array() [k] == tmp Marker) { data Grid View1[0, k]. Value = tmp Marker. Position; break; } } } private void YMarker_Position Changed(object sender, Event Args e) { Marker tmp Marker = (Marker)sender; for(int k = 0; k< axis Group. Sub Member. Of Type<Marker Container>(). First(). Sub Member. Of Type<Marker> (). Count(); k++) { if(axis Group. Sub Member. Of Type<Marker Container>(). First(). Sub Member. Of Type<Marker>(). Where(x => x. Orientation == Twin CAT. Measurement. Scope. API. Cursor Alignment. Horizontal). To Array() [k] == tmp Marker) { data Grid View2[1, k]. Value = tmp Marker. Position; break; } TE13xx Version: 1.20.2 361

## Page 362

. NET API } } private void Marker_New Marker Values(object sender, Event Args e) { try { Marker tmp Marker = (Marker)sender; //set new channel value for (int k = 0; k < axis Group. Sub Member. Of Type<Marker Container>(). First(). Sub Member. Of Type<Marker>(). Count(); k++) { if (axis Group. Sub Member. Of Type<Marker Container>(). First(). Sub Member. Of Type<Marker>(). To Array()[k] == tmp Marker) { var dict = tmp Marker. Get All Values(); for (int j = 0; j < dict. Count; j++) { data Grid View1[j + 2, k]. Value = dict. Element At(j). Value; } break; } } } catch (Exception) { } } 6.2.8.4 Controlling markers by keyboard When moving the markers by means of keyboard input, the marked marker is always moved. This is also selected on the interface. The Key Down event of the form is used to move the marker. This event is always triggered when a key is pressed. The value of the pressed key is located under the "Key Code" parameter under the parameters of the type "Key Event Args". This value can be compared with the expected values. In this case the marker should be moved using the [D], [A], [W] and [S] keys. The "Position" property is changed in order to shift the marker. private void Form1_Key Down(object sender, Key Event Args e) { if (e. Key Code == Keys. D) { try { axis Group. Sub Member. Of Type<Marker Container>(). First(). Sub Member. Of Type<Marker>(). To Array ()[data Grid View1. Selected Cells[0]. Row Index]. Position += 1; } catch (Exception) { Message Box. Show("There is no X-Axis to move!"); } } else if (e. Key Code == Keys. A) { try { axis Group. Sub Member. Of Type<Marker Container>(). First(). Sub Member. Of Type<Marker>(). To Array ()[data Grid View1. Selected Cells[0]. Row Index]. Position -= 1; } catch (Exception) { Message Box. Show("There is no X-Axis to move!"); } } else if (e. Key Code == Keys. W) { try { axis Group. Sub Member. Of Type<Marker Container>(). First(). Sub Member. Of Type<Marker>(). To Array ()[data Grid View1. Selected Cells[0]. Row Index]. Position += 0.1; } catch (Exception) { Message Box. Show("There is no Y-Axis to move!"); } 362 Version: 1.20.2 TE13xx

## Page 363

. NET API } else if (e. Key Code == Keys. S) { try { axis Group. Sub Member. Of Type<Marker Container>(). First(). Sub Member. Of Type<Marker>(). To Array ()[data Grid View1. Selected Cells[0]. Row Index]. Position -= 0.1; } catch (Exception) { Message Box. Show("There is no Y-Axis to move!"); } } } 6.2.9 Sample Chart Snipping Tool The following explains how to use the Chart Snipping Tool within the Scope Control Integration. In this sample the programming language C# is used. The button for the snipping tool triggers the event Copy To Clipboard of the class Twin CAT. Measurement. Scope. API. Model. Chart and provides the required parameters for further processing. Subsequently, the static method Twin CAT. Measurement. Reporting. Model. Reporting Project. Show Reporting Project(EVENT_PARAMATER, BACKGROUND_COLOR, SCOPE_PROJECT); can be called with the corresponding parameters. The snipping tool is then called and displays the chart that triggered the event in the configuration interface. For more information on using the snipping tool, see the article Chart Snipping Tool [} 274]. For use without the toolbar button, you can configure the necessary parameters yourself. This requires the creation of instances of the class Twin CAT. Measurement. Scope. API. Copy Clipboard Startup Args which must provide the respective chart, the size as rectangle, and the axis scaling as parameters. The call is then made via the same static method as the call via the click event. 6.2.10 Sample XYZ-Chart The application shown in the sample below serves to illustrate the main aspects of Scope View Control. First, a new Windows Forms application is created. Use the toolbox to add a toolbar and the buttons shown above to the form. By double clicking, a click event handler can be created for each button, which is filled with the sample code below. Subsequently, a Scope Project Panel (as in this sample) or a Chart Panel is added to the form and the "Dock" property" is set to "Fill". TE13xx Version: 1.20.2 363

## Page 364

. NET API The sample developed here is available as a VS project: https://infosys.beckhoff.com/content/1033/ TE13xx_TC3_Scope View/Resources/15286702603.zip The sample accesses variables of the sample PLC program: https://infosys.beckhoff.com/content/1033/ TE13xx_TC3_Scope View/Resources/2282225419.zip 6.2.10.1 Loading the configuration The project, which is now executable, shows a gray surface at the start, since no configuration has been loaded or created. A configuration can either be created programmatically, or a file created with the Twin CAT Scope can be loaded. In this case, clicking on the Load button loads an existing configuration from a file. The C# code sample shows the call from a "Button Click Event Handler": private string filename = @"Scope Test Chart.tcscopex"; private void btn Load_Click(object sender, Event Args e) { File Info f Info = new File Info(filename); if (!f Info. Exists) { Message Box. Show("File not found! Please use the Add Chart button to create a config! Once a config is created and saved it can be load using the Load button!", "File not found", Message Box Buttons. OK, Message Box Icon. Exclamation); } else { //delete old configuration scope Project Panel. Scope Project. Dispose(); //load configuration Scope Project Project = Scope Project. Load Scope Project(filename); scope Project Panel. Scope Project = Project; } } The use of a Scope Project Panel is shown in this sample. If only a chart is to be displayed, however, then the functionality is the same, the difference being that a Chart Panel has to be created on the interface instead of the Scope Project Panel. Apart from that the Chart Panel class possesses no Scope Project object, only a Chart object. Therefore, instead of this line: scope Project Panel. Scope Project = Project; 364 Version: 1.20.2 TE13xx

## Page 365

. NET API the following code must be created: chart Panel. Model Chart = Project. Sub Member. Of Type<Chart>(). First(); 6.2.10.2 Adding elements All hierarchical elements that can be found in the Twin CAT Scope in the Solution Explorer can also be added in the code during the integration. A hierarchical element is structured in such a way that it possesses a "Sub Member" list, through which it is possible to iterate. Further objects can be added with "Add Member". If the new object is not added to an object located directly above it, then everything is re-created by the adding object until the object to be added can be integrated into the hierarchy. However, care must be taken that a YT chart is always created as the standard chart type. The fundamental hierarchy in the scope looks like this: Scope Project ╚╦ Data Pool ║╚ Acquisition ╠╦ Chart ║╚╦ Axis Group ║ ╠╦ Marker Container ║ ║╚ Marker ║ ╠╦ Axes ║ ╚╦ Channels ║ ╚ Acquisition Interpreter … further charts Charts: The chart is the environment, in which the graph with the coordinate system appears. The chart thus represents the base frame and must be created first. private void btn Add Chart_Click(object sender, Event Args e) { XYZChart chart = new XYZChart(); Chart Style chart Style = new Chart Style(); chart Style. Tool Tip Enabled = true; chart. Add Member(chart Style); scope Project Panel. Scope Project. Add Member(chart); } Axes: The Axis Group contains firstly the axes, which ensure the correct scaling of the values, and secondly the channels that are displayed in the chart. If the Axis Group is now added to the chart, the axis objects are created automatically. private void btn Add Axis_Click(object sender, Event Args e) { if (scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). Count() == 0) { Message Box. Show(this, "Please create a chart first!", "No chart connected!", Message Box Buttons. OK, Message Box Icon. Exclamation); } else { scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). First(). Add Member(new Axis Group()); } } TE13xx Version: 1.20.2 365

## Page 366

. NET API Channels: The channel contains all the information on the data that are recorded in the Scope and is attached under the axis group in which these values are to be shown. private void btn Add Channel_Click(object sender, Event Args e) { Channel channel = new Channel(); if (scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). Count() == 0) { Message Box. Show(this, "Please create a chart first!", "No chart connected!", Message Box Buttons. OK, Message Box Icon. Exclamation); } else if (scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). First(). Sub Member. Of Type<Axis Group>(). Coun t() == 0) { Message Box. Show(this, "Please create a axis first!", "No axis connected!", Message Box Buttons. OK, Message Box Icon. Exclamation); } else { scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). First(). Sub Member. Of Type<Axis Group>(). F irst(). Add Member(channel); Change Channel Settings(channel); Set Acquisitions(channel); } } 6.2.10.3 Adapting the styles Each of the elements created has "Style" properties as a sub-member, containing all the properties that can also be seen in the corresponding properties window in Visual Studio. For example, color and line width can be assigned in the style classes of a channel. private void Change Channel Settings(Channel channel) { Series Style style = channel. Sub Member. Of Type<Channel Style>(). First(). Sub Member. Of Type<Series Style>(). First(); style. Display Color = Color. Green; style. Mark Color = Color. Dark Green; style. Line Width = 2; } Overview of the various style hierarchies. The subordinate classes are always located in the Sub Member lists of the superordinate class. Chart • Chart Style (general style properties for a chart) ◦ Chart Zoom Style (configuration option specifying how a chart should react to zoom functions). Axis Group • Aspect Ratio Scaling Style (configuration option for uniform scaling between the axes) Axis • Axis Style (general style properties for the axis) Channel • Channel Style (general style properties of a channel) ◦ Cap Style (style properties of the Graphcaps) ◦ Min Max Style (visibility properties of the minimum and maximum values) ◦ Series Style (style properties of a graph) 6.2.10.4 Adaptation of the acquisition data The acquisition class of a channel describes the connection between the scope and the respective value of the machine controller. Therefore, for example, the name and size of a variable are expected at this point. 366 Version: 1.20.2 TE13xx

## Page 367

. NET API The acquisition object is hierarchically positioned below an Acquisition Interpreter, which possesses further variable-independent information. Furthermore, the Acquisition Interpreter is a member of a channel and, depending on the chart type, a channel may contain several Acquisition Interpreters for the various axes. An acquisition can be appended directly to a channel as in the sample and the interpreter is automatically generated. private void Set Acquisitions(Channel channel) private void Set Acquisitions(Channel channel) { Ads Acquisition x Acquisition = new Ads Acquisition(); x Acquisition. Ams Net Id Exchange =PLCNet ID; x Acquisition. Target Port = 851; x Acquisition. Symbol Based = true; x Acquisition. Symbol Name = "Variables.a Buffer Sine[1]"; x Acquisition. Data Type = Scope2Data Type. REAL64; x Acquisition. Sample Time = (uint)(1 * Time Span. Ticks Per Millisecond); Acquisition Interpreter x Acquisition Interpreter = new Acquisition Interpreter(); x Acquisition Interpreter. Acquisition = x Acquisition; channel. Add Member(x Acquisition); Ads Acquisition y Acquisition = new Ads Acquisition(); y Acquisition. Ams Net Id Exchange =PLCNet ID; y Acquisition. Target Port = 851; y Acquisition. Symbol Based = true; y Acquisition. Symbol Name = "Variables.a Buffer Sine[1]"; y Acquisition. Data Type = Scope2Data Type. REAL64; y Acquisition. Sample Time = (uint)(1 * Time Span. Ticks Per Millisecond); Acquisition Interpreter y Acquisition Interpreter = new Acquisition Interpreter(); y Acquisition Interpreter. Acquisition = y Acquisition; channel. Add Member(y Acquisition); Ads Acquisition z Acquisition = new Ads Acquisition(); z Acquisition. Ams Net Id Exchange =PLCNet ID; z Acquisition. Target Port = 851; z Acquisition. Symbol Based = true; z Acquisition. Symbol Name = "Variables.a Buffer Sine[1]"; z Acquisition. Data Type = Scope2Data Type. REAL64; z Acquisition. Sample Time = (uint)(1 * Time Span. Ticks Per Millisecond); Acquisition Interpreter z Acquisition Interpreter = new Acquisition Interpreter(); z Acquisition Interpreter. Acquisition = z Acquisition; channel. Add Member(z Acquisition); } 6.2.10.5 Adapting the recording Recording settings or methods of starting and stopping the recording and also saving the values are contained in the Scope Project class, which was already created in the first step. In order to start a recording you should first check whether data still exist. If so they can be deleted with Disconnect. After that the recording can be started in the Scope Project with the "Start Record" method. private void btn Start_Click(object sender, Event Args e) { try { //discard old data if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Reply) scope Project Panel. Scope Project. Disconnect(false); //start record if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Config) scope Project Panel. Scope Project. Start Record(); } catch (Exception err) { Message Box. Show(this, err. Message, "Error on start record!",Message Box Buttons. OK, Message Box Icon. Error); } } To stop a recording the "Stop Record" method is called on the Scope Project. Before executing this method it is also possible to check whether a recording is running. If this is the case the Scope State in the Scope Project will indicate Record. TE13xx Version: 1.20.2 367

## Page 368

. NET API private void btn Stop_Click(object sender, Event Args e) { try { if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Record) { scope Project Panel. Scope Project. Stop Record(); } } catch (Exception err) { Message Box. Show(this, err. Message, "Error on stop record!",Message Box Buttons. OK, Message Box Icon. Error); } } Before closing the application, a running recording should be stopped first and the application should be cleanly disconnected from the Scope server. private void Form1_Form Closing(object sender, Form Closing Event Args e) { if (scope Project Panel != null && scope Project Panel. Scope Project != null) { if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Record) { scope Project Panel. Scope Project. Stop Record(); } if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Reply) { scope Project Panel. Scope Project. Disconnect(); } } } 6.2.10.6 Save configuration / recording There are two possibilities to save: • Saving the recorded data in a .svdx file • Creating a configuration file (.tcscopex) The difference is that the .svdx file can be opened in any Twin CAT 3 Scope View, in order to display the measured data. The .tcscopex file, on the other hand, only contains the configuration, without measured data. It can be used to start new recordings, as required. private void btn Save_Click(object sender, Event Args e) { try { //save data and configuration if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Reply) { File. Create("Export Data.svdx"). Close(); scope Project Panel. Scope Project. Save Data("Export Data.svdx"); } //just save the configuration else { File. Create(filename). Close(); scope Project Panel. Scope Project. Save To File(filename); } } catch (Exception err) { Message Box. Show(this, err. Message, "Error on save!",Message Box Buttons. OK, Message Box Icon. Error); } } 368 Version: 1.20.2 TE13xx

## Page 369

. NET API 6.2.10.7 Controlling a chart So that the toolbar and the time bar do not have to be shown permanently in the integration, it is possible to control the functions directly via the chart objects. Since these functions can only be used in recording mode, the system checks whether signals are currently being recorded. This can be started with the Start Display method of the chart. The display can be paused with the Stop Display method. The recording continues in the background. This is apparent if the Overview chart is active, for example. Before the chart is deleted, the system checks whether a chart is open in the display. It then checks whether recording is active. If this is the case, the current recording is stopped. Using the Disconnect method the graph can be deleted from the chart and the chart can then be deleted from the project using the Remove Member method. private void btn Run_Click(object sender, Event Args e) { if (scope Project Panel. Scope Project. Scope State != Twin CAT. Measurement. Scope. API. Scope View State. Record) { Message Box. Show(this, "Only possible if a record is running!", "Run not possible!",Message Box Buttons. OK, Message Box Icon. Exclamation); } if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Record) scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). First(). Start Display(); } private void btn Pause_Click(object sender, Event Args e) { if (scope Project Panel. Scope Project. Scope State != Twin CAT. Measurement. Scope. API. Scope View State. Record) { Message Box. Show(this, "Only possible if a record is running!", "Pause not possible!",Message Box Buttons. OK, Message Box Icon. Exclamation); } if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Record) scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). First(). Stop Display(); } private void btn Del Chart_Click(object sender, Event Args e) { if (scope Project Panel. Scope Project. Sub Member. Of Type<Chart>(). Count() == 0) { Message Box. Show(this, "No chart is connected!", "Nothing to delete!",Message Box Buttons. OK, Message Box Icon. Exclamation); } else if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Record) { scope Project Panel. Scope Project. Stop Record(); scope Project Panel. Scope Project. Disconnect(false); } else if (scope Project Panel. Scope Project. Scope State == Twin CAT. Measurement. Scope. API. Scope View State. Reply) { scope Project Panel. Scope Project. Disconnect(false); } else { scope Project Panel. Scope Project. Remove Member(scope Project Panel. Scope Project. Sub Member. Of Type<Char t>(). First()); } } 6.3 API Documentation The attached class library offers an extensive source of information for developers who work with the technologies and services of Twin CAT Scope. Amongst other things, the library contains instructions and reference documents as well as sample codes. TE13xx Version: 1.20.2 369

## Page 370

. NET API In order to find the desired contents, navigate through the table of contents, use the search function or switch to one of the sections of the library with the aid of a quick link. For sample codes, switch in the left-hand area of the user interface to the Search tab and search for the keyword “examples”. In the search results you will find sample codes for the trigger modules, cursor and many more. See also: https://infosys.beckhoff.com/content/1033/TE13xx_TC3_Scope View/Resources/6519205387.zip 6.4 Integration in a WPF (Windows Presentation Foundation) project To use the Scope Project Panel within WPF applications, you need a Windows Forms Host as a basis, because the Scope Project Panel is a Windows Forms User Control element. 370 Version: 1.20.2 TE13xx

## Page 371

. NET API 1. Position a Windows Forms Host control from the toolbar in the user interface of the WPF application you created. 2. Initialize the Scope Project Panel as described in the Windows Forms examples and add the created Scope View Control to the Windows Forms Host. When using the Scope Project Panel within the WPF application, only the property “Scope Project Panel. Support WPFRefresh” has to be set. A sample implementation is shown below: namespace Wpf Application { /// /// Interaction logic for Main Window.xaml /// public partial class Main Window : Window { public Main Window() { Initialize Component(); Scope Project Panel scope Project Panel = new Scope Project Panel(); scope Project Panel. Scope Project = new Scope Project(); scope Project Panel. Support WPFRefresh = true; // Initialisierung des Scope View Control windows Forms Host1. Child = scope Project Panel; } } } TE13xx Version: 1.20.2 371

## Page 372

Samples 7 Samples 7.1 Creating and editing a Scope project To enable fast familiarization and to simplify working with the Twin CAT 3 Scope software oscilloscope, important information is summarized and the first steps briefly described on the following pages. 1. Installation A Scope Server is always installed with a Scope View, since otherwise no saved data can be displayed locally in the View. In contrast, the Scope component installation can install the Scope Server without Scope View on a target device. 2. Licensing Regardless of whether you have installed the Scope View via its own setup or via the Twin CAT 3 XAE setup, the "base" licenses are initially activated for Scope View and Server. Please refer to the Overview [} 8] to see which functions can be enabled with which license key. 3. Creating a new project The Measurement Wizard supports you in the creation and configuration of a user-defined Measurement Scope project by guiding you automatically through the necessary steps on the basis of successive dialogs. You can also create your scope project in the conventional way without the Measurement Wizard, see Twin CAT Target Browser [} 166]. 1. Open Beckhoff > Twin CAT XAEShell in the Windows Start menu. ð The Visual Studio opens in its shell or in a full version if installed. Start the Measurement Wizard 1. On the Start page, select a Twin CAT measurement project (for example YT Scope Project). 2. Select the Measurement Wizard in the following dialog box. 3. Enter the name and memory location of your project and confirm your entries with OK. 372 Version: 1.20.2 TE13xx

## Page 373

Samples ð The Measurement Wizard for TC3 Scope View, Filter Designer and TC3 Bode Plot opens. Select program variant 1. Select a TC3 Scope View. TE13xx Version: 1.20.2 373

## Page 374

Samples ð You can make coordinated settings in the following dialog box. 374 Version: 1.20.2 TE13xx

## Page 375

Samples Define the starting point and select the target system 1. Click the Variables button. ð With this option you initially select the variables that are to be recorded and graphically displayed. 2. Select the target system and the corresponding ADS port. 3. Click the Next button. TE13xx Version: 1.20.2 375

## Page 376

Samples 4. In the following dialog box, select the variables that are to be recorded and graphically displayed. 376 Version: 1.20.2 TE13xx

## Page 377

Samples ð You have various options in this area: • Navigate through the menu. • Enter a variable name in the text box for filtering. • Enter a different scaling factor and an offset. • Enter a warning level and an alert level. With these values you configure the dynamic style function for these variables. From the warning value the graph is drawn in yellow and from the alert in red. • Click on Next. TE13xx Version: 1.20.2 377

## Page 378

Samples Adding a chart and configuring axes 1. Select the chart type. ð You can only select chart types that match your variable selection. By way of example, here is a YT chart. 2. Add further axes if necessary. ð Configure further axes in accordance with the menu navigation and assign variables to them. You can go back and undo/change the selection via Back. 378 Version: 1.20.2 TE13xx

## Page 379

Samples 3. Finally, click the Create button. ð In the Solution Explorer the starting point for the new Scope configuration assembles itself automatically. Defining the settings Prior to a recording, the basic settings for the recording must be defined in the scope properties. 1. Select the respective element in the Solution Explorer. ð If the Properties window has not yet opened automatically: open it using the Properties command in the View menu. TE13xx Version: 1.20.2 379

## Page 380

Samples Standard is a ten-minute recording which is started manually and automatically stopped after the respective time. In the standard Properties window you can make settings for: • All hierarchical levels of the scope, • chart, • axis, • channel, • trigger and • marker. Starting and ending the recording ü When using for the first time, the Twin CAT Measurement toolbar must be activated in the menu View > Toolbars. 1. Click the icon with the red record symbol to start the recording. 2. Click the icon with the blue symbol to end the recording. ð The standard recording time is 10 minutes. 380 Version: 1.20.2 TE13xx

## Page 381

Samples Pausing the recording in the view 1. Click the pause icon in the chart. ð The graph is paused – only for viewing – in the display. While you pause the view in the chart using the pause icon, the recording continues to run in the background. You can pause the display in this way in order to zoom into the data or to analyze the signal curve. Changing the display In order to improve the display of the channels in the View, charts and axes can be added even during the recording in Twin CAT 3 Scope View and channels can be shifted within the Scope. TE13xx Version: 1.20.2 381

## Page 382

Samples ü Adding charts or axes and shifting channels 1. In order to generate a new chart, right-click Scope Wizard and select the desired chart. 2. In the tree structure of the Solution Explorer, move the desired channel by drag & drop to the newly created chart. 382 Version: 1.20.2 TE13xx

## Page 383

Samples 3. To create a new axis, right-click the respective chart and select New Axis. 4. In the tree structure of the Solution Explorer, move the desired channel by drag & drop to the newly created axis. ð If necessary, use the icons in the respective chart for zooming and shifting in order to observe the signal curve more precisely. Adding markers to the axes A marker is a chart element that can be docked to an axis. It is displayed as a line in the View and can be evaluated and compared with other markers in the Marker window. 1. Right-click the respective chart and select the desired markers for the X and Y axes. 2. If you wish to analyze the signal curve more precisely, click the pause icon in the respective chart and zoom into the data. ð You can edit the markers in the properties window in the display and evaluate them in the Marker window. TE13xx Version: 1.20.2 383

## Page 384

Samples Marker window Showing and hiding 1. Right-click the respective chart and select Marker Window. ð The Marker window is displayed and can be shown clearly under the view for the analysis of the set markers. 2. In the drop-down menu at the top in the Marker window, select the option New Autofill Table and the corresponding chart. ð Important parameters will be displayed automatically. 3. As an alternative to the auto-fill option, you can combine everything individually using the Add… command in the toolbar. 4. Click the comparison tool in the toolbar of the Marker window to display the differences between the set markers and the corresponding signal curves. ð The position is constantly displayed. It mirrors the X axis. 384 Version: 1.20.2 TE13xx

## Page 385

Samples Save data The data can be exported in various data formats for further processing. ü The recording must be ended via the Twin CAT Measurement toolbar, or must have been ended automatically after the preset expiry time. 1. In the program, go to Scope > Export…. TE13xx Version: 1.20.2 385

## Page 386

Samples 2. For this sample, select the file type Scope View Data (SVD). 3. Select the time period to be saved and click Next. 386 Version: 1.20.2 TE13xx

## Page 387

Samples 4. Define the memory location and click Create. TE13xx Version: 1.20.2 387

## Page 388

Samples 388 Version: 1.20.2 TE13xx

## Page 389

Appendix 8 Appendix 8.1 How To 8.1.1 Changing common settings at the same time Multiple selection – changing group-wise To change the settings of several elements at the same time, mark the elements in the Solution Explorer and edit the settings of all the marked elements in the Properties window. Data that differ between the selected elements are represented as empty fields. To make multiple selections, keep the [Ctrl] key pressed while selecting the channels. In the case of successive elements, you can select the first element, keep the [Shift] key pressed and then select the last element in order to mark all elements in between. To select all channels of a scope irrespective of the configuration structure, keep the [Alt] key pressed and double-click on the first channel in the Scope configuration. All elements of the same type can be selected. TE13xx Version: 1.20.2 389

## Page 390

Appendix Multiple selection is implemented for: • Scopes • Charts • Axes • Channels • Cursor • Trigger Groups • Trigger Sets 390 Version: 1.20.2 TE13xx

## Page 391

Appendix 8.1.2 Oversampling recordings with the Twin CAT 3 Scope With the Twin CAT 3 Scope it is possible to represent oversampling values in a single variable. Since n values (n = oversampling factor) are recorded for each cycle when oversampling, the Twin CAT System Manager generates an ADS symbol containing a time stamp for each individual value. If a connection is made between the ADS symbol and the Scope, the Scope will accept all other settings to display the n values in the correct sequence. So that the ADS symbol is created and can be directly scoped by an Ether CAT terminal (e.g. EL3702 or EL3632), some settings need to be made in the Twin CAT System Manager configuration: In the Ether CAT process image the ADS tab of the ADS servers must be enabled, and the option Create symbols must be switched on. The assigned ADS port has to be specified later in the Scope in order to find the ADS symbols. The desired oversampling factor should be set in the Twin CAT System Manager for the respective oversampling terminal before the configuration is activated. TE13xx Version: 1.20.2 391

## Page 392

Appendix If the configuration was loaded successfully and Twin CAT is in Run mode, the Twin CAT 3 Scope can be called. The server settings must be defined in the Target Browser of the Scope. The ADS port number assigned by the Twin CAT System Manager must be entered in the corresponding dialog and added with the Add, provided the port has not already been entered. 392 Version: 1.20.2 TE13xx

## Page 393

Appendix Ads Port of Image X (27905) appears in the Scope Target Browser. With this new entry, it is possible to browse the Ether CAT Terminals including the desired oversampling terminal. In the oversampling terminal, the variable shown in red with the supplement [T20] should be selected for the Scope recording. In this case 20 stands for 20 times oversampling. This number may vary according to the oversampling factor. TE13xx Version: 1.20.2 393

## Page 394

Appendix The INT16 variable can be recorded directly in Twin CAT Scope. In the following screenshot 20-fold oversampling with a cycle time of 1 ms. 8.1.3 Opening .svd files from a network directory If a .svd file from the network is to be merged into the solution, the following error message will probably appear if appropriate preparations are not made. An unknown Error occured. Error handling .svd file within scope server. Enable and check scope server tracing. One of the following entries usually appears in the Server Tracing log: • "Scope Server Trace Source",Error,8442,"Access to the path '\\remote-PC\SVDs\test.svd' is denied.",,368,,"16","2014-04-28T07:26:59.9720667Z",, or • "Scope Server Trace Source",Error,8442," Could not find file '\\remote-PC\SVDs\test.svd '.",,3376,,"16","2014-04-28T07:26:59.9720667Z",, Both errors indicate that the Twin CAT Scope server service has no rights of access to the network directory. Proceed as follows to assign the required rights to the Twin CAT Scope server (example for Windows 7): 1. Right-click on the directory to be enabled, in order to open the context menu. Select the command Properties, and in the dialog that opens select the command Share in the Sharing tab. ð The dialog File Sharing opens, 394 Version: 1.20.2 TE13xx

## Page 395

Appendix 2. Enter the users who are to gain access to the directory. Permission level “Read” is sufficient for Scope server access and for displaying the .svd file. 3. Press [Windows] + [R] and enter “services.msc”. In the Twin CAT3 Scope Server Properties dialog select the Log On tab. TE13xx Version: 1.20.2 395

## Page 396

Appendix 4. Enter the account with which you have rights of access to the network directory. Pay attention to the correct use of your server domain. 5. After confirming, restart the service in order to accept the new user data. ð Subsequently, .svd files from the configured network directory can be opened in the measurement project on this system. 8.1.4 Using old configuration files The Twin CAT Scope is a very dynamic product. Nevertheless, old configuration files and data files can still be opened in the latest version. If an old configuration file (.sv2 from Twin CAT 2 Scope 2, .tcscope and .tcscopex from Twin CAT 3) opens with a brand new version in which there have been internal changes due to new functions, the Error List in Visual Studio displays the following message: On saving the opened configuration, an updated configuration file will be saved in the project folder. Furthermore, the user will be asked whether he wishes to update the original file. If the new configuration file from the project folder or the updated original file is opened again, the warning does not appear in the Error List. If the original file is not to be updated and the warning no longer displayed, the warning for the Scope can be completely deactivated in the Options [} 311] (not recommended!). 8.2 FAQ In this section frequently asked questions are answered in order to make your work with Twin CAT 3 Scope easier. If you have further questions, please contact our support (-157) 396 Version: 1.20.2 TE13xx

## Page 397

Appendix 1. Is it true that "Twin CAT 3 Scope" in the Twin CAT 3 world is not a product, but a generic term for various products? [} 397] 2. Why are there different product levels for the Twin CAT 3 Scope? [} 397] 3. Can the Scope View Professional be operated with the Scope Server Base? What are the restrictions? [} 397] 4. Why do I need the TF3300 Scope Server when I can also enable the "Use local Server" option? [} 397] 5. Can I integrate the Twin CAT Scope View into my own visualization? [} 397] 6. Can I integrate the Twin CAT Scope View into a Twin CAT HMI web visualization? [} 397] 7. Is it possible to print out recorded Scope Charts? [} 397] 8. Is multimedia documentation available for Twin CAT 3 Scope? [} 398] 9. My Scope .svd files are on a network drive. Why can't I open them? [} 398] 10. Are open source software components used in Twin CAT Measurement products? Is it true that "Twin CAT 3 Scope" in the Twin CAT 3 world is not a product, but a generic term for various products? The Twin CAT 3 Scope is the most important product in the Twin CAT Measurement product family. Twin CAT 3 Scope is a generic term. The Twin CAT 3 Scope is subdivided into the Scope View and Scope Server products. This means that a Twin CAT 3 Scope always consists of the View and Server products. Beyond that there are also different product levels. Why are there different product levels for the Twin CAT 3 Scope? The Scope is a constantly growing tool for data logging and analysis; however, not every Scope user requires the full range of functions for his purposes. Therefore, we offer product levels tailored as far as possible to the application. The currently available product levels are Base and Professional. Base is free of license costs and is an outstanding tool for machine commissioning. Professional is very well suited for process monitoring in addition to machine commissioning. Can the Scope View Professional be operated with the Scope Server Base? What are the restrictions? Yes, you can also operate Professional View with the Base server. Only the limitations of the Base Server version need to be observed. It is also possible, for example, to scope a remote device with the local Base Server. To do this the Use local Server option must be set in the channel settings. Control via PLC function block or operation in headless mode is not possible. Why do I need the TF3300 Scope Server when I can also enable the "Use local Server" option? The Twin CAT TF3300 Scope Server function is required as soon as a Scope Server has to run autonomously on a remote device. The server can thus be controlled, for example from the PLC, without a View being connected. Can I integrate the Twin CAT Scope View into my own visualization? Yes, you can integrate Scope Control into your own . NET-based visualization application. This means that your application automatically receives all the data handling between the Control and the Scope Server, as well as all the functions available in the Control. This ranges from zooming and panning to the overview chart, tooltips for the data points and much more. For details, please read the following pages [} 324]. Scope View is an engineering product (TE1300). As the View/Control is integrated into a visualization in this use case, which may be running on a runtime device, it must be ensured that the TE1300 license is available on the runtime device. Can I integrate the Twin CAT Scope View into a Twin CAT HMI web visualization? Yes, this is also possible. The TF2300 product from the Twin CAT HMI range must be used for this. Although the front end is of course web-based in terms of technology, the data management via the Scope Server is absolutely identical to that of the Scope View in Twin CAT Engineering. Is it possible to print out recorded Scope Charts? TE13xx Version: 1.20.2 397

## Page 398

Appendix Yes, with the Scope Snipping Tool [} 274] functionality it is possible to print, copy and share charts. Is multimedia documentation available for Twin CAT 3 Scope? Yes, there is a recording of a Twin CAT 3 Scope Webinar on the Beckhoff-Homepage. There are many small technical tutorials on this page. My Scope .svd files are on a network drive. Why can't I open them? That is probably because the Twin CAT 3 Scope server service has no rights of access to the network directory. In order to be able to open .svd files, you either need to copy them to the local system or grant the Scope server service the appropriate rights. (See section Opening .svd files from a network directory [} 394]) Are open source software components used in Twin CAT Measurement products? Yes, various open source components are used. Please see the information on the page Third-party components [} 398]. 8.3 Third-party components This software contains third-party components. Please refer to the license file provided in the following folder for further information: C:\Program Files(x86)\Beckhoff\Legal\Twin CAT-XAE-Scope View 398 Version: 1.20.2 TE13xx

## Page 399

Glossary Glossary Array Bar Chart Scope Server The chart provides the drawing interface for an The Scope Server is the logger program of the array data type, the elements of which are as- Twin CAT Scope. A Scope connects itself to a signed to a bar line or a bar. server in order to record new data or to read an existing file (.svd). Axis A (Y-) axis represents the value scaling for Scope View connected channels. The Scope View is the front end of the Twin- CAT Scope. From here configurations are cre- Channel ated or loaded, the display adjusted and recordings controlled. The channel forms the connection of system variable and graph. Therefore, there is one set- ting window for the acquisition and another one Solution Explorer for the general settings (colors, marks etc.). The Solution Explorer is a kind of project man- ager, which can also be used for the measure- Cursor ment projects that are required for a Scope recording. The cursor module serves to display graph and axis values and their differences. Target Browser Data Picker All connected systems and their devices can be simply scanned for system variables with Mouse pointer tool that is automatically acti- the target browser. vated in the chart when the cursor moves over a data point. Clicking brings up a tool tip show- Trigger ing the values of the X- and Y-axes, the chan- nel name and the absolute time for the se- Various actions can be triggered with freely lected data point. configurable trigger groups. Marks XY Chart Marks are the actual data points of recorded The chart provides a drawing area for a chan- variables. They can be adjusted via the chan- nel that is calculated from two variables. One nel properties. variable is shown on the X-axis, the other one on the Y-axis. Measurement project YT Chart The Measurement project may contain several Scope projects, in which the actual recording The chart provides a graphic area with time configurations are created. axis. All connected channels are scaled to the same time segment. Overview Chart An Overview chart can be displayed within a YT chart. It provides an overview of the whole recording period with absolute times. Quick View Chart The Quick View chart is available in the Target Browser. It quickly and clearly indicates whether values are currently supplied. Scope The Scope forms the highest hierarchical ele- ment in a Scope configuration and manages all recording settings. TE13xx Version: 1.20.2 399

## Page 400

Support and Service 9 Support and Service Beckhoff and their partners around the world offer comprehensive support and service, making available fast and competent assistance with all questions related to Beckhoff products and system solutions. Download finder Our download finder contains all the files that we offer you for downloading. You will find application reports, technical documentation, technical drawings, configuration files and much more. The downloads are available in various formats. Beckhoff's branch offices and representatives Please contact your Beckhoff branch office or representative for local support and service on Beckhoff products! The addresses of Beckhoff's branch offices and representatives round the world can be found on our internet page: www.beckhoff.com You will also find further documentation for Beckhoff components there. Beckhoff Support Support offers you comprehensive technical assistance, helping you not only with the application of individual Beckhoff products, but also with other, wide-ranging services: • support • design, programming and commissioning of complex automation systems • and extensive training program for Beckhoff system components Hotline: +49 5246 963-157 e-mail: support@beckhoff.com Beckhoff Service The Beckhoff Service Center supports you in all matters of after-sales service: • on-site service • repair service • spare parts service • hotline service Hotline: +49 5246 963-460 e-mail: service@beckhoff.com Beckhoff Headquarters Beckhoff Automation Gmb H & Co. KG Huelshorstweg 20 33415 Verl Germany Phone: +49 5246 963-0 e-mail: info@beckhoff.com web: www.beckhoff.com 400 Version: 1.20.2 TE13xx

## Page 401

Trademark statements Beckhoff®, ATRO®, Ether CAT®, Ether CAT G®, Ether CAT G10®, Ether CAT P®, MX-System®, Safety over Ether CAT®, TC/BSD®, Twin CAT®, Twin CAT/BSD®, Twin SAFE®, XFC®, XPlanar® and XTS® are registered and licensed trademarks of Beckhoff Automation Gmb H. Third-party trademark statements Microsoft, Microsoft Azure, Microsoft Edge, Power Shell, Visual Studio, Windows and Xbox are trademarks of the Microsoft group of companies.

## Page 402

More Information: www.beckhoff.com/te1300 Beckhoff Automation Gmb H & Co. KG Hülshorstweg 20 33415 Verl Germany Phone: +49 5246 9630 info@beckhoff.com www.beckhoff.com
