---
title: "TE1000 Twin CAT 3"
product: "TwinCAT"
category: "PLC"
tags: ["CAT", "NC", "PLC", "TWIN"]
language: "EN"
document_type: "Library"
version: "1.2.8"
source_pdf: "https://download.beckhoff.com/download/Document/automation/twincat3/TwinCAT_3_PLC_Lib_Tc2_NcDrive_EN.pdf"
release_date: "2025-10-07"
---
Manual | EN TE1000 Twin CAT 3 | PLC Library: Tc2_Nc Drive 2025-10-07 | Version: 1.2.8
## Page 3

Table of contents Table of contents 1 Foreword.................................................................................................................................................... 5 1.1 Notes on the documentation............................................................................................................. 5 1.2 For your safety.................................................................................................................................. 5 1.3 Notes on information security............................................................................................................ 7 2 Overview.................................................................................................................................................... 8 3 Function blocks....................................................................................................................................... 10 3.1 General So E.................................................................................................................................... 10 3.1.1 FB_So EReset.................................................................................................................. 10 3.1.2 FB_So EWrite Password.................................................................................................... 11 3.1.3 Function blocks for commands........................................................................................ 13 3.1.4 Function blocks for diagnostics........................................................................................ 17 3.1.5 Function blocks for determining current values................................................................ 22 3.2 General Co E................................................................................................................................... 31 3.2.1 Function blocks for determining current values................................................................ 31 3.3 AX5000 So E.................................................................................................................................... 34 3.3.1 FB_So EAX5000Read Act Main Voltage............................................................................. 34 3.3.2 FB_So EAX5000Set Motor Ctrl Word.................................................................................. 35 3.3.3 FB_So EAX5000Firmware Update.................................................................................... 37 3.4 F_Get Version Tc Nc Drive................................................................................................................. 40 4 Data types................................................................................................................................................ 42 4.1 E_So E_Cmd State........................................................................................................................... 42 5 Support and Service............................................................................................................................... 43 TE1000 Version: 1.2.8 3
## Page 4

Table of contents 4 Version: 1.2.8 TE1000
## Page 5

Foreword 1 Foreword 1.1 Notes on the documentation This description is intended exclusively for trained specialists in control and automation technology who are familiar with the applicable national standards. The documentation and the following notes and explanations must be complied with when installing and commissioning the components. The trained specialists must always use the current valid documentation. The trained specialists must ensure that the application and use of the products described is in line with all safety requirements, including all relevant laws, regulations, guidelines, and standards. Disclaimer The documentation has been compiled with care. The products described are, however, constantly under development. We reserve the right to revise and change the documentation at any time and without notice. Claims to modify products that have already been supplied may not be made on the basis of the data, diagrams, and descriptions in this documentation. Trademarks Beckhoff®, ATRO® , Ether CAT®, Ether CAT G®, Ether CAT G10®, Ether CAT P®, MX-System®, Safety over Ether CAT®, TC/BSD®, Twin CAT®, Twin CAT/BSD®, Twin SAFE®, XFC®, XPlanar®, and XTS® are registered and licensed trademarks of Beckhoff Automation Gmb H. If third parties make use of the designations or trademarks contained in this publication for their own purposes, this could infringe upon the rights of the owners of the said designations. Ether CAT® is a registered trademark and patented technology, licensed by Beckhoff Automation Gmb H, Germany. Copyright © Beckhoff Automation Gmb H & Co. KG, Germany. The distribution and reproduction of this document, as well as the use and communication of its contents without express authorization, are prohibited. Offenders will be held liable for the payment of damages. All rights reserved in the event that a patent, utility model, or design are registered. Third-party trademarks Trademarks of third parties may be used in this documentation. You can find the trademark notices here: https://www.beckhoff.com/trademarks. 1.2 For your safety Safety regulations Read the following explanations for your safety. Always observe and follow product-specific safety instructions, which you may find at the appropriate places in this document. Exclusion of liability All the components are supplied in particular hardware and software configurations which are appropriate for the application. Modifications to hardware or software configurations other than those described in the documentation are not permitted, and nullify the liability of Beckhoff Automation Gmb H & Co. KG. TE1000 Version: 1.2.8 5
## Page 6

Foreword Personnel qualification This description is only intended for trained specialists in control, automation, and drive technology who are familiar with the applicable national standards. Signal words The signal words used in the documentation are classified below. In order to prevent injury and damage to persons and property, read and follow the safety and warning notices. Personal injury warnings DANGER Hazard with high risk of death or serious injury. WARNING Hazard with medium risk of death or serious injury. CAUTION There is a low-risk hazard that could result in medium or minor injury. Warning of damage to property or environment NOTICE The environment, equipment, or data may be damaged. Information on handling the product This information includes, for example: recommendations for action, assistance or further information on the product. 6 Version: 1.2.8 TE1000
## Page 7

Foreword 1.3 Notes on information security The products of Beckhoff Automation Gmb H & Co. KG (Beckhoff), insofar as they can be accessed online, are equipped with security functions that support the secure operation of plants, systems, machines and networks. Despite the security functions, the creation, implementation and constant updating of a holistic security concept for the operation are necessary to protect the respective plant, system, machine and networks against cyber threats. The products sold by Beckhoff are only part of the overall security concept. The customer is responsible for preventing unauthorized access by third parties to its equipment, systems, machines and networks. The latter should be connected to the corporate network or the Internet only if appropriate protective measures have been set up. In addition, the recommendations from Beckhoff regarding appropriate protective measures should be observed. Further information regarding information security and industrial security can be found in our https://www.beckhoff.com/secguide. Beckhoff products and solutions undergo continuous further development. This also applies to security functions. In light of this continuous further development, Beckhoff expressly recommends that the products are kept up to date at all times and that updates are installed for the products once they have been made available. Using outdated or unsupported product versions can increase the risk of cyber threats. To stay informed about information security for Beckhoff products, subscribe to the RSS feed at https:// www.beckhoff.com/secinfo. TE1000 Version: 1.2.8 7
## Page 8

Overview 2 Overview The Tc2_Nc Drive library should no longer be used in newer projects. Please use the Tc2_MC2_Drive library instead (see documentation Twin CAT 3 PLC Lib Tc2_MC2_Drive). The Tc2_Nc Drive library includes functions and function blocks for So E drives that access the drive by MC2 axis structure (AXIS_REF). Drive libraries The three drive libraries Tc2_Drive, Tc2_Nc Drive and Tc2_MC2_Drive were developed for different functional purposes but are almost identical in their functionality. The function blocks of the libraries Tc2_Nc Drive and Tc_MC2_Drive form wrapper function blocks around the function blocks of the Tc2_Drive library. Drive library Use Access to the drive Remarks Tc2_Drive Use the Tc2_Drive The drive is accessed via a drive If you want to access library if you use reference. Within the library, the parameters in the drive for which See documentation the drive entirely ST_Drive Ref structure is used no special function block has Twin CAT 3 PLC Lib: from the PLC (i.e. for this with the Net ID as a been implemented, use the Tc2_Drive without NC). string. For linking purposes, a function blocks structure called ST_Plc Drive Ref FB_So ERead_By Drive Ref and is also provided with the Net ID FB_So EWrite_By Drive Ref. as a byte array. These function blocks are implemented in the PLC Lib (See Drive reference Tc2_Ether CAT in the ST_Drive Ref) So E Interface folder. Tc2_Nc Drive Use the The drive is accessed via the If you want to access Tc2_Nc Drive library NC axis structure parameters in the drive for which See documentation if you are using the (NC_TO_PLC). The function no special function block has Twin CAT 3 PLC Lib: drive via the NC blocks of the Tc2_Nc Drive been implemented, use the Tc2_Nc Drive with the Tc2_Nc library independently determine function blocks FB_So ERead libraries. the access data to the drive and FB_So EWrite. (Net ID, address and channel number) via the NC axis ID from the NC axis structure. Tc2_MC2_Drive Use the The drive is accessed via the If you want to access Tc2_MC2_Drive MC2 axis reference parameters in the drive for which See: Twin CAT 3 library if you are (AXIS_REF). The function no special function block has PLC Lib using the drive via blocks of the Tc2_MC2_Drive been implemented, use the Tc2_MC2_Drive the NC with the library independently determine function blocks FB_So ERead documentation Tc2_MC2 library. the access data to the drive and FB_So EWrite. (Net ID, address and channel number) via the NC axis ID from the MC2 axis reference. Functions Name Description F_Get Version Tc Nc Drive [} 40] Reads version information from the PLC library. The function has been replaced by the global structure st Lib Version_Tc2_Nc Drive. F_Conv Word To STAX5000C1D Converts the C1D word (S-0-0011) of the AX5000 to an ST_AX5000_C1D structure. See: Twin CAT 3 PLC Lib documentation: Tc2_Drive. 8 Version: 1.2.8 TE1000
## Page 9

Overview Function blocks Name Description FB_So EReset [} 10] Resets the drive (S-0-0099). FB_So EWrite Password [} 11] Sets the drive password (S-0-0267). FB_So ERead Diag Message [} 17] Reads the diagnostic message (S-0-0095). FB_So ERead Diag Number [} 18] Reads the diagnostic number (S-0-0390). FB_So ERead Diag Number List [} 19] Reads the diagnostic number list (up to 30 entries) (S-0-0375) FB_So EExecute Command [} 13] Executes a command. FB_So EWrite Command Control [} 14] Sets the Command Control. FB_So ERead Command State [} 15] Checks the command status. FB_So ERead Class XDiag [} 21] Reads Class 1 diagnosis (S-0-0011) ... Class 3 diagnosis (S-0-0013). FB_So ERead [} 22] Reads a parameter. FB_So EWrite [} 24] Writes a parameter. FB_So ERead Amplifier Temperature [} 26] Reads the drive temperature (S-0-0384). FB_So ERead Motor Temperature [} 27] Reads the motor temperature (S-0-0383). FB_So ERead Dc Bus Current [} 29] Reads the DC bus current (S-0-0381). FB_So ERead Dc Bus Voltage [} 30] Reads the DC bus voltage (S-0-0380). FB_So EAX5000Read Act Main Voltage [} 34] Reads the mains voltage (P-0-0200). FB_So EAX5000Set Motor Ctrl Word [} 35] Sets the Motor Control Word (P-0-0096). FB_So EAX5000Firmware Update [} 37] Executes an automatic firmware update for the AX5000. FB_Co ERead [} 31] Reads a parameter. FB_Co EWrite [} 33] Writes a parameter. Requirements Component Version Twin CAT on the development computer 3.1 Build 4016 or higher Twin CAT on the Beckhoff RT Linux®- computer 3.1 Build 4026 or higher Twin CAT on the Twin CAT/BSD-computer 3.1 Build 4026 or higher TE1000 Version: 1.2.8 9
## Page 10

Function blocks 3 Function blocks 3.1 General So E 3.1.1 FB_So EReset FB_So EReset s Net Id T_Ams Net ID BOOL b Busy b Execute BOOL BOOL b Error t Timeout TIME UINT i Ads Err Id ↔ Axis Reference To NCTOPLC_AXIS_REF UINT i Sercos Err Id The drive (S-0-0099) can be reset with the function block FB_So EReset. In the case of multiple-channel devices if necessary, both channels will have to perform a reset. The timeout time must be 10 s, as the reset can take up to 10 s depending on the error. The flag "Wait For Wc State is OK" must be enabled in the advanced Ether CAT settings for the AX5000. An NC reset will not be performed. If an NC reset is necessary, it can be executed via the function block MC_Reset from the Tc2_MC2 PLC library. Inputs VAR_INPUT s Net Id : T_Ams Net Id := ''; b Execute : BOOL; t Timeout : TIME := DEFAULT_ADS_TIMEOUT; END_VAR Name Type Description s Net Id T_Ams Net Id String, which contains the AMS Network ID of the PC (type: T_Ams Net Id). b Execute BOOL The function block is enabled via a positive edge at this input. t Timeout TIME Maximum time allowed for the execution of the function block. 10 Version: 1.2.8 TE1000
## Page 11

Function blocks Inputs/outputs VAR_IN_OUT Axis : NCTOPLC_AXIS_REF;(* reference to NC axis *) END_VAR Name Type Description Axis NCTOPLC_AXIS_REF Axis data structure of the type NCTOPLC_AXIS_REF Outputs VAR_OUTPUT b Busy : BOOL; b Error : BOOL; i Ads Err Id : UINT; i Sercos Err Id : UINT; END_VAR Name Type Description b Busy BOOL This output is set when the function block is activated, and remains set until a feedback is received. b Error BOOL This output is set after the b Busy output has been reset when an error occurs in the transmission of the command. i Ads Err Id UINT Returns the ADS error code of the last executed command when the b Error output is set. i Sercos Err I UINT In the case of a set b Error output returns the Sercos error of the d last executed command. Sample fb So EReset : FB_So EReset_By Drive Ref; b So EReset : BOOL; (* Nc Axis *) Nc To Plc AT %I* : NCTOPLC_Axis_REF; IF b So EReset THEN fb So EReset( Axis := Nc To Plc, b Execute := TRUE, t Timeout := DEFAULT_ADS_TIMEOUT ); IF NOT fb So EReset.b Busy THEN fb So EReset(Axis := Nc To Plc, b Execute := FALSE); b So EReset := FALSE; END_IF END_IF 3.1.2 FB_So EWrite Password FB_So EWrite Password s Net Id T_Ams Net ID BOOL b Busy b Execute BOOL BOOL b Error t Timeout TIME UINT i Ads Err Id s Password ST_So E_String UINT i Sercos Err Id ↔ Axis Reference To NCTOPLC_AXIS_REF With the FB_So EWrite Password function block (S-0-0267) the drive password can be set. Inputs VAR_INPUT s Net Id : T_Ams Net Id := ''; b Execute : BOOL; t Timeout : TIME := DEFAULT_ADS_TIMEOUT; s Password : ST_So E_String; END_VAR TE1000 Version: 1.2.8 11
## Page 12

Function blocks Name Type Description s Net Id T_Ams Net Id String, which contains the AMS Network ID of the PC (type: T_Ams Net Id). b Execute BOOL The function block is enabled via a positive edge at this input. t Timeout TIME Maximum time allowed for the execution of the function block. s Password ST_So E_String Password as a Sercos string Inputs/outputs VAR_IN_OUT Axis : NCTOPLC_AXIS_REF;(* reference to NC axis *) END_VAR Name Type Description Axis NCTOPLC_AXIS_REF Axis data structure of the type NCTOPLC_AXIS_REF Outputs VAR_OUTPUT b Busy : BOOL; b Error : BOOL; i Ads Err Id : UINT; i Sercos Err Id : UINT; END_VAR Name Type Description b Busy BOOL This output is set when the function block is activated, and remains set until a feedback is received. b Error BOOL This output is set after the b Busy output has been reset when an error occurs in the transmission of the command. i Ads Err Id UINT Returns the ADS error code of the last executed command when the b Error output is set. i Sercos Err I UINT In the case of a set b Error output returns the Sercos error of the d last executed command. Sample fb Write Password : FB_So EWrite Password; b Write Password : BOOL; s Password : ST_So E_String; (* Nc Axis *) Nc To Plc AT %I* : NCTOPLC_AXIS_REF; IF b Write Password THEN fb Write Password( Axis := Nc To Plc, b Execute := TRUE, t Timeout := DEFAULT_ADS_TIMEOUT, s Password := s Password ); IF NOT fb Write Password.b Busy THEN fb Write Password(Axis := Nc To Plc, b Execute := FALSE); b Write Password := FALSE; END_IF END_IF 12 Version: 1.2.8 TE1000
## Page 13

Function blocks 3.1.3 Function blocks for commands 3.1.3.1 FB_So EExecute Command FB_So EExecute Command s Net Id T_Ams Net ID BOOL b Busy n Idn WORD BOOL b Error b Execute BOOL UINT i Ads Err Id t Timeout TIME UINT i Sercos Err Id ↔ Axis Reference To NCTOPLC_AXIS_REF With the FB_So EExecute Command function block a command can be executed. Inputs VAR_INPUT s Net Id : T_Ams Net Id := ''; n Idn : WORD; b Execute : BOOL; t Timeout : TIME := DEFAULT_ADS_TIMEOUT; END_VAR Name Type Description s Net Id T_Ams Net Id String, which contains the AMS Network ID of the PC (type: T_Ams Net Id). n Idn WORD Parameter number to which FB_So EExecute Command refers, e.g. "P_0_IDN + 160" for P-0-0160. b Execute BOOL The function block is enabled via a positive edge at this input. t Timeout TIME Maximum time allowed for the execution of the function block. Inputs/outputs VAR_IN_OUT Axis : NCTOPLC_AXIS_REF;(* reference to NC axis *) END_VAR Name Type Description Axis NCTOPLC_AXIS_REF Axis data structure of the type NCTOPLC_AXIS_REF Outputs VAR_OUTPUT b Busy : BOOL; b Error : BOOL; i Ads Err Id : UINT; i Sercos Err Id : UINT; END_VAR Name Type Description b Busy BOOL This output is set when the function block is activated, and remains set until a feedback is received. b Error BOOL This output is set after the b Busy output has been reset when an error occurs in the transmission of the command. i Ads Err Id UINT Returns the ADS error code of the last executed command when the b Error output is set. i Sercos Err I UINT In the case of a set b Error output returns the Sercos error of the d last executed command. TE1000 Version: 1.2.8 13
## Page 14

Function blocks Sample fb Execute Command : FB_So EExecute Command; b Execute Command : BOOL; n Idn : WORD; (* Nc Axis *) Nc To Plc AT %I* : NCTOPLC_AXIS_REF; IF b Execute Command THEN n Idn := P_0_IDN + 160; fb Execute Command( Axis := Nc To Plc, b Execute := TRUE, t Timeout := DEFAULT_ADS_TIMEOUT, n Idn := n Idn ); IF NOT fb Execute Command.b Busy THEN fb Execute Command(Axis := Nc To Plc, b Execute := FALSE); b Execute Command := FALSE; END_IF END_IF 3.1.3.2 FB_So EWrite Command Control FB_So EWrite Command Control s Net Id T_Ams Net ID BOOL b Busy n Idn WORD BOOL b Error e Cmd Control E_So E_Cmd Control UINT i Ads Err Id b Execute BOOL UINT i Sercos Err Id t Timeout TIME ↔ Axis Reference To NCTOPLC_AXIS_REF With the FB_So EWrite Command Control function block a command can be prepared, started or canceled. Inputs VAR_INPUT s Net Id : T_Ams Net Id := ''; n Idn : WORD; e Cmd Control : E_So E_Cmd Control; b Execute : BOOL; t Timeout : TIME := DEFAULT_ADS_TIMEOUT; END_VAR Name Type Description s Net Id T_Ams Net Id String, which contains the AMS Network ID of the PC (type: T_Ams Net Id). n Idn WORD Parameter number to which FB_So EExecute Command refers, e.g. "P_0_IDN + 160" for P-0-0160. e Cmd Control E_So E_Cmd Control Indicates, if a command should be prepared (e So E_Cmd Control_Set := 1), executed (e So E_Cmd Control_Set And Enable := 3) or aborted (e So E_Cmd Control_Cancel := 0). b Execute BOOL The function block is enabled via a positive edge at this input. t Timeout TIME Maximum time allowed for the execution of the function block. Inputs/outputs VAR_IN_OUT Axis : NCTOPLC_AXIS_REF;(* reference to NC axis *) END_VAR 14 Version: 1.2.8 TE1000
## Page 15

Function blocks Name Type Description Axis NCTOPLC_AXIS_REF Axis data structure of the type NCTOPLC_AXIS_REF Outputs VAR_OUTPUT b Busy : BOOL; b Error : BOOL; i Ads Err Id : UINT; i Sercos Err Id : UINT; END_VAR Name Type Description b Busy BOOL This output is set when the function block is activated, and remains set until a feedback is received. b Error BOOL This output is set after the b Busy output has been reset when an error occurs in the transmission of the command. i Ads Err Id UINT Returns the ADS error code of the last executed command when the b Error output is set. i Sercos Err I UINT In the case of a set b Error output returns the Sercos error of the d last executed command. Sample fb Write Command Control : FB_So EWrite Command Control; b Write Command Control : BOOL; n Idn : WORD; e Cmd Control : E_So E_Cmd Control; (* Nc Axis *) Nc To Plc AT %I* : NCTOPLC_AXIS_REF; IF b Write Command Control THEN n Idn := P_0_IDN + 160; fb Write Command Control( Axis := Nc To Plc, b Execute := TRUE, t Timeout := DEFAULT_ADS_TIMEOUT, n Idn := n Idn, e Cmd Control := e Cmd Control ); IF NOT fb Write Command Control.b Busy THEN fb Write Command Control(Axis := Nc To Plc, b Execute := FALSE); b Write Command Control := FALSE; END_IF END_IF 3.1.3.3 FB_So ERead Command State FB_So ERead Command State s Net Id T_Ams Net ID BOOL b Busy n Idn WORD BOOL b Error b Execute BOOL E_So E_Cmd State e Cmd State t Timeout TIME UINT i Ads Err Id ↔ Axis Reference To NCTOPLC_AXIS_REF UINT i Sercos Err Id With the FB_So ERead Command State function block the command execution can be checked. Inputs VAR_INPUT s Net Id : T_Ams Net Id := ''; n Idn : WORD; b Execute : BOOL; t Timeout : TIME := DEFAULT_ADS_TIMEOUT; END_VAR TE1000 Version: 1.2.8 15
## Page 16

Function blocks Name Type Description s Net Id T_Ams Net Id String, which contains the AMS Network ID of the PC (type: T_Ams Net Id). n Idn WORD Parameter number to which FB_So EExecute Command refers, e.g. "P_0_IDN + 160" for P-0-0160. b Execute BOOL The function block is enabled via a positive edge at this input. t Timeout TIME Maximum time allowed for the execution of the function block. Inputs/outputs VAR_IN_OUT Axis : NCTOPLC_AXIS_REF;(* reference to NC axis *) END_VAR Name Type Description Axis NCTOPLC_AXIS_REF Axis data structure of the type NCTOPLC_AXIS_REF Outputs VAR_OUTPUT b Busy : BOOL; b Error : BOOL; e Cmd State : E_So E_Cmd State; i Ads Err Id : UINT; i Sercos Err Id : UINT; END_VAR Name Type Description b Busy BOOL This output is set when the function block is activated, and remains set until a feedback is received. b Error BOOL This output is set after the b Busy output has been reset when an error occurs in the transmission of the command. e Cmd Stat E_So E_Cmd State [} 42] Returns the command state (see below). e i Ads Err Id UINT Returns the ADS error code of the last executed command when the b Error output is set. i Sercos Err I UINT In the case of a set b Error output returns the Sercos error of the d last executed command. Sample fb Read Command State : FB_So ERead Command State; b Read Command State : BOOL; n Idn : WORD; e Cmd State : E_So E_Cmd State; (* Nc Axis *) Nc To Plc AT %I* : NCTOPLC_AXIS_REF; IF b Read Command State THEN n Idn := P_0_IDN + 160; fb Read Command State( Axis := Nc To Plc, b Execute := TRUE, t Timeout := DEFAULT_ADS_TIMEOUT, n Idn := n Idn, e Cmd State => e Cmd State ); IF NOT fb Read Command State.b Busy THEN fb Read Command State(Axis := Nc To Plc, b Execute := FALSE); b Read Command State := FALSE; END_IF END_IF 16 Version: 1.2.8 TE1000
## Page 17

Function blocks 3.1.4 Function blocks for diagnostics 3.1.4.1 FB_So ERead Diag Message FB_So ERead Diag Message s Net Id T_Ams Net ID BOOL b Busy b Execute BOOL BOOL b Error t Timeout TIME UINT i Ads Err Id ↔ Axis Reference To NCTOPLC_AXIS_REF UINT i Sercos Err Id ST_So E_String s Diag Message DWORD dw Attribute With the FB_So ERead Diag Message function block the diagnosis message can be read out as a Sercos string (S-0-0095). Inputs VAR_INPUT s Net Id : T_Ams Net Id := ''; b Execute : BOOL; t Timeout : TIME := DEFAULT_ADS_TIMEOUT; END_VAR Name Type Description s Net Id T_Ams Net Id String, which contains the AMS Network ID of the PC (type: T_Ams Net Id). b Execute BOOL The function block is enabled via a positive edge at this input. t Timeout TIME Maximum time allowed for the execution of the function block. Inputs/outputs VAR_IN_OUT Axis : NCTOPLC_AXIS_REF;(* reference to NC axis *) END_VAR Name Type Description Axis NCTOPLC_AXIS_REF Axis data structure of the type NCTOPLC_AXIS_REF Outputs VAR_OUTPUT b Busy : BOOL; b Error : BOOL; i Ads Err Id : UINT; i Sercos Err Id : UINT; s Diag Message : ST_So E_String; dw Attribute : DWORD; END_VAR Name Type Description b Busy BOOL This output is set when the function block is activated, and remains set until a feedback is received. b Error BOOL This output is set after the b Busy output has been reset when an error occurs in the transmission of the command. i Ads Err Id UINT Returns the ADS error code of the last executed command when the b Error output is set. i Sercos Err I UINT In the case of a set b Error output returns the Sercos error of the d last executed command. TE1000 Version: 1.2.8 17
## Page 18

Function blocks Name Type Description s Diag Mess ST_So E_String Returns the diagnosis message. age dw Attribut DWORD Returns the attributes of the Sercos parameter. e Sample fb Diag Message : FB_So ERead Diag Message; b Diag Message : BOOL; s Diag Message : ST_So E_String; (* Nc Axis *) Nc To Plc AT %I* : NCTOPLC_AXIS_REF; IF b Diag Message THEN fb Diag Message( Axis := Nc To Plc, b Execute := TRUE, t Timeout := DEFAULT_ADS_TIMEOUT, s Diag Message=> s Diag Message ); IF NOT fb Diag Message.b Busy THEN fb Diag Message(Axis := Nc To Plc, b Execute := FALSE); b Diag Message := FALSE; END_IF END_IF 3.1.4.2 FB_So ERead Diag Number FB_So ERead Diag Number s Net Id T_Ams Net ID BOOL b Busy b Execute BOOL BOOL b Error t Timeout TIME UINT i Ads Err Id ↔ Axis Reference To NCTOPLC_AXIS_REF UINT i Sercos Err Id UDINT i Diag Number DWORD dw Attribute With the FB_So ERead Diag Number function block the current diagnostic number can be read out as UDINT (S-0-0390). Inputs VAR_INPUT s Net Id : T_Ams Net Id := ''; b Execute : BOOL; t Timeout : TIME := DEFAULT_ADS_TIMEOUT; END_VAR Name Type Description s Net Id T_Ams Net Id String, which contains the AMS Network ID of the PC (type: T_Ams Net Id). b Execute BOOL The function block is enabled via a positive edge at this input. t Timeout TIME Maximum time allowed for the execution of the function block. Inputs/outputs VAR_IN_OUT Axis : NCTOPLC_AXIS_REF;(* reference to NC axis *) END_VAR Name Type Description Axis NCTOPLC_AXIS_REF Axis data structure of the type NCTOPLC_AXIS_REF 18 Version: 1.2.8 TE1000
## Page 19

Function blocks Outputs VAR_OUTPUT b Busy : BOOL; b Error : BOOL; i Ads Err Id : UINT; i Sercos Err Id : UINT; i Diag Number : UDINT; dw Attribute : DWORD; END_VAR Name Type Description b Busy BOOL This output is set when the function block is activated, and remains set until a feedback is received. b Error BOOL This output is set after the b Busy output has been reset when an error occurs in the transmission of the command. i Ads Err Id UINT Returns the ADS error code of the last executed command when the b Error output is set. i Sercos Err I UINT In the case of a set b Error output returns the Sercos error of the d last executed command. i Diag Numb UDINT Returns the attributes of the Sercos parameter. er dw Attribut DWORD Returns the current diagnostic number. e Sample fb Diag Number : FB_So ERead Diag Number; b Diag Number : BOOL; i Diag Number : UDINT; (* Nc Axis *) Nc To Plc AT %I* : NCTOPLC_AXIS_REF; IF b Diag Number THEN fb Diag Number( Axis := Nc To Plc, b Execute := TRUE, t Timeout := DEFAULT_ADS_TIMEOUT, i Diag Number => i Diag Number ); IF NOT fb Diag Number.b Busy THEN fb Diag Number(Axis := Nc To Plc, b Execute := FALSE); b Diag Number := FALSE; END_IF END_IF 3.1.4.3 FB_So ERead Diag Number List FB_So ERead Diag Number List s Net Id T_Ams Net ID BOOL b Busy b Execute BOOL BOOL b Error t Timeout TIME UINT i Ads Err Id pi Diag Number Pointer To ST_So E_Diag Num List UINT i Sercos Err Id i Size UDINT DWORD dw Attribute ↔ Axis Reference To NCTOPLC_AXIS_REF With the FB_So ERead Diag Number List function block a history of the diagnosis numbers can be read out as a list (S-0-0375). Inputs VAR_INPUT s Net Id : T_Ams Net Id := ''; b Execute : BOOL; t Timeout : TIME := DEFAULT_ADS_TIMEOUT; TE1000 Version: 1.2.8 19
## Page 20

Function blocks pi Diag Number : POINTER TO ST_So E_Diag Num List; i Size : UDINT; END_VAR Name Type Description s Net Id T_Ams Net Id String, which contains the AMS Network ID of the PC (type: T_Ams Net Id). b Execute BOOL The function block is enabled via a positive edge at this input. t Timeout TIME Maximum time allowed for the execution of the function block. pi Diag Number POINTER TO ST_So E_Diag N Pointer to the list of the last max. 30 error numbers. The um List list consists of the current and maximum number of bytes in the list as well as the 30 list items. i Size UDINT Size of the list in bytes (as Sizeof()) Inputs/outputs VAR_IN_OUT Axis : NCTOPLC_AXIS_REF;(* reference to NC axis *) END_VAR Name Type Description Axis NCTOPLC_AXIS_REF Axis data structure of the type NCTOPLC_AXIS_REF Outputs VAR_OUTPUT b Busy : BOOL; b Error : BOOL; i Ads Err Id : UINT; i Sercos Err Id : UINT; dw Attribute : DWORD; END_VAR Name Type Description b Busy BOOL This output is set when the function block is activated, and remains set until a feedback is received. b Error BOOL This output is set after the b Busy output has been reset when an error occurs in the transmission of the command. i Ads Err Id UINT Returns the ADS error code of the last executed command when the b Error output is set. i Sercos Err I UINT In the case of a set b Error output returns the Sercos error of the d last executed command. dw Attribut DWORD Returns the attributes of the Sercos parameter. e Sample fb Diag Number List : FB_So ERead Diag Number List; b Diag Number List : BOOL; st Diag Number List : ST_So E_Diag Num List; (* Nc Axis *) Nc To Plc AT %I* : NCTOPLC_AXIS_REF; IF b Diag Number List THEN fb Diag Number List( Axis := Nc To Plc, b Execute := TRUE, t Timeout := DEFAULT_ADS_TIMEOUT, pi Diag Number:= ADR(st Diag Number List), i Size := SIZEOF(st Diag Number List) ); IF NOT fb Diag Number List.b Busy THEN fb Diag Number List(Axis := Nc To Plc, b Execute := FALSE); 20 Version: 1.2.8 TE1000
## Page 21

Function blocks b Diag Number List := FALSE; END_IF END_IF 3.1.4.4 FB_So ERead Class XDiag FB_So ERead Class XDiag s Net Id T_Ams Net ID BOOL b Busy b Execute BOOL BOOL b Error i Diag Class USINT UINT i Ads Err Id t Timeout TIME UINT i Sercos Err Id ↔ Axis Reference To NCTOPLC_AXIS_REF WORD w Class XDiag DWORD dw Attribute With the function block FB_So ERead Class XDiag, the current Class 1 diagnosis (S-0-0011) ... Class 3 diagnosis (S-0-0013) can be read out as WORD. There is the conversion function F_Conv Word To STAX5000C1D for the evaluation of the Class 1 diagnosis as a structure ST_AX5000_C1D, (see Twin CAT 3 PLC Lib Tc2_Drive documentation). Inputs VAR_INPUT s Net Id : T_Ams Net Id := ''; b Execute : BOOL; i Diag Class : USINT:= 1; (* 1: C1D (S-0-0011) is default, 2: C2D (S-0-0012), 3: C3D (S-0-0013) *) t Timeout : TIME := DEFAULT_ADS_TIMEOUT; END_VAR Name Type Description s Net Id T_Ams Net Id String, which contains the AMS Network ID of the PC (type: T_Ams Net Id). b Execute BOOL The function block is enabled via a positive edge at this input. i Diag Class USINT Specifies which diagnosis should be read. The diagnostics parameters may vary from vendor to vendor. All diagnostics parameters (C1D ... C3D) or all bits are not always implemented in them. 1: Error: Class 1 Diag (S-0-0011) 2: Warnings: Class 2 Diag (S-0-0012) 3: Information: Class 3 Diag (S-0-0013) t Timeout TIME Maximum time allowed for the execution of the function block. Inputs/outputs VAR_IN_OUT Axis : NCTOPLC_AXIS_REF;(* reference to NC axis *) END_VAR Name Type Description Axis NCTOPLC_AXIS_REF Axis data structure of the type NCTOPLC_AXIS_REF Outputs VAR_OUTPUT b Busy : BOOL; b Error : BOOL; i Ads Err Id : UINT; i Sercos Err Id : UINT; w Class XDiag : WORD; dw Attribute : DWORD; END_VAR TE1000 Version: 1.2.8 21
## Page 22

Function blocks Name Type Description b Busy BOOL This output is set when the function block is activated, and remains set until a feedback is received. b Error BOOL This output is set after the b Busy output has been reset when an error occurs in the transmission of the command. i Ads Err Id UINT Returns the ADS error code of the last executed command when the b Error output is set. i Sercos Err I UINT In the case of a set b Error output returns the Sercos error of the d last executed command. w Class XDi WORD Returns the current Class X diagnosis. ag dw Attribut DWORD Returns the attributes of the Sercos parameter. e Sample fb Class XDiag : FB_So ERead Class XDiag; b Class XDiag : BOOL; i Diag Class : USINT := 1; w Class1Diag : WORD; st AX5000C1D : ST_AX5000_C1D; w Class2Diag : WORD; (* Nc Axis *) Nc To Plc AT %I* : NCTOPLC_AXIS_REF; IF b Class XDiag THEN fb Class XDiag( Axis := Nc To Plc, b Execute := TRUE, i Diag Class := i Diag Class, t Timeout := DEFAULT_ADS_TIMEOUT ); IF NOT fb Class XDiag.b Busy THEN fb Class XDiag(Axis := Nc To Plc, b Execute := FALSE); b Class XDiag := FALSE; CASE fb Class XDiag.i Diag Class OF 1: w Class1Diag := fb Class XDiag.w Class XDiag; st AX5000C1D := F_Conv Word To STAX5000C1D(w Class1Diag); 2: w Class2Diag := fb Class XDiag.w Class XDiag; END_CASE END_IF END_IF 3.1.5 Function blocks for determining current values 3.1.5.1 FB_So ERead FB_So ERead s Net Id T_Ams Net ID BOOL b Busy n Idn WORD BOOL b Error n Element BYTE UINT i Ads Err Id p Dst Buf PVOID UINT i Sercos Err Id cb Buf Len UDINT DWORD dw Attribute b Execute BOOL t Timeout TIME ↔ Axis Reference To NCTOPLC_AXIS_REF With the FB_So ERead function block a parameter can be read. 22 Version: 1.2.8 TE1000
## Page 23

Function blocks Inputs VAR_INPUT s Net Id : T_Ams Net Id := ''; n Idn : WORD; n Element : BYTE; p Dst Buf : PVOID; cb Buf Len : UDINT; b Execute : BOOL; t Timeout : TIME := DEFAULT_ADS_TIMEOUT; END_VAR Name Type Description s Net Id T_Ams Net Id String, which contains the AMS Network ID of the PC (type: T_Ams Net Id). n Idn WORD Parameter number to which FB_So ERead refers, e.g. "S_0_IDN + 33" for S-0-0033. n Element BYTE Specifies which part of the parameter should be accessed, e.g. 16#40 is the value (Value) of the parameter. EC_SOE_ELEMENT_DATASTATE :BYTE :=16#01; EC_SOE_ELEMENT_NAME :BYTE :=16#02; EC_SOE_ELEMENT_ATTRIBUTE :BYTE :=16#04; EC_SOE_ELEMENT_UNIT :BYTE :=16#08; EC_SOE_ELEMENT_MIN :BYTE :=16#10; EC_SOE_ELEMENT_MAX :BYTE :=16#20; EC_SOE_ELEMENT_VALUE :BYTE :=16#40; EC_SOE_ELEMENT_DEFAULT :BYTE :=16#80; p Dst Buf PVOID ADR() of the variables to which the value should be read. cb Buf Len UDINT SIZEOF() of the variables to which the value should be read. b Execute BOOL The function block is enabled via a positive edge at this input. t Timeout TIME Maximum time allowed for the execution of the function block. Inputs/outputs VAR_IN_OUT Axis : NCTOPLC_AXIS_REF;(* reference to NC axis *) END_VAR Name Type Description Axis NCTOPLC_AXIS_REF Axis data structure of the type NCTOPLC_AXIS_REF Outputs VAR_OUTPUT b Busy : BOOL; b Error : BOOL; i Ads Err Id : UINT; i Sercos Err Id : UINT; dw Attribute : DWORD; END_VAR Name Type Description b Busy BOOL This output is set when the function block is activated, and remains set until a feedback is received. b Error BOOL This output is set after the b Busy output has been reset when an error occurs in the transmission of the command. i Ads Err Id UINT Returns the ADS error code of the last executed command when the b Error output is set. TE1000 Version: 1.2.8 23
## Page 24

Function blocks Name Type Description i Sercos Err I UINT In the case of a set b Error output returns the Sercos error of the d last executed command. dw Attribut DWORD Returns the attributes of the Sercos parameter. e Sample fb Read : FB_So ERead; b Read : BOOL; i Read Value : UINT; n Idn : WORD; b Read Value : UINT; (* Nc Axis *) Nc To Plc AT %I* : NCTOPLC_AXIS_REF; IF b Read THEN n Idn := S_0_IDN + 33; fb Read( Axis := Nc To Plc, n Idn := n Idn, n Element := 16#40, p Dst Buf := ADR(i Read Value), cb Buf Len := SIZEOF(i Read Value), b Execute := TRUE, t Timeout := DEFAULT_ADS_TIMEOUT ); IF NOT fb Read.b Busy THEN fb Read(Axis := Nc To Plc, b Execute := FALSE); b Read := FALSE; END_IF END_IF 3.1.5.2 FB_So EWrite FB_So EWrite s Net Id T_Ams Net ID BOOL b Busy n Idn WORD BOOL b Error n Element BYTE UINT i Ads Err Id p Src Buf PVOID UINT i Sercos Err Id cb Buf Len UDINT b Execute BOOL t Timeout TIME s Password ST_So E_String ↔ Axis Reference To NCTOPLC_AXIS_REF With the FB_So EWrite function block a parameter can be written. Inputs VAR_INPUT s Net Id : T_Ams Net Id := ''; n Idn : WORD; n Element : BYTE; p Src Buf : PVOID; cb Buf Len : UDINT; b Execute : BOOL; t Timeout : TIME := DEFAULT_ADS_TIMEOUT; s Password : ST_So E_String; END_VAR Name Type Description s Net Id T_Ams Net Id String, which contains the AMS Network ID of the PC (type: T_Ams Net Id). n Idn WORD Parameter number to which FB_So ERead refers, e.g. "S_0_IDN + 47" for S-0-0047. 24 Version: 1.2.8 TE1000
## Page 25

Function blocks Name Type Description n Element BYTE Specifies which part of the parameter should be accessed, e.g. 16#40 is the value (Value) of the parameter. Usually there is only write access to the value, other components of the parameter are read-only. EC_SOE_ELEMENT_DATASTATE :BYTE :=16#01; EC_SOE_ELEMENT_NAME :BYTE :=16#02; EC_SOE_ELEMENT_ATTRIBUTE :BYTE :=16#04; EC_SOE_ELEMENT_UNIT :BYTE :=16#08; EC_SOE_ELEMENT_MIN :BYTE :=16#10; EC_SOE_ELEMENT_MAX :BYTE :=16#20; EC_SOE_ELEMENT_VALUE :BYTE :=16#40; EC_SOE_ELEMENT_DEFAULT :BYTE :=16#80; p Src Buf PVOID ADR() of the variable containing the value to be written. cb Buf Len UDINT SIZEOF() of the variable containing the value to be written. b Execute BOOL The function block is enabled via a positive edge at this input. t Timeout TIME Maximum time allowed for the execution of the function block. s Password ST_So E_String Password as sercos string. Currently not used. The password must be written with FB_So EWrite Password [} 11]. Inputs/outputs VAR_IN_OUT Axis : NCTOPLC_AXIS_REF;(* reference to NC axis *) END_VAR Name Type Description Axis NCTOPLC_AXIS_REF Axis data structure of the type NCTOPLC_AXIS_REF Outputs VAR_OUTPUT b Busy : BOOL; b Error : BOOL; i Ads Err Id : UINT; i Sercos Err Id : UINT; END_VAR Name Type Description b Busy BOOL This output is set when the function block is activated, and remains set until a feedback is received. b Error BOOL This output is set after the b Busy output has been reset when an error occurs in the transmission of the command. i Ads Err Id UINT Returns the ADS error code of the last executed command when the b Error output is set. i Sercos Err I UINT In the case of a set b Error output returns the Sercos error of the d last executed command. Sample fb Write : FB_So EWrite; b Write : BOOL; n Idn : WORD; i Write Value : UINT; s Password : ST_So E_String; (* Nc Axis *) Nc To Plc AT %I* : NCTOPLC_AXIS_REF; IF b Write THEN n Idn := S_0_IDN + 33; fb Write( TE1000 Version: 1.2.8 25
## Page 26

Function blocks Axis := Nc To Plc, n Idn := n Idn, n Element := 16#40, p Src Buf := ADR(i Write Value), cb Buf Len := SIZEOF(i Write Value), s Password := s Password, b Execute := TRUE, t Timeout := DEFAULT_ADS_TIMEOUT ); IF NOT fb Write.b Busy THEN fb Write(Axis := Nc To Plc, b Execute := FALSE); b Write := FALSE; END_IF END_IF 3.1.5.3 FB_So ERead Amplifier Temperature FB_So ERead Amplifier Temperature s Net Id T_Ams Net ID BOOL b Busy b Execute BOOL BOOL b Error t Timeout TIME UINT i Ads Err Id ↔ Axis Reference To NCTOPLC_AXIS_REF UINT i Sercos Err Id REAL f Amplifier Temperature DWORD dw Attribute With the FB_So ERead Amplifier Temperature function block the temperature of the drive (S-0-0384) can be read. Inputs VAR_INPUT s Net Id : T_Ams Net Id := ''; b Execute : BOOL; t Timeout : TIME := DEFAULT_ADS_TIMEOUT; END_VAR Name Type Description s Net Id T_Ams Net Id String, which contains the AMS Network ID of the PC (type: T_Ams Net Id). b Execute BOOL The function block is enabled via a positive edge at this input. t Timeout TIME Maximum time allowed for the execution of the function block. Inputs/outputs VAR_IN_OUT Axis : NCTOPLC_AXIS_REF;(* reference to NC axis *) END_VAR Name Type Description Axis NCTOPLC_AXIS_REF Axis data structure of the type NCTOPLC_AXIS_REF Outputs VAR_OUTPUT b Busy : BOOL; b Error : BOOL; i Ads Err Id : UINT; i Sercos Err Id : UINT; f Amplifier Temperature : REAL; dw Attribute : DWORD; END_VAR 26 Version: 1.2.8 TE1000
## Page 27

Function blocks Name Type Description b Busy BOOL This output is set when the function block is activated, and remains set until a feedback is received. b Error BOOL This output is set after the b Busy output has been reset when an error occurs in the transmission of the command. i Ads Err Id UINT Returns the ADS error code of the last executed command when the b Error output is set. i Sercos Err I UINT In the case of a set b Error output returns the Sercos error of the d last executed command. f Amplifier T REAL Returns the drive temperature (e.g. 26.2 corresponds to 26.2 °C). emperatur e dw Attribut DWORD Returns the attributes of the Sercos parameter. e Sample fb Read Amplifier Temp : FB_So ERead Amplifier Temperature; b Read Amplifier Temp : BOOL; f Amplifier Temperature : REAL; (* Nc Axis *) Nc To Plc AT %I* : NCTOPLC_AXIS_REF; IF b Read Amplifier Temp THEN fb Read Amplifier Temp( Axis := Nc To Plc, b Execute := TRUE, t Timeout := DEFAULT_ADS_TIMEOUT, f Amplifier Temperature=>f Amplifier Temperature ); IF NOT fb Read Amplifier Temp.b Busy THEN fb Read Amplifier Temp(Axis := Nc To Plc, b Execute := FALSE); b Read Amplifier Temp := FALSE; END_IF END_IF 3.1.5.4 FB_So ERead Motor Temperature FB_So ERead Motor Temperature s Net Id T_Ams Net ID BOOL b Busy b Execute BOOL BOOL b Error t Timeout TIME UINT i Ads Err Id ↔ Axis Reference To NCTOPLC_AXIS_REF UINT i Sercos Err Id REAL f Motor Temperature DWORD dw Attribute With the function block FB_So ERead Motor Temperature the temperature of the motor (S-0-0383) can be read. If the motor does not contain a temperature sensor, this is 0.0, i.e. 0.0 °C. Inputs VAR_INPUT s Net Id : T_Ams Net Id := ''; b Execute : BOOL; t Timeout : TIME := DEFAULT_ADS_TIMEOUT; END_VAR Name Type Description s Net Id T_Ams Net Id String, which contains the AMS Network ID of the PC (type: T_Ams Net Id). b Execute BOOL The function block is enabled via a positive edge at this input. TE1000 Version: 1.2.8 27
## Page 28

Function blocks Name Type Description t Timeout TIME Maximum time allowed for the execution of the function block. Inputs/outputs VAR_IN_OUT Axis : NCTOPLC_AXIS_REF;(* reference to NC axis *) END_VAR Name Type Description Axis NCTOPLC_AXIS_REF Axis data structure of the type NCTOPLC_AXIS_REF Outputs VAR_OUTPUT b Busy : BOOL; b Error : BOOL; i Ads Err Id : UINT; i Sercos Err Id : UINT; f Motor Temperature : REAL; dw Attribute : DWORD; END_VAR Name Type Description b Busy BOOL This output is set when the function block is activated, and remains set until a feedback is received. b Error BOOL This output is set after the b Busy output has been reset when an error occurs in the transmission of the command. i Ads Err Id UINT Returns the ADS error code of the last executed command when the b Error output is set. i Sercos Err I UINT In the case of a set b Error output returns the Sercos error of the d last executed command. f Motor Tem REAL Returns the motor temperature (e.g. 30.5 corresponds to 30.5 °C). perature If the motor does not contain a temperature sensor, this is 0.0, i.e. 0.0 °C. dw Attribut DWORD Returns the attributes of the Sercos parameter. e Sample fb Read Motor Temp : FB_So ERead Motor Temperature; b Read Motor Temp : BOOL; f Motor Temperature : REAL; (* Nc Axis *) Nc To Plc AT %I* : NCTOPLC_AXIS_REF; IF b Read Motor Temp AND NOT b Init THEN fb Read Motor Temp( Axis := Nc To Plc, b Execute := TRUE, t Timeout := DEFAULT_ADS_TIMEOUT, f Motor Temperature=>f Motor Temperature ); IF NOT fb Read Motor Temp.b Busy THEN fb Read Motor Temp(Axis := Nc To Plc, b Execute := FALSE); b Read Motor Temp := FALSE; END_IF END_IF 28 Version: 1.2.8 TE1000
## Page 29

Function blocks 3.1.5.5 FB_So ERead Dc Bus Current FB_So ERead Dc Bus Current s Net Id T_Ams Net ID BOOL b Busy b Execute BOOL BOOL b Error t Timeout TIME UINT i Ads Err Id ↔ Axis Reference To NCTOPLC_AXIS_REF UINT i Sercos Err Id REAL f Dc Bus Current DWORD dw Attribute With the function block FB_So EAX5000Read Dc Bus Current the DC-Bus current (S-0-0381) can be read. Inputs VAR_INPUT s Net Id : T_Ams Net Id := ''; b Execute : BOOL; t Timeout : TIME := DEFAULT_ADS_TIMEOUT; END_VAR Name Type Description s Net Id T_Ams Net Id String, which contains the AMS Network ID of the PC (type: T_Ams Net Id). b Execute BOOL The function block is enabled via a positive edge at this input. t Timeout TIME Maximum time allowed for the execution of the function block. Inputs/outputs VAR_IN_OUT Axis : NCTOPLC_AXIS_REF;(* reference to NC axis *) END_VAR Name Type Description Axis NCTOPLC_AXIS_REF Axis data structure of the type NCTOPLC_AXIS_REF Outputs VAR_OUTPUT b Busy : BOOL; b Error : BOOL; i Ads Err Id : UINT; i Sercos Err Id : UINT; f Dc Bus Current : REAL; dw Attribute : DWORD; END_VAR Name Type Description b Busy BOOL This output is set when the function block is activated, and remains set until a feedback is received. b Error BOOL This output is set after the b Busy output has been reset when an error occurs in the transmission of the command. i Ads Err Id UINT Returns the ADS error code of the last executed command when the b Error output is set. i Sercos Err I UINT In the case of a set b Error output returns the Sercos error of the d last executed command. f Dc Bus Cur REAL Returns the attributes of the Sercos parameter. rent TE1000 Version: 1.2.8 29
## Page 30

Function blocks Name Type Description dw Attribut DWORD Returns the DC bus current (e.g. 2,040 equals 2,040 A). e Sample fb Read Dc Bus Current : FB_So ERead Dc Bus Current_By Drive Ref; b Read Dc Bus Current : BOOL; f Dc Bus Current : REAL; (* Nc Axis *) Nc To Plc AT %I* : NCTOPLC_AXIS_REF; IF b Read Dc Bus Current THEN fb Read Dc Bus Current( Axis := Nc To Plc, b Execute := TRUE, t Timeout := DEFAULT_ADS_TIMEOUT, f Dc Bus Current=>f Dc Bus Current ); IF NOT fb Read Dc Bus Current.b Busy THEN fb Read Dc Bus Current(Axis := Nc To Plc, b Execute := FALSE); b Read Dc Bus Current := FALSE; END_IF END_IF 3.1.5.6 FB_So ERead Dc Bus Voltage FB_So ERead Dc Bus Voltage s Net Id T_Ams Net ID BOOL b Busy b Execute BOOL BOOL b Error t Timeout TIME UINT i Ads Err Id ↔ Axis Reference To NCTOPLC_AXIS_REF UINT i Sercos Err Id REAL f Dc Bus Voltage DWORD dw Attribute With the FB_So ERead Dc Bus Voltage function block the Dc-Bus voltage of the drive (S-0-0380) can be read. Inputs VAR_INPUT s Net Id : T_Ams Net Id := ''; b Execute : BOOL; t Timeout : TIME := DEFAULT_ADS_TIMEOUT; END_VAR Name Type Description s Net Id T_Ams Net Id String, which contains the AMS Network ID of the PC (type: T_Ams Net Id). b Execute BOOL The function block is enabled via a positive edge at this input. t Timeout TIME Maximum time allowed for the execution of the function block. Inputs/outputs VAR_IN_OUT Axis : NCTOPLC_AXIS_REF;(* reference to NC axis *) END_VAR Name Type Description Axis NCTOPLC_AXIS_REF Axis data structure of the type NCTOPLC_AXIS_REF 30 Version: 1.2.8 TE1000
## Page 31

Function blocks Outputs VAR_OUTPUT b Busy : BOOL; b Error : BOOL; i Ads Err Id : UINT; i Sercos Err Id : UINT; f Dc Bus Voltage : REAL; dw Attribute : DWORD; END_VAR Name Type Description b Busy BOOL This output is set when the function block is activated, and remains set until a feedback is received. b Error BOOL This output is set after the b Busy output has been reset when an error occurs in the transmission of the command. i Ads Err Id UINT Returns the ADS error code of the last executed command when the b Error output is set. i Sercos Err I UINT In the case of a set b Error output returns the Sercos error of the d last executed command. f Dc Bus Volt REAL Returns the DC-Bus voltage (e.g. 294.0 corresponds to 294.0 V). age dw Attribut DWORD Returns the attributes of the Sercos parameter. e Sample fb Read Dc Bus Voltage : FB_So ERead Dc Bus Voltage; b Read Dc Bus Voltage : BOOL; f Dc Bus Voltage : REAL; (* Nc Axis *) Nc To Plc AT %I* : NCTOPLC_AXIS_REF; IF b Read Dc Bus Voltage THEN fb Read Dc Bus Voltage( Axis := Nc To Plc, b Execute := TRUE, t Timeout := DEFAULT_ADS_TIMEOUT, f Dc Bus Voltage=>f Dc Bus Voltage ); IF NOT fb Read Dc Bus Voltage.b Busy THEN fb Read Dc Bus Voltage(Axis := Nc To Plc, b Execute := FALSE); b Read Dc Bus Voltage := FALSE; END_IF END_IF 3.2 General Co E 3.2.1 Function blocks for determining current values 3.2.1.1 FB_Co ERead FB_Co ERead s Net Id T_Ams Net ID BOOL b Busy i Index WORD BOOL b Error i Sub Index BYTE UINT i Ads Err Id p Dst Buf PVOID UINT i CANopen Err Id i Buf Len UDINT b Execute BOOL t Timeout TIME b Complete Access BOOL ↔ Axis Reference To NCTOPLC_AXIS_REF TE1000 Version: 1.2.8 31
## Page 32

Function blocks The function block FB_Co ERead allows data to be read from an object directory of an Ether CAT slave through an SDO (Service Data Object) access. This requires the slave to have a mailbox and to support the Co E (CANopen over Ether CAT) protocol. With the help of the Sub Index and Index parameters a selection is made as to which object should be read out. Via Complete Access := TRUE the parameter can be read with sub-elements. Inputs VAR_INPUT s Net Id : T_Ams Net Id;(*net ID of PC with NC*) i Index : WORD;(*Co E object index*) i Sub Index : BYTE;(*Co E sub index*) p Dst Buf : PVOID;(*Contains the address of the buffer for the received data*) i Buf Len : UDINT;(*Contains the max. number of bytes to be received*) b Execute : BOOL;(*Function block execution is triggered by a rising edge at this input.*) t Timeout : TIME := DEFAULT_ADS_TIMEOUT; (*States the time before the function is cancelled.*) b Complete Access : BOOL;(*Function block reads the complete object with all sub index*) END_VAR Name Type Description s Net Id T_Ams Net Id String, which contains the AMS Network ID of the PC (type: T_Ams Net Id). i Index WORD Index of the object that is to be read. i Sub Index BYTE Subindex of the object that is to be read. p Dst Buf PVOID Address (pointer) to the receive buffer i Buf Len UDINT Maximum available buffer size (in bytes) for the data to be read b Execute BOOL The function block is enabled via a positive edge at this input. t Timeout TIME Maximum time allowed for the execution of the function block. b Complete Acces BOOL Via Complete Access the complete object can be s accessed at once. Inputs/outputs VAR_IN_OUT Axis : NCTOPLC_AXIS_REF; END_VAR Name Type Description Axis NCTOPLC_AXIS_REF Axis data structure of type NCTOPLC_AXIS_REF, which addresses an axis uniquely within the system. Among other things it contains the current state of the axis such as the position, the velocity and the error state. Outputs VAR_OUTPUT b Busy : BOOL; b Error : BOOL; i Ads Err Id : UINT; i CANopen Err Id : UINT; END_VAR Name Type Description b Busy BOOL This output is set when the function block is activated, and remains set until a feedback is received. b Error BOOL This output is set after the b Busy output has been reset when an error occurs in the transmission of the command. i Ads Err Id UINT In the event of a set b Error output returns the ADS error code. 32 Version: 1.2.8 TE1000
## Page 33

Function blocks Name Type Description i CANopen UINT In the event of a set b Error output returns the CANopen error Err Id code. 3.2.1.2 FB_Co EWrite FB_Co EWrite s Net Id T_Ams Net ID BOOL b Busy i Index WORD BOOL b Error i Sub Index BYTE UINT i Ads Err Id p Src Buf PVOID UINT i CANopen Err Id i Buf Len UDINT b Execute BOOL t Timeout TIME b Complete Access BOOL ↔ Axis Reference To NCTOPLC_AXIS_REF With the function block FB_Co EWrite, an object from the object directory of an Ether CAT slave can be written via an SDO (Service Data Object) download. This requires the slave to have a mailbox and to support the Co E (CANopen over Ether CAT) protocol. With the help of the Sub Index and Index parameters a selection is made as to which object should be written. Via Complete Access := TRUE the parameter can be written with sub-elements. Inputs VAR_INPUT s Net Id : T_Ams Net Id;(*net ID of PC with NC*) i Index : WORD;(*Co E object index*) i Sub Index : BYTE;(*Co E sub index*) p Dst Buf : PVOID;(*Contains the address of the buffer for the received data*) i Buf Len : UDINT;(*Contains the max. number of bytes to be received*) b Execute : BOOL;(*Function block execution is triggered by a rising edge at this input.*) t Timeout : TIME := DEFAULT_ADS_TIMEOUT; (*States the time before the function is cancelled.*) b Complete Access : BOOL;(*Function block reads the complete object with all sub index*) END_VAR Name Type Description s Net Id T_Ams Net Id String, which contains the AMS Network ID of the PC (type: T_Ams Net Id). i Index WORD Index of the object that is supposed to be written. i Sub Index BYTE Subindex of the object that is supposed to be written. p Dst Buf PVOID Address (pointer) to the transmit buffer i Buf Len UDINT Maximum available buffer size (in bytes) for the data to be read b Execute BOOL The function block is enabled via a positive edge at this input. t Timeout TIME Maximum time allowed for the execution of the function block. b Complete Acces BOOL Via Complete Access the complete object can be s accessed at once. Inputs/outputs VAR_IN_OUT Axis : NCTOPLC_AXIS_REF; END_VAR TE1000 Version: 1.2.8 33
## Page 34

Function blocks Name Type Description Axis NCTOPLC_AXIS_REF Axis data structure of type NCTOPLC_AXIS_REF, which addresses an axis uniquely within the system. Among other things it contains the current state of the axis such as the position, the velocity and the error state. Outputs VAR_OUTPUT b Busy : BOOL; b Error : BOOL; i Ads Err Id : UINT; i CANopen Err Id : UINT; END_VAR Name Type Description b Busy BOOL This output is set when the function block is activated, and remains set until a feedback is received. b Error BOOL This output is set after the b Busy output has been reset when an error occurs in the transmission of the command. i Ads Err Id UINT In the event of a set b Error output returns the ADS error code. i CANopen UINT In the event of a set b Error output returns the CANopen error Err Id code. 3.3 AX5000 So E 3.3.1 FB_So EAX5000Read Act Main Voltage FB_So EAX5000Read Act Main Voltage s Net Id T_Ams Net ID BOOL b Busy b Execute BOOL BOOL b Error t Timeout TIME UINT i Ads Err Id ↔ Axis Reference To NCTOPLC_AXIS_REF UINT i Sercos Err Id DWORD dw Attribute LREAL f Actual Main Voltage With the FB_So EAX5000Read Act Main Voltage function block the current peak value of the mains voltage of the AX5000 (P-0-0200) can be read. Inputs VAR_INPUT s Net Id : T_Ams Net Id := ''; b Execute : BOOL; t Timeout : TIME := DEFAULT_ADS_TIMEOUT; END_VAR Name Type Description s Net Id T_Ams Net Id String, which contains the AMS Network ID of the PC (type: T_Ams Net Id). b Execute BOOL The function block is enabled via a positive edge at this input. t Timeout TIME Maximum time allowed for the execution of the function block. 34 Version: 1.2.8 TE1000
## Page 35

Function blocks Inputs/outputs VAR_IN_OUT Axis : NCTOPLC_AXIS_REF;(* reference to NC axis *) END_VAR Name Type Description Axis NCTOPLC_AXIS_REF Axis data structure of the type NCTOPLC_AXIS_REF Outputs VAR_OUTPUT b Busy : BOOL; b Error : BOOL; i Ads Err Id : UINT; i Sercos Err Id : UINT; dw Attribute : DWORD; f Actual Main Voltage : LREAL; END_VAR Name Type Description b Busy BOOL This output is set when the function block is activated, and remains set until a feedback is received. b Error BOOL This output is set after the b Busy output has been reset when an error occurs in the transmission of the command. i Ads Err Id UINT Returns the ADS error code of the last executed command when the b Error output is set. i Sercos Err I UINT In the case of a set b Error output returns the Sercos error of the d last executed command. dw Attribut DWORD Returns the attributes of the Sercos parameter. e f Actual Mai LREAL Returns the peak value of the current mains voltage of the AX5000 n Voltage (e.g. 303.0 corresponds to 303.0 V). Sample fb Read Act Main Voltage : FB_So EAX5000Read Act Main Voltage; b Read Act Main Voltage : BOOL; f Actual Main Voltage : REAL; (* Nc Axis *) Nc To Plc AT %I* : NCTOPLC_AXIS_REF; IF b Read Act Main Voltage THEN fb Read Act Main Voltage( Axis := Nc To Plc, b Execute := TRUE, t Timeout := DEFAULT_ADS_TIMEOUT, f Actual Main Voltage=>f Actual Main Voltage ); IF NOT fb Read Act Main Voltage.b Busy THEN fb Read Act Main Voltage(Axis := Nc To Plc, b Execute := FALSE); b Read Act Main Voltage := FALSE; END_IF END_IF 3.3.2 FB_So EAX5000Set Motor Ctrl Word FB_So EAX5000Set Motor Ctrl Word s Net Id T_Ams Net ID BOOL b Busy b Execute BOOL BOOL b Error t Timeout TIME UINT i Ads Err Id b Force Lock BOOL UINT i Sercos Err Id b Force Unlock BOOL ↔ Axis Reference To NCTOPLC_AXIS_REF TE1000 Version: 1.2.8 35
## Page 36

Function blocks With the function block FB_So EAX5000Set Motor Ctrl Word the Force Lock bit (Bit 0) or the Force Unlock bit can be set in the Motor Control Word (P-0-0096) to activate or release the brake. Normally the brake is automatically controlled via the Enable of the drive. With the Force Lock bit, the brake can be activated independently from the Enable, with the Force Unlock bit, the brake can be released independently from the Enable. In the case of simultaneously set Force Lock and Force Unlock, Force Lock (Brake activated) has the higher priority. Inputs VAR_INPUT s Net Id : T_Ams Net Id := ''; b Execute : BOOL; t Timeout : TIME := DEFAULT_ADS_TIMEOUT; b Force Lock : BOOL; b Force Unlock : BOOL; END_VAR Name Type Description s Net Id T_Ams Net Id String, which contains the AMS Network ID of the PC (type: T_Ams Net Id). b Execute BOOL The function block is enabled via a positive edge at this input. t Timeout TIME Maximum time allowed for the execution of the function block. b Force Lock BOOL Activates the brake independently of the enable. b Force Unlock BOOL Releases the brake independently of the enable. Inputs/outputs VAR_IN_OUT Axis : NCTOPLC_AXIS_REF;(* reference to NC axis *) END_VAR Name Type Description Axis NCTOPLC_AXIS_REF Axis data structure of the type NCTOPLC_AXIS_REF Outputs VAR_OUTPUT b Busy : BOOL; b Error : BOOL; i Ads Err Id : UINT; i Sercos Err Id : UINT; END_VAR Name Type Description b Busy BOOL This output is set when the function block is activated, and remains set until a feedback is received. b Error BOOL This output is set after the b Busy output has been reset when an error occurs in the transmission of the command. i Ads Err Id UINT Returns the ADS error code of the last executed command when the b Error output is set. i Sercos Err I UINT In the case of a set b Error output returns the Sercos error of the d last executed command. Sample fb Set Motor Ctrl Word : FB_So EAX5000Set Motor Ctrl Word; b Set Motor Ctrl Word : BOOL; b Force Lock : BOOL; b Force Unlock : BOOL; (* Nc Axis *) Nc To Plc AT %I* : NCTOPLC_AXIS_REF; 36 Version: 1.2.8 TE1000
## Page 37

Function blocks IF b Set Motor Ctrl Word THEN fb Set Motor Ctrl Word( Axis := Nc To Plc, b Execute := TRUE, t Timeout := DEFAULT_ADS_TIMEOUT, b Force Lock := b Force Lock, b Force Unlock:= b Force Unlock ); IF NOT fb Set Motor Ctrl Word.b Busy THEN fb Set Motor Ctrl Word(Axis := Nc To Plc, b Execute := FALSE); b Set Motor Ctrl Word := FALSE; END_IF END_IF 3.3.3 FB_So EAX5000Firmware Update FB_So EAX5000Firmware Update s Net Id T_Ams Net ID BOOL b Busy b Execute BOOL BOOL b Error s Firmware Version STRING(20) UINT i Ads Err Id s Firmware Path T_Max String UINT i Sercos Err Id i Req Ec State UINT UDINT i Diag Number t Timeout TIME E_Fw Update State e Fw Update State ↔ Axis Reference To NCTOPLC_AXIS_REF INT i Load Progress STRING(255) s Selected Firmware File With the FB_So EAX5000Firmware Update function block the Firmware of the AX5000 can be checked and automatically changed to a given version (Revision and Build) or to the current Build of the configured revision. For the update: • the configured slave type is determined, e.g. AX5103-0000-0010 • the current slave is determined with the predefined slave address, e.g. AX5103-0000-0009 • the current slave firmware is determined, e.g. v1.05_b0009 • a comparison of the configuration and the found slave regarding number of channels, current, revision and firmware is made • the name of the required firmware file is determined and a search for the file performed • the firmware update is executed (if necessary) • the current slave with the predefined slave address is determined again • the slave is switched to the predefined Ether CAT state A successful update ends with e Fw Update State = e Fw U_Fw Update Done. If the update is not required, this is signaled via e Fw Update State = e Fw U_No Fw Update Required. The firmware update takes place via the specified channel (A=0 or B=1) from st Drive Ref. In the case of two- channel devices only one of the two channels can be used. The other channel signals e Fw Update State = e Fw U_Update Via Other Channel Active or e Fw Update State = e Fw U_Update Via Other Channel. During the firmware update (e Fw Update State = e Fw U_Fw Update In Progress), i Load Progress signals the progress in percent. TE1000 Version: 1.2.8 37
## Page 38

Function blocks NOTICE Faulty update due to interruptions Interruptions during the update may result in it not being executed or executed incorrectly. Afterwards, the terminal may no longer be usable without the appropriate firmware. The rules during the update are: • The PLC and Twin CAT must not be stopped. • The Ether CAT connection must not be interrupted. • The AX5000 must not be switched off. Inputs VAR_INPUT s Net Id : T_Ams Net Id; b Execute : BOOL; s Firmware Version : STRING(20); (* version string vx.yy_bnnnn, e.g. "v1.05_b0009" for v1.05 Build 0009*) s Firmware Path : T_Max String; (* drive:\path, e.g. "C: \Twin CAT\Io\Tc Drive Manager\Firmware Pool" *) i Req Ec State : UINT := EC_DEVICE_STATE_OP; t Timeout : TIME := DEFAULT_ADS_TIMEOUT; END_VAR Name Type Description s Net Id T_Ams Net Id AMS-Net ID of the controller (IPC). b Execute BOOL The function block is activated by a positive edge at this input. s Firmware Versio STRING(20) Specifies the desired firmware version in the form of n vx.yy_bnnnn, e.g. "v1.05_b0009" for Version v1.05 Build 0009. Release-Builds: • "v1.05_b0009" for a specific build, e.g. v1.05 Build 0009 • "v1.05_b00??" latest build of a specified version, e.g. v1.05 • "v1.??_b00??" latest build of a specified main version, e.g. v1 • "v?.??_b00??" latest build of the latest version • " " latest build of the latest version Customer-specific Firmware-Builds: • "v1.05_b0009" for a specific build, e.g. v1.05 Build 0009 • "v1.05_b10??" latest build of a specified version, e.g. v1.05 • "v1.??_b10??" latest build of a specified main version, e.g. v1 • "v?.??_b10??" latest build of the latest version ... • "v1.05_b8909" for a specific build, e.g. v1.05 Build 8909 • "v1.05_b89??" latest build of a specified version, e.g. v1.05 • "v1.??_b89??" latest build of a specified main version, e.g. v1 • "v?.??_b89??" latest build of the latest version Debug-Builds: 38 Version: 1.2.8 TE1000
## Page 39

Function blocks Name Type Description • "v1.05_b9009" for a specific build, e.g. v1.05 Build 9009 • "v1.05_b90??" latest build of a specified version, e.g. v1.05 • "v1.??_b90??" latest build of a specified main version, e.g. v1 • "v?.??_b90??" latest build of the latest version s Firmware Path T_Max String Specifies the path for the firmware pool in which the firmware files are located, e.g. C: \Twin CAT\Io\Tc Drive Manager\Firmware Pool. i Req Ec State UINT Desired Ether CAT state after the update (only if an update is actually being executed). The states are defined in PLC Lib Tc2_Ether CAT as global constants. t Timeout TIME Since the firmware update for large Ether CAT networks can take longer, only the timeout for individual internal ADS instances is specified here. Inputs/outputs VAR_IN_OUT Axis : NCTOPLC_AXIS_REF;(* reference to NC axis *) END_VAR Name Type Description Axis NCTOPLC_AXIS_REF Axis data structure of the type NCTOPLC_AXIS_REF Outputs VAR_OUTPUT b Busy : BOOL; b Error : BOOL; i Ads Err Id : UINT; i Sercos Err Id : UINT; i Diag Number : UDINT; e Fw Update State : E_Fw Update State; i Load Progress : INT; s Selected Firmware File : STRING(MAX_STRING_LENGTH); (* found firmware file, e.g. "AX5yxx_xxxx_-0010_v 1_05_b0009.efw" *) END_VAR Name Type Description b Busy BOOL This output is set when the function block is activated, and remains set until a feedback is received. b Error BOOL This output is set after the b Busy output has been reset when an error occurs in the transmission of the command. i Ads Err Id UINT Returns the ADS error code of the last executed command when the b Error output is set. i Sercos Err I UINT In the case of a set b Error output returns the Sercos error of the d last executed command. i Diag Numb UDINT In the case of a set b Error output returns the drive error of the last er executed firmware update. e Fw Updat E_Fw Update State Returns the status of the firmware update. e State i Load Progr INT Returns the progress of the actual firmware update as a ess percentage. s Selected STRING(MAX_STRING_LE Displays the name of the firmware file being searched for. Firmware F NGTH) ile TE1000 Version: 1.2.8 39
## Page 40

Function blocks Sample VAR CONSTANT i Num Of Drives : INT := 2; END_VAR VAR fb Firmware Update : ARRAY [1..i Num Of Drives] OF FB_So EAX5000Firmware Update; Nc To Plc AT %I* : ARRAY [1..i Num Of Drives] OF NCTOPLC_AXIS_REF; s Firmware Version : ARRAY [1..i Num Of Drives] OF STRING(20)(* := 2('v1.04_b0002')*); e Fw Update State : ARRAY [1..i Num Of Drives] OF E_Fw Update State; s Selected Firmware File: ARRAY [1..i Num Of Drives] OF STRING(MAX_STRING_LENGTH); i Update State : INT; b Execute : BOOL; s Net Id IPC : T_Ams Net Id := ''; s Firmware Path : T_Max String := 'C:\Twin CAT\Io\Tc Drive Manager\Firmware Pool'; I : INT; b Any Busy : BOOL; b Any Error : BOOL; END_VAR CASE i Update State OF 0: IF b Execute THEN i Update State := 1; END_IF 1: FOR I := 1 TO i Num Of Drives DO fb Firmware Update[I]( Axis := Nc To Plc[I], b Execute := TRUE, t Timeout := T#15s, s Firmware Version := s Firmware Version[I], s Firmware Path := s Firmware Path, s Net Id := s Net Id IPC, i Req Ec State := EC_DEVICE_STATE_OP, e Fw Update State => e Fw Update State[I] ); END_FOR i Update State := 2; 2: b Any Busy := FALSE; b Any Error:= FALSE; FOR I := 1 TO i Num Of Drives DO fb Firmware Update[I]( Axis := Nc To Plc[I], e Fw Update State => e Fw Update State[I], s Selected Firmware File => s Selected Firmware File[I] ); IF NOT fb Firmware Update[I].b Busy THEN fb Firmware Update[I](b Execute := FALSE, Axis := Nc To Plc[I]); IF fb Firmware Update[I].b Error THEN b Any Error := TRUE; END_IF ELSE b Any Busy := TRUE; END_IF END_FOR IF NOT b Any Busy THEN b Execute := FALSE; IF NOT b Any Error THEN i Update State := 0; (* OK *) ELSE i Update State := 0; (* Error *) END_IF END_IF END_CASE 3.4 F_Get Version Tc Nc Drive This function can be used to read PLC library version information. 40 Version: 1.2.8 TE1000
## Page 41

Function blocks FUNCTION F_Get Version Tc Nc Drive: UINT VAR_INPUT n Version Element : INT; END_VAR n Version Element: Version element to be read. Possible parameters: • 1 : major number; • 2 : minor number; • 3 : revision number; TE1000 Version: 1.2.8 41
## Page 42

Data types 4 Data types 4.1 E_So E_Cmd State TYPE E_So E_Cmd State:( e So E_Cmd State_Not Set := 0, e So E_Cmd State_Set := 1, e So E_Cmd State_Executed := 2, e So E_Cmd State_Set Enabled Executed := 3, e So E_Cmd State_Set And Interrupted := 5, e So E_Cmd State_Set Enabled Not Executed := 7, e So E_Cmd State_Error := 15 ); END_TYPE Name Description e So E_Cmd State_Not Set No command active e So E_Cmd State_Set Command set (prepared) but not (yet) executed. e So E_Cmd State_Executed Command was executed. e So E_Cmd State_Set Enabled Exec Command set (prepared) and executed. uted e So E_Cmd State_Set And Interrupte Command was set but interrupted. d e So E_Cmd State_Set Enabled Not E Command execution is still active. xecuted e So E_Cmd State_Error Error during command execution. The error state has been changed. 42 Version: 1.2.8 TE1000
## Page 43

Support and Service 5 Support and Service Beckhoff and their partners around the world offer comprehensive support and service, making available fast and competent assistance with all questions related to Beckhoff products and system solutions. Download finder Our download finder contains all the files that we offer you for downloading. You will find application reports, technical documentation, technical drawings, configuration files and much more. The downloads are available in various formats. Beckhoff's branch offices and representatives Please contact your Beckhoff branch office or representative for local support and service on Beckhoff products! The addresses of Beckhoff's branch offices and representatives round the world can be found on our internet page: www.beckhoff.com You will also find further documentation for Beckhoff components there. Beckhoff Support Support offers you comprehensive technical assistance, helping you not only with the application of individual Beckhoff products, but also with other, wide-ranging services: • support • design, programming and commissioning of complex automation systems • and extensive training program for Beckhoff system components Hotline: +49 5246 963-157 e-mail: support@beckhoff.com Beckhoff Service The Beckhoff Service Center supports you in all matters of after-sales service: • on-site service • repair service • spare parts service • hotline service Hotline: +49 5246 963-460 e-mail: service@beckhoff.com Beckhoff Headquarters Beckhoff Automation Gmb H & Co. KG Huelshorstweg 20 33415 Verl Germany Phone: +49 5246 963-0 e-mail: info@beckhoff.com web: www.beckhoff.com TE1000 Version: 1.2.8 43
## Page 44

Trademark statements Beckhoff®, ATRO®, Ether CAT®, Ether CAT G®, Ether CAT G10®, Ether CAT P®, MX-System®, Safety over Ether CAT®, TC/BSD®, Twin CAT®, Twin CAT/BSD®, Twin SAFE®, XFC®, XPlanar® and XTS® are registered and licensed trademarks of Beckhoff Automation Gmb H. Third-party trademark statements The registered trademark Linux® is used pursuant to a sublicense from the Linux Foundation, the exclusive licensee of Linus Torvalds, owner of the mark on a worldwide basis.
## Page 45

More Information: www.beckhoff.com/te1000 Beckhoff Automation Gmb H & Co. KG Hülshorstweg 20 33415 Verl Germany Phone: +49 5246 9630 info@beckhoff.com www.beckhoff.com
