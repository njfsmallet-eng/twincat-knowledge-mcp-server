---
title: "TF2000 Twin CAT 3"
product: "TF2000"
category: "HMI"
tags: ["CAT", "HMI", "TWIN"]
language: "EN"
document_type: "Manual"
version: "1.5.0"
source_pdf: "https://download.beckhoff.com/download/Document/automation/twincat3/TF2000_TC3_HMI_Server_EN.pdf"
release_date: "2025-09-09"
---
Manual | EN TF2000 Twin CAT 3 | HMI Server 2025-09-09 | Version: 1.5.0

## Page 3

Table of contents Table of contents 1 Foreword.................................................................................................................................................... 5 1.1 Notes on the documentation............................................................................................................. 5 1.2 For your safety.................................................................................................................................. 5 1.3 Notes on information security............................................................................................................ 7 2 Overview.................................................................................................................................................... 8 2.1 Product description........................................................................................................................... 8 3 Installation................................................................................................................................................. 9 3.1 System requirements........................................................................................................................ 9 3.2 Installation......................................................................................................................................... 9 3.2.1 Version <= 1.12.................................................................................................................. 9 3.2.2 Version 1.14..................................................................................................................... 14 3.3 Licensing......................................................................................................................................... 21 4 Configuration........................................................................................................................................... 25 4.1 Version <= 1.12............................................................................................................................... 25 4.2 Version 1.14.................................................................................................................................... 25 4.2.1 Windows........................................................................................................................... 25 4.2.2 Linux®............................................................................................................................... 27 4.2.3 Twin CAT/BSD.................................................................................................................. 28 4.3 ADS................................................................................................................................................. 28 4.3.1 Quick start........................................................................................................................ 28 4.3.2 Configuration.................................................................................................................... 30 4.3.3 ADS Server Interface....................................................................................................... 37 4.4 Tc Hmi Srv......................................................................................................................................... 40 4.4.1 Configuring certificates..................................................................................................... 40 4.4.2 Configuring the network interface card............................................................................ 41 4.4.3 Client prioritization............................................................................................................ 42 4.5 Start more instances....................................................................................................................... 45 5 Appendix.................................................................................................................................................. 48 5.1 Return codes................................................................................................................................... 48 5.1.1 ADS Return Codes........................................................................................................... 48 5.1.2 HMI_ADS_CONSTANTS Enumeration............................................................................ 51 5.1.3 Error Value Enumeration................................................................................................... 52 5.2 Troubleshooting.............................................................................................................................. 55 5.2.1 Config page...................................................................................................................... 56 5.2.2 Crash dumps.................................................................................................................... 57 6 Support and Service............................................................................................................................... 58 TF2000 Version: 1.5.0 3

## Page 4

Table of contents 4 Version: 1.5.0 TF2000

## Page 5

Foreword 1 Foreword 1.1 Notes on the documentation This description is intended exclusively for trained specialists in control and automation technology who are familiar with the applicable national standards. The documentation and the following notes and explanations must be complied with when installing and commissioning the components. The trained specialists must always use the current valid documentation. The trained specialists must ensure that the application and use of the products described is in line with all safety requirements, including all relevant laws, regulations, guidelines, and standards. Disclaimer The documentation has been compiled with care. The products described are, however, constantly under development. We reserve the right to revise and change the documentation at any time and without notice. Claims to modify products that have already been supplied may not be made on the basis of the data, diagrams, and descriptions in this documentation. Trademarks Beckhoff®, ATRO® , Ether CAT®, Ether CAT G®, Ether CAT G10®, Ether CAT P®, MX-System®, Safety over Ether CAT®, TC/BSD®, Twin CAT®, Twin CAT/BSD®, Twin SAFE®, XFC®, XPlanar®, and XTS® are registered and licensed trademarks of Beckhoff Automation Gmb H. If third parties make use of the designations or trademarks contained in this publication for their own purposes, this could infringe upon the rights of the owners of the said designations. Ether CAT® is a registered trademark and patented technology, licensed by Beckhoff Automation Gmb H, Germany. Copyright © Beckhoff Automation Gmb H & Co. KG, Germany. The distribution and reproduction of this document, as well as the use and communication of its contents without express authorization, are prohibited. Offenders will be held liable for the payment of damages. All rights reserved in the event that a patent, utility model, or design are registered. Third-party trademarks Trademarks of third parties may be used in this documentation. You can find the trademark notices here: https://www.beckhoff.com/trademarks. 1.2 For your safety Safety regulations Read the following explanations for your safety. Always observe and follow product-specific safety instructions, which you may find at the appropriate places in this document. Exclusion of liability All the components are supplied in particular hardware and software configurations which are appropriate for the application. Modifications to hardware or software configurations other than those described in the documentation are not permitted, and nullify the liability of Beckhoff Automation Gmb H & Co. KG. TF2000 Version: 1.5.0 5

## Page 6

Foreword Personnel qualification This description is only intended for trained specialists in control, automation, and drive technology who are familiar with the applicable national standards. Signal words The signal words used in the documentation are classified below. In order to prevent injury and damage to persons and property, read and follow the safety and warning notices. Personal injury warnings DANGER Hazard with high risk of death or serious injury. WARNING Hazard with medium risk of death or serious injury. CAUTION There is a low-risk hazard that could result in medium or minor injury. Warning of damage to property or environment NOTICE The environment, equipment, or data may be damaged. Information on handling the product This information includes, for example: recommendations for action, assistance or further information on the product. 6 Version: 1.5.0 TF2000

## Page 7

Foreword 1.3 Notes on information security The products of Beckhoff Automation Gmb H & Co. KG (Beckhoff), insofar as they can be accessed online, are equipped with security functions that support the secure operation of plants, systems, machines and networks. Despite the security functions, the creation, implementation and constant updating of a holistic security concept for the operation are necessary to protect the respective plant, system, machine and networks against cyber threats. The products sold by Beckhoff are only part of the overall security concept. The customer is responsible for preventing unauthorized access by third parties to its equipment, systems, machines and networks. The latter should be connected to the corporate network or the Internet only if appropriate protective measures have been set up. In addition, the recommendations from Beckhoff regarding appropriate protective measures should be observed. Further information regarding information security and industrial security can be found in our https://www.beckhoff.com/secguide. Beckhoff products and solutions undergo continuous further development. This also applies to security functions. In light of this continuous further development, Beckhoff expressly recommends that the products are kept up to date at all times and that updates are installed for the products once they have been made available. Using outdated or unsupported product versions can increase the risk of cyber threats. To stay informed about information security for Beckhoff products, subscribe to the RSS feed at https:// www.beckhoff.com/secinfo. TF2000 Version: 1.5.0 7

## Page 8

Overview 2 Overview 2.1 Product description The Twin CAT HMI server is a web server that was developed in-house by Beckhoff. It is platform- independent and not based on any web server functionalities of the operating system. The Twin CAT HMI server has a modular structure. Via server extensions it can provide additional functionalities such as a reporting system or other protocols. This enables customers to develop their own server extensions, so that their business logic can be provided centrally. The Twin CAT HMI server supports the Twin CAT ADS protocol and can therefore communicate with all Twin CAT devices. Third-party systems can be connected via OPC UA extensions. 8 Version: 1.5.0 TF2000

## Page 9

Installation 3 Installation 3.1 System requirements Version 1.14 Technical Data TF2000 | Twin CAT 3 HMI Server Min. Twin CAT version 3.1.4024.0 from HMI server version 14.3 via setup 3.1.4026.0 from HMI server version 14.1 via Tc Pkg Min. Twin CAT-Level Build 4024 TC1000 | Twin CAT 3 ADS Tc Pkg Workload TF2000. HMIServer. XAR Operating system Windows 10, Windows 11 Twin CAT/BSD Twin CAT Runtime for Linux® Version 1.12 Technical Data TF2000 | Twin CAT 3 HMI Server Min. Twin CAT version 3.1.4024.0 Min. Twin CAT level TC1000 | Twin CAT 3 ADS Operating system Windows 10, Windows 11 Windows CE7 Twin CAT/BSD Version 1.10 Technical Data TF2000 | Twin CAT 3 HMI Server Min. Twin CAT version 3.1.4022.0 Min. Twin CAT level TC1000 | Twin CAT 3 ADS Operating system Windows 7/8/10 3.2 Installation There are different ways to install the TF2000 HMI Server. Depending on the operating system, this can be done via a setup or via package management. 3.2.1 Version <= 1.12 Procedure for installing the Twin CAT HMI Server for Windows-based operating systems except for Windows CE7: 1. For an update installation, close all HMI server instances that may be running. This is done automatically by the setup starting with version 1.12. 2. Double-click on the downloaded file TF2000-HMI-Server. Start the installation under Windows with Run As Admin by right-clicking the setup files and selecting the corresponding option in the context menu. TF2000 Version: 1.5.0 9

## Page 10

Installation 3. Select the language to guide you through the installation. 4. Click on Next and then accept the end user agreement. 10 Version: 1.5.0 TF2000

## Page 11

Installation 5. Enter your user data. 6. You have a choice between complete and user-specific installation. Confirm with Next. TF2000 Version: 1.5.0 11

## Page 12

Installation 7. The user-specific installation offers the following settings: ð If all HMI server instances are not yet closed, the setup will pause. 8. Close all HMI server instances and click Retry. This is done automatically by the setup starting with version 1.12. 12 Version: 1.5.0 TF2000

## Page 13

Installation 9. Select Finish to exit the setup. ð The installation is now completed. Version 1.10: You can start the TF2000 HMI Server via the optional desktop shortcut or the Start menu (Programs>Beckhoff>Twin CAT HMI Server). TF2000 Version: 1.5.0 13

## Page 14

Installation Version 1.12: The Twin CAT HMI Server has been registered as a service. This means that the Twin CAT HMI Server starts automatically with the Twin CAT System Service and does not have to be started manually. You can manually stop or restart the service using the Task Manager. 3.2.2 Version 1.14 The individual installation steps vary depending on the operating system. Check the required server version To check which server version is required on the target system, proceed as follows. 14 Version: 1.5.0 TF2000

## Page 15

Installation 1. Open your Twin CAT HMI project 2. Select References in the Solution Explorer and right-click to open a context menu. 3. Select Manage Nu Get Packages from the context menu. 4. Go to the Installed tab. 5. Select the Beckhoff. Twin CAT. HMI. Server:Engineering package. 6. Go to the Package Details tab. ð Under Tags, you can now see the Product Version. This must be identical to the server on the target system. Since version 1.14.x, no HMI server is installed in the background when installing the Engineering (TE2000). The HMI server is integrated directly into the Twin CAT HMI project using a Nu Get package. This offers the advantage that there is no fixed binding between the engineering and the version of the server. This allows old projects to be opened in a new engineering without having to migrate to a new version. To update the server version in a project, the Nu Get package Beckhoff. Twin CAT. HMI. Server. Engineering must be changed to the desired version. It is not possible to downgrade the version here! 3.2.2.1 Windows Installation Tcpkg (Twin CAT >= 4026) Power Shell: 1. Open Power Shell. 2. Enter the command: tcpkg install TF2000. HMIServer. XAR. ð The TF2000 function has been successfully installed. The Twin CAT HMI Server starts as a service directly in the background and is available. You can manually stop or restart the service using the Task Manager. Twin CAT Package Manager TF2000 Version: 1.5.0 15

## Page 16

Installation 1. Open the Twin CAT Package Manager. 2. Select the Workloads area. 3. Search for TF2000. ð The workload of the TF2000 appears. 4. Select the TF2000 to see all available versions. 5. Select the required version. ð The version has been placed in the top right of the template for installation. 6. Click on the template at the top right. ð A side window opens. 7. Click Apply changes. ð The TF2000 function has been successfully installed. The Twin CAT HMI Server starts as a service directly in the background and is available. You can manually stop or restart the service using the Task Manager. Installation Setup (only for Twin CAT <= 4024) To install the Twin CAT HMI Server for Windows-based operating systems, proceed as follows: 1. Start the setup as administrator. Right-click to open the context menu to start the installation as administrator. 2. Select the language to guide you through the installation. 16 Version: 1.5.0 TF2000

## Page 17

Installation 3. Check the license agreement 4. Enter your information. TF2000 Version: 1.5.0 17

## Page 18

Installation 5. Select between a Complete or Custom installation. 6. Select the options you require. ð The TF2000 function has been successfully installed. The Twin CAT HMI Server starts as a service directly in the background and is available. You can manually stop or restart the service using the Task Manager. 18 Version: 1.5.0 TF2000

## Page 19

Installation 3.2.2.2 Linux® Installation 1. Start your browser. 2. Enter the following in the URL: https//<IP address>/console 3. Log in as an administrator. 4. Update the packages in the Package Manager. sudo apt update 5. Search for the existing TF2000 packages. sudo apt search tf2000 6. Install TF2000 via the Package Manager. sudo apt install tf2000-hmi-server ð The server has been successfully installed. 7. Initialize the HMI server. Initialization under Linux® [} 27] 8. Start the server. sudo systemctl enable Tc Hmi Srv.service sudo systemctl start Tc Hmi Srv.service ð The server has been successfully started. 3.2.2.3 Twin CAT/BSD Installation 1. Start your browser. 2. Enter the following in the URL: https//<IP address>/console 3. Log in as an administrator. TF2000 Version: 1.5.0 19

## Page 20

Installation 4. Update the packages in the Package Manager. doas pkg update 5. Search for the existing TF2000 packages. pkg search TF2000 6. Install TF2000 via the Package Manager. doas pkg install TF2000-HMI-Server-<version> ð The server has been successfully installed. 7. Initialize the HMI server. Initialization under Twin CAT/BSD [} 28] 8. Start the server. doas service Tc Hmi Srv start ð The server has been successfully started. 20 Version: 1.5.0 TF2000

## Page 21

Installation 3.3 Licensing Licensing a full version 1. Start Twin CAT XAE 2. Open an existing Twin CAT 3 project or create a new project 3. In the Solution Explorer, navigate to the entry SYSTEM/License 4. Open the Manage Licenses tab and add a Runtime License for your product (in this screenshot TF2000: TC3 HMI Server). 5. Optional: If you wish to add the license for a remote device, you must first connect to this device via the Twin CAT XAE toolbar 6. Open the Order Information tab. The System ID and HW Platform fields cannot be changed. They describe the platform to be licensed. In general, a Twin CAT 3 license is bound to two key figures: The System ID uniquely identifies your device. The HW platform is a key figure for the performance of the device. TF2000 Version: 1.5.0 21

## Page 22

Installation 7. Optionally, you can enter your own order number and a comment for your own needs 8. On the Order Information tab, click the Generate License Request File... button to generate a license request file that is validated by a Beckhoff license server (if you do not know your Beckhoff License ID , contact your Beckhoff sales representative). 9. After you have saved the License Request File, the system asks whether the file should be sent to the Beckhoff license server by email: 10. If you confirm the dialog with Yes, your default email client opens and creates a new email for tclicense@beckhoff.com containing the license request file. 11. Send this activation request to Beckhoff The License Response File is sent to the same email address that sent the License Request File. 22 Version: 1.5.0 TF2000

## Page 23

Installation 12. Shortly afterwards, you will receive a license file from the Beckhoff license server. Import the file via the Activate License Response File... button to activate the product 13. Select the License Response File you received in your folder system 14. The License Response File is imported and all licenses contained in it are activated (all affected demo licenses are removed) TF2000 Version: 1.5.0 23

## Page 24

Installation 15. Restart Twin CAT to activate the license ð The license file is automatically copied to your local hard disk under ...\Twin CAT\3.1\Target\License. 24 Version: 1.5.0 TF2000

## Page 25

Configuration 4 Configuration After installation, the Twin CAT HMI Server must be initialized. This varies depending on the Twin CAT HMI version. 4.1 Version <= 1.12 After installation, the Twin CAT HMI Server must be initialized. Initializing the Twin CAT HMI Server under Windows Assign a default password for the system administrator so that the HMI server can be configured and the HMI engineering can access it. After starting the server you can use the System tray to call the configuration page of the server. Assign a password for the system administrator when you call up the page for the first time. The configuration and the published HMI project can be found under \Program Data\Beckhoff\TF2000 Twin CAT 3 HMI Server. To reset the server, you can delete the directory. To back up or delete the files, stop the server. 4.2 Version 1.14 The individual steps for initializing the Twin CAT HMI Server vary depending on the operating system. 4.2.1 Windows In the first step, the server was installed and runs as a service in the background. Immediately after installation, the server does not yet have a server instance. To create a new server instance, proceed as follows. Initializing the Twin CAT HMI Server 1. Open the Service configuration of the server. Right-click on the Tc Hmi icon in the taskbar or via the browser http://127.0.0.1:19800/ TF2000 Version: 1.5.0 25

## Page 26

Configuration ð The Service configuration of the server opens in the browser 2. Add a new server instance. Default Port HTTP 2010 and HTTPS 2020 26 Version: 1.5.0 TF2000

## Page 27

Configuration ð A new instance has been successfully added and is displayed in the Installed Servers table. 4.2.2 Linux® Initializing the Twin CAT HMI Server 1. Start your browser. 2. Enter the following in the URL: https//<IP address>/console 3. Log in as an administrator. 4. Initialize the server. sudo Tc Hmi Srv - initialize -password=<password> You can also pass the following parameters TF2000 Version: 1.5.0 27

## Page 28

Configuration --endpoint=http://127.0.0.1:2010 / Creates a local endpoint for http on port 2010 --name=My Project / Creates the server instance with the corresponding name ð The server has been initialized. To display further settings, use the command Tc Hmi Srv --help 4.2.3 Twin CAT/BSD Initializing the Twin CAT HMI Server 1. Start your browser. 2. Enter the following in the URL: https//<IP address>/console 3. Log in as an administrator. 4. Initialize the server. doas Tc Hmi Srv - initialze -password=<password> You can also pass the following parameters --endpoint=http://127.0.0.1:2010 / Creates a local endpoint for http on port 2010 --name=My Project / Creates the server instance with the corresponding name ð The server has been initialized. To display further settings, use the command Tc Hmi Srv --help 4.3 ADS The Automation Device Specification is the Twin CAT communication protocol. This can be used to access the individual modules. 4.3.1 Quick start To start, create or open a Twin CAT HMI project. Installation Installation is not necessary. This package is an integral part of the HMI Server. Configuration of the ADS extension 1. Open the server configuration page. 28 Version: 1.5.0 TF2000

## Page 29

Configuration 2. Go to the ADS tab. 3. Click on Runtimes to open the submenu. ð An entry with PLC1 is already set up by default. 4. Adjust the PLC1 entry or click on Add runtime TF2000 Version: 1.5.0 29

## Page 30

Configuration ð When adding, a pop-up opens for further settings. 5. Define the name of the runtime under: Name:. (Used as namespace for the symbols). Active: Activate or deactivate the connection to the specified target system. Ams Net Id: The Ams Net Id of the target system to which a connection is to be established. Port: The Port for the ADS connection. Use Whitelisting: If Whitelisting should be used. Variables in the PLC are only found if the corresponding attributes [} 34] have been set on the PLC variable. Allow only read access: Block write access to the system. ð The connection you have configured is now available. The new symbols can now be read via the server. To do this, you can map directly via the server or the configuration window within Visual Studio. 4.3.2 Configuration General The basic settings for the Server extension are specified in the General tab. 30 Version: 1.5.0 TF2000

## Page 31

Configuration Runtimes [} 32] • Establish a connection to a device via ADS. Timeout • Specifies how long an attempt is made to establish a connection or a read request is performed before a timeout occurs. Support incomplete writing operations by reading before writing • Was required for older Twin CAT versions < 4024.17. With newer Twin CAT versions, disabling can lead to better performance. Maximum timeout for runtime status determination (Advanced settings) • A configured runtime is considered unavailable if a request takes longer than this period of time. Interval of runtime status determination (advanced settings) • The status of each configured runtime is checked at regular intervals. Ignored PLC attributes (advanced settings) • Attribute pragmas are added to the JSON schema. The attributes configured here are hidden. Visible runtime ports (advanced settings) • Target systems can have many ADS ports. Most of them are rarely used in HMI projects. Limiting the response size of ADS requests (Advanced settings) • The PLC task is blocked for each request. If the request is too large, the PLC cycle time may be exceeded. Limitation of the number of ADS requests that can be bundled in a sum request (Advanced settings) • The PLC task is blocked for each request. If a sum request contains too many requests, the PLC cycle time may be exceeded. Limiting the number of ADS handles created with a sum request (Advanced settings) • The Twin CAT handle buffer is not increased during a sum request. Creating too many ADS handles in a single sum request leads to errors if the Twin CAT handle buffer is full. TF2000 Version: 1.5.0 31

## Page 32

Configuration 4.3.2.1 Runtimes Establish a connection via ADS to another process. Enabled • Enable or disable the connection to the set AMS Net Id. Ams Net Id • AMS Net Id to which a connection is to be established. Port • Specifies the port for the ADS connection. Use whitelisting • Indicates whether whitelisting is used. Variables in the PLC are only found if the corresponding attributes [} 34] have been set on the PLC variable. Allow only read access • Indicates whether only reading via ADS is possible. 32 Version: 1.5.0 TF2000

## Page 33

Configuration Symbols [} 33] • Provides variables without symbol names. These are addressed via the Index group and the Index offset. 4.3.2.1.1 Access by Index Group and Offset It makes most sense to access PLC variables by symbol name in order to detect changes in the symbolism (e.g. due to an Online Change). Small controllers (e.g. BC/BX) that have no symbolism can be addressed directly via Index group and offset. Via the configured ADS runtime you can add a new symbol that fetches the values by Index group and offset (hex values are converted to the corresponding decimal values). Name • Name of the new symbol. Index group • Index group of the data which should be read. Index offset • Index offset of the data which should be read. Data type • Data type of the new symbol. TF2000 Version: 1.5.0 33

## Page 34

Configuration 4.3.2.2 Blacklisting and whitelisting With version 1.12, it is possible to use black or whitelisting for PLC symbols. With black or whitelisting, PLC symbols can be explicitly hidden or shown for use in the HMI. For this, you can tag the corresponding variables in the PLC with an attribute pragma. In the default case, blacklisting is active, which means that you have access to all variables of the PLC that are not explicitly hidden for the HMI. On the configuration page of the ADS extension, you can switch between black and whitelisting (Use whitelisting). The following attribute pragmas are available for black or whitelisting in the Twin CAT HMI: { attribute 'Tc Hmi Symbol. Show' } { attribute 'Tc Hmi Symbol. Show Recursively' } { attribute 'Tc Hmi Symbol. Hide' } { attribute 'Tc Hmi Symbol. Read Only' } { attribute 'Tc Hmi Symbol. BLOB' } Use: • Tc Hmi Symbol. Show: If a variable has this attribute, it will be displayed in the HMI in case of whitelisting. With this attribute only the first level is displayed (example: only the struct, but not the sub- elements). The attribute has no effect on blacklisting. 34 Version: 1.5.0 TF2000

## Page 35

Configuration • Tc Hmi Symbol. Show Recursively: If a variable has this attribute, it is displayed with all sub-elements in the HMI in the case of whitelisting (e.g. structure or function block with all sub-elements). Variables in the sub-elements that are blacklisted with Tc Hmi Symbol. Hide are not displayed. • Tc Hmi Symbol. Hide: If a variable has this attribute, it will not be displayed in the HMI in case of blacklisting. All variables without an attribute are displayed. If the attribute is used with a structure, all sub-elements are also hidden in the HMI, even if they are tagged with Tc Hmi Symbol. Show. • Tc Hmi Symbol. Read Only: If a variable has this attribute, the variable with all sub-elements cannot be written in the HMI. • Tc Hmi Symbol. BLOB: If a variable has this attribute, the data is transferred to the server and the client in binary form (reduction of packet size). The data must be converted in the client itself. Blacklisting overrides whitelisting. With blacklisting, all variables are visible in the HMI, except variables with the attribute Tc Hmi- Symbol. Hide. With whitelisting, no variables are visible in the HMI except variables with the attributes Tc Hmi Symbol. Show and Tc Hmi Symbol. Show Recursively. Available since version 1.12. 4.3.2.3 Methods and properties With version 1.12 it is possible to access PLC properties in the HMI and to call PLC methods in the HMI. PLC properties The properties must be made visible in the PLC with an attribute pragma via ADS. {attribute 'monitoring' := 'call'} PROPERTY Prop : BOOL You can then access the property in the Twin CAT HMI. TF2000 Version: 1.5.0 35

## Page 36

Configuration PLC properties can only be used explicitly in the HMI by linking the property individually to a control attribute. If the entire function block is linked to a control attribute, the property is not called. This is the case when a function block is used as the source data of the Data Grid or as a user control parameter. PLC methods The methods must be switched visible in the PLC with an attribute pragma via ADS. {attribute 'Tc Rpc Enable'} METHOD My Method : BOOL VAR_INPUT b Input : BOOL; END_VAR Afterwards you can see the methods in the Twin CAT HMI. Within the Twin CAT HMI Configuration Window, you can call them explicitly. At runtime in the client, you can call the methods using a Java Script/Type Script function and the Framework API. Below you will find an example for the call via Framework API. // call of method without parameter Tc Hmi. Symbol.read Ex2("%s%PLC1. MAIN.fb Test. Method Without Param%/s%", function (data) { console.log(data); }); // call of method with parameter Tc Hmi. Symbol.write Ex("%s%PLC1. MAIN.fb Test. My Method%/s%", { b Input: true }, function (data) { console.log(data); }); If the method has a return value, you can access the return value within the callback function in the Result object. 36 Version: 1.5.0 TF2000

## Page 37

Configuration In a future version of the Twin CAT HMI, it will be possible to call the methods directly via the Actions and Conditions Editor without using Java Script/Type Script. Methods must always be called explicitly and cannot be used as a control attribute. Note that calling a method from the HMI results in the execution of PLC code. Available from version 1.12. 4.3.2.4 Pointers and references With version 1.12.748.0, references, pointers and interface pointers can be resolved in the HMI. This makes it possible to access the original variable being pointed to via the pointer or reference. This can be read and written when accessing via the pointer or reference. The resolved pointers or references are listed as usual under the variables in the Twin CAT HMI Configuration Window. Changing the addresses of the pointers or references so that they point to another variable is not possible in the HMI. This must be done in the PLC. Available from version 1.12.748.0. 4.3.3 ADS Server Interface The HMI Server's ADS Server When the HMI server is started as a service, the service manager opens an ADS server on port 19800. This ADS server can be used to discover and get the state of HMI server instances that are managed by the service manager. Index groups and index offsets Read-Write requests The "RW" value in the "Access" column indicates that only Read-Write requests are supported for this index group index offset combination. All index offsets of the INDEXGROUP_SERVERSTATES index group expect the name of the managed server instance as a write-value. It is analogous to a function parameter. The following table contains all supported index groups: TF2000 Version: 1.5.0 37

## Page 38

Configuration Index Group Name Description Remarks 0x00000001 INDEXGROUP_SERVER Contains index offsets for the STATES state of the managed server instances. 0x00000002 INDEXGROUP_INSTANC Contains index offsets that ES provide access to the names of the managed server instances. The following table contains all supported index offsets for the INDEXGROUP_SERVERSTATES index group: Index Group Index Offset Access Data Type Offset Name Description 0x00000001 0x00000001 RW W: STRING R: INDEXOFFSET_SE The full state of a STRING RVERSTATE_JSON specific managed server instance as a JSON object. 0x0000001 0x00000002 RW W: STRING R: INDEXOFFSET_SE The name of the STRING RVERSTATE_ARC architecture that a HITECTURE specific managed server instance is running on. 0x00000001 0x00000003 RW W: STRING R: INDEXOFFSET_SE True if the managed BOOL RVERSTATE_CRE server instance is an ATOR_MODE engineering server (started with "-- creator"). 0x00000001 0x00000004 RW W: STRING R: INDEXOFFSET_SE The process ID of a UINT64 RVERSTATE_PID specific managed server instance. 0x00000001 0x00000005 RW W: STRING R: INDEXOFFSET_SE The product version of HMIVERSION RVERSTATE_PRO a specific managed DUCT_VERSION server instance. 0x00000001 0x00000006 RW W: STRING R: INDEXOFFSET_SE The configured project STRING RVERSTATE_PROJ name of a specific ECT_NAME managed server instance. 0x00000001 0x00000007 RW W: STRING R: INDEXOFFSET_SE The configured project HMIVERSION RVERSTATE_PROJ version of a specific ECT_VERSION managed server instance. 0x00000001 0x00000008 RW W: STRING R: INDEXOFFSET_SE True if a project is BOOL RVERSTATE_PUBL being published onto ISH_IN_PROGRES the specified managed S server instance. 0x00000001 0x00000009 RW W: STRING R: INDEXOFFSET_SE Always true, because BOOL RVERSTATE_SERV all managed server ICE_MODE instances are started by the service manager. 0x00000001 0x0000000A RW W: STRING R: INDEXOFFSET_SE The unique instance STRING RVERSTATE_SERV name of a specific ICE_NAME managed server instance. This is pretty useless because you need to know it to request it. 0x00000001 0x0000000B RW W: STRING R: INDEXOFFSET_SE The running state of a INT32 RVERSTATE_STAT specific managed E server instance. 38 Version: 1.5.0 TF2000

## Page 39

Configuration Index Group Index Offset Access Data Type Offset Name Description 0x00000001 0x0000000C RW W: STRING R: INDEXOFFSET_SE The version of a HMIVERSION RVERSTATE_VERS specific managed ION server instance. 0x00000001 0x0000000D RW W: STRING R: INDEXOFFSET_SE The number of UINT8[n] RVERSTATE_END returned strings as a POINTS UINT32, followed by all configured endpoints of a specific managed server instance concatenated, each separated by a 0x00 byte. 0x00000001 0x0000000E RW W: STRING R: INDEXOFFSET_SE The forced UINT8[n] RVERSTATE_FOR authentication CEAUTHENDPOINT endpoints of a specific S managed server instance. 0x00000001 0x0000000F RW W: STRING R: INDEXOFFSET_SE The current ISO-8601 STRING RVERSTATE_SERV timestamp of a specific ERTIME managed server instance. 0x00000001 0x0000001F RW W: STRING R: INDEXOFFSET_SE The current timestamp INT64 RVERSTATE_SERV of a specific managed ERTIME_NS server instance in nanoseconds since the Unix epoch. The following table contains all supported index offsets for the INDEXGROUP_INSTANCES index group: Index Group Index Offset Access Data Type Offset Name Description 0x00000002 0x00000001 R STRING INDEXOFFSET_IN The names of the STANCE_NAMES_ managed server instances JSON as a JSON array of strings. 0x00000002 0x00000002 R UINT8[n] INDEXOFFSET_IN The number of returned STANCE_NAMES strings as a UINT32, followed by the names of the managed server instances concatenated, each separated by a 0x00 byte. The HMIVERSION type Normally, ADS uses three-part version numbers consisting of a major version, a revision number and a build number. The Twin CAT HMI uses four-part version numbers instead. To solve this problem, the HMIVERSION type was introduced. It is returned by requests to the following index group index offset combinations: • INDEXGROUP_SERVERSTATES:INDEXOFFSET_SERVERSTATE_PRODUCT_VERSION • INDEXGROUP_SERVERSTATES:INDEXOFFSET_SERVERSTATE_VERSION • INDEXGROUP_SERVERSTATES:INDEXOFFSET_SERVERSTATE_PRODUCT_VERSION • INDEXGROUP_SERVERSTATES:INDEXOFFSET_SERVERSTATE_PROJECT_VERSION Type definition in Structured Text (ST): TYPE HMIVERSION :STRUCT one : UDINT; two : UDINT; three : UDINT; four : UDINT; END_STRUCTEND_TYPE TF2000 Version: 1.5.0 39

## Page 40

Configuration Type definition in C: struct HMIVERSION { uint32_t one; uint32_t two; uint32_t three; uint32_t four; }; xample of the JSON object returned by INDEXGROUP_SERVERSTATES:INDEXOFFSET_SERVERSTATE_JSON { "architecture": "win-x64", "creator Mode": false, "endpoints": ["http://127.0.0.1:59150"], "force Auth Endpoints": [], "pid": 31756, "product Version": "0.0.0.0", "project Name": "", "project Version": "", "publish In Progress": false, "service Mode": true, "service Name": "Server Instance One", "state": 1, "version": "0.0.0.0" } xample of the JSON array returned by INDEXGROUP_INSTANCES:INDEXOFFSET_INSTANCE_NAMES_JSON ["Server Instance One", "Server Instance Two"] 4.4 Tc Hmi Srv 4.4.1 Configuring certificates The Twin CAT HMI server offers the option of issuing certificates for a secure connection. To verify the certificates, install them on the respective clients. If an officially issued certificate is available, you can upload it on the configuration page of the server under Tc Hmi Srv/Security/Certificate (.crt). Save the private key in PEM format. 40 Version: 1.5.0 TF2000

## Page 41

Configuration 4.4.2 Configuring the network interface card Under Tc Hmi Srv/Webserver/Endpoints you can configure under which network interface cards, port numbers and protocols the HMI server can be reached. • Protocols supported: HTTP/HTTPS • Binding to all network interface cards: Static IP address of a network card: Binding to associated cards. 127.0.0.1: Only local access is allowed, remote connections are rejected. TF2000 Version: 1.5.0 41

## Page 42

Configuration • Port number: Freely selectable, should not already be accessed by the operating system. 4.4.3 Client prioritization To define an access sequence for the clients, the Twin CAT 3 HMI server offers the option of setting a prioritization. This ensures that the connection to a low-order client is closed and the high-order client can log in. The configuration takes place in the settings of the Twin CAT 3 HMI server. The local client always has priority. If two clients from the priority list are affected, the order of the entries is checked. 1. Open Tc Hmi Svr. 2. Select the Web server tab. 3. Select the Client priority list entry 42 Version: 1.5.0 TF2000

## Page 43

Configuration 4. Click on Add TF2000 Version: 1.5.0 43

## Page 44

Configuration ð The following dialog opens. 5. Enter the IP address of the preferred client. ð The registered IP addresses are entered one below the other in a list. Example: A total of four client licenses are required (TF2000 + TF2020) so that all four clients can access the server at the same time. If you only have three licenses available, for example, this means that a client cannot establish a connection to the server. To ensure that certain clients can always establish a connection, they must be entered in the client priority list. According to this figure and the previous priority list, Client 3 can log in if a free license is available. If the other three clients log in, they would kick Client 3 out of its session. 44 Version: 1.5.0 TF2000

## Page 45

Configuration Error message on the logged off client: Available from version 1.12.748.0 4.5 Start more instances Since version 1.12, multiple server instances can be started on one system. This function is included in the basic TF2000 license. The target and client licenses are shared among the server instances, so you need licenses for the sum of all connected targets or clients. To start another server instance, proceed as follows: 1. Stop the service from the Twin CAT HMI Server (Tc Hmi Srv). You can do this in the Task Manager under the services: 2. Navigate to the following folder on the system hard disk: C:\Program Data\Beckhoff\TF2000 Twin CAT 3 HMI Server\service. 3. Create a new folder for the additional server instance. The folder name specifies the name of the instance. The default instance has the name "Tc Hmi Project". 4. Start the service again via the Task Manager. ð There are now multiple server instances initially running on the same port. Since this is not allowed, the ports must be changed. TF2000 Version: 1.5.0 45

## Page 46

Configuration 5. Open the configuration page of the default server instance at Tc Hmi Srv - Web server and change the ports to free ports. 6. Confirm the changes by clicking Accept at the bottom of the page. 46 Version: 1.5.0 TF2000

## Page 47

Configuration 7. Change the name of the instance at Tc Hmi Srv - General and confirm the changes by clicking on Accept. Enter the name you used for the folder name here. 8. Repeat the procedure from steps 3 to 7 for additional server instances. ð The server instances are now accessible via different ports. In the future, a service management page will be provided in the Twin CAT HMI server which will make it easy to create further instances. Available from version 1.12. TF2000 Version: 1.5.0 47

## Page 48

Appendix 5 Appendix 5.1 Return codes 5.1.1 ADS Return Codes Grouping of error codes: Global error codes: 0x0000 [} 48]... (0x9811_0000 ...) Router error codes: 0x500 [} 48]... (0x9811_0500 ...) General ADS errors: 0x700 [} 49]... (0x9811_0700 ...) RTime error codes: 0x1000 [} 50]... (0x9811_1000 ...) Global error codes Hex Dec HRESULT Name Description 0x0 0 0x98110000 ERR_NOERROR No error. 0x1 1 0x98110001 ERR_INTERNAL Internal error. 0x2 2 0x98110002 ERR_NORTIME No real time. 0x3 3 0x98110003 ERR_ALLOCLOCKEDMEM Allocation locked – memory error. 0x4 4 0x98110004 ERR_INSERTMAILBOX Mailbox full – the ADS message could not be sent. Reducing the number of ADS messages per cycle will help. 0x5 5 0x98110005 ERR_WRONGRECEIVEHMSG Wrong HMSG. 0x6 6 0x98110006 ERR_TARGETPORTNOTFOUND Target port not found – ADS server is not started, not reachable or not installed. 0x7 7 0x98110007 ERR_TARGETMACHINENOTFOUND Target computer not found – AMS route was not found. 0x8 8 0x98110008 ERR_UNKNOWNCMDID Unknown command ID. 0x9 9 0x98110009 ERR_BADTASKID Invalid task ID. 0x A 10 0x9811000A ERR_NOIO No IO. 0x B 11 0x9811000B ERR_UNKNOWNAMSCMD Unknown AMS command. 0x C 12 0x9811000C ERR_WIN32ERROR Win32 error. 0x D 13 0x9811000D ERR_PORTNOTCONNECTED Port not connected. 0x E 14 0x9811000E ERR_INVALIDAMSLENGTH Invalid AMS length. 0x F 15 0x9811000F ERR_INVALIDAMSNETID Invalid AMS Net ID. 0x10 16 0x98110010 ERR_LOWINSTLEVEL Installation level is too low –Twin CAT 2 license error. 0x11 17 0x98110011 ERR_NODEBUGINTAVAILABLE No debugging available. 0x12 18 0x98110012 ERR_PORTDISABLED Port disabled – Twin CAT system service not started. 0x13 19 0x98110013 ERR_PORTALREADYCONNECTED Port already connected. 0x14 20 0x98110014 ERR_AMSSYNC_W32ERROR AMS Sync Win32 error. 0x15 21 0x98110015 ERR_AMSSYNC_TIMEOUT AMS Sync Timeout. 0x16 22 0x98110016 ERR_AMSSYNC_AMSERROR AMS Sync error. 0x17 23 0x98110017 ERR_AMSSYNC_NOINDEXINMAP No index map for AMS Sync available. 0x18 24 0x98110018 ERR_INVALIDAMSPORT Invalid AMS port. 0x19 25 0x98110019 ERR_NOMEMORY No memory. 0x1A 26 0x9811001A ERR_TCPSEND TCP send error. 0x1B 27 0x9811001B ERR_HOSTUNREACHABLE Host unreachable. 0x1C 28 0x9811001C ERR_INVALIDAMSFRAGMENT Invalid AMS fragment. 0x1D 29 0x9811001D ERR_TLSSEND TLS send error – secure ADS connection failed. 0x1E 30 0x9811001E ERR_ACCESSDENIED Access denied – secure ADS access denied. Router error codes Hex Dec HRESULT Name Description 0x500 1280 0x98110500 ROUTERERR_NOLOCKEDMEMORY Locked memory cannot be allocated. 0x501 1281 0x98110501 ROUTERERR_RESIZEMEMORY The router memory size could not be changed. 0x502 1282 0x98110502 ROUTERERR_MAILBOXFULL The mailbox has reached the maximum number of possible messages. 48 Version: 1.5.0 TF2000

## Page 49

Appendix Hex Dec HRESULT Name Description 0x503 1283 0x98110503 ROUTERERR_DEBUGBOXFULL The Debug mailbox has reached the maximum number of possible messages. 0x504 1284 0x98110504 ROUTERERR_UNKNOWNPORTTYPE The port type is unknown. 0x505 1285 0x98110505 ROUTERERR_NOTINITIALIZED The router is not initialized. 0x506 1286 0x98110506 ROUTERERR_PORTALREADYINUSE The port number is already assigned. 0x507 1287 0x98110507 ROUTERERR_NOTREGISTERED The port is not registered. 0x508 1288 0x98110508 ROUTERERR_NOMOREQUEUES The maximum number of ports has been reached. 0x509 1289 0x98110509 ROUTERERR_INVALIDPORT The port is invalid. 0x50A 1290 0x9811050A ROUTERERR_NOTACTIVATED The router is not active. 0x50B 1291 0x9811050B ROUTERERR_FRAGMENTBOXFULL The mailbox has reached the maximum number for fragmented messages. 0x50C 1292 0x9811050C ROUTERERR_FRAGMENTTIMEOUT A fragment timeout has occurred. 0x50D 1293 0x9811050D ROUTERERR_TOBEREMOVED The port is removed. General ADS error codes Hex Dec HRESULT Name Description 0x700 1792 0x98110700 ADSERR_DEVICE_ERROR General device error. 0x701 1793 0x98110701 ADSERR_DEVICE_SRVNOTSUPP Service is not supported by the server. 0x702 1794 0x98110702 ADSERR_DEVICE_INVALIDGRP Invalid index group. 0x703 1795 0x98110703 ADSERR_DEVICE_INVALIDOFFSET Invalid index offset. 0x704 1796 0x98110704 ADSERR_DEVICE_INVALIDACCESS Reading or writing not permitted. Several causes are possible. For example, an incorrect password was entered when creating routes. 0x705 1797 0x98110705 ADSERR_DEVICE_INVALIDSIZE Parameter size not correct. 0x706 1798 0x98110706 ADSERR_DEVICE_INVALIDDATA Invalid data values. 0x707 1799 0x98110707 ADSERR_DEVICE_NOTREADY Device is not ready to operate. 0x708 1800 0x98110708 ADSERR_DEVICE_BUSY Device is busy. 0x709 1801 0x98110709 ADSERR_DEVICE_INVALIDCONTEXT Invalid operating system context. This can result from use of ADS blocks in different tasks. It may be possible to resolve this through multitasking synchronization in the PLC. 0x70A 1802 0x9811070A ADSERR_DEVICE_NOMEMORY Insufficient memory. 0x70B 1803 0x9811070B ADSERR_DEVICE_INVALIDPARM Invalid parameter values. 0x70C 1804 0x9811070C ADSERR_DEVICE_NOTFOUND Not found (files, ...). 0x70D 1805 0x9811070D ADSERR_DEVICE_SYNTAX Syntax error in file or command. 0x70E 1806 0x9811070E ADSERR_DEVICE_INCOMPATIBLE Objects do not match. 0x70F 1807 0x9811070F ADSERR_DEVICE_EXISTS Object already exists. 0x710 1808 0x98110710 ADSERR_DEVICE_SYMBOLNOTFOUND Symbol not found. 0x711 1809 0x98110711 ADSERR_DEVICE_SYMBOLVERSIONINVALID Invalid symbol version. This can occur due to an online change. Create a new handle. 0x712 1810 0x98110712 ADSERR_DEVICE_INVALIDSTATE Device (server) is in invalid state. 0x713 1811 0x98110713 ADSERR_DEVICE_TRANSMODENOTSUPP Ads Trans Mode not supported. 0x714 1812 0x98110714 ADSERR_DEVICE_NOTIFYHNDINVALID Notification handle is invalid. 0x715 1813 0x98110715 ADSERR_DEVICE_CLIENTUNKNOWN Notification client not registered. 0x716 1814 0x98110716 ADSERR_DEVICE_NOMOREHDLS No further handle available. 0x717 1815 0x98110717 ADSERR_DEVICE_INVALIDWATCHSIZE Notification size too large. 0x718 1816 0x98110718 ADSERR_DEVICE_NOTINIT Device not initialized. 0x719 1817 0x98110719 ADSERR_DEVICE_TIMEOUT Device has a timeout. 0x71A 1818 0x9811071A ADSERR_DEVICE_NOINTERFACE Interface query failed. 0x71B 1819 0x9811071B ADSERR_DEVICE_INVALIDINTERFACE Wrong interface requested. 0x71C 1820 0x9811071C ADSERR_DEVICE_INVALIDCLSID Class ID is invalid. 0x71D 1821 0x9811071D ADSERR_DEVICE_INVALIDOBJID Object ID is invalid. 0x71E 1822 0x9811071E ADSERR_DEVICE_PENDING Request pending. 0x71F 1823 0x9811071F ADSERR_DEVICE_ABORTED Request is aborted. 0x720 1824 0x98110720 ADSERR_DEVICE_WARNING Signal warning. 0x721 1825 0x98110721 ADSERR_DEVICE_INVALIDARRAYIDX Invalid array index. 0x722 1826 0x98110722 ADSERR_DEVICE_SYMBOLNOTACTIVE Symbol not active. TF2000 Version: 1.5.0 49

## Page 50

Appendix Hex Dec HRESULT Name Description 0x723 1827 0x98110723 ADSERR_DEVICE_ACCESSDENIED Access denied. Several causes are possible. For example, a unidirectional ADS route is used in the opposite direction. 0x724 1828 0x98110724 ADSERR_DEVICE_LICENSENOTFOUND Missing license. 0x725 1829 0x98110725 ADSERR_DEVICE_LICENSEEXPIRED License expired. 0x726 1830 0x98110726 ADSERR_DEVICE_LICENSEEXCEEDED License exceeded. 0x727 1831 0x98110727 ADSERR_DEVICE_LICENSEINVALID Invalid license. 0x728 1832 0x98110728 ADSERR_DEVICE_LICENSESYSTEMID License problem: System ID is invalid. 0x729 1833 0x98110729 ADSERR_DEVICE_LICENSENOTIMELIMIT License not limited in time. 0x72A 1834 0x9811072A ADSERR_DEVICE_LICENSEFUTUREISSUE Licensing problem: time in the future. 0x72B 1835 0x9811072B ADSERR_DEVICE_LICENSETIMETOLONG License period too long. 0x72C 1836 0x9811072C ADSERR_DEVICE_EXCEPTION Exception at system startup. 0x72D 1837 0x9811072D ADSERR_DEVICE_LICENSEDUPLICATED License file read twice. 0x72E 1838 0x9811072E ADSERR_DEVICE_SIGNATUREINVALID Invalid signature. 0x72F 1839 0x9811072F ADSERR_DEVICE_CERTIFICATEINVALID Invalid certificate. 0x730 1840 0x98110730 ADSERR_DEVICE_LICENSEOEMNOTFOUND Public key not known from OEM. 0x731 1841 0x98110731 ADSERR_DEVICE_LICENSERESTRICTED License not valid for this system ID. 0x732 1842 0x98110732 ADSERR_DEVICE_LICENSEDEMODENIED Demo license prohibited. 0x733 1843 0x98110733 ADSERR_DEVICE_INVALIDFNCID Invalid function ID. 0x734 1844 0x98110734 ADSERR_DEVICE_OUTOFRANGE Outside the valid range. 0x735 1845 0x98110735 ADSERR_DEVICE_INVALIDALIGNMENT Invalid alignment. 0x736 1846 0x98110736 ADSERR_DEVICE_LICENSEPLATFORM Invalid platform level. 0x737 1847 0x98110737 ADSERR_DEVICE_FORWARD_PL Context – forward to passive level. 0x738 1848 0x98110738 ADSERR_DEVICE_FORWARD_DL Context – forward to dispatch level. 0x739 1849 0x98110739 ADSERR_DEVICE_FORWARD_RT Context – forward to real-time. 0x740 1856 0x98110740 ADSERR_CLIENT_ERROR Client error. 0x741 1857 0x98110741 ADSERR_CLIENT_INVALIDPARM Service contains an invalid parameter. 0x742 1858 0x98110742 ADSERR_CLIENT_LISTEMPTY Polling list is empty. 0x743 1859 0x98110743 ADSERR_CLIENT_VARUSED Var connection already in use. 0x744 1860 0x98110744 ADSERR_CLIENT_DUPLINVOKEID The called ID is already in use. 0x745 1861 0x98110745 ADSERR_CLIENT_SYNCTIMEOUT Timeout has occurred – the remote terminal is not responding in the specified ADS timeout. The route setting of the remote terminal may be configured incorrectly. 0x746 1862 0x98110746 ADSERR_CLIENT_W32ERROR Error in Win32 subsystem. 0x747 1863 0x98110747 ADSERR_CLIENT_TIMEOUTINVALID Invalid client timeout value. 0x748 1864 0x98110748 ADSERR_CLIENT_PORTNOTOPEN Port not open. 0x749 1865 0x98110749 ADSERR_CLIENT_NOAMSADDR No AMS address. 0x750 1872 0x98110750 ADSERR_CLIENT_SYNCINTERNAL Internal error in Ads sync. 0x751 1873 0x98110751 ADSERR_CLIENT_ADDHASH Hash table overflow. 0x752 1874 0x98110752 ADSERR_CLIENT_REMOVEHASH Key not found in the table. 0x753 1875 0x98110753 ADSERR_CLIENT_NOMORESYM No symbols in the cache. 0x754 1876 0x98110754 ADSERR_CLIENT_SYNCRESINVALID Invalid response received. 0x755 1877 0x98110755 ADSERR_CLIENT_SYNCPORTLOCKED Sync Port is locked. 0x756 1878 0x98110756 ADSERR_CLIENT_REQUESTCANCELLED The request was canceled. RTime error codes Hex Dec HRESULT Name Description 0x1000 4096 0x98111000 RTERR_INTERNAL Internal error in the real-time system. 0x1001 4097 0x98111001 RTERR_BADTIMERPERIODS Timer value is not valid. 0x1002 4098 0x98111002 RTERR_INVALIDTASKPTR Task pointer has the invalid value 0 (zero). 0x1003 4099 0x98111003 RTERR_INVALIDSTACKPTR Stack pointer has the invalid value 0 (zero). 0x1004 4100 0x98111004 RTERR_PRIOEXISTS The request task priority is already assigned. 0x1005 4101 0x98111005 RTERR_NOMORETCB No free TCB (Task Control Block) available. The maximum number of TCBs is 64. 0x1006 4102 0x98111006 RTERR_NOMORESEMAS No free semaphores available. The maximum number of semaphores is 64. 0x1007 4103 0x98111007 RTERR_NOMOREQUEUES No free space available in the queue. The maximum number of positions in the queue is 64. 50 Version: 1.5.0 TF2000

## Page 51

Appendix Hex Dec HRESULT Name Description 0x100D 4109 0x9811100D RTERR_EXTIRQALREADYDEF An external synchronization interrupt is already applied. 0x100E 4110 0x9811100E RTERR_EXTIRQNOTDEF No external sync interrupt applied. 0x100F 4111 0x9811100F RTERR_EXTIRQINSTALLFAILED Application of the external synchronization interrupt has failed. 0x1010 4112 0x98111010 RTERR_IRQLNOTLESSOREQUAL Call of a service function in the wrong context 0x1017 4119 0x98111017 RTERR_VMXNOTSUPPORTED Intel® VT-x extension is not supported. 0x1018 4120 0x98111018 RTERR_VMXDISABLED Intel® VT-x extension is not enabled in the BIOS. 0x1019 4121 0x98111019 RTERR_VMXCONTROLSMISSING Missing function in Intel® VT-x extension. 0x101A 4122 0x9811101A RTERR_VMXENABLEFAILS Activation of Intel® VT-x fails. Specific positive HRESULT Return Codes: HRESULT Name Description 0x0000_0000 S_OK No error. 0x0000_0001 S_FALSE No error. Example: successful processing, but with a negative or incomplete result. 0x0000_0203 S_PENDING No error. Example: successful processing, but no result is available yet. 0x0000_0256 S_WATCHDOG_TIMEOUT No error. Example: successful processing, but a timeout occurred. TCP Winsock error codes Hex Dec Name Description 0x274C 10060 WSAETIMEDOUT A connection timeout has occurred - error while establishing the connection, because the remote terminal did not respond properly after a certain period of time, or the established connection could not be maintained because the connected host did not respond. 0x274D 10061 WSAECONNREFUSED Connection refused - no connection could be established because the target computer has explicitly rejected it. This error usually results from an attempt to connect to a service that is inactive on the external host, that is, a service for which no server application is running. 0x2751 10065 WSAEHOSTUNREACH No route to host - a socket operation referred to an unavailable host. More Winsock error codes: Win32 error codes 5.1.2 HMI_ADS_CONSTANTS Enumeration Return codes of the Tc Hmi Ads extension. Namespace: Tc Hmi Ads Assembly: Tc Hmi Ads (in Tc Hmi Ads.dll) Version: 1.0.0.0 (1.0.0.0) Members Hex Dec Member name Value Description 0x0 0 HMI_ADS_SUCCESS 0 No error, everything fine 0x100000 1048576 HMI_ADS_E_OFFSET 1048576 Offset of Tc Hmi Ads specific error codes 0x100010 1048592 HMI_ADS_E_TCDIR 1048592 Twin CAT directory not found on local system 0x100011 1048593 HMI_ADS_E_TCVERSION 1048593 Twin CAT version invalid 0x100012 1048594 HMI_ADS_E_CONFIGDIR 1048594 Twin CAT configuration directory not found 0x100013 1048595 HMI_ADS_E_STATE 1048595 Twin CAT Router is in invalid state no port could be opened 0x100020 1048608 HMI_ADS_E_PARSE_BASET 1048608 Error while parsing ADS base YPES types 0x100021 1048609 HMI_ADS_E_PARSE_DATA 1048609 Error while parsing ADS data TF2000 Version: 1.5.0 51

## Page 52

Appendix Hex Dec Member name Value Description 0x100022 1048610 HMI_ADS_E_NOT_IMPLEME 1048610 Function not implemented NTED (trying to write a reference value) 0x100030 1048624 HMI_ADS_E_INVALID_DATA 1048624 Invalid data written to server or an ADS datatype can not be parsed 0x100031 1048625 HMI_ADS_E_UPLOAD_DATA 1048625 No upload data provided by configured ADS runtime 0x100032 1048626 HMI_ADS_E_UNEXPECTED 1048626 Should not happen contact support 0x100033 1048627 HMI_ADS_E_INVALID_RUNT 1048627 Runtime name is empty or IME invalid 0x100034 1048628 HMI_ADS_E_INVALID_PARA 1048628 A parameter of the requested METER function is invalid 0x100035 1048629 HMI_ADS_E_NO_OFFLINE_ 1048629 No offline data available DATA 0x100036 1048630 HMI_ADS_E_INVALID_SYMB 1048630 The requested symbol is not OL available 0x100037 1048631 HMI_ADS_E_MISSING_PAR 1048631 A parameter is missing in the AMETER requested function 0x100038 1048632 HMI_ADS_E_ADD_ROUTE 1048632 An ADS route could not be added 0x100039 1048633 HMI_ADS_E_EMPTY 1048633 No ADS symbols found 0x10003A 1048634 HMI_ADS_E_DISABLED 1048634 The requested runtime is disabled in the HMI configuration 0x10003B 1048635 HMI_ADS_E_LICENSE 1048635 A license error occurred 0x10003C 1048636 HMI_ADS_E_INVALID_SYMB 1048636 A type from ADS could not be OL_TYPE interpreted 0x10003D 1048637 HMI_ADS_E_INVALID_SYMB 1048637 A handle to an ADS symbol OL_HANDLE has become invalid 0x10003E 1048638 HMI_ADS_E_ABORTED 1048638 A TCP/IP error occurred Reference Tc Hmi Ads Namespace 5.1.3 Error Value Enumeration Namespace: Tc Hmi Srv Assembly: Tc Hmi Srv Ext Net (in Tc Hmi Srv Ext Net.dll) Version: 1.0.0.0 (1.0.0.0) Syntax C# public enum Error Value Members Member name Value Description HMI_SUCCESS 0 HMI_FINISHED 1 HMI_DISCONNECTED 2 HMI_SHUTDOWN 3 52 Version: 1.5.0 TF2000

## Page 53

Appendix Member name Value Description HMI_RESTART 4 HMI_SKIP 5 HMI_FIRST_INIT 6 HMI_UPGRADE 7 HMI_UNCHANGED 8 HMI_IGNORE 9 HMI_E_SERVER 256 HMI_E_FAIL 257 HMI_E_UNEXPECTED 258 HMI_E_SCRIPT 259 HMI_E_REQUIRED_EXTENSION_MISSING 260 HMI_E_INIT 261 HMI_E_NO_LANGUAGE_FILE 262 HMI_E_SYNTAX 263 HMI_E_FILE_NOT_FOUND 264 HMI_E_FILESYSTEM 265 HMI_E_REQUEST_TOO_LARGE 266 HMI_E_DATABASE 267 HMI_E_INVALID_POINTER 268 HMI_E_INVALID_PARAMETER 269 HMI_E_INVALID_TYPE 270 HMI_E_NOT_REGISTERED 271 HMI_E_NOT_IMPLEMENTED 272 HMI_E_ID_IN_USE 273 HMI_E_SYMBOL_IN_USE 274 HMI_E_INTERRUPTED 275 HMI_E_FILE_LOCK 276 HMI_E_FILE_IN_USE 277 HMI_E_FILE_WRITE 278 HMI_E_INVALID_PATH 279 HMI_E_HANDLE 280 HMI_E_ENCODE 281 HMI_E_DECODE 282 HMI_E_NETWORK 283 HMI_E_LANGUAGE 284 HMI_E_CACHE 285 HMI_E_ENDPOINT_DENIED 286 HMI_E_ENDPOINT_BUSY 287 HMI_E_ENDPOINT_INVALID 288 HMI_E_WEBSERVER_UNEXPECTED 289 HMI_E_WEBSOCKET_UNEXPECTED 290 HMI_E_LUA_EXEC 291 HMI_E_ENTRY_NOT_FOUND 292 HMI_E_INVALID_SYMBOL 293 HMI_E_BLACKLISTED 294 HMI_E_UPLOAD_TIMER_EXPIRED 295 HMI_E_SERVER_ALREADY_RUNNING 296 HMI_E_INVALID_SUBSYMBOL 512 TF2000 Version: 1.5.0 53

## Page 54

Appendix Member name Value Description HMI_E_SYMBOL_NOT_MAPPED 513 HMI_E_SYMBOL_SCHEMA_MISSING 514 HMI_E_INVALID_METHOD 515 HMI_E_API 768 HMI_E_INTERFACE_VERSION 769 HMI_E_INTERFACE_POINTER 770 HMI_E_CRT_NOT_FOUND 771 HMI_E_CRT_INIT 772 HMI_E_LICENSE 773 HMI_E_LICENSE_CHECK 774 HMI_E_LICENSE_ADS 775 HMI_E_LICENSE_SERVER 776 HMI_E_LICENSE_CLIENT 777 HMI_E_LICENSE_TARGET 778 HMI_E_LICENSE_EXPIRED 779 HMI_E_LICENSE_EXTENSION 780 HMI_E_LICENSE_HANDSHAKE 781 HMI_E_LICENSE_VERIFY 782 HMI_E_LICENSE_EMPTY 783 HMI_E_STORAGE 1280 HMI_E_STORAGE_WRITE 1281 HMI_E_STORAGE_VERSION 1282 HMI_E_STORAGE_CREATE 1283 HMI_E_STORAGE_STORE 1284 HMI_E_STORAGE_LOAD 1285 HMI_E_STORAGE_FILE_NOT_FOUND 1286 HMI_E_STORAGE_ADD_PARAMETER 1287 HMI_E_STORAGE_SCHEMA 1288 HMI_E_STORAGE_CONSTRAINT 1289 HMI_E_STORAGE_ADD 1290 HMI_E_STORAGE_EXTENSION 1291 HMI_E_STORAGE_PARAMETER 1292 HMI_E_STORAGE_TYPE 1293 HMI_E_CONNECT 1294 HMI_E_STORAGE_BACKUP 1295 HMI_E_SCHEMA 1536 HMI_E_TYPE_MISMATCH 1537 HMI_E_RANGE_MISMATCH 1538 HMI_E_INVALID_FIELD 1539 HMI_E_REQUIRED_FIELD 1540 HMI_E_UNEXPECTED_FIELD 1541 HMI_E_ENUM_VALUE_MISMATCH 1542 HMI_E_ARRAY_RANGE_MISMATCH 1543 HMI_E_STRING_LENGTH_MISMATCH 1544 HMI_E_MULTIPLE_MATCHES 1545 HMI_E_UNIQUE 1546 HMI_E_FORMAT 1547 HMI_E_TYPE_MISSING 1548 54 Version: 1.5.0 TF2000

## Page 55

Appendix Member name Value Description HMI_E_EXCLUDED 1549 HMI_E_MIGRATION 1550 HMI_E_MIGRATION_RULE 1551 HMI_E_MIGRATION_PATH 1552 HMI_E_EXTENSION 2048 HMI_E_EXTENSION_LOAD 2049 HMI_E_INVALID_DOMAIN 2050 HMI_E_DOMAIN_ACTIVE 2051 HMI_E_LOG_EXTENSION 2052 HMI_E_AUTH_EXTENSION 2053 HMI_E_EXTENSION_CONFIG 2054 HMI_E_EXTENSION_HANDLER 2055 HMI_E_UNLOAD_FAILED 2056 HMI_E_AUTH_WAIT 2057 HMI_E_SESSION 4096 HMI_E_INVALID_SESSION 4097 HMI_E_AUTH_USER_NOT_FOUND 4098 HMI_E_AUTH_FAILED 4099 HMI_E_AUTH_GROUP_NOT_FOUND 4100 HMI_E_INSUFFICIENT_ACCESS 4101 HMI_E_CREATE_SESSION 4102 HMI_E_SESSION_NOT_FOUND 4103 HMI_E_CERTIFICATE 4104 HMI_E_NO_LOGIN_DATA 4105 HMI_E_ALREADY_LOGGED_IN 4106 HMI_E_SESSION_TIMEOUT 4107 HMI_E_TOO_MANY_CONNECTIONS 4108 HMI_E_CHECKSUM 4608 HMI_E_INVALID_CHECKSUM 4609 HMI_E_CHECKSUM_UNEXPECTED 4610 HMI_E_CHECKSUM_MATCH 4611 HMI_E_SIGNATURE 4612 HMI_E_SIGNATURE_MISSING 4613 HMI_E_SIGNATURE_MISMATCH 4614 HMI_E_KEY_MISSING 4615 HMI_E_RESTART_REQUIRED 4616 HMI_E_INITIALIZE_PASSWORD 4617 Reference Tc Hmi Srv Namespace 5.2 Troubleshooting The product version number can be read via the system tray icon . Additional information is required: • Operating system • Event log • Memory images (if available) TF2000 Version: 1.5.0 55

## Page 56

Appendix 5.2.1 Config page The configuration page of the Twin CAT HMI server provides access to the event log of the server, which can provide important information. In addition, the page offers further diagnostic information. The Tc Hmi Srv category shows the supported . NET versions and the status of the licenses. Under the ADS category you can read out the status of the configured Twin CAT system. 56 Version: 1.5.0 TF2000

## Page 57

Appendix 5.2.2 Crash dumps If the server crashes, an attempt is made to write an image of the process (Tc Hmi Srv.exe). This can then be found in the working directory of the server under Windows: \Program Data\Beckhoff\TF2000 Twin CAT 3 HMI Server. After a server restart the image is compressed (extension .tar.gz). Please send this image to support, including the product version number, the configuration (logger.db and storage.db) and, if possible, a description of the last steps you performed before the crash, so that we can reproduce the malfunction. TF2000 Version: 1.5.0 57

## Page 58

Support and Service 6 Support and Service Beckhoff and their partners around the world offer comprehensive support and service, making available fast and competent assistance with all questions related to Beckhoff products and system solutions. Download finder Our download finder contains all the files that we offer you for downloading. You will find application reports, technical documentation, technical drawings, configuration files and much more. The downloads are available in various formats. Beckhoff's branch offices and representatives Please contact your Beckhoff branch office or representative for local support and service on Beckhoff products! The addresses of Beckhoff's branch offices and representatives round the world can be found on our internet page: www.beckhoff.com You will also find further documentation for Beckhoff components there. Beckhoff Support Support offers you comprehensive technical assistance, helping you not only with the application of individual Beckhoff products, but also with other, wide-ranging services: • support • design, programming and commissioning of complex automation systems • and extensive training program for Beckhoff system components Hotline: +49 5246 963-157 e-mail: support@beckhoff.com Beckhoff Service The Beckhoff Service Center supports you in all matters of after-sales service: • on-site service • repair service • spare parts service • hotline service Hotline: +49 5246 963-460 e-mail: service@beckhoff.com Beckhoff Headquarters Beckhoff Automation Gmb H & Co. KG Huelshorstweg 20 33415 Verl Germany Phone: +49 5246 963-0 e-mail: info@beckhoff.com web: www.beckhoff.com 58 Version: 1.5.0 TF2000

## Page 59

Trademark statements Beckhoff®, ATRO®, Ether CAT®, Ether CAT G®, Ether CAT G10®, Ether CAT P®, MX-System®, Safety over Ether CAT®, TC/BSD®, Twin CAT®, Twin CAT/BSD®, Twin SAFE®, XFC®, XPlanar® and XTS® are registered and licensed trademarks of Beckhoff Automation Gmb H. Third-party trademark statements Intel, the Intel logo, Intel Core, Xeon, Intel Atom, Celeron and Pentium are trademarks of Intel Corporation or its subsidiaries. The registered trademark Linux® is used pursuant to a sublicense from the Linux Foundation, the exclusive licensee of Linus Torvalds, owner of the mark on a worldwide basis. Microsoft, Microsoft Azure, Microsoft Edge, Power Shell, Visual Studio, Windows and Xbox are trademarks of the Microsoft group of companies.

## Page 60

More Information: www.beckhoff.com/tf2000 Beckhoff Automation Gmb H & Co. KG Hülshorstweg 20 33415 Verl Germany Phone: +49 5246 9630 info@beckhoff.com www.beckhoff.com
