---
title: "Machine_update_at_file_level_EN"
product: "Machine"
category: "Fundamentals"
tags: ["MACHINE"]
language: "EN"
document_type: "Manual"
version: "1.1"
source_pdf: "https://download.beckhoff.com/download/Document/automation/twincat3/Machine_update_at_file_level_EN.pdf"
release_date: "2022-07-11"
---
Manual | EN Twin CAT 3 Machine update at file level 2022-07-11 | Version: 1.1

## Page 3

Table of contents Table of contents 1 Foreword.................................................................................................................................................... 5 1.1 Notes on the documentation............................................................................................................. 5 1.2 Safety instructions............................................................................................................................. 6 1.3 Notes on information security............................................................................................................ 7 2 Overview.................................................................................................................................................... 8 3 Performing a PLC update......................................................................................................................... 9 4 Performing a C++ Update....................................................................................................................... 10 5 Performing an update of the complete machine.................................................................................. 11 6 Cloning a machine.................................................................................................................................. 12 Twin CAT 3 Version: 1.1 3

## Page 4

Table of contents 4 Version: 1.1 Twin CAT 3

## Page 5

Foreword 1 Foreword 1.1 Notes on the documentation This description is only intended for the use of trained specialists in control and automation engineering who are familiar with applicable national standards. It is essential that the documentation and the following notes and explanations are followed when installing and commissioning the components. It is the duty of the technical personnel to use the documentation published at the respective time of each installation and commissioning. The responsible staff must ensure that the application or use of the products described satisfy all the requirements for safety, including all the relevant laws, regulations, guidelines and standards. Disclaimer The documentation has been prepared with care. The products described are, however, constantly under development. We reserve the right to revise and change the documentation at any time and without prior announcement. No claims for the modification of products that have already been supplied may be made on the basis of the data, diagrams and descriptions in this documentation. Trademarks Beckhoff®, Twin CAT®, Twin CAT/BSD®, TC/BSD®, Ether CAT®, Ether CAT G®, Ether CAT G10®, Ether CAT P®, Safety over Ether CAT®, Twin SAFE®, XFC®, XTS® and XPlanar® are registered trademarks of and licensed by Beckhoff Automation Gmb H. Other designations used in this publication may be trademarks whose use by third parties for their own purposes could violate the rights of the owners. Patent Pending The Ether CAT Technology is covered, including but not limited to the following patent applications and patents: EP1590927, EP1789857, EP1456722, EP2137893, DE102015105702 with corresponding applications or registrations in various other countries. Ether CAT® is a registered trademark and patented technology, licensed by Beckhoff Automation Gmb H, Germany Copyright © Beckhoff Automation Gmb H & Co. KG, Germany. The reproduction, distribution and utilization of this document as well as the communication of its contents to others without express authorization are prohibited. Offenders will be held liable for the payment of damages. All rights reserved in the event of the grant of a patent, utility model or design. Twin CAT 3 Version: 1.1 5

## Page 6

Foreword 1.2 Safety instructions Safety regulations Please note the following safety instructions and explanations! Product-specific safety instructions can be found on following pages or in the areas mounting, wiring, commissioning etc. Exclusion of liability All the components are supplied in particular hardware and software configurations appropriate for the application. Modifications to hardware or software configurations other than those described in the documentation are not permitted, and nullify the liability of Beckhoff Automation Gmb H & Co. KG. Personnel qualification This description is only intended for trained specialists in control, automation and drive engineering who are familiar with the applicable national standards. Description of symbols In this documentation the following symbols are used with an accompanying safety instruction or note. The safety instructions must be read carefully and followed without fail! DANGER Serious risk of injury! Failure to follow the safety instructions associated with this symbol directly endangers the life and health of persons. WARNING Risk of injury! Failure to follow the safety instructions associated with this symbol endangers the life and health of per- sons. CAUTION Personal injuries! Failure to follow the safety instructions associated with this symbol can lead to injuries to persons. NOTE Damage to the environment or devices Failure to follow the instructions associated with this symbol can lead to damage to the environment or equipment. Tip or pointer This symbol indicates information that contributes to better understanding. 6 Version: 1.1 Twin CAT 3

## Page 7

Foreword 1.3 Notes on information security The products of Beckhoff Automation Gmb H & Co. KG (Beckhoff), insofar as they can be accessed online, are equipped with security functions that support the secure operation of plants, systems, machines and networks. Despite the security functions, the creation, implementation and constant updating of a holistic security concept for the operation are necessary to protect the respective plant, system, machine and networks against cyber threats. The products sold by Beckhoff are only part of the overall security concept. The customer is responsible for preventing unauthorized access by third parties to its equipment, systems, machines and networks. The latter should be connected to the corporate network or the Internet only if appropriate protective measures have been set up. In addition, the recommendations from Beckhoff regarding appropriate protective measures should be observed. Further information regarding information security and industrial security can be found in our https://www.beckhoff.com/secguide. Beckhoff products and solutions undergo continuous further development. This also applies to security functions. In light of this continuous further development, Beckhoff expressly recommends that the products are kept up to date at all times and that updates are installed for the products once they have been made available. Using outdated or unsupported product versions can increase the risk of cyber threats. To stay informed about information security for Beckhoff products, subscribe to the RSS feed at https:// www.beckhoff.com/secinfo. Twin CAT 3 Version: 1.1 7

## Page 8

Overview 2 Overview If no Twin CAT 3 development environment (XAE) is available, you can update the boot data of a Twin CAT PLC system or a complete Twin CAT system by means of a file copy. • Performing a PLC update [} 9] • Performing a C++ update [} 10] • Performing an update of the complete machine [} 11] • Cloning a machine [} 12] A description of the various files as well as information on their storage location within the associated project (project directory) and on the machine (Twin CAT boot directory) can be found in the section Folder and file types. 8 Version: 1.1 Twin CAT 3

## Page 9

Performing a PLC update 3 Performing a PLC update ü Twin CAT version TC3.1.4022.0 or higher ü Boot data have been generated for the machine platform by creating (or recreating) the PLC project. A connection to the target system is not required when creating (or recreating) the project. ü The process image and the hardware configuration have not changed since the last update. ü The Symbolic Mapping option is activated in the PLC project settings. 1. Copy the boot data of the PLC project, i.e. all files and folders, from the folder ..\<Solution name>\<Project name>\_Boot\<Platform>\Plc\. 2. Replace the boot data in the machine's Twin CAT PLC boot directory C:\Twin CAT\3.1\Boot\Plc\ by the copied boot data. 3. Restart the machine's Twin CAT system. ð The boot data of the Twin CAT PLC system and thus the PLC runtime itself are updated. Source code update If you also store the source code of the PLC project on the runtime system in addition to the boot data, then you can also copy the archive folder from the folder ..\<Solution name>\<Project name>\_Boot\<Platform>\ Current Config\ to the folder C:\Twin CAT\3.1\Boot\Current Config\ on the runtime system during an update at file level. Twin CAT 3 Version: 1.1 9

## Page 10

Performing a C++ Update 4 Performing a C++ Update The runtime data can be transferred from one machine to another by means of a file copy if both originate from the same platform and are connected with equivalent hardware equipment. The following steps describe a simple procedure to transfer a binary configuration from one machine, "source", to another, "destination". ü Empty the folder C:\Twin CAT\3.x\Boot on the source machine. 1. Create (or enable) the module on the source machine. 2. Transfer the folder C:\Twin CAT\3.x\Boot from the source to the destination. This folder also contains the repository which contains the necessary TMX files. 3. For Twin CAT driver projects (.sys): transfer the driver itself from C: \Twin CAT\3.x\Driver\Auto Install\MYDRIVER.sys and if necessary also the PDB file. 4. For Twin CAT driver projects (.sys) and if drivers are new on a machine: Twin CAT must perform a registration once. Switch Twin CAT via Sys Tray (right-click->System->Start/ Restart) into RUN mode. Alternatively this call can be used ("%1" can be replaced as driver name): sc create %1 bin Path= c:\Twin CAT\3.1\Driver\Auto Install\%1.sys type= kernel start= auto group= "file system" Display Name= %1 error= normal ð You can now start the target machine. Handling licenses Note that licenses cannot be transferred in this manner. Please use pre-installed licenses, volume licenses or other mechanisms for providing licenses. 10 Version: 1.1 Twin CAT 3

## Page 11

Performing an update of the complete machine 5 Performing an update of the complete machine ü Boot data have been generated for the machine platform by creating (or recreating) the Twin CAT project. A connection to the target system is not required when creating (or recreating) the project. ü The real hardware configuration corresponds to the project configuration. ü If the machine update is to be performed on several machines and not on a specific machine, the follow- ing options are activated: Use Relative Net Ids in the Routes settings (System > Routes, Net Id Management tab) and Virtual Device Names in the Adapter settings of all network and USB devices (e.g. I/O > Devices > Ether CAT Master, Adapter tab) The network adapter names of the machine must correspond to the adapter name of the configuration. 1. Copy the boot data of the Twin CAT project, i.e. all files and folders, from the folder ..\<Solution name>\<Project name>\_Boot\<Platform>\. 2. Replace the boot data in the machine's Twin CAT boot directory C:\Twin CAT\3.1\Boot\ by the copied boot data. 3. If you use C++ modules, please copy the C++ drivers (described in chapter Performing a C++ update [} 10]). 4. Restart the machine's Twin CAT system. ð The boot data of the Twin CAT system and thus the Twin CAT system itself are updated. Twin CAT 3 Version: 1.1 11

## Page 12

Cloning a machine 6 Cloning a machine In order to transfer the boot data of a Twin CAT or PLC project from one machine to another, copy the boot data from the first machine's boot directory and replace the boot data in the boot directory of the other machine. If the Twin CAT system whose boot data are to be copied is in Run mode and persistent data are also to be exchanged, the Twin CAT system should first be switched from Run to Config mode so that the persistent data are saved in the file .bootdata and are available in the boot directory for copying. (See Port_xxx.bootdata) 12 Version: 1.1 Twin CAT 3

## Page 14

More Information: www.beckhoff.com/te1000 Beckhoff Automation Gmb H & Co. KG Hülshorstweg 20 33415 Verl Germany Phone: +49 5246 9630 info@beckhoff.com www.beckhoff.com
