---
title: "TF5200_dynposlimit_en"
product: "TF5200"
category: "Motion_Control"
tags: ["NC"]
language: "EN"
document_type: "Manual"
version: "1.04"
source_pdf: "https://download.beckhoff.com/download/Document/automation/twincat3/TF5200_dynposlimit_en.pdf"
release_date: "2025-06-10"
---
Functional description | EN TF5200 | Twin CAT 3 CNC Dynamic limitation of axis position 6/10/2025 | Version: 1.04
## Page 3

Notes on the documentation Notes on the documentation This description is only intended for the use of trained specialists in control and automation engineering who are familiar with the applicable national standards. It is essential that the documentation and the following notes and explanations are followed when installing and commissioning the components. It is the duty of the technical personnel to use the documentation published at the respective time of each installation and commissioning. The responsible staff must ensure that the application or use of the products described satisfy all the requirements for safety, including all the relevant laws, regulations, guidelines and standards. Disclaimer The documentation has been prepared with care. The products described are, however, constantly under development. We reserve the right to revise and change the documentation at any time and without prior announcement. No claims for the modification of products that have already been supplied may be made on the basis of the data, diagrams and descriptions in this documentation. Trademarks Beckhoff®, Twin CAT®, Twin CAT/BSD®, TC/BSD®, Ether CAT®, Ether CAT G®, Ether CAT G10®, Ether CAT P®, Safety over Ether CAT®, Twin SAFE®, XFC®, XTS® and XPlanar® are registered trademarks of and licensed by Beckhoff Automation Gmb H. Other designations used in this publication may be trademarks whose use by third parties for their own purposes could violate the rights of the owners. Patent Pending The Ether CAT technology is patent protected, in particular by the following applications and patents: EP1590927, EP1789857, EP1456722, EP2137893, DE102015105702 with corresponding applications or registrations in various other countries. Ether CAT® is registered trademark and patented technology, licensed by Beckhoff Automation Gmb H, Germany Copyright © Beckhoff Automation Gmb H & Co. KG, Germany. The reproduction, distribution and utilisation of this document as well as the communication of its contents to others without express authorisation are prohibited. Offenders will be held liable for the payment of damages. All rights reserved in the event of the grant of a patent, utility model or design. TF5200 | Twin CAT 3 CNC Version: 1.04 3 Dynamic limitation of axis position
## Page 4

General and safety instructions General and safety instructions Icons used and their meanings This documentation uses the following icons next to the safety instruction and the associated text. Please read the (safety) instructions carefully and comply with them at all times. Icons in explanatory text 1. Indicates an action. ð Indicates an action statement. DANGER Acute danger to life! If you fail to comply with the safety instruction next to this icon, there is immediate danger to human life and health. CAUTION Personal injury and damage to machines! If you fail to comply with the safety instruction next to this icon, it may result in personal injury or damage to machines. NOTICE Restriction or error This icon describes restrictions or warns of errors. Tips and other notes This icon indicates information to assist in general understanding or to provide additional informa- tion. General example Example that clarifies the text. NC programming example Programming example (complete NC program or program sequence) of the described function or NC com- mand. Specific version information Optional or restricted function. The availability of this function depends on the configuration and the scope of the version. 4 Version: 1.04 TF5200 | Twin CAT 3 CNC Dynamic limitation of axis position
## Page 5

Table of contents Table of contents Notes on the documentation.................................................................................................................... 3 General and safety instructions.............................................................................................................. 4 1 Overview.................................................................................................................................................... 8 2 Description................................................................................................................................................ 9 3 Parameter................................................................................................................................................. 11 3.1 PLC parameters.............................................................................................................................. 11 3.1.1 Monitoring axis positions.................................................................................................. 11 3.2 PLCopen blocks.............................................................................................................................. 13 3.2.1 MCV_Dyn Pos Limit Low.................................................................................................... 13 3.2.2 MCV_Dyn Pos Limit High.................................................................................................... 14 Index......................................................................................................................................................... 15 4 Support and Service............................................................................................................................... 16 TF5200 | Twin CAT 3 CNC Version: 5 Dynamic limitation of axis position
## Page 6

Table of contents 6 Version: TF5200 | Twin CAT 3 CNC Dynamic limitation of axis position
## Page 7

List of figures List of figures Fig. 1 Limit representation, braking point between N40 and N50.......................................................... 9 TF5200 | Twin CAT 3 CNC Version: 1.04 7 Dynamic limitation of axis position
## Page 8

Overview 1 Overview Task Some applications may require that certain zones of an axis position may not be approached temporarily during machining. This function permits the dynamic limitation of axis positions. Properties/possible application One possible application is to limit the motion range of an axis because of an obstacle within the working space of the axis. This function is available as of CNC Build V3.1.3054.05. Programming/activation The zone limits are activated and defined in the PLC. Parameterisation The function is activated by using the keyword FCT_DYN_POS_LIMIT of the parameter P-STUP-00070 [} 11]. Links to other documents For the sake of clarity, links to other documents and parameters are abbreviated, e.g. [PROG] for the Programming Manual or P-AXIS-00001 for an axis parameter. For technical reasons, these links only function in the Online Help (HTML5, CHM) but not in pdf files since pdfs do not support cross-linking. 8 Version: 1.04 TF5200 | Twin CAT 3 CNC Dynamic limitation of axis position
## Page 9

Description 2 Description The CNC has the option of prechecking axis positions in the downstream active program. When axis limit violations are detected, machining can then be stopped by feedhold at the zone limit. The function can also be regarded as a zone-specific feedhold. It prevents all entry to the blocked zone. • If the current position at the time of zone activation is located within the blocked zone, the machine is stopped immediately. Deceleration takes place at the rate of feedhold acceleration. • If the current position at the time of zone activation is located outside the blocked zone, the currently active acceleration is effective up to the braking point. The braking point is then located on the zone limit +/- 1 cycle. The figure below illustrates the possible application: Fig. 1: Limit representation, braking point between N40 and N50. The limitation of the axis position zone is executed by the PLC. The following options are available: • Control Units dyn_pos_limit_low [} 11]/ dyn_pos_limit_high [} 11] • Blocks of PLCopen Part 1: MCV_Dyn Pos Limit Low [} 13]/ MCV_Dyn Pos Limit High [} 14] The machining program is continued after the PLC cancels the limit. Activation The function must be activated by P-STUP-00070 [} 11]. configuration.channel[0].interpolator.function FCT_LOOK_AHEAD_STANDARD | FCT_DYN_POS_LIMIT NOTICE This function may not be used to implement safety-related functions. The function is designed to limit the axis position if • unforeseeable or unplannable events occur during program flow, e.g. caused by a sensor, or • the restriction is of limited duration. TF5200 | Twin CAT 3 CNC Version: 1.04 9 Dynamic limitation of axis position
## Page 10

Description Supported CNC functions The function is combinable with the following CNC functions: • Zero offsets, #ROTATION, #CS • All slope types: #SLOPE[ ] • Transformations: #TRAFO[ ] • Contour smoothing: #CONTOUR MODE, #HSC, #SPLINE Process limitations The deceleration ramp is calculated in each cycle in order to stop accordingly. Based on the resulting deceleration duration, 20 random points on this deceleration ramp are checked for limit violation. In worst-case scenarios, e.g. a long deceleration distance and a very small contour element, it may mean that violations within the blocked area are overlooked. This occurs in particular when a limit is changed while the program is running. The following functions are not supported. Axis positions are not correctly monitored for the axes affected. • Axis polynomial X[POLY L=… A0=…] • Automatic tracking of the C axis (#CAXTRACK) • manual mode 10 Version: 1.04 TF5200 | Twin CAT 3 CNC Dynamic limitation of axis position
## Page 11

Parameter 3 Parameter P-STUP-00070 Definition of interpolator functionalities Description This parameter defines individual functionalities and the size of the look-ahead buffer in the interpolator, i.e. it defines the number of blocks to calculate deceleration distance and dynamic planning. Parameter configuration.channel[i].interpolator.function Data type STRING Data range See Interpolation function table. Dimension ---- Default value FCT_IPO_DEFAULT Remarks 3.1 PLC parameters 3.1.1 Monitoring axis positions Monitor lower position limit Description The control unit is used to specify the lower limit of a position range which the axis should not exceed. Data type MC_CONTROL_SGN32_UNIT, see description of Control unit Access PLC writes command_w and reads request_r and state_r ST path gp Ax[axis_idx]^.ipo_mc_control.dyn_pos_limit_low Special features Available as of V3.01.3054.05 Commanded, requested and return values ST element .command_w .request_r (currently not supported) .state_r Special features Commanded and return values both have the same data type but different significances. Data type DINT Unit .command_w: 0.1 µm or 10-4 ° .state_r: no unit Value range .command_w: [DINT_MIN, DINT_MAX] This is a position value and describes the lower limit of the position range which the axis should not exceed. .state_r: See the Monitor states of position limit table [} 12] with descriptions. This is the state of the monitoring process for the lower limit. Redirection ST element .enable_w Monitor upper axis position limit Description The control unit is used to set the upper limit of a position range which the axis should not exceed. Data type MC_CONTROL_SGN32_UNIT, see description of Control unit Access PLC writes command_w and reads request_r and state_r ST path gp Ax[axis_idx]^.ipo_mc_control.dyn_pos_limit_high Special features Available as of V3.01.3054.05 Commanded, requested and return values ST element .command_w TF5200 | Twin CAT 3 CNC Version: 1.04 11 Dynamic limitation of axis position
## Page 12

Parameter .request_r (not supported) .state_r Special features Commanded and return values both have the same data type but different significances. Data type DINT Unit .command_w: 0.1 µm or 10-4 ° .state_r: no unit Value range .command_w: [DINT_MIN, DINT_MAX] This is a position value and describes the upper limit of the position range which the axis should not exceed. .state_r: See Table 2‑1 [} 11] with descriptions. This is the state of the monitoring process for the upper limit. Redirection ST element .enable_w Values for the monitoring state of a position limit Global constant Value Description HLI_DYNPL_STATE_INACTIVE 0 The position limit is not active. HLI_DYNPL_STATE_ACTIVATION 1 This is the transition state after commanding the control unit until monitoring of axis position to the limit is activated. HLI_DYNPL_STATE_ACTIVE 2 The position limit is active and the axis position limit is monitored. HLI_DYNPL_STATE_ACTIVE_BRAKING 3 A braking operation was initiated down to standstill to prevent the axis from exceeding the position limit. HLI_DYNPL_STATE_ACTIVE_BRAKE 4 Deceleration process to maintain the position limit completed, axis is at standstill. 12 Version: 1.04 TF5200 | Twin CAT 3 CNC Dynamic limitation of axis position
## Page 13

Parameter 3.2 PLCopen blocks 3.2.1 MCV_Dyn Pos Limit Low If an axis position should be prevented from undershooting a specific value, this function block specifies the limit that may not be undershot. If the axis moves towards the limit, the motion is controlled so that the axis stops within the limit range. The position limit may be crossed by the distance which is travelled in one controller cycle. Block diagram MCV_Dyn Pos Limit Low Axis Axis Enable Valid Position State Error Error ID FB parameters VAR_IN_OUT Variable name Data type Description Axis AXIS_REF Axis reference VAR_INPUT Variable name Data type Description Enable BOOL If TRUE, the position limit is written to the PLC interface (HLI). Position DINT Position limit specification VAR_OUTPUT Variable name Data type Description Valid BOOL Is TRUE when specified set value is activated. State DINT Current position limit Error BOOL Indicates whether an error has occurred in an FB. Error ID WORD Error identifier TF5200 | Twin CAT 3 CNC Version: 1.04 13 Dynamic limitation of axis position
## Page 14

Parameter 3.2.2 MCV_Dyn Pos Limit High If an axis position should be prevented from overshooting a specific value, this function block specifies the limit that may not be overshot. If the axis moves towards the limit, the motion is controlled so that the axis stops within the limit range. The position limit may be crossed by the distance which is travelled in one controller cycle. Block diagram MCV_Dyn Pos Limit High Axis Axis Enable Valid Position State Error Error ID FB parameters VAR_IN_OUT Variable name Data type Description Axis AXIS_REF Axis reference VAR_INPUT Variable name Data type Description Enable BOOL If TRUE, the position limit is written to the PLC interface (HLI). Position DINT Position limit specification VAR_OUTPUT Variable name Data type Description Valid BOOL Is TRUE when specified set value is activated. State DINT Current position limit Error BOOL Indicates whether an error has occurred in an FB. Error ID WORD Error identifier 14 Version: 1.04 TF5200 | Twin CAT 3 CNC Dynamic limitation of axis position
## Page 15

Index Index L limit value position:monitor:lower 11 position:monitor:upper 11 M MCV_Dyn Pos Limit High 14 MCV_Dyn Pos Limit Low 13 monitor position:limit:lower 11 position:limit:upper 11 P position monitor:limit:lower 11 monitor:limit:upper 11 P-STUP-00070 11 TF5200 | Twin CAT 3 CNC Version: 1.04 15 Dynamic limitation of axis position
## Page 16

Support and Service 4 Support and Service Beckhoff and their partners around the world offer comprehensive support and service, making available fast and competent assistance with all questions related to Beckhoff products and system solutions. Download finder Our download finder contains all the files that we offer you for downloading. You will find application reports, technical documentation, technical drawings, configuration files and much more. The downloads are available in various formats. Beckhoff's branch offices and representatives Please contact your Beckhoff branch office or representative for local support and service on Beckhoff products! The addresses of Beckhoff's branch offices and representatives round the world can be found on our internet page: www.beckhoff.com You will also find further documentation for Beckhoff components there. Beckhoff Support Support offers you comprehensive technical assistance, helping you not only with the application of individual Beckhoff products, but also with other, wide-ranging services: • support • design, programming and commissioning of complex automation systems • and extensive training program for Beckhoff system components Hotline: +49 5246 963-157 e-mail: support@beckhoff.com Beckhoff Service The Beckhoff Service Center supports you in all matters of after-sales service: • on-site service • repair service • spare parts service • hotline service Hotline: +49 5246 963-460 e-mail: service@beckhoff.com Beckhoff Headquarters Beckhoff Automation Gmb H & Co. KG Huelshorstweg 20 33415 Verl Germany Phone: +49 5246 963-0 e-mail: info@beckhoff.com web: www.beckhoff.com 16 Version: 1.04 TF5200 | Twin CAT 3 CNC Dynamic limitation of axis position
## Page 18

More Information: www.beckhoff.com/TF5200 Beckhoff Automation Gmb H & Co. KG Hülshorstweg 20 33415 Verl Germany Phone: +49 5246 9630 info@beckhoff.com www.beckhoff.com
