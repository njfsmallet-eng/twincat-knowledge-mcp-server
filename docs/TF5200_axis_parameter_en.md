---
title: "TF5200"
product: "TF5200"
category: "Motion_Control"
tags: ["NC"]
language: "EN"
document_type: "Manual"
version: "1.172"
source_pdf: "https://download.beckhoff.com/download/Document/automation/twincat3/TF5200_axis_parameter_en.pdf"
release_date: "2025-06-05"
---
Manual | EN TF5200 | Twin CAT 3 CNC Axis parameters 6/5/2025 | Version: 1.172
## Page 3

Notes on the documentation Notes on the documentation This description is only intended for the use of trained specialists in control and automation engineering who are familiar with the applicable national standards. It is essential that the documentation and the following notes and explanations are followed when installing and commissioning the components. It is the duty of the technical personnel to use the documentation published at the respective time of each installation and commissioning. The responsible staff must ensure that the application or use of the products described satisfy all the requirements for safety, including all the relevant laws, regulations, guidelines and standards. Disclaimer The documentation has been prepared with care. The products described are, however, constantly under development. We reserve the right to revise and change the documentation at any time and without prior announcement. No claims for the modification of products that have already been supplied may be made on the basis of the data, diagrams and descriptions in this documentation. Trademarks Beckhoff®, Twin CAT®, Twin CAT/BSD®, TC/BSD®, Ether CAT®, Ether CAT G®, Ether CAT G10®, Ether CAT P®, Safety over Ether CAT®, Twin SAFE®, XFC®, XTS® and XPlanar® are registered trademarks of and licensed by Beckhoff Automation Gmb H. Other designations used in this publication may be trademarks whose use by third parties for their own purposes could violate the rights of the owners. Patent Pending The Ether CAT technology is patent protected, in particular by the following applications and patents: EP1590927, EP1789857, EP1456722, EP2137893, DE102015105702 with corresponding applications or registrations in various other countries. Ether CAT® is registered trademark and patented technology, licensed by Beckhoff Automation Gmb H, Germany Copyright © Beckhoff Automation Gmb H & Co. KG, Germany. The reproduction, distribution and utilisation of this document as well as the communication of its contents to others without express authorisation are prohibited. Offenders will be held liable for the payment of damages. All rights reserved in the event of the grant of a patent, utility model or design. TF5200 | Twin CAT 3 CNC Version: 1.172 3 Axis parameters
## Page 4

General and safety instructions General and safety instructions Icons used and their meanings This documentation uses the following icons next to the safety instruction and the associated text. Please read the (safety) instructions carefully and comply with them at all times. Icons in explanatory text 1. Indicates an action. ð Indicates an action statement. DANGER Acute danger to life! If you fail to comply with the safety instruction next to this icon, there is immediate danger to human life and health. CAUTION Personal injury and damage to machines! If you fail to comply with the safety instruction next to this icon, it may result in personal injury or damage to machines. NOTICE Restriction or error This icon describes restrictions or warns of errors. Tips and other notes This icon indicates information to assist in general understanding or to provide additional informa- tion. General example Example that clarifies the text. NC programming example Programming example (complete NC program or program sequence) of the described function or NC com- mand. Specific version information Optional or restricted function. The availability of this function depends on the configuration and the scope of the version. 4 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 5

Table of contents Table of contents Notes on the documentation.................................................................................................................... 3 General and safety instructions.............................................................................................................. 4 Overview of axis-specific parameters................................................................................................... 21 1 Axis data header (kopf.*)........................................................................................................................ 50 1.1 Logical axis number (P-AXIS-00016).............................................................................................. 50 1.2 Default name of an axis (P-AXIS-00297)........................................................................................ 50 1.3 Multiple instantiation of an axis....................................................................................................... 52 1.3.1 Multiple instantiation of an axis - linked axis (P-AXIS-00101).......................................... 52 1.3.2 Multiple instantiation of an axis - existing axis (P-AXIS-00040)....................................... 53 2 General axis data (kenngr.*)................................................................................................................... 54 2.1 Drive type and axis type.................................................................................................................. 54 2.1.1 Drive type (P-AXIS-00020)............................................................................................... 54 2.1.2 Axis type (P-AXIS-00018)................................................................................................ 55 2.1.3 Operating mode of an axis (P-AXIS-00015)..................................................................... 56 3 Functional settings................................................................................................................................. 59 3.1 Special settings for rotary axes....................................................................................................... 59 3.1.1 Settings for modulo calculation for rotary axis................................................................. 59 3.1.2 Special settings for spindles............................................................................................. 62 3.1.3 Settings for turning functionality....................................................................................... 68 3.2 Settings for homing......................................................................................................................... 68 3.2.1 Preferred direction of axis for homing (P-AXIS-00158).................................................... 68 3.2.2 Homing without cam (P-AXIS-00156).............................................................................. 69 3.2.3 Homing without reverting (P-AXIS-00157)....................................................................... 69 3.2.4 Position of the reference point (P-AXIS-00152)............................................................... 69 3.2.5 Fast velocity for detection of reference cam (P-AXIS-00219).......................................... 70 3.2.6 Slow velocity for exact detection of reference position (P-AXIS-00218).......................... 70 3.2.7 Homing only with cam (without zero pulse) (P-AXIS-00084)........................................... 70 3.2.8 Slow / fast movement down from cam (P-AXIS-00064)................................................... 71 3.2.9 Maximum velocity for unreferenced axes (P-AXIS-00268).............................................. 71 3.2.10 Lock moving of unreferenced axes (P-AXIS-00277)........................................................ 71 3.2.11 Modes for setting the homing position (P-AXIS-00278)................................................... 71 3.2.12 Offset to the homing position (P-AXIS-00279)................................................................. 72 3.2.13 Homing method ‘evaluation of encoder overflow’............................................................ 73 3.2.14 Acceleration during homing (P-AXIS-00285)................................................................... 74 3.2.15 Ramp time during homing (P-AXIS-00286)...................................................................... 74 3.2.16 Homing type (P-AXIS-00299)........................................................................................... 74 3.2.17 Gantry monitoring during drive-controlled homing (P-AXIS-00298)................................. 75 3.2.18 Input interface for reference cam signal (P-AXIS-00321)................................................ 76 3.2.19 Use of hardware limit switch as reference switch (P-AXIS-00329).................................. 77 3.2.20 Maximum distance for zero pulse search (P-AXIS-00404).............................................. 79 3.2.21 Delayed activation of zero pulse logic (P-AXIS-00494)................................................... 79 3.2.22 Maximum distance during homing (P-AXIS-00412)......................................................... 81 3.2.23 Maximum distance when moving from reference cam (P-AXIS-00531).......................... 81 TF5200 | Twin CAT 3 CNC Version: 5 Axis parameters
## Page 6

Table of contents 3.2.24 Homing to fixed stop........................................................................................................ 82 3.2.25 Reference monitoring (antr.reference_check.*)............................................................... 86 3.2.26 Axis remains referenced after resolution change (P-AXIS-00538).................................. 87 3.2.27 Transfer reference position for drive-controlled homing to the drive (P-AXIS-00584)..... 89 3.2.28 Allow drive-controlled homing without controller enable (P-AXIS-00803)........................ 90 3.2.29 Referencing to limit switch with tracking (P-AXIS-00814)................................................ 90 3.3 Settings for software limit switch (SLS) monitoring......................................................................... 90 3.3.1 Tolerance range for software limit switch (P-AXIS-00179).............................................. 91 3.3.2 Positive software limit switch (P-AXIS-00178)................................................................. 91 3.3.3 Negative software limit switch (P-AXIS-00177)................................................................ 92 3.3.4 Activate command position software limit switch monitoring in position controller.......... 93 3.3.5 Behaviour of software limit switches (P-AXIS-00554)...................................................... 94 3.3.6 Switching software limit monitoring off / on (P-AXIS-00705)............................................ 94 Logical axis number of the master axis for software limit switch dependence (P- AXIS-00558)................................................................................................................... 000 Positive software limit switch of the dependent axis (P-AXIS-00559)............................ 000 Negative software limit switch of the dependent axis (P-AXIS-00560).......................... 000 3.4 Settings for measurement............................................................................................................... 95 3.4.1 Define axis as measurement axis (P-AXIS-00118).......................................................... 95 3.4.2 Probe stroke for measurement types 2 and 4 (P-AXIS-00086)........................................ 95 3.4.3 Measurement speed for measurement type 2 (P-AXIS-00215)....................................... 95 3.4.4 Measurement travel offset for measurement type 2 (P-AXIS-00114).............................. 96 3.4.5 Measurement travel offset for all measurement types (P-AXIS-00467)........................... 96 3.4.6 Measurement signal parameters (kenngr.measure.*)...................................................... 97 3.4.7 Measurement parameters for SERCOS drives.............................................................. 104 3.4.8 Parameters for measuring travel on fixed stop.............................................................. 113 3.4.9 Abortion of measuring order at reset (P-AXIS-00378)................................................... 116 3.4.10 Actuation time delay of probe (P-AXIS-00487).............................................................. 116 3.5 Activation of edge banding (P-AXIS-00098)................................................................................. 116 3.6 Gantry mode................................................................................................................................. 117 3.6.1 Axis number of master axis (P-AXIS-00070)................................................................. 117 3.6.2 Resettable path distance (P-AXIS-00072)..................................................................... 117 3.6.3 Non resettable path distance (P-AXIS-00071)............................................................... 118 3.6.4 Static offset (P-AXIS-00073).......................................................................................... 118 3.6.5 Velocity of correction (P-AXIS-00075)........................................................................... 118 3.6.6 Gantry difference monitoring before homing (P-AXIS-00249)....................................... 119 3.6.7 Drive-controlled homing of gantry axis (SERCOS) (P-AXIS-00253).............................. 119 3.6.8 CNC-controlled error reaction (P-AXIS-00254).............................................................. 119 3.6.9 Conditions for clearing the gantry difference (P-AXIS-00704)....................................... 120 3.6.10 Maximum path for a gantry slave axis during homing (P-AXIS-00284)......................... 121 3.6.11 Suppress homing for gantry slave axis (P-AXIS-00074)................................................ 121 3.6.12 Home gantry slave axis relative to encoder overflow (P-AXIS-00393).......................... 121 3.6.13 Behaviour on setting the homing position (P-AXIS-00445)............................................ 122 3.6.14 Edge detection Gantry On-signal (P-AXIS-00261).......................................................... 122 3.7 Monitoring of axis collision............................................................................................................ 123 3.7.1 Logical axis number (P-AXIS-00043)............................................................................. 123 6 Version: TF5200 | Twin CAT 3 CNC Axis parameters
## Page 7

Table of contents 3.7.2 Security distance (P-AXIS-00045)................................................................................. 123 3.7.3 Stopping in all channels in case of drive errors (P-AXIS-00044)................................... 123 3.7.4 Inverting of moving directions (P-AXIS-00262).............................................................. 123 3.7.5 Offset of zero positions (P-AXIS-00263)........................................................................ 124 3.7.6 Valid deceleration (P-AXIS-00267)................................................................................ 124 3.8 Tracking mode.............................................................................................................................. 125 3.8.1 Maximum feed of compensation movement after deselection (P-AXIS-00208)............. 125 3.8.2 Maximum difference after deactivation (P-AXIS-00056)................................................ 125 3.8.3 Keep position offset after tracking (P-AXIS-00258)....................................................... 125 3.8.4 Acceleration for back-interpolation after tracking mode (P-AXIS-00760)....................... 127 3.9 Gear data...................................................................................................................................... 127 3.9.1 Default gear step number (P-AXIS-00079).................................................................... 127 3.9.2 Default gear step number for C-axis mode (P-AXIS-00052).......................................... 127 3.10 Settings for SAI (Single Axis Interpolation)................................................................................... 129 3.10.1 Configuration of a SAI-axis (P-AXIS-00250).................................................................. 129 3.10.2 Requesting of a SAI axis at RESET (P-AXIS-00251).................................................... 129 3.10.3 Moving to a target position after reversal of direction (P-AXIS-00252).......................... 129 3.10.4 Switching off superimposed interpolator (P-AXIS-00287).............................................. 130 3.10.5 Synchronising PLCopen axes with exact stop (P-AXIS-00826)..................................... 130 3.10.6 Enable decoupling of the drive of an axis (P-AXIS-00489)............................................ 130 3.10.7 Camming/Gearing (cam_gear.*).................................................................................... 131 3.11 Velocity monitoring........................................................................................................................ 137 3.11.1 Velocity limit during active monitoring of current velocity (P-AXIS-00311).................... 137 3.11.2 Activation of speed monitoring (P-AXIS-00312)............................................................. 138 3.11.3 Activation of feed enable via PLC (P-AXIS-00313)........................................................ 138 3.11.4 Speed monitoring during torque limitation (P-AXIS-00314)........................................... 138 3.12 Behaviour when enabling the drive controller............................................................................... 140 3.12.1 Max. allow. relieve position difference when enabling drive controller (P-AXIS-00108) 140 3.12.2 Relieve position difference when enabling drive controller (P-AXIS-00327).................. 140 3.12.3 Ignore feedhold at position correction after drive enable (P-AXIS-00356)..................... 141 3.13 Tolerance window for IIR axis filter (P-AXIS-00351)..................................................................... 141 3.14 Tolerance window for IIR axis filter after feedhold (P-AXIS-00780).............................................. 142 3.15 Settings for velocity override......................................................................................................... 142 3.15.1 Maximum permissible velocity override (P-AXIS-00109)............................................... 142 3.15.2 Mode of velocity override (P-AXIS-00491)..................................................................... 143 3.16 Settings for feed rate influencing................................................................................................... 144 3.16.1 Feedhold mode (P-AXIS-00540).................................................................................... 144 3.16.2 Effective deceleration value with feedhold (P-AXIS-00556)........................................... 144 3.17 Reduced speed............................................................................................................................. 145 3.17.1 Reduced maximum speed at active G01 (P-AXIS-00214)............................................. 145 3.17.2 Reduced maximum speed with active G00 (P-AXIS-00155)......................................... 146 3.17.3 Reduced maximum speed in security zone................................................................... 147 3.18 Torque configuration..................................................................................................................... 151 3.18.1 Torque offset (P-AXIS-00324)........................................................................................ 151 3.18.2 Numerator scaling factor for torque (P-AXIS-00325)..................................................... 151 3.18.3 Denominator scaling factor for torque (P-AXIS-00326).................................................. 151 TF5200 | Twin CAT 3 CNC Version: 7 Axis parameters
## Page 8

Table of contents 3.19 Gear couplings.............................................................................................................................. 153 3.19.1 Axis specific definition (kenngr.multi_link[i].*)................................................................ 153 3.19.2 Forward mapping of drive position (P-AXIS-00436)....................................................... 154 3.19.3 Forward mapping of drive position with absolute coordinates (P-AXIS-00460)............. 155 3.19.4 Homing check for coupled axes (P-AXIS-00461)........................................................... 155 3.19.5 Copy HLI gantry master axis coupling to slave (P-AXIS-00486).................................... 156 3.20 Interpolation of tracked axes in inserted TRC blocks (P-AXIS-00427)......................................... 156 3.21 Axis specific dynamic monitoring during interpolation................................................................... 161 3.21.1 Warning level for velocity (P-AXIS-00439)..................................................................... 161 3.21.2 Error level for velocity (P-AXIS-00440).......................................................................... 161 3.21.3 Warning level for acceleration (P-AXIS-00441)............................................................. 161 3.21.4 Error level for acceleration (P-AXIS-00442)................................................................... 162 3.21.5 Warning level for jerk (P-AXIS-00443)........................................................................... 162 3.21.6 Error level for jerk (P-AXIS-00444)................................................................................ 163 3.21.7 Suppressing reversal of speed at stop (P-AXIS-00548)................................................ 163 3.22 Suppress stop of spindle axis during channel reset (P-AXIS-00455)........................................... 163 3.23 Enabling PLCopen interface of a channel axis (P-AXIS-00457)................................................... 164 3.24 Collision monitoring during oscillation (P-AXIS-00485)................................................................. 164 3.25 Inversion of spindle rotation direction for spindle M-functions M3/M4 (P-AXIS-00490)................ 165 3.26 Delay filter acts only on command positions (P-AXIS-00513)....................................................... 166 3.27 Enabling of IPO-LR interface after axis release (P-AXIS-00483).................................................. 166 3.28 Setting of 'in position' for position controller generated axis movements (P-AXIS-00458)........... 166 3.29 Settings for drive controllers.......................................................................................................... 167 3.29.1 Select specific manufacturer-specific procedures for drive controllers (P-AXIS-00535) 167 3.29.2 Select specific device-specific procedures for drive controllers (P-AXIS-00536)........... 168 3.30 Dynamic limits with tool gear (P-AXIS-00786).............................................................................. 168 3.31 Number of bits for command value (P-AXIS-00816)..................................................................... 169 4 Gear step dependent parameters (getriebe[i].*)................................................................................. 170 4.1 Gear step number (P-AXIS-00135)............................................................................................... 170 4.2 Gear change position (P-AXIS-00078).......................................................................................... 170 4.3 Index for hardware specific parameter set (P-AXIS-00054).......................................................... 170 4.4 Load inertia (P-AXIS-00391)......................................................................................................... 171 4.5 Dynamic characteristic values....................................................................................................... 172 4.5.1 Parameter for linear velocity profile (getriebe[i].lslope_profil.*)...................................... 172 4.5.2 Parameter for non-linear velocity profile (getriebe[i].slope_profil.*)............................... 177 4.5.3 Effective acceleration profile (P-AXIS-00270)................................................................ 181 4.5.4 Rapid mode velocity (P-AXIS-00209)............................................................................ 182 4.5.5 Gearbox ratio numerator/denominator........................................................................... 182 4.6 Permissible axis dynamics (getriebe[i].dynamik.*)........................................................................ 183 4.6.1 Maximum permissible axis velocity (P-AXIS-00212)...................................................... 183 4.6.2 Maximum permissible axis acceleration (P-AXIS-00008).............................................. 184 4.6.3 Deceleration for an emergency stop (P-AXIS-00003).................................................... 184 4.6.4 Minimum permissible ramp time (P-AXIS-00201).......................................................... 185 4.6.5 Geometric ramp time (P-AXIS-00199)........................................................................... 185 4.6.6 Weighting of acceleration at motion block transition (P-AXIS-00013)............................ 185 4.6.7 Weighting of jerk at block transition (P-AXIS-00154)..................................................... 188 8 Version: TF5200 | Twin CAT 3 CNC Axis parameters
## Page 9

Table of contents 4.6.8 Jerk at block transition................................................................................................... 190 4.6.9 Maximum permissible exceeding of acceleration (P-AXIS-00394)................................ 191 4.6.10 Maximum acceleration at weighting (P-AXIS-00292)..................................................... 191 4.6.11 Minimum ramp time at weighting (P-AXIS-00293)......................................................... 192 4.7 Characteristic curve-controlled acceleration (getriebe[i].beschl_kennlinie.*)................................ 193 4.7.1 Type of the characteristic acceleration curve (P-AXIS-00202)...................................... 193 4.8 Maximum axis torque (P-AXIS-00798).......................................................................................... 197 4.9 First coefficient of the friction model (P-AXIS-00804)................................................................... 197 5 Parameters for position control........................................................................................................... 199 5.1 Proportional factor kv for P-positional control (P-AXIS-00099)..................................................... 199 5.2 Position window for exact stop (P-AXIS-00236)........................................................................... 199 5.3 Position window for rapid movements (P-AXIS-00472)................................................................ 199 5.4 Activation of position controller-interfaces..................................................................................... 201 5.4.1 Activation of display function (P-AXIS-00023)............................................................... 201 5.4.2 Optimized bus access (P-AXIS-00276).......................................................................... 201 5.4.3 Additional interface parameters..................................................................................... 201 5.5 Settings for backlash compensation............................................................................................. 205 5.5.1 Size of backlash (P-AXIS-00103)................................................................................... 205 5.5.2 Selection of backlash compensation (P-AXIS-00021)................................................... 206 5.5.3 Distribution of the backlash on multiple cycles (P-AXIS-00243).................................... 206 5.6 Settings for temperature compensation........................................................................................ 206 5.6.1 Selection of temperature compensation (P-AXIS-00271).............................................. 206 5.6.2 Parametrisation of temperature compensation.............................................................. 207 5.6.3 Distribution of the temperature compensation on several cycles (P-AXIS-00275)........ 208 5.6.4 Manual activation of temperature compensation (P-AXIS-00482)................................. 208 5.7 Activate crosstalk compensation (P-AXIS-00789)........................................................................ 209 5.8 Monitoring of axis compensations................................................................................................. 209 5.8.1 Effectiveness in automatic mode (P-AXIS-00465)......................................................... 209 5.8.2 Treatment of axis movement from axis compensation while active feedhold (P- AXIS-00454)................................................................................................................... 210 5.9 Settings for position lag monitoring............................................................................................... 210 5.9.1 Type of position lag monitoring (P-AXIS-00172)............................................................ 210 5.9.2 Minimum position lag (P-AXIS-00169)........................................................................... 211 5.9.3 Maximum position lag (P-AXIS-00168).......................................................................... 211 5.9.4 Factor for dynamic position lag monitoring (P-AXIS-00167).......................................... 212 5.9.5 Remaining deviation for non linear position lag monitoring (P-AXIS-00166)................. 212 5.9.6 Maximum settling time (P-AXIS-00151)......................................................................... 213 5.9.7 Maximum position settling time (P-AXIS-00532)............................................................ 213 5.9.8 Time constant for position lag monitoring (P-AXIS-00170)............................................ 213 5.9.9 Suppression of position lag (P-AXIS-00176).................................................................. 214 5.9.10 Delayed generation of position lag error message (P-AXIS-00488).............................. 215 5.10 Tendency test (P-AXIS-00189)..................................................................................................... 215 5.11 Settings for dynamic monitoring in position controller................................................................... 215 5.11.1 Factor for permissible axis velocity (P-AXIS-00407)...................................................... 215 5.12 Adaptation of command values..................................................................................................... 217 TF5200 | Twin CAT 3 CNC Version: 9 Axis parameters
## Page 10

Table of contents 5.12.1 Adaptation of command value of drive to the drive format (denominator, P-AXIS-00128) ....................................................................................................................................... 217 5.12.2 Adaptation of command value of drive to the drive format (numerator, P-AXIS-00129) 217 5.13 Measurement value adaptation..................................................................................................... 218 5.13.1 Distance resolution of measurement (denominator, P-AXIS-00233)............................. 218 5.13.2 Distance resolution of measurement system (numerator, P-AXIS-00234).................... 218 5.13.3 Identification code for absolute path measurement system (P-AXIS-00014)................. 219 5.14 Quantisation of the measuring system increments (P-AXIS-00323)............................................. 220 5.15 Definition of traverse distance between lubrication pulses (P-AXIS-00237)................................. 220 5.16 Settings for axis compensations................................................................................................... 221 5.16.1 Activation of cross compensation (P-AXIS-00047)........................................................ 221 5.16.2 Activation of plane compensation (P-AXIS-00174)........................................................ 221 5.16.3 Activation of SSFK (P-AXIS-00175)............................................................................... 221 5.16.4 Activation of friction compensation (P-AXIS-00522)...................................................... 221 5.17 Settings for the volumetric compensation (lr_param.vol_comp.*)................................................. 222 5.17.1 Maximum permissible correction value (P-AXIS-00525)................................................ 222 5.17.2 Maximum permissible velocity (P-AXIS-00526)............................................................. 222 5.18 Settings for dynamic kv adjustment (getriebe[i].dyn_kv.*)............................................................ 223 5.18.1 Activation of dynamic kv adjustment (P-AXIS-00244).................................................... 223 5.18.2 Parameters of dynamic kv adjustment - kv1 (P-AXIS-00245)........................................ 224 5.18.3 Parameters of dynamic kv adjustment - kv2 (P-AXIS-00247)........................................ 224 5.18.4 Parameters of dynamic kv adjustment - v1 (P-AXIS-00246).......................................... 224 5.18.5 Parameters of dynamic kv adjustment - v2 (P-AXIS-00248).......................................... 225 5.19 Parameters for distance control.................................................................................................... 225 5.19.1 Enabling of distance control (P-AXIS-00328)................................................................. 226 5.19.2 Filtering of sensor values (P-AXIS-00413)..................................................................... 226 5.19.3 Maximum position offset (P-AXIS-00414)...................................................................... 226 5.19.4 Maximum velocity (P-AXIS-00415)................................................................................ 227 5.19.5 Maximum acceleration (P-AXIS-00416)......................................................................... 227 5.19.6 Maximum permissible change speed of measured distance (P-AXIS-00417)............... 228 5.19.7 Reference point offset for control measuring system (P-AXIS-00418).......................... 228 5.19.8 Upper limit for measuring system (P-AXIS-00419)........................................................ 229 5.19.9 Lower limit for measuring system (P-AXIS-00420)........................................................ 229 5.19.10 Tolerance band for limits (P-AXIS-00421)..................................................................... 229 5.19.11 Consideration of distance control in software limit switch monitoring (P-AXIS-00428).. 230 5.19.12 Option: Coupling of distance sensor and motor encoder (P-AXIS-00500)..................... 230 5.19.13 Option: Adaptive weighting of acceleration (P-AXIS-00501).......................................... 230 5.19.14 Option: Low pass filter (P-AXIS-00506)......................................................................... 232 5.19.15 Option: Dead time reduction (P-AXIS-00509)................................................................ 233 5.19.16 Velocity weighting for the lowering movement (P-AXIS-00533)..................................... 234 5.19.17 Weighting the distance control output values (P-AXIS-00759)...................................... 234 5.19.18 Acceleration weighting for the lowering movement (P-AXIS-00534)............................. 235 5.19.19 Integral action time of PID controller (P-AXIS-00764).................................................... 235 5.19.20 Derivative action time of PID controller (P-AXIS-00765)................................................ 236 5.19.21 Filter type for smoothing sensor values (P-AXIS-00782)............................................... 236 5.19.22 Uncertainty of measurement values (P-AXIS-00783).................................................... 237 10 Version: TF5200 | Twin CAT 3 CNC Axis parameters
## Page 11

Table of contents 5.19.23 Smoothing factor (P-AXIS-00784).................................................................................. 237 5.20 Position controller dead band (P-AXIS-00395)............................................................................. 238 5.21 Settings for I (Integral) -position control........................................................................................ 239 5.21.1 Integral time Tn for I-position control (P-AXIS-00495)................................................... 239 5.21.2 Maximum output for I-position control (P-AXIS-00496).................................................. 239 5.21.3 Switch on delay for I-position control (P-AXIS-00497)................................................... 239 5.21.4 Clear Integrator if drive is switched off (P-AXIS-00498)................................................. 240 5.22 Improved Position Control (lr_param.improved_position_control.*).............................................. 240 5.22.1 activation (P-AXIS-00758).............................................................................................. 240 5.22.2 Factor for permissible additive velocity (P-AXIS-00757)................................................ 240 5.22.3 Mode (P-AXIS-00753).................................................................................................... 241 5.22.4 Weighting factor numerator (P-AXIS-00754)................................................................. 241 5.22.5 Weighting factor denominator (P-AXIS-00755).............................................................. 242 5.22.6 Order of the bandpass filter (P-AXIS-00750)................................................................. 242 5.22.7 Damped frequency (P-AXIS-00751).............................................................................. 243 5.22.8 Quality factor of the bandpass filter (P-AXIS-00752)..................................................... 243 5.22.9 Damping of simulated mech. vibration (P-AXIS-00756)................................................. 244 5.23 Restoring axis position at controller start (P-AXIS-00761)............................................................ 244 5.24 Switch over drive type to simulation.............................................................................................. 245 5.24.1 Switching over drive type to simulation (P-AXIS-00790)................................................ 245 5.24.2 Setting the initial position for simulation drives (P-AXIS-00791).................................... 245 5.24.3 Initial position for simulation drives at controller start (P-AXIS-00792).......................... 246 6 Parameters of the axis peripheral interfaces for position control (lr_hw[i].*)................................. 247 6.1 Value of drift compensation (P-AXIS-00057)................................................................................ 247 6.2 Sign reversal of command value (P-AXIS-00231)........................................................................ 247 6.3 Sign reversal of actual value (P-AXIS-00230)............................................................................... 247 6.4 Identifier for hardware specific parameter set (P-AXIS-00136)..................................................... 248 6.5 Numerator distance resolution of the additive sensor measuring system (P-AXIS-00422).......... 248 6.6 Denominator distance resolution of the additive sensor measuring system (P-AXIS-00423)....... 248 6.7 Handling of the additive sensor values (P-AXIS-00424)............................................................... 249 6.8 Parameters of D/A interface.......................................................................................................... 249 6.8.1 Name of D/A-hardware (P-AXIS-00049)........................................................................ 249 6.8.2 D/A-channel number (P-AXIS-00048)............................................................................ 250 6.9 Parameters of digital input interface for homing cams.................................................................. 250 6.9.1 Level of cam signals (P-AXIS-00038)............................................................................ 250 6.10 Encoder value range for Ether CAT drives(P-AXIS-00296)........................................................... 251 6.11 Delay reading of actual position after field bus start (P-AXIS-00567)........................................... 251 7 Parameters for feedforward control.................................................................................................... 253 7.1 Feedforward control mode (P-AXIS-00223).................................................................................. 253 7.2 Conventional feedforward control................................................................................................. 254 7.2.1 Numerator equivalent time constant for feedforward control of acceleration (P- AXIS-00225)................................................................................................................... 255 7.2.2 Denominator equivalent time constant for feedforward control of acceleration (P- AXIS-00226)................................................................................................................... 256 7.2.3 Numerator weighting factor for feedforward control (P-AXIS-00228)............................. 256 7.2.4 Denominator weighting factor for feedforward control (P-AXIS-00229)......................... 256 TF5200 | Twin CAT 3 CNC Version: 11 Axis parameters
## Page 12

Table of contents 7.2.5 Permanent activation of feedforward control (P-AXIS-00255)....................................... 257 7.2.6 Permanent deactivation of feedforward control (P-AXIS-00256)................................... 257 7.2.7 Numerator of scaling factor for jerk feedforward (P-AXIS-00337).................................. 257 7.2.8 Denominator of scaling factor for jerk feedforward (P-AXIS-00338).............................. 258 7.2.9 Delay time for jerk feedforward (P-AXIS-00547)............................................................ 258 7.2.10 Delay time for velocity feedforward (P-AXIS-00389)...................................................... 259 7.2.11 Delay time for acceleration feedforward (P-AXIS-00390).............................................. 259 7.2.12 Numerator weighting factor for velocity feedforward (P-AXIS-00514)........................... 259 7.2.13 Denominator weighting factor for velocity feedforward (P-AXIS-00515)........................ 260 7.2.14 Parameters for PROFIDRIVE........................................................................................ 260 7.2.15 Output of velocity feedforward control value (P-AXIS-00566)........................................ 262 8 Parameters for drives (antr.*)............................................................................................................... 263 8.1 General drive parameters............................................................................................................. 263 8.1.1 Handling of drive command position (P-AXIS-00123).................................................... 263 8.1.2 Handling of drive actual position (P-AXIS-00122).......................................................... 263 8.1.3 Time base for normalisation of velocity (P-AXIS-00207)............................................... 264 8.1.4 Normalisation of the velocity.......................................................................................... 264 8.1.5 Delay between command value and actual value (P-AXIS-00191)............................... 266 8.1.6 Positioning operation mode of an axis (P-AXIS-00320)................................................. 267 8.1.7 Number of the latch input used for edge banding (P-AXIS-00353)................................ 268 8.1.8 Ignore unknown entries in drive telegram (P-AXIS-00358)............................................ 269 8.1.9 Maximum time delay for disabling drive after a PLC watchdog error (P-AXIS-00367).. 269 8.1.10 Name of the Ether CAT master process (P-AXIS-00372)............................................... 270 8.1.11 Encoder, used for CNC controlled homing (P-AXIS-00388).......................................... 270 8.1.12 Base value for scaling of acceleration feedforward (P-AXIS-00392)............................. 270 8.1.13 Encoder resolution via feed constant numerator (P-AXIS-00362)................................. 271 8.1.14 Encoder resolution via feed constant denominator (P-AXIS-00363).............................. 271 8.1.15 Offset between drive position and CNC position for absolute encoders (P-AXIS-00403) ....................................................................................................................................... 272 8.1.16 Factor to coarse encoder resolution (P-AXIS-00405).................................................... 273 8.1.17 Ether CAT-Fieldbus: Number of permissible telegram failures (P-AXIS-00406)............. 273 8.1.18 Bit number for control of a DC brake (P-AXIS-00410)................................................... 274 8.1.19 Number of probing input in drive (P-AXIS-00430).......................................................... 274 8.1.20 Use of position lag calculated in drive (P-AXIS-00466)................................................. 275 8.1.21 Maximum time for drive reset (P-AXIS-00484).............................................................. 275 8.1.22 Drive without support for probing state (P-AXIS-00524)................................................ 275 8.1.23 Activate evaluation of encoder position with additional mask (P-AXIS-00527).............. 276 8.1.24 Drive encoder modulo range (P-AXIS-00528)............................................................... 276 8.1.25 Mechanical movement distance outside the software limit switches (P-AXIS-00459)... 277 8.1.26 Additional datum to calculate power_state_r................................................................. 278 8.1.27 Disabling drive controller for position lag error (P-AXIS-00537).................................... 279 8.1.28 Disabling drive controller in case of bus error (P-AXIS-00542)...................................... 280 8.2 Drive type simulation (antr.simu.*)................................................................................................ 282 8.2.1 Numerator of sampling time constant of axis simulation (P-AXIS-00239)..................... 282 8.2.2 Denominator of sampling time constant of axis simulation (P-AXIS-00238).................. 282 8.2.3 Numerator of attenuation of axis simulation (P-AXIS-00051)........................................ 283 12 Version: TF5200 | Twin CAT 3 CNC Axis parameters
## Page 13

Table of contents 8.2.4 Denominator of attenuation of axis simulation (P-AXIS-00050)..................................... 283 8.2.5 Numerator of natural frequency of axis simulation (P-AXIS-00062).............................. 283 8.2.6 Denominator of natural frequency of axis simulation (P-AXIS-00061)........................... 284 8.2.7 Dead time (P-AXIS-00194)............................................................................................ 284 8.2.8 Tool path up to zero pulse during homing simulation (P-AXIS-00161).......................... 284 8.2.9 Set actual position equal to command position (P-AXIS-00096)................................... 284 8.3 Drive type SERCOS (antr.sercos.*).............................................................................................. 286 8.3.1 Telegram type (P-AXIS-00188)...................................................................................... 286 8.3.2 Ring number (P-AXIS-00160)........................................................................................ 286 8.3.3 Operation mode for velocity control (P-AXIS-00264)..................................................... 286 8.3.4 Drive supported execution of the CNC based homing (P-AXIS-00386)......................... 287 8.3.5 Assignment of control and status bits for CNC based homing (P-AXIS-00387)............ 287 8.3.6 Evaluation of SERCOS state bit drive follows command (P-AXIS-00411)..................... 289 8.3.7 Master data telegram (antr.sercos.mdt[i].*).................................................................... 291 8.3.8 Drive telegram type 7 (antr.sercos.at[i].*)....................................................................... 294 8.3.9 Delay of display command values (P-AXIS-00813)....................................................... 296 8.4 Drive type PROFIDRIVE (antr.profibus.*)..................................................................................... 296 8.4.1 Factor for calculation of the position value (P-AXIS-00065).......................................... 296 8.4.2 Slave-life sign limit (P-AXIS-00162)............................................................................... 297 8.4.3 Activation of velocity command interface (P-AXIS-00260)............................................. 297 8.4.4 Reading absolute position from drive (P-AXIS-00315).................................................. 297 8.4.5 Offset factor for G1_XIST1 (P-AXIS-00316).................................................................. 298 8.4.6 Offset factor for absolute value in G1_XIST2 (P-AXIS-00317)...................................... 298 8.4.7 Calculation mode for actual position (P-AXIS-00318).................................................... 298 8.4.8 Offset to the read absolute position of the drive (P-AXIS-00341).................................. 299 8.4.9 Automatic follow up mode for disabled drive (P-AXIS-00352)....................................... 299 8.4.10 Number of detectable motor revolutions (P-AXIS-00336).............................................. 300 8.4.11 Velocity scaling factor (P-AXIS-00379).......................................................................... 300 8.4.12 Suppress slave life sign warning (P-AXIS-00462)......................................................... 301 8.4.13 Encoder settings for additive encoders (antr.profibus.encoder[i].*)............................... 301 8.4.14 Mechanical movement distance outside the software limit switches (P-AXIS-00546)... 303 8.5 Drive type CANopen (antr.canopen.*)........................................................................................... 304 8.5.1 Number of probing input (P-AXIS-00295)...................................................................... 304 8.5.2 Number of digital input for latching zero pulse (P-AXIS-00364)..................................... 304 8.5.3 Operation mode for drive position control (P-AXIS-00463)............................................ 304 8.5.4 Operation mode for drive velocity control (P-AXIS-00464)............................................ 305 8.5.5 Zero pulse search for negative edge of zero pulse signal (P-AXIS-00618)................... 305 8.5.6 Select trigger source for zero pulse search (P-AXIS-00701)......................................... 305 8.5.7 Select trigger source for probing (P-AXIS-00702).......................................................... 306 8.5.8 Inverting the swap evaluation of the probe status word (P-AXIS-00456)....................... 306 8.5.9 Input process data item (antr.canopen.in[i].*)................................................................ 307 8.5.10 Output process data item (antr.canopen.out[i].*)........................................................... 310 8.5.11 CANopen measurement run with evaluation of probe status (P-AXIS-00834).............. 312 8.6 Drive type KUKA (antr.dse.*)........................................................................................................ 313 8.6.1 Brake control.................................................................................................................. 313 8.7 Drive type Terminal (antr.terminal.*)............................................................................................. 316 TF5200 | Twin CAT 3 CNC Version: 13 Axis parameters
## Page 14

Table of contents 8.7.1 Torque reduction at standstill (P-AXIS-00481)............................................................... 316 8.8 Parameters for drive functions (antr.function[i].*).......................................................................... 317 8.8.1 Name of drive functions in NC program (P-AXIS-00396)............................................... 317 8.8.2 Type of communication with drive controller (P-AXIS-00397)........................................ 317 8.8.3 Name of the parameter or telegram element (P-AXIS00398)........................................ 318 8.8.4 Data type of the data to be transmitted (P-AXIS-00399)................................................ 318 8.8.5 Value of data element after start-up of control (P-AXIS-00400)..................................... 318 8.8.6 Scaling of the data to be transmitted (P-AXIS-00401)................................................... 319 8.8.7 Minimum permissible output value (P-AXIS-00408)...................................................... 319 8.8.8 Maximum permissible output value (P-AXIS-00409)..................................................... 320 8.8.9 Writing of drive values by bit mask (P-AXIS-00429)...................................................... 320 8.9 Parameterise motion to fixed stop (antr.fixed_stop.*)................................................................... 321 8.9.1 Use default value (P-AXIS-00730)................................................................................. 321 8.9.2 Position lag limit for detection (P-AXIS-00712).............................................................. 321 8.9.3 Monitoring window (P-AXIS-00713)............................................................................... 321 8.9.4 Number of position control cycles (P-AXIS-00714)........................................................ 322 8.9.5 Error output on abort (P-AXIS-00715)............................................................................ 322 8.9.6 Error message if fixed stop is not detected (P-AXIS-00716).......................................... 322 8.9.7 Warning message on reset and detected fixed stop (P-AXIS-00717)............................ 323 8.9.8 Motor torque at maximum axis acceleration (P-AXIS-00718)........................................ 323 8.9.9 CNC-internal identifier for the drive object (P-AXIS-00719)........................................... 323 8.9.10 Type of communication with drive controller (P-AXIS-00720)........................................ 324 8.9.11 Name of the drive object in the driver amplifier (P-AXIS-00721)................................... 324 8.9.12 Data type of the data to be transmitted (P-AXIS-00722)................................................ 325 8.9.13 Default value of data element after controller start-up (P-AXIS-00723)......................... 325 8.9.14 Scaling type of the data element (P-AXIS-00724)......................................................... 325 8.9.15 Maximum permissible output value (P-AXIS-00725)..................................................... 326 8.9.16 Minimum permissible output value (P-AXIS-00726)...................................................... 327 8.9.17 Write/read drive values by bit mask (P-AXIS-00727)..................................................... 327 8.9.18 Scaling factor (P-AXIS-00728)....................................................................................... 328 8.9.19 Value of data element during Move to fixed stop (P-AXIS-00729)................................. 328 8.9.20 Name of the drive object to be read in the driver amplifier (P-AXIS-00731).................. 328 8.9.21 Use default parameterisation of drive objects (P-AXIS-00821)...................................... 329 8.9.22 Quick stop after detecting the fixed stop (P-AXIS-00762).............................................. 329 8.9.23 Error reaction for missing drive releases (P-AXIS-00763)............................................. 330 8.9.24 Position lag limit for fixed stop detection (P-AXIS-00769).............................................. 330 8.9.25 Minimum time for fixed stop detection (P-AXIS-00770)................................................. 330 8.9.26 Minimum path to activate fixed stop detection (P-AXIS-00771)..................................... 331 8.9.27 Percentage minimum path for fixed stop detection (P-AXIS-00772).............................. 331 8.9.28 Maximum position change for fixed stop detection (P-AXIS-00773).............................. 332 8.9.29 Velocity limit for fixed stop detection (P-AXIS-00817).................................................... 333 8.9.30 Default value for torque limit for fixed stop detection (P-AXIS-00818)........................... 333 8.9.31 During active moving to fixed stop an axis exchange for this axis is allowed (P- AXIS-00831)................................................................................................................... 333 8.9.32 Degradation of position lag by interpolation on fixed stop position. (P-AXIS-00832)..... 334 8.10 Address offset for digital drive types............................................................................................. 334 14 Version: TF5200 | Twin CAT 3 CNC Axis parameters
## Page 15

Table of contents 8.10.1 Address offset input (P-AXIS-00707)............................................................................. 334 8.10.2 Address offset output (P-AXIS-00580)........................................................................... 335 8.11 Use actual speed for speed monitoring (P-AXIS-00779).............................................................. 335 8.12 Signal for main encoder (P-AXIS-00823)...................................................................................... 335 8.13 Signal for secondary encoder (P-AXIS-00824)............................................................................. 336 8.14 Evaluating status bit “Drive follows command values” (P-AXIS-00830)........................................ 337 8.15 Relevant bit for touch probe status (P-AXIS-00815)..................................................................... 338 9 Parameters for manual operation (handbetrieb.*)............................................................................. 339 9.1 Settings for default parameters (handbetrieb.default.*)................................................................ 339 9.1.1 Operation mode (P-AXIS-00139)................................................................................... 339 9.1.2 Logical identifier of control element (P-AXIS-00046)..................................................... 339 9.2 Setting of offset limits.................................................................................................................... 340 9.2.1 Relative positive offset limit (P-AXIS-00138)................................................................. 340 9.2.2 Relative negative offset limit (P-AXIS-00137)................................................................ 340 9.2.3 Setting of default values after G200 or G201 (P-AXIS-00446)...................................... 340 9.3 ACS movement limits.................................................................................................................... 342 9.3.1 Absolute positive ACS movement limit (P-AXIS-00493)................................................ 342 9.3.2 Absolute negative ACS movement limit (P-AXIS-00492)............................................... 342 9.3.3 Effect of feedhold control signals (P-AXIS-00529)......................................................... 343 9.4 Settings for hand wheel (handbetrieb.hr.*).................................................................................... 344 9.4.1 Hand wheel resolutions (P-AXIS-00025)....................................................................... 344 9.4.2 Filter time constant for hand wheel increments (P-AXIS-00069)................................... 344 9.5 Settings for the continuous jog mode (handbetrieb.tipp.*)............................................................ 345 9.5.1 Velocity for the continuous jog mode (P-AXIS-00077)................................................... 345 9.5.2 Rapid mode velocity for continuous jog mode (P-AXIS-00210)..................................... 345 9.6 Settings for incremental jog mode (handbetrieb.jog.*).................................................................. 346 9.6.1 Jog incremental widths (P-AXIS-00232)........................................................................ 346 9.6.2 Incremental jog velocities (P-AXIS-00076).................................................................... 346 9.6.3 Rapid mode velocity for jog mode (P-AXIS-00530)....................................................... 346 9.7 Manual operation mode with parallel interpolation (handbetrieb.ipo.*)......................................... 347 9.7.1 Velocity part of manual operation (P-AXIS-00083)........................................................ 347 9.7.2 Velocity part of interpolation (P-AXIS-00095)................................................................ 347 9.7.3 Acceleration part of manual operation (P-AXIS-00082)................................................. 347 9.7.4 Acceleration part of interpolation (P-AXIS-00094)......................................................... 348 9.7.5 Position correction.......................................................................................................... 348 9.8 Manual operation mode without parallel interpolation (handbetrieb.hb.*)..................................... 350 9.8.1 Maximum velocity (P-AXIS-00213)................................................................................ 350 9.8.2 Maximum acceleration (P-AXIS-00009)......................................................................... 350 9.8.3 Feedhold acceleration (P-AXIS-00259)......................................................................... 350 9.8.4 Ramp time during maximum acceleration (P-AXIS-00359)........................................... 351 9.8.5 Ramp time at feedhold (P-AXIS-00360)......................................................................... 351 9.8.6 Maximum deceleration (P-AXIS-00541)......................................................................... 351 9.8.7 Reduced maximum acceleration (P-AXIS-00545)......................................................... 352 10 Parameters for measurement simulation (meas_simu.*).................................................................. 353 10.1 Methods for measurement simulation (P-AXIS-00112)................................................................. 353 TF5200 | Twin CAT 3 CNC Version: 15 Axis parameters
## Page 16

Table of contents 10.2 Setting of the measurement position for simulation...................................................................... 353 10.2.1 Setting of Parameter 1 (P-AXIS-00145)......................................................................... 353 10.2.2 Setting of Parameter 2 (P-AXIS-00146)......................................................................... 356 10.2.3 Setting of Parameter 3 (P-AXIS-00147)......................................................................... 356 10.2.4 Setting of Parameter 4 (P-AXIS-00148)......................................................................... 356 11 Axis-specific filter functions................................................................................................................ 358 11.1 Default filter function (filter[i].*)...................................................................................................... 358 11.1.1 Filter - order (P-AXIS-00140)......................................................................................... 358 11.1.2 Filter - characteristic (P-AXIS-00153)............................................................................ 358 11.1.3 Filter - type (P-AXIS-00204)........................................................................................... 359 11.1.4 Filter - frequency (P-AXIS-00067).................................................................................. 359 11.1.5 Filter - bandwidth (P-AXIS-00080)................................................................................. 359 11.1.6 Filter - signal share (P-AXIS-00164).............................................................................. 360 11.1.7 Filter - activation (P-AXIS-00319).................................................................................. 360 11.1.8 Filter - time constant (P-AXIS-00357)............................................................................ 361 11.2 FIR filters (filter_fir.*)..................................................................................................................... 362 11.2.1 FIR filters - activation (P-AXIS-00573)........................................................................... 362 11.2.2 FIR filters - type (P-AXIS-00586)................................................................................... 362 11.2.3 FIR filters - order (P-AXIS-00587).................................................................................. 362 11.2.4 FIR filters - order in time (P-AXIS-00591)...................................................................... 363 11.2.5 FIR filters - share factor (P-AXIS-00590)....................................................................... 363 11.2.6 FIR filters - limit frequency (P-AXIS-00585)................................................................... 364 11.2.7 FIR filters - quality (P-AXIS-00593)................................................................................ 364 11.3 Vibration suppression (vib_guard.*).............................................................................................. 364 11.3.1 Activating the Vibration Guard (P-AXIS-00588)............................................................. 365 11.3.2 Vibration Guard mode (P-AXIS-00571).......................................................................... 365 11.3.3 Machine natural frequency (P-AXIS-00589).................................................................. 366 11.3.4 Damping factor of natural frequency (P-AXIS-00568).................................................... 366 12 Parameters for axis specific transformation (trafo.*)........................................................................ 367 12.1 Actual value transformation (trafo.actual_pos.*)........................................................................... 367 12.1.1 Activation (P-AXIS-00380)............................................................................................. 367 12.1.2 Transformation ID (P-AXIS-00381)................................................................................ 367 12.1.3 Transformation parameters (P-AXIS-00382)................................................................. 367 12.1.4 Additional input axes (P-AXIS-00371)............................................................................ 368 12.2 Command value transformation (trafo.command_pos.*).............................................................. 369 12.2.1 Activation (P-AXIS-00368)............................................................................................. 369 12.2.2 Transformation ID (P-AXIS-00369)................................................................................ 369 12.2.3 Transformation parameters (P-AXIS-00370)................................................................. 369 12.2.4 Transformation types..................................................................................................... 373 12.2.5 Software limit switches and motion ranges.................................................................... 385 13 Parameters for path dependent on dynamic weighting (dynamic_weighting.*)............................. 386 13.1 activation (P-AXIS-00431)............................................................................................................. 386 13.2 Table of dynamic weightings (dynamic_weighting.param[i].*)...................................................... 387 13.2.1 Path distance limit (P-AXIS-00432)................................................................................ 387 13.2.2 Weighting factor for rapid feed velocity (P-AXIS-00433)................................................ 387 16 Version: TF5200 | Twin CAT 3 CNC Axis parameters
## Page 17

Table of contents 13.2.3 Weighting factor for rapid feed acceleration (P-AXIS-00434)........................................ 387 13.2.4 Weighting factor for rapid feed ramp time (P-AXIS-00435)............................................ 388 13.2.5 Example of a table......................................................................................................... 389 14 Parameters used by Twincat system manager (twincat.*)................................................................ 390 15 User-defined data (customer.*)............................................................................................................ 391 15.1 Free user defined values (P-AXIS-00510).................................................................................... 391 16 Filter parameters for error handling on axis (error_filter[i].*)........................................................... 392 16.1 Cause of error (P-AXIS-00627)..................................................................................................... 392 16.2 Error action (P-AXIS-00628)......................................................................................................... 392 16.3 Conditional activation (P-AXIS-00629).......................................................................................... 393 16.4 Conditional action (P-AXIS-00630)............................................................................................... 393 16.5 Conditional filter activation (P-AXIS-00631).................................................................................. 394 16.6 Output of additional error information (P-AXIS-00632)................................................................. 394 17 Parameter of the external compensation............................................................................................ 396 17.1 Maximum position change of the compensation - warning limit (P-AXIS-00743)......................... 396 17.2 Maximum position change of the compensation - error limit (P-AXIS-00744).............................. 396 17.3 Maximum acceleration of the axes by compensation offset (P-AXIS-00745)............................... 396 18 Settings for the conveyor tracking functionality (conv_sync.*)....................................................... 397 18.1 Definition of the conveyor axis (P-AXIS-00708)............................................................................ 397 18.2 Actual position value filter for the conveyor axis (P-AXIS-00620)................................................. 397 18.3 Order of the actual speed value filter of the conveyor axis (P-AXIS-00623)................................. 397 18.4 Order of the downstream velocity actual value filter in the case of feedhold on the conveyor axis (P- AXIS-00624).................................................................................................................................. 398 18.5 Order of the actual speed filter in the case of feedhold on the conveyor axis (P-AXIS-00625).... 398 18.6 Delay time between the latch moment of the actual values and generating the command value P- AXIS-00626).................................................................................................................................. 398 19 General examples................................................................................................................................. 400 19.1 Settings of position scaling............................................................................................................ 400 20 Appendix................................................................................................................................................ 404 20.1 Legacy parameters....................................................................................................................... 404 20.1.1 Activation of (additional) interface for loading application-specific command values (P- AXIS-00091)................................................................................................................... 404 20.1.2 Activation of (additional) interface for loading of command and actual values (P- AXIS-00141)................................................................................................................... 404 20.1.3 Time constant of the PT2-Filter for the additive command value interface (P-AXIS-00438) ....................................................................................................................................... 404 20.1.4 Handling of the loaded position command values as offset (P-AXIS-00322)................. 405 20.1.5 Reinitialisation of additional position interface on enable (P-AXIS-00499).................... 405 20.1.6 Use default parameters for the drive type (P-AXIS-00746)............................................ 407 20.1.7 Torque limit value (P-AXIS-00342)................................................................................ 407 20.1.8 Reducing the torque limit for detection (P-AXIS-00343)................................................ 407 21 Support and Service............................................................................................................................. 408 Index....................................................................................................................................................... 409 TF5200 | Twin CAT 3 CNC Version: 17 Axis parameters
## Page 18

Table of contents 18 Version: TF5200 | Twin CAT 3 CNC Axis parameters
## Page 19

List of figures List of figures Fig. 1 Configuration of physical and logical axes................................................................................... 52 Fig. 2 Overview of axis types................................................................................................................. 55 Fig. 3 Correlation between axis type and axis data............................................................................... 55 Fig. 4 Detection of different zero impulse positions possible................................................................. 80 Fig. 5 Reliable detection of identical zero impulse positions.................................................................. 80 Fig. 6 Monitoring of command and actual values for software limit switch............................................ 91 Fig. 7 Reduced maximum speed with active G01.................................................................................. 146 Fig. 8 Reduced maximum speed with active G00.................................................................................. 146 Fig. 9 Representation of 2 security zones and limits of an axis............................................................. 147 Fig. 10 Parameters of permissible axis velocities inside the security zone 1........................................... 149 Fig. 11 Parameters of permissible axis velocities inside the second security zone................................. 149 Fig. 12 Parameters of permissible axis velocities inside the second security zone................................. 150 Fig. 13 Principle of electronic gear coupling............................................................................................ 155 Fig. 14 Principle motion sequence of a C axis with G26.......................................................................... 157 Fig. 15 Principle motion sequence of a C axis with G25.......................................................................... 158 Fig. 16 Positioning procedure with pendulum movement........................................................................ 165 Fig. 17 Acceleration and deceleration parameters of the linear velocity profile....................................... 172 Fig. 18 Non-linear velocity profile............................................................................................................. 177 Fig. 19 ..................................................................................................................................................... 182 Fig. 20 Acceleration by block transitions N10 to N20 due to a direction change..................................... 186 Fig. 21 Acceleration at linear-linear block transition................................................................................. 186 Fig. 22 Factor range for acceleration weighting at block transition ......................................................... 187 Fig. 23 Acceleration and jerk at linear-circular block transition................................................................ 189 Fig. 24 Factor for jerk weighting at block transition.................................................................................. 189 Fig. 25 Characteristic a(n) in polynomial or hyperbolic form.................................................................... 193 Fig. 26 Characteristic curve for asynchronous drives.............................................................................. 196 Fig. 27 Reference measurement at different temperatures..................................................................... 207 Fig. 28 Time constant to shift monitoring curve....................................................................................... 214 Fig. 29 Parameters of dynamic kv adjustment......................................................................................... 223 Fig. 30 Parameters for acceleration and distance error........................................................................... 231 Fig. 31 Block diagram of feedforward control........................................................................................... 254 Fig. 32 Block diagram of feedforward control with additive setpoints...................................................... 255 Fig. 33 Simulation drive transmit function of the filter.............................................................................. 282 Fig. 34 Calculation mode for actual position............................................................................................ 299 Fig. 35 Calculation mode for encoder actual position for additive encoder.............................................. 302 Fig. 36 Timing opening the brake............................................................................................................. 313 Fig. 37 Timing when closing the brake..................................................................................................... 314 Fig. 38 Absolute motion limits in manual mode........................................................................................ 342 Fig. 39 Graphic diagram of e-function...................................................................................................... 373 Fig. 40 Kinematic structure of slider crank............................................................................................... 374 Fig. 41 Graphic diagram of transfer function............................................................................................ 374 Fig. 42 Extreme positions of slider crank with eccentricity....................................................................... 375 Fig. 43 Kinematic diagram of the eccenter function................................................................................. 376 Fig. 44 Graphic diagram of the eccenter function.................................................................................... 376 TF5200 | Twin CAT 3 CNC Version: 1.172 19 Axis parameters
## Page 20

List of figures Fig. 45 Kinematic structure of crank and linkage..................................................................................... 377 Fig. 46 Graphic diagram of transfer function............................................................................................ 377 Fig. 47 Zero offset point of drive position................................................................................................. 378 Fig. 48 Angular kinematic......................................................................................................................... 379 Fig. 49 Transfer function with and without position offset........................................................................ 380 Fig. 50 Transfer function with and without angle inversion...................................................................... 381 Fig. 51 Transfer function with and without linear position inversion......................................................... 382 Fig. 52 Transfer function of the symmetrical slider crank......................................................................... 384 Fig. 53 Input of backward transformation with SLS monitoring................................................................ 385 Fig. 54 Position scaling with rotary encoder............................................................................................. 400 Fig. 55 Position scaling with linear encoder............................................................................................. 401 Fig. 56 Position scaling with fitted encoder.............................................................................................. 402 20 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 21

Overview of axis-specific parameters Overview of axis-specific parameters The axis parameter overview is sorted into a 4-column table. • Column 1 contains the unambiguous identifier of the axis parameter called the “ID” which consists of the prefix “P-AXIS” and a unique 5-digit number, e.g. P-AXIS-00001. • Column 2 represents the data structure which defines the parameters, e.g. getriebe[i].slope_profil. The structure is a categorisation aid and is described in the following section. • Column 3 contains the “parameter” with its exact description, e.g. a_beschl. The important thing is that “structure”+”parameter” always belong together and must therefore be configured in exactly the same way in the axis parameter list, e.g. getriebe[i].slope_profil.a_beschl. • Column 4 contains the “functionality” in a summarised term/short description, e.g. dynamic variable for non-linear slope. ID Structure Parameter Functionality/short de- scription P-AXIS-00001 [} 177] getriebe[i].slope_profil. a_beschl Acceleration at machining feed (non-linear slope) P-AXIS-00002 [} 178] getriebe[i].slope_profil. a_brems Deceleration at machining feed (non-linear slope) P-AXIS-00003 [} 184] getriebe[i].dynamik. a_emergency Deceleration for an emergency stop P-AXIS-00004 [} 179] getriebe[i].slope_profil. a_grenz Acceleration at rapid movement (non-linear slope) P-AXIS-00005 [} 174] getriebe[i].slope_profil. a_grenz_stufe_1 Acceleration of step 1 in rapid mode (linear slope) P-AXIS-00006 [} 175] getriebe[i].slope_profil. a_grenz_stufe_2 Acceleration of step 2 in rapid mode (linear slope) P-AXIS-00007 [} 194] getriebe[i].beschl_kennlinie. a_konst Constant acceleration in the range n<ngrenz P-AXIS-00008 [} 184] getriebe[i].dynamik. a_max Maximum permissible axis acceleration P-AXIS-00009 [} 350] handbetrieb.hb. a_max Maximum acceleration for manual operation without parallel interpolation P-AXIS-00010 [} 194] getriebe[i].beschl_kennlinie. a_min Minimum acceleration which may not be undershot. P-AXIS-00011 [} 172] getriebe[i].slope_profil. a_stufe_1 Acceleration of step 1 (linear slope) P-AXIS-00012 [} 173] getriebe[i].slope_profil. a_stufe_2 Acceleration of step 2 (linear slope) P-AXIS-00013 [} 185] getriebe[i].dynamik. a_trans_weight Weighting of acceleration at motion block transition P-AXIS-00014 [} 219] kenngr. abs_pos_gueltig Identification code for absolute path measurement system P-AXIS-00015 [} 56] kenngr. achs_mode Operation mode of an axis P-AXIS-00016 [} 50] kopf. achs_nr Logical axis number P-AXIS-00018 [} 55] kenngr. achs_typ Axis type (linear axis, rotary axes, spindle) P-AXIS-00019 antr.sercos. antr_adr Drive address (SERCOS) TF5200 | Twin CAT 3 CNC Version: 1.172 21 Axis parameters
## Page 22

Overview of axis-specific parameters ID Structure Parameter Functionality/short de- scription P-AXIS-00020 [} 54] kenngr. antr_typ Drive type P-AXIS-00021 [} 206] lr_param. anwahl_losekomp Selection of backlash compensation P-AXIS-00023 [} 201] kenngr. anzeige Activation of display function P-AXIS-00024 [} 176] getriebe[i].slope_profil. a_feedh Dynamic variable for linear slope P-AXIS-00025 [} 344] handbetrieb.hr. aufl[i] Handwheel resolutions P-AXIS-00026 [} 194] getriebe[i].beschl_kennlinie. b1 Parameter of the a(n) polynomial (B1) P-AXIS-00027 [} 195] getriebe[i].beschl_kennlinie. b2 Parameter of the a(n) polynomial (B2) P-AXIS-00028 [} 195] getriebe[i].beschl_kennlinie. b3 Parameter of the a(n) polynomial (B3) P-AXIS-00030 [} 149] getriebe[i]. vb_max_red_zone Maximum permissible axis velocity in security zone P-AXIS-00031 [} 62] kenngr. beweg_richt Definition of preferred direction of spindle rotation P-AXIS-00036 lr_hw[i]. cam_direct_access Access to cam signals P-AXIS-00037 lr_hw[i]. cam_hw_id_string Name of hardware P-AXIS-00038 [} 250] lr_hw[i]. cam_level Level of cam signals P-AXIS-00039 lr_hw[i]. cam_mask Bit variable for cam signals P-AXIS-00040 [} 53] kopf. clone_of Mapping of parameters of an existing axis for default configuration P-AXIS-00041 lr_hw[i]. cntr_channel Channel identifier for counter P-AXIS-00042 lr_hw[i]. cntr_hw_id_string Name of counter hardware P-AXIS-00043 [} 123] kenngr. coll_check_ax_nr Monitoring of axis collision: Logical axis number P-AXIS-00044 [} 123] kenngr. coll_decelerate_chan Monitoring of axis collision: Stopping in all channels during drive faults P-AXIS-00045 [} 123] kenngr. coll_offset Monitoring of axis collision: Security distance P-AXIS-00046 [} 339] handbetrieb.default. control_element Logical control element number P-AXIS-00047 [} 221] lr_param. crosscomp Activation of cross compensation P-AXIS-00048 [} 250] lr_hw[i]. da_channel D/A-channel number P-AXIS-00049 [} 249] lr_hw[i]. da_hw_id_string Name of D/A-hardware P-AXIS-00050 [} 283] antr.simu. daempfung_n Axis simulation attenuation (numerator) P-AXIS-00051 [} 283] antr.simu. daempfung_z Axis simulation attenuation (numerator) P-AXIS-00052 [} 127] kenngr. def_cax_gear_st Default gear step number for C-axis mode P-AXIS-00053 [} 180] getriebe[i].slope_profil. a_feedh Deceleration at feedhold (non-linear slope) 22 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 23

Overview of axis-specific parameters ID Structure Parameter Functionality/short de- scription P-AXIS-00054 [} 170] getriebe[i]. default_lr_hw_nbr Number of selected hardware specific parameter set of the gear step P-AXIS-00056 [} 125] kenngr. diff_pos_tracking Tracking mode: Maximum difference after deactivation P-AXIS-00057 [} 247] lr_hw[i]. drift_wert Value of drift compensation P-AXIS-00058 [} 68] kenngr. durchm_prog_abs Diameter programming absolute P-AXIS-00059 [} 68] kenngr. durchm_prog_rel Diameter programming relative P-AXIS-00060 [} 104] kenngr. echtzeit_bit_nr SERCOS status/define control bit for measurement P-AXIS-00061 [} 284] antr.simu. eigenfrequenz_n Axis simulation natural frequency (numerator) P-AXIS-00062 [} 283] antr.simu. eigenfrequenz_z Axis simulation natural frequency (numerator) P-AXIS-00063 antr.sercos. eval_calc_slot Time slot calculation (SERCOS) P-AXIS-00064 [} 71] kenngr. fast_from_cam Slow / fast movement down from cam P-AXIS-00065 [} 296] antr.profibus. feinaufloesung Factor for calculation of the position values (PROFIDRIVE) P-AXIS-00067 [} 359] filter[i]. fg_f0 Characteristic frequency of the axis-specific command value filter P-AXIS-00068 antr.sercos.ident[i]. file Filename (SERCOS) P-AXIS-00069 [} 344] handbetrieb.hr. filter_zeit Filter time constant for hand wheel increments P-AXIS-00070 [} 117] kenngr. gantry_ax_nr Axis number of the master axis P-AXIS-00071 [} 118] kenngr. gantry_max_diff_reset_l Non resettable path ocked distance between master- and slave axis P-AXIS-00072 [} 117] kenngr. gantry_max_diff_resetab Resettable path distance le P-AXIS-00073 [} 118] kenngr. gantry_offset Static offset between master and slave axis P-AXIS-00074 [} 121] kenngr. gantry_slave_no_homin Suppress homing for gantry g slave axis P-AXIS-00075 [} 118] kenngr. gantry_vb_korr Velocity of correction for compensation of gantry difference P-AXIS-00076 [} 346] handbetrieb.jog. geschw[i] Incremental jog velocities P-AXIS-00077 [} 345] handbetrieb.tipp. geschw[i] Velocity for the continuous jog mode P-AXIS-00078 [} 170] getriebe[i]. getr_schalt_pos Gear change position P-AXIS-00079 [} 127] kenngr. getriebe_stufe Default gear step number P-AXIS-00080 [} 359] filter[i]. guete Bandwidth of axis specific command value filter P-AXIS-00081 [} 180] getriebe[i].slope_profil. tr_feedh Ramp time at feedhold (non-linear slope) TF5200 | Twin CAT 3 CNC Version: 1.172 23 Axis parameters
## Page 24

Overview of axis-specific parameters ID Structure Parameter Functionality/short de- scription P-AXIS-00082 [} 347] handbetrieb.ipo. hb_proz_a_max Acceleration part of manual operation with parallel interpolation P-AXIS-00083 [} 347] handbetrieb.ipo. hb_proz_v_max Velocity part of manual operation with parallel interpolation P-AXIS-00084 [} 70] kenngr. homing_without_zero_p Homing only with cam ulse (without zero pulse) P-AXIS-00085 [} 147] kenngr. red_speed_zone_pos Upper limit of security zone 1 P-AXIS-00086 [} 95] kenngr. hub_messtaster Probe stroke for measurement types 2 and 4 P-AXIS-00087 [} 294] antr.sercos.at[i]. ident_len Length of ID (SERCOS) P-AXIS-00088 [} 291] antr.sercos.mdt[i]. ident_len Length of ID (SERCOS) P-AXIS-00089 [} 294] antr.sercos.at[i]. ident_nr AT ID number (SERCOS) P-AXIS-00090 [} 291] antr.sercos.mdt[i]. ident_nr MDT ID number (SERCOS) P-AXIS-00091 [} 404] kenngr. in_add_interface Activation of (additional) interface for loading application-specific command values P-AXIS-00092 [} 261] getriebe[i]. incr_per_rev Position controller increments per revolution P-AXIS-00093 [} 147] kenngr. red_speed_zone_neg Lower limit of security zone 1 P-AXIS-00094 [} 348] handbetrieb.ipo. ipo_proz_a_max Acceleration part of interpolation P-AXIS-00095 [} 347] handbetrieb.ipo. ipo_proz_v_max Velocity part of interpolation P-AXIS-00096 [} 284] antr.simu. ist_gleich_soll Set actual position equal to command position for drive simulation P-AXIS-00097 [} 148] kenngr. red_speed_zone_2_pos Upper limit of security zone 2 P-AXIS-00098 [} 116] kenngr. kasto_achse Activation of edge banding P-AXIS-00099 [} 199] getriebe[i]. kv Proportional factor kv for P- positional control P-AXIS-00100 antr.sercos.ident[i]. laenge Length of ID (SERCOS) P-AXIS-00101 [} 52] kopf. link_to Linking an interpolator output to a specific physical axis P-AXIS-00102 antr.sercos.ident[i]. liste ID as list (SERCOS) P-AXIS-00103 [} 205] getriebe[i]. lose Size of backlash P-AXIS-00105 [} 148] kenngr. red_speed_zone_2_neg Lower limit of security zone 2 P-AXIS-00106 [} 105] lr_hw[i]. mask_mess_1 SERCOS-status bit for measurement P-AXIS-00108 [} 140] kenngr. max_diff_soll_ist Maximum permissible position difference when setting the enables of the drive controller P-AXIS-00109 [} 142] kenngr. max_vb_override Maximum permissible velocity override 24 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 25

Overview of axis-specific parameters ID Structure Parameter Functionality/short de- scription P-AXIS-00110 [} 50] kopf. mds_ident Enable the reconfiguration of axis machine data P-AXIS-00112 [} 353] meas_simu. meas_simu_mode Methods for measurement simulation P-AXIS-00113 [} 102] kenngr. mess_neg_flanke Probing signal edge P-AXIS-00114 [} 96] kenngr. mess_offset Measurement travel offset for measurement type 2 P-AXIS-00115 [} 103] kenngr. mess_signal_achs_steu Measurement signal via er axis specific control bit mask P-AXIS-00116 [} 102] kenngr. mess_signal_sercos Measurement with SERCOS drives P-AXIS-00117 [} 102] kenngr. mess_signal_taster Measurement signal from hardware interface P-AXIS-00118 [} 95] kenngr. messachse Define axis as measurement axis P-AXIS-00119 antr.sercos.ident[i]. mod Modifier of ID (SERCOS) P-AXIS-00120 [} 60] lr_param. mod_komp Activation of modulo compensation P-AXIS-00122 [} 263] antr. mode_act_pos Handling of drive actual position P-AXIS-00123 [} 263] antr. mode_cmd_pos Handling of drive command position P-AXIS-00124 [} 60] getriebe[i]. modulo_fehler Error in modulo circle P-AXIS-00125 [} 59] getriebe[i]. modulo_umdreh Number of rotations in case of modulo error compensation P-AXIS-00126 [} 59] getriebe[i]. moduloo Upper modulo limit P-AXIS-00127 [} 59] getriebe[i]. modulou Lower modulo limit P-AXIS-00128 [} 217] getriebe[i]. multi_gain_n Adapting the drive command value to the drive format (denominator) P-AXIS-00129 [} 217] getriebe[i]. multi_gain_z Adaptation of command value of drive to the drive format (numerator) P-AXIS-00130 [} 193] getriebe[i].beschl_kennlinie. n_grenz Limit speed of the acceleration curve P-AXIS-00131 [} 294] antr.sercos.at[i]. nc_ref Assigning the input process data to CNC-internal characteristics (SERCOS) P-AXIS-00132 [} 291] antr.sercos.mdt[i]. nc_ref Assigning the output process data to CNC- internal characteristics (SERCOS) P-AXIS-00134 antr.sercos.ident[i]. nr SERCOS-Ident-No (SERCOS) P-AXIS-00135 [} 170] getriebe[i]. nummer Gear step number P-AXIS-00136 [} 248] lr_hw[i]. nummer Identifier for hardware specific parameter set P-AXIS-00137 [} 340] handbetrieb. offsetgrenze_neg Relative negative offset limit in manual mode P-AXIS-00138 [} 340] handbetrieb. offsetgrenze_pos Relative positive offset limit in manual mode TF5200 | Twin CAT 3 CNC Version: 1.172 25 Axis parameters
## Page 26

Overview of axis-specific parameters ID Structure Parameter Functionality/short de- scription P-AXIS-00139 [} 339] handbetrieb.default. operation_mode Operation mode of manual mode P-AXIS-00140 [} 358] filter[i]. order Order of axis specific command value filter P-AXIS-00141 [} 404] kenngr. out_add_interface Activation of (additional) interface for loading of command and actual values P-AXIS-00145 [} 353] meas_simu. parameter1 Setting parameter 1 for measurement simulation P-AXIS-00146 [} 356] meas_simu. parameter2 Setting parameter 2 for measurement simulation P-AXIS-00147 [} 356] meas_simu. parameter3 Setting parameter 3 for measurement simulation P-AXIS-00148 [} 356] meas_simu. parameter4 Setting parameter 4 for measurement simulation P-AXIS-00150 antr.sercos.ident[i]. phase Phase for ID-processing (SERCOS) P-AXIS-00151 [} 213] getriebe[i]. pos_einschw_zeit Maximum permissible settling time for exact stop window P-AXIS-00152 [} 69] getriebe[i]. pos_refpkt Position of the reference point P-AXIS-00153 [} 358] filter[i]. prototype Characteristic of axis specific command value filter P-AXIS-00154 [} 188] getriebe[i].dynamik. r_trans_weight Dynamic variable for non- linear slope P-AXIS-00155 [} 146] getriebe[i]. rapid_speed_red Safety zone monitoring P-AXIS-00156 [} 69] kenngr. ref_ohne_nocken Homing without cam P-AXIS-00157 [} 69] kenngr. ref_ohne_rev Homing without reverting P-AXIS-00158 [} 68] kenngr. ref_richt Preferred direction of axis for homing P-AXIS-00159 [} 63] getriebe[i]. reverse Reverse of sign for setpoint and actual value P-AXIS-00160 [} 286] antr.sercos. ring_nr Ring number (SERCOS) P-AXIS-00161 [} 284] antr.simu. rpf_weg_bis_nip Tool path up to zero pulse during homing simulation P-AXIS-00162 [} 297] antr.profibus. s_ls_limit Slave-life sign limit (PROFIDRIVE) P-AXIS-00164 [} 360] filter[i]. share_percent Signal share of axis specific command value filter P-AXIS-00165 [} 260] vorsteuer. shift_time Time offset of feed forward control setpoints P-AXIS-00166 [} 212] getriebe[i]. slep_abw Remaining deviation for non-linear position lag monitoring P-AXIS-00167 [} 212] getriebe[i]. slep_dyn Factor for dynamic position lag monitoring P-AXIS-00168 [} 211] getriebe[i]. slep_max Maximum position lag P-AXIS-00169 [} 211] getriebe[i]. slep_min Minimum position lag P-AXIS-00170 [} 213] getriebe[i]. slep_time_const Time constant for position lag monitoring 26 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 27

Overview of axis-specific parameters ID Structure Parameter Functionality/short de- scription P-AXIS-00172 [} 210] getriebe[i]. slep_ueberw_typ Type of position lag monitoring P-AXIS-00173 antr.sercos.times. slkn Slave identifier P-AXIS-00174 [} 221] lr_param. crosscomp2 Activation of plane compensation P-AXIS-00175 [} 221] lr_param. ssfk Activation of SSFK P-AXIS-00176 [} 214] lr_param. suppress_pos_lag_error Suppression of position lag P-AXIS-00177 [} 92] kenngr. swe_neg Negative software limit switch P-AXIS-00178 [} 91] kenngr. swe_pos Positive software limit switch P-AXIS-00179 [} 91] kenngr. swe_toleranz Tolerance range for software limit switch P-AXIS-00180 antr.sercos.times. t1 Transmission moment of drive telegram P-AXIS-00181 antr.sercos.times. t1min Earliest transmission moment for drive telegrams P-AXIS-00182 antr.sercos.times. t2 Transmission moment of MDT P-AXIS-00183 antr.sercos.times. t3 Validation moment for command values P-AXIS-00184 antr.sercos.times. t4 Latch moment of actual values P-AXIS-00185 antr.sercos.times. t4min Latch moment of actual values P-AXIS-00186 antr.sercos.times. tatat Transmitter recovery time P-AXIS-00187 antr.sercos.times. tatmt Switch over moment between transmission and reception P-AXIS-00188 [} 286] antr.sercos. telegramm_typ Telegram type (SERCOS) P-AXIS-00189 [} 215] kenngr. tendenz_pruef Activation of tendency test P-AXIS-00190 [} 261] vorsteuer. timeconst_cmd_filter Time constant low-pass filter position lag P-AXIS-00191 [} 266] antr. nbr_delay_cycles Delay between command value and actual value P-AXIS-00192 antr.sercos.times. tmtsg Processing time for command values P-AXIS-00193 antr.sercos.times. tmtsy Recovery time in slave P-AXIS-00194 [} 284] antr.simu. totzeit Dead time for drive simulation P-AXIS-00195 [} 178] getriebe[i].slope_profil. tr_beschl_ab Ramp time for acceleration down-gradation (non-linear slope) P-AXIS-00196 [} 178] getriebe[i].slope_profil. tr_beschl_zu Ramp time for acceleration up-gradation (non-linear slope) P-AXIS-00197 [} 179] getriebe[i].slope_profil. tr_brems_ab Ramp time for deceleration down-gradation (non-linear slope) P-AXIS-00198 [} 179] getriebe[i].slope_profil. tr_brems_zu Ramp time for deceleration up-gradation (non-linear slope) TF5200 | Twin CAT 3 CNC Version: 1.172 27 Axis parameters
## Page 28

Overview of axis-specific parameters ID Structure Parameter Functionality/short de- scription P-AXIS-00199 [} 185] getriebe[i].dynamik. tr_geom Geometric ramp time P-AXIS-00200 [} 180] getriebe[i].slope_profil. tr_grenz Ramp time at rapid movement (non-linear slope) P-AXIS-00201 [} 185] getriebe[i].dynamik. tr_min Minimum permissible ramp time P-AXIS-00202 [} 193] getriebe[i].beschl_kennlinie. typ Type of the characteristic acceleration curve P-AXIS-00203 antr.sercos.ident[i]. type Type of ID (SERCOS) P-AXIS-00204 [} 359] filter[i]. type Type of axis specific command value filter P-AXIS-00205 [} 264] antr. v_reso_denom Velocity normalisation (denominator) P-AXIS-00206 [} 264] antr. v_reso_num Normalisation of command velocity (numerator) P-AXIS-00207 [} 264] antr. v_time_base Time base for normalisation of velocity P-AXIS-00208 [} 125] kenngr. vb_corr_tracking Tracking mode: Maximum feed of compensation movement after deselection P-AXIS-00209 [} 182] getriebe[i]. vb_eilgang Rapid traverse velocity P-AXIS-00210 [} 345] handbetrieb.tipp. vb_eilgang Rapid mode velocity for continuous jog mode P-AXIS-00211 [} 176] getriebe[i].slope_profil. vb_grenz_stufe_1_2 Changeover speed in rapid mode (linear slope) P-AXIS-00212 [} 183] getriebe[i].dynamik. vb_max Maximum permissible axis velocity P-AXIS-00213 [} 350] handbetrieb.hb. vb_max Maximum velocity for manual operation without parallel interpolation P-AXIS-00214 [} 145] getriebe[i]. vb_max_red Reduced maximum speed with active G01 P-AXIS-00215 [} 95] kenngr. vb_messen Measurement speed for measurement type 2 P-AXIS-00216 [} 63] getriebe[i]. vb_min_null Limit for spindle speed 'zero' P-AXIS-00217 [} 62] kenngr. vb_prozent Speed-value attained - tolerance band P-AXIS-00218 [} 70] getriebe[i]. vb_reflow Slow velocity for exact detection of reference position P-AXIS-00219 [} 70] getriebe[i]. vb_refmax Fast velocity for detection of reference cam P-AXIS-00220 [} 63] getriebe[i]. vb_regelgrenze Limiting velocity for the measurement system P-AXIS-00221 [} 174] getriebe[i].slope_profil. vb_stufe_1_2 Changeover speed (linear slope) P-AXIS-00223 [} 253] vorsteuer. vorsteuerung Feedforward control mode P-AXIS-00224 [} 62] kenngr. vorz_richtung Restriction of direction of spindle rotation P-AXIS-00225 [} 255] vorsteuer. vs_a_faktor Numerator equivalent time constant for feedforward control of acceleration 28 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 29

Overview of axis-specific parameters ID Structure Parameter Functionality/short de- scription P-AXIS-00226 [} 256] vorsteuer. vs_a_nenner Denominator equivalent time constant for feedforward control of acceleration P-AXIS-00228 [} 256] vorsteuer. vs_v_faktor Numerator weighting factor for feedforward control P-AXIS-00229 [} 256] vorsteuer. vs_v_nenner Denominator weighting factor for feedforward control P-AXIS-00230 [} 247] lr_hw[i]. vz_istw Sign reversal of actual value P-AXIS-00231 [} 247] lr_hw[i]. vz_stellgr Sign reversal of command value P-AXIS-00232 [} 346] handbetrieb.jog. weg[i] Jog incremental widths P-AXIS-00233 [} 218] getriebe[i]. wegaufn Distance resolution of measurement (denominator) P-AXIS-00234 [} 218] getriebe[i]. wegaufz Distance resolution of measurement (numerator) P-AXIS-00235 antr.sercos.ident[]. wert Value of ID (SERCOS) P-AXIS-00236 [} 199] getriebe[i]. window Position window for exact stop P-AXIS-00237 [} 220] getriebe[i]. wsi_meldung Definition of traverse distance between lubrication pulses P-AXIS-00238 [} 282] antr.simu. zeitkonstante_n Sampling time constant for axis simulation (numerator) P-AXIS-00239 [} 282] antr.simu. zeitkonstante_z Sampling time constant for axis simulation (numerator) P-AXIS-00240 [} 196] getriebe[i].beschl_kennlinie. a_max Maximum acceleration for acceleration curve of type 3 P-AXIS-00241 [} 196] getriebe[i].beschl_kennlinie. n1 Speed limit 1 for acceleration curve of type 3 P-AXIS-00242 [} 197] getriebe[i].beschl_kennlinie. n2 Speed limit 2 for acceleration curve of type 3 P-AXIS-00243 [} 206] lr_param. n_backlash_cyc Distribution of the backlash on multiple cycles P-AXIS-00244 [} 223] getriebe[i].dyn_kv. dyn_kv_active Activation of dynamic kv adjustment P-AXIS-00245 [} 224] getriebe[i].dyn_kv. kv1 Parameter of dynamic kv adjustment (kv1) P-AXIS-00246 [} 224] getriebe[i].dyn_kv. v1 Parameter of dynamic kv adjustment (v1) P-AXIS-00247 [} 224] getriebe[i].dyn_kv. kv2 Parameter of dynamic kv adjustment (kv2) P-AXIS-00248 [} 225] getriebe[i].dyn_kv. v2 Parameter of dynamic kv adjustment (v2) P-AXIS-00249 [} 119] kenngr. gantry_diff_check_witho Gantry difference ut_homing monitoring before homing P-AXIS-00250 [} 129] kenngr. configure_sai Configuration of a SAI axis for PLCopen P-AXIS-00251 [} 129] kenngr. auto_call_ax Requesting of a SAI axis at RESET TF5200 | Twin CAT 3 CNC Version: 1.172 29 Axis parameters
## Page 30

Overview of axis-specific parameters ID Structure Parameter Functionality/short de- scription P-AXIS-00252 [} 129] kenngr. consider_total_brake_dis Moving to a target position t after reversal of direction for PLCopen P-AXIS-00253 [} 119] kenngr. gantry_synchronous_sla Drive-controlled homing of ve_homing gantry axis (SERCOS) P-AXIS-00254 [} 119] kenngr. cnc_controlled_stop_afte CNC-controlled error r_error reaction for gantry axes P-AXIS-00255 [} 257] vorsteuer. default_active Permanent activation of feedforward control P-AXIS-00256 [} 257] vorsteuer. global_disable Permanent deactivation of feedforward control P-AXIS-00257 [} 103] kenngr. probing_signal_via_plc Measurement signal via HLI Control Unit P-AXIS-00258 [} 125] kenngr. tracking_offset_remain Tracking mode: Keep position offset after tracking P-AXIS-00259 [} 350] handbetrieb.hb. a_feedh Feedhold acceleration for manual operation without parallel interpolation P-AXIS-00260 [} 297] antr.profibus. velocity_command_contr Activation of velocity ol command interface (PROFIDRIVE) P-AXIS-00261 [} 122] kenngr. gantry_deskew_trigger Edge detection Gantry On signal P-AXIS-00262 [} 123] kenngr. coll_moving_dir_inverted Monitoring of axis collision: Inverting of moving directions P-AXIS-00263 [} 124] kenngr. coll_zero_position_offset Monitoring of axis collision: Offset of zero positions P-AXIS-00264 [} 286] antr.sercos. op_mode_for_velocity_c Operation mode for velocity ontrol control (SERCOS) P-AXIS-00265 [} 64] antr. velocity_position_control Velocity limit for switching to _on speed-controlled mode P-AXIS-00266 [} 64] antr. velocity_position_control Velocity limit for switching _off back to position control P-AXIS-00267 [} 124] kenngr. coll_use_a_emergency Monitoring of axis collision: Effective deceleration P-AXIS-00268 [} 71] getriebe[i]. vb_not_referenced Maximum velocity for unreferenced axes P-AXIS-00269 [} 104] kenngr. meas_signal_drive Measurement signal from drive P-AXIS-00270 [} 181] getriebe[i]. slope_type Effective acceleration profile P-AXIS-00271 [} 206] lr_param. temp_comp Selection of temperature compensation P-AXIS-00272 [} 207] lr_param. temp_comp_position_0 Parameterisation of temperature compensation (Basic position) P-AXIS-00273 [} 207] lr_param. temp_comp_offset_0 Parameterisation of temperature compensation (Offset) P-AXIS-00274 [} 208] lr_param. temp_comp_coefficient Parameterisation of temperature compensation (Geometrical pitch) 30 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 31

Overview of axis-specific parameters ID Structure Parameter Functionality/short de- scription P-AXIS-00275 [} 208] lr_param. temp_comp_n_cycles Distribution of the temperature compensation on several cycles P-AXIS-00276 [} 201] lr_param. field_bus_allows_optimiz Optimized bus access ed_schedule P-AXIS-00277 [} 71] kenngr. prog_move_requires_ho Lock moving of ming unreferenced axes P-AXIS-00278 [} 71] kenngr. set_refpos_mode Modes for setting the homing position P-AXIS-00279 [} 72] kenngr. set_refpos_offset Offset to the homing position P-AXIS-00280 [} 175] getriebe[i].slope_profil. d_grenz_stufe_1 Deceleration of step 1 in rapid mode (linear slope) P-AXIS-00281 [} 175] getriebe[i].slope_profil. d_grenz_stufe_2 Deceleration of step 2 in rapid mode (linear slope) P-AXIS-00282 [} 173] getriebe[i].slope_profil. d_stufe_1 Deceleration of step 1 (linear slope) P-AXIS-00283 [} 173] getriebe[i].slope_profil. d_stufe_2 Deceleration of step 2 (linear slope) P-AXIS-00284 [} 121] kenngr. gantry_max_homing_dis Maximum path for a gantry t slave axis during homing P-AXIS-00285 [} 74] getriebe[i]. a_ref Acceleration during homing P-AXIS-00286 [} 74] getriebe[i]. tr_ref Ramp time during homing P-AXIS-00287 [} 130] kenngr. disable_super_imposed Switching off superimposed interpolator for PLCopen P-AXIS-00288 [} 131] cam_gear. is_master Define axis as camming / gearing master P-AXIS-00289 [} 131] cam_gear. v_diff_percent Velocity tolerance range for camming / gearing P-AXIS-00290 [} 131] cam_gear. time_in_window Minimum time in tolerance range for speed synchronisation for camming / gearing P-AXIS-00291 [} 132] cam_gear. time_out_in_window Maximum time for velocity synchronisation for camming / gearing P-AXIS-00292 [} 191] getriebe[i].dynamik. a_w_max Maximum acceleration at weighting P-AXIS-00293 [} 192] getriebe[i].dynamik. tr_w_min Minimum ramp time at weighting P-AXIS-00294 [} 73] kenngr. homing_overflow_evalua Selection of the homing tion method 'Evaluation of encoder overflow' P-AXIS-00295 [} 304] antr.canopen. probing_input_number Number of probing input (CANopen) P-AXIS-00296 [} 251] lr_hw[i]. encoder_range Encoder value range for Ether CAT drives P-AXIS-00297 [} 50] kopf. log_achs_name Default name of an axis P-AXIS-00298 [} 75] getriebe[i]. max_reference_position Gantry monitoring during _offset drive controlled homing P-AXIS-00299 [} 74] kenngr. or kenngr.homing. homing_type Homing type TF5200 | Twin CAT 3 CNC Version: 1.172 31 Axis parameters
## Page 32

Overview of axis-specific parameters ID Structure Parameter Functionality/short de- scription P-AXIS-00300 [} 132] cam_gear. mv_type Average value filter for actual master velocity for camming / gearing P-AXIS-00301 [} 132] cam_gear. mv_nbr_cycles Number of scanning cycles for average value filter for camming / gearing P-AXIS-00302 [} 133] cam_gear. delay_time Delay time on gearing with actual master velocity for camming / gearing P-AXIS-00303 [} 133] cam_gear. v_max_slave Maximum commanded velocity for slave axis for camming / gearing P-AXIS-00304 [} 133] cam_gear. a_max_slave Maximum commanded acceleration for slave axis for camming / gearing P-AXIS-00305 [} 133] cam_gear. v_phasing Velocity for phase synchronisation for camming / gearing P-AXIS-00306 [} 134] cam_gear. a_phasing Acceleration for phase synchronisation for camming / gearing P-AXIS-00307 [} 134] cam_gear. d_phasing Deceleration for phase synchronisation for camming / gearing P-AXIS-00308 [} 135] cam_gear. keep_coupling_on_lr_err Coupling behaviour on error or from position control for camming / gearing P-AXIS-00309 [} 135] cam_gear. keep_coupling_on_fe_dr Coupling behaviour on feed op enable drop for camming / gearing P-AXIS-00311 [} 137] getriebe[i]. vb_monitor Velocity limit during active monitoring of current velocity P-AXIS-00312 [} 138] kenngr. enable_speed_monitorin Activation of speed g monitoring P-AXIS-00313 [} 138] kenngr. enable_feed_enable Activation of feed enable via PLC P-AXIS-00314 [} 138] getriebe[i]. vb_torq_limit_max Speed monitoring during torque limitation P-AXIS-00315 [} 297] antr.profibus. read_abs_pos_from_driv Reading absolute position e from drive (PROFIDRIVE) P-AXIS-00316 [} 298] antr.profibus. p1042 Shift factor for G1_XIST1 (PROFIDRIVE) P-AXIS-00317 [} 298] antr.profibus. p1043 Offset factor for absolute value in G1_XIST2 (PROFIDRIVE) P-AXIS-00318 [} 298] antr.profibus. read_abs_pos_mode Calculation mode for actual position (PROFIDRIVE) P-AXIS-00319 [} 360] filter[i]. enable Activate the axis-specific command value filter (for standard filters) P-AXIS-00320 [} 267] antr. operation_mode Positioning operation mode of an axis P-AXIS-00321 [} 76] antr. reference_cam_signal Input interface for reference cam signal 32 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 33

Overview of axis-specific parameters ID Structure Parameter Functionality/short de- scription P-AXIS-00322 [} 405] kenngr. in_add_interface_pos_a Handling the loaded s_offset position command values as offset P-AXIS-00323 [} 220] lr_param. incr_quant Quantisation of the measuring system increments P-AXIS-00324 [} 151] getriebe[i]. torque_offset Torque offset P-AXIS-00325 [} 151] antr. torque_scale_num Numerator scaling factor for torque P-AXIS-00326 [} 151] antr. torque_scale_denom Denominator scaling factor for torque P-AXIS-00327 [} 140] kenngr. pos_corr_drive_enable Relieve position difference when enabling drive controller P-AXIS-00328 [} 226] lr_param. distance_control_on Enabling of distance control (spindle with touch probe) P-AXIS-00329 [} 77] kenngr. ref_cam_is_limit_switch Use of hardware limit switch as reference switch P-AXIS-00330 [} 104] kenngr. meas_signal_fixed_stop Measurement with movement to a fixed stop P-AXIS-00331 [} 113] kenngr. fixed_stop_pos_lag_limit Limit for position lag during movement to a fixed stop P-AXIS-00332 [} 113] kenngr. fixed_stop_nbr_cycles Number of position control cycles during movement to a fixed stop P-AXIS-00333 [} 82] getriebe[i].homing. torq_move_velocity Velocity during homing to a fixed stop P-AXIS-00334 [} 82] getriebe[i].homing. torq_move_acceleration Acceleration during homing to a fixed stop P-AXIS-00335 [} 82] getriebe[i].homing. torq_move_jerk Jerk during homing to a fixed stop P-AXIS-00336 [} 300] antr.profibus. abs_pos_revolutions Number of detectable motor revolutions (PROFIDRIVE) P-AXIS-00337 [} 257] vorsteuer. jerk_fact_num Numerator of scaling factor for jerk feedforward P-AXIS-00338 [} 258] vorsteuer. jerk_fact_denom Denominator of scaling factor for jerk feedforward P-AXIS-00339 [} 190] getriebe[i].dynamik. j_trans_c0 Jerk at block transition (non- tangent continuous block transitions) P-AXIS-00340 [} 190] getriebe[i].dynamik. j_trans_c1 Jerk at block transition (tangent continuous block transitions) P-AXIS-00341 [} 299] antr.profibus. read_abs_pos_offset Offset to the read absolute position of the drive (PROFIDRIVE) P-AXIS-00342 [} 407] getriebe[i].homing. torq_move_torque_limit Torque limit value during homing to a fixed stop P-AXIS-00343 [} 407] getriebe[i].homing. torq_detect_torque_limit Torque limit for detection during homing to a fixed stop P-AXIS-00344 [} 82] kenngr.homing. torq_min_distance Minimum distance during homing to a fixed stop TF5200 | Twin CAT 3 CNC Version: 1.172 33 Axis parameters
## Page 34

Overview of axis-specific parameters ID Structure Parameter Functionality/short de- scription P-AXIS-00345 [} 83] kenngr.homing. torq_max_distance Maximum distance during homing to a fixed stop P-AXIS-00346 [} 83] kenngr.homing. torq_homing_dir Direction during homing to a fixed stop P-AXIS-00347 [} 83] kenngr.homing. torq_detect_velocity_limi Velocity limit value during t homing to a fixed stop P-AXIS-00348 [} 84] kenngr.homing. torq_retraction_distance Retraction distance during homing to a fixed stop P-AXIS-00349 [} 84] kenngr.homing. torq_homing_position Reference position during homing to a fixed stop P-AXIS-00350 [} 84] kenngr.homing. torq_detect_time Minimum time during homing to a fixed stop P-AXIS-00351 [} 141] kenngr. filter_position_window Tolerance window for axis filter P-AXIS-00352 [} 299] antr.profibus. disable_auto_tracking Automatic follow up mode for disabled drive (PROFIDRIVE) P-AXIS-00353 [} 268] antr. edge_bending_input_nbr Number of the latch input used for edge banding P-AXIS-00354 [} 73] antr. encoder_overflow_offset Shifting of encoder overflow P-AXIS-00355 [} 73] antr. encoder_bit_range Number of bits for evaluation of encoder overflow P-AXIS-00356 [} 141] kenngr. pos_corr_ignore_feedhol Ignore feedhold at position d correction after drive enable P-AXIS-00357 [} 361] filter[i]. time_constant Time constant of axis specific command value filter P-AXIS-00358 [} 269] antr. ignore_unknown_telegra Ramp time during maximum m_elements acceleration for manual operation without parallel interpolation P-AXIS-00359 [} 351] handbetrieb.hb. tr Ramp time during maximum acceleration for manual operation without parallel interpolation P-AXIS-00360 [} 351] handbetrieb.hb. tr_feedh Ramp time at feedhold for manual operation without parallel interpolation P-AXIS-00361 [} 261] vorsteuer. timeconst_sym_filter Time constant of command position filter for feedforward balancing P-AXIS-00362 [} 271] antr. feed_const_num Encoder resolution via feed constant (numerator) P-AXIS-00363 [} 271] antr. feed_const_denom Encoder resolution via feed constant (denominator) P-AXIS-00364 [} 304] antr.canopen. zero_pulse_input_numb Number of digital input for er latching zero pulse (CANopen) P-AXIS-00365 [} 348] handbetrieb.ipo. hb_v_max_track Velocity during position correction P-AXIS-00366 [} 348] handbetrieb.ipo. hb_a_max_track Acceleration during position correction 34 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 35

Overview of axis-specific parameters ID Structure Parameter Functionality/short de- scription P-AXIS-00367 [} 269] antr. plc_watchdog_disable_d Maximum time delay for rive_delay_time disabling drive after a PLC watchdog error P-AXIS-00368 [} 369] trafo.command_pos. enable Activation of axis specific command value transformation P-AXIS-00369 [} 369] trafo.command_pos. id Transformation ID of axis specific command value transformation P-AXIS-00370 [} 369] trafo.command_pos. param[i] Transformation parameters of axis specific command value transformation P-AXIS-00371 [} 368] trafo.actual_pos.input[i]. nr Additional input axes of axis specific actual value transformation P-AXIS-00372 [} 270] antr. ethercat_master_name Name of the Ether CAT master process P-AXIS-00373 [} 314] antr.dse. brake_open_delay_time Time delay for brake opening P-AXIS-00374 [} 314] antr.dse. brake_open_time Brake opening time P-AXIS-00375 [} 315] antr.dse. brake_close_premature_ Brake premature time time P-AXIS-00376 [} 134] cam_gear. j_phasing Jerk for phase synchronisation for camming / gearing P-AXIS-00377 [} 134] cam_gear. j_vel_sync Jerk for velocity synchronisation for camming / gearing P-AXIS-00378 [} 116] kenngr. keep_tp_over_reset Abortion of measuring order at reset P-AXIS-00379 [} 300] antr.profibus. drive_velocity_base_val Velocity scaling factor ue (PROFIDRIVE) P-AXIS-00380 [} 367] trafo.actual_pos. enable Activation of axis specific actual value transformation P-AXIS-00381 [} 367] trafo.actual_pos. id Transformation ID of axis specific actual value transformation P-AXIS-00382 [} 367] trafo.actual_pos. param[i] Transformation parameters of axis specific actual value transformation P-AXIS-00383 [} 153] kenngr.multi_link[i]. lead_axis Logical axis number of lead or master axis P-AXIS-00384 [} 153] kenngr.multi_link[i]. factor_numerator Numerator of gear coupling factor P-AXIS-00385 [} 153] kenngr.multi_link[i]. factor_denominator Denominator of gear coupling factor P-AXIS-00386 [} 287] antr.sercos. drive_supports_cnc_ho Drive supported execution ming of the CNC based homing (SERCOS) P-AXIS-00387 [} 287] antr.sercos. cnc_homing_rt_bit_layou Assignment of control and t status bits for CNC based homing (SERCOS) P-AXIS-00388 [} 270] antr. cnc_homing_encoder Encoder, used for CNC controlled homing (SERCOS) TF5200 | Twin CAT 3 CNC Version: 1.172 35 Axis parameters
## Page 36

Overview of axis-specific parameters ID Structure Parameter Functionality/short de- scription P-AXIS-00389 [} 259] vorsteuer. velocity_delay_time Delay time for velocity feedforward P-AXIS-00390 [} 259] vorsteuer. acceleration_delay_time Delay time for acceleration feedforward P-AXIS-00391 [} 171] getriebe[i]. load Load inertia P-AXIS-00392 [} 270] antr. acc_reference_value Reference value for converting torque values to the motor format. P-AXIS-00393 [} 121] kenngr. gantry_slave_relative_ho Home gantry slave axis ming relative to encoder overflow P-AXIS-00394 [} 191] getriebe[i].dynamik. a_overload_max Maximum permissible exceeding of acceleration P-AXIS-00395 [} 238] getriebe[i]. pos_control_deadband Position controller dead band P-AXIS-00396 [} 317] antr.function[i]. id Name of drive functions in NC program P-AXIS-00397 [} 317] antr.function[i]. commu Type of communication with drive controller P-AXIS-00398 [} 318] antr.function[i]. wr_ident[j] Name of the parameter or telegram element P-AXIS-00399 [} 318] antr.function[i]. data_type Data type of the data to be transmitted P-AXIS-00400 [} 318] antr.function[i]. startup_value Value of data element after start-up of control P-AXIS-00401 [} 319] antr.function[i]. scaling_type Scaling of the data to be transmitted P-AXIS-00403 [} 272] antr. abs_pos_offset Offset between drive position and CNC position for absolute encoders P-AXIS-00404 [} 79] lr_hw[i]. zero_pulse_search_max Maximum distance for zero _dist pulse search P-AXIS-00405 [} 273] antr. encoder_coarsening_fac Factor to coarse encoder tor resolution P-AXIS-00406 [} 273] antr. permissible_telegram_fai Ether CAT-Fieldbus: lures Number of permissible telegram failures P-AXIS-00407 [} 215] lr_param. dyn_monitoring_v_err Error level for permissible axis velocity for dynamic monitoring function in the position controller P-AXIS-00408 [} 319] antr.function[i]. min_limit Minimum permissible output value P-AXIS-00409 [} 320] antr.function[i]. max_limit Maximum permissible output value P-AXIS-00410 [} 274] antr. dc_brake_control_bit Bit number for control of a DC brake P-AXIS-00411 [} 289] antr.sercos. evaluate_drive_follows_ Evaluation of SERCOS cmd state bit drive follows command (SERCOS) P-AXIS-00412 [} 81] kenngr. homing_max_movement Maximum distance during _dist homing P-AXIS-00413 [} 226] kenngr.distc. n_cycles Distance control - filtering of sensor values 36 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 37

Overview of axis-specific parameters ID Structure Parameter Functionality/short de- scription P-AXIS-00414 [} 226] kenngr.distc. max_deviation (old: Distance control - maximum max_abweichung) position offset P-AXIS-00415 [} 227] kenngr.distc. v_max Distance control - maximum velocity P-AXIS-00416 [} 227] kenngr.distc. a_max Distance control - maximum acceleration P-AXIS-00417 [} 228] kenngr.distc. max_act_value_change Distance control - maximum (old: max_istw_sprung) velocity change of measured distance P-AXIS-00418 [} 228] kenngr.distc. ref_offset Distance control - reference point offset for measuring system P-AXIS-00419 [} 229] kenngr.distc. max_pos Distance control - upper limit for measuring system P-AXIS-00420 [} 229] kenngr.distc. min_pos Distance control - lower limit for measuring system P-AXIS-00421 [} 229] kenngr.distc. tolerance Distance control - tolerance band for limits P-AXIS-00422 [} 248] lr_hw[i]. encoder_resolution_num Numerator distance resolution of the additive sensor measuring system P-AXIS-00423 [} 248] lr_hw[i]. encoder_resolution_den Denominator distance om resolution of the additive sensor measuring system P-AXIS-00424 [} 249] lr_hw[i]. mode_act_pos Handling of the additive sensor values P-AXIS-00425 [} 86] antr.reference_check. bit_nr Bit number of signal 'Drive is referenced' during reference monitoring P-AXIS-00426 [} 86] antr.reference_check. element_name Element name of signal 'Drive is referenced' during reference monitoring P-AXIS-00427 [} 156] kenngr. cax_output_with_genera Interpolation of tracked axes ted_nc_block in inserted TRC blocks P-AXIS-00428 [} 230] kenngr.distc. check_sw_limit_switch Distance control - consideration of offset in software limit switch monitoring P-AXIS-00429 [} 320] antr.function[i]. mask Writing of drive values by bit mask P-AXIS-00430 [} 274] antr. probing_input_nbr Number of probing input in drive P-AXIS-00431 [} 386] dynamic_weighting. enable Activation of dynamic weighting P-AXIS-00432 [} 387] dynamic_weighting.param[i] path_limit Path distance limit (dynamic . weighting) P-AXIS-00433 [} 387] dynamic_weighting.param[i] velocity_fact Weighting factor for rapid . feed velocity (dynamic weighting) P-AXIS-00434 [} 387] dynamic_weighting.param[i] acceleration_fact Weighting factor for rapid . feed acceleration (dynamic weighting) P-AXIS-00435 [} 388] dynamic_weighting.param[i] ramp_time_fact Weighting factor for rapid . feed ramp time (dynamic weighting) TF5200 | Twin CAT 3 CNC Version: 1.172 37 Axis parameters
## Page 38

Overview of axis-specific parameters ID Structure Parameter Functionality/short de- scription P-AXIS-00436 [} 154] kenngr. recalc_link_main_input_ Forward mapping of drive position position P-AXIS-00437 [} 135] cam_gear. fact_a_max_correction Permissible acceleration of master actual position for camming / gearing P-AXIS-00438 [} 404] kenngr. in_add_interface_filter_ti Time constant of the PT2- me Filter for the additive command value interface P-AXIS-00439 [} 161] kenngr. dyn_monitoring_v_warn Warning level for velocity for dynamic monitoring P-AXIS-00440 [} 161] kenngr. dyn_monitoring_v_err Error level for velocity for dynamic monitoring P-AXIS-00441 [} 161] kenngr. dyn_monitoring_a_warn Warning level for acceleration for dynamic monitoring P-AXIS-00442 [} 162] kenngr. dyn_monitoring_a_err Error level for acceleration for dynamic monitoring P-AXIS-00443 [} 162] kenngr. dyn_monitoring_j_warn Warning level for jerk for dynamic monitoring P-AXIS-00444 [} 163] kenngr. dyn_monitoring_j_err Error level for jerk for dynamic monitoring P-AXIS-00445 [} 122] kenngr. gantry_independent_set Behaviour on setting the _refpos homing position P-AXIS-00446 [} 340] handbetrieb.default. after_g200_g201 Setting of default values after G200 or G201 P-AXIS-00447 [} 301] antr.profibus.encoder[i]. read_abs_pos_from_driv Reading the encoder's e absolute position out of the drive for additive encoder (PROFIDRIVE) P-AXIS-00448 [} 302] antr.profibus.encoder[i]. read_abs_pos_mode Calculation mode for encoder actual position for additive encoder (PROFIDRIVE) P-AXIS-00449 [} 302] antr.profibus.encoder[i]. abs_position_offset Offset from the read absolute position of the encoder for additive encoder (PROFIDRIVE) P-AXIS-00450 [} 303] antr.profibus.encoder[i]. shift_abs_pos Offset factor for absolute value in GX_XIST2 for additive encoder (PROFIDRIVE) P-AXIS-00451 [} 303] antr.profibus.encoder[i]. shift_xist1 Offset factor for GX_XIST1 for additive encoder (PROFIDRIVE) P-AXIS-00452 antr.profibus.encoder[i]. abs_pos_offset_crc CRC checksum for P- AXIS-00449 for additive encoder (PROFIDRIVE) P-AXIS-00454 [} 210] lr_param. allow_comp_movement_ Treatment of axis while_feedhold movement from axis compensation while active feedhold P-AXIS-00455 [} 163] kenngr. no_stop_by_channel_re Suppress stop of spindle set axis during channel reset 38 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 39

Overview of axis-specific parameters ID Structure Parameter Functionality/short de- scription P-AXIS-00456 [} 306] antr.canopen. f_probe_status_inverse_ Swap evaluation of probe edge status word (0x60B9) with respect to positive and negative edge P-AXIS-00457 [} 164] kenngr. enable_single_axis Enable PLCopen interface of a channel axis P-AXIS-00458 [} 166] kenngr. set_in_pos_at_pos_corr Setting of 'in position' for position controller generated axis movements P-AXIS-00459 [} 277] antr. add_movement_range Mechanical movement distance outside the software limit switches P-AXIS-00460 [} 155] kenngr. recalc_input_position_ab Forward mapping of drive solute position with absolute coordinates P-AXIS-00461 [} 155] kenngr. activate_coupled_axes_ Reference monitoring for homing_check coupled axes P-AXIS-00462 [} 301] antr.profibus. suppress_life_sign_warn Suppress ‘slave life sign’ ing warning (PROFIDRIVE) P-AXIS-00463 [} 304] antr.canopen. cyclic_position_op_mod Operation mode for drive e position control (CANopen) P-AXIS-00464 [} 305] antr.canopen. cyclic_velocity_op_mode Operation mode for drive velocity control (CANopen) P-AXIS-00465 [} 209] lr_param. prog_movement_require Monitoring of effectiveness s_compensations of axis compensations in automatic mode P-AXIS-00466 [} 275] antr. use_drive_following_erro Use of position lag r calculated in drive P-AXIS-00467 [} 96] kenngr. probing_offset Measurement travel offset for all measurement types P-AXIS-00472 [} 199] getriebe[i]. in_position_window_rapi Position window for rapid d movements P-AXIS-00474 [} 65] kenngr. check_spindle_speed_in Checking commanded _tool_range spindle speed versus permissible tool speed limits P-AXIS-00475 [} 309] antr.canopen.in[i]. nc_ref Assign the input process data item to CNC-internal nomenclature P-AXIS-00476 [} 307] antr.canopen.in[i]. memory_ident Memory name of input process data item P-AXIS-00478 [} 311] antr.canopen.out[i]. nc_ref Assign the output process data item to CNC-internal nomenclature P-AXIS-00479 [} 310] antr.canopen.out[i]. memory_ident Memory name of output process data item P-AXIS-00481 [} 316] antr.terminal. stepper_motor_reduce_t Torque reduction at orque standstill P-AXIS-00482 [} 208] lr_param. temp_comp_manual_act Manual activation of the ivation temperature compensation P-AXIS-00483 [} 166] kenngr. auto_release_of_axis_lin Enabling of IPO-LR k interface after axis release P-AXIS-00484 [} 275] antr. reset_timeout Maximum time for drive reset TF5200 | Twin CAT 3 CNC Version: 1.172 39 Axis parameters
## Page 40

Overview of axis-specific parameters ID Structure Parameter Functionality/short de- scription P-AXIS-00485 [} 164] kenngr. oscillation_collision_che Collision monitoring during ck_mode oscillation P-AXIS-00486 [} 156] kenngr. copy_master_gantry_co Copy HLI gantry master upling_to_slave axis coupling to slave P-AXIS-00487 [} 116] kenngr. probe_actuation_time_d Actuation time delay of elay measuring probe P-AXIS-00488 [} 215] getriebe[i]. pos_lag_mon_error_dela Delayed generation of y_time position lag error message P-AXIS-00489 [} 130] kenngr. enable_decouple Enable decoupling of the drive of an axis for PLCopen P-AXIS-00490 [} 165] kenngr. inverse_rotation_directio Inversion of spindle rotation n direction for spindle M- functions M3/M4 P-AXIS-00491 [} 143] kenngr. indp_override_mode Velocity override mode to select active override interface P-AXIS-00492 [} 342] handbetrieb. acs_limit_neg Absolute negative ACS movement limit in manual mode P-AXIS-00493 [} 342] handbetrieb. acs_limit_pos Absolute positive ACS movement limit in manual mode P-AXIS-00494 [} 79] kenngr. shift_offset_zero_pulse_ Delayed activation of zero activation pulse logic P-AXIS-00495 [} 239] getriebe[i]. integral_time Integral time Tn for I- position control P-AXIS-00496 [} 239] getriebe[i]. integral_limit Control value limit of I position controller P-AXIS-00497 [} 239] lr_param. i_control_on_delay Switch on delay for I- positional control P-AXIS-00498 [} 240] lr_param. i_control_output_clear_d Clear Integrator if drive is isable switched off P-AXIS-00499 [} 405] kenngr. in_add_interface_init_on Reinitialisation of additional _enable position interface after enable P-AXIS-00500 [} 230] kenngr.distc. mode_dist_use_both_en Distance control option: coder Coupling of distance sensor and motor encoder P-AXIS-00501 [} 230] kenngr.distc. use_adaptive_accelerati Distance control option: on Adaptive weighting of acceleration P-AXIS-00502 [} 231] kenngr.distc. a_min Distance control - minimum acceleration P-AXIS-00503 [} 150] getriebe[i]. vb_max_red_zone_2 Maximum permissible axis velocity in security zone 2 P-AXIS-00504 [} 232] kenngr.distc. dist_error_a_min Distance control - minimum distance error P-AXIS-00505 [} 232] kenngr.distc. dist_error_a_max Distance control - maximum distance error P-AXIS-00506 [} 232] kenngr.distc. low_pass_filter_enable Distance control option: Low-pass filter P-AXIS-00507 [} 233] kenngr.distc. low_pass_filter_order Distance control - filter order 40 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 41

Overview of axis-specific parameters ID Structure Parameter Functionality/short de- scription P-AXIS-00508 [} 233] kenngr.distc. low_pass_filter_fg_f0 Distance control - filter cut- off frequency P-AXIS-00509 [} 233] kenngr.distc. optimized_scheduling Distance control option: Dead time reduction P-AXIS-00510 [} 391] customer. val[i] Free user-defined values P-AXIS-00511 [} 182] getriebe[i]. gear_fact_num Gearbox ratio numerator P-AXIS-00512 [} 183] getriebe[i]. gear_fact_denom Gear ratio denominator P-AXIS-00513 [} 166] kenngr. delay_filter_only_positio Delay filter acts only on n command positions P-AXIS-00514 [} 259] vorsteuer. feedforward_v_add_num Numerator weighting factor for velocity feedforward P-AXIS-00515 [} 260] vorsteuer. feedforward_v_add_den Denominator weighting om factor for velocity feedforward P-AXIS-00516 [} 97] kenngr.measure. signal Measurement methods P-AXIS-00517 [} 99] kenngr.measure. input Number of probing input P-AXIS-00518 [} 100] kenngr.measure. edge Probing signal edge P-AXIS-00519 [} 64] antr. revolution_monitoring_u Use actual speed for speed se_act_velocity monitoring P-AXIS-00520 [} 93] lr_param. check_pos_command_li Activation of limit switch mit monitoring of the positive limit switch. P-AXIS-00521 [} 93] lr_param. check_neg_command_li Activation of limit switch mit monitoring of the negative limit switch. P-AXIS-00522 [} 221] lr_param. frict_comp Activation of friction compensation P-AXIS-00523 [} 65] kenngr. spindle_m19_output_sta Output time M19 for ndard positioning the spindle P-AXIS-00524 [} 275] antr. no_probe_state_support Drive without support for probing state P-AXIS-00525 [} 222] lr_param.vol_comp. s_limit Maximum permissible correction value (volumetric compensation) P-AXIS-00526 [} 222] lr_param.vol_comp. v_limit Maximum permissible velocity (volumetric compensation) P-AXIS-00527 [} 276] antr. use_encoder_submask Activate evaluation of encoder position with additional mask. P-AXIS-00528 [} 276] antr. drive_encoder_modulo_r Drive encoder modulo ange range P-AXIS-00529 [} 343] handbetrieb. feedhold_mode Effect of feedhold control signals in manual mode P-AXIS-00530 [} 346] handbetrieb.jog. rapid_velocity Rapid mode velocity for jog mode P-AXIS-00531 [} 81] lr_hw[i]. move_from_cam_max_d Maximum distance when ist moving from the reference cam P-AXIS-00532 [} 213] getriebe[i]. position_settling_time Maximum permissible position settling time for exact stop window TF5200 | Twin CAT 3 CNC Version: 1.172 41 Axis parameters
## Page 42

Overview of axis-specific parameters ID Structure Parameter Functionality/short de- scription P-AXIS-00533 [} 234] kenngr.distc. v_weight_down Distance control - weighting factor for velocity of lowering movement P-AXIS-00534 [} 235] kenngr.distc. a_weight_down Distance control - weighting factor for acceleration of lowering movement P-AXIS-00535 [} 167] kenngr. vendor_id Select specific manufacturer-specific procedures for drive controllers P-AXIS-00536 [} 168] kenngr. device_id Select specific device- specific procedures for drive controllers P-AXIS-00537 [} 279] antr. position_lag_drive_disab Disable drive controller on le position lag error P-AXIS-00538 [} 87] kenngr. no_unhome_on_resoluti Axis remains referenced on_change after resolution change P-AXIS-00539 [} 100] kenngr.measure. input_edge_banding Probing input for edge banding P-AXIS-00540 [} 144] kenngr. indp_feedhold_mode Feedhold mode to select the active feedhold interface P-AXIS-00541 [} 351] handbetrieb.hb. d_max Maximum delay for manual operation without parallel interpolation P-AXIS-00542 [} 280] antr. bus_error_drive_disable Disabling drive controller in case of field bus error P-AXIS-00545 [} 352] handbetrieb.hb. a_max_red Reduced maximum acceleration for manual operation without parallel interpolation P-AXIS-00546 [} 303] antr.profibus. add_movement_range Mechanical axis motion path beyond the software limit switches (PROFIDRIVE) P-AXIS-00547 [} 258] vorsteuer jerk_delay_time Delay time for jerk feedforward P-AXIS-00548 [} 163] kenngr. allow_dir_change_at_sto Suppressing reversal of p speed at stop P-AXIS-00554 [} 94] kenngr. swe_behaviour Behaviour of software limit switches P-AXIS-00555 [} 399] kenngr. conv_sync_optim Method to monitor the workspace (conveyor tracking) P-AXIS-00556 [} 144] kenngr. feedhold_deceleration_ Effective deceleration value mode with feedhold P-AXIS-00557 [} 60] getriebe[i]. modulo_calculation Switching modulo calculation range off / on P-AXIS-00564 [} 137] cam_gear. error_stop_master Error response of the master axis on camming or gearing P-AXIS-00565 [} 137] cam_gear. error_stop_slave Error response of the slave axis on camming or gearing P-AXIS-00566 [} 262] vorsteuer feedforward_without_del Output of velocity ay feedforward control value without IPO-LR delay 42 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 43

Overview of axis-specific parameters ID Structure Parameter Functionality/short de- scription P-AXIS-00567 [} 251] lr_hw[i]. delay_tracking Delay reading of actual position after field bus start P-AXIS-00568 [} 366] vib_guard damping Damping factor of natural frequency P-AXIS-00571 [} 365] vib_guard mode Vibration Guard mode P-AXIS-00573 [} 362] filter_fir enable Enable axis-specific FIR filter P-AXIS-00580 [} 335] antr.addroffs output Address offset output P-AXIS-00583 [} 101] kenngr.measure.probe[i]. input Number of the drive-specific probing input assigned to the keyword PROBE0 or PROBE1 in the command #MEAS[INPUT=..] P-AXIS-00584 [} 89] kenngr write_reference_position Transfer reference position _to_drive for drive-controlled homing to the drive P-AXIS-00585 [} 364] filter_fir fcut Cut-off frequency of the FIR filter P-AXIS-00586 [} 362] filter_fir type Type of axis-specific FIR filter P-AXIS-00587 [} 362] filter_fir order Order of axis-specific FIR filter P-AXIS-00588 [} 365] vib_guard active Activating the Vibration Guard P-AXIS-00589 [} 366] vib_guard freq Machine natural frequency P-AXIS-00590 [} 363] filter_fir share FIR filter share factor P-AXIS-00591 [} 363] filter_fir order_time Order of axis-specific FIR filter in time P-AXIS-00593 [} 364] filter_fir quality FIR filter quality P-AXIS-00618 [} 305] antr.canopen. zero_pulse_latch_neg_e Zero pulse search for dge negative edge of zero pulse signal for CANopen drives P-AXIS-00620 [} 397] conv_sync. enable_filter Actual position value filter for the conveyor axis (conveyor tracking) P-AXIS-00623 [} 397] conv_sync. order_v_filter Order of the velocity actual value filter of the conveyor axis (conveyor tracking) P-AXIS-00624 [} 398] conv_sync. order_post_v_filter Order of the downstream velocity actual value filter in the case of feedhold on the conveyor axis (conveyor tracking) P-AXIS-00625 [} 398] conv_sync. order_v_filter_dyn Order of the velocity actual value filter in the case of feedhold on the conveyor axis (conveyor tracking) P-AXIS-00626 [} 398] conv_sync. delay_time Delay time between the latch moment of the actual value and generating the command value (conveyor tracking) P-AXIS-00627 [} 392] error_filter[i]. reason Cause of error (filtering of axis error messages) TF5200 | Twin CAT 3 CNC Version: 1.172 43 Axis parameters
## Page 44

Overview of axis-specific parameters ID Structure Parameter Functionality/short de- scription P-AXIS-00628 [} 392] error_filter[i]. action Error action (filtering of axis error messages) P-AXIS-00629 [} 393] error_filter[i]. conditional_activation Conditional activation (filtering of axis error messages) P-AXIS-00630 [} 393] error_filter[i]. conditional_action Conditional action (filtering of axis error messages) P-AXIS-00631 [} 394] error_filter[i]. conditional_param Conditional filter activation (filtering of axis error messages) P-AXIS-00632 [} 394] error_filter[i]. conditional_output Output of additional error information (filtering of axis error messages) P-AXIS-00645 [} 307] antr.canopen.in[i]. signal_nr Signal ID in (CANopen) P-AXIS-00646 [} 307] antr.canopen.in[i]. signal_len Length of process data item in (CANopen) P-AXIS-00648 [} 310] antr.canopen.out[i]. signal_nr Signal ID out (CANopen) P-AXIS-00649 [} 311] antr.canopen.out[i]. signal_len Length of process data item out (CANopen) P-AXIS-00675 [} 105] antr.sercos.probe_1 element_name Name process data item _realtime_bits. 'enable probe 1' start_probing. P-AXIS-00676 [} 106] antr.sercos.probe_1 bit_nr Bit number of process data _realtime_bits. item 'enable probe 1' start_probing. P-AXIS-00677 [} 106] antr.sercos.probe_1 element_name Name of process data item _realtime_bits. 'meas value latched probe value_latched. 1' P-AXIS-00678 [} 107] antr.sercos.probe_1 bit_nr Bit number of process data _realtime_bits. item 'value latched probe 1' value_latched. P-AXIS-00679 [} 107] antr.sercos.probe_1 element_name Name of process data item _realtime_bits. 'probe 1 actuated' probe_actuated. P-AXIS-00680 [} 108] antr.sercos.probe_1 bit_nr Bit number of process data _realtime_bits. item 'probe 1 actuated' probe_actuated. P-AXIS-00681 [} 108] antr.sercos.probe_2 element_name Name process data item _realtime_bits. 'enable probe 2' start_probing. P-AXIS-00682 [} 108] antr.sercos.probe_2 bit_nr Bit number of process data _realtime_bits. item 'enable probe 2' start_probing. P-AXIS-00683 [} 109] antr.sercos.probe_2 element_name Name of process data item _realtime_bits. 'meas value latched probe value_latched. 2' P-AXIS-00684 [} 109] antr.sercos.probe_2 bit_nr Bit number of process data _realtime_bits. item 'value latched probe 2' value_latched. P-AXIS-00685 [} 110] antr.sercos.probe_2 element_name Name of process data item _realtime_bits. 'probe 2 actuated' probe_actuated. P-AXIS-00686 [} 110] antr.sercos.probe_2 bit_nr Bit number of process data _realtime_bits. item 'probe 2 actuated' probe_actuated. 44 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 45

Overview of axis-specific parameters ID Structure Parameter Functionality/short de- scription P-AXIS-00699 [} 111] antr.sercos.probing element_name Name of process data item _command_start. 'start measurement command' P-AXIS-00700 [} 111] antr.sercos.probing bit_nr Bit number of process data _command_start. item 'start measurement command' P-AXIS-00701 [} 305] antr.canopen. zero_pulse_trigger_sour Select the trigger source for ce zero pulse search by the drive parameter 0x60D0 P-AXIS-00702 [} 306] antr.canopen. probing_trigger_source Select the trigger source for probing by the drive parameter 0x60D0 P-AXIS-00703 kenngr. gantry_on_with_drive_e Clearing the gantry nable difference when drive is enabled P-AXIS-00704 [} 120] kenngr. gantry_on_mode Conditions for clearing the gantry difference P-AXIS-00705 [} 94] kenngr. swe_check Switching software limit monitoring off / on P-AXIS-00707 [} 334] antr.addroffs input Address offset input P-AXIS-00708 [} 397] conv_sync. is_master Definition of the conveyor axis (conveyor tracking) P-AXIS-00709 [} 278] antr.add_ready_for_operati bit_nr Bit number of additional on. information for calculation of HLI signal 'power_state_r' P-AXIS-00710 [} 278] antr.add_ready_for_operati inverted Inverting 'Ready for Power' on. signal P-AXIS-00711 [} 279] antr.add_ready_for_operati element_name Element name of additional on. information for calculation of HLI signal 'power_state_r' P-AXIS-00712 [} 321] antr.fixed_stop. pos_lag_limit Position lag limit to detect the fixed stop P-AXIS-00713 [} 321] antr.fixed_stop. window Monitoring window for the fixed stop P-AXIS-00714 [} 322] antr.fixed_stop. nbr_cycles Number of position controller cycles to detect the fixed stop P-AXIS-00715 [} 322] antr.fixed_stop. error_on_abort Error output on abort by reset P-AXIS-00716 [} 322] antr.fixed_stop. error_not_detected Error message if fixed stop is not detected P-AXIS-00717 [} 323] antr.fixed_stop. warning_reset_while_det Warning message on reset ected and detected fixed stop P-AXIS-00718 [} 323] antr.fixed_stop. max_torque Motor torque at maximum axis acceleration P-AXIS-00719 [} 323] antr.fixed_stop. drive_ident[i].id CNC-internal identifier for the drive object P-AXIS-00720 [} 324] antr.fixed_stop. drive_ident[i].commu Type of communication with drive controller P-AXIS-00721 [} 324] antr.fixed_stop. drive_ident[i].wr_ident Name of the drive object in the driver amplifier P-AXIS-00722 [} 325] antr.fixed_stop. drive_ident[i].data_type Data type of the data to be transmitted TF5200 | Twin CAT 3 CNC Version: 1.172 45 Axis parameters
## Page 46

Overview of axis-specific parameters ID Structure Parameter Functionality/short de- scription P-AXIS-00723 [} 325] antr.fixed_stop. drive_ident[i].data_type Default value of data element after controller start-up P-AXIS-00724 [} 325] antr.fixed_stop. drive_ident[i].scaling_typ Scaling type of the data e element P-AXIS-00725 [} 326] antr.fixed_stop. drive_ident[i].max_limit Maximum permissible output value P-AXIS-00726 [} 327] antr.fixed_stop. drive_ident[i].min_limit Minimum permissible output value P-AXIS-00727 [} 327] antr.fixed_stop. drive_ident[i].mask Writing/reading drive values by bit mask P-AXIS-00728 [} 328] antr.fixed_stop. drive_ident[i].scaling_fac Scaling factor tor P-AXIS-00729 [} 328] antr.fixed_stop. drive_ident[i].active_valu Value of data element e during Moving to fixed stop P-AXIS-00730 [} 321] antr.fixed_stop. drive_ident[i].use_startu Use of default value p_value P-AXIS-00731 [} 328] antr.fixed_stop. drive_ident[i].rd_ident Name of the drive object to be read in the driver amplifier P-AXIS-00732 [} 201] lr_param.add_interface. enable Enable additional interface P-AXIS-00733 [} 202] lr_param.add_interface. pos_as_offset Handling the loaded position command values as offset P-AXIS-00734 [} 202] lr_param.add_interface. init_on_enable Reinitialisation of additional position interface after enable P-AXIS-00735 [} 203] lr_param.add_interface.filter enable Enable the additional [i]. interface filter P-AXIS-00736 [} 203] lr_param.add_interface.filter order Order of the additional [i] interface filter P-AXIS-00737 [} 204] lr_param.add_interface.filter prototype Characteristic of the [i] additional interface filter P-AXIS-00738 [} 204] lr_param.add_interface.filter type Type of the additional [i] interface filter P-AXIS-00739 [} 203] lr_param.add_interface.filter fg_f0 Frequency range of the [i] additional interface filter P-AXIS-00740 [} 203] lr_param.add_interface.filter guete Bandwidth of the additional [i] interface filter P-AXIS-00741 [} 204] lr_param.add_interface.filter share_percent Signal share of the [i] additional interface filter P-AXIS-00742 [} 205] lr_param.add_interface.filter time_constant Time constant of the [i] additional interface filter P-AXIS-00743 [} 396] lr_param.ext_comp. warn_limit External compensation - warning limit P-AXIS-00744 [} 396] lr_param.ext_comp. err_limit External compensation - error limit P-AXIS-00745 [} 396] lr_param.ext_comp. max_a External compensation – max. acceleration P-AXIS-00750 [} 242] lr_param.improved_position order Order of bandpass filter _control.stage[i].filter P-AXIS-00751 [} 243] lr_param.improved_position fg_f0 Damped frequency _control.stage[i].filter 46 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 47

Overview of axis-specific parameters ID Structure Parameter Functionality/short de- scription P-AXIS-00752 [} 243] lr_param.improved_position q_factor Quality factor of the _control.stage[i].filter. bandpass filter P-AXIS-00753 [} 241] lr_param.improved_position mode Mode for the “Improved _control.stage[i]. Position Control” function P-AXIS-00754 [} 241] lr_param.improved_position weight_fact_num Mode for the “Improved _control.stage[i]. Position Control” function P-AXIS-00755 [} 242] lr_param.improved_position weight_fact_denom Weighting factor _control.stage[i]. denominator P-AXIS-00756 [} 244] lr_param.improved_position damping Damping the simulated _control.stage[i].filter. mechanical vibration P-AXIS-00757 [} 240] lr_param.improved_position v_add_max_fact Factor for the maximum _control. permissible additive velocity P-AXIS-00758 [} 240] lr_param.improved_position enable Activating the Improved _control. Position Control function P-AXIS-00759 [} 234] kenngr.distc. kp Distance control - weighting of output values P-AXIS-00760 [} 127] getriebe[]. a_pos_corr_tracking Acceleration for back- interpolation after tracking mode P-AXIS-00761 [} 244] lr_param. restore_axis_position Position control P-AXIS-00762 [} 329] antr.fixed_stop. quick_stop_after_detecti Quick stop after detecting on the fixed stop P-AXIS-00763 [} 330] antr.fixed_stop. error_missing_drive_rele Error reaction for missing ases drive releases P-AXIS-00764 [} 235] kenngr.distc. i_tn Distance control: Integral action time of PID controller P-AXIS-00765 [} 236] kenngr.distc. d_tv Distance control: Derivative action time of PID controller P-AXIS-00766 [} 65] antr.sai_op_mode_change. feed_forward_v_weightin Weighting of velocity g feedforward control P-AXIS-00767 [} 66] antr.sai_op_mode_change. v_velocity_control_on Velocity limit for switching to speed-controlled mode P-AXIS-00768 [} 66] antr.sai_op_mode_change. v_position_control_on Velocity limit for switching back to position control P-AXIS-00769 [} 330] antr.fixed_stop.detect. pos_lag_limit Position lag limit for fixed stop detection P-AXIS-00770 [} 330] antr.fixed_stop.detect. min_time Minimum time for fixed stop detection P-AXIS-00771 [} 331] antr.fixed_stop.detect. start_distance Minimum path to activate fixed stop detection P-AXIS-00772 [} 331] antr.fixed_stop.detect. start_distance_per_mille Minimum path for fixed stop detection P-AXIS-00773 [} 332] antr.fixed_stop.detect. max_delta_position_win Maximum position change dow for fixed stop detection P-AXIS-00774 [} 113] kenngr.measure.fixed_stop pos_lag_limit Measuring travel to fixed _detect. stop P-AXIS-00775 [} 114] kenngr.measure.fixed_stop min_time Measuring travel to fixed _detect. stop P-AXIS-00776 [} 114] kenngr.measure.fixed_stop start_distance Measuring travel to fixed _detect. stop P-AXIS-00777 [} 115] kenngr.measure.fixed_stop start_distance_per_mille Measuring travel to fixed _detect. stop TF5200 | Twin CAT 3 CNC Version: 1.172 47 Axis parameters
## Page 48

Overview of axis-specific parameters ID Structure Parameter Functionality/short de- scription P-AXIS-00778 [} 115] kenngr.measure.fixed_stop max_delta_position_win Measuring travel to fixed _detect. dow stop P-AXIS-00779 [} 335] antr. velocity_monitoring_use Actual speed for speed _act_velocity monitoring P-AXIS-00780 [} 142] kenngr. filter_position_window_f Tolerance window for axis eedhold filter after feedhold P-AXIS-00782 [} 236] kenngr.distc. filter_type Distance control - smoothing filter type P-AXIS-00783 [} 237] kenngr.distc. kalman_sigma Distance control - uncertainty of measured values P-AXIS-00784 [} 237] kenngr.distc. smoothing_factor Distance control - smoothing factor P-AXIS-00785 customer. string[] User-specific character string P-AXIS-00786 [} 168] kenngr. dynamic_limits_with_tool Dynamic limits with tool _gear gear P-AXIS-00787 [} 67] kenngr. v_limit_delay_time Delay time for error message suppression with spindle tool revolution monitoring P-AXIS-00788 [} 67] kenngr. v_limit_delay_max_veloc Limit velocity for delay with ity spindle tool revolution monitoring P-AXIS-00789 [} 209] lr_param. crosstalk Activate crosstalk compensation P-AXIS-00790 [} 245] kenngr. drive_simulation Switch over drive type to simulation P-AXIS-00791 [} 245] antr.simu. use_initial_position Use initial position for simulation drive P-AXIS-00792 [} 246] antr.simu. initial_position Initial position for simulation drive P-AXIS-00798 [} 197] getriebe[]. torque Maximum axis torque P-AXIS-00803 [} 90] kenngr. homing_without_drive_e Allow drive-controlled nable homing without controller enable P-AXIS-00804 [} 197] getriebe[]. first_friction_model_coeff First coefficient of the icient friction model P-AXIS-00813 [} 296] antr.sercos. delay_display_cmd_pos Delay of display command values P-AXIS-00814 [} 90] kenngr. ref_on_limit_switch_with Referencing to limit switch _tracking with tracking P-AXIS-00815 [} 338] antr. probe_actuated_bit Relevant bit for touch probe status P-AXIS-00816 [} 169] kenngr. bit_range_comand_valu Number of bits for e command value P-AXIS-00817 [} 333] antr.fixed_stop.detect. detect_velocity_limit Velocity limit for fixed stop detection P-AXIS-00818 [} 333] antr.fixed_stop.detect. detect_torque_limit Torque limit for fixed stop detection P-AXIS-00819 [} 84] kenngr.homing. torq_detect_pos_lag_limi Position lag limit during t homing to a fixed stop P-AXIS-00820 [} 85] kenngr.homing. torq_detect_torque_limit Residual torque during homing to a fixed stop 48 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 49

Overview of axis-specific parameters ID Structure Parameter Functionality/short de- scription P-AXIS-00821 [} 329] antr.fixed_stop.drive_ident[i] default_ident Use default . parameterisation of drive objects P-AXIS-00822 [} 85] kenngr.homing. torq_distance_to_block Distance to fixed stop for simulation P-AXIS-00823 [} 335] antr. main_encoder Signal for main encoder P-AXIS-00824 [} 336] antr. secondary_encoder Signal for secondary encoder P-AXIS-00825 [} 87] lr_param. suppress_reference_lost Suppress error message on _error lost reference P-AXIS-00826 [} 130] kenngr. synchronize_sai_with_ex Synchronising PLCopen act_stop axes with exact stop P-AXIS-00830 [} 337] antr. evaluate_drive_follows_ Evaluating status bit “Drive cmd follows command values” P-AXIS-00831 [} 333] antr.fixed_stop. allow_ax_exchange During active moving to fixed stop an axis exchange for this axis is allowed. P-AXIS-00832 [} 334] antr.fixed_stop. enable_back_interpolatio Degradation of position lag n by interpolation on fixed stop position. P-AXIS-00834 [} 312] antr.canopen. probe_state_support CANopen measurement run with evaluation of probe status TF5200 | Twin CAT 3 CNC Version: 1.172 49 Axis parameters
## Page 50

Axis data header (kopf.*) 1 Axis data header (kopf.*) 1.1 Logical axis number (P-AXIS-00016) P-AXIS-00016 Logical axis number Description The logical axis number is a system-wide unique identifier for each axis. The entire management of axis data in the NC kernel takes place using the logical axis number. Parameter kopf.achs_nr Data type UNS16 Data range 0 < achs_nr < MAX(UNS16) Axis types T, R, S Dimension T: ---- R,S: ---- Default value 1 drive types. ---- Remarks It is not allowed to use the same logical axis number more than once. The logical axis number "0" is not allowed. The assignment of an axis designation in the NC program to a logical axis (axis number) takes place in the channel parameters [CHAN]. This entry is not adopted when the axis parameter list is updated. Updates only become effective when the controller is rebooted. Identifying axis machine data (P-AXIS-00110) P-AXIS-00110 Identifying axis machine data Description The parameter controls enabling the reconfiguration of the axis machine data. Parameter kopf.mds_ident Data type UNS16 Data range 0: Reconfiguration not permitted 1: Reconfiguration permitted (default) Axis types T, R, S Dimension T: ---- R, S: ---- Default value 1 Drive types ---- Remarks 1.2 Default name of an axis (P-AXIS-00297) P-AXIS-00297 Default name of an axis Description The parameter defines the default name of the axis in the system and should therefore be unique system-wide in the same way as the logical axis number. It is used for: • Name conflicts in connection with extended axis exchange operations [PROG// Section - Axis exchange commands]. • In robotics in connection with the programming of axis-specific movements (P- CHAN-00253). Besides this, the default name has no meaning because the axis name is defined in the channel configuration (P-CHAN-00006). Parameter kopf.log_achs_name Data type STRING 50 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 51

Axis data header (kopf.*) Data range Maximum 16 characters (length of axis designation, application-specific) Axis types T, R, S Dimension T: ---- R,S: ---- Default value X_Achse Drive types ---- Remarks The axis designations must begin with the letters A, B, C, U, V, W, X, Y, Z or Q. After that, all letters and digits are possible. Caution: If the parameter P-CHAN-00253 is set, only the names ‘A1’ and ‘A32’ may be used. TF5200 | Twin CAT 3 CNC Version: 1.172 51 Axis parameters
## Page 52

Axis data header (kopf.*) 1.3 Multiple instantiation of an axis To command ,the same drive by two different channels (one after the other) without axis change, the following elements in the axis list are available: • Link interpolator output to a specific physical axis (link_to). • Take parameter data of a given axis as default values and modify parts of it (clone_of). Fig. 1: Configuration of physical and logical axes 1.3.1 Multiple instantiation of an axis - linked axis (P-AXIS-00101) P-AXIS-00101 Linking an interpolator output to a specific physical axis. Description The parameter requests a link between the logical axis of the interpolator and the axis of the position controller (drive). If you attempt to link more than one logical axis to the same drive, all the other axes must wait until this link is temporarily interrupted by a command and released for a new connection. Parameter kopf.link_to Data type UNS16 Data range 0 < link_to < MAX(UNS16) Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 drive types. ---- Remarks 52 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 53

Axis data header (kopf.*) 1.3.2 Multiple instantiation of an axis - existing axis (P-AXIS-00040) P-AXIS-00040 Mapping of parameters of an existing axis for default configuration. Description For easier configuration, an axis could be a copy (clone) of another axis. This means, when the axis is initialised, the clone just uses the data of its master as template. The clone merely has to specify the differences to its master in the parameter list. Parameter kopf.clone_of Data type UNS16 Data range 0 < clone_of < MAX(UNS16) Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 drive types. ---- Remarks TF5200 | Twin CAT 3 CNC Version: 1.172 53 Axis parameters
## Page 54

General axis data (kenngr.*) 2 General axis data (kenngr.*) This section contains the axis-specific machine data which is required in several instances in the NC channel. 2.1 Drive type and axis type 2.1.1 Drive type (P-AXIS-00020) P-AXIS-00020 Drive type Description This parameter defines the drive type for each axis. A choice of drive types can be made for each axis: Parameter kenngr.antr_typ Data type UNS16 Data range 1 : Conventional drive interface 2 : SERCOS drive interface 3 : PROFIDRIVE MC drive interface 4 : Drive simulation 5 : Beckhoff Lightbus drive interface 6 : Drive interface +-10V over field bus (terminal) 7 : RT Ethernet drive interface 8 : CANopen drive interface 16 : Virtual axis 32 : CAN bus Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0x0004 Drive types ---- Remarks This entry is not adopted when the axis parameter list is updated. Updates only become effective when the controller is rebooted. Axis parameter block data can be divided into drive type dependent and drive type independent parameters. 54 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 55

General axis data (kenngr.*) 2.1.2 Axis type (P-AXIS-00018) To determine the dimension of parameters, a first distinction is made in this documentation between translatory axes (T) and rotary axes (R). A further distinction is made with rotary axes between • spindles and • rotary axes Translatory axes have only the option of • linear axes (see figure below). This entry is not adopted when the axis parameter list is updated. Updates only become effective when the controller is rebooted. Translatory Axis Rotational Axis Linear Axis Rotary Axis Spindle (ACHSTYP_TRANSLATOR) (ACHSTYP_ROTATOR) (ACHSTYP_SPINDEL) Fig. 2: Overview of axis types The data in the axis parameter list can be divided into parameters which are either dependent or in- dependent of the axis type (see figure below). Overall structure of ACHS_MDS ACHSTYP_SPINDEL ACHSTYP_ROTATOR ACHSTYP- TRANSLATOR Axis type-independent Axis type-dependent data data Fig. 3: Correlation between axis type and axis data NOTICE As you can see in the figure above, additional special parameters must be assigned in the axis parameter list for rotary axes compared to translatory axes. Additional settings are required for spindles compared to rotary axes. TF5200 | Twin CAT 3 CNC Version: 1.172 55 Axis parameters
## Page 56

General axis data (kenngr.*) Axes are assigned to to interpolators by channel parameters [CHAN] or by NC commands [PROG]. Below are the possible assignments for axis types and interpolator types: Permissible assignments Translatory axis Rotary axis Between axis type and inter- Linear axis ACHSTYP_ Spindle polator type ROTATOR ACHSTYP_ ACHSTYP_ rotary axis TRANSLATOR SPINDEL Path interpolation X X X Spindle interpolation X NOTICE Axes of the 'ACHSTYP_TRANSLATOR' and 'ACHSTYP_ROTATOR' types may not be assigned to a spindle interpolator. Important: 'ACHSTYP_SPINDEL' does not mean that this axis must be forcibly inter- polated in a spindle interpolator. For example, a turn machining axis can be interpolated as a rotary axis in the path interpolator. P-AXIS-00018 Axis type (linear axis, rotary axes, spindle) Description This parameter specifies the axis type of an axis. Parameter kenngr.achs_typ Data type STRING Data range Linear axis (ACHSTYP_TRANSLATOR) : 0x0001 Rotary axis (ACHSTYP_ROTATOR) : 0x0002 Spindle (ACHSTYP_SPINDEL): : 0x0004 Axis types T, R, S Dimension T: ---- R,S: ---- Default value ACHSTYP_TRANSLATOR Drive types ---- Remarks Depending on the axis type that is set, special functionalities are addressed in the NC kernel. Examples: - modulo calculation for rotary axes, - speed monitoring for spindles 2.1.3 Operating mode of an axis (P-AXIS-00015) P-AXIS-00015 Axis mode Description Axes can be traversed in different operating modes. Parameter kenngr.achs_mode Data type UNS32 Data range 0x00000001 - 0x10000000 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0x00000001 Drive types ---- Remarks The following operation modes can be parameterised(1): Value Meaning Axis Interpolator type type Description ACHSMODE_ path spindle 56 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 57

General axis data (kenngr.*) Value Meaning Axis Interpolator type type 0x00000001 The axis is operated as a linear axis; .. LINEAR(1) T, R X no modulo calculation is executed in the channel. For example, rotary axis with restricted motion range; must be set as default for linear axes. 0x00000004 A modulo calculation always takes .. MODULO(1) R X X place after the destination position has been reached. Regardless of the operation mode selected for rotary axes, a modulo calculation is always executed in the position controller. In this way, modulo circle compensation can be executed if required. 0x00000040 Axis is used as a face turning axis .. PLANDREHEN T X (turning functions). 0x00000080 Axis is used as a longitudinal turning .. LAENGSDREHEN T X axis (turning functions). 0x00000100 For a spindle an automatic homing .. KEINE_AUTO_RPF R X before positioning the spindle can be pre-vented. This is only relevant if the axis is not referenced. The function is drive-dependent. 0x00000200 Axis for kinematic 'C axis' .. CAX R X X transformation. 0x00000400 Modulo calculation for linear axis. .. MODULO_LINEAR R X (Example: conveyor belt with drive motor where the position on the belt is programmed in mm). 0x00000800 Axis is released for mechanical .. CLAMPABLE T, R X blocking by the PLC. This axis mode is not available for Twin CAT systems. 0x00001000 Axis carries a rotary workpiece table. .. ROT_TABLE T, R X 0x00008000 Monitoring of axis collision. .. COLL_CHECK T X 0x00010000 Master axis of gantry coupling. .. GANTRY_MASTER T, R X 0x00020000 Slave axis of gantry coupling. .. GANTRY_SLAVE T, R X 0x00040000 Identifier for PLC spindle with axis .. SPINDLE_EXT_CT R X interface RL 0x00080000 Input axis for additional external .. EXT_CTRL_INPUT T X position command values (e.g. distance control). 0x00100000 Pure encoder axis, only to display .. COUNTER T, R X X actual values (e.g. conveyor belt). 0x00200000 Lead axis in combination with single .. LEAD_AXIS T, R X feed axis and G194 (contouring with DIST_MASTER) 0x00400000 The resolution (wegaufz/wegaufn) of .. ALLOW_RESOLUTI T, R X X this axis can be changed. ON_ CHANGE(2) 0x00800000 Path-dependent dynamic weighting for .. DYNAMIC_WEIGHT T, R X this axis is possible. ING 0x02000000 Path axis for tool centre point path .. PATH_LENGTH_TC R X P 0x04000000 Path axis for contour path .. PATH_LENGTH_ R X CONTOUR TF5200 | Twin CAT 3 CNC Version: 1.172 57 Axis parameters
## Page 58

General axis data (kenngr.*) Value Meaning Axis Interpolator type type 0x08000000 Virtual lead axis for path interpolation .. VIRT_LEAD_AXIS R X 0x10000000 Axis carries the pressure roller for .. LAH_OFFSET_AXI R X edge banding. S (1) One of the following two axis modes must always be defined: - ACHSMODE_LINEAR or - ACHSMODE_MODULO All other bits of the parameter achs_mode are additional specifications. For example, the ACHS- MODE_MODULO_LINEAR bit is only useful if combined with the ACHSMODE_MODULO bit. (2) Changing certain axis parameters may be critical while a controller is running, e.g. path resolu- tion,. Therefore, this parameter can be enabled by setting the bit ALLOW_RESOLUTION_CHANGE in axis mode. Otherwise, these parameters (P-AXIS-00234 [} 218], P-AXIS-00233 [} 218]) can no longer be changed after controller start-up. When the bit ALLOW_RESOLUTION_CHANGE is set, a check is first made whether the axis is in- terpolated, also when other critical parameters change. If the axis is currently in motion, this para- meter update is rejected. 58 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 59

Functional settings 3 Functional settings 3.1 Special settings for rotary axes This section describes the elements in the axis parameter list which must only be assigned for rotary axes. The term 'rotary axis' includes rotary axes and spindles. In addition, the parameters for spindles described in Section Special settings for spindles [} 62] must be assigned. 3.1.1 Settings for modulo calculation for rotary axis 3.1.1.1 Upper modulo limit (P-AXIS-00126) P-AXIS-00126 Upper modulo limit Description For modulo calculation for rotary axes, an upper modulo limit' (e.g. 360°) should be set. Parameter getriebe[i].moduloo Data type SGN32 Data range modulou < moduloo ≤ MAX(SGN32) Axis types R, S Dimension R,S: 0.0001° Default value 3600000 Drive types ---- Remarks Modulo calculation is activated automatically for rotary axes and spindles (axis types [} 55] 0x2 and 0x4). 3.1.1.2 Lower modulo limit (P-AXIS-00127) P-AXIS-00127 Lower modulo limit Description For modulo calculation for rotary axes, a lower modulo limit (e.g. 0°) should be set. Parameter getriebe[i].modulou Data type SGN32 Data range MIN(SGN32) ≤ modulou < moduloo Axis types R, S Dimension R,S: 0.0001° Default value 0 Drive types ---- Remarks Modulo calculation is activated automatically for rotary axes and spindles (axis types [} 55] 0x2 and 0x4). 3.1.1.3 Number of rotations in case of modulo error compensation (P- AXIS-00125) P-AXIS-00125 Number of rotations in case of modulo error compensation TF5200 | Twin CAT 3 CNC Version: 1.172 59 Axis parameters
## Page 60

Functional settings Description When a rotary axis is operated, in certain circumstances the modulo circle of the command variables cannot be converted to the modulo circle of the increments without errors. The modulo circle of the increments is less by the rounding error. This is compensated by the modulo compensation in the position controller so that the missing increments per modulo rotation can be preset as integers in the machine data P-AXIS-00124 [} 60] . Parameter getriebe[i].modulo_umdreh Data type SGN16 Data range 0 ≤ modulo_umdreh ≤ MAX(SGN16) Axis types R, S Dimension R,S: ---- Default value 0 Drive types Simulation, Conventional, Terminal, Lightbus, Profidrive Remarks This function is activated via the parameter P-AXIS-00120 [} 60]. 3.1.1.4 Error in modulo circle (P-AXIS-00124) P-AXIS-00124 Error in modulo circle Description See also P-AXIS-00125 [} 59] Parameter getriebe[i].modulo_fehler Data type SGN16 Data range MIN(SGN16) ... MAX(SGN16) Axis types R, S Dimension R,S: increments Default value 0 Drive types Simulation, Conventional, Terminal, Lightbus, Profidrive Remarks 3.1.1.5 Activation of modulo compensation (P-AXIS-00120) P-AXIS-00120 Activation of modulo compensation Description This parameter activates the modulo compensation in position controller. Parameter lr_param.mod_komp Data type BOOLEAN Data range 0/1 Axis types R, S Dimension R,S: ---- Default value 0 Drive types ---- Remarks 3.1.1.6 Switching modulo calculation range off / on (P-AXIS-00557) P-AXIS-00557 Switching modulo calculation range off / on Description The modulo calculation for rotary axes is automatically switched on by default by the set bit ACHSMODE_MODULO (see P-AXIS-00015 [} 56]. With linear axes, modulo calculation is automatically switched off by default. This parameter switches on/off the modulo calculation independently of the axis type [} 55] and axis mode (P-AXIS-00015) [} 56] . The modulo range is defined by the parameters P-AXIS-00126 [} 59] and P-AXIS-00127 [} 59] . 60 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 61

Functional settings Parameter getriebe[i].modulo_calculation Data type SGN08 Data range -1: Effectiveness of modulo calculation dependent on axis type [} 55] and axis mode [} 56] (default) 0 : Switch off modulo calculation 1 : Switch on modulo calculation Axis types T, R Dimension T: ---- R: ---- Default value -1 Drive types ---- Remarks TF5200 | Twin CAT 3 CNC Version: 1.172 61 Axis parameters
## Page 62

Functional settings 3.1.2 Special settings for spindles The parameters described in this section are required for axes of axis type 'ACHSTYP_SPINDEL' interpolated by a spindle interpolator. 3.1.2.1 Restriction of direction of rotation (P-AXIS-00224) P-AXIS-00224 Restriction of direction of spindle rotation Description If a spindle may only be operated in one direction, then the parameter should be set to 1. Parameter kenngr.vorz_richtung Data type BOOLEAN Data range 0/1 Axis types R, S Dimension R,S: ---- Default value 0 Drive types ---- Remarks 3.1.2.2 Definition of preferred direction of spindle rotation (P-AXIS-00031) P-AXIS-00031 Definition of preferred direction of spindle rotation Description If only one direction of rotation is permitted for spindles (P-AXIS-00224 [} 62]), this parameter defines the direction of rotation. Parameter kenngr.beweg_richt Data type BOOLEAN Data range 0: Negative direction of rotation 1: Positive direction of rotation Axis types R, S Dimension R,S: ---- Default value 0 Drive types ---- Remarks Positive direction of rotation signifies that coordinate values increase. Negative direction of rotation signifies that coordinate values decrease. This parameter is used only if the parameter P-AXIS-00224 [} 62] is assigned the value 1. 3.1.2.3 Speed-value attained - tolerance band (P-AXIS-00217) P-AXIS-00217 Speed-value attained - tolerance band Description This parameter defines the actual speed value at which the status 'speed-value attained' is declared. Parameter kenngr.vb_prozent Data type UNS16 Data range 0 ... 1000 Axis types S Dimension S: 0.1% Default value 100 Drive types ---- 62 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 63

Functional settings Remarks Configuration example: For 'kenngr.vb_prozent = 100' the message 'speed-value attained' appears when '1.1 * commanded speed ≥ actual speed-value ≥ 0.9 * commanded speed '. 3.1.2.4 Limiting velocity for the measurement system (P-AXIS-00220) P-AXIS-00220 Limiting velocity for the measurement system Description Especially with spindles, the limit at which the measuring system supplies erroneous signals at higher rotation speeds can be exceeded. The parameter describes the velocity value at which the position controller has to switch over to open-loop controlled operation mode. Parameter getriebe[i].vb_regelgrenze Data type UNS32 Data range 0 ≤ vb_regelgrenze ≤ MAX(UNS32) Axis types S Dimension S: 0.001°/s Default value 200000 drive types. Simulation, Conventional, Terminal, Lightbus, Profidrive Remarks 3.1.2.5 Limit for spindle speed 'zero' (P-AXIS-00216) P-AXIS-00216 Limit for spindle speed 'zero' Description Especially in the case of spindles, the barrier should be given below which rotational speed monitoring in the position controller shows the state 'speed zero'. Parameter getriebe[i].vb_min_null Data type UNS32 Data range 0 ≤ vb_min_null ≤ MAX(UNS32) Axis types S Dimension S: 0.001°/s Default value 100 drive types. ---- Remarks 3.1.2.6 Reverse of sign for setpoint and actual value (P-AXIS-00159) P-AXIS-00159 Reverse of sign for setpoint and actual value Description The turning direction of a spindle is defined in this parameter. If reverse is TRUE, the signs of the output and input data are changed. This is an option for keeping the signs of setpoint and actual values. Parameter getriebe[i].reverse Data type BOOLEAN Data range 0/1 Axis types S Dimension S: ---- Default value 0 Drive types Simulation, Conventional, Terminal, Lightbus, Profidrive Remarks TF5200 | Twin CAT 3 CNC Version: 1.172 63 Axis parameters
## Page 64

Functional settings 3.1.2.7 Switch to velocity controlled mode (P-AXIS-00265) P-AXIS-00265 Velocity limit for switching to velocity controlled mode Description If any spindle revolution higher than the given limit is commanded, the operation mode is switched to velocity control automatically. Parameter antr.velocity_position_control_on Data type SGN32 Data range 0 ≤ velocity_position_control_on ≤ MAX(SGN32) Axis types S Dimension S: 0.001°/s Default value 2000000000 Drive types SERCOS Remarks For a sensorless spindle only a velocity of 0 is useful. Therefore the command velocity of the interpolator is always output and not the setpoint velocity of the position controller. 3.1.2.8 Switch back to position control (P-AXIS-00266) P-AXIS-00266 Velocity limit for switching back to position control Description If the actual revolution during any positioning via M19 is higher than the given limit, the spindle is first decelerated to the limit. Afterwards the operation mode is switched back to position control. Parameter antr.velocity_position_control_off Data type SGN32 Data range 0 ≤ velocity_position_control_off ≤ MAX(SGN32) Axis types S Dimension S: 0.001°/s Default value 0 Drive types SERCOS Remarks For a sensorless spindle only a velocity of 0 is useful Therefore the command velocity of the interpolator is always output and not the setpoint velocity of the position controller. 3.1.2.9 Use actual velocity for revolution monitoring (P-AXIS-00519) P-AXIS-00519 Use actual velocity for revolution monitoring Description By default the actual position is used for the calculation of the actual velocity of a spindle when an actual velocity and an actual position is configured in the process data. Because the position values are modulo calculated, the maximum velocity is limited to 180°/cycle. To obtain a correct actual velocity of the spindles at velocities > 180°/cycle, this parameter defines that the actual velocity value must be used for speed monitoring even if an actual position value is configured in the process data. When this parameter is used, the velocity scaling (see P-AXIS-00205 [} 264], P- AXIS-00206 [} 264] and P-AXIS-00207 [} 264]) must be correctly set. Parameter antr.revolution_monitoring_use_act_velocity Data type BOOLEAN Data range 0/1 Axis types S Dimension S: ---- Default value 0 Drive types ---- 64 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 65

Functional settings Remarks This parameter can only be used for spindles. If it is used for a different axis type (see P-AXIS-00018) [} 55] , it is corrected to the value 0 and the warning P- ERR-110589 is output. When this parameter is used, an actual velocity has to be set up in the process data. If this is not the case, the warning P-ERR-70480 is output and the parameter value is set to 0. 3.1.2.10 Output time M19 for positioning the spindle (P-AXIS-00523) P-AXIS-00523 Output time M19 for positioning the spindle Description The output time point of the spindle M-functions M03 and M04 for rotation is the start of the movement. On the other hand, when the spindle position moves, the CNC only outputs the M function M19 when the spindle reaches the target position. When the value is set to 1, the M19 M function is output at the start of the spindle positioning analogue to the other spindle M functions. The M19 M function is acknowledged when the spindle reaches the target position. Parameter kenngr.spindle_m19_output_standard Data type BOOLEAN Data range 0/1 Axis types S Dimension S: ---- Default value 0 Drive types ---- Remarks 3.1.2.11 Checking commanded spindle speed versus permissible tool speed limits (P-AXIS-00474) P-AXIS-00474 Checking commanded spindle speed versus permissible tool speed limits Description When the values P-TOOL-00013 (vb_min) and P-TOOL-00014 (vb_max) are entered in the tool-specific data record, the real spindle speed is limited to the defined tool speed range during endless turning. There is only a limitation of spindle speed but no output of an error message. If the spindle speed is outside the speed range and the parameter is set to 1, the error message 60312P-ERR-60312) is output. Parameter kenngr.check_spindle_speed_in_tool_range Data type BOOLEAN Data range 0/1 Axis types S Dimension S: ---- Default value 0 Drive types ---- Remarks 3.1.2.12 Weighting of velocity feedforward control (P-AXIS-00766) P-AXIS-00766 Weighting of velocity feedforward control Description To allow smooth switching between position- and speed-controlled mode, the weighting of the velocity feedforward control set in the drive must be considered. This weighting can be set with this parameter. Parameter antr.sai_op_mode_change.feed_forward_v_weighting TF5200 | Twin CAT 3 CNC Version: 1.172 65 Axis parameters
## Page 66

Functional settings Data type UNS16 Data range 0 <= P-AXIS-00766 <= 1200 Axis types S Dimension S:0.1% Default value 0 drive types. SERCOS, CANopen Remarks The weighting of velocity feedforward control is configured for CANopen drives by the object 3062h. With SERCOS drives, velocity feedforward control is weighted by the parameter S-0-0296. 3.1.2.13 Velocity limit for switching to velocity controlled mode (P-AXIS-00767) P-AXIS-00767 Velocity limit for switching to velocity controlled mode Description This parameter specifies a limit speed. The limit speed only acts if a speed greater than the changeover speed is specified. It is then switched over to speed-controlled mode. Parameter antr.sai_op_mode_change.v_velocity_control_on Data type SGN32 Data range 0 ≤ P-AXIS-00767 ≤ MAX(SGN32) Axis types S Dimension S: 0.001°/s Default value 2000000000 drive types. SERCOS, CANopen Remarks Only a speed of 0 is practical for a sensorless spindle. Therefore the command velocity of the interpolator is always output and not the setpoint velocity of the position controller. P-AXIS-00767 replaces the parameter P-AXIS-00265 as of v3.1.3079.13. However, the latter retains its functionality. 3.1.2.14 Velocity limit for switching back to position control (P-AXIS-00768) P-AXIS-00768 Velocity limit for switching back to position control Description This parameter specifies the limit speed for switching back to position control. The limit speed P-AXIS-00768 only acts if the current speed is greater than P-AXIS-00768 for positioning with M19. It is first decelerated to P-AXIS-00768 before position control is switched on. Parameter antr.sai_op_mode_change.v_position_control_on Data type SGN32 Data range 0 ≤ P-AXIS-00768 ≤ MAX(SGN32) Axis types S Dimension S: 0.001°/s Default value 0 drive types. SERCOS, CANopen Remarks Only a speed of 0 is practical for a sensorless spindle. Therefore the command velocity of the interpolator is always output and not the setpoint velocity of the position controller. P-AXIS-00768 replaces the parameter P-AXIS-00265 as of v3.1.3079.13. However, the latter retains its functionality. 66 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 67

Functional settings 3.1.2.15 Delay time for error message suppression with spindle tool revolution monitoring (P-AXIS-00787) P-AXIS-00787 Delay time for error message suppression with spindle tool revolution monitoring Description For spindles, the axis parameters P-AXIS-00549/P-AXIS-00550 can activate a monitor for spindle actual speed against a parameterisable limit. If the limit is exceeded by ten percent, an error ERR-70376 is triggered and the spindle runs out. At low speeds, it may occur that the 10% limit is undershot. The parameter P- AXIS-00787 specifies a delay time to delay the output of the error message if the spindle speed is lower than the speed set in P-AXIS-00788 [} 67] . If the actual speed of the spindle drops below the limit within the time specified in P- AXIS-00787, no error message is output. Above the limit speed specified in P- AXIS-00788 [} 67] , an error message is output immediately. If a value greater than the permissible delay time is configured in P-AXIS-00787, the warning ERR-110666 is output and P-AXIS-00787 is limited to the permissible maximum value. Parameter kenngr.v_limit_delay_time Data type UNS32 Data range 0 < P-AXIS-00787 < 500000 Axis types S Dimension T: ---- S: µs Default value 0 Drive types SERCOS, Profidrive, CANopen Remarks This parameter is not available under Twin CAT. 3.1.2.16 Limit velocity for delay with spindle tool revolution monitoring (P- AXIS-00788) P-AXIS-00788 Limit velocity for delay with spindle tool revolution monitoring Description For spindles, the axis parameters P-AXIS-00549/P-AXIS-00550 can activate a monitor for spindle actual speed against a parameterisable limit. If the limit is exceeded by ten percent, an error ID 70376 is triggered and the spindle runs out. At low speeds, it may occur that the 10% limit is undershot. The parameter P- AXIS-00788 can be used to specify a limit speed for the spindle below which the output of the error message is reduced by the time specified in P-AXIS-00787 [} 67] . If the actual speed of the spindle is below the limit within the time set in P- AXIS-00787 [} 67] , no error message is output. An error message is output immediately when the limit speed exceeds the one specified in P-AXIS-00788. If a value greater than the permissible limit speed is configured in P-AXIS-00788, the warning ID110667 is output and P-AXIS-00788 is limited to the permissible maximum value. Parameter kenngr.v_limit_delay_max_velocity Data type UNS32 Data range 0 ≤ P-AXIS-00788 ≤ 18000000 Axis types S Dimension T: ---- S: 10^-3 °/s Default value 0 Drive types SERCOS, Profidrive, CANopen Remarks This parameter is not available under Twin CAT. TF5200 | Twin CAT 3 CNC Version: 1.172 67 Axis parameters
## Page 68

Functional settings 3.1.3 Settings for turning functionality The diameter programming and the turning functionality are described in [PROG] in greater detail. 3.1.3.1 Absolute diameter programming (P-AXIS-00058) P-AXIS-00058 Diameter programming absolute Description If diameter programming is to occur with active absolute programming (G90), the parameter must be set to TRUE. Parameter kenngr.durchm_prog_abs Data type BOOLEAN Data range 0/1 Axis types T Dimension T: ---- Default value 0 drive types. ---- Remarks 3.1.3.2 Relative diameter programming (P-AXIS-00059) P-AXIS-00059 Diameter programming relative Description If diameter programming is to occur with active incremental programming (G91), the parameter must be set to TRUE. Parameter kenngr.durchm_prog_rel Data type BOOLEAN Data range 0/1 Axis types T Dimension T: ---- Default value 0 drive types. ---- Remarks 3.2 Settings for homing 3.2.1 Preferred direction of axis for homing (P-AXIS-00158) P-AXIS-00158 Preferred direction of axis for homing Description The parameter P-AXIS-00158 specifies the direction of travel if the axis does not remain on a cam. The declaration of the signal level when the reference switch is actuated is given by the axis parameter P-AXIS-00038 [} 250]. Parameter kenngr.ref_richt Data type BOOLEAN Data range 0: Negative direction 1: Positive direction Axis types T, R, S Dimension T: ---- R,S: ---- 68 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 69

Functional settings Default value 0 drive types. Simulation, Conventional, Terminal, Lightbus, Profidrive Remarks Positive direction signifies that the coordinate values increase. Negative direction signifies that the coordinate values decrease. 3.2.2 Homing without cam (P-AXIS-00156) P-AXIS-00156 Homing without cam Description A changeover of homing strategy can be carried out so that homing is done without cam (e.g. only with zero pulse), i.e. without reverting. In this case the parameter P-AXIS-00156 should be set to TRUE. Parameter kenngr.ref_ohne_nocken Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 drive types. Conventional, Terminal, Lightbus, Profidrive Remarks To be assigned for analogue spindles only. If P-AXIS-00156 is assigned with 1 (TRUE), then it is imperative that P-AXIS-00157 [} 69] is assigned with 1 (TRUE). 3.2.3 Homing without reverting (P-AXIS-00157) P-AXIS-00157 Homing without reverting Description Via parameter P-AXIS-00157 a restriction of homing can occur that will prohibit any reverting. Parameter kenngr.ref_ohne_rev Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 drive types. Conventional, Terminal, Lightbus, Profidrive Remarks The speed during reversing is set with the parameter P-AXIS-00064 [} 71] (fast_from_cam). By reverting, it is possible to repeatedly move to the reference cam at slow speed. To be assigned for analogue spindles only. P-AXIS-00157 must be assigned with 1 (TRUE) if P-AXIS-00156 [} 69] is assigned with 1 (TRUE). 3.2.4 Position of the reference point (P-AXIS-00152) P-AXIS-00152 Position of the reference point Description If homing is completed, the value from the parameter P-AXIS-00152 is taken as the absolute position for the axis Parameter getriebe[i].pos_refpkt Data type SGN32 Data range swe_neg < pos_refpkt < swe_pos Axis types T, R, S Dimension T: 0.1 µm R,S: 0.0001 ° Default value 0 TF5200 | Twin CAT 3 CNC Version: 1.172 69 Axis parameters
## Page 70

Functional settings drive types. Simulation, Conventional, Terminal, Lightbus, Profidrive, CANopen Remarks 3.2.5 Fast velocity for detection of reference cam (P-AXIS-00219) P-AXIS-00219 Fast velocity for detection of reference cam Description At start of homing, if the axis is not on the cam, then travel on the cam takes place at the velocity defined in P-AXIS-00219. Parameter getriebe[i].vb_refmax Data type UNS32 Data range P-AXIS-00218 [} 70] ≤ vb_refmax ≤ P-AXIS-00212 [} 183] Axis types T, R, S Dimension T: µm/s R,S: 0.001°/s Default value 83333 drive types. Conventional, Terminal, Lightbus, Profidrive Remarks 3.2.6 Slow velocity for exact detection of reference position (P- AXIS-00218) P-AXIS-00218 Slow velocity for exact detection of reference position Description Not only the traverse downwards of cam but also the traverse on cam with homing takes place at the velocity P-AXIS-00218. Parameter getriebe[i].vb_reflow Data type UNS32 Data range 1 ≤ vb_reflow ≤ P-AXIS-00219 [} 70] Axis types T, R, S Dimension T: µm/s R,S: 0.001°/s Default value 16666 drive types. Simulation, Conventional, Terminal, Lightbus, Profidrive Remarks 3.2.7 Homing only with cam (without zero pulse) (P-AXIS-00084) P-AXIS-00084 Homing only with cam (without zero pulse) Description The homing position is detected by travel on the cam. Parameter kenngr.homing_without_zero_pulse Data type BOOLEAN Data range 0: Homing with zero pulse of rotary transducer (default value). 1: Homing without zero pulse of rotary transducer (low accuracy). Axis types T, R Dimension T: ---- R:---- Default value 0 drive types. ---- Remarks For further hardware-specific parameters relating to homing with cam, see P-AXIS-00036 - P-AXIS-00039. 70 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 71

Functional settings 3.2.8 Slow / fast movement down from cam (P-AXIS-00064) P-AXIS-00064 Slow / fast movement down from cam Description This parameter sets the velocity during reversion down from cam. Parameter kenngr.fast_from_cam Data type BOOLEAN Data range 0: Slow movement down from cam 1: Fast movement down from cam (default) Axis types T, R Dimension T: ---- R: ---- Default value 1 drive types. ---- Remarks For further hardware-specific parameters relating to homing with cam, see P-AXIS-00036 - P-AXIS-00039. 3.2.9 Maximum velocity for unreferenced axes (P-AXIS-00268) P-AXIS-00268 Maximum velocity for unreferenced axes Description This parameter defines the maximum velocity of unreferenced axes for relative and endless movements. Parameter getriebe[i].vb_not_referenced Data type UNS32 Data range 0 … P-AXIS-00212 [} 183] Axis types T, R, S Dimension T: µm/s R,S: 0.001°/s Default value 0 Drive types ---- Remarks At the moment this parameter is only effective for spindle axes and SAI axes (P- AXIS-00250 [} 129]). P-AXIS-00268 is not relevant for path axes (axes in NC channel). 3.2.10 Lock moving of unreferenced axes (P-AXIS-00277) P-AXIS-00277 Lock moving of unreferenced axes Description This parameter defines whether an axis can be moved without previous homing. Parameter kenngr.prog_move_requires_homing Data type BOOLEAN Data range 0: Moving of the axis is possible without previous homing (default). 1: Before a programmed movement the axis has to be homed. If an axis is moved unreferenced, an error message is output. Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks 3.2.11 Modes for setting the homing position (P-AXIS-00278) P-AXIS-00278 Modes for setting the homing position TF5200 | Twin CAT 3 CNC Version: 1.172 71 Axis parameters
## Page 72

Functional settings Description The MCControl Bool Unit_Set Reference Position control unit initiates the setting of an axis position as reference position. For more information, see the documentation [HLI// Axis control commands]. There are two possibilities how the adopted axis position can be calculated. After the homing position is adopted, the axis is considered as referenced. Setting the homing position is triggered on the rising edge of the command element of the set_reference_position control unit. The homing position is calculated from the values of the involved axis parameters or control units at that instant. Parameter kenngr.set_refpos_mode Data type STRING Data range ABSOLUT: The axis position is set to the position defined in the axis parameter P- AXIS-00152 [} 69]. OFFSET: The new axis position is defined by the encoder position + P-AXIS-00279 [} 72]. PLC: The reference position is set to the value of the axis-specific refpos_position control unit. PLC_OFFSET: The new axis position is determined by the encoder position + value of the axis-specific refpos_position control unit. Axis types T, R, S Dimension T: ---- R,S: ---- Default value ABSOLUT Drive types ---- Remarks The modes OFFSET and PLC_OFFSET are only practical if the encoder delivers an absolute position. The homing position can only be adopted if no program is active. If an attempt is made to set the homing position while a program is active, an error message ID 70194 is output. 3.2.12 Offset to the homing position (P-AXIS-00279) P-AXIS-00279 Offset to the homing position Description If ‘OFFSET’ mode was selected to adopt the homing position in the parameter P- AXIS-00278 [} 71] , enter the offset between the encoder position and the homing position in this parameter. The homing position to be set is calculated by: Homing position (axis position) = Encoder position + P-AXIS-00279. Setting the homing position is triggered on the rising edge of the command element of the set_reference_position control unit. The value of P-AXIS-00279 at this instant is used to calculate the reference position. Parameter kenngr.set_refpos_offset Data type SGN32 Data range MIN(SGN32) ≤ set_refpos_offset ≤ MAX(SGN32) Axis types T, R, S Dimension T: 0.1 µm R,S: 0.0001° Default value 0 Drive types ---- Remarks Use of this parameter is only practical if the encoder delivers an absolute position. 72 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 73

Functional settings 3.2.13 Homing method ‘evaluation of encoder overflow’ For encoder types that don’t provide a zero pulse but provide an absolute position within an certain range, for example resolvers, it is possible to use the overflow of the encoder position value as zero pulse replacement. In this case the axis is homed as soon as an overflow or underflow of the encoder position is recognised. An overflow of the position value occurs when the position delivered by the encoder while moving in a positive direction jumps from the maximum value (e. g. 65535) to 0. Analogously an underflow occurs when the encoder position value of the axis moving in a negative direction jumps from zero to the maximum value. An overflow or underflow of the encoder position values is handled automatically by the NC kernel. 3.2.13.1 Selection of the homing method (P-AXIS-00294) P-AXIS-00294 Selection of the homing method 'Evaluation of encoder overflow' Description This homing method is selected with the parameter P-AXIS-00294. To use this option, the parameter P-AXIS-00084 [} 70] must be assigned the value 0. The number of bits used to detect encoder overflow has to be set in parameter P- AXIS-00355 [} 73] . Parameter kenngr.homing_overflow_evaluation Data type BOOLEAN Data range 0: No evaluation of encoder overflow (default). 1: Evaluation of encoder overflow. Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 drive types. Lightbus Remarks This homing method only leads to a repeatable homing position of the axis when encoder overflow occurs every time at the same mechanical position of the axis. This is true for example for resolver encoders. 3.2.13.2 Shifting of encoder overflow (P-AXIS-00354) P-AXIS-00354 Shifting of encoder overflow Description When homing with encoder overflow this parameter can shift the reference position. A positive value for P-AXIS-00354 [} 73] will shift the reference position in the positive movement direction of the axis. Parameter antr.encoder_overflow_offset Data type SGN32 Data range application-specific Axis types T, R, S Dimension T: 0.1 µm R,S: 0.1 µm Default value 0 drive types. SERCOS, Lightbus,CANopen Remarks The reference position can only be shifted within one encoder revolution. If larger values for P-AXIS-00354 [} 73] are defined, the error message P-ERR-70310 is output and P- AXIS-00354 [} 73] is corrected to 0. 3.2.13.3 Number of bits for evaluation of encoder overflow (P-AXIS-00355) P-AXIS-00355 Number of bits for evaluation of encoder overflow TF5200 | Twin CAT 3 CNC Version: 1.172 73 Axis parameters
## Page 74

Functional settings Description When homing on encoder overflow, this parameter defines the number of bits of the drive's actual position value that are taken into account to detect encoder overflow. The actual position value of the drive system is AND-combined with the value (2P-AXIS-00355 -1) and the underflow or overflow of the resulting value is considered as encoder overflow. Parameter antr.encoder_bit_range Data type UNS08 Data range 1 … 31 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 drive types. SERCOS, Lightbus,CANopen Remarks 3.2.14 Acceleration during homing (P-AXIS-00285) P-AXIS-00285 Acceleration during homing Description The parameter includes the axis acceleration during CNC-controlled homing procedure. If the parameter is unassigned, the values of the parameters P- AXIS-00005 [} 174], P-AXIS-00006 [} 175]are adopted. Parameter getriebe[i].a_ref Data type UNS32 Data range 0 ≤ a_ref ≤ P-AXIS-00008 [} 184] Axis types T, R Dimension T: mm/s² R: °/s² Default value 0 Drive types Simulation, Conventional, Terminal, Lightbus, Profidrive Remarks When the parameter has the value 0, it is assigned the minimum of the values of P- AXIS-00005 [} 174] (a_grenz-stufe_1) and P-AXIS-00006 [} 175] . 3.2.15 Ramp time during homing (P-AXIS-00286) P-AXIS-00286 Ramp time during homing Description The parameter includes the ramp time during CNC-controlled homing and active non-linear slope profile (see P-AXIS-00270 [} 181]). If the parameter is 0 or too small, the value of P-AXIS-00201 [} 185](tr_min) is adopted. Parameter getriebe[i].tr_ref Data type UNS32 Data range P-AXIS-00201 [} 185] ≤ tr_ref ≤ MAX(UNS32) Axis types T, R Dimension T: µs R: µs Default value 0 Drive types Simulation, Conventional, Terminal, Lightbus, Profidrive Remarks If the parameter is assigned the value 0, the value in P-AXIS-00201 [} 185](tr_min) is adopted. 3.2.16 Homing type (P-AXIS-00299) P-AXIS-00299 Homing type Description There are two different homing methods: 74 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 75

Functional settings 1. NC-controlled homing 2. Drive-controlled homing With NC-controlled homing, the generation of command values and sequence control (evaluation of reference cams and zero pulses) are handled in the CNC. With drive-controlled homing, motion generation and the evaluation of cam signals and zero pulses are handled in the drive. The homing method can be set up for drives types (P-AXIS-00018) [} 55] for which both homing methods are implemented with this parameter. Parameter kenngr.homing.homing_type * (Note: see *-note below) Data type STRING Data range CNC_CONTROLLED: CNC-controlled homing is done. DRIVE_CONROLLED: Drive-controlled homing is done. DISABLED: This axis cannot be homed. The CNC generates the error message P- ERR-50685 or P-ERR-60313 if homing is commanded for the axis (e.g. G74). This setting is only intended for axes with an absolute measuring system (see P-AXIS-00014 [} 219]). IGNORE_ABS_POS: Axes with this setting are ignored during homing, i.e. the axis is not homed even if G74 <axis_name> is programmed. In this case the CNC generates no error message contrary to the setting DISABLED. The mode IGNORE_ABS_POS is only permitted for axis with an absolute position measuring system, meaning the parameter kenngr.abs_pos_gueltig (see P-AXIS-00014 [} 219]) must be set to 1. Otherwise, the CNC generates the error warning P-ERR-110584. Axis types T, R, S Dimension T: ---- R,S: ---- Default value CNC_CONTROLLED Drive types ---- Remarks * alternative: kenngr.homing_type (old syntax) If the homing command G74 involves multiple axes with different homing type setting e.g. G74 X1 Y1 Z2, the axis with kenngr.homing_type != IGNORE_ABS_POS/ DISABLED will move and try to find the homing switch while there is no movement on the homing suppressed axes. Therefore it must be ensured that no collision can occur. If a homing type which is not supported by the drive type is set up, an error P- ERR-110384 is generated and default homing type is corrected. If this entry is not present in the parameter list, the default homing type is used according to the drive type: Drive type CNC_CONTROLLED DRIVE_CONTROLLED Simulation X* SERCOS X X* Terminal X* Lightbus X* RT-Ethernet X* PROFIDRIVE X* CANopen X* X * Default homing type 3.2.17 Gantry monitoring during drive-controlled homing (P- AXIS-00298) P-AXIS-00298 Gantry monitoring during drive-controlled homing TF5200 | Twin CAT 3 CNC Version: 1.172 75 Axis parameters
## Page 76

Functional settings Description With a gantry configuration, if the gantry distance monitoring before homing is activated (P-AXIS-00249 [} 119]), a gantry error occurs during drive-guided homing (e. g. for SERCOS drives) when the drive sets its actual position to the reference position at the end of the homing cycle. In this case the gantry error occurs near the homing position of either the master or the slave drive. In order to activate gantry distance monitoring during homing it is possible to suppress this gantry error and trigger a new calculation of the offset between the master and slave axis if a gantry error occurs within a certain range around the reference position. This range of tolerance can be set up with this parameter. Parameter getriebe[i].max_reference_position_offset Data type SGN32 Data range 0 … MAX(SGN32) Axis types T, R, S Dimension T: 0.1 µm R,S: 0.1 mdeg Default value 1000 drive types. SERCOS, CANopen Remarks Using P-AXIS-00298 is only practical for drive-controlled homing with SERCOS or CANopen drives. 3.2.18 Input interface for reference cam signal (P-AXIS-00321) P-AXIS-00321 Input interface for reference cam signal Description In the default setting with CNC-controlled homing, the reference cam signal is read from the HLI [HLI]. For some drive types it is possible to use the drive digital inputs as reference cam input. In this case the appropriate input has to be configured in P- AXIS-00321. If this parameter is not set, the reference cam signal is read from the PLC interface. Parameter antr.reference_cam_signal Data type STRING Data range Dependent on the drive type the following different names for the digital inputs are possible: Drive type SERCOS: PLC Read reference cam signal from HLI (default) RT_STATUS_BIT_1 Read reference cam signal from real time status bit 1 RT_STATUS_BIT_2 Read reference cam signal from real time status bit 2 Drive type CANopen: PLC Read reference cam signal from HLI (default) STATUS_DIG_INPUTS (*) Reference cam signal from object 0x60FD : Digital inputs Axis types T, R, S Dimension T: ---- R,S: ---- Default value PLC drive types. SERCOS, Lightbus,CANopen Remarks Caution: It is only possible to use real-time status bits with NC-controlled homing, see also [CMS-A1]. 76 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 77

Functional settings If the drive digital inputs are used, they must also be parameterised using the drive manufacturer’s set-up tool. The transmission of the digital inputs in the cyclic telegram must also be configured. (*) For the transmission of the reference cam state, the object 0x60FD: Digital inputs must be configured (see DS402 drive profile). Otherwise, the error message with error code P- ERR-70292 is output. Drive type CANopen (AX2000) DIG_INPUT_1 Read reference cam signal from digital input 1 DIG_INPUT_2 Read reference cam signal from digital input 2 DIG_INPUT_3 Read reference cam signal from digital input 3 DIG_INPUT_4 Read reference cam signal from digital input 4 Drive type Lightbus/ RT-Ethernet (AX2000) PLC Read reference cam signal from HLI (default) DIG_INPUT_1 Read reference cam signal from digital input 1 DIG_INPUT_2 Read reference cam signal from digital input 2 DIG_INPUT_3 Read reference cam signal from digital input 3 DIG_INPUT_4 Read reference cam signal from digital input 4 To transmit digital inputs, they must be configured in the cyclic telegram. If they are not configured, an error message with error code P-ERR-70292is output. 3.2.19 Use of hardware limit switch as reference switch (P- AXIS-00329) P-AXIS-00329 Use of hardware limit switch as reference switch Description If a hardware limit switch of an axis is used as reference switch, this parameter has to be set to 1. The state of the hardware limit switch can either be transferred to the CNC via the PLC interface with the control unit “lr_mc_control.reference_cam“ (see [HLI]) or by reading the drive digital inputs directly if the used drive type supports this (see also P-AXIS-00321 [} 76]) is inactive. Parameter kenngr.ref_cam_is_limit_switch Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks Using a hardware limit switch as reference switch is only possible if the drive amplifier does not go into an error state if the hardware limit switch is actuated. When the hardware limit switch is actuated, the drive stops automatically and only accepts command values which move away from the limit switch. The deceleration used to brake the drive must be set in the drive. Since the drive only executes CNC motion commands conditionally when a hardware limit switch is operated, position lag and window monitoring are deactivated for NC-controlled homing to the hardware limit switch. The sequence is then as follows: TF5200 | Twin CAT 3 CNC Version: 1.172 77 Axis parameters
## Page 78

Functional settings 1. Motion to hardware limit switch 2. Reversal 3. Referencing the axis either on the falling edge of the limit switch or the falling edge of the limit switch followed by the zero pulse of the encoder (see also P-AXIS-00084 [} 70]). 78 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 79

Functional settings Homing to hardware limit switch with gantry axes NOTICE Homing to hardware limit switch with gantry axes is only possible if the hardware limit switches of all gantry axes (master and slave axes) are mechanically located at the same position. In other words, if the gantry system was aligned straight and moved to the hardware limit switches, they would operate all the switches simultaneously. As opposed to NC-controlled homing to homing switches, homing to hardware limit switches causes a relative motion of the axes to each other during the homing operation. This is because the axes stop automatically when the hardware limit switch is operated and no longer execute the controller motion commands. The relative motion of the axes to each other increases proportionally to the difference in the positions of the hardware limit switches of the individual axes. The sequence described above for a single axis is executed for each gantry system axis. In addition, the gantry system moves away from the hardware limit switches at the end of homing until all the switches are no longer actuated. 3.2.20 Maximum distance for zero pulse search (P-AXIS-00404) P-AXIS-00404 Maximum distance for zero pulse search Description This parameter defines the maximum movement distance that can be moved during zero pulse search if defined. If no zero pulse is latched within the distance defined, homing is aborted and an error message (P-ERR-70380) is output. If this parameter is not present or set to zero this monitoring is not active. This parameter can also be used with homing on encoder overflow (see P- AXIS-00294 [} 73]). Parameter lr_hw[i].zero_pulse_search_max_dist Data type UNS32 Data range 0 ≤ zero_pulse_search_max_dist ≤ MAX(UNS32) Axis types T, R, S Dimension T: 0.1 µm R,S: 0.0001° Default value 0 Drive types ---- Remarks 3.2.21 Delayed activation of zero pulse logic (P-AXIS-00494) P-AXIS-00494 Delayed activation of zero pulse logic Description For CNC-controlled homing (see P-AXIS-00299 [} 74]) the parameter delays the activation of the zero pulse logic after the actuation of the reference switch. This can be useful if the reference cam and the zero pulse are situated closely together and the detection of the zero pulse is therefore not reliably possible. In this case the next or the next but one zero pulse after the reference cam could be detected depending on the actuation speed of the reference cam. Parameter kenngr.shift_offset_zero_pulse_activation Data type UNS32 Data range 0 ≤ shift_offset_zero_pulse_activation ≤ MAX_UNS32 Axis types T, R, S Dimension T: 0.1 µm R,S: 0.0001 ° Default value 0 drive types. Conventional, SERCOS, Terminal, Lightbus, Profidrive, CANopen Remarks TF5200 | Twin CAT 3 CNC Version: 1.172 79 Axis parameters
## Page 80

Functional settings Fig. 4: Detection of different zero impulse positions possible In this case a shift of the activation point for the zero pulse logic ensures that the equal zero pulse is always detected: Fig. 5: Reliable detection of identical zero impulse positions The position offset between operating the reference cam and detecting the zero pulse can be read out after homing using the CNC object 'reference cam - zero pulse offset'. Read position offset after homing under Twin CAT Port: 551 (GEO), Index group: 0x20300 Index-Offset: 0x10000 * (axis_index + 1) + 0x11C (Examples: 1. Axis -> Index Offset 0x1011C, 3. Axis -> Index-Offset 0x3011C ) 80 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 81

Functional settings 3.2.22 Maximum distance during homing (P-AXIS-00412) P-AXIS-00412 Maximum distance during homing Description This parameter defines a maximum distance for homing for spindles and rotary axes. If the maximum permissible homing distance is exceeded, homing is aborted and error message P-ERR-70394 is output. It achieves that homing is aborted if, for example, the reference cam is not found due to a wiring error. This parameter works only for spindles and rotary axes, see P-AXIS-00018 [} 55]. If this parameter is set for linear axes to a value unequal to zero, the error message P- ERR-110545 is output and the parameter is corrected to 0. A value of 0 disables distance monitoring during homing. Parameter kenngr.distc.a_max Data type UNS32 Data range 0 ≤ homing_max_movement_dist ≤ MAX(UNS32) Axis types R, S Dimension R,S: 0.0001 ° Default value 0 drive types. ---- Remarks This parameter has to be set to a value which is at least equal to the modulo range of the axis in order to complete homing successfully. 3.2.23 Maximum distance when moving from reference cam (P- AXIS-00531) P-AXIS-00531 Maximum distance when moving from the reference cam Description This parameter limits the maximum movement distance when moving from the reference cam. Setting this parameter to a value > 0 enables this monitoring. If the set distance is exceeded, the error message P-ERR-70523 is output and homing is aborted. This prevents the movement of the reference cam from being stopped in case of a 'hanging' reference switch. With modulo axes (see P-AXIS-00018 [} 55], ACHS_TYP_ROTATOR or ACHS_TYP_SPINDEL) the set maximum distance must be less than the modulo range, otherwise the error message P-ERR-110600 is output and the value is limited to the modulo range. If a negative value is set, the error message P-ERR-110600 is also output and the value is set to zero. Parameter lr_hw[i].move_from_cam_max_dist Data type SGN32 Data range 0 < P-AXIS-00531 < MAX(SGN32) for translatory axes 0 < P-AXIS-00531 < (P-AXIS-00126 [} 59] - P-AXIS-00127 [} 59]for rotary axes and spindles Axis types T, R, S Dimension T: 0.1 µm R,S: 0.0001° Default value 0 Drive types ---- Remarks TF5200 | Twin CAT 3 CNC Version: 1.172 81 Axis parameters
## Page 82

Functional settings 3.2.24 Homing to fixed stop 3.2.24.1 Velocity (P-AXIS-00333) P-AXIS-00333 Velocity during homing to a fixed stop Description This parameter specifies the velocity of the homing travel during the search for the fixed stop. Parameter getriebe[i].homing.torq_move_velocity Data type UNS32 Data range 1 ≤ torq_move_velocity < P-AXIS-00212 [} 183] Axis types T, R, S Dimension T: µm/s R,S: 0.001°/s Default value 0 Drive types SERCOS, KUKA Remarks 3.2.24.2 Acceleration (P-AXIS-00334) P-AXIS-00334 Acceleration during homing to a fixed stop Description This parameter specifies the acceleration of the homing travel during the search for the fixed stop. Parameter getriebe[i].homing.torq_move_acceleration Data type UNS32 Data range 1 ≤ torq_move_acceleration < P-AXIS-00008 [} 184] Axis types T, R, S Dimension T: mm/s² R,S: °/s² Default value 0 Drive types SERCOS, KUKA Remarks 3.2.24.3 Jerk (P-AXIS-00335) P-AXIS-00335 Jerk during homing to a fixed stop Description This parameter specifies the jerk of the homing travel during the search for the fixed stop. Parameter getriebe[i].homing.torq_move_jerk Data type UNS32 Data range 1 ≤ torq_move_jerk < (P-AXIS-00008 [} 184] / P-AXIS-00196 [} 178]) Axis types T, R, S Dimension T: mm/s³ R,S: °/s³ Default value 0 Drive types SERCOS, KUKA Remarks 3.2.24.4 Minimum distance (P-AXIS-00344) P-AXIS-00344 Minimum distance during homing to a fixed stop Description This parameter specifies the minimum distance up to the detection of the reference position (fixed stop). 82 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 83

Functional settings Parameter kenngr.homing.torq_min_distance Data type SGN32 Data range 0 ≤ torq_min_distance ≤ P-AXIS-00345 [} 83] Axis types T, R, S Dimension T: 0.1 µm R,S: 0.1 µm Default value 0 Drive types SERCOS, KUKA Remarks 3.2.24.5 Maximum distance (P-AXIS-00345) P-AXIS-00345 Maximum distance during homing to a fixed stop Description This parameter specifies the maximum distance up to the detection of the reference position (fixed stop). Parameter kenngr.homing.torq_max_distance Data type SGN32 Data range 0 ≤ torq_max_distance ≤ MAX(SGN32) Axis types T, R, S Dimension T: 0.1 µm R,S: 0.1 µm Default value 0 Drive types SERCOS, KUKA Remarks 3.2.24.6 Direction (P-AXIS-00346) P-AXIS-00346 Direction during homing to a fixed stop Description This parameter specifies the direction of the homing travel during the search for the fixed stop. Parameter kenngr.homing.torq_homing_dir Data type STRING Data range NEGATIVE: Negative direction POSITIVE: Positive direction Axis types T, R, S Dimension T: ---- R,S: ---- Default value NEGATIVE Drive types SERCOS, KUKA Remarks 3.2.24.7 Velocity limit value (P-AXIS-00347) P-AXIS-00347 Velocity limit value during homing to a fixed stop Description This parameter specifies the residual velocity percentage for the detection of the reference position to a fixed stop. The velocity for homing is defined by getriebe[i].homing.torq_move_velocity ( P-AXIS-00333 [} 82]). Parameter kenngr.homing.torq_detect_velocity_limit Data type UNS16 Data range 0 ≤ torq_detect_velocity_limit ≤ 1000 Axis types T, R, S Dimension T: 0.1% R,S: 0.1% TF5200 | Twin CAT 3 CNC Version: 1.172 83 Axis parameters
## Page 84

Functional settings Default value 0 Drive types SERCOS, KUKA Remarks 3.2.24.8 Retraction distance (P-AXIS-00348) P-AXIS-00348 Retraction distance during homing to a fixed stop Description This parameter specifies the retraction distance after detection of the reference position (fixed stop). Parameter kenngr.homing.torq_retraction_distance Data type SGN32 Data range 0 ≤ torq_retraction_distance ≤ MAX(SGN32) Axis types T, R, S Dimension T: 0.1 µm R,S: 0.1 µm Default value 0 Drive types SERCOS, KUKA Remarks 3.2.24.9 Reference position (P-AXIS-00349) P-AXIS-00349 Reference position during homing to a fixed stop Description This parameter specifies the reference position (fixed stop). Parameter kenngr.homing.torq_homing_position Data type SGN32 Data range 0 ≤ torq_homing_position ≤ MAX(SGN32) Axis types T, R, S Dimension T: 0.1 µm R,S: 0.1 µm Default value 0 Drive types SERCOS, KUKA Remarks 3.2.24.10 Minimum time (P-AXIS-00350) P-AXIS-00350 Minimum time during homing to a fixed stop Description This parameter specifies the minimum time for exceeding the torque limit, so the reference position (fixed stop) can be detected. Parameter kenngr.homing.torq_detect_time Data type UNS32 Data range 0 ≤ torq_detect_time ≤ MAX(UNS32) Axis types T, R, S Dimension T: µs R,S: µs Default value 0 Drive types SERCOS, KUKA Remarks 3.2.24.11 Position lag limit for fixed stop detection when homing to a fixed stop (P-AXIS-00819) P-AXIS-00819 Position lag limit for fixed stop detection during homing to a fixed stop 84 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 85

Functional settings Description This parameter defines the position lag that must be exceeded to detect a fixed stop during homing to a fixed stop. If this parameter is unassigned, the parameter P-AXIS-00769 [} 330] is used. If this parameter is also unassigned, the position lag is not used for detection. Parameter kenngr.homing.torq_detect_pos_lag_limit Data type SGN32 Data range 0 ≤ P-AXIS-00819 ≤ MAX(SGN32) Axis types T, R, S Dimension T: 0.1 µm R,S: 0.1 * 10-4 ° Default value 0 Drive types Simulation, SERCOS, CANopen Remarks Parameter available as of V3.1.3080.11 3.2.24.12 Residual torque to detect a fixed stop during homing to a fixed stop (P- AXIS-00820) P-AXIS-00820 Residual torque to detect a fixed stop during homing to a fixed stop Description This parameter defines the percentage torque to detect a fixed stop. It refers to the reduced torque that is written to the drive using the drive identifier for moving to a fixed stop. P-AXIS-00719 [} 323]. If this parameter is zero, the general parameter P-AXIS-00818 [} 333] is used. If this is also zero, torque is not used to detect a fixed stop. Parameter kenngr.homing.torq_detect_torque_limit Data type UNS16 Data range 0 ≤ P-AXIS-00820 ≤ 1000 Axis types T, R, S Dimension T: 0.1% R,S: 0.1% Default value 0 Drive types Simulation, SERCOS, CANopen Remarks This parameter replaces the parameter P-AXIS-00343 [} 407]. Parameter available as of V3.1.3080.11 3.2.24.13 Distance to fixed stop for simulation (P-AXIS-00822) P-AXIS-00822 Distance to fixed stop for simulation Description When a simulation is made for homing to a fixed stop, this parameter specifies the distance to the fixed stop. After the specified distance is travelled, the velocity is reduced in simulation, a position lag is generated and a drive torque is calculated for use in detecting the fixed stop.. Parameter kenngr.homing.torq_distance_to_block Data type UNS32 Data range 0 ≤ P-AXIS-00822 ≤ MAX(UNS32) Axis types T, R, S Dimension T: 0.1 µm R,S: 0.1 * 10-4 ° Default value 0 Drive types Simulation TF5200 | Twin CAT 3 CNC Version: 1.172 85 Axis parameters
## Page 86

Functional settings Remarks If a hard gantry configuration is simulated, make sure that the distance to the fixed stop of the slave axis is set equal to the retraction distance of the master axis (P- AXIS-00348 [} 84]). Parameter available as of V3.1.3080.11 3.2.25 Reference monitoring (antr.reference_check.*) 3.2.25.1 Bit number (P-AXIS-00425) P-AXIS-00425 Bit number of signal 'Drive is referenced' during reference monitoring Description In this parameter enter the number of the bit which is used for transmission of the signal 'Drive is referenced' from the drive to the controller during active reference monitoring. The least significant bit has bit number 0. The maximum value depends on the length of the configured telegram element which is used for transmission. Length of telegram element Max. bit number -1 No reference monitoring 2 15 4 31 Setting the parameter to an invalid bit number leads to the output of error message P- ERR-110549. Parameter antr.reference_check.bit_nr Data type SGN16 Data range 0 ≤ bit_nr ≤ Max. bit number Axis types T, R, S Dimension T: ---- R,S: ---- Default value -1 drive types. SERCOS Remarks This parameter is supported for SERCOS drive types only. 3.2.25.2 Element name (P-AXIS-00426) P-AXIS-00426 Element name of signal 'Drive is referenced' during reference monitoring Description In this parameter enter the name of the element of the cyclic input process data which is used for transmission of the signal 'Drive is referenced' from the drive. When the set-up value of P-AXIS-00426 is not found within the cyclic process, the error message P-ERR-70401 is output. Parameter antr.reference_check.element_name Data type STRING Data range <Empty string>: Reference monitoring is disabled S-0-0135: When the SERCOS state word is used for transmission of the reference signal, the parameter has to be set to 'S-0-0135'… <Telegram_element_Name>: ...or, alternatively, the name of a telegram element configured in the cyclic process data. Axis types T, R, S Dimension T: ---- R,S: ---- Default value * Drive types SERCOS Remarks * Note: The default value of variables is a blank string. 86 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 87

Functional settings Reference monitoring is activated by assigning a value to this parameter. When reference monitoring is activated, the parameter P-AXIS-00425 [} 86] must also be assigned a valid value. At the moment, this parameter is supported for drive type SERCOS only. Changing this parameter by a list update is not possible (P-ERR-110550). 3.2.25.3 Error message suppression on reference loss of non-interpolated axes (P-AXIS-00825) P-AXIS-00825 Suppress error message on reference loss of non-interpolated axes Description When reference monitoring [} 86] (antr.reference_check) is active, the error ID 70400 is output on loss of the reference position.. When P-AXIS-00825 is activated, this error can be suppressed. If the affected axes are interpolated when P-AXIS-00825 is set, the error ID 51082 is output. Parameter lr_param.suppress_reference_lost_error Data type BOOLEAN Data range 0: Error is not suppressed 1: Error is suppressed Axis types T, R, S Dimension T: --- R,S: --- Default value 0 Drive types SERCOS, CANopen Remarks Parameter available as of Builds V2.11.2070, V2.11.2841, V3.1.3080.17 or V3.1.3107.51 3.2.26 Axis remains referenced after resolution change (P- AXIS-00538) P-AXIS-00538 Axis remains referenced after resolution change Description By default the 'referenced' flag of an axis is cleared when the encoder resolution changes, e.g. caused by a gear change. The reason for this behaviour is that, depending on the mechanical design of the axis (mounting place of encoder, mechanical structure of the gearbox, sequence of gearbox switching, etc.), the mechanical axis position can be shifted compared to the position used in the controller. For axis set-ups where it is guaranteed that no such shift can occur during gear switching, this parameter can suppress the reset of the 'referenced' flag when the gear is switched. Parameter kenngr.no_unhome_on_resolution_change Data type BOOLEAN Data range 0: 'Referenced' flag is reset at resolution changes (default). 1: 'Referenced' flag is not reset at resolution changes. Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types ---- TF5200 | Twin CAT 3 CNC Version: 1.172 87 Axis parameters
## Page 88

Functional settings Remarks This parameter is available as of CNC Build V3.01.3052.11 or higher. CAUTION: Using this parameter with axis configurations not suitable for such an application, an offset may occur between the mechanical axis position and the axis position used in the controller. It is the responsibility of the user to check if the conditions for using this parameter are fulfilled. 88 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 89

Functional settings 3.2.27 Transfer reference position for drive-controlled homing to the drive (P-AXIS-00584) P-AXIS-00584 Transfer reference position for drive-controlled homing to the drive Description When the parameter is set, the reference position stored in axis parameter P- AXIS-00152 [} 69] can be transferred to the drive before the start of drive-controlled homing. The sequence is then as follows: 1. Read reference position stored in the drive. 2. If the reference position read in and P-AXIS-00152 [} 69] are not identical, P- AXIS-00152 [} 69] is written to the drive, otherwise no action is taken. 3. The reference position is again read from the drive and compared to P- AXIS-00152 [} 69]. If the reference position read is different from P-AXIS-00152 [} 69], an error message ID70561 is output. The ON_DRIVE_SIDE setting sets the reference position specified in P-AXIS-00152 [} 69] directly in the drive. In contrast, the ON_CNC_SIDE mode takes into account a possible inversion of the direction of axis motion (P-AXIS-00230 [} 247]) or a coarsening of the encoder resolution (P-AXIS-00405 [} 273]) when writing, Parameter kenngr.write_reference_position_to_drive Data type STRING Data range OFF ON_DRIVE_SIDE ON_CNC_SIDE (available as of V3.1.3081.06) Axis types T, R, S Dimension T:---- R,S:---- Default value OFF Drive types SERCOS, CANopen Remarks With SERCOS drives, the encoder used for homing is defined by reading SERCOS parameter S-0-0147. When Bit 0x08 is set in S-0-0147, the external encoder is used for homing. Consequently, S-0-0054 is used to write the reference point position; otherwise (homing to motor encoder) S-0-0052. The parameter is available as of Build V3.1.3068.11. TF5200 | Twin CAT 3 CNC Version: 1.172 89 Axis parameters
## Page 90

Functional settings 3.2.28 Allow drive-controlled homing without controller enable (P- AXIS-00803) P-AXIS-00803 Allow drive-controlled homing without controller enable Description When homing, the CNC checks whether the controller enables are set since the axis normally moves while homing. In special cases an axis movement is not required, and so no setting of the controller enable is required; for example, if only the axis positions are set to a specified value during drive-controlled homing. This parameter sets the function that no message is output in these special cases if homing is started without setting controller enables. Parameter kenngr.homing_without_drive_enable Data type BOOLEAN Data range 0 /1 Axis types Dimension T: S: ---- Default value 0 drive types. SERCOS, CANopen Remarks Parameter available as of Builds V2.11.2057.00, V2.11.2828.00, V3.01.3079.41, V3.1.3107.30 3.2.29 Referencing to limit switch with tracking (P-AXIS-00814) P-AXIS-00814 Referencing to limit switch with tracking Description When referencing to limit switch with tracking, a positive lag occur between the command and actual positions as soon as the referencing the limit switch function is actuated. When the axis moves away from the limit switch, it is therefore “dragged along” for a short time. This parameter prevents this by making the CNC track the setpoints for one cycle after the actual values before moving away from the limit switch. Parameter kenngr.ref_on_limit_switch_with_tracking Data type BOOLEAN Data range 0 / 1 Axis types T, R, S Dimension T: ---- R, S: ---- Default value 0 Drive types Remarks This parameter can only be used practically in combination with P-AXIS-00329 [} 77] (kenngr.ref_cam_is_limit_switch 1). This parameter is available as of CNC Build V3.1.3080.03 or V3.1.3107.36. 3.3 Settings for software limit switch (SLS) monitoring A differentiation is made between the command value and the actual value software limit switch monitoring. The command value software limit switch monitoring takes place in automatic operating mode in the look- ahead function and in manual operating mode in path operation. The actual value software limit switch monitoring is carried out in the position controller. The figure below shows the parameters for software limit switch monitoring. 90 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 91

Functional settings Actual value software limit monitoring Command value software limit monitoring 0 Axis position P-AXIS-00179 P-AXIS-00179 P-AXIS-00177 P-AXIS-00178 Fig. 6: Monitoring of command and actual values for software limit switch. 3.3.1 Tolerance range for software limit switch (P-AXIS-00179) P-AXIS-00179 Tolerance range for software limit switch Description In order to prevent the actual value software limit switch monitoring in the position controller from responding when there is a slight oscillation of an axis (e.g. programmed command position = position of positive software limit switch, actual position > position of positive software limit switch), the software limit switch range in the positive and the negative directions is extended respectively by the parameter. The actual positions must lie within this extended range. Parameter kenngr.swe_toleranz Data type UNS32 Data range 0 ≤ P-AXIS-00179 ≤ MAX(UNS32) Axis types T, R Dimension T: 0.1µm R: 0.0001 ° Default value 1000 Drive types Simulation, Conventional, Terminal, Lightbus, Profidrive Remarks 3.3.2 Positive software limit switch (P-AXIS-00178) P-AXIS-00178 Positive software limit switch Description The parameter defines the possible traverse range in the positive direction (positive software limit switch position). The programmed command positions are always checked on 'kenngr.swe_pos', the actual positions on 'kenngr.swe_pos + kenngr.swe_toleranz'. Parameter kenngr.swe_pos Data type SGN32 Data range P-AXIS-00177 [} 92] < swe_pos < MAX(SGN32) Axis types T, R Dimension T: 0.1µm R,S: 0.0001 ° Default value 100000000 drive types. ---- Remarks The value of the parameter is adopted on reset, mode change and axis replacement from the axis record. TF5200 | Twin CAT 3 CNC Version: 1.172 91 Axis parameters
## Page 92

Functional settings 3.3.3 Negative software limit switch (P-AXIS-00177) P-AXIS-00177 Negative software limit switch Description The parameter defines the possible traverse range in the negative direction (negative software limit switch position). The programmed command positions are always checked on 'kenngr.swe_neg', the actual positions on 'kenngr.swe_neg - kenngr.swe_toleranz'. Parameter kenngr.swe_neg Data type SGN32 Data range MIN(SGN32) < swe_neg < P-AXIS-00178 [} 91] Axis types T, R Dimension T: 0.1µm R: 0.0001 ° Default value -100000000 drive types. ---- Remarks The value of the parameter is adopted on reset, mode change and axis replacement from the axis record. 92 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 93

Functional settings 3.3.4 Activate command position software limit switch monitoring in position controller 3.3.4.1 Monitoring for positive software limit switch (P-AXIS-00520) P-AXIS-00520 Activation of limit switch monitoring of the positive limit switch. Description Command position related software limit switch monitoring is executed during path preparation. This ensures that a programmed movement that crosses a software limit switch is not executed. In certain situations the command position is influenced by circumstances that are not known in the path preparation process and can thus not be detected in the software limit switch operation of the path planning process. Examples for this are the use of the external command position interface on the HLI or axis couplings via the HLI (see HLI or [FCT-A9]). With both these parameters (P-AXIS-00520 and P-AXIS-00521 [} 93]), the position command values of the axis can be monitored in the position controller. When monitoring is active, a check is made in every interpolation cycle that the axis can stop from their current velocity before the software limit switch when it is decelerated with P-AXIS-00003 [} 184]. The software limits used are the actual values of the software limit switches without considering the software limit switch tolerance (P-AXIS-00179 [} 91]). If the software limit switch is crossed, error message ID 70195 is output and the axis is stopped. Parameter lr_param.check_pos_command_limit Data type BOOLEAN Data range 0/1 Axis types T Dimension T: ---- Default value 0 Drive types ---- Remarks 3.3.4.2 Monitoring for negative software limit switch (P-AXIS-00521) P-AXIS-00521 Activation of limit switch monitoring of the negative limit switch. Description Command position related software limit switch monitoring is executed during path preparation. This ensures that a programmed movement that crosses a software limit switch is not executed. In certain situations the command position is influenced by circumstances that are not known in the path preparation process and can thus not be detected in the software limit switch operation of the path planning process. Examples of this are the use of the external command position interface on the HLI or axis couplings via the HLI (see HLI or [FCT-A9]). With both these parameters (P-AXIS-00520 [} 93] and P-AXIS-00521), the position command values of the axis can be monitored in the position controller. When monitoring is active, a check is made in every interpolation cycle that the axis can stop from their current velocity before the software limit switch when it is decelerated with P-AXIS-00003 [} 184]. The software limits used are the actual values of the software limit switches without considering the software limit switch tolerance (P-AXIS-00179 [} 91]). If the software limit switch is crossed, error message ID 70195 is output and the axis is stopped. TF5200 | Twin CAT 3 CNC Version: 1.172 93 Axis parameters
## Page 94

Functional settings Parameter lr_param.check_neg_command_limit Data type BOOLEAN Data range 0/1 Axis types T Dimension T: ---- Default value 0 Drive types ---- Remarks 3.3.5 Behaviour of software limit switches (P-AXIS-00554) P-AXIS-00554 Behaviour of software limit switches Description The axis parameter P-AXIS-00554 can influence the error response of the NC kernel if software limit switches are crossed. The software limit switch monitor can output only warnings instead of errors. Parameter kenngr.swe_behaviour Data type STRING Data range ERROR Crossing software limit switches results in an error already in path preparation. ERROR_LR Crossing software limit switches results in a warning during path preparation. An error is output in the position controller when software limit switches are crossed and this triggers the associated error response. WARNING When software limit switches are crossed, only warnings are output in path preparation and in the position controller. Axis types T, R Dimension T: ---- R: ---- Default value ERROR drive types. ---- Remarks Parameter available as of V3.01.3066 3.3.6 Switching software limit monitoring off / on (P-AXIS-00705) P-AXIS-00705 Switching software limit monitoring off / on Description By default, software limit monitoring is active for translatory axes after completion of homing. The same applies to a rotary axis if the bit ACHSMODE_MODULO is not set in the parameter axis mode (P-AXIS-00015) [} 56] . This parameter switches the software limit switch monitor on or off independent of the axis type (P-AXIS-00018) [} 55] and axis mode [} 56] . The software limit switches are defined by the parameters P-AXIS-00177 [} 92] and P-AXIS-00178 [} 91] . Parameter kenngr.swe_check Data type SGN08 Data range -1: The effectiveness of the software limit switch monitor is dependent on the axis type [} 55] and axis mode [} 56] (default) 0 : Switch off software limit monitoring 1 : Switch on software limit monitoring Axis types T, R Dimension T: ---- R: ---- Default value -1 Drive types ---- Remarks Parameter available as of V3.1.3066 94 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 95

Functional settings 3.4 Settings for measurement This section summarises the axis-specific parameters for measurement. The measurement parameters are used for a specific application. The measurement functions are described in [PROG] in greater detail. 3.4.1 Define axis as measurement axis (P-AXIS-00118) P-AXIS-00118 Define axis as measurement axis Description The parameter must be assigned to TRUE for all axes that participate in a measurement traverse. Parameter kenngr.messachse Data type BOOLEAN Data range 0/1 Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types ---- Remarks 3.4.2 Probe stroke for measurement types 2 and 4 (P-AXIS-00086) P-AXIS-00086 Probe stroke for measurement types 2 and 4 Description Some types of mechanical measuring probes have a limited stroke. After activating the probe, the axis continues to travel by the braking distance which is dependent on the axis speed and the allowed axis deceleration. In order to avoid damage to the probe, the maximum permitted stroke can be parametrised. This parameter is only effective for measurement types 2 and 4 (see P-CHAN-00057). When using these types, the measurement speed is limited in such a way that the braking distance is less than the probe stroke. If measurement speed correction is executed, a warning is output. Parameter kenngr.hub_messtaster Data type UNS32 Data range 0 ≤ hub_messtaster ≤ MAX(UNS32) Axis types T, R Dimension T: 0.1 µm R: 0.0001° Default value 50000 Drive types ---- Remarks A buffer exists between the interpolator and the position controller to calculate the parameters for feedforward control of axes. This results in a dead time between calculating a command value by the interpolator and its execution in the position controller. In the worst case, an error may occur during measurement travel because the interpolator, which monitors the stroke of the measuring probe, ignores the distance components in the buffer. This can be prevented by enlarging the actual measurement probe stroke. 3.4.3 Measurement speed for measurement type 2 (P-AXIS-00215) P-AXIS-00215 Measurement speed for measurement type 2 Description Depending on the application, measurement travel does not take place with the programmed feed, but with the feed defined by this parameter. TF5200 | Twin CAT 3 CNC Version: 1.172 95 Axis parameters
## Page 96

Functional settings Parameter kenngr.vb_messen Data type UNS32 Data range 1 ≤ vb_messen ≤ P-AXIS-00212 [} 183] Axis types T, R Dimension T: µm/s R,S: 0.001°/s Default value 16666 Drive types ---- Remarks This parameter is only used for measurement type 2 [PROG], [[CHAN]. 3.4.4 Measurement travel offset for measurement type 2 (P- AXIS-00114) P-AXIS-00114 Measurement travel offset for measurement type 2 Description The measurement travel offset specifies how much further the axis is allowed to move past the programmed target position if the probe was not yet actuated up to the programmed point of time. Parameter kenngr.mess_offset Data type UNS32 Data range 0 ≤ mess_offset ≤ MAX(UNS32) Axis types T, R Dimension T: 0.1 µm R: 0.0001° Default value 0 Drive types ---- Remarks As of CNC Build V2.11.2010.09 the parameter P-AXIS-00467 [} 96] replaces the parameter P-AXIS-00114. For compatibility reasons, the parameter continues to be available, but it should not be used in new applications because it only has an influence on measurement travels with measurement type 2 (see P-CHAN-00057). The function of P-AXIS-00467 [} 96] is more extensive; it can be used for all measurement types P-CHAN-00057 with the exception of measurement type 3 (optional continue motion up to the target point). 3.4.5 Measurement travel offset for all measurement types (P- AXIS-00467) P-AXIS-00467 Measurement travel offset for all measurement types Description The measurement travel offset defines how much further the axis is allowed to move past the programmed target position if the probe was not yet actuated and the target point is already reached. The parameter is not effective in measurement type 3 (see P-CHAN-00057 [} 96]with optional continue to the target point! Parameter kenngr.probing_offset Data type UNS32 Data range 0 ≤ probing_offset ≤ MAX(UNS32) Axis types T, R Dimension T: 0.1 µm R: 0.0001° Default value 0 Drive types ---- 96 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 97

Functional settings Remarks As of CNC Build V2.11.2010.09 P-AXIS-00467 replaces the parameter P- AXIS-00114 [} 96]. For compatibility reasons, the parameter continues to be available, but it should not be used in new applications because it only has an influence on measurement travels with measurement type 2 (see P-CHAN-00057). The function of P-AXIS-00467 is more extensive; it can be used for all measurement types P-CHAN-00057 with the exception of measurement type 3 (optional continue motion up to the target point). 3.4.6 Measurement signal parameters (kenngr.measure.*) As of CNC Build V2.11.2019.15 the measurement signal parameters P-AXIS-00516/P-AXIS-00517 and P-AXIS-00518 replace some of the previously used measurement parameters. For compatibility reasons, the parameters continue to be available but they should not be used in new applications. 3.4.6.1 Measurement methods (P-AXIS-00516) P-AXIS-00516 Measurement methods Description The parameter defines the source of the probing signal during a measuring travel, e.g. the probing position can be latched in the drive or the probing signal can be provided by the PLC. This setting can also be changed in the NC program by the #MEAS command (see [PROG//Extended programming]. This parameter replaces the following old configuration parameters: • kenngr.mess_signal_taster (P-AXIS-00117 [} 102]) • kenngr.mess_signal_sercos (P-AXIS-00116 [} 102]) • kenngr.mess_signal_achs_steuer (P-AXIS-00115 [} 103]) • kenngr.probing_signal_via_plc (P-AXIS-00257 [} 103]) • kenngr.meas_signal_drive (P-AXIS-00269 [} 104]) • kenngr.meas_signal_fixed_stop (P-AXIS-00330 [} 104]) Parameter kenngr.measure.signal Data type STRING Data range DRIVE_TYPE_DEFAULT PLC FIXED_STOP DRIVE PLC_EXT_LATCH_CONTROL PLC_FIRST_EVENT PLC_TIMESTAMP EXT_PROBE_WITH_DRIVE (as of V3.1.3080.05) Axis types T, R, S Dimension T: ---- R,S: ---- Default value * Drive types ---- Remarks If the parameter P-AXIS-00516 is not defined, the measurement method resulting from previous parameters is used for backward compatibility reasons. * Note: The default value of variables is a blank string. TF5200 | Twin CAT 3 CNC Version: 1.172 97 Axis parameters
## Page 98

Functional settings The meaning of the parameter settings is described in the following table: Value Meaning DRIVE_TYPE_DEFAULT The CNC uses the default measuring method of the given drive type (see table below /*/) PLC This parameter setting reads the probing signal via the Control Unit lr_mc_control.probing_signal on the HLI [HLI]. The probing value is the actual value at the moment of the occurrence of the probing signal. As an alternative, the probing position can be specified directly via the control unit lr_mc_control.probing_position. NOTE: Due to the scanning of the probing signal in the cycle time of the PLC, the accuracy of the probed value is less than the accuracy achieved by using drive-internal probing latches. This setting corresponds to the old parameter kenngr.probing_signal_via_plc (P-AXIS-00257 [} 103]) FIXED_STOP This setting searches for a fixed stop during the measuring traverse. In addition, the measurement type 7 (see P-CHAN-00057) must be selected. CAUTION: The user has to ensure that, during the movement to a fixed stop in the drives affected, a torque limitation is active and that the velocity is low enough. This setting corresponds to the old parameter kenngr.meas_signal_fixed_stop (P-AXIS-00330 [} 104]) DRIVE This parameter defines that the probing signal is supplied by the drive. Additional settings in the drive are required (see [FCT-C4]). This setting corresponds to the old parameters kenngr.mess_signal_taster (P-AXIS-00117 [} 102]), kenngr.mess_signal_sercos (P-AXIS-00116 [} 102]), kenngr.meas_signal_drive (P-AXIS-00269 [} 104]) PLC_EXT_LATCH_- This setting defines that operation requires an external hardware for the CONTROL measurement travel. Therefore the CNC informs the PLC via the external measuring interface about the start and end of a measuring travel so that the PLC can enable or disable the measurement hardware accordingly (see [HLI//Measuring with external probing hardware]). This method specifies the probing signal and the measured position via the control units lr_mc_control.probing_signal and lr_mc_control.probing_position. PLC_FIRST_EVENT This setting corresponds to the value “PLC“. However, the measuring travel stops as soon as the measurement event is detected at an axis measured with this setting. In “PLC mode, however, a measurement event must occur in the control unit lr_mc_control.probing_signal at every measured axis. This setting corresponds to the old parameter kenngr.mess_signal_achs_steuer (P-AXIS-00115 [} 103]) /*/ Drive type dependent default setting for probing signal source (DRIVE_TYPE_DEFAULT ): Drive type (see P-AXIS-00020 [} 54]) Probing signal source default setting 98 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 99

Functional settings Conventional DRIVE Sercos Profidrive Beckhoff Lightbus +-10V via field bus (terminal) RT-Ethernet CANopen CAN-Bus Drive simulation PLC_FIRST_EVENT Virtual axis Permissible measurement methods dependent on drive type: Drive type (see P-AXIS-00020 [} 54]) PLC FIXED_ DRIVE PLC_EXT_ PLC_- STOP LATCH_- FIRST_- CONTROL EVENT Conventional X X X X X Sercos X X X X X Profidrive X X X X - Beckhoff Lightbus X X X X - +-10V via fieldbus (terminal) X X X X - RT-Ethernet X X X X - CANopen X X X X - CAN-Bus X X X X - Drive simulation X X (X)* X X Virtual axis X X (X)* X X (*) Using the measurement simulation (see P-AXIS-00112 [} 353], [PROG//Extended programming]) 3.4.6.2 Number of probing input (P-AXIS-00517) P-AXIS-00517 Number of probing input Description The parameter defines the measuring channel which is used during a measurement travel. When the DRIVE measuring signal is set (see P-AXIS-00516 [} 97]) the selected measuring channel must also be parametrised in the drive (see FCT-C4]). This parameter replaces the old setting antr.probing_input_nbr (P-AXIS-00430 [} 274]). Parameter kenngr.measure.input Data type UNS08 TF5200 | Twin CAT 3 CNC Version: 1.172 99 Axis parameters
## Page 100

Functional settings Data range Valid probing inputs dependent on drive type and probing signal source (see table below): Measurement methods Drive type Probing inputs P-AXIS-00516 [} 97] P-AXIS-00020 PLC_EXT_LATCH_CONTROL all 1 to 255 EXT_PROBE_WITH_DRIVE all 1 to 2 DRIVE SERCOS 1 to 2 CANopen PROFIDRIVE MC Conventional 1 Beckhoff Lightbus +-10V via Fieldbus Real-time (RT)-Ethernet CAN-Bus Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 ** Drive types ---- Remarks *All probing signals which are not listed in the table above do not use the parameter 'Input' for the probing input. **If the parameter P-AXIS-00517 is not specified, the setting in P-AXIS-00430 [} 274] is used for reasons of backward compatibility. 3.4.6.3 Pulse edge (P-AXIS-00518) P-AXIS-00518 Probing signal edge Description The axis parameter defines the edge of the probing signal which is used to latch the position value. The parameter replaces the setting kenngr.mess_neg_flanke (P-AXIS-00113 [} 102]). Parameter kenngr.measure.edge Data type STRING Data range POS: Latching if positive measured signal edge NEG: Latching if negative measured signal edge Axis types T, R, S Dimension T: ---- R,S: ---- Default value * Drive types ---- Remarks If the parameter P-AXIS-00518 is not specified, the setting in P-AXIS-00113 [} 102]is output. * Note: The default value of variables is a blank string. 3.4.6.4 Probing input for edge banding (P-AXIS-00539) P-AXIS-00539 Probing input for edge banding 100 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 101

Functional settings Description By default the same probing input used for probing is also used for edge banding. This parameter configures an alternative probing input for edge banding. When this parameter has no value assigned or is assigned the value 0, the default behaviour applies. The admissible range of the parameter depends on the drive type. This parameter replaces the setting antr.edge_bending_input_nbr (P-AXIS-00353 [} 268]). Parameter kenngr.measure.input_edge_banding Data type UNS08 Data range 0 .. MAX(UNS08) Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 * Drive types SERCOS, Profidrive Remarks This parameter is available as of Build V3.1.ff. If the parameter is assigned a value other than unequal to zero for drive types other than SERCOS and Profidrive, an error message (ID 110614) is output and the parameter is set to 0. If the parameter is assigned an invalid value, an error message (ID 110615) is output and the parameter is set to 0. * If the parameter P-AXIS-00539 is not specified, the setting in P-AXIS-00353 [} 268] is used for reasons of backward compatibility. 3.4.6.5 Drive probing input for PROBE0/1 Keyword (P-AXIS-00583) P-AXIS-00583 Number of the drive-specific probing input assigned to the keyword PROBE0 or PROBE1 in the command #MEAS[INPUT=..]. Description This parameter defines which drive probing input is assigned to the keywords INPUT=PROBE0 and INPUT=PROBE1 in the command #MEAS. Assign parameters to the keywords as follows: Keyword Parameter 'PROBE0' kenngr.measure.probe[0].input 'PROBE1' kenngr.measure.probe[1].input Example: When kenngr.measure.probe[0].input has the value 1, probing input 1 of the drive is used by the NC command #MEAS [AX=X INPUT=PROBE0] on receipt of the next probing command on the X axis. The permissible value range depends on the drive type. If the parameterised value is invalid, the error message ERR-110622 is output and the value is corrected. If no value is parameterised for this parameter, the following default values are used: Parameter Default value kenngr.measure.probe[0].input P-AXIS-00517 [} 99] kenngr.measure.probe[1].input P-AXIS-00539 [} 100] (If P-AXIS-00059 [} 68] has the value 0, the value of P-AXIS-00517 [} 99] is used). Parameter kenngr.measure.probe[i].input Data type SGN16 Data range ---- Axis types T, R TF5200 | Twin CAT 3 CNC Version: 1.172 101 Axis parameters
## Page 102

Functional settings Dimension T: ---- R,S: ---- Default value 0 drive types. Simulation, Conventional, SERCOS, Terminal, Lightbus, Profidrive, CANopen Remarks This parameter is available as of V2.11.2808.00 and higher. 3.4.6.6 Old probing signal parameters (up to CNC Build V2.11.2019.14) To supply the probing signals, one of the following measurement methods can be defined. • a signal of a probe is read in via the hardware interface of the NC kernel (conventional method), • the SERCOS interface outputs a message when the probe signal arrives, • a bit of the axis-specific control bit mask of the position controller is set, • a probe signal is read in via a special HLI control unit, • an internal probing signal is generated if the specified position lag limit is exceeded (fixed stop).. NOTICE If a measurement method is selected, all other measurement methods must be deselected! 3.4.6.6.1 Measurement signal from hardware interface (P-AXIS-00117) P-AXIS-00117 Measurement signal from hardware interface Description This parameter selects the use of the NC kernel hardware interface. Parameter kenngr.mess_signal_taster Data type BOOLEAN Data range 0/1 Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types ---- Remarks 3.4.6.6.2 Pulse edge (P-AXIS-00113) P-AXIS-00113 Pulse edge Description This parameter defines the measurement signal edge at which the actual value counter executes the latch point. Parameter kenngr.mess_neg_flanke Data type BOOLEAN Data range 0: Latch at positive edge of pulse 1: Latch at negative edge of pulse Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types ---- Remarks 3.4.6.6.3 Measurement with SERCOS drives (P-AXIS-00116) P-AXIS-00116 Measurement with SERCOS drives 102 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 103

Functional settings Description Measurement with SERCOS drives can be performed with two different methods. The flag defines the measurement signal to be read in via the SERCOS interface. Parameter kenngr.mess_signal_sercos Data type BOOLEAN Data range 0: Request from a measurement probe 1: Usage of measurement function supplied by the drive (SERCOS measurement) Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types SERCOS Remarks For the measurement with SERCOS drives, the parameters P-AXIS-00060 [} 104] or P-AXIS-00106 [} 105] are also required. 3.4.6.6.4 Measurement signal via axis-specific control bit mask (P-AXIS-00115) P-AXIS-00115 Measurement signal via axis specific control bit mask Description To allow external measurement signals to be taken into account as well, one bit in the axis-specific control bit mask is treated as the measurement signal. This possibility is defined by this parameter. Parameter kenngr.mess_signal_achs_steuer Data type BOOLEAN Data range 0/1 Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types ---- Remarks Measurement method P-AXIS-00117 [} 102] P-AXIS-00116 [} 102] P-AXIS-00115 [} 103] (mess_signal_taster) (mess_signal_ser- (mess_sig- cos) nal_achs_steuer) Drive X - X simulation Conventional X - X drive interface SERCOS X X X drive interface 3.4.6.6.5 Measurement signal via HLI Control Unit (P-AXIS-00257) P-AXIS-00257 Measurement signal via HLI Control Unit Description This parameter can determine that the probing signal is read from the HLI via the control unit lr_mc_control.probing_signal and not via the cyclical drive interface. The probing value is the actual value at the moment of the occurrence of the probing signal. Parameter kenngr.probing_signal_via_plc Data type BOOLEAN Data range 0/1 Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types ---- TF5200 | Twin CAT 3 CNC Version: 1.172 103 Axis parameters
## Page 104

Functional settings Remarks Due to the scanning of the probing signal in the cycle time of the PLC, the accuracy of the probed value is less than the accuracy achieved by using drive-internal probing latches. 3.4.6.6.6 Measurement signal from drive (P-AXIS-00269) P-AXIS-00269 Measurement signal from drive Description This parameter determines if the measurement signal is provided by the drive. Parameter kenngr.meas_signal_drive Data type BOOLEAN Data range 0/1 Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types ---- Remarks 3.4.6.6.7 Measurement with movement to a fixed stop (P-AXIS-00330) P-AXIS-00330 Measurement with movement to a fixed stop Description This parameter enables the measurement signal source 'Fixed stop'. Parameter kenngr.meas_signal_fixed_stop Data type BOOLEAN Data range 0/1 Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types Conventional, SERCOS, Terminal, Lightbus, Profidrive, CANopen Remarks The user must ensure that, during movement to a fixed stop in the drives affected, a torque limitation is active and the velocity is low enough. All other measurement signal sources (e.g. P-AXIS-00116 [} 102]) must be deselected. For measurement with movement to a fixed stop, the parameters P-AXIS-00331 [} 113] or P-AXIS-00332 [} 113] are also required. 3.4.7 Measurement parameters for SERCOS drives 3.4.7.1 SERCOS-status/control bit for measurement (P-AXIS-00060) P-AXIS-00060 SERCOS status/define control bit for measurement Description This entry defines the real time state/control bits used for probing. Parameter kenngr.echtzeit_bit_nr Data type UNS08 104 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 105

Functional settings Data range 0 ≤ echtzeit_bit_nr ≤ 2 The real-time status and control bits are assigned according to the table below: P-AXIS-00060 Control bits Status bits Measurement measurement Measuring probe Enable done activated 0, 1 P-AXIS-00106 2 no entry [} 105] 1 1 1 2 2 2 2 1 Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types SERCOS Remarks It is recommended to set P-AXIS-00060 to either 1 or 2. The value 0 is only for backward compatibility with older version and requires additional settings (P- AXIS-00106 [} 105]). If P-AXIS-00060 is assigned 1 or 2, the entry in P-AXIS-00106 [} 105] is not used. 3.4.7.2 SERCOS-status bit for measurement (P-AXIS-00106) P-AXIS-00106 SERCOS-status bit for measurement Description This bit coded parameter (f. e. 0x0040) defines the status bit for SERCOS measurement which monitors the status of measuring probe activated/not activated. Parameter lr_hw[i].mask_mess_1 Data type UNS16 Data range 0x0040: Status bit 1 0x0080: Status bit 2 Axis types T, R Dimension T: ---- R: ---- Default value 0x0080 Drive types SERCOS Remarks 3.4.7.3 Real-time bits for probe 1 3.4.7.3.1 Name process data 'enable probe 1' (P-AXIS-00675) P-AXIS-00675 Name process data 'enable probe 1' Description This parameter defines the bit that is transferred to a specific cyclical process data element to enable probe 1 to drive SERCOS drives. When one of the real-time control bits of the SERCOS control word is used, this parameter has to be set to 'S-0-0134' or 'S_0_0134'. In all other cases enter the name of the process data element in the process data configuration. If this parameter is used, enter the number of the bit used in P-AXIS-00676 [} 106] . Parameter antr.sercos.probe_1_realtime_bits.start_probing.element_name Data type STRING Data range - Axis types T, R, S Dimension T: ---- R,S: ---- TF5200 | Twin CAT 3 CNC Version: 1.172 105 Axis parameters
## Page 106

Functional settings Default value * Drive types SERCOS Remarks If the configured element name is not found in the process data, an error message P-ERR-110612is output. The axis parameters P-AXIS-00118 [} 95] (messachse) and P-AXIS-00098 [} 116] (kasto_axis) are then reset to prevent the execution of a measurement travel or edge banding with incompletely configured probes. * Note: The default value of variables is a blank string. 3.4.7.3.2 Bit number process data 'enable probe 1' (P-AXIS-00676) P-AXIS-00676 Bit number process data 'enable probe 1' Description This parameter defines which bit in the process data configured with P-AXIS-00675 [} 105] is used to transfer the 'enable probe 1' bit to the drive. The last significant bit has number 0, the maximum value depends on the size of the process data used. When the SERCOS control word is used for transmission of the 'enable probe 1' bit, only bit numbers 6 and 7 can be used (real-time control bits 1 and 2). Parameter antr.sercos.probe_1_realtime_bits.start_probing.bit_nr Data type SGN16 Data range -1 … MAX(SGN16) Axis types T, R, S Dimension T: ---- R,S: ---- Default value -1 Drive types SERCOS Remarks If the bit number configured here is invalid, the error message P-ERR-110613 is output and the axis parameters P-AXIS-00118 [} 95] (messachse) and P-AXIS-00098 [} 116] (kasto_axis) are reset to prevent the execution of a measurement travel or edge banding with incompletely configured probes. 3.4.7.3.3 Name process data 'value latched probe 1' (P-AXIS-00677) P-AXIS-00677 Name process data 'meas value latched probe 1' Description This parameter defines the cyclical process data element in which the drive signals that probe 1 latches a value. When one of the real-time status bits of the SERCOS status is used, this parameter must be set to 'S-0-0135' or 'S_0_135'; in all other cases it must be set to the name of the process data in the process data configuration. If this parameter is used, enter the number of the bit used for transmission in P- AXIS-00678 [} 107] . Parameter antr.sercos.probe_1_realtime_bits.value_latched.element_name Data type STRING Data range - Axis types T, R, S Dimension T: ---- R,S: ---- Default value * Drive types SERCOS 106 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 107

Functional settings Remarks If the configured element name is not found in the process data configuration, the error message P-ERR-110608 and the axis parameters P-AXIS-00118 [} 95] (measuring axis) and P-AXIS-00098 [} 116] (kasto_axis) are reset to prevent the execution of a measurement run or edge banding with incompletely configured probes. * Note: The default value of variables is a blank string. 3.4.7.3.4 Bit number process data 'value latched probe 1' (P-AXIS-00678) P-AXIS-00678 Bit number process data 'value latched probe 1' Description This parameter defines which bit of the process data set up in P-AXIS-00677 [} 106] is used to transfer the information that the drive has latched a value with probe 1. The last significant bit has number 0, the maximum value depends on the size of the process data used. When the SERCOS status word is used for transmission of the 'value latched probe 1' bit, only bit numbers 6 and 7 can be used (real-time status bits 1 and 2). Parameter antr.sercos.probe_1_realtime_bits.value_latched.bit_nr Data type SGN16 Data range -1 … MAX(SGN16) Axis types T, R, S Dimension T: ---- R,S: ---- Default value -1 Drive types SERCOS Remarks If the bit number configured here is invalid, the error message P-ERR-110609 and the axis parameters P-AXIS-00118 [} 95] (measuring axis) and P-AXIS-00098 [} 116] (kasto_axis) are reset to prevent the execution of a measurement run or edge banding with incompletely configured probes. 3.4.7.3.5 Name process data 'probe 1 actuated' (P-AXIS-00679) P-AXIS-00679 Name process data 'probe 1 actuated' Description This parameter defines the cyclical process data in which the drive signals in a bit that probe 1 is actuated. When one of the real-time status bits of the SERCOS status is used, this parameter must be set to 'S-0-0135' or 'S_0_135'; in all other cases it must be set to the name of the process data in the process data configuration. If this parameter is used, enter the number of the bit used for transmission in P- AXIS-00680 [} 108] . Parameter antr.sercos.probe_1_realtime_bits.probe_actuated.element_name Data type STRING Data range - Axis types T, R, S Dimension T: ---- R,S: ---- Default value * Drive types SERCOS Remarks If the configured element name is not found in the process data configuration, the error message P-ERR-110610 and the axis parameters P-AXIS-00118 [} 95] (messachse) and P-AXIS-00098 [} 116] (kasto_axis) are reset to prevent the execution of a measurement travel or edge banding with incompletely configured probes. * Note: The default value of variables is a blank string. TF5200 | Twin CAT 3 CNC Version: 1.172 107 Axis parameters
## Page 108

Functional settings 3.4.7.3.6 Bit number process data 'probe 1 actuated' (P-AXIS-00680) P-AXIS-00680 Bit number process data 'probe 1 actuated' Description This parameter defines which bit of the process data set up in P-AXIS-00679 [} 107] is used to transfer the information that probe 1 is actuated. The last significant bit has number 0, the maximum value depends on the size of the process data used. When the SERCOS status word is used for transmission of the 'probe 1 actuated' bit, only bit numbers 6 and 7 can be used (real-time status bits 1 and 2). Parameter antr.sercos.probe_1_realtime_bits.probe_actuated.bit_nr Data type SGN16 Data range -1 … MAX(SGN16) Axis types T, R, S Dimension T: ---- R,S: ---- Default value -1 Drive types SERCOS Remarks If the bit number configured here is invalid, the error message P-ERR-110611 and the axis parameters P-AXIS-00118 [} 95] (measuring axis) and P-AXIS-00098 [} 116] (kasto_axis) are reset to prevent the execution of a measurement travel or edge banding with incompletely configured probes. 3.4.7.4 Real-time bits for probe 2 3.4.7.4.1 Name process data 'enable probe 2' (P-AXIS-00681) P-AXIS-00681 Name process data 'enable probe 2' Description This parameter defines the bit that is transferred to a specific cyclical process data element to enable probe 2 to drive SERCOS drives. When one of the real-time control bits of the SERCOS control word is used, this parameter has to be set to 'S-0-0134' or 'S_0_0134' and in all other cases to the name of the process data element in the process data configuration. If this parameter is used, enter the number of the bit used in P-AXIS-00682 [} 108] . Parameter antr.sercos.probe_2_realtime_bits.start_probing.element_name Data type STRING Data range - Axis types T, R, S Dimension T: ---- R,S: ---- Default value * Drive types SERCOS Remarks If the configured element name is not found in the process data configuration, the error message P-ERR-110612 and the axis parameters P-AXIS-00118 [} 95] (measuring axis) and P-AXIS-00098 [} 116] (kasto_axis) are reset to prevent the execution of a measurement travel or edge banding with incompletely configured probes. * Note: The default value of variables is a blank string. 3.4.7.4.2 Bit number process data 'enable probe 2' (P-AXIS-00682) P-AXIS-00682 Bit number process data 'enable probe 2' 108 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 109

Functional settings Description This parameter defines which bit in the process data configured with P-AXIS-00681 [} 108] is used to transfer the 'enable probe 2' bit to the drive. The last significant bit has number 0, the maximum value depends on the size of the process data used. When the SERCOS control word is used for transmission of the 'enable probe 2' bit, only bit numbers 6 and 7 can be used (real-time control bits 1 and 2). Parameter antr.sercos.probe_2_realtime_bits.start_probing.bit_nr Data type SGN16 Data range -1 … MAX(SGN16) Axis types T, R, S Dimension T: ---- R,S: ---- Default value -1 Drive types SERCOS Remarks If the bit number configured here is invalid, the error message P-ERR-110613 and the axis parameters P-AXIS-00118 [} 95] (measuring axis) and P-AXIS-00098 [} 116] (kasto_axis) are reset to prevent the execution of a measurement travel or edge banding with incompletely configured probes. 3.4.7.4.3 Name process data 'value latched probe 2' (P-AXIS-00683) P-AXIS-00683 Name process data 'value latched probe 2' Description This parameter defines the cyclical process data element in which the drive signals that probe 2 latches a value. When one of the real-time status bits of the SERCOS status is used, this parameter must be set to 'S-0-0135' or 'S_0_135'; in all other cases it must be set to the name of the process data in the process data configuration. If this parameter is used, enter the number of the bit used for transmission in P- AXIS-00684 [} 109] . Parameter antr.sercos.probe_2_realtime_bits.value_latched.element_name Data type STRING Data range - Axis types T, R, S Dimension T: ---- R,S: ---- Default value * Drive types SERCOS Remarks If the configured element name is not found in the process data configuration, the error message P-ERR-110608 and the axis parameters P-AXIS-00118 [} 95] (measuring axis) and P-AXIS-00098 [} 116] (kasto_axis) are reset to prevent the execution of a measurement travel or edge banding with incompletely configured probes. * Note: The default value of variables is a blank string. 3.4.7.4.4 Bit number process data 'value latched probe 2' (P-AXIS-00684) P-AXIS-00684 Bit number process data 'value latched probe 2' Description This parameter defines which bit of the process data set up in P-AXIS-00683 [} 109] is used to transfer the information that the drive has latched a value with probe 2. The last significant bit has number 0, the maximum value depends on the size of the process data used. When the SERCOS status word is used for transmission of the 'value latched probe 2' bit only bit numbers 6 and 7 can be used (real-time status bits 1 and 2). TF5200 | Twin CAT 3 CNC Version: 1.172 109 Axis parameters
## Page 110

Functional settings Parameter antr.sercos.probe_2_realtime_bits.value_latched.bit_nr Data type SGN16 Data range -1 … MAX(SGN16) Axis types T, R, S Dimension T: ---- R,S: ---- Default value -1 Drive types SERCOS Remarks If the bit number configured here is invalid, the error message P-ERR-110609 and the axis parameters P-AXIS-00118 [} 95] (measuring axis) and P-AXIS-00098 [} 116] (kasto_axis) are reset to prevent the execution of a measurement travel or edge banding with incompletely configured probes. 3.4.7.4.5 Name process data 'probe 2 actuated' (P-AXIS-00685) P-AXIS-00685 Name process data 'probe 2 actuated' Description This parameter defines the cyclical process data in which the drive signals in a bit that probe 2 is actuated. When one of the real-time status bits of the SERCOS status is used, this parameter must be set to 'S-0-0135' or 'S_0_135'; in all other cases it must be set to the name of the process data in the process data configuration. If this parameter is used, enter the number of the bit used for transmission in P- AXIS-00686 [} 110] . Parameter antr.sercos.probe_2_realtime_bits.probe_actuated.element_name Data type STRING Data range - Axis types T, R, S Dimension T: ---- R,S: ---- Default value * Drive types SERCOS Remarks If the configured element name is not found in the process data configuration, the error message P-ERR-110610 and the axis parameters P-AXIS-00118 [} 95] (measuring axis) and P-AXIS-00098 [} 116] (kasto_axis) are reset to prevent the execution of a measurement travel or edge banding with incompletely configured probes. * Note: The default value of variables is a blank string. 3.4.7.4.6 Bit number process data 'probe 2 actuated' (P-AXIS-00686) P-AXIS-00686 Bit number process data 'probe 2 actuated' Description This parameter defines which bit of the process data set up in P-AXIS-00685 [} 110] is used to transfer the information that probe 2 is actuated. The last significant bit has number 0, the maximum value depends on the size of the process data used. When the SERCOS status word is used for transmission of the 'probe 2 actuated' bit, only bit numbers 6 and 7 can be used (real-time status bits 1 and 2). Parameter antr.sercos.probe_2_realtime_bits.probe_actuated.bit_nr Data type SGN16 Data range -1 … MAX(SGN16) Axis types T, R, S Dimension T: ---- R,S: ---- Default value -1 110 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 111

Functional settings Drive types SERCOS Remarks If the bit number configured here is invalid, the error message P-ERR-110611 and the axis parameters P-AXIS-00118 [} 95] (measuring axis) and P-AXIS-00098 [} 116] (kasto_axis) are reset to prevent the execution of a measurement travel or edge banding with incompletely configured probes. 3.4.7.5 Real-time bits for start measurement command 3.4.7.5.1 Name of process data element 'start measurement command' (P- AXIS-00699) P-AXIS-00699 Name of process data element 'start measurement command' Description This parameter defines the cyclical process data in which the bit to start the measurement command 1 for SERCOS drives is transferred to the drive. When one of the real-time control bits of the SERCOS control word is used, this parameter has to be set to 'S-0-0134' or 'S_0_0134' and in all other cases to the name of the process data element in the process data configuration. If this parameter is used, enter the number of the bit used for transmission in P- AXIS-00700 [} 111] . Parameter antr.sercos.probing_command_start.element_name Data type STRING Data range - Axis types T, R, S Dimension T: ---- R,S: ---- Default value * Drive types SERCOS Remarks If the configured element name is not found in the process data configuration, the error message P-ERR-110617 and the axis parameters P-AXIS-00118 [} 95] (measuring axis) and P-AXIS-00098 [} 116] (kasto_axis) are reset to prevent the execution of a measurement travel or edge banding with incompletely configured probes. * Note: The default value of variables is a blank string. 3.4.7.5.2 Bit number of process data element 'start measurement command' (P- AXIS-00700) P-AXIS-00700 Bit number of process data element 'start measurement command' Description This parameter defines which bit in the process data configured with P-AXIS-00699 [} 111] is uxed to transfer the bit to start the measurement command to the drive. The last significant bit has number 0, the maximum value depends on the size of the process data used. When the SERCOS control word is used for transmission of the 'start measurement command'' it, only bit numbers 6 and 7 can be used (real-time control bits 1 and 2). Parameter antr.sercos.probing_command_start.bit_nr Data type SGN16 Data range -1 … MAX(SGN16) Axis types T, R, S Dimension T: ---- R,S: ---- Default value -1 Drive types SERCOS TF5200 | Twin CAT 3 CNC Version: 1.172 111 Axis parameters
## Page 112

Functional settings Remarks If the bit number configured here is invalid, the error message P-ERR-110618 and the axis parameters P-AXIS-00118 [} 95] (measuring axis) and P-AXIS-00098 [} 116] (kasto_axis) are reset to prevent the execution of a measurement run or edge banding with incompletely configured probes. 112 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 113

Functional settings 3.4.8 Parameters for measuring travel on fixed stop 3.4.8.1 Limit for position lag (P-AXIS-00331) P-AXIS-00331 Limit for position lag during movement to a fixed stop Description This parameter specifies the limit for the position lag. After exceeding this limit, the fixed stop is detected and the measuring position is taken over. Parameter kenngr.fixed_stop_pos_lag_limit Data type UNS32 Data range 0 ≤ fixed_stop_pos_lag_limit ≤ MAX(UNS32) Axis types T, R Dimension T: 0.1 µm R: 0.0001° Default value 0 Drive types Conventional, SERCOS, Terminal, Lightbus, Profidrive, CANopen Remarks 3.4.8.2 Number of position control cycles (P-AXIS-00332) P-AXIS-00332 Number of position control cycles during movement to a fixed stop Description This parameter defines the number of position control cycles for the waiting time after exceeding the specified position lag limit P-AXIS-00331 [} 113] before the measured value is determined. If the limit is again exceeded after this time, counting starts from the beginning. Parameter kenngr.fixed_stop_nbr_cycles Data type UNS16 Data range 0 < fixed_stop_nbr_cycles < MAX(UNS16) Axis types T, R Dimension T: Number of interpolation cycles R: Number of interpolation cycles Default value 0 Drive types Conventional, SERCOS, Terminal, Lightbus, Profidrive, CANopen Remarks 3.4.8.3 Position lag limit for fixed stop detection when measuring travel on fixed stop (P-AXIS-00774) P-AXIS-00774 Position lag limit for fixed stop detection when measuring travel on fixed stop Description This parameter defines the position lag that must be exceeded to detect a fixed stop when measuring on a fixed stop. When set to the value 0, the system check of the position lag to detect a fixed stop is deactivated. If this parameter has the value < 0 (default assignment), a check is made whether P- AXIS-00769 [} 330] has the value > 0 and this is used if necessary. If P-AXIS-00769 [} 330] is also < 0, the value of P-AXIS-00331 [} 113] is used to detect the fixed stop. Parameter kenngr.measure.fixed_stop_detect.pos_lag_limit Data type SGN32 Data range MIN(SGN32) < P-AXIS-00774 < MAX(SGN32) Axis types <T, R> Dimension T: 0.1 µm R: .1* 10- 4 ° Default value -1 TF5200 | Twin CAT 3 CNC Version: 1.172 113 Axis parameters
## Page 114

Functional settings Drive types SERCOS, Terminal, Lightbus, Profidrive, CANopen* Remarks *Delete axis types that do not apply! Parameter available as of CNC Build V2.11.2810.01 and higher 3.4.8.4 Minimum time for fixed stop detection when measuring travel on fixed stop (P-AXIS-00775) P-AXIS-00775 Minimum time for fixed stop detection when measuring travel to fixed stop Description This parameter defines the length of time that the test conditions for detection of the fixed stop must be fulfilled when measuring to fixed stop so that the fixed stop is considered to be detected. If this parameter has the value zero (default), the system checks whether P- AXIS-00770 [} 330] has a value > 0 and, if so, this is used. If P-AXIS-00770 [} 330] is also 0, the value of P-AXIS-00332 [} 113] is used as the time limit for fixed stop detection. Parameter kenngr.measure.fixed_stop_detect.min_time Data type UNS32 Data range 0 < P-AXIS-00775 < MAX(UNS32) Axis types <T, R> Dimension T: µs R: µs Default value 0 Drive types ---- Remarks Parameter available as of CNC Build V2.11.2810.01 and higher 3.4.8.5 Minimum path to activate fixed stop detection when measuring travel on fixed stop (P-AXIS-00776) P-AXIS-00776 Minimum path to activate fixed stop detection with Measuring travel on fixed stop Description This parameter defines how far to travel in the measuring block before fixed stop detection is activated. The value specified is a distance within the measuring block. If the value is less than zero, a check is made to see whether the parameter P- AXIS-00771 [} 330] has a value greater than or equal to zero and, if necessary, this is used; otherwise, the value zero is used for this parameter. A value of zero activates fixed stop detection immediately at the start of the block. If P-AXIS-00777 [} 115] is parameterised at the same time, the smaller block motion path defined by the two parameters is used as the minimum path. When measuring with several axes, the smallest block motion path of all axes involved in the measurement is used as the minimum path. Parameter kenngr.measure.fixed_stop_detect.start_distance Data type SGN32 Data range MIN(SGN32) < P-AXIS-00776 < MAX(UNS32) Axis types <T, R> Dimension T: 0.1 µm R: 10-4 ° Default value 0 Drive types ---- Remarks Parameter available as of CNC Build V2.11.2810.01 114 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 115

Functional settings 3.4.8.6 Percentage minimum path for fixed stop detection when measuring travel on fixed stop (P-AXIS-00777) P-AXIS-00777 Minimum path to activate fixed stop detection when measuring travel to fixed stop, specified in per mill of block length Description This parameter defines the distance per mill of the measuring block that must be travelled before fixed stop detection is activated. If the value is less than 0, the system checks whether P-AXIS-00772 [} 331] has a value greater than or equal to zero and, if necessary, this is used; otherwise, fixed stop detection is activated at the start of the block. A value of zero activates fixed stop detection immediately at the start of the block. If P-AXIS-00776 [} 114] is parameterised at the same time, the smaller block motion path defined by the two parameters is used as the minimum path. When measuring with several axes, the smallest block motion path of all axes involved in the measurement is used as the minimum path. The permitted maximum value is 1000. If this value is exceeded at controller start, the warning ID 110757 is output but the value is not automatically corrected. If the parameter is still greater than 1000 at the start of a measuring travel, the error message ID 51026 is output and the program is aborted. Parameter kenngr.measure.fixed_stop_detect.start_distance_per_mille Data type SGN16 Data range MIN(SGN16) < P-AXIS-00777 ≤ 1000 Axis types <T, R> Dimension T: 0.1 % R: 0.1 % Default value -1 Drive types ---- Remarks If the error message ID 51026 is output at the start of a measuring travel and this parameter has a value less than 0, the value of the parameter P-AXIS-00772 [} 331] must be checked. Parameter available as of CNC Build V2.11.2810.xx ?? 3.4.8.7 Maximum position change for fixed stop detection when measuring travel on fixed stop (P-AXIS-00778) P-AXIS-00778 Maximum permitted position change during fixed stop detection when measuring travel to fixed stop Description This parameter defines the maximum path which may be travelled in the time defined by P-AXIS-00775 [} 114] to detect the fixed stop. Together with P- AXIS-00775 [} 114] , an average velocity is defined but this may not be exceeded to detect the fixed stop. If the value is less than 0, the system checks whether P-AXIS-00773 [} 332] has a value greater than or equal to zero and, if necessary, this is used; otherwise, velocity monitoring for fixed stop detection is deactivated. Parameter kenngr.measure.fixed_stop_detect.max_delta_position_window Data type SGN32 Data range MIN(SGN32) < P-AXIS-00778 ≤ MAX(UNS32) Axis types <T, R> Dimension T: 0.1 µ R: 10e-4 ° Default value -1 Drive types ---- Remarks Parameter available as of CNC Build V2.11.2810.xx ?? TF5200 | Twin CAT 3 CNC Version: 1.172 115 Axis parameters
## Page 116

Functional settings 3.4.9 Abortion of measuring order at reset (P-AXIS-00378) P-AXIS-00378 Abortion of measuring order at reset Description This parameter defines whether a measurement order is aborted (e.g. MC_Touch Probe) at reset. When a PLC is cold-started, the ISG motion control platform always aborts all outstanding measurement orders (MC_Abort Trigger). Parameter kenngr.keep_tp_over_reset Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types KUKA Remarks 3.4.10 Actuation time delay of probe (P-AXIS-00487) P-AXIS-00487 Actuation time delay of probe Description This parameter sets the actuation time delay of the probe. When the probe is actuated, the CNC corrects the measured position to compensate for the actuation time delay of the probe. The axis velocity during measurement is considered to be constant. Velocity changes due to acceleration or deceleration processes are not accounted for. Parameter kenngr.probe_actuation_time_delay Data type UNS32 Data range 0 ≤ probe_actuation_time_delay ≤ MAX(UNS32) Axis types T, R, S Dimension T: µs R,S: µs Default value 0 Drive types ---- Remarks 3.5 Activation of edge banding (P-AXIS-00098) P-AXIS-00098 Activation of edge banding Description The parameter serves as a flag to mark physical measurement axes to use the functionality 'edge banding' in freely defined coordinate systems. Parameter kenngr.kasto_achse Data type BOOLEAN Data range 0/1 Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types ---- Remarks This parameter is only used for certain applications [PROG]. 116 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 117

Functional settings 3.6 Gantry mode Additional monitoring mechanisms apply to gantry axes with regard to the deviation of axis positions and special strategies for compensating these deviations. Static (also mechanical) gantry mode is defined by configuration because the axes are firmly coupled to one another due to the machine structure. Dynamic (also programmable) gantry mode can be defined in the NC program. The axis parameters listed in the following table must be assigned depending on the type of gantry mode: Parameter Static Dynamic gantry mode * gantry operation gantry_ax_nr [} 117] X gantry_max_diff_resetable [} 117] X X gantry_max_diff_reset_locked [} 118] X X gantry_offset [} 118] X gantry_vb_korr [} 118] X X gantry_diff_check_without_homing [} 119] X gantry_synchronous_slave_homing [} 119] X (only for SERCOS drives) cnc_controlled_stop_after_error [} 119] X gantry_on_mode [} 120] X gantry_max_homing_dist [} 121] X gantry_slave_no_homing [} 121] X gantry_independent_set_refpos [} 122] X gantry_slave_relative_homing [} 121] X *In static gantry mode the corresponding axis mode bit must additionally be set for the master and slave axes (P-AXIS-00018 [} 55]). 3.6.1 Axis number of master axis (P-AXIS-00070) P-AXIS-00070 Axis number of master axis Description In the axis parameter list of the slave axis the logical number of its master axis is entered. If this parameter is assigned, the master and slave axes are assigned to one another during start-up. This so-called static gantry coupling exists at the position controller level. The slave axis is not known in the channel. A movement is only executed by programming their master axis. Parameter kenngr.gantry_ax_nr Data type UNS16 Data range 1 ≤ gantry_ax_nr ≤ MAX (UNS16) Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types ---- Remarks This entry is not adopted when the axis parameter list is updated. Updates only become effective when the controller is rebooted. 3.6.2 Resettable path distance (P-AXIS-00072) P-AXIS-00072 Resettable path distance Description Maximum permissible path distance between master and slave gantry axes. Error that can be remedied by NC reset. TF5200 | Twin CAT 3 CNC Version: 1.172 117 Axis parameters
## Page 118

Functional settings Parameter kenngr.gantry_max_diff_resetable Data type UNS32 Data range 0 < gantry_max_diff_resetable < MAX(UNS32) Axis types T, R Dimension T: 0.1 µm R,S: 0.0001° Default value 0 Drive types ---- Remarks 3.6.3 Non resettable path distance (P-AXIS-00071) P-AXIS-00071 Non resettable path distance between master and slave axes Description Maximum permissible path distance between master and slave gantry axes. Error that cannot be remedied by NC reset. Parameter kenngr.gantry_max_diff_reset_locked Data type UNS32 Data range 0 < gantry_max_diff_resetable < gantry_ max_diff_reset_locked < MAX(UNS32) Axis types T, R Dimension T: 0.1 µm R: 0.0001° Default value 0 Drive types ---- Remarks 3.6.4 Static offset (P-AXIS-00073) P-AXIS-00073 Static offset between master and slave axes Description Static difference between the master and slave axes in the event of differences between the master and slave axes. The offset sign results from the calculation instruction: OFFSET = SLAVE - MASTER Parameter kenngr.gantry_offset Data type SGN32 Data range MIN(SGN32) < gantry_offset < MAX(UNS3 Axis types T, R Dimension T: 0.1 µm R: 0.0001° Default value 0 Drive types ---- Remarks 3.6.5 Velocity of correction (P-AXIS-00075) P-AXIS-00075 Velocity of correction for compensation of gantry difference Description The parameter defines the velocity at which the axis position of the slave axis is corrected until the distance between master and slave is less than P-AXIS-00073 [} 118] . Parameter kenngr.gantry_vb_korr Data type UNS32 Data range 0 < gantry_vb_korr < P-AXIS-00212 [} 183] Axis types T, R Dimension T: 1µm/s R: 0.001°/s 118 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 119

Functional settings Default value 0 Drive types ---- Remarks 3.6.6 Gantry difference monitoring before homing (P-AXIS-00249) P-AXIS-00249 Gantry difference monitoring before homing Description By default, the position difference between the gantry master and the slave axis is not monitored until both the master and the slave axes have been homed. This parameter activates gantry difference monitoring before homing (gantry_diff_check_without_homing = 1). The parameters P-AXIS-00072 [} 117] and P-AXIS-00071 [} 118] are used as limits during monitoring. The offset between master and slave axis at the time of controller start-up is used for position offset instead of P-AXIS-00073 [} 118] . On completion of homing, the parameter P- AXIS-00073 [} 118] is used as position offset. Parameter kenngr.gantry_diff_check_without_homing Data type BOOLEAN Data range 0/1 Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types ---- Remarks 3.6.7 Drive-controlled homing of gantry axis (SERCOS) (P- AXIS-00253) P-AXIS-00253 Drive-controlled homing of gantry axis (SERCOS) Description With drive-controlled homing (digital drives, SERCOS) the homing procedure is started synchronously for all gantry axes. The user must also ensure that the homing parameter settings are the same for all drives. Parameter kenngr.gantry_synchronous_slave_homing Data type BOOLEAN Data range 0/1 Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types SERCOS Remarks Drive-controlled homing must run identically for both drives (e.g. without cam and distance-coded measurement system). This must be initiated by corresponding parameters. For safety reasons, torque can be reduced during the homing procedure. 3.6.8 CNC-controlled error reaction (P-AXIS-00254) P-AXIS-00254 CNC-controlled error reaction for gantry axes TF5200 | Twin CAT 3 CNC Version: 1.172 119 Axis parameters
## Page 120

Functional settings Description In case of an error, an intelligent drive executes an error reaction independently in most cases and reports this to the CNC. The CNC can then stop other axes in the gantry system running with an incorrect axis. With gantry axes it is not allowed for one axis in the gantry system to stop independently. For this reason the CNC can execute a controlled stop of the complete gantry system in the event of an axis error. The function must be set for the master and the slave axes. A check is made whether the settings for master and slave axes are identical and as required, they are corrected in the slave axes. Parameter kenngr.cnc_controlled_stop_after_error Data type BOOLEAN Data range 0: Drive-internal error reaction 1: CNC-controlled error reaction Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types SERCOS, CANopen Remarks In the case of a CNC-controlled error response, the axis is stopped at the specified emergency stop acceleration P-AXIS-00003 [} 184] (a_emergency). This parameter can be used with SERCOS and CANopen drives. In addition a SERCOS drive must be parameterised so that it does not execute any independent (or only delayed) error response (see Eco Drive P-0-0117). 3.6.9 Conditions for clearing the gantry difference (P-AXIS-00704) P-AXIS-00704 Conditions for clearing the gantry difference Description This parameter determines the conditions for the clearance of the gantry difference. Parameter kenngr.gantry_on_mode Data type STRING Data range Mode Meaning DEFAULT The gantry difference is cleared at reset or when the control unit 'gantry_on' ([HLI]) is set. ONLY_CONTROL_UNIT The gantry difference is only cleared when the drive enables are set, the drive status is 'ready' and the control unit 'gantry_on' is set. EDGE_TRIGGERED The gantry difference is cleared on a rising edge of the control unit 'gantry_on'. The behaviour of this setting is equivalent to the behaviour of a set axis parameter P- AXIS-00261 [} 122]. CONFIG : Deactivates gantry control and prevents the clearing of a gantry difference. Axis types T, R, S Dimension T: ---- R,S: ---- Default value DEFAULT Drive types ---- Remarks When the axis parameter P-AXIS-00261 [} 122] is set, only DEFAULT or EDGE_TRIGGERED are used for P-AXIS-00704, otherwise the error message P- ERR-110606 is output. The parameter is available as of V2.11.2034.02. Gantry difference with mode CONFIG ; Activate config mode #MACHINE DATA [AXNR=4 AXPARAM="kenngr.gantry_on_mode CONFIG"] 120 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 121

Functional settings ; Torque homing of the gantry axes, ; Determination of offset by the user/program ; Deactivate config mode #MACHINE DATA [AXNR=4 AXPARAM="kenngr.gantry_on_mode DEFAULT"] 3.6.10 Maximum path for a gantry slave axis during homing (P- AXIS-00284) P-AXIS-00284 Maximum path for a gantry slave axis during homing Description This parameter limits the permissible movement range of a gantry slave axis during homing. This parameter defines the maximum movement distance of the axis in positive and negative direction relative to the axis position at the start of the axis homing cycle. If the permitted range is exceeded, an error message with ID P- ERR-70229 is output and homing is aborted. Setting this value to 0 deactivates distance monitoring (default). Parameter kenngr.gantry_max_homing_dist Data type SGN32 Data range 0 < gantry_max_homing_dist < MAX(SGN32) Axis types T, R Dimension T: 0.1 µm R: 0.0001° Default value 0 Drive types Simulation, Conventional, Terminal, Lightbus, Profidrive Remarks 3.6.11 Suppress homing for gantry slave axis (P-AXIS-00074) P-AXIS-00074 Suppress homing for gantry slave axis Description This parameter can suppress the homing of gantry slave axes. When homing of the master axis is completed, the reference positions entered in the axis parameter lists of the slave axes are also adopted and monitoring of the gantry difference is started. Parameter kenngr.gantry_slave_no_homing Data type BOOLEAN Data range 0/1 Axis types T, R Dimension T: ---- R: ---- Default value 0 drive types. ---- Remarks This parameter is not supported in the case of spindle axes. 3.6.12 Home gantry slave axis relative to encoder overflow (P- AXIS-00393) P-AXIS-00393 Home gantry slave axis relative to encoder overflow Description When this parameter is set to 1, a gantry slave axis is homed with the following method: At the moment when the master axis position is set, the offset of the slave axis relative to the encoder overflow is determined and the slave axis position is set to P-AXIS-00152 [} 69] + 'distance to encoder overflow'. No homing movement takes place for this axis. The mechanical axis position of the slave axis can be shifted by P-AXIS-00354 [} 73] . Parameter kenngr.gantry_slave_relative_homing TF5200 | Twin CAT 3 CNC Version: 1.172 121 Axis parameters
## Page 122

Functional settings Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks This parameter can only be used if the following conditions are fulfilled: • The slave axis encoder delivers an absolute position within one motor revolution. • The slave axis can never be moved more than half a motor revolution in positive or negative direction with respect to the master axis. If these conditions are not fulfilled, the machine may be damaged! 3.6.13 Behaviour on setting the homing position (P-AXIS-00445) P-AXIS-00445 Behaviour on setting the homing position Description This parameter defines the behaviour on setting the homing position for a gantry slave axis (see [HLI//Control commands of an axis]. Parameter kenngr.gantry_independent_set_refpos Data type BOOLEAN Data range 0: If the home position is set for the master axis, the home position is also set in the same cycle for all gantry slave axes belonging to this master axis. 1: If the parameter is set to 1 for a gantry slave axis, the homing position can be set independently of its master axis. Setting the homing position on the gantry master axis has no influence for this slave axis. Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks 3.6.14 Edge detection Gantry On-signal (P-AXIS-00261) P-AXIS-00261 Edge detection Gantry On signal Description This parameter activates edge detection for the HLI signal MCControl Bool Unit_Gantry On. Further information about MCControl Bool Unit_Gantry On is contained in [HLI]. When the parameter is assigned a value of 1, the gantry difference is only cleared independently of the set correction speed P-AXIS-00075 [} 118] after a rising edge of the signal MCControl Bool Unit_Gantry On. Clearing the gantry difference after a CNC reset is also suppressed. Parameter kenngr.gantry_deskew_trigger Data type BOOLEAN Data range 0/1 Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types ---- Remarks The functionality of this parameter is contained in P-AXIS-00704 [} 120] . For this, P-AXIS-00704 [} 120] (gantry_on_mode) must be set with EDGE_TRIGGERED. 122 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 123

Functional settings 3.7 Monitoring of axis collision 3.7.1 Logical axis number (P-AXIS-00043) P-AXIS-00043 Monitoring of axis collision: Logical axis number Description Logical axis number of the monitored axis. For this axis, the axis mode (P-AXIS-00015) [} 56]) must be set to bit 0x8000. Parameter kenngr.coll_check_ax_nr Data type UNS32 Data range 1 ≤ coll_check_ax_nr < MAX(UNS32) Axis types T Dimension T: ---- Default value 0 drive types. ---- Remarks 3.7.2 Security distance (P-AXIS-00045) P-AXIS-00045 Monitoring of axis collision: Security distance Description Minimum distance between two collision axes. Parameter kenngr.coll_offset Data type UNS32 Data range 1< coll_offset < MAX(UNS32) Axis types T Dimension T: 0.1µm Default value 0 drive types. ---- Remarks 3.7.3 Stopping in all channels in case of drive errors (P-AXIS-00044) P-AXIS-00044 Monitoring of axis collision: Stopping in all channels during drive faults Description If collision axes are assigned to different channels, a stop in all channels can be forced by this parameter if one collision axis reports a drive error. This ensures that an error in the measurement system of an axis does not result in an axis collision. Parameter kenngr.coll_decelerate_chan Data type BOOLEAN Data range 0/1 Axis types T Dimension T: ---- Default value 0 drive types. ---- Remarks 3.7.4 Inverting of moving directions (P-AXIS-00262) P-AXIS-00262 Monitoring of axis collision: Inverting of moving directions TF5200 | Twin CAT 3 CNC Version: 1.172 123 Axis parameters
## Page 124

Functional settings Description If the axes of a collision pair at a programmed movement in the same direction move mechanically in different directions, this parameter must be set to 1. Parameter kenngr.coll_moving_dir_inverted Data type BOOLEAN Data range 0/1 Axis types T Dimension T: ---- Default value 0 drive types. ---- Remarks 3.7.5 Offset of zero positions (P-AXIS-00263) P-AXIS-00263 Monitoring of axis collision: Offset of zero positions Description Enter a possible offset between the zero positions of the collision pair in this parameter. The offset value describes the position of the zero position of the collision partner in the axis coordinate system of the master axis. Parameter kenngr.coll_zero_position_offset Data type SGN32 Data range MIN(SGN32)<coll_zero_position_offset<MAX(SGN32) Axis types T Dimension T: 0.1µm Default value 0 drive types. ---- Remarks 3.7.6 Valid deceleration (P-AXIS-00267) P-AXIS-00267 Monitoring of axis collision: Valid deceleration Description By default, for collision monitoring P-AXIS-00008 [} 184] (a_max) is used to calculate the braking distance and to decelerate the axis if a collision is detected. The parameter P- AXIS-00267 can determine that collision monitoring must be carried out with P- AXIS-00003 [} 184] (a_emergency). Parameter kenngr.coll_use_a_emergency Data type BOOLEAN Data range 0/1 Axis types T Dimension T: ---- Default value 0 drive types. ---- Remarks 124 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 125

Functional settings 3.8 Tracking mode 3.8.1 Maximum feed of compensation movement after deselection (P-AXIS-00208) P-AXIS-00208 Tracking mode: Maximum feed of compensation movement after deselection Description During active tracking, the axis can be moved out of its command position manually. This leads to a difference between the original command position and the current position. If tracking is activated while a program is executed or when manual mode is active, when tracking is deactivated, the axis is moved back to the position where tracking was selected. This can be performed step-shaped (vb_corr_tracking = 0) or with interpolation (vb_corr_tracking != 0). The parameter P-AXIS-00258 [} 125] can suppress this movement. Parameter kenngr.vb_corr_tracking Data type UNS32 Data range 0 ≤ vb_corr_tracking ≤ P-AXIS-00212 [} 183] Axis types T, R, S Dimension T: µm/s R,S: 0.001°/s Default value 0 Drive types ---- Remarks 3.8.2 Maximum difference after deactivation (P-AXIS-00056) P-AXIS-00056 Tracking mode: Maximum difference after deactivation Description After deactivating the tracking operation, the command position of the axis usually deviates from the command position when tracking mode is activated. Before interpolation is continued for an active NC program, this difference in position is reduced in order to be able to process the N program within any offsets. The parameter defines an upper limit for this deviation. If the deviation exceeds this limit, an error message is generated, while deviations lower than this parameter lead to a move back to the stored command position (see P-AXIS-00208 [} 125]). Parameter kenngr.diff_pos_tracking Data type UNS32 Data range 0 ≤ diff_pos_tracking ≤ MAX(UNS32) Axis types T, R, S Dimension T: 0.1 µm R,S: 0.0001° Default value 10000 Drive types ---- Remarks Setting the value to 4294967295 (in version V2.11.20xx) or to a value >= 4000000000 (from CNC version V2.11.2800 onwards) deactivates monitoring of the position difference and moving back to the saved command position. 3.8.3 Keep position offset after tracking (P-AXIS-00258) P-AXIS-00258 Tracking mode: Keep position offset after tracking Description If tracking is activated and deactivated while executing a program or while manual mode is active, the axis is moved back to the position where tracking was selected. This movement can be suppressed with this parameter. Parameter kenngr.tracking_offset_remain TF5200 | Twin CAT 3 CNC Version: 1.172 125 Axis parameters
## Page 126

Functional settings Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks 126 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 127

Functional settings 3.8.4 Acceleration for back-interpolation after tracking mode (P- AXIS-00760) P-AXIS-00760 Acceleration for back-interpolation after tracking mode Description This parameter sets the acceleration which is used to back-interpolate to the selection position on completion of tracking mode. If this parameter is not assigned or the value is zero, the value in P-AXIS-00011 [} 172] is used as acceleration value. If a value is set greater than P-AXIS-00008, [} 184] a warning is output with ID 110651 and the value to limited to P-AXIS-00008 [} 184] . Parameter getriebe[i].a_pos_corr_tracking Data type UNS32 Data range [0 … P-AXIS-00008 [} 184]] Axis types T, R Dimension T: mm/s^2 R: °/s^2 Default value 0 Drive types ---- Remarks 3.9 Gear data The data of the axis parameter list can be classified into gear step-dependent and gear step-independent data. This section describes the parameters for the definition of the gear steps and the gear change positions. 3.9.1 Default gear step number (P-AXIS-00079) P-AXIS-00079 Default gear step number Description This parameter defines the gear step number which is supposed to be active at the time of controller start-up. Parameter kenngr.getriebe_stufe Data type UNS16 Data range 1 ≤ getriebe_stufe < MAX(UNS16) Axis types T, R, S Dimension T: ---- R,S: ---- Default value 1 Drive types ---- Remarks 3.9.2 Default gear step number for C-axis mode (P-AXIS-00052) P-AXIS-00052 Default gear step number for C-axis mode Description This parameter defines the gear step number for C-axis mode. In C-axis mode the axis changes from the spindle interpolator into the path interpolator. In the path interpolator the gear step for the axis changes automatically to the corresponding gear step.. See Tapping (G63) Parameter kenngr.def_cax_gear_st Data type UNS08 TF5200 | Twin CAT 3 CNC Version: 1.172 127 Axis parameters
## Page 128

Functional settings Data range 1 ≤ def_cax_gear_st < MAX(UNS16) Axis types R, S Dimension R,S: ---- Default value 1 drive types. ---- Remarks 128 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 129

Functional settings 3.10 Settings for SAI (Single Axis Interpolation) The following parameters are only necessary if the axis is operated as SAI-axis. 3.10.1 Configuration of a SAI-axis (P-AXIS-00250) P-AXIS-00250 Configuration of a SAI axis for PLCopen Description For the PLCopen specific axis characteristic, the SAI must not only be configured for spindle axes but also for translatory and rotary axes. This is controlled by the parameter. Parameter kenngr.configure_sai Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks 3.10.2 Requesting of a SAI axis at RESET (P-AXIS-00251) P-AXIS-00251 Requesting of a SAI axis at RESET Description An SAI (or spindle) can be commanded via #PUTAX by a channel to release its axis. If the SAI receives a RESET from the same channel and it has no axis under control, this SAI requests the axis again automatically. Parameter kenngr.auto_call_ax Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks 3.10.3 Moving to a target position after reversal of direction (P- AXIS-00252) P-AXIS-00252 Moving to a target position after reversal of direction for PLCopen Description For PLCopen axes this parameter defines the mode of movement to a new target position after reversal of direction. Parameter kenngr.consider_total_brake_dist Data type BOOLEAN Data range 0: Determining of the new target position by modulo calculation after reversal of direction. 1: On reversal of the turning direction the target position is approached by moving back along the entire braking distance and then moving to the target position. Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- TF5200 | Twin CAT 3 CNC Version: 1.172 129 Axis parameters
## Page 130

Functional settings Remarks 3.10.4 Switching off superimposed interpolator (P-AXIS-00287) P-AXIS-00287 Switching off superimposed interpolator for PLCOpen Description For PLCOpen functionality 'superimposed movement' in a Single Axis Interpolator, a second interpolator is supplied for the superimposed movement. If this functionality is not needed, the second interpolator can be disabled in order to save calculation time. By default the second interpolator is switched off. Parameter kenngr.disable_super_imposed Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks 3.10.5 Synchronising PLCopen axes with exact stop (P-AXIS-00826) P-AXIS-00826 Synchronising PLCopen axes in the channel with exact stop Description This parameter defines whether an axis in the channel commanded by a PLCopen command is to be synchronised by a programmed Exact stop G60/ G360. Parameter kenngr.synchronize_sai_with_exact_stop Data type BOOLEAN Data range 0 / 1 Axis types T, R Dimension T: ---- R: ---- Default value 1 Drive types - Remarks Parameter available as of V3.1.3080.13 and V3.1.3107.51 3.10.6 Enable decoupling of the drive of an axis (P-AXIS-00489) P-AXIS-00489 Enable decoupling of the drive of an axis for PLCopen Description As part of PLCopen, P-AXIS-00489 allows the setting whether the drive of an axis can be decoupled for a mechanical drive exchange. If decoupling is commanded, although this is not allowed, an error message is generated. Parameter kenngr.enable_decouple Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks 130 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 131

Functional settings 3.10.7 Camming/Gearing (cam_gear.*) With camming or gearing is used, a movement is synchronised between two axes. The movement relation between the two axes is defined either by a constant factor (gearing) or by a table which defines the slave axis positions dependent on the master axis positions (camming). To generate this synchronous movement, the axes must first be speed-synchronised. The following parameters define the conditions when speed synchronisation is finished. 3.10.7.1 Define axis as Camming / Gearing -Master (P-AXIS-00288) P-AXIS-00288 Define axis as Camming / Gearing -Master Description If the spindle or the SAI is used as master axis of a synchronous movement, this parameter has to be set to 1. Parameter cam_gear.is_master Data type BOOLEAN Data range 0: Axis is not master 1: Axis is master Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks 3.10.7.2 Velocity tolerance range (P-AXIS-00289) P-AXIS-00289 Velocity tolerance range for camming / gearing Description This parameter defines the permissible velocity difference for considering the axes as synchronous in velocity. Parameter cam_gear.v_diff_percent Data type UNS16 Data range 0 ... 1000 Axis types T, R, S Dimension T: 0.1% R,S: 0.1% Default value 100 Drive types ---- Remarks 3.10.7.3 Minimum time in tolerance range for speed synchronisation (P- AXIS-00290) P-AXIS-00290 Minimum time in tolerance range for speed synchronisation for camming / gearing Description Time wchih the axis must be in the tolerance range defined in P-AXIS-00289 [} 131] Until it is considered speed-synchronous. Parameter cam_gear.time_in_window Data type UNS32 Data range 0 ... MAX(UNS32) Axis types T, R, S Dimension T: µs R,S: µs Default value 8000 TF5200 | Twin CAT 3 CNC Version: 1.172 131 Axis parameters
## Page 132

Functional settings Drive types ---- Remarks 3.10.7.4 Maximum time for velocity synchronisation (P-AXIS-00291) P-AXIS-00291 Maximum time for velocity synchronisation for camming / gearing Description Maximum permissible time for synchronisation. If synchronisation is not reached within the time set in this parameter, synchronisation is stopped and an error message is output. Parameter cam_gear.time_out_in_window Data type UNS32 Data range 0 ... MAX(UNS32) Axis types T, R, S Dimension T: µs R,S: µs Default value 1000000 Drive types ---- Remarks 3.10.7.5 Average value filter for current master velocity (P-AXIS-00300) P-AXIS-00300 Average value filter for current master velocity for camming / gearing Description This parameter activates the arithmetic average value filter for the mast actual velocity. 0 – inactive 1 – active This parameter is used for gearing at the current master velocity. Parameter cam_gear.mv_type Data type UNS16 Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks 3.10.7.6 Number of scanning cycles for average value filter (P-AXIS-00301) P-AXIS-00301 Number of scanning cycles for average value filter for camming / gearing Description Number of scanning cycles for filtering of the current master velocity. This parameter is used for gearing at the current master velocity. Parameter cam_gear.mv_nbr_cycles Data type UNS32 Data range 1 ... 100 Axis types T, R, S Dimension T: Number of interpolation cycles R,S: Number of interpolation cycles Default value 0 Drive types ---- Remarks 132 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 133

Functional settings 3.10.7.7 Delay time on gearing with current master velocity (P-AXIS-00302) P-AXIS-00302 Delay time on gearing with current master velocity for camming / gearing Description Parameter of delay time compensation for gearing with current master velocity. This parameter must be determined for a specific system because it depends on axis filters and delay times in the (digital) drive. This parameter is used for gearing with the current master velocity. Parameter cam_gear.delay_time Data type UNS32 Data range 0 ... 1E+7 Axis types T, R, S Dimension T: µs R,S: µs Default value 0 Drive types ---- Remarks 3.10.7.8 Maximum commanded velocity for slave axis (P-AXIS-00303) P-AXIS-00303 Maximum commanded velocity for slave axis for camming / gearing Description Limit of commanded velocity for a slave axis during velocity synchronisation (for camming and gearing) and during synchronous camming. Parameter cam_gear.v_max_slave Data type UNS32 Data range 1 ... MAX(UNS32) Axis types T, R, S Dimension T: µm/s R,S: µm/s Default value 1 Drive types ---- Remarks 3.10.7.9 Maximum commanded acceleration for slave axis (P-AXIS-00304) P-AXIS-00304 Maximum commanded acceleration for slave axis for camming / gearing Description Maximum permitted commanded acceleration for a slave axis during synchronous gearing. Parameter cam_gear.a_max_slave Data type UNS32 Data range 1 ... MAX(UNS32) Axis types T, R, S Dimension T: mm/s² R,S: mm/s² Default value 1 Drive types ---- Remarks 3.10.7.10 Velocity for phase synchronisation (P-AXIS-00305) P-AXIS-00305 Velocity for phase synchronisation for camming / gearing Description Velocity for phase synchronisation at camming. Parameter cam_gear.v_phasing Data type UNS32 Data range 1 ... P-AXIS-00212 [} 183] / 2 TF5200 | Twin CAT 3 CNC Version: 1.172 133 Axis parameters
## Page 134

Functional settings Axis types T, R, S Dimension T: µm/s R,S: µm/s Default value 1 Drive types ---- Remarks 3.10.7.11 Acceleration for phase synchronisation (P-AXIS-00306) P-AXIS-00306 Acceleration for phase synchronisation for camming / gearing Description Acceleration for phase synchronisation at camming. Parameter cam_gear.a_phasing Data type UNS32 Data range 1 ... P-AXIS-00008, [} 184] / 2 Axis types T, R, S Dimension T: mm/s² R,S: mm/s² Default value 1 Drive types ---- Remarks 3.10.7.12 Deceleration for phase synchronisation (P-AXIS-00307) P-AXIS-00307 Deceleration for phase synchronisation for camming / gearing Description Deceleration for phase synchronisation at camming. Parameter cam_gear.d_phasing Data type UNS32 Data range 1 ... P-AXIS-00008, [} 184] / 2 Axis types T, R, S Dimension T: mm/s² R,S: mm/s² Default value 1 Drive types ---- Remarks 3.10.7.13 Jerk for phase synchronisation (P-AXIS-00376) P-AXIS-00376 Jerk for phase synchronisation for camming / gearing Description Jerk for phase synchronisation at camming. Parameter cam_gear.j_phasing Data type UNS32 Data range 1 ... (P-AXIS-00008, [} 184] / 2) / P-AXIS-00201 [} 185]) Axis types T, R, S Dimension T: mm/s³ R,S: mm/s² Default value 10 Drive types ---- Remarks 3.10.7.14 Jerk for velocity synchronisation (P-AXIS-00377) P-AXIS-00377 Jerk for velocity synchronisation for camming / gearing Description Jerk for velocity synchronisation at camming. 134 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 135

Functional settings Parameter cam_gear.j_vel_sync Data type UNS32 Data range 1 ... (P-AXIS-00008 [} 184] / 2) / P-AXIS-00201 [} 185]) Axis types T, R, S Dimension T: mm/s³ R,S: mm/s² Default value 1000 Drive types ---- Remarks 3.10.7.15 Coupling behaviour on error from position control (P-AXIS-00308) P-AXIS-00308 Coupling behaviour on error from position control for camming / gearing Description Handling of cam/gear coupling on emergency stop. Parameter cam_gear.keep_coupling_on_lr_error Data type BOOLEAN Data range 0: The camming/gearing coupling in the slave axis is detached on emergency stop. The axis is decelerated with the current limit parameter. 1: The camming/gearing coupling in the slave axis is maintained on emergency stop. Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks 3.10.7.16 Coupling behaviour on feed enable drop (P-AXIS-00309) P-AXIS-00309 Coupling behaviour on feed enable drop for camming / gearing Description Handling of camming/gearing coupling when 'Feed_enable' drops. Parameter cam_gear.keep_coupling_on_fe_drop Data type BOOLEAN Data range 0: The camming/gearing coupling in the slave axis is detached when ‘feed enable’ watchdog drops. The axis is decelerated with the current limit parameter and switched to error state. 1: The camming/gearing coupling in the slave axis is maintained when ‘feed enable’ watchdog drops. The safety state has to be reached by stopping the master axis. Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks 3.10.7.17 Permissible acceleration of master actual position (P-AXIS-00437) P-AXIS-00437 Permissible acceleration of master actual position for camming / gearing Description This parameter specifies the permissible acceleration limit for a gear coupling based on actual values (MC_Gear In, see [MCP-P1]). The master actual position is extrapolated if the given acceleration is exceeded. The acceleration limit is specified for the slave axis as a factor related to its maximum axis acceleration (see P- AXIS-00008 [} 184] ). Parameter cam_gear.fact_a_max_correction TF5200 | Twin CAT 3 CNC Version: 1.172 135 Axis parameters
## Page 136

Functional settings Data type UNS32 Data range 0 < fact_a_max_correction < MAX(UNS32) Default value: 1500 (150%) Axis types T, R, S Dimension T: 0.1% R,S: 0.1% Default value 1500 Drive types ---- Remarks 136 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 137

Functional settings 3.10.7.18 Error response of the master axis when the coupling is active (P- AXIS-00564) P-AXIS-00564 Error response of the master axis on camming or gearing Description This parameter defines whether the master axis stops with the same error response on occurrence of an error on the slave axis when a coupling is active. Parameter cam_gear.error_stop_master Data type BOOLEAN Data range 0: The master axis is not stopped on occurrence of an error on the slave axis 1: The master axis stops with the same error response on occurrence of an error on the slave axis Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks If this parameter is set to the value 1, the master and slave axes must use the same emergency stop deceleration (see P-AXIS-00254 [} 119], P-AXIS-00002 [} 178], P- AXIS-00197 [} 179], P-AXIS-00198 [} 179]) 3.10.7.19 Error response of the slave axis when the coupling is active (P- AXIS-00565) P-AXIS-00565 Error response of the slave axis on camming or gearing Description This parameter defines whether the slave axis also stops with the same error response on occurrence of an error on the master axis when a coupling is active. Parameter cam_gear.error_stop_slave Data type BOOLEAN Data range 0: The slave axis does not stop by itself if there is an error on the master axis The coupling to the master axis is retained. 1: The slave axis stops with the same error response on occurrence of an error on the master axis Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks If this parameter is set to the value 1, the master and slave axes must use the same emergency stop deceleration (see P-AXIS-00254 [} 119], P-AXIS-00002 [} 178], P- AXIS-00197 [} 179], P-AXIS-00198 [} 179]) 3.11 Velocity monitoring 3.11.1 Velocity limit during active monitoring of current velocity (P- AXIS-00311) P-AXIS-00311 Velocity limit during active monitoring of current velocity TF5200 | Twin CAT 3 CNC Version: 1.172 137 Axis parameters
## Page 138

Functional settings Description If velocity monitoring is activated by P-AXIS-00312 [} 138] (enable_speed_monitoring), then the current velocity of rotary axes is monitored at this limit. Translator axes are monitored according to EN775 at a fixed limit of 250 mm/s. If the parameter is 0 or does not exist, then monitoring is carried out with P-AXIS-00268 [} 71] (vb_not_referenced). If the limit is exceeded, movement is stopped with emergency stop ramp. Parameter getriebe[i].vb_monitor Data type UNS32 Data range 1 ≤ vb_monitor < MAX(UNS32) Axis types T, R, S Dimension T: µm/s R,S: 0.001°/s Default value 0 Drive types ---- Remarks 3.11.2 Activation of speed monitoring (P-AXIS-00312) P-AXIS-00312 Activation of speed monitoring Description Monitoring of current speed can be activated with this parameter. The maximum permissible speed is set with P-AXIS-00311 [} 137] (vb_monitor). Parameter kenngr.enable_speed_monitoring Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks 3.11.3 Activation of feed enable via PLC (P-AXIS-00313) P-AXIS-00313 Activation of feed enable via PLC Description If feed enable is controlled via PLC, then this parameter must be activated. If this parameter is set, the feed enable watchdog of the PLC-interface is evaluated. If this watchdog is not triggered, the interpolator stops on the path via feedhold. Parameter kenngr.enable_feed_enable Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks 3.11.4 Speed monitoring during torque limitation (P-AXIS-00314) P-AXIS-00314 Speed monitoring during torque limitation Description When torque limit mode is activated, the actual velocity is monitored at this maximum permissible velocity. If the parameter is equal to 0 or is not specified, monitoring is carried out by P-AXIS-00212 [} 183] (vb_max). 138 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 139

Functional settings Parameter getriebe[i].vb_torq_limit_max Data type UNS32 Data range 1 ≤ vb_torq_limit_max < MAX(UNS32) Axis types T, R, S Dimension T: µm/s R,S: 0,001°/s Default value 0 Drive types SERCOS Remarks When this parameter is set to 0, P-AXIS-00212 [} 183] (vb_max) is used for monitoring. TF5200 | Twin CAT 3 CNC Version: 1.172 139 Axis parameters
## Page 140

Functional settings 3.12 Behaviour when enabling the drive controller 3.12.1 Max. allow. relieve position difference when enabling drive controller (P-AXIS-00108) P-AXIS-00108 Maximum permissible position difference when setting the enables of the drive controller Description By setting the enables of the drive controller, the position control circuit of the axis is closed and the axis attempts to approach the currently set command value as soon as possible. If this command value differs from the actual value, an abrupt stimulation of the drive occurs. In order to limit the resulting axis movement, the position difference is monitored for compliance with a limit value. If the actual difference between command and actual position is greater than the specified value when setting the drive enables, an error message is generated. The difference is not cleared. The difference is cleared depending on P-AXIS-00327 [} 140] either in a step- shaped (P-AXIS-00327 [} 140] = 0) or an interpolated fashion (P-AXIS-00327 [} 140] = 1) with the dynamic parameters set in P-AXIS-00208 [} 125] and P-AXIS-00011 [} 172] . Parameter kenngr.max_diff_soll_ist Data type SGN32 Data range 0 < max_diff_soll_ist < MAX(SGN32) Axis types T, R, S Dimension T: 0.1µm R,S: 0.0001 ° Default value 10000 Drive types ---- Remarks 3.12.2 Relieve position difference when enabling drive controller (P- AXIS-00327) P-AXIS-00327 Relieve position difference when enabling drive controller Description If a drive is enabled, it moves from its actual position to the command position. If the difference between actual and command position is less than P-AXIS-00108 [} 140] , this position difference is cleared in one single set. The parameter P-AXIS-00327 can achieve that the position difference is cleared on a linear slope profile. Here the following dynamic parameters are used: - Velocity of the movement: P-AXIS-00208 [} 125] - Acceleration of the movement: P-AXIS-00011 [} 172] A reset during the correction movement aborts this movement in compliance with the dynamic parameters mentioned above. A channel specific feedhold leads to a stop of the correction movement if the axis is attached to a channel. If the axis is not attached to a channel, an axis-specific feedhold or an axis-specific override 0 leads to an interruption of the correction movement Program start or continuation of a program takes place after the correction movement is finished. Parameter kenngr.pos_corr_drive_enable Data type BOOLEAN Data range 0/1 140 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 141

Functional settings Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types SERCOS, CANopen, KUKA, Profidrive Remarks 3.12.3 Ignore feedhold at position correction after drive enable (P- AXIS-00356) P-AXIS-00356 Ignore feedhold at position correction after drive enable Description This parameter determines if a position correction after drive enable (see also P- AXIS-00327 [} 140]) can be interrupted with axis- or channel-specific feedhold. If this parameter has the value 1, a position correction can not be stopped with feedhold. Parameter kenngr.pos_corr_ignore_feedhold Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types SERCOS, Lightbus Remarks 3.13 Tolerance window for IIR axis filter (P-AXIS-00351) P-AXIS-00351 Tolerance window for IIR axis filter Description This parameter defines the position tolerance within which the IIR axis filters (infinite impulse response axis filter) are treated as 'position reached': Abs(unfiltered command value - filtered command value) < P-AXIS-00351 If IIR axis filters are activated, the system waits for the filters to reach the tolerance window during reset, axis position request or exact stop. Parameter kenngr.filter_position_window Data type REAL64 Data range 0.01 ≤ filter_position_window Axis types T, R, S Dimension T: 0.1 µm R,S: 0.0001° Default value 0.4 Drive types ---- Remarks TF5200 | Twin CAT 3 CNC Version: 1.172 141 Axis parameters
## Page 142

Functional settings 3.14 Tolerance window for IIR axis filter after feedhold (P- AXIS-00780) P-AXIS-00780 Tolerance window for stopping the IIR axis filter after feedhold Description This parameter specifies the position tolerance within which the starting position of the IIR axis filter (infinite impulse response axis filter) is treated as “position reached”. The filter state is then more or less “frozen”. In this state the following applies: Abs(unfiltered command value - filtered command value) < P-AXIS-00780 The parameter is only effective in combination with feedhold. The CNC ensures at the transition point that the maximum permissible axis acceleration is not exceeded. When IIR axis filters are activated and feedhold is commanded, i.e. also at CNC reset, the system checks whether the tolerance window is reached and, if so, the filter state is “frozen”. Important The existing position difference between filter output and filter input is then reduced when the axis makes its next movement. If P-AXIS-00780 is assigned the value 0, the function is inactive. Parameter kenngr.filter_position_window_feedhold Data type REAL64 Data range 0.01 <= P-AXIS-00780 Axis types T, R Dimension T: 0.1µm R: 0.0001 ° Default value 0.4 Drive types ---- Remarks Possible application: Depending on the parameterisation, certain filter types, e.g. band stops, tend to post-oscillate and this can lead to undesired axis movements. For example, safety functions may disable drive release at a specific time after feedhold is commanded. If there are still movements after this time due to post- oscillating axis filters, the result may be axis-specific errors from the CNC. Parameter available as of CNC Build V3.1.3079.17 or V3.1.3107.10. 3.15 Settings for velocity override 3.15.1 Maximum permissible velocity override (P-AXIS-00109) P-AXIS-00109 Maximum permissible velocity override Description This parameter is used for axis-specific override limitation. It is used for independent axes and for spindles. Parameter kenngr.max_vb_override Data type UNS16 Data range 1 ≤ max_vb_override ≤ 2000 (Maximum velocity override in axis, Plausibility limit, application-specific) 142 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 143

Functional settings Axis types T, R, S Dimension T: 0.1% R,S: 0.1% Default value 1000 Drive types ---- Remarks The term independent axes covers all functions comprising single axis interpolators (INDP, SAI) except for manual mode. 3.15.2 Mode of velocity override (P-AXIS-00491) P-AXIS-00491 Velocity override mode to select active override interface Description This parameter enables the selection of the effective override interface(s) of independent axes. Parameter kenngr.indp_override_mode Data type UNS16 Data range 0: Feed override from channel interface (default). 1: Minimum feed override from channel and axis interface 2: Feed override from axis interface Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types ---- Remarks The term independent axes covers all functions comprising single axis interpolators (INDP, SAI) except for manual mode. TF5200 | Twin CAT 3 CNC Version: 1.172 143 Axis parameters
## Page 144

Functional settings 3.16 Settings for feed rate influencing 3.16.1 Feedhold mode (P-AXIS-00540) P-AXIS-00540 Feedhold mode to select the active feedhold interface Description This parameter enables the selection of the effective feedhold interface(s) of independent axes. Parameter kenngr.indp_feedhold_mode Data type UNS16 Data range 0: Feedhold from channel and axis interface (default). 1: Feedhold from axis interface Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types ---- Remarks The term independent axes covers all functions comprising single axis interpolators (INDP, SAI) except for manual mode. This does not affect the function of internal feedhold interfaces (e.g. CNC reset). For manual mode, the effect of feedhold control signals can be defined by the parameter P-AXIS-00529 [} 343] . 3.16.2 Effective deceleration value with feedhold (P-AXIS-00556) P-AXIS-00556 Effective deceleration value with feedhold Description This parameter is used to select the effective deceleration when feedhold is active for spindles and independent axes. With spindles, the acceleration/deceleration values are always parameterised under the parameters for the jerk-limited slope profile. The effect on single axes in the channel is dependent on P-CHAN-00097. Parameter kenngr.feedhold_deceleration_mode Data type STRING 144 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 145

Functional settings Data range DEFAULT_DECELERATION: Deceleration takes place at the default deceleration value (defaults). Related parameters: - P-AXIS-00282 [} 173], P-AXIS-00283 [} 173], step-shaped profile - P-AXIS-00002 [} 178], jerk-limited profile FEEDHOLD_DECELERATION: Deceleration takes place at the feedhold deceleration value. Related parameters: - P-AXIS-00024 [} 176], step-shaped profile - P-AXIS-00053 [} 180], jerk-limited profile MIN_TOOL_ACC_FEEDHOLD_DECELERATION: This value is only effective with spindle axes. Deceleration takes place at the minimum of the maximum permissible acceleration of the active tool and the feedhold deceleration. Related parameters: - P-TOOL-00015, P-AXIS-00053 [} 180] Axis types T, R Dimension T: ---- R: ---- Default value DEFAULT_DECELERATION: Drive types ---- Remarks The term single axes here comprises the functions with single axis interpolators. This includes independent axes and manual mode axes. If there is no spindle axis, this axis-specific parameter is only effective if the channel- specific parameter P-CHAN-00097 is set to 0. 3.17 Reduced speed For safety functionalities or setup operations. the PLC can command a switchover to a reduced axis feed to the CNC. 3.17.1 Reduced maximum speed at active G01 (P-AXIS-00214) P-AXIS-00214 Reduced maximum speed with active G01 Description The PLC uses a control signal to command the CNC to switch over to a reduced axis feed. The control signal is sent by the “Reduced speed“ control unit. The reaction is in real time. After a deceleration which may be required, none of the moved axes moves faster than the parameter input. The active G01 deceleration value is used for the braking operation. If the deceleration value is changed in the NC program (#VECTOR LIMIT, G130, G131), it affects the braking operation. This parameter defines the reduced axis speed, even if manual mode is active. Parameter getriebe[i].vb_max_red Data type UNS32 Data range 0 ≤ P-AXIS-00214 ≤ P-AXIS-00212 [} 183] Axis types T, R, S Dimension T: µm/s R,S: 0.001°/s TF5200 | Twin CAT 3 CNC Version: 1.172 145 Axis parameters
## Page 146

Functional settings Default value 0 Drive types ---- Remarks Fig. 7: Reduced maximum speed with active G01 3.17.2 Reduced maximum speed with active G00 (P-AXIS-00155) P-AXIS-00155 Reduced maximum speed with active G00 Description When G00 is active, the PLC can command the CNC by a control signal to switch over to a reduced axis feed. The control signal is sent by the “Reduced speed“ control unit. The reaction is in real time. After a deceleration which may be required, none of the moved axes moves faster than the parameter input. Parameter getriebe[i].rapid_speed_red Data type UNS32 Data range 0 ≤ P-AXIS-00155 ≤ P-AXIS-00212 [} 183] Axis types T, R, S Dimension T: µm/s R,S: 0.001°/s Default value 0 Drive types ---- Remarks Fig. 8: Reduced maximum speed with active G00 146 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 147

Functional settings 3.17.3 Reduced maximum speed in security zone In combination with the security zone of an axis the PLC can command a switchover to a reduced maximum path feed to the CNC. This value is independent of current active moving mode (G00 or G01). The security zone is defined within an upper and lower limit of the axis position. The reduced speed function is activated by the PLC signal if one axis is inside the security zone or moves into this zone. The reaction takes place in real time. This means that after an typically required deceleration phase, none of the axes moves faster than the maximum velocity (P-AXIS-00030 [} 149] or P-AXIS-00503 [} 150]) of the corresponding security zone. Two security zones can be defined for each axis. These zones can overlap each other. The deceleration ramp for adapting to the reduced speed is independent from the active path condition. If the axis is already in the security zone when the activation signal is received from the SPS, the CNC brakes at feedhold acceleration (P-AXIS-00024 [} 176]) is inactive. If the SPS signal is activated outside the zone, the CNC brakes at the G00 value (P-AXIS-00004 [} 179]) is inactive. Fig. 9: Representation of 2 security zones and limits of an axis 3.17.3.1 Upper limit of security zone 1 (P-AXIS-00085) P-AXIS-00085 Upper limit of security zone 1 Description This parameter defines the upper limit of security zone 1. The lower limit of the security zone must be smaller than the upper limit. P-AXIS-00093 [} 147] < P-AXIS-00085 This position is limited by the software limit switches (P-AXIS-00177 [} 92] and P- AXIS-00178 [} 91]). Parameter kenngr.red_speed_zone_pos Data type SGN32 Data range P-AXIS-00177 [} 92] < P-AXIS-00085 < P-AXIS-00178 [} 91] Axis types T, R Dimension T: 0.1µm R: 0.0001° Default value 0 drive types. ---- Remarks 3.17.3.2 Lower limit of security zone 1 (P-AXIS-00093) P-AXIS-00093 Lower limit of security zone 1 TF5200 | Twin CAT 3 CNC Version: 1.172 147 Axis parameters
## Page 148

Functional settings Description This parameter defines the lower limit of security zone 1. The lower limit of the security zone must be smaller than the upper limit. P-AXIS-00093 < P-AXIS-00085 [} 147] This position is limited by the software limit switches (P-AXIS-00177 [} 92] and P- AXIS-00178 [} 91]). Parameter kenngr.red_speed_zone_neg Data type SGN32 Data range P-AXIS-00177 [} 92] < P-AXIS-00093 < P-AXIS-00178 [} 91] Axis types T, R Dimension T: 0.1µm R: 0.0001° Default value 0 Drive types ---- Remarks 3.17.3.3 Upper limit of security zone 2 (P-AXIS-00097) P-AXIS-00097 Upper limit of security zone 2 Description This parameter defines the upper limit of security zone 2. The lower limit of the security zone must be smaller than the upper limit. P-AXIS-00105 [} 148] < P-AXIS-00097 This position is limited by the software limit switches (P-AXIS-00177 [} 92] and P- AXIS-00178 [} 91]). Parameter kenngr.red_speed_zone_2_pos Data type SGN32 Data range P-AXIS-00177 [} 92] < P-AXIS-00097 < P-AXIS-00178 [} 91] Axis types T, R Dimension T: 0.1µm R: 0.0001° Default value 0 Drive types ---- Remarks 3.17.3.4 Lower limit of security zone 2 (P-AXIS-00105) P-AXIS-00105 Lower limit of security zone 2 Description This parameter defines the lower limit of security zone 2. The lower limit of the security zone must be smaller than the upper limit. P-AXIS-00105 < P-AXIS-00097 [} 148] This position is limited by the software limit switches (P-AXIS-00177 [} 92] and P- AXIS-00178 [} 91]). Parameter kenngr.red_speed_zone_2_neg Data type SGN32 Data range P-AXIS-00177 [} 92] < P-AXIS-00105 < P-AXIS-00178 [} 91] Axis types T, R, S Dimension T: 0.1µm R,S: 0.0001° Default value 0 Drive types ---- Remarks 148 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 149

Functional settings 3.17.3.5 Maximum permissible axis velocity in security zone (P-AXIS-00030) P-AXIS-00030 Maximum permissible axis velocity in security zone Description The parameter defines the maximum permissible axis velocity inside the security zones 1 and 2 if the control signal is active. Activation for security zone 1 is executed by the “Reduced velocity in zone 1“ control unit. This security zone is limited by the position limits given by P-AXIS-00093 [} 147] and P-AXIS-00085 [} 147]. Activation for security zone 2 is executed by the “Reduced velocity in zone 2“ control unit. This security zone is limited by the position limits given by P-AXIS-00105 and P-AXIS-00097 [} 148]. Parameter getriebe[i].vb_max_red_zone Data type UNS32 Data range 0 ≤ P. AXIS-00030 ≤ P-AXIS-00212 [} 183] Axis types T, R Dimension T: µm/s R: 0.001°/s Default value 0 drive types. ---- Remarks When P-AXIS-00503 [} 150] is 0 (default), this parameter is always effective for both zones. Fig. 10: Parameters of permissible axis velocities inside the security zone 1 Fig. 11: Parameters of permissible axis velocities inside the second security zone Remark on active acceleration during the deceleration phase: The effective acceleration during deceleration depends on the following factors: • the channel parameter P-CHAN-00097 TF5200 | Twin CAT 3 CNC Version: 1.172 149 Axis parameters
## Page 150

Functional settings • the time of activation of a particular security zone signal in the PLC (“Reduced velocity in zone 1“/ “ control unit Reduced velocity in zone 2“) control unit • the current axis position at this time in relation to the zone. If the axis is outside the zone at the time of signal activation, the axis decelerates at the acceleration value of P-AXIS-00004 [} 179] . If the axis is inside the zone, the axis decelerates at the acceleration value of P- AXIS-00024 [} 176] . 3.17.3.6 Maximum permissible axis velocity in security zone 2 (P-AXIS-00503) P-AXIS-00503 Maximum permissible axis velocity in security zone 2 Description The parameter defines the maximum permissible axis velocity inside the security zones 1 and 2 if the control signal is active. Activation for security zone 2 is executed by the “Reduced velocity in zone 2“ control unit. This security zone is limited by the position limits given by P-AXIS-00105 [} 148] and P-AXIS-00097 [} 148]. Parameter getriebe[i].vb_max_red_zone_2 Data type UNS32 Data range 0 ≤ P-AXIS-00503 ≤ P-AXIS-00212 [} 183] Axis types T, R Dimension T: µm/s R: 0.001°/s Default value 0 Drive types ---- Remarks This parameter is available as of CNC Build V3.1.3052.05 or higher. When the parameter value is not set or has the value 0, vb_max_red_zone_2 is not active, i.e. the identical value of P-AXIS-00030 [} 149]. Fig. 12: Parameters of permissible axis velocities inside the second security zone Remark on active acceleration during the deceleration phase: The effective acceleration during deceleration depends on the following factors: • the channel parameter P-CHAN-00097 • the time of activation of the signal for the “Reduced velocity in zone 2“ in the PLC • the current axis position at this time in relation to the zone. If the axis is outside the zone at the time of signal activation, the axis decelerates at the acceleration value of P-AXIS-00004 [} 179] . If the axis is inside the zone, the axis decelerates at the acceleration value of P- AXIS-00024 [} 176] . 150 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 151

Functional settings 3.18 Torque configuration 3.18.1 Torque offset (P-AXIS-00324) P-AXIS-00324 Torque offset Description If this function is supported by the drive used, the CNC can output an additive torque command value statically . It is added to the drive-internal current command value of the speed controller at the input of the current controller. This additive torque command value can be used for weight compensation, for example. The definition of the additive torque command value depends on the torque or current scaling of the drive (see also P-AXIS-00325 [} 151], P-AXIS-00326 [} 151]). Parameter getriebe[i].torque_offset Data type SGN16 Data range 0 .... MAX(SGN16) Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types SERCOS, Lightbus,CANopen Remarks The output of an additive torque command value is not supported by all drive types. If this parameter has a value greater then 0 and the drive type does not support this function, an error message with the ID number P-ERR-110464 is output. 3.18.2 Numerator scaling factor for torque (P-AXIS-00325) P-AXIS-00325 Numerator scaling factor for torque Description Numerator of the scaling factor for the commanded torque to the drive. The factor is specified as a quotient. This quotient is the value which must be output to the motor to reach the nominal torque. Parameter antr.torque_scale_num Data type UNS32 Data range 0 < torque_scale_num < MAX(UNS32) Axis types T, R, S Dimension T: ---- R,S: ---- Default value 1 Drive types SERCOS, Lightbus,CANopen Remarks 3.18.3 Denominator scaling factor for torque (P-AXIS-00326) P-AXIS-00326 Denominator scaling factor for torque Description Denominator of the scaling factor for the commanded torque to the drive. The factor is specified as a quotient. This quotient is the value which must be output to the motor to reach the nominal torque. Parameter antr.torque_scale_denom Data type UNS32 Data range 1 < torque_scale_denom < MAX(UNS32) Axis types T, R, S Dimension T: ---- R,S: ---- Default value 1 Drive types SERCOS, Lightbus,CANopen TF5200 | Twin CAT 3 CNC Version: 1.172 151 Axis parameters
## Page 152

Functional settings Remarks If the value 0 is set for P-AXIS-00326, an error message with the ID number P- ERR-110465 is output and the internal scaling factor is set to 0 In this case no output of the additive torque command value to the drive is sent. 152 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 153

Functional settings 3.19 Gear couplings 3.19.1 Axis specific definition (kenngr.multi_link[i].*) The parameters of this structure offer the possibility to define axis-specific gear couplings. The settings always are assigned to the axis to be coupled. The maximum allowable number of couplings per axis is 10. This function is assigned to the axes group of the channel. For multiple instantiation of an axis (P-AXIS-00101 [} 52], P-AXIS-00040 [} 53]), the function cannot be used in conjunction with the parameter P-AXIS-00436 [} 154] ). Structure name Index multi_link[i] 0 ≤ i < 10 3.19.1.1 Lead or master axis (P-AXIS-00383) P-AXIS-00383 Logical axis number of lead or master axis Description Logical axis number of the lead axis to which the coupling axis is linked by the coupling factor. Parameter kenngr.multi_link[i].lead_axis Data type UNS16 Data range 1 < lead_axis < MAX(UNS16) Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types ---- Remarks The relative position of the coupling axis results from the multiplication of the coupling factor with the relative position of the lead axis. The coupling factor itself results from the definition of signed even numerator and denominator. 3.19.1.2 Numerator of coupling factor (P-AXIS-00384) P-AXIS-00384 Numerator of gear coupling factor Description Numerator of the coupling factor Parameter kenngr.multi_link[i].factor_numerator Data type SGN32 Data range MIN(SGN32) < factor_numerator < MAX(SGN32) Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types ---- Remarks 3.19.1.3 Denominator of coupling factor (P-AXIS-00385) P-AXIS-00385 Denominator of gear coupling factor Description Denominator of the coupling factor. Parameter kenngr.multi_link[i].factor_denominator Data type SGN32 Data range MIN(SGN32) < factor_denominator < MAX(SGN32) Axis types T, R TF5200 | Twin CAT 3 CNC Version: 1.172 153 Axis parameters
## Page 154

Functional settings Dimension T: ---- R: ---- Default value 0 Drive types ---- Remarks Example: 1:1-coupling to the lead axis with the logical axis number 1 kenngr.multi_link[0].lead_axis 1 kenngr.multi_link[0].factor_numerator 1 kenngr.multi_link[0].factor_denominator 1 3.19.2 Forward mapping of drive position (P-AXIS-00436) P-AXIS-00436 Forward mapping of drive position Description Corresponding to the coupling instructions at drive level, an active gear coupling leads to an offset of the axis positions compared to the programmed command positions in NC channel. The gear coupling can be activated either by configuration in the axis parameters (see multi_link[i] [} 153]) or via the HLI interface of the axis (see [FCT-A9]). In the event of a program restart or an explicitly programmed request of axis positions (#CHANNEL INIT [CMDPOS]), the axis positions and the channel program coordinates are re-initialised. The parameter must be set to 1 if the input coordinates of the gear coupling (e.g. absolute program coordinates) are to be recalculated by forward mapping. See also P-AXIS-00460 [} 155]. Parameter kenngr.recalc_link_main_input_position Data type BOOLEAN Data range 0: No forward mapping of drive position (default). 1: Forward mapping is executed. Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types ---- Remarks Configuration example: Forward mapping is active during gear coupling kenngr.multi_link[0].lead_axis 4 kenngr.multi_link[0].factor_numerator 1 kenngr.multi_link[0].factor_denominator 2 kenngr.recalc_link_main_input_position 1 Configuration example: Forward mapping with active gear coupling via the HLI kenngr.recalc_link_main_input_position 1 154 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 155

Functional settings Command L L o ACS i c1 position lead axis Gear coupling a Resolution Drives Command K K o ACS i + c2 position + coupling axis K =K - a L i o i Foreward mapping Fig. 13: Principle of electronic gear coupling 3.19.3 Forward mapping of drive position with absolute coordinates (P-AXIS-00460) P-AXIS-00460 Forward mapping of drive position with absolute coordinates Description If forward mapping of drive positions is activated with parameter P-AXIS-00436 [} 154] , the mapping is calculated by default relative to the activation position of the axis coupling.. This means that if immediately after the activation of an axis coupling the command positions are requested, the command position according to the mechanical axis position is returned. With parameter P-AXIS-00460 the axis positions are considered as absolute coordinates. This means the mapping is calculated as if the axes were coupled at position 0 for the master as well as for the slave axes. Example: At position X=40 mm and X1=50 mm the X1 axis is coupled each with a coupling factor of 1:1 to the X-axis and to itself. When P-AXIS-00460 is not set, the returned position for axis X1 is X1 = 50 mm on receipt of a command position request directly after activation of a coupling When P-AXIS-00460 is set, the returned axis position for the X1 axis is X1 = 10 mm. Parameter kenngr.recalc_input_position_absolute Data type BOOLEAN Data range 0: Forward mapping relative to activation position (default). 1: Forward mapping with absolute positions. Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks This parameter is only effective for axis couplings that are activated via the HLI. This parameter is only practical for use with axes that deliver an absolute position. 3.19.4 Homing check for coupled axes (P-AXIS-00461) P-AXIS-00461 Homing check for coupled axes TF5200 | Twin CAT 3 CNC Version: 1.172 155 Axis parameters
## Page 156

Functional settings Description This parameter can force all axes in this axis coupling group to be rehomed if an error occurs with an active axis coupling via the HLI when the parameter P- AXIS-00436 [} 154] is set. If an attempt is made to move one of the axes involved before homing, the error message P-ERR-70434 is output. Parameter kenngr.activate_coupled_axes_homing_check Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks 3.19.5 Copy HLI gantry master axis coupling to slave (P-AXIS-00486) P-AXIS-00486 Copy HLI gantry master axis coupling to slave Description If this parameter is set for a gantry master axis, HLI axis coupling definitions for the gantry master axis are mirrored automatically to the gantry slave axes. No coupling definitions are allowed for the gantry slave axes. However, if a coupling definition for a gantry slave axis is set, the error message P-ERR-70454 is output. Parameter kenngr.copy_master_gantry_coupling_to_slave Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks 3.20 Interpolation of tracked axes in inserted TRC blocks (P-AXIS-00427) P-AXIS-00427 Interpolation of tracked axes in inserted TRC blocks Description The active TRC generates new additional motion blocks in the NC program for motion in corner areas. If motions of (several) tracked axes are also programmed in the corners, the motions of these tracked axes can be executed in combination with new inserted motion blocks when the parameter P-AXIS-00427 is active. Parameter kenngr.cax_output_with_generated_nc_block Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks 156 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 157

Functional settings Excerpt from NC program: N10 G26 N20 G41 (TRC selection) … N110 G01 X100 N120 G01 C90 N130 G01 Y0 … N200 G40 (TRC deselection) T o o l N110 Path of tool centre point Programmed path N130 TF5200 | Twin CAT 3 CNC Version: 1.172 157 Axis parameters Tool Tool N120 C90 Turning of C axis with disabled parameter Turning of C axis with active parameter Fig. 14: Principle motion sequence of a C axis with G26
## Page 158

Functional settings Excerpt from NC program: N10 G25 N20 G41 (TRC selection) … N110 G01 X100 N120 G01 C90 N130 G01 Y0 … N200 G40 (TRC deselection) T o o l N110 Path of tool centre point Programmed path N130 158 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters Tool Tool N120 C90 Turning of C axis with disabled parameter Turning of C axis with active parameter Fig. 15: Principle motion sequence of a C axis with G25
## Page 159

Functional settings Results Case 1: N100 X100 N100 N110 C90 N120 B50 N130 C180 C90 N150 Y0 B50 C180 N150 Case 2: N100 X100 N100 N110 C90 B100 A23 N150 Y0 C90 B50 C180 N150 Case 3: N100 X100 N120 B50 N130 C90 N100 B50 N150 Y0 C90 N150 TF5200 | Twin CAT 3 CNC Version: 1.172 159 Axis parameters
## Page 160

Functional settings Case 4: N100 X100 N110 C90 N120 B50 N100 N150 Y0 C90 B50 N150 Case 5: N90 Z0 C90 N100 X100 N110 C90 N100 Z50 N120 Z50 (relevant motion) N150 Y0 N150 Case 6: N90 Z50 N100 X100 N110 C90 N100 N120 Z50 (non relevant) (motion) C90 N150 Y0 Z50 N150 Case 7: N90 Z0 N100 X100 Z50 N110 Z50 (relevant motion) N100 N120 C90 C90 N150 Y0 N150 160 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 161

Functional settings 3.21 Axis specific dynamic monitoring during interpolation Monitoring of the cyclically generated axis command values (interpolation) is activated and set with the following parameters. Monitoring can be activated for both single axes (e.g. spindles) and contouring axes. The parameters define the levels for the output of a warning or an error, if the maximum permissible values of the axis parameters list are exceeded. The velocity limit value used here is vb_max (P-AXIS-00212 [} 183]); the acceleration limit used is a_max (P-AXIS-00008 [} 184]) and the jerk limit value results from a_max (P-AXIS-00008 [} 184]) / tr_min (P-AXIS-00201 [} 185]). The velocity monitoring is active all the time. The acceleration and jerk monitoring can be enabled or disabled. 3.21.1 Warning level for velocity (P-AXIS-00439) P-AXIS-00439 Warning level for velocity for dynamic monitoring Description This parameter specifies the amount by which the axis velocity command value may exceed the maximum permissible axis velocity (see P-AXIS-00212 [} 183]) before the dynamic monitor in the interpolator generates a warning. The default value of the parameter is 50 (5%), i.e. command velocities greater than 1.05 * P-AXIS-00212 [} 183] generate a warning. Parameter kenngr.dyn_monitoring_v_warn Data type UNS32 Data range 0 ≤ dyn_monitoring_v_warn ≤ MAX(UNS32) Axis types T, R, S Dimension T: 0.1% R,S: 0.1% Default value 50 (5%) Drive types ---- Remarks 3.21.2 Error level for velocity (P-AXIS-00440) P-AXIS-00440 Error level for velocity for dynamic monitoring Description This parameter specifies the amount by which the axis velocity command value may exceed the maximum permissible axis velocity (see P-AXIS-00212 [} 183]) before the dynamic monitor in the interpolator generates a warning. The default value of the parameter is 90 (9%), i.e. command velocities greater than 1.09 * P-AXIS-00212 [} 183] generate a warning. Parameter kenngr.dyn_monitoring_v_err Data type UNS32 Data range 0 ≤ dyn_monitoring_v_err ≤ MAX(UNS32) Axis types T, R, S Dimension T: 0.1% R,S: 0.1% Default value 90 (9%) Drive types ---- Remarks 3.21.3 Warning level for acceleration (P-AXIS-00441) P-AXIS-00441 Warning level for acceleration for dynamic monitoring TF5200 | Twin CAT 3 CNC Version: 1.172 161 Axis parameters
## Page 162

Functional settings Description This parameter specifies the amount by which the axis velocity command value may exceed the maximum permissible axis velocity (see P-AXIS-00008 [} 184]) before the dynamic monitor in the interpolator generates a warning. The default value of the parameter is 500 (50%), i.e. command velocities greater than 1.5 * P-AXIS-00008 [} 184] generate a warning. Parameter kenngr.dyn_monitoring_a_warn Data type UNS32 Data range 0 ≤ dyn_monitoring_a_warn ≤ MAX(UNS32) Axis types T, R, S Dimension T: 0.1% R,S: 0.1% Default value 500 (50%) Drive types ---- Remarks 3.21.4 Error level for acceleration (P-AXIS-00442) P-AXIS-00442 Error level for acceleration for dynamic monitoring Description This parameter specifies the amount by which the axis velocity command value may exceed the maximum permissible axis velocity (see P-AXIS-00008 [} 184]) before the dynamic monitor in the interpolator generates a warning. The default value of the parameter is 1000 (100%), i.e. command velocities greater than 2.0 * P-AXIS-00008 [} 184] generate a warning. This factor limits the overall acceleration for the contouring feed rate and the LIFT motion. Parameter kenngr.dyn_monitoring_a_err Data type UNS32 Data range 0 ≤ dyn_monitoring_a_err ≤ MAX(UNS32) Axis types T, R, S Dimension T: 0.1% R,S: 0.1% Default value 1000 (100%) Drive types ---- Remarks With dyn_monitoring_a_warn = 0 and dyn_monitoring_a_err = 0 the acceleration monitoring for the axis command values is deactivated! 3.21.5 Warning level for jerk (P-AXIS-00443) P-AXIS-00443 Warning level for jerk for dynamic monitoring Description This parameter defines the tolerance level for exceeding the maximum permissible axis jerk value (P-AXIS-00008 [} 184] / P-AXIS-00201 [} 185]) before the dynamic monitor in the interpolator generates a warning. Parameter kenngr.dyn_monitoring_j_warn Data type UNS32 Data range 0 ≤ dyn_monitoring_j_warn ≤ MAX(UNS32) Axis types T, R, S Dimension T: 0.1% R,S: 0.1% Default value 0 (0%) Drive types ---- Remarks 162 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 163

Functional settings 3.21.6 Error level for jerk (P-AXIS-00444) P-AXIS-00444 Error level for jerk for dynamic monitoring Description This parameter defines the tolerance level for exceeding the maximum permissible axis jerk value (P-AXIS-00008 [} 184] / (P-AXIS-00201 [} 185]) before the dynamic monitor in the interpolator generates a warning. Parameter kenngr.dyn_monitoring_j_err Data type UNS32 Data range 0 ≤ dyn_ monitoring _j_err ≤ MAX(UNS32) Axis types T, R, S Dimension T: 0.1% R,S: 0.1% Default value 0 (0%) Drive types ---- Remarks The parameter dyn_monitoring_j_warn = 0 and dyn_monitoring_j_err = 0 deactivates jerk monitoring for the axis command values! 3.21.7 Suppressing reversal of speed at stop (P-AXIS-00548) P-AXIS-00548 Suppressing reversal of speed at stop Description When a spindle or single axis stops with a very slight jerk in deceleration phases, the direction of movement also changes when all boundary values are closely considered. In these cases, the control may increase the jerk in order to minimise the undesirable effect. Parameter kenngr.allow_dir_change_at_stop Data type BOOLEAN Data range 0: The jerk is also increased to prevent the axis from reversing. 1: No change in programmed jerk Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 * Drive types ---- Remarks * The basic setting is recommended for positioning software limit switches. 3.22 Suppress stop of spindle axis during channel reset (P- AXIS-00455) P-AXIS-00455 Suppress stop of spindle axis during channel reset Description By default a spindle axis which is commanded by M3, M4 or M19 is stopped during channel reset. The stop of the spindle axis can be suppressed by setting this parameter to 1 (TRUE). Parameter kenngr.no_stop_by_channel_reset Data type BOOLEAN Data range 0/1 Axis types S Dimension S: ---- Default value 0 Drive types ---- Remarks TF5200 | Twin CAT 3 CNC Version: 1.172 163 Axis parameters
## Page 164

Functional settings 3.23 Enabling PLCopen interface of a channel axis (P- AXIS-00457) P-AXIS-00457 Enable PLCopen interface of a channel axis Description This parameter enables the PLCopen interface of a channel axis. The axis can then be commanded by the PLC or by the NC program (see PROG//PLCopen programming) with motion commands (absolute and relative positioning, path motions with velocity, and stopping). The following arrays are supported: • MC_Move Absolute • MC_Move Relative • MC_Move Velocity • MC_Halt Parameter kenngr.enable_single_axis Data type BOOLEAN Data range 0/1 Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types ---- Remarks Commands are possible for linear axes and rotary axes (modulo axes), see P-AXIS-00015 [} 56]. 3.24 Collision monitoring during oscillation (P-AXIS-00485) P-AXIS-00485 Collision monitoring during oscillation Description During oscillation, an axis moves between two predefined positions independent from path motion. The 3D collision monitoring normally checks the given path position and not the complete motion band of the oscillation. Parameter kenngr.oscillation_collision_check_mode Data type SGN16 Data range 0: 2ND_POS is monitored for collision (default) -1 : The smaller of the two positions 1ST_POS, 2ND_POS is monitored for collision. +1: The larger of the two positions 1ST_POS, 2ND_POS is monitored for collision. 2: 1ST_POS is monitored for collision. Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types ---- Remarks 164 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 165

Functional settings V V osc Reversal Reversal position 1 position 2 s 1ST_POS Zero point Start position 2ND_POS 0 Excursion -V osc Fig. 16: Positioning procedure with pendulum movement Parameter P-AXIS-00485 specifies which of the programmed oscillation positions should be monitored for collision. 3.25 Inversion of spindle rotation direction for spindle M- functions M3/M4 (P-AXIS-00490) P-AXIS-00490 Inversion of spindle rotation direction for spindle M-functions M3/M4 Description The parameter inverts the direction of rotation of various spindle functions. For example, this may be helpful if a spindle is also used as C axis and if the spindle orientation does not correspond to the C axis orientation. The spindle function to be inverted is defined as a string constant or a hexadecimal value Parameter kenngr.inverse_rotation_direction Data type STRING Data range Constant Value Meaning FALSE 0x0000 No rotation direction inversion MOVE_CMD 0x0001 In the case of a spindle, the rotation direction is inverted with M functions M03/M04. The direction of spindle rotation is therefore reversed for M03 and M04 (M03 anti-clockwise, M04 clockwise). TAPPING 0x0002 The inversion is also active for spindle positioning M19 with explicitly programmed rotation direction. Axis types S Dimension S: ---- Default value 0 Drive types ---- Remarks Change in the data type of the parameter as of CNC Build V2.11.2836 (from BOOLEAN to STRING). Downward compatibility is ensured. TF5200 | Twin CAT 3 CNC Version: 1.172 165 Axis parameters
## Page 166

Functional settings 3.26 Delay filter acts only on command positions (P- AXIS-00513) P-AXIS-00513 Delay filter acts only on command positions Description If axis filters (see [FCT-A7]) are used, the feedforward values are calculated by default from the filtered command position values. This parameter sets the calculation of the feedforward values from the unfiltered command positions while the command positions are delayed by the filter. This achieves the situation that the feedforward values lead the command position. Parameter kenngr.delay_filter_only_position Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks The delay of the commands position against the feedforward values only works when the delay filter is configured as last filter in a filter chain. When P-AXIS-00513 is set and another filter is configured after the delay filter, the error message P- ERR-110583 is output and the delay filter is deactivated. 3.27 Enabling of IPO-LR interface after axis release (P- AXIS-00483) P-AXIS-00483 Enabling of IPO-LR interface after axis release Description A drive can be connected as part of the functionality 'Jog of Path' with more than one axis (link_to, P-AXIS-00101 [} 52]). Here the drive is supplied via the axis-specific interface between interpolator and position controller (see [FCT-C15]). If this type of linked axis leaves the interpolator after an axis release, and a SUSPEND command is executed in this channel, the interface is not enabled. Another channel that possibly requests this axis has no access to this interface and stops. By setting the parameter 'kenngr.auto_release_of_axis_link' this interface is automatically enabled when the axis is released and a system stop can be avoided. Parameter kenngr.auto_release_of_axis_link Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 drive types. ---- Remarks 3.28 Setting of 'in position' for position controller generated axis movements (P-AXIS-00458) P-AXIS-00458 Setting of 'in position' for position controller generated axis movements 166 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 167

Functional settings Description When the position controller autonomously generates an axis movement, the HLI signal gp Ax[axis_idx]^.lr_state.in_position_r (see {HLI:]) is set to FALSE in order to indicate that the axis is moving. If that behaviour is not wanted, this parameter can be set to TRUE. The position controller autonomously generates an axis movement under the following circumstances: 1. An NC program is active and tracking was set and reset for an axis. In this case the axis is interpolated back to the activation position in order to continue the NC program without offsets. 2. Axis arameter P-AXIS-00327 [} 140] is set. If the axis is enabled via the drive en- able commands of the HLI, the axis is interpolated back to the position where the drives were disabled. Parameter kenngr.set_in_pos_at_pos_corr Data type BOOLEAN Data range 0: Reset of HLI signal lr_state.in_position_r during axis is moved by position controller. 1: HLI signal lr_state.in_position_r remains during axis is moved by position controller. Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks 3.29 Settings for drive controllers 3.29.1 Select specific manufacturer-specific procedures for drive controllers (P-AXIS-00535) P-AXIS-00535 Select specific manufacturer-specific procedures for drive controllers Description Many drive controllers do not always conform completely to the interface specifications. In conjunction with P-AXIS-00536 [} 168] this parameter can activate manufacturer- and device-specific special procedures to still operate the drive controller in the CNC. Parameter kenngr.vendor_id Data type UNS32 Data range 0: No special procedures active 100: Specify the activated special procedures in P-AXIS-00536 [} 168] in the form of a bit string. The purpose of values 1 to 9 are to enable a manufacturer-specific set of special procedures and they only exist for the purpose of downward compatibility. Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks TF5200 | Twin CAT 3 CNC Version: 1.172 167 Axis parameters
## Page 168

Functional settings 3.29.2 Select specific device-specific procedures for drive controllers (P-AXIS-00536) P-AXIS-00536 Select specific device-specific procedures for drive controllers Description Many drive controllers do not always conform completely to the interface specifications. This parameter in conjunction with P-AXIS-00535 [} 167] enables manufacturer and device-specific special procedures to operate the drive controller on the CNC. The special procedures to be applied are specified by a bit field. Parameter kenngr.device_id Data type UNS32 Data range Bit: Function 0x4: Drive type CANopen: According to Ci A DS402 the size of CANopen objects 0x6060 (Modes of operation) and 0x6061 (Modes of operation display) is 1 byte. This bit setting indicates that these objects are handled as 2-byte values. 0x8: Drive type CANopen: In its basic setting, the CNC checks whether bit 0x400 (Target reached) is set in the drive status word when a drive-controlled homing is started. If drives do not supply this status bit, the check can be suppressed by setting bit 0x8. 0x20: Drive type CANopen: If a drive error occurs during the drive-controlled homing, the CNC checks at reset in its basic setting whether bit 0x0400 (Target reached) is set in the drive status word. If the drive does not supply this bit, the check can be suppressed by setting bit 0x20. 0x40: Drive type CANopen: If a drive error occurs during the drive-controlled homing, the operation mode active in the drive before the start of homing is restored at a CNC reset. A drive reset can be triggered before resetting the operation mode by setting bit 0x40. This is necessary if the drive does not permit an operation mode change in error state. 0x400: Drive type CANopen: When the controller is started, a check is made in the basic setting whether CANopen drives have reached the “Switch on disabled” state before values from the fieldbus are read. This check can be disabled by setting bit 0x400 so that an evaluation of the actual values can be started in the initial state “Not ready to switch on”. It must be ensured that the drive supplies valid actual values in this state. 0x800: Drive type CANopen: In the basic setting, the actual drive position must be known before switching to the “Ready to switch on” state. If the drive fails to supply any valid actual position values in the “Switch on disabled” basic setting, this check can be disabled by setting bit 0x800. 0x100 All drives: If no valid actual values are transferred after a fieldbus start (e.g. 0: Wc State = 0) and drive initialisation (valid status word), the evaluation of the actual drive position in the CNC can be delayed by setting bit 0x1000. The number of delay cycles is specified in the parameter P-AXIS-00567 [} 251] lr_hw[<i>].delay_tracking. Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types See bit description Remarks 3.30 Dynamic limits with tool gear (P-AXIS-00786) P-AXIS-00786 Dynamic limits with tool gear 168 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 169

Functional settings Description Tools can have an additional gear. When this type of tool is changed, the CNC automatically includes the additional gear ratio in the spindle (see P-TOOL-00016, P-TOOL-00017). By default, the maximum speed and acceleration of the spindle axis is limited to the dynamic limits of P-AXIS-00212 [} 183] and P-AXIS-00008 [} 184]. If P-AXIS-00786 is set, the CNC includes the current gear step in the speed limitation and in the maximum acceleration. The maximum dynamics result from: or High revolutions can therefore be programmed if the tool ratio is small than one. The maximum dynamic limits P-AXIS-00212 [} 183] and P-AXIS-00008 [} 184] from the axis parameter list therefore always refer to a tool ratio of 1:1. Irrespective of the setting of this parameter, the maximum tool speed and acceleration can be additionally limited in the tool parameters P-TOOL-00014 and P-TOOL-00015 Parameter kenngr.dynamic_limits_with_tool_gear Data type BOOLEAN Data range 0: The maximum axis velocity P-AXIS-00212 [} 183] and the axis acceleration P- AXIS-00008 [} 184] limit the maximum dynamics irrespective of the tool gear ratio. 1: The tool gear ratio is included in the calculation. The maximum dynamics result from P-AXIS-00212 [} 183] or P-AXIS-00008 [} 184] due to the gear ratio of the currently changed tool. Axis types S Dimension S: ---- Default value 0 Drive types ---- Remarks This parameter can only be used for spindle axes. Parameter available as of CNC Build V3.1.3079.27 3.31 Number of bits for command value (P-AXIS-00816) P-AXIS-00816 Number of bits for command value Description This parameter limits the command value output by the position controller to the value range that can be used by the drive or terminal. Parameter kenngr.bit_range_comand_value Data type UNS16 Data range 8…32 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 32 Drive types Conventional, SERCOS, Terminal, Lightbus, Profidrive, CANopen, DSE Remarks Available as of CNC Build V3.1.3080.06 TF5200 | Twin CAT 3 CNC Version: 1.172 169 Axis parameters
## Page 170

Gear step dependent parameters (getriebe[i].*) 4 Gear step dependent parameters (getriebe[i].*) In this structure all gear step dependent parameters are defined. Structure name Index getriebe[i]. 0 ≤ i ≤ 5 (Maximum number of gear steps: 6, application-specific) 4.1 Gear step number (P-AXIS-00135) P-AXIS-00135 Gear step number Description The gear step-specific machine data are identified with the help of the gear number. The first gear step (getriebe[0]) is automatically assigned gear step number 1, the other gear steps are set to 0 by default. Parameter getriebe[i].nummer Data type UNS16 Data range 1 ≤ number < MAX(UNS16) Axis types T, R, S Dimension T: ---- R,S: ---- Default value 1 Drive types ---- Remarks When the controller is started, the gear with the number P-AXIS-00079 [} 127] is active. 4.2 Gear change position (P-AXIS-00078) P-AXIS-00078 Gear change position Description The gear change position is given by this parameter for every gear step. Parameter getriebe[i].getr_schalt_pos Data type SGN32 Data range P-AXIS-00177 [} 92] < getr_schalt_pos < P-AXIS-00178 [} 91] Axis types T, R, S Dimension T: 0.1 µm R,S: 0.0001° Default value 0 Drive types ---- Remarks The definition of this parameter becomes significant when several gear steps are present. 4.3 Index for hardware specific parameter set (P- AXIS-00054) P-AXIS-00054 Number of selected hardware specific parameter set of the gear step Description A hardware-specific parameter set can be selected for all gear steps. For example, this parameter can select the rotary transducer of spindle axes because of different necessary resolutions caused by different maximum velocities in modes 'endless turning' and 'position controlled moving' of spindle. The parameter refers to the selected hardware-specific parameter set, see Parameters of the axis peripheral interfaces for position control (lr_hw[i].*) [} 247]. Parameter getriebe[i].default_lr_hw_nbr Data type SGN16 170 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 171

Gear step dependent parameters (getriebe[i].*) Data range 0 ≤ default_lr_hw_nbr < 2 (Number of hardware-specific parameter sets, application- specific) Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks 4.4 Load inertia (P-AXIS-00391) P-AXIS-00391 Load inertia Description To set up acceleration feedforward with additive torque command value, the total load inertia of the motor must be configured here. The total load inertia is the inertia of the motor itself and the inertia of the load related to the motor shaft. In case of a translatory moved axis, the moved masses must be converted to an equivalent inertia related to the motor shaft. Parameter getriebe[i].load Data type REAL64 Data range 0 ≤ load < MAX(REAL64) Axis types T, R, S Dimension T: kg R,S: kg*m² Default value 1.000000e-006 Drive types SERCOS Remarks TF5200 | Twin CAT 3 CNC Version: 1.172 171 Axis parameters
## Page 172

Gear step dependent parameters (getriebe[i].*) 4.5 Dynamic characteristic values This section describes the parameters for the acceleration and deceleration profile of the axes as well as the maximum axis velocities and axis accelerations. 4.5.1 Parameter for linear velocity profile (getriebe[i].lslope_profil.*) This structure compiles the parameters for the linear velocity profile. v vb_prog a_stufe_2 d_stufe_2 vb_stufe_1_2 a_stufe_1 d_stufe_1 t v vb_prog a_grenz_stufe_2 d_grenz_stufe_2 vb_grenz_stufe_1_2 a_grenz_stufe_1 d_grenz_stufe_1 t Fig. 17: Acceleration and deceleration parameters of the linear velocity profile From CNC version 2.11.2022.08 the following applies: The deceleration parameters are also effective for path movements. For SAI movements only one value can be defined to initialise deceleration ramps 1 and 2. As of CNC Build 2.10.2800.00 the following applies: For SAI movements the parameters of the non-linear slope profile (getriebe[i].slope_profil.*) are ef- fective. They are used when the axis is assigned by an NC channel or by the PLC (via the HLI). It can be declared inside the control unit whether the deceleration is used from the axis parameters list [AXIS] or from the control unit itself. The value inside the control unit is only valid for this single assignment. This means the parameter of the axis parameters list is not overwritten and can be used again in a following assignment. The acceleration and deceleration ramp settings for path movements can be changed in NC pro- gram. These commands are described in detail in [PROG//G130/ G131/ G231]. The weightings are not effective for SAI movements. 4.5.1.1 Acceleration of step 1 (P-AXIS-00011) P-AXIS-00011 Acceleration of step 1 (linear slope) Description The parameter only becomes active during the deceleration phases. It defines the acceleration in step 1. Parameter getriebe[i].lslope_profil.a_stufe_1 172 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 173

Gear step dependent parameters (getriebe[i].*) Data type UNS32 Data range 1 ≤ a_stufe_1 ≤ P-AXIS-00008 [} 184] Axis types T, R, S Dimension T: mm/s² R: °/s² Default value 1000 Drive types ---- Remarks The acceleration ramps can be changed in the NC program. The appropriate NC commands are described in detail in [PROG//G130, G131]. This parameter has no effect with spindles. 4.5.1.2 Acceleration of step 2 (P-AXIS-00012) P-AXIS-00012 Acceleration of step 2 (linear slope) Description The parameter only becomes active during the deceleration phases. It defines the acceleration in step 2. Parameter getriebe[i].lslope_profil.a_stufe_2 Data type UNS32 Data range 1 ≤ a_stufe_2 ≤ P-AXIS-00008 [} 184] Axis types T, R, S Dimension T: mm/s² R,S: °/s² Default value 1000 Drive types ---- Remarks The acceleration ramps can be changed in the NC program. The appropriate NC commands are described in detail in [PROG//G130, G131] in greater detail. 4.5.1.3 Deceleration of step 1 (P-AXIS-00282) P-AXIS-00282 Deceleration of step 1 (linear slope) Description The parameter is used during the deceleration phase. It defines the deceleration of step 1. When initialisation takes place with value 0, the value of P-AXIS-00011 [} 172] is automatically used. It is limited to the maximum acceleration P-AXIS-00008 [} 184] . Parameter getriebe[i].lslope_profil.d_stufe_1 Data type UNS32 Data range 1 ≤ d_stufe_1 ≤ P-AXIS-00008 [} 184] Axis types T, R, S (version-specific) Dimension T: mm/s² R,S: °/s² Default value 0 Drive types ---- Remarks The acceleration ramps can be changed in the NC program. The appropriate NC commands are described in detail in [PROG//G130, G131] in greater detail. For SAI the deceleration of step 1 is also valid for step 2 (P-AXIS-00283 [} 173])! When the parameter has the value 0, it is assigned the value of P-AXIS-00011 [} 172] (a_stufe_1). 4.5.1.4 Deceleration of step 2 (P-AXIS-00283) P-AXIS-00283 Deceleration of step 2 (linear slope) TF5200 | Twin CAT 3 CNC Version: 1.172 173 Axis parameters
## Page 174

Gear step dependent parameters (getriebe[i].*) Description The parameter is used during the deceleration phase. It defines the deceleration of step 2. When initialisation takes place with value 0, the value of P-AXIS-00012 [} 173] is automatically used. It is limited to the maximum acceleration P-AXIS-00008 [} 184] (a_max). Parameter getriebe[i].lslope_profil.d_stufe_2 Data type UNS32 Data range 1 ≤ d_stufe_2 ≤ P-AXIS-00008 [} 184] Axis types T, R, S (version-specific) Dimension T: mm/s² R,S: °/s² Default value 0 Drive types ---- Remarks The acceleration ramps can be changed in the NC program. The appropriate NC commands are described in detail in [PROG//G130, G131] in greater detail. When the parameter has the value 0, it is assigned the value of P-AXIS-00012 [} 173] (a_stufe_2). 4.5.1.5 Changeover speed (P-AXIS-00221) P-AXIS-00221 Changeover speed (linear slope) Description The parameter becomes active during the acceleration and deceleration phases. It defines the changeover speed between step 1 and step 2 (P-AXIS-00011 [} 172] and P-AXIS-00012 [} 173] or P-AXIS-00283 [} 173] and P-AXIS-00282 [} 173]). Parameter getriebe[i].lslope_profil.vb_stufe_1_2 Data type UNS32 Data range 1 ≤ vb_stufe_1_2 ≤ P-AXIS-00212 [} 183] Axis types T, R, S Dimension T: µm/s R,S: 0.001°/s Default value 100000 Drive types ---- Remarks 4.5.1.6 Acceleration of step 1 in rapid mode (P-AXIS-00005) P-AXIS-00005 Acceleration of step 1 in rapid mode (linear slope) Description The parameter defines the step 1 rapid traverse acceleration (G00). For positioning in rapid traverse (G00), ramps are often chosen steeper than for the linear and circular interpolation (G01, G02, G03). Parameter getriebe[i].lslope_profil.a_grenz_stufe_1 Data type UNS32 Data range 1 ≤ a_grenz_stufe_1 ≤ P-AXIS-00008 [} 184] Axis types T, R, S Dimension T: mm/s² R,S: °/s² Default value 1000 Drive types ---- Remarks This limit acceleration is generally set close to the current limit to achieve fast positioning and fast deceleration values. The acceleration ramps can be changed in the NC program. The appropriate NC commands are described in [PROG//G231] in greater detail. 174 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 175

Gear step dependent parameters (getriebe[i].*) 4.5.1.7 Acceleration of step 2 in rapid mode (P-AXIS-00006) P-AXIS-00006 Acceleration of step 2 in rapid mode (linear slope) Description The parameter defines the step 2 rapid traverse acceleration (G00). For positioning in rapid traverse (G00), ramps are often chosen steeper than for the linear and circular interpolation (G01, G02, G03). Parameter getriebe[i].lslope_profil.a_grenz_stufe_2 Data type UNS32 Data range 1 ≤ a_grenz_stufe_2 ≤ P-AXIS-00008 [} 184] Axis types T, R, S Dimension T: mm/s² R,S: °/s² Default value 1000 Drive types ---- Remarks This limit acceleration is generally set close to the current limit to achieve fast positioning and fast deceleration values. The acceleration ramps can be changed in the NC program. The appropriate NC commands are described in [PROG//G231] in greater detail. 4.5.1.8 Deceleration of step 1 in rapid mode (P-AXIS-00280) P-AXIS-00280 Deceleration of step 1 in rapid mode (linear slope) Description The parameter becomes only active during the deceleration phase in G00. When initialisation takes place with value 0, the value of P-AXIS-00005 [} 174] is automatically used. It is limited to the maximum acceleration P-AXIS-00008 [} 184] (a_max). Parameter getriebe[i].lslope_profil.d_grenz_stufe_1 Data type UNS32 Data range 1 ≤ d_grenz_stufe_1 ≤ P-AXIS-00008 [} 184] Axis types T, R, S (version-specific) Dimension T: mm/s² R,S: °/s² Default value 0 Drive types ---- Remarks For SAI during rapid traverse the deceleration of step 1 is also valid for step 2 (P- AXIS-00281 [} 175])! When the parameter has the value 0, it is assigned the value of P-AXIS-00005 [} 174] (a_grenz_stufe_1). 4.5.1.9 Deceleration of step 2 in rapid mode (P-AXIS-00281) P-AXIS-00281 Deceleration of step 2 in rapid mode (linear slope) Description The parameter becomes only active during the deceleration phase in G00. When initialisation takes place with value 0, the value of P-AXIS-00006 [} 175] to read and write the name. It is limited to the maximum acceleration P-AXIS-00008 [} 184] (a_max). Parameter getriebe[i].lslope_profil.d_grenz_stufe_2 Data type UNS32 Data range 1 ≤ d_grenz_stufe_2 ≤ P-AXIS-00008 [} 184] Axis types T, R, S (version-specific) Dimension T: mm/s² R,S: °/s² Default value 0 Drive types ---- TF5200 | Twin CAT 3 CNC Version: 1.172 175 Axis parameters
## Page 176

Gear step dependent parameters (getriebe[i].*) Remarks When the parameter has the value 0, it is assigned the value of P-AXIS-00006 [} 175] (a_grenz_stufe_2). 4.5.1.10 Changeover speed in rapid mode (P-AXIS-00211) P-AXIS-00211 Changeover speed in rapid mode (linear slope) Description For positioning in rapid traverse (G00), ramps are often chosen steeper than for the linear and circular interpolation (G01, G02, G03). The parameter defines the acceleration and deceleration phases for these cases. It defines the changeover speed between step 1 and step 2 (P-AXIS-00005 [} 174] and P-AXIS-00006 [} 175] or P-AXIS-00281 [} 175] and P-AXIS-00280 [} 175]). Parameter getriebe[i].lslope_profil.vb_grenz_stufe_1_2 Data type UNS32 Data range 1 ≤ vb_grenz_stufe_1_2 ≤ P-AXIS-00212 [} 183] Axis types T, R, S Dimension T: µm/s R,S: 0.001°/s Default value 100000 Drive types ---- Remarks 4.5.1.11 Deceleration at feedhold (P-AXIS-00024) P-AXIS-00024 Deceleration for feedhold (linear slope) Description When feedhold is active because of user reaction, measurement travel or homing, steeper ramps are often required than for positioning (G00) or workpiece machining (e.g. G01, G02, G03). The parameter defines the deceleration value for these cases. When the feed stop (e_feedhold) control unit is used, the value of this parameter is always used. If the entry is missing or assigned the value 0, the minimum of the values of P-AXIS-00005 [} 174] (a_grenz_stufe_1 and P-AXIS-00006 [} 175] (a_grenz_stufe_2) is used for deceleration. Parameter getriebe[i].lslope_profil.a_feedh Data type UNS32 Data range 0 ≤ a_feedh ≤ P-AXIS-00008 [} 184] Axis types T, R Dimension T: mm/s² R: °/s² Default value 0 Drive types ---- Remarks P-AXIS-00024 is only used with feedhold if the parameter P-CHAN-00097 in the channel parameter list is assigned the value 1. If P-AXIS-00024 is assigned the value 0, the minimum of the values P-AXIS-00005 [} 174] (a_grenz_stufe_1 and P-AXIS-00006 [} 175] (a_grenz_stufe_2) is used. 176 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 177

Gear step dependent parameters (getriebe[i].*) 4.5.2 Parameter for non-linear velocity profile (getriebe[i].slope_profil.*) This structure compiles the parameters for non-linear velocity profile. In the figure below, the parameters of the non-linear velocity profile are drawn. The speed profile can be shown over 7 phases. v vb_prog t 1 2 3 4 5 6 7 a a_beschl t a_brems tr_beschl_zu tr_beschl_ab tr_brems_zu tr_brems_ab Fig. 18: Non-linear velocity profile The parameter values corresponding to these phases are: 1. tr In this time interval, acceleration increases from value 0 to value a beschl, zu beschl 2nd a In this time interval, acceleration is constant a beschl beschl 3rd tr In this time interval, acceleration decreases from the value a to the value 0 beschl, ab beschl 4th vb In this time interval, acceleration is 0 (target speed is reached and constant). prog 5. tr In this time interval, the absolute value of deceleration increases from the value 0 to the value brems, zu a brems 6. a in this time interval, the absolute value of deceleration is constant a brems brems 7. tr In this time interval, the acceleration decreases from a to the value 0 brems, ab brems 4.5.2.1 Acceleration at machining feed (P-AXIS-00001) P-AXIS-00001 Acceleration at machining feed (non-linear slope) TF5200 | Twin CAT 3 CNC Version: 1.172 177 Axis parameters
## Page 178

Gear step dependent parameters (getriebe[i].*) Description The parameter represents the axis acceleration with increasing velocity. Parameter getriebe[i].slope_profil.a_beschl Data type UNS32 Data range 1 ≤ a_beschl ≤ P-AXIS-00008 [} 184] Axis types T, R Dimension T: mm/s² R,S: °/s² Default value 1000 Drive types ---- Remarks The acceleration ramps can be changed in the NC program. The appropriate NC commands are described in [PROG//G130/G131] in greater detail. 4.5.2.2 Deceleration at machining feed (P-AXIS-00002) P-AXIS-00002 Deceleration at machining feed (non-linear slope) Description The parameter represents the axis deceleration with decreasing velocity. Parameter getriebe[i].slope_profil.a_brems Data type UNS32 Data range 1 ≤ a_brems ≤ P-AXIS-00008 [} 184] Axis types T, R, S Dimension T: mm/s² R,S: °/s² Default value 1000 Drive types ---- Remarks The acceleration ramps can be changed in the NC program. The appropriate NC commands are described in [PROG//G130/G131] in greater detail. 4.5.2.3 Ramp time for acceleration up-gradation (P-AXIS-00196) P-AXIS-00196 Ramp time for acceleration up-gradation (non-linear slope) Description The parameter defines the acceleration ramp time for the up-gradation of the acceleration P-AXIS-00001 [} 177]. Parameter getriebe[i].slope_profil.tr_beschl_zu Data type UNS32 Data range P-AXIS-00201 [} 185] ≤ tr_beschl_zu ≤ MAX(UNS32) Axis types T, R, S Dimension T: µs R,S: µs Default value 50000 drive types. ---- Remarks The ramp time can be changed in the NC program. The appropriate NC commands are described in [PROG//Ramp time weighting (G132/G133/G134/G233/G338/ G339) ] in greater detail. The default value for ramp time weighting can be defined in P-CHAN-00073. 4.5.2.4 Ramp time for acceleration down-gradation (P-AXIS-00195) P-AXIS-00195 Ramp time for acceleration down-gradation (non-linear slope) Description The parameter defines the acceleration ramp time for the down-gradation of acceleration P-AXIS-00001 [} 177]. Parameter getriebe[i].slope_profil.tr_beschl_ab Data type UNS32 Data range P-AXIS-00201 [} 185] ≤ tr_beschl_ab ≤ MAX(UNS32) 178 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 179

Gear step dependent parameters (getriebe[i].*) Axis types T, R, S Dimension T: µs R,S: µs Default value 50000 drive types. ---- Remarks The ramp time can be changed in the NC program. The appropriate NC commands are described in [PROG//Ramp time weighting (G132/G133/G134/G233/G338/ G339) ] in greater detail. 4.5.2.5 Ramp time for deceleration up-gradation (P-AXIS-00198) P-AXIS-00198 Ramp time for deceleration up-gradation (non-linear slope) Description The parameter defines the acceleration ramp time for the up-gradation of deceleration P-AXIS-00002 [} 178]. Parameter getriebe[i].slope_profil.tr_brems_zu Data type UNS32 Data range P-AXIS-00201 [} 185] ≤ tr_brems_zu ≤ MAX(UNS32) Axis types T, R, S Dimension T: µs R,S: µs Default value 50000 drive types. ---- Remarks The ramp time can be changed in the NC program. The appropriate NC commands are described in [PROG//Ramp time weighting (G132/G133/G134/G233/G338/ G339) ] in greater detail. 4.5.2.6 Ramp time for deceleration down-gradation (P-AXIS-00197) P-AXIS-00197 Ramp time for deceleration down-gradation (non-linear slope) Description The parameter defines the acceleration ramp time for the down-gradation of deceleration P-AXIS-00002 [} 178]. Parameter getriebe[i].slope_profil.tr_brems_ab Data type UNS32 Data range P-AXIS-00201 [} 185] ≤ tr_brems_ab ≤ MAX(UNS32) Axis types T, R, S Dimension T: µs R,S: µs Default value 50000 drive types. ---- Remarks The ramp time can be changed in the NC program. The appropriate NC commands are described in [PROG//Ramp time weighting (G132/G133/G134/G233/G338/ G339) ] in greater detail. 4.5.2.7 Acceleration at rapid movement (P-AXIS-00004) P-AXIS-00004 Acceleration at rapid movement (non-linear slope) Description This acceleration parameter is active for deceleration and acceleration with rapid traverse movements (G00). Parameter getriebe[i].slope_profil.a_grenz Data type UNS32 Data range 1 ≤ a_grenz ≤ P-AXIS-00008 [} 184] Axis types T, R, S Dimension T: mm/s² R,S: °/s² TF5200 | Twin CAT 3 CNC Version: 1.172 179 Axis parameters
## Page 180

Gear step dependent parameters (getriebe[i].*) Default value 1000 Drive types ---- Remarks The acceleration ramps can be changed in the NC program. The appropriate NC commands are described in [PROG//G231] in greater detail. 4.5.2.8 Ramp time at rapid movement (P-AXIS-00200) P-AXIS-00200 Ramp time at rapid movement (non-linear slope) Description This ramp time parameter is active at programmed rapid traverse (G00) for acceleration and deceleration. In this case, it replaces the 2 ramp times for acceleration (P-AXIS-00195 [} 178], P-AXIS-00196 [} 178]) or the 2 ramp times for deceleration (P-AXIS-00197 [} 179], P-AXIS-00198 [} 179]). Parameter getriebe[i].slope_profil.tr_grenz Data type UNS32 Data range P-AXIS-00201 [} 185] ≤ tr_grenz ≤ MAX(UNS32) Axis types T, R, S Dimension T: µs R,S: µs Default value 10000 Drive types ---- Remarks The ramp time can be changed in the NC program. The appropriate NC commands are described in [PROG//G233] in greater detail. 4.5.2.9 Deceleration at feedhold (P-AXIS-00053) P-AXIS-00053 Deceleration at feedhold (non-linear slope) Description When feedhold is active because of user reaction, measurement travel or homing, ramps are often chosen steeper than for positioning (G00) or workpiece machining (e.g. G01, G02, G03). The parameter defines the deceleration value for these cases. If an entry is not made, the same deceleration as for G00 is used (P-AXIS-00005 [} 174], P-AXIS-00006 [} 175] or P-AXIS-00280 [} 175], P-AXIS-00281 [} 175]). Parameter getriebe[i].slope_profil.a_feedh Data type UNS32 Data range 1 ≤ a_feedh ≤ P-AXIS-00008 [} 184] Axis types T, R Dimension T: mm/s² R: °/s² Default value 0 Drive types ---- Remarks P-AXIS-00053 is only used if parameter P-CHAN-00097 in the channel parameter list is assigned the value 1. When the parameter has the value 0, it is assigned the value of P-AXIS-00004 [} 179] (a_grenz). 4.5.2.10 Ramp time at feedhold (P-AXIS-00081) P-AXIS-00081 Ramp time at feedhold (non-linear slope) 180 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 181

Gear step dependent parameters (getriebe[i].*) Description When feedhold is active, ramps are often chosen steeper than for positioning and for workpiece machining (e.g. G01, G02, G03). The parameter defines the ramp time value for these cases. If the entry is missing, acceleration is set up and cancelled using the rapid motion ramp time (P-AXIS-00005 [} 174], P-AXIS-00006 [} 175] or P-AXIS-00280 [} 175], P- AXIS-00281 [} 175]). Parameter getriebe[i].slope_profil.tr_feedh Data type UNS32 Data range P-AXIS-00201 [} 185] ≤ tr_feedh ≤ MAX(UNS32) Axis types T, R Dimension T: µs R: µs Default value 0 Drive types ---- Remarks P-AXIS-00081 is only used if parameter P-CHAN-00097 in the channel parameter list is assigned the value 1. When the parameter has the value 0, it is assigned the value of P-AXIS-00200 [} 180] (tr_grenz). 4.5.3 Effective acceleration profile (P-AXIS-00270) P-AXIS-00270 Effective acceleration profile Description The parameter determines the effective acceleration profile. It is valid for: • Path axes during CNC-controlled homing • Spindle axes Parameter getriebe[i].slope_type Data type UNS16 Data range 0 ≤ slope_type ≤ 3 where: 0: Step-shaped acceleration profile 1: Trapezoidal acceleration profile 2: Sine-square acceleration profile Axis types T, R, S Dimension T: - R,S: - Default value 0 Drive types ---- Remarks The following applies to contouring axes during reference point travel in all CNC versions: Slope type: Relevant dynamic characteristic values: 0 Linear Velocity Profile getriebe[i].a_ref 1, 2 Non-linear velocity profile getriebe[i].a_ref and getriebe[i].tr_ref The following applies to spindle axes in CNC versions before V2.11.2800: Slope type: Relevant dynamic characteristic values: 0 Linear Velocity Profile getriebe[i].lslope_profil.* 1, 2 Non-linear velocity profile getriebe[i].slope_profil.* As of CNC Build V2.11.2800 the parameter for spindle axes has no more significance. The profile curve results from parametrising the dynamic characteristics in getriebe[i].slope_profil.* For ramp times < CNC cycle time, this applies: Linear velocity profile For ramp times ≥ CNC cycle time, this applies: Non-linear velocity profile TF5200 | Twin CAT 3 CNC Version: 1.172 181 Axis parameters
## Page 182

Gear step dependent parameters (getriebe[i].*) 4.5.4 Rapid mode velocity (P-AXIS-00209) P-AXIS-00209 Rapid mode velocity Description The rapid traverse velocity is specified for positioning in rapid traverse (G00). Parameter getriebe[i].vb_eilgang Data type UNS32 Data range 1 ≤ vb_eilgang ≤ P-AXIS-00212 [} 183] Axis types T, R, S Dimension T: µm/s R,S: 0.001°/s Default value 166666 Drive types ---- Remarks 4.5.5 Gearbox ratio numerator/denominator The gearbox ratio is defined as the ratio of input revolutions (n ) to output revolutions (n ). 1 2 The resulting resolution is given by: Fig. 19: NOTICE If the gearbox ratio is used, the speed scaling must also be set related to the motor side (for example, for open-loop speed-controlled spindles). The resulting speed scaling is: The gear ratio cannot be changed by list download. However, if an attempt is made, error message P-ERR-110581 is output. 4.5.5.1 Gearbox ratio numerator (P-AXIS-00511) P-AXIS-00511 Gearbox ratio numerator Description By default, the path resolution of an axis is set with axis parameters P-AXIS-00233 [} 218] and P-AXIS-00234 [} 218] , where an eventually present gearbox must be considered (load-side scaling). If the parameters P-AXIS-00511/ P-AXIS-00512 [} 183] and P-AXIS-00092 [} 261], P- AXIS-00362 [} 271]/ P-AXIS-00363 [} 271] are used, the resolution of the axis can be specified related to the motor side. The resulting resolution (R) related to the load side is calculated automatically according to the equation below: Parameter getriebe[i].gear_fact_num 182 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 183

Gear step dependent parameters (getriebe[i].*) Data type UNS32 Data range 1 ... MAX (UNS32) Axis types T, R, S Dimension T: ---- R,S: ---- Default value 1 Drive types ---- Remarks For possible applications, see Settings of position scaling [} 400] 4.5.5.2 Gearbox ratio denominator (P-AXIS-00512) P-AXIS-00512 Gearbox ratio denominator Description By default, the path resolution of an axis is specified with axis parameters P- AXIS-00233 [} 218] and P-AXIS-00234 [} 218] , where an eventually present gearbox must be considered (load-side scaling). If the parameters P-AXIS-00511 [} 182]/ P-AXIS-00512 and P-AXIS-00092 [} 261], P- AXIS-00362 [} 271]/ P-AXIS-00363 [} 271] are used, the resolution of the axis can be specified related to the motor side. The resulting resolution (R) related to the load side is calculated automatically according to the equation below: Parameter getriebe[i].gear_fact_denom Data type UNS32 Data range 1 ... MAX (UNS32) Axis types T, R, S Dimension T: ---- R,S: ---- Default value 1 Drive types ---- Remarks A value of zero is not permitted for P-AXIS-00512. If this value is set, the error message P-ERR-110579 is output. For possible applications, see Settings of position scaling [} 400] 4.6 Permissible axis dynamics (getriebe[i].dynamik.*) 4.6.1 Maximum permissible axis velocity (P-AXIS-00212) P-AXIS-00212 Maximum permissible axis velocity Description The parameter defines the maximum permissible axis velocity. Parameter getriebe[i].dynamik.vb_max Data type UNS32 Data range 1 < hb_v_max_track ≤ 2000000000 (Presetting of maximum axis velocity, plausibility limit, application-specific) Axis types T, R, S Dimension T: µm/s R,S: 0,001°/s Default value 200000 Drive types ---- TF5200 | Twin CAT 3 CNC Version: 1.172 183 Axis parameters
## Page 184

Gear step dependent parameters (getriebe[i].*) Remarks In the case of axes of the type 'ACHSTYP_TRANSLATOR' and 'ACHSTYP_ROTATOR' it is presumed that while setting the maximum permissible axis velocity the resolution limits of the measuring system will also be taken into consideration. In the case of axes of the type 'ACHSTYP_SPINDEL' which are controlled by a spindle interpolator, the limit at which the measuring system delivers no valid values is set using the parameter P-AXIS-00220 [} 63] . Examples: Spindle speed at 10000 rpm value = 10000 * 6 * 1000 = 60000000 (unit 0.001 °/s) With units (10000 [rpm] * 360 [°/rev] * 1000 [0.001 °/°]) / 60 [s/min] = 60000000 [0.001 °/s] Translator at 1000 mm/min value = 1000 * 1000 / 60 = 16666 (unit 0.001 µm/s) With units (1000 [rpm] * 1000 [0.001 µm/mm]) / 60 [s/min] = 16666 [0.001 µm/s] 4.6.2 Maximum permissible axis acceleration (P-AXIS-00008) P-AXIS-00008 Maximum permissible axis acceleration Description The parameter defines the maximum permissible axis acceleration. Parameter getriebe[i].dynamik.a_max Data type UNS32 Data range 1 ≤ a_max ≤ 100000000 (Presetting of maximum axis acceleration, plausibility limit, application-specific) Axis types T, R, S Dimension T: mm/s² R,S: °/s² Default value 1000 Drive types ---- Remarks 4.6.3 Deceleration for an emergency stop (P-AXIS-00003) P-AXIS-00003 Deceleration for an emergency stop Description The parameter defines the used deceleration for an emergency stop. If errors of error reaction class 4 occur, the NC decelerates at the rate for specific axes. The path then leaves the trajectory. Parameter getriebe[i].dynamik.a_emergency Data type UNS32 Data range 1 ≤ a_emergency ≤ 2*P-AXIS-00008 [} 184] Axis types T, R, S Dimension T: mm/s² R,S: °/s² Default value 0 drive types. ---- Remarks When the parameter has the value 0, the value of P-AXIS-00008 [} 184] (a_max) is used. 184 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 185

Gear step dependent parameters (getriebe[i].*) 4.6.4 Minimum permissible ramp time (P-AXIS-00201) P-AXIS-00201 Minimum permissible ramp time Description The parameter defines the minimum permissible ramp time of the drive. This parameter limits the axis jerk arising due to velocity profile. Parameter getriebe[i].dynamik.tr_min Data type UNS32 Data range 0 (Preset of minimum ramp time, application-specific) ≤ tr_min ≤ MAX(UNS32) Axis types T, R, S Dimension T: µs R,S: µs Default value 10000 Drive types ---- Remarks 4.6.5 Geometric ramp time (P-AXIS-00199) P-AXIS-00199 Geometric ramp time Description The parameter defines the permissible geometric ramp time. This parameter limits axis jerk caused by the programmed contour. Parameter getriebe[i].dynamik.tr_geom Data type UNS32 Data range 0 (Preset of minimum ramp time, application-specific) ≤ tr_geom ≤ MAX(UNS32) Axis types T, R, S Dimension T: µs R,S: µs Default value 10000 drive types. ---- Remarks The ramp time can be changed in the NC program. The appropriate NC commands are described in [PROG//Ramp time weighting (G132/G133/G134/G233/G338/ G339)] in greater detail. 4.6.6 Weighting of acceleration at motion block transition (P- AXIS-00013) P-AXIS-00013 Weighting of acceleration at motion block transition Description This parameter weights the permissible acceleration at a motion block transition. If the value 0 is not specified in the parameter list, the weighting of the permissible acceleration with the cycle time/ramp time factor is valid (default setting). Parameter getriebe[i].dynamik.a_trans_weight Data type UNS32 Data range 1 ≤ a_trans_weight ≤ 1000 Axis types T, R, S Dimension T: 0.1% R,S: 0.1% Default value 0 Drive types ---- Remarks This parameter is only considered if the non-linear slope is used as soon as the contour has a kink angle. To define the slope type, see • P-CHAN-00071 • program command #SLOPE [ TYPE=…] TF5200 | Twin CAT 3 CNC Version: 1.172 185 Axis parameters
## Page 186

Gear step dependent parameters (getriebe[i].*) The example below generates an acceleration depending on the trajectory velocity at the block transitions of N10 - N20 because of the change of direction. y N20 N10 v x 0 B Fig. 20: Acceleration by block transitions N10 to N20 due to a direction change N10 N20 v N10 N20 v y x t t a a N10 N20 y N10 N20 x t t Fig. 21: Acceleration at linear-linear block transition 186 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 187

Gear step dependent parameters (getriebe[i].*) A factor can be defined by the parameter a_trans_weight, by which the maximum acceleration and therefore the velocity at the block transition can be weighted. The permissible acceleration at the block transition depends on the currently active velocity mode G00 or G01. By default the acceleration is considered at the block transition. This means that P-AXIS-00013 is set to 0. If set to 0 (a_trans_weight = 0), then the weighting of the permissible acceleration is executed at the factor cycle time / ramp time (default setting). This results in a very low speed at the motion block transition. If the axis is to move at higher speeds with an accordingly higher jerk at motion block transitions, a_trans_weight is adjusted high accordingly. At a value of 1000 (upper limit), the acceleration at motion block transitions is retained but the jerk is greater than the adjusted limits. a active a G00/G01 factor * a a G00/G01 a_trans_weight 0 1000 Fig. 22: Factor range for acceleration weighting at block transition TF5200 | Twin CAT 3 CNC Version: 1.172 187 Axis parameters
## Page 188

Gear step dependent parameters (getriebe[i].*) Maximum jerk for a_trans_weight = 1000: 4.6.7 Weighting of jerk at block transition (P-AXIS-00154) P-AXIS-00154 Weighting of jerk at block transition Description At the block transition from linear to circular block or vice versa, a jump in acceleration occurs, even if there is a tangential transition. The parameter weights the permissible jerk at these types of movement transitions. Jerk is only considered if P-CHAN-00009 is set. If P-AXIS-00154 is not set in the parameter list, the velocity is reduced to such an extent that the permissible jerk at the block transition is maintained. Parameter getriebe[i].dynamik.r_trans_weight Data type UNS32 Data range 0 ≤ r_trans_weight ≤ 1000 Axis types T, R, S Dimension T: 0.1% R,S: 0.1% Default value 1000 Drive types ---- Remarks This parameter is only considered if the non-linear slope is used and for circular - linear, circular - circular or linear - circular transitions. To define the slope type, see • P-CHAN-00071 • program command #SLOPE [ TYPE=…] 188 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 189

Gear step dependent parameters (getriebe[i].*) N30 y N20 r x 0 N10 v B v x N10 N20 N30 v y N10 N20 N30 t t a N10 N20 N30 a y N10 N20 N30 x t t j N10 N20 N30 j N10 N20 N30 x y t t Fig. 23: Acceleration and jerk at linear-circular block transition The permissible jerk at such movement transition types is weighted. jerk maximum minimum r_trans_weight 0 1000 a G00/G01 maximum: __________________ T IPO a a_trans_weight G00/G01 minimum: __________________ * _________________________________________ T 1000 IPO Fig. 24: Factor for jerk weighting at block transition TF5200 | Twin CAT 3 CNC Version: 1.172 189 Axis parameters
## Page 190

Gear step dependent parameters (getriebe[i].*) By default jerk is not considered at block transition. If jerk is to be considered at block transition, it must first be enabled in the channel parameter P-CHAN-00009 (corr_v_trans_jerk). The permissible jerk at block transition results from the active acceleration depending on the block type (G0, G1), and associated ramp time tr: (a_aktiv /tr_aktiv)* r_trans_weight / 1000. The minimum value is defined by the weighting of the maximum acceleration at block transition P- AXIS-00013 [} 185] (a_trans_weight). If the setting is not to be limited, this can be set to 1 using channel parameter P-CHAN-00117 (mode_trans_jerk). If set to 1000 the parameter has no influence. The result is that no speed reduction at block transition because of jerk will occur. Smaller value than 1000 leads to reduction of velocity because of jerk at block transition. Value 0 leads to velocity reduction depending on jerk setting of the non-linear slope (see parameter P-AXIS-00024 [} 176]). 4.6.8 Jerk at block transition 4.6.8.1 Jerk at non-tangent continuous block transition (P-AXIS-00339) P-AXIS-00339 Jerk at block transition (non-tangent continuous block transitions) Description As an alternative to the weighting of acceleration and jerk with the parameters P- AXIS-00013 [} 185] and P-AXIS-00154 [} 188] , the jerk at block transition also can be adjusted directly with the parameters P-AXIS-00340 [} 190] . The mode for jerk limiting at block transition must therefore be set to 2 in the channel parameter P- CHAN-00117 . P-AXIS-00339 works at non-tangent continuous block transitions. This corresponds to the effect of P-AXIS-00013 [} 185]is output. Parameter getriebe[i].dynamik.j_trans_c0 Data type REAL64 Data range 0 ≤ j_trans_c0 ≤ MAX(UNS32) Axis types T, R Dimension T: m/s³ R: 1000°/s³ Default value 0 Drive types ---- Remarks The values P-AXIS-00339 and P-AXIS-00340 [} 190] are limited internally to the permissible jerk. It is differentiated from the effective acceleration and the cycle time. 4.6.8.2 Jerk at tangent continuous block transition (P-AXIS-00340) P-AXIS-00340 Jerk at block transition (tangent continuous block transitions) Description As an alternative to the weighting of acceleration and jerk with the parameters P- AXIS-00013 [} 185] and P-AXIS-00154 [} 188] , the jerk at block transition also can be adjusted directly with the parameters P-AXIS-00339 [} 190] and P-AXIS-00340. The mode for jerk limiting at block transition must therefore be set to 2 in the channel parameter P-CHAN-00117 . P-AXIS-00340 works at tangent continuous, non-curvature continuous block transitions. This corresponds to the effect of P-AXIS-00154 [} 188]. Parameter getriebe[i].dynamik.j_trans_c1 190 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 191

Gear step dependent parameters (getriebe[i].*) Data type REAL64 Data range 0 ≤ j_trans_c1 ≤ MAX(UNS32) Axis types T, R Dimension T: m/s³ R: 1000°/s³ Default value 0 Drive types ---- Remarks The values P-AXIS-00339 [} 190] and P-AXIS-00340 are limited internally to the permissible jerk. It is differentiated from the effective acceleration and the cycle time. 4.6.9 Maximum permissible exceeding of acceleration (P- AXIS-00394) P-AXIS-00394 Maximum permissible exceeding of acceleration Description The parameter defines the maximum permissible exceeding of acceleration in connection with the weighting of the axis acceleration via the CNC function [PROG// Section - Programmable acceleration overload] (<Achsname> [ DYNAMIC …] ). The parameter P-AXIS-00394 is an overload factor, this means it is set greater or equal to 100 percent. An axis-specific weighting of the acceleration by the CNC command is only effective in the range [100%, P-AXIS-00394]. Parameter getriebe[i].dynamik.a_overload_max Data type UNS32 Data range 1000 ≤ a_overload_max ≤ UNS32 Axis types T, R Dimension T: 0.1% R: 0.1% Default value 1000 Drive types ---- Remarks Currently, the function can be used to weight acceleration in combination with the polynomial smoothing-over process 6. 4.6.10 Maximum acceleration at weighting (P-AXIS-00292) P-AXIS-00292 Maximum acceleration at weighting Description The parameter defines the maximum acceleration for weighting via G130, G131. Depending on the selected slope type, the value can not be defined smaller than the specific acceleration of feed rate blocks (G01, G02/G03) and not greater than the maximum permissible axis acceleration. Parameter getriebe[i].dynamik.a_w_max Data type UNS32 Data range A_F ≤ a_w_max ≤ P-AXIS-00008 [} 184] Non-linear slope: Value A_F: MAX[P-AXIS-00001 [} 177], P-AXIS-00002 [} 178]] Linear slope: Value A_F: MAX[P-AXIS-00011 [} 172], P-AXIS-00012 [} 173]] Axis types T, R Dimension T: mm/s² R: °/s² Default value - Drive types ---- Remarks TF5200 | Twin CAT 3 CNC Version: 1.172 191 Axis parameters
## Page 192

Gear step dependent parameters (getriebe[i].*) 4.6.11 Minimum ramp time at weighting (P-AXIS-00293) P-AXIS-00293 Minimum ramp time at weighting Description The parameter defines the minimum ramp time for weighting via G132, G133. The value can not be defined smaller than the minimum permissible ramp time and not greater than the specific ramp times of feed rate blocks (G01, G02/G03). Parameter getriebe[i].dynamik.tr_w_min Data type UNS32 Data range P-AXIS-00201 [} 185] ≤ tr_w_min ≤ TR_F Value TR_F: MIN [P-AXIS-00195 [} 178], P-AXIS-00196 [} 178], P-AXIS-00197 [} 179], P- AXIS-00198 [} 179]] Axis types T, R Dimension T: µs R: µs Default value 0 Drive types ---- Remarks 192 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 193

Gear step dependent parameters (getriebe[i].*) 4.7 Characteristic curve-controlled acceleration (getriebe[i].beschl_kennlinie.*) A gear step-specific acceleration characteristic is defined using the following parameters. The functionality 'Characteristic curve-controlled acceleration' is only possible for axes of the spindle type. The slope profile type 0 is mandatory for use of the function. (see [ P-AXIS-00270 [} 181]) 4.7.1 Type of the characteristic acceleration curve (P-AXIS-00202) P-AXIS-00202 Type of the characteristic acceleration curve Description The parameter defines the type of the characteristic acceleration curve. Parameter getriebe[i].beschl_kennlinie.typ Data type UNS32 Data range 0: No characteristic curve acceleration is active, acceleration profile acc. to P- AXIS-00270 [} 181] 1: Hyperbola 2: Polynomial 3: Asynchronous drive Axis types S Dimension S: ---- Default value 0 Drive types ---- Remarks 4.7.1.1 Characteristic a(n) in polynomial or hyperbolic form a [°/s²] Polynom: a(n) = b Dn³ + b Dn² + b Dn + a 3 2 1 const b 1 a Hyperbel: a(n) = const 1 + b (n/n )²(1 + b (n/n )²) 2 limit 3 limit a min n -3 limit n [10 °/s] Fig. 25: Characteristic a(n) in polynomial or hyperbolic form 4.7.1.1.1 Limit speed of the acceleration curve (P-AXIS-00130) P-AXIS-00130 Limit speed of the acceleration curve Description The parameter defines the limit speed from which onwards the acceleration is specified in a polynomial or hyperbolic form (see P-AXIS-00202 [} 193]). TF5200 | Twin CAT 3 CNC Version: 1.172 193 Axis parameters
## Page 194

Gear step dependent parameters (getriebe[i].*) Parameter getriebe[i].beschl_kennlinie.n_grenz Data type UNS32 Data range 0 < n_grenz ≤ MAX(UNS32) Axis types S Dimension S: 10-³ °/s Default value 0 Drive types ---- Remarks 4.7.1.1.2 Constant acceleration in the range n<ngrenz (P-AXIS-00007) P-AXIS-00007 Constant acceleration in the range n<ngrenz Description The parameter defines a constant acceleration in the range n<n grenz Parameter getriebe[i].beschl_kennlinie.a_konst Data type UNS32 Data range 0 ≤ a_konst ≤ MAX(UNS32) Axis types S Dimension S: °/s² Default value 0 Drive types ---- Remarks 4.7.1.1.3 Minimum value of acceleration for high speed (P-AXIS-00010) P-AXIS-00010 Minimum value of acceleration which may not be undershot. Description The parameter defines the minimum value of acceleration, which may not be undershot. Parameter getriebe[i].beschl_kennlinie.a_min Data type UNS32 Data range 0 ≤ a_min ≤ MAX(UNS32 Axis types S Dimension S: °/s² Default value 0 Drive types ---- Remarks 4.7.1.1.4 Parameters of the a(n) Polynomial (P-AXIS-00026/-00027/-00028) Parameter of the a(n) polynomial b1 (P-AXIS-00026) P-AXIS-00026 Parameter of the a(n) Polynomial (B1) Description B1 parameter of the a(n) polynomial Parameter getriebe[i].beschl_kennlinie.b1 Data type REAL64 Data range REAL64 range Axis types S Dimension S: 1/s Default value 0 Drive types ---- 194 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 195

Gear step dependent parameters (getriebe[i].*) Parameter of the a(n) polynomial b2 (P-AXIS-00027) P-AXIS-00027 Parameter of the a(n) Polynomial (B2) Description B2 parameter of the a(n) polynomial Parameter getriebe[i].beschl_kennlinie.b2 Data type REAL64 Data range REAL64 range Axis types S Dimension S: 1/° Default value 0 Drive types ---- Parameter of the a(n) polynomial b3 (P-AXIS-00028) P-AXIS-00028 Parameter of the a(n) Polynomial (B3) Description B3 parameter of the a(n) polynomial Parameter getriebe[i].beschl_kennlinie.b3 Data type REAL64 Data range REAL64 range Axis types S Dimension S: s/°² Default value 0 Drive types ---- Example of a parameter setting: getriebe[0].beschl_kennlinie.typ 2 # type identifier # 0: no curve # 1: Hyperbola # 2: Polynomial # 3: Asynchronous drive getriebe[0].beschl_kennlinie.n_grenz 12000000 [10-3°/s] getriebe[0].beschl_kennlinie.a_konst 16000 [°/s*s] getriebe[0].beschl_kennlinie.a_min 2000 [°/s*s] getriebe[0].beschl_kennlinie.b1 -0.88888888 [1/s] getriebe[0].beschl_kennlinie.b2 2.08333333E-5 [1/deg] getriebe[0].beschl_kennlinie.b3 -1.92901234E-10 [s/deg] TF5200 | Twin CAT 3 CNC Version: 1.172 195 Axis parameters
## Page 196

Gear step dependent parameters (getriebe[i].*) 4.7.1.2 Characteristic curve for asynchronous drives Asynchronous motors are often used for spindle drives. You can achieve optimised adaptation to typical characteristic of such spindle drives using the speed-dependent spindle acceleration curve a=f(n) shown in the figure below. a [°/s²] a_max a_max*N1/n a_max*N1/n*N2/n a_min n [°/s] N N 1 2 Fig. 26: Characteristic curve for asynchronous drives In addition to maximal permissible acceleration a_max and speed N1 in constant range of acceleration curvature only setting to the speed N2 has to be done. Above speed value N1 the acceleration curve has a proportional characteristic to 1/n, above speed value N2 it is proportional to 1/n². 4.7.1.2.1 Maximum acceleration (P-AXIS-00240) P-AXIS-00240 Maximum acceleration for acceleration curve of type 3 (P-AXIS-00202 [} 193]) Description This acceleration value is used in constant range with n < N1. Parameter getriebe[i].beschl_kennlinie.a_max Data type REAL64 Data range 0 ≤ a_max ≤ P-AXIS-00008 [} 184] Axis types S Dimension S: °/s² Default value 0 Drive types ---- Remarks 4.7.1.2.2 Speed limit 1 (P-AXIS-00241) P-AXIS-00241 Speed limit 1 for acceleration curve of type 3 (P-AXIS-00202 [} 193]) Description Above this speed the transition to curve characteristic becomes proportional to 1/n. Parameter getriebe[i].beschl_kennlinie.n1 Data type REAL64 Data range 0 ≤ n1 ≤ P-AXIS-00242 [} 197] Axis types S Dimension S: 10-³ °/s 196 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 197

Gear step dependent parameters (getriebe[i].*) Default value 0 Drive types ---- Remarks 4.7.1.2.3 Speed limit 2 (P-AXIS-00242) P-AXIS-00242 Speed limit 2 for acceleration curve of type 3 (P-AXIS-00202 [} 193]) Description Above this speed the transition to curve characteristic becomes proportional to 1/n². Parameter getriebe[i].beschl_kennlinie.n2 Data type REAL64 Data range 0 ≤ n2 ≤ P-AXIS-00212 [} 183] Axis types S Dimension S: 10-³ °/s Default value 0 Drive types ---- Remarks Example of a parameter setting: getriebe[0].beschl_kennlinie.typ 3 # type identification # 3: Asynchronous drive getriebe[0].beschl_kennlinie.a_min 500 [°/s²] getriebe[0].beschl_kennlinie.a_max 25000 [°/s²] getriebe[0].beschl_kennlinie.n1 10000000 [10-³ °/s] getriebe[0].beschl_kennlinie.n2 200000000 [10-³ °/s] 4.8 Maximum axis torque (P-AXIS-00798) P-AXIS-00798 Maximum axis torque Description This parameter defines the maximum torque of the axis. Parameter getriebe[i].torque Data type REAL64 Data range 0 … MAX(REAL64) Axis types R Dimension T: --- R: 1 Nm Default value 0.0 Drive types ---- Remarks Parameter available as of V3.1.3108.5 When the load model is active, the parameter must be greater than zero. 4.9 First coefficient of the friction model (P-AXIS-00804) P-AXIS-00804 First coefficient of the friction model Description This parameter defines the first coefficient of the friction model. It includes the static friction in the gear, among other things: Parameter getriebe[i].first_friction_model_coefficient Data type REAL64 Data range 0 <= P-AXIS-00804 <= 1000 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 50 Drive types ---- TF5200 | Twin CAT 3 CNC Version: 1.172 197 Axis parameters
## Page 198

Gear step dependent parameters (getriebe[i].*) Remarks Parameter available as of V3.1.3116 198 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 199

Parameters for position control 5 Parameters for position control This section describes the hardware-independent parameters for the position controller The hardware- dependent parameters are described in the section Parameters for drives (antr.*) [} 263]. The following parameters are dependent on the set drive type 'kenngr.antr_typ'. The data are inde- pendent of the set axis type 'kenngr.achs_typ'. They must be allocated for all axis types. 5.1 Proportional factor kv for P-positional control (P- AXIS-00099) P-AXIS-00099 Proportional factor kv for P-positional control Description The P-positional controller has the amplification factor k The parameter is only effective if v. the CNC internal position control is used. With drive amplifiers with integrated position control, the amplification must be defined in the drive. The parameter P-AXIS-00320 [} 267] determines the manner how an axis moves to its commanded position. Parameter getriebe[i].kv Data type UNS32 Data range 0 < kv ≤ MAX(UNS32) Axis types T, R, S Dimension T: 0.01/s R,S: 0.01/s Default value 1000 Drive types ---- Remarks 5.2 Position window for exact stop (P-AXIS-00236) P-AXIS-00236 Position window for exact stop Description A range is defined for the function 'Exact Stop' and contains the axis 'in Position' (|window| ≥ |position lag|). (The related NC command G60 is described in [PROG]. This monitoring is done in position controller if the axis is not interpolated. Parameter getriebe[i].window Data type SGN32 Data range 0 ≤ window ≤ MAX(SGN32) Axis types T, R, S Dimension T: 0.1µm R,S: 0.0001 ° Default value 500 drive types. ---- Remarks 5.3 Position window for rapid movements (P-AXIS-00472) P-AXIS-00472 Position window for rapid movements TF5200 | Twin CAT 3 CNC Version: 1.172 199 Axis parameters
## Page 200

Parameters for position control Description This parameter sets the position window for rapid traverse movements. This parameter becomes active with a value > 0. When the value is ≤ 0 (default) the parameter P-AXIS-00236 [} 199] is used. At the end of rapid traverse movements and at a programmed exact stop (G60) the position window set in this parameter is checked before the HLI signals lr_state.in_window_r and lr_state.in_position_r (see [HLI]) are generated or the movement is continued. Parameter getriebe[i].in_position_window_rapid Data type SGN32 Data range 0 … MAX(SGN32) Axis types T, R Dimension T: 0.1 µm R: 0.1 mdeg Default value 0 drive types. ---- Remarks This parameter can not be used for spindles. If this parameter is used nevertheless, a warning (ID 110560) is output and the value is corrected. The parameter P-AXIS-00395 [} 238] must be less than this parameter. If P- AXIS-00395 [} 238] is greater than P-AXIS-00472, the value of P-AXIS-00395 [} 238] is corrected and a warning is output (ID 110561). 200 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 201

Parameters for position control 5.4 Activation of position controller-interfaces 5.4.1 Activation of display function (P-AXIS-00023) P-AXIS-00023 Activation of display function Description The parameter is only used in the position controller and indicates the number of calls sent by the position controller for one call of the position controller display function. The position controller display data are updated by the position controller display function. Example: P-AXIS-00023 = 2 : Position controller display data are updated every second call of the position controller. Parameter kenngr.anzeige Data type UNS08 Data range 0 < display ≤ 5 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 1 Drive types ---- Remarks 5.4.2 Optimized bus access (P-AXIS-00276) P-AXIS-00276 Optimized bus access Description To avoid the jitter of the command value output, normally the command value is output right at the beginning of the next cycle of the position controller. This especially is not necessary, if a subordinate driver ensures the synchronized access on the drive (e.g. at digital drives, SERCOS). The element 'lr_param.field_bus_allows_optimized_schedule' defines whether the access on the drive can be executed in such an optimised way. In this case, the new command values are made available in the same cycle and the actual values of the axes are read in. To ensure consistency in time during access to all axes, this adjustment must be activated for all axes to take effect. If this adjustment is not selected for at least one axis, it is deselected automatically for all axes! Parameter lr_param.field_bus_allows_optimized_schedule Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks 5.4.3 Additional interface parameters 5.4.3.1 Enable interface (P-AXIS-00732) P-AXIS-00732 Enable additional interface Description This value enables or disables the additional interface. TF5200 | Twin CAT 3 CNC Version: 1.172 201 Axis parameters
## Page 202

Parameters for position control Parameter lr_param.add_interface.enable Data type BOOLEAN Data range 0: Additional interface is disabled 1: Additional interface is enabled Axis types T, R, S Dimension T: ---- R,S: ---- Default value 1 Drive types ---- Remarks 5.4.3.2 Handling – position command values as offset (P-AXIS-00733) P-AXIS-00733 Handling the loaded position command values as offset Description Assign this parameter with TRUE if the external position command values commanded via the additional interface are to be handled as a compensation value (offset, permanently active). If the parameter is FALSE, the additional correction values are moved again at each internal channel synchronization (Program start, axes exchange, reset, requesting of command values etc.). Parameter lr_param.add_interface.pos_as_offset Data type BOOLEAN Data range 0/1 Axis types T,R,S Dimension T: ---- R, S: ---- Default value 0 Drive types ---- Remarks 5.4.3.3 Reinitialisation after enable (P-AXIS-00734) P-AXIS-00734 Reinitialisation of additional position interface after enable Description The PLC can apply additional position command values to an axis via the HLI (see [HLI]) using the position controller additional interface. These additional values are passed as absolute values via the HLI and are output to the axis if the interface is enabled. When the value in that interface is changed while it is disabled, that change becomes efficient the next time the interface is enabled, which can cause unexpected axis movements. This parameter can set that changes in the additional position interface while the interface is disabled do not cause an axis movement on reactivation, but only changes while the interface is enabled. Parameter lr_param.add_interface.init_on_enable Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T:---- R, S: ---- Default value 0 Drive types ---- Remarks 202 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 203

Parameters for position control 5.4.3.4 Enable filter (P-AXIS-00735) P-AXIS-00735 Enable the additional interface filter Description This parameter controls the general enabling/disabling of the filter function. Parameter lr_param.add_interface.filter[i].enable Data type BOOLEAN Data range 0: Filter is disabled 1: Filter is enabled Axis types T, R, S Dimension T:---- R,S: ---- Default value 0 Drive types ---- Remarks The filter function is only enabled for filter order > 0 (filter[i].order). 5.4.3.5 Filter - frequency (P-AXIS-00739) P-AXIS-00739 Frequency range of the additional interface filter Description The parameter defines the frequency range for: • Low-pass: Beginning of cut-off frequency range (ideal filter) • High-pass: Beginning of cut-off frequency range (ideal filter) • Band-pass and band-stop filters: middle frequency Parameter lr_param.add_interface.filter[i].fg_f0 Data type REAL64 Data range 0 < FG_F= > 0.5/T (where T is the NC cycle time) fall fall Axis types T, R, S Dimension T: Hz R,S: Hz Default value 30 Drive types ---- Remarks 5.4.3.6 Filter - bandwidth (P-AXIS-00740) P-AXIS-00740 Bandwidth of the additional interface filter Description Definition of reciprocal of bandwidth for band-pass and band-stop filter types. The behaviour is similar to parameter P-AXIS-00080 [} 359]. Parameter lr_param.add_interface.filter[i].guete Data type REAL64 Data range 1 < guete < 10 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 1.0 Drive types ---- Remarks 5.4.3.7 Filter – order (P-AXIS-00736) P-AXIS-00736 Order of the additional interface filter TF5200 | Twin CAT 3 CNC Version: 1.172 203 Axis parameters
## Page 204

Parameters for position control Description This parameter defines the filter order. In addition, this parameter is a value which expresses the fall of frequency response (fall = -order x 20 d B/decade). The value order = 0 means: no filter connected. Parameter lr_param.add_interface.filter[i].order Data type UNS32 Data range 0 < order < 6 for low-pass, high-pass and all-pass filters 0 < order < 3 for band-pass and band-stop filters order = 0 or <= 1 for PT1 filters order = 0 or <= 1 for PT2 filters Axis types T, R, S Dimension T:---- R,S: ---- Default value 2 Drive types ---- Remarks An order of < 1 need only be specified for filters types PT1, PT2 and TIME_DELAY to activate the filter. The corresponding order is calculated internally. 5.4.3.8 Filter - characteristic (P-AXIS-00737) P-AXIS-00737 Characteristic of the additional interface filter Description This parameter defines the filter characteristic. Parameter lr_param.add_interface.filter[i].prototype Data type STRING Data range CRIT_DAMPING: ‘Critical damping’ filter characteristic BUTTERWORTH: ‘Butterworth’ filter characteristic BESSEL: ‘Bessel’ filter characteristic Axis types T Dimension T:---- Default value CRIT_DAMPING Drive types ---- Remarks 5.4.3.9 Filter – signal share (P-AXIS-00741) P-AXIS-00741 Signal share of the additional interface filter Description The parameter defines the signal share in percent which is processed by the filter. Parameter lr_param.add_interface.filter[i].share_percent Data type REAL64 Data range 0 < share_percent < 100 Axis types T Dimension T:---- R, S: ---- Default value 1.000000e+002 Drive types ---- Remarks 5.4.3.10 Filter - type (P-AXIS-00738) P-AXIS-00738 Type of the additional interface filter Description This parameter defines the filter type. Parameter lr_param.add_interface.filter[i].type 204 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 205

Parameters for position control Data type STRING Data range LOWPASS Low-pass filter HIGHPASS High-pass filter BANDPASS Band-pass filter BANDSTOP Band-stop filter ALLPASS All-pass filter PT1 PT1 filter HSC_SINE HSC Sine HSC_MEAN HSC mean HSC_GAUSS HSC Gauss PT2 PT2 filter TIME_DELAY Time delay filter (as of CNC Build 3013 and higher) Axis types T, R, S Dimension T:---- R,S: ---- Default value PT2 Drive types ---- Remarks 5.4.3.11 Filter – time constant (P-AXIS-00742) P-AXIS-00742 Time constant of the additional interface filter Description The parameter defines the time constants of the PT1, PT2 and time delay filters. Parameter lr_param.add_interface.filter[i].time_constant Data type UNS32 Data range For PT1 / PT2 filters: TAb ≤ filter[i].time_constant ≤ MAX(UNS32) (with TAb ->NC cycle time) For time-delay filter: 0 ≤ filter[i].time_constant < 6 * TAb (Where TAb ->NC cycle time) Axis types T, R, S Dimension T: µs R,S: µs Default value 0 Drive types ---- Remarks 5.5 Settings for backlash compensation 5.5.1 Size of backlash (P-AXIS-00103) P-AXIS-00103 Size of backlash Description The parameter defines the size of backlash. Parameter getriebe[i].lose Data type SGN16 Data range SGN16 range 0 < backlash: backlash betw. drive and slide Axis types T, R, S Dimension T: 0.1µm R,S: 0.0001 ° Default value 0 drive types. ---- Remarks TF5200 | Twin CAT 3 CNC Version: 1.172 205 Axis parameters
## Page 206

Parameters for position control 5.5.2 Selection of backlash compensation (P-AXIS-00021) P-AXIS-00021 Selection of backlash compensation Description The selection of backlash compensation is done using this parameter. The type of backlash (the backlash between the table and the drive or the backlash between the drive and the measuring system) depends on the mathematical sign of P- AXIS-00103 [} 205] (getriebe[i].lose). Parameter lr_param.anwahl_losekomp Data type UNS16 Data range 0: No backlash compensation 1: Last axis motion occurred in pos. direction. 2: Last axis motion occurred in neg. direction. Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 drive types. ---- Remarks 5.5.3 Distribution of the backlash on multiple cycles (P-AXIS-00243) P-AXIS-00243 Distribution of the backlash on multiple cycles Description The parameter defines a number of position control cycles on which the backlash is distributed. The distribution is done according to a sin2 function. The parameter is also used for bi-directional lead screw error compensation if a change of direction is executed. Parameter lr_param.n_backlash_cyc Data type UNS16 Data range 0 < n_backlash_cyc < 20 Axis types T, R, S Dimension T: Number of interpolation cycles R,S: Number of interpolation cycles Default value 0 Drive types ---- Remarks For the values 0 or 1 the output of the backlash to the drive is done abruptly within one cycle. A value larger than 1 creates a distribution according to the sin2function The use of this feature avoids increasing errors at the workpiece, because for large backlash the machine excitation is reduced. 5.6 Settings for temperature compensation 5.6.1 Selection of temperature compensation (P-AXIS-00271) P-AXIS-00271 Selection of temperature compensation Description The parameter selects the temperature compensation. Parameter lr_param.temp_comp Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 206 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 207

Parameters for position control Drive types ---- Remarks 5.6.2 Parametrisation of temperature compensation Deviation T3 T2 T1 Basic position Axis position Offset "virtual" intersection of the linear approximations Fig. 27: Reference measurement at different temperatures 5.6.2.1 Reference position of temperature compensation (P-AXIS-00272) P-AXIS-00272 Parameterisation of temperature compensation (Basic position) Description The compensation values are approximated by a linear straight line. This straight line is defined by a basic position, an offset at this position and a geometrical pitch. Depending on the temperature, these parameters can be adjusted e.g. by the PLC. Parameter lr_param.temp_comp_position_0 Data type SGN32 Data range MIN(SGN32) < temp_comp_position_0 < MAX(SGN32) Axis types T, R, S Dimension T: 0.1 µm R,S: 0.0001° Default value 0 Drive types ---- Remarks 5.6.2.2 Offset of temperature compensation (P-AXIS-00273) P-AXIS-00273 Parameterisation of temperature compensation (Offset) Description The compensation values are approximated by a linear straight line. This straight line is defined by a basic position, an offset at this position and a geometrical pitch. Depending on the temperature, these parameters can be adjusted e.g. by the PLC. Parameter lr_param.temp_comp_offset_0 Data type SGN32 Data range MIN(SGN32) < temp_comp_offset_0 < MAX(SGN32) Axis types T, R, S TF5200 | Twin CAT 3 CNC Version: 1.172 207 Axis parameters
## Page 208

Parameters for position control Dimension T: 0.1 µm R,S: 0.0001° Default value 0 Drive types ---- Remarks 5.6.2.3 Offset of temperature compensation (P-AXIS-00274) P-AXIS-00274 Parameterisation of temperature compensation (Geometrical pitch) Description The compensation values are approximated by a straight line. This straight line is defined by a basic position, an offset at this position and a geometrical pitch. Depending on the temperature these parameters can be adjusted e.g. by the PLC. Parameter lr_param.temp_comp_coefficient Data type REAL64 Data range -10000 ≤ temp_comp_coefficient ≤ 10000 Axis types T, R, S Dimension T: µm/m R,S: ---- Default value 0 Drive types ---- Remarks 5.6.3 Distribution of the temperature compensation on several cycles (P-AXIS-00275) P-AXIS-00275 Distribution of the temperature compensation on several cycles Description The compensation values are recalculated for each interpolation cycle. If the change per cycle exceeds the given maximum axis acceleration, this change can be output filtered over multiple cycles. For this the number of cycles of the sin² filter can be defined in the axis parameter list. Parameter lr_param.temp_comp_n_cycles Data type UNS16 Data range 0 < temp_comp_n_cycles < 20 Axis types T, R, S Dimension T: Number of interpolation cycles R,S: Number of interpolation cycles Default value 0 Drive types ---- Remarks 5.6.4 Manual activation of temperature compensation (P- AXIS-00482) P-AXIS-00482 Manual activation of the temperature compensation Description The CNC turns the temperature compensation on when it is selected in the axis parameter list (P-AXIS-00271 [} 206]) and the required preconditions are met (e.g. the axis is homed). If the parameter is set to 1, the temperature compensation must be manually turned on in the NC program via an NC command (see [PROG//Switching axis compensation on/off in the NC program]). In addition, the compensation is turned off at the end of the NC program, during CNC reset and axis release. Parameter lr_param.temp_comp_manual_activation Data type BOOLEAN 208 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 209

Parameters for position control Data range 0: Automatic activation (default). 1: Manual activation in NC program. Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks 5.7 Activate crosstalk compensation (P-AXIS-00789) P-AXIS-00789 Activate crosstalk compensation Description This parameter activates the crosstalk compensation function. Parameter lr_param.crosstalk Data type BOOLEAN Data range 0/1 Axis types T Dimension T: ---- Default value 0 Drive types Remarks Parameter available as of CNC Build V3.1.3079.32 and higher 5.8 Monitoring of axis compensations 5.8.1 Effectiveness in automatic mode (P-AXIS-00465) P-AXIS-00465 Monitoring of effectiveness of axis compensations in automatic mode Description Some axis compensations must fulfil certain preconditions before they can be active. To ensure that the selected axis compensations are operative in automatic mode, the required compensations for processing the NC program can be specified bit-encoded in the parameter 'lr_param.prog_movement_requires_compensations'. The CNC then outputs the error message P-ERR-70435if the axis is moved in automatic mode and if the specified axis compensations are not active. However, in manual mode or during homing the axis can be moved without compensations. Parameter lr_param.prog_movement_requires_compensations Data type STRING Data range BACKLASH LEAD TEMP CROSS PLANE FRICT CROSSTALK Axis types T, R Dimension T: ---- R: ---- Default value * Drive types ---- TF5200 | Twin CAT 3 CNC Version: 1.172 209 Axis parameters
## Page 210

Parameters for position control Remarks * Note: The default value of variables is a blank string. The CNC outputs only the error message only for compensations which are selected in the axis parameter list (see [FCT-C5]). For reasons of downward compatibility, it is also possible to bit-encode axis compensations. The following bit identifiers can be used to specify the required compensations: Bit Identifier Axis compensation 0x1 BACKLASH Backlash compensation, [FCT-A5] 0x2 LEAD Lead screw error compensation, [FCT-A5] 0x4 TEMP Temperature compensation, [FCT-A5] 0x8 CROSS Cross compensation [FCT-A5] 0x10 PLANE Plane compensation, [FCT-A5] 0x20 FRICT Friction compensation, [FCT-C5] 0x40 CROSSTALK Crosstalk compensation, [FCT-C5] Example of monitoring lead screw error compensation and cross compensation: lr_param.prog_movement_requires_compensations LEAD | CROSS 5.8.2 Treatment of axis movement from axis compensation while active feedhold (P-AXIS-00454) P-AXIS-00454 Treatment of axis movement from axis compensation while active feedhold Description If feedhold is activated, the generated correction values of the cross and plane compensations are also monitored. The error message P-ERR-70255 is generated if a position change of a master axis leads to an axis movement of the slave axis. This error message can be suppressed, if the parameter is set to value 1. Parameter lr_param.allow_comp_movement_while_feedhold Data type BOOLEAN Data range 0: If feedhold is set, the axis compensations generate no axis movement (default). 1: Output of correction value changes from axis compensation although feedhold is active. Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks If the parameter is set to 1, the axis can move during feedhold in the range of the given compensation values! 5.9 Settings for position lag monitoring 5.9.1 Type of position lag monitoring (P-AXIS-00172) P-AXIS-00172 Type of position lag monitoring Description The parameter defines the type of position lag monitoring. Parameter getriebe[i].slep_ueberw_typ Data type UNS32 210 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 211

Parameters for position control Data range 0 ≤ slep_ueberw_typ ≤ MAX(UNS32) 1: Standard position lag monitoring 2: Linear position lag monitoring 3: Non linear position lag monitoring (no longer supported!) 4: Velocity independent position lag monitoring For all other values the position lag monitoring is disabled. Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks 5.9.2 Minimum position lag (P-AXIS-00169) P-AXIS-00169 Minimum position lag Description The parameter defines the minimum position lag. Parameter getriebe[i].slep_min Data type SGN32 Data range 1 ≤ slep_min ≤ MAX(SGN32) Axis types T, R, S Dimension T: 0.1 µm R,S: 0.0001° Default value 20000 Drive types ---- Remarks Standard position lag monitoring: The parameter is used for plausibility test for the dynamic position lag monitoring. Since large position lags can arise in the case of non-high dynamic systems and under certain circumstances and these position lags are recognized as position lag in rare cases, even in the case of P-AXIS-00167 [} 212] = 1023 (dynamic position lag monitoring as if switched off), a useful value must be determined empirically in this case. The dynamic position lag monitoring uses a digital filter which estimates the position lag on the basis of the reference variable (command value). Usually, a value from some of a few 'mm' or ' ° ' can be used here. Linear position lag monitoring: The parameter defines the maximum permissible position lag on axis standstill. Non linear position lag monitoring: For this type of position lag monitoring the parameter is without significance. Velocity independent position lag monitoring: The parameter defines the maximum permissible position lag at axis standstill. 5.9.3 Maximum position lag (P-AXIS-00168) P-AXIS-00168 Maximum position lag Description The parameter defines the maximum position lag. Parameter getriebe[i].slep_max Data type SGN32 Data range MAX(SGN32) > slep_max > 10* position lag at P-AXIS-00212 [} 183] Axis types T, R, S TF5200 | Twin CAT 3 CNC Version: 1.172 211 Axis parameters
## Page 212

Parameters for position control Dimension T: 0.1 µm R,S: 0.0001° Default value 100000 Drive types ---- Remarks Standard position lag monitoring: The parameter is made use of for limiting the estimated position lag in the position controller. Especially in the case of oscillating systems an internal range overshooting of the operating data in the position controller would be quite conceivable. Linear position lag monitoring: The parameter defines the maximum permissible position lag. This helps to avoid a reaction of the position lag monitoring (adhesive friction), for example, when the axis starts moving from standstill. Non-linear position lag monitoring: For this type of position lag monitoring the parameter is without significance. Velocity-independent position lag monitoring: This parameter sets the position lag limit when the axis is moving. 5.9.4 Factor for dynamic position lag monitoring (P-AXIS-00167) P-AXIS-00167 Factor for dynamic position lag monitoring Parameter getriebe[i].slep_dyn Description For standard and non-linear position lag monitoring the following is valid: The factor determines the time constant of an estimation filter for the dynamic position lag monitoring in the position controller. This parameter must be determined empirically. Data range 700 ≤ slep_dyn ≤ 1024 Description Linear position lag monitoring: The parameter defines the slope within the estimation of the dynamic position lag using the following equation: Non linear position lag monitoring: The factor determines the time constant of an estimation filter for the dynamic position lag monitoring in the position controller. This parameter must be determined empirically. Data range 0 ≤ slep_dyn ≤ 1024 Data type SGN16 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 1000 Drive types ---- Remarks CAUTION: The position lag monitoring is disabled if the parameter has the value ≥ '1024'. 5.9.5 Remaining deviation for non linear position lag monitoring (P- AXIS-00166) P-AXIS-00166 Remaining deviation for non-linear position lag monitoring 212 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 213

Parameters for position control Description The parameter defines the remaining deviation for non linear position lag monitoring. This parameter must be determined empirically. Parameter getriebe[i].slep_abw Data type UNS32 Data range 0 ≤ slep_abw ≤ 1024 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 512 Drive types ---- Remarks 5.9.6 Maximum settling time (P-AXIS-00151) P-AXIS-00151 Maximum permissible settling time for exact stop window Description The parameter defines the maximum permissible settling time. If the window for exact stop has not been reached within this time an error message will be output. If the parameter is 0, the time monitoring is disabled. Parameter getriebe[i].pos_einschw_zeit Data type UNS32 Data range 0 ≤ pos_einschw_zeit ≤ MAX(UNS32)/1000 Axis types T, R, S Dimension T: µs R,S: µs Default value 1000000 drive types. ---- Remarks 5.9.7 Maximum position settling time (P-AXIS-00532) P-AXIS-00532 Maximum permissible position settling time for exact stop window Description The parameter defines the maximum permissible settling time. If the window for accuracy stop for not interpolated axes has not been reached within this time an error message will be output. If the parameter is 0, the time monitoring is disabled. With a negative value for this parameter the value of P-AXIS-00151 [} 213] is used for transient time monitoring (backward compatibility). Parameter getriebe[i].position_settling_time Data type SGN32 Data range MIN(SGN32) ≤ position_settling_time ≤ MAX(SGN32) Axis types T, R, S Dimension T: µs R,S: µs Default value -1 drive types. ---- Remarks This parameter replaces P-AXIS-00151 [} 213]. 5.9.8 Time constant for position lag monitoring (P-AXIS-00170) P-AXIS-00170 Time constant for position lag monitoring TF5200 | Twin CAT 3 CNC Version: 1.172 213 Axis parameters
## Page 214

Parameters for position control Description This parameter defines the compensation of time delays during the feedback of the actual values. By this method, the monitoring curve is shifted in time so that the real position lag can be monitored. This time constant is used for all types of position lag monitoring. Parameter getriebe[i].slep_time_const Data type UNS32 Data range 0 ≤ slep_time_const ≤ MAX(UNS32) Axis types T, R, S Dimension T: µs R,S: µs Default value 0 Drive types ---- Remarks Recommended setting: slep_time_const = 0 7000 6000 5000 4000 3000 2000 1000 0 0 50 100 150 200 250 Cycles 214 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters gal noitisop ,yticole V estimated position lag real position lag with slep_time_const without slep_time_const velocity Fig. 28: Time constant to shift monitoring curve 5.9.9 Suppression of position lag (P-AXIS-00176) P-AXIS-00176 Suppression of position lag Description To adjust the position lag monitoring the creation of position lag errors can be suppressed. But the dynamical calculation continues. By this method it is possible to record position lag and position lag monitoring limits and set the corresponding parameters. Parameter lr_param.suppress_pos_lag_error Data type BOOLEAN Data range 0/1
## Page 215

Parameters for position control Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks Recommended setting: suppress_pos_lag_error = 0 'suppress_pos_lag_error = 1' suppresses the monitoring and output of an error message if the permissible position lag is exceeded. May only be TRUE during commissioning. 5.9.10 Delayed generation of position lag error message (P- AXIS-00488) P-AXIS-00488 Delayed generation of position lag error message Description The parameter specifies a time delay for the position lag monitoring function from type 4 (velocity independent mode) used to delay the generation of the position lag error message, if the actual position lag exceeds the maximum permissible position lag. This permits a reduction in the maximum permissible position lag error limits (see P-AXIS-00168 [} 211], P-AXIS-00169 [} 211]) since an exceedance in dynamical phases does not immediately lead to an error message.. Parameter getriebe[i].pos_lag_mon_error_delay_time Data type UNS32 Data range 0 ≤ pos_lag_mon_error_delay_time ≤ 250000 Axis types T, R, S Dimension T: µs R,S: µs Default value 0 Drive types ---- Remarks Specifying a time delay > 0 leads to a delayed error message generation and delayed stopping of the drives, when the permitted position lag is exceeded. 5.10 Tendency test (P-AXIS-00189) P-AXIS-00189 Activation of tendency test Description To monitor the mathematical sign of the command signal and measuring encoder signal, it makes sense to activate trend monitoring on commissioning (parameter=1). Parameter kenngr.tendenz_pruef Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks 5.11 Settings for dynamic monitoring in position controller 5.11.1 Factor for permissible axis velocity (P-AXIS-00407) P-AXIS-00407 Factor for permissible axis velocity for dynamic monitoring function in the position controller TF5200 | Twin CAT 3 CNC Version: 1.172 215 Axis parameters
## Page 216

Parameters for position control Description This parameter specifies the permissible exceedance of the maximum permissible axis velocity (see P-AXIS-00212 [} 183]) before the dynamic monitoring function in the interpolator generates an error. The default value of the parameter is 1000 (100%), i.e. for axis velocisties greater then 2 * P-AXIS-00212 [} 183] generate a warning. The velocity monitoring is disabled for gantry slave axes and axes with axis specific transformations (see [AXIS//Parameters for axis-specific transformation [} 367]]. Parameter lr_param.dyn_monitoring_v_err Data type UNS32 Data range 0 ≤ dyn_monitoring_v_err ≤ MAX(UNS32) Axis types T, R, S Dimension T: 0.1% R,S: 0.1% Default value 1000 (100%) Drive types ---- Remarks ATTENTION: Setting the parameter = 0 turns the velocity monitoring function in the position controller off! This setting is not recommended! 216 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 217

Parameters for position control 5.12 Adaptation of command values NOTICE With drives whose position controller loop is closed in the CNC (see P-AXIS-00320 [} 267]), the velocity scaling is used during error reaction after an error in the controller loop. Therefore the velocity scaling must be set correctly. Plausibility check: If the velocity scaling is correct, a constant axis velocity is adjusts to the following position lag error (without feedforward control) at the set proportional gain getriebe[i].kv (see P-AXIS-00099 [} 199]). 5.12.1 Adaptation of command value of drive to the drive format (denominator, P-AXIS-00128) P-AXIS-00128 Adapting the drive command value to the drive format (denominator) Description The speed setpoint calculated in the position controller must be adapted to the D/A format of the D/A converter. The digital value at the D/A converter input (getriebe[i].multi_gain_z/getriebe[i].mulit_gain_n) must be specified at which the axis travels at the velocity of [1m/min] or at the speed [1000°/min]. Numerator: P-AXIS-00129 [} 217] Parameter getriebe[i].multi_gain_n Data type UNS32 Data range 1 ≤ multi_gain_n ≤ MAX(UNS32) Axis types T, R, S Dimension T: ---- R,S: ---- Default value 1 Drive types Simulation, Conventional, Terminal, Lightbus, Profidrive Remarks 5.12.2 Adaptation of command value of drive to the drive format (numerator, P-AXIS-00129) P-AXIS-00129 Adaptation of command value of drive to the drive format (numerator) Description The speed setpoint calculated in the position controller must be adapted to the D/A format of the D/A converter. The digital value at the D/A converter input (getriebe[i].multi_gain_z/getriebe[i].mulit_gain_n) must be specified at which the axis travels at the velocity of [1m/min] or at the speed [1000°/min]. Denominator : P-AXIS-00128 [} 217] Parameter getriebe[i].multi_gain_z Data type UNS32 Data range 1 ≤ multi_gain_z ≤ MAX(UNS32) Axis types T, R, S Dimension T: Bit R,S: Bit Default value 2000 Drive types Simulation, Conventional, Terminal, Lightbus, Profidrive Remarks TF5200 | Twin CAT 3 CNC Version: 1.172 217 Axis parameters
## Page 218

Parameters for position control 5.13 Measurement value adaptation 5.13.1 Distance resolution of measurement (denominator, P- AXIS-00233) P-AXIS-00233 Distance resolution of measurement (denominator) Description The distance resolution of the measuring system is entered in the dimension [increment/0.1 µm] for translatory axes or [increment/0.0001°] for rotary axes. The number of increments must be entered in 'getriebe[i].wegaufz' (numerator), the size of the motion path in [0.1µm] for translatory axes or in [0.0001°] for rotary axes in 'getriebe[i].wegaufn' (denominator). Parameter getriebe[i].wegaufn Data type UNS32 Data range 1 ≤ wegaufn ≤ MAX(UNS32) Axis types T, R, S Dimension T: 0.1 µm R,S: 0.0001° Default value 1 Drive types ---- Remarks These entries are not adopted when updating the axis parameter list. For updating to take effect, the control system must be restarted. Note that when a distance resolution is greater than 1, the motion range is restricted to less than (-MAX(UNS32)… +MAX(UNS32)) [µm/10-³ °]. If wegaufn is 0, the CNC generates the warning 110086 and corrects the parameter to the value 1. If P-AXIS-00234 [} 218]/ P-AXIS-00233 are used, the parameters P-AXIS-00362 [} 271] and P-AXIS-00363 [} 271] must be set to 1. Recommendation: It is recommended to set the path resolution using the parameters P-AXIS-00362 [} 271] and P-AXIS-00363 [} 271] . For possible applications, see Settings of position scaling [} 400] 5.13.2 Distance resolution of measurement system (numerator, P- AXIS-00234) P-AXIS-00234 Distance resolution of measurement (numerator) Description The distance resolution of the measuring system is entered in the dimension [increment/0.1 µm] for translatory axes or [increment/0.0001°] for rotary axes. The number of increments must be entered in 'getriebe[i].wegaufz' (numerator), the size of the motion path in [0.1µm] for translatory axes or in [0.0001°] for rotary axes in 'getriebe[i].wegaufn' (denominator). Parameter getriebe[i].wegaufz Data type UNS32 Data range 1 ≤ wegaufz ≤ MAX(UNS32) Axis types T, R, S Dimension T: increments R,S: increments Default value 1 Drive types ---- 218 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 219

Parameters for position control Remarks These entries are not taken over when the axis parameter list is updated. A controller reboot is required to update. Note that when a distance resolution is greater than 1, the motion range is restricted to less than (-MAX(UNS32)… +MAX(UNS32)) [µm/10-³ °]. If wegaufz is 0, the CNC generates the warning 110386 and corrects the parameter to the value 1. If P-AXIS-00234/ P-AXIS-00233 [} 218] are used, the parameters P-AXIS-00362 [} 271] and P-AXIS-00363 [} 271] must be set to 1. Recommendation: It is recommended to set the path resolution using the parameters P-AXIS-00362 [} 271] and P-AXIS-00363 [} 271] . For possible applications, see Settings of position scaling [} 400] 5.13.3 Identification code for absolute path measurement system (P- AXIS-00014) P-AXIS-00014 Identification code for absolute path measurement system Description If an absolute path measurement system is used, then the parameter must be set to 1. So no homing is necessary. Parameter kenngr.abs_pos_gueltig Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types Simulation, SERCOS, CANopen Remarks TF5200 | Twin CAT 3 CNC Version: 1.172 219 Axis parameters
## Page 220

Parameters for position control 5.14 Quantisation of the measuring system increments (P- AXIS-00323) P-AXIS-00323 Quantisation of the measuring system increments Description The control window (see P-AXIS-00236 [} 199]) and the tolerance limits of the revolution monitoring function (see P-AXIS-00217 [} 62]) are converted in the controller into the resolution of the measuring system. The parameter P-AXIS-00323 represents the minimal size of the tolerance region after this conversion (default value: 1 increment). Parameter lr_param.incr_quant Data type UNS32 Data range 1 ≤ incr_quant ≤ MAX(UNS32) Axis types T, R, S Dimension T: increments R,S: increments Default value 1 Drive types ---- Remarks 5.15 Definition of traverse distance between lubrication pulses (P-AXIS-00237) P-AXIS-00237 Definition of traverse distance between lubrication pulses Description This parameter is used to test for “travel distance exceeded”. If the axis travels the distance defined by the parameter again since the last lubrication pulse, the message 'Trigger lubrication pulse' is output in the form of a PDU. If no distance is set in the machine axis data (wsi_meldung = 0), then no PDU is output. The CNC object ac_<A>_wsi_impulses_r function reads the number of open lubrication pulses. The CNC object object ac_<A>_wsi_impulses_w clears the function. Parameter getriebe[i].wsi_meldung Data type SGN32 Data range 0 ≤ wsi_meldung ≤ MAX(UNS32) Axis types T, R, S Dimension T: mm R,S: °, rev Default value 0 Drive types ---- Remarks The resolution between the positions and WSI units is determined by the following constants which the user can still adapt. Default setting: Axis type Specified in Constant Value T mm WSI_AUFLOESUNG_TRANSL 10000 [0.1µm / mm] ATOR R ° (degree) WSI_AUFLOESUNG_ROTAT 10000 [0.0001° / °] OR SPINDLE Rev. WSI_AUFLOESUNG_SPINDE 10000*360 [0.0001° / L rev] 220 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 221

Parameters for position control 5.16 Settings for axis compensations 5.16.1 Activation of cross compensation (P-AXIS-00047) P-AXIS-00047 Activation of cross compensation Description This parameter activates the cross compensation. Parameter lr_param.crosscomp Data type BOOLEAN Data range 0/1 Axis types T Dimension T: ---- Default value 0 Drive types ---- Remarks 5.16.2 Activation of plane compensation (P-AXIS-00174) P-AXIS-00174 Activation of plane compensation Description This parameter activates the plane compensation (2-dimensional cross compensation). Parameter lr_param.crosscomp2 Data type BOOLEAN Data range 0/1 Axis types T Dimension T: ---- Default value 0 Drive types ---- Remarks 5.16.3 Activation of SSFK (P-AXIS-00175) P-AXIS-00175 Activation of SSFK Description This parameter activates the lead screw error compensation. Parameter lr_param.ssfk Data type BOOLEAN Data range 0/1 Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types ---- Remarks 5.16.4 Activation of friction compensation (P-AXIS-00522) P-AXIS-00522 Activation of friction compensation Description This parameter activates the friction compensation. Parameter lr_param.frict_comp Data type BOOLEAN TF5200 | Twin CAT 3 CNC Version: 1.172 221 Axis parameters
## Page 222

Parameters for position control Data range 0/1 Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types SERCOS, CANopen Remarks If friction compensation must be activated with the COMP command but it was not activated by the parameter P-AXIS-00522, the error message P-ERR-70495 is output. 5.17 Settings for the volumetric compensation (lr_param.vol_comp.*) 5.17.1 Maximum permissible correction value (P-AXIS-00525) P-AXIS-00525 Maximum permissible correction value (volumetric compensation) Description This parameter defines the maximum permissible correction value which can be included by the volumetric compensation in the axis. If this limit is exceeded, an error message is generated and the axis is stopped in a controlled way. This parameter should be configured for all Cartesian axes (including gantry slaves) involved in a volumetric compensation. Otherwise a warning is output during start- up. Parameter lr_param.vol_comp.s_limit Data type REAL64 Data range 0 ≤ s_limit < MAX(REAL64) Axis types T Dimension T: 0.1 µm Default value 0 Drive types ---- Remarks 5.17.2 Maximum permissible velocity (P-AXIS-00526) P-AXIS-00526 Maximum permissible velocity (volumetric compensation) Description This parameter defines the maximum permissible velocity by which the compensation values can be cleared out of the volumetric compensation. The position controller ensures by filter that this limit is never exceeded. This parameter should be configured for all Cartesian axes (including gantry slaves) involved in a volumetric compensation. Otherwise a warning is output during start- up. Parameter lr_param.vol_comp.v_limit Data type REAL64 Data range 0 ≤ v_limit < MAX(REAL64) Axis types T Dimension T: µm/s Default value 0 Drive types ---- Remarks 222 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 223

Parameters for position control 5.18 Settings for dynamic kv adjustment (getriebe[i].dyn_kv.*) With dynamic 'kv' adjustment the position controller gain can be altered dependent on the axis velocity. The required position control loop gain for two axis velocities must be defined. Position loop gain is linear interpolated between these two velocities. The figure below shows some examples of dependencies between position control loop gain and axis velocity. kv P-AXIS_00245 P-AXIS-00247 P-AXIS-00245 P-AXIS-00247 P-AXIS-00246 P-AXIS-00248 v_ax P-AXIS-00246 P-AXIS-00248 Fig. 29: Parameters of dynamic kv adjustment In SERCOS and CANopen drives, a velocity-dependent kv adjustment is only possible in CNC posi- tion control mode ( P-AXIS-00320 [} 267] = CNC_POSITION_CONTROL). 5.18.1 Activation of dynamic kv adjustment (P-AXIS-00244) P-AXIS-00244 Activation of dynamic kv adjustment Description Dynamic kv adjustment is activated with this parameter. Since this functionality is not available for SERCOS and CANOPEN drives, a warning is output and the functionality is automatically deselected for these drives. Parameter getriebe[i].dyn_kv.dyn_kv_active Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types Simulation, Conventional, Terminal, Lightbus, Profidrive Remarks TF5200 | Twin CAT 3 CNC Version: 1.172 223 Axis parameters
## Page 224

Parameters for position control 5.18.2 Parameters of dynamic kv adjustment - kv1 (P-AXIS-00245) P-AXIS-00245 Parameter of dynamic kv adjustment (kv1) Description With active kv adjustment, position loop gain is interpolated linear between the values P-AXIS-00245 (kv1) and P-AXIS-00247 (kv2) depending on the axis velocity. In combination with the axis velocities P-AXIS-00246 (v1) and P-AXIS-00248 (v2) between the value pairs P-AXIS-00246/P-AXIS-00245 and P-AXIS-00248/P- AXIS-00247, a straight line is defined which is used to calculate the actual position control loop gain kv_act. The following conditions for the parameters are active: P-AXIS-00248 > P-AXIS-00246 For axis velocities < P-AXIS-00246 and > P-AXIS-00248: kv_act_max = max(P-AXIS-00245, P-AXIS-00247) kv_act_min = min(P-AXIS-00245, P-AXIS-00247) Parameter getriebe[i].dyn_kv.kv1 Data type UNS32 Data range 1 < kv1 ≤ MAX(UNS32) Axis types T, R, S Dimension T: 0.01/s R,S: 0.01/s Default value 1000 Drive types Simulation, Conventional, Terminal, Lightbus, Profidrive Remarks 5.18.3 Parameters of dynamic kv adjustment - kv2 (P-AXIS-00247) P-AXIS-00247 Parameter of dynamic kv adjustment (kv2) Description With active kv adjustment, position loop gain is interpolated linear between the values P-AXIS-00245 (kv1) and P-AXIS-00247 (kv2) depending on the axis velocity. In combination with the axis velocities P-AXIS-00246 (v1) and P-AXIS-00248 (v2) between the value pairs P-AXIS-00246/P-AXIS-00245 and P-AXIS-00248/P- AXIS-00247, a straight line is defined which is used to calculate the actual position control loop gain kv_act. The following conditions for the parameters are active: P-AXIS-00248 > P-AXIS-00246 For axis velocities < P-AXIS-00246 and > P-AXIS-00248: kv_act_max = max(P-AXIS-00245, P-AXIS-00247) kv_act_min = min(P-AXIS-00245, P-AXIS-00247) Parameter getriebe[i].dyn_kv.kv2 Data type UNS32 Data range 1 < kv2 ≤ MAX(UNS32) Axis types T, R, S Dimension T: 0.01/s R,S: 0.01/s Default value 1000 Drive types Simulation, Conventional, Terminal, Lightbus, Profidrive Remarks 5.18.4 Parameters of dynamic kv adjustment - v1 (P-AXIS-00246) P-AXIS-00246 Parameter of dynamic kv adjustment (v1) 224 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 225

Parameters for position control Description With active kv adjustment, position loop gain is interpolated linear between the values P-AXIS-00245 (kv1) and P-AXIS-00247 (kv2) depending on the axis velocity. In combination with the axis velocities P-AXIS-00246 (v1) and P-AXIS-00248 (v2) between the value pairs P-AXIS-00246/P-AXIS-00245 and P-AXIS-00248/P- AXIS-00247, a straight line is defined which is used to calculate the actual position control loop gain kv_act. The following conditions for the parameters are active: P-AXIS-00248 > P-AXIS-00246 For axis velocities < P-AXIS-00246 and > P-AXIS-00248: kv_act_max = max(P-AXIS-00245, P-AXIS-00247) kv_act_min = min(P-AXIS-00245, P-AXIS-00247) Parameter getriebe[i].dyn_kv.v1 Data type UNS32 Data range 0 < v1 ≤ MAX(UNS32) Axis types T, R, S Dimension T: µm/s R,S:0.001°/s Default value 1000 Drive types Simulation, Conventional, Terminal, Lightbus, Profidrive Remarks 5.18.5 Parameters of dynamic kv adjustment - v2 (P-AXIS-00248) P-AXIS-00248 Parameter of dynamic kv adjustment (v2) Description With active kv adjustment, position loop gain is interpolated linear between the values P-AXIS-00245 (kv1) and P-AXIS-00247 (kv2) depending on the axis velocity. In combination with the axis velocities P-AXIS-00246 (v1) and P-AXIS-00248 (v2) between the value pairs P-AXIS-00246/P-AXIS-00245 and P-AXIS-00248/P- AXIS-00247, a straight line is defined which is used to calculate the actual position control loop gain kv_act. The following conditions for the parameters are active: P-AXIS-00248 > P-AXIS-00246 For axis velocities < P-AXIS-00246 and > P-AXIS-00248: kv_act_max = max(P-AXIS-00245, P-AXIS-00247) kv_act_min = min(P-AXIS-00245, P-AXIS-00247) Parameter getriebe[i].dyn_kv.kv2 Data type UNS32 Data range v1 < v2 ≤ MAX(UNS32) Axis types T, R, S Dimension T: µm/s R,S: 0.001°/s Default value 2000 Drive types Simulation, Conventional, Terminal, Lightbus, Profidrive Remarks 5.19 Parameters for distance control When electronic probe systems or sensors are used, distance control (e.g. touching a curved surface of a plate) or height control (e.g. compensating for thickness tolerances of the workpiece) permits actions such as movements in the Z axis. These actions superimpose the programmed position of the axis when an NC program is interpolated. TF5200 | Twin CAT 3 CNC Version: 1.172 225 Axis parameters
## Page 226

Parameters for position control Distance control is currently only available for SERCOS, Profidrive or CANopen drives. Settings relevant to distance control can be defined using the following axis parameters. For descriptions in greater detail, see [FCT-M3]. As of CNC Builds V3.1.3080.12 or V3.1.3107.44, the following parameters are available using the structure kenngr.dist_ctrl[i]. Structure name Index .dist_ctrl[i]. i = 0 (only one distance control available in per axis) Previous access using kenngr.distc continues to be provided for compatibility reasons. 5.19.1 Enabling of distance control (P-AXIS-00328) P-AXIS-00328 Enabling of distance control (spindle with touch probe) Description The distance control for a spindle with touch probe is enabled with this parameter. The activation is done by a special command in the NC program [PROG//section 'Distance controlled spindles']. Parameter lr_param.distance_control_on Data type BOOLEAN Data range 0/1 Axis types T, R Dimension T: ---- R: ---- Default value 0 drive types. SERCOS, Profidrive, CANopen Remarks 5.19.2 Filtering of sensor values (P-AXIS-00413) P-AXIS-00413 Filtering of sensor values Description Sensor values may be noisy. To keep excitation of the machine low, the setpoints for distance control can be smoothed by a filter. The parameter specified the number of values that are used for filtering. Parameter kenngr.dist_ctrl[i].n_cycles (where i=0) Data type SGN32 Data range 0 ≤ n_cycles < 100 Axis types T, R Dimension T: ---- R: ---- Default value 4 Drive types SERCOS, Profidrive, CANopen Remarks Available as of Build V3.1.3080.12 or V3.1.3107.44 For compatibility reasons, the parameter kenngr.distc.n_cycles continues to be available. 5.19.3 Maximum position offset (P-AXIS-00414) P-AXIS-00414 Maximum position offset 226 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 227

Parameters for position control Description The correction value of the axis that was calculated via distance control may not exceed this machine data item. An error message is issued if this value is exceeded. The correction value is limited. Parameter kenngr.dist_ctrl[i].max_deviation (where i=0) Data type SGN32 Data range 0 ≤ max_deviation < MAX(SGN32) Axis types T, R Dimension T: 0.1µm R: 0.0001 ° Default value 50000 Drive types SERCOS, Profidrive, CANopen Remarks Available as of Build V3.1.3080.12 or V3.1.3107.44 For compatibility reasons, the parameter kenngr.distc.max_deviation continues to be available. 5.19.4 Maximum velocity (P-AXIS-00415) P-AXIS-00415 Maximum velocity Description The parameter defines the maximum velocity at which a position offset is cleared. Distance compensation is dynamically limited to maximum velocity to limit any resulting excitation. Parameter kenngr.dist_ctrl[i].v_max (where i=0) Data type SGN32 Data range 0 ≤ v_max < MAX(SGN32) Axis types T, R Dimension T: 0.001 mm/s R: 0,001°/s Default value 5000 Drive types SERCOS, Profidrive, CANopen Remarks Available as of Build V3.1.3080.12 or V3.1.3107.44 For compatibility reasons, the parameter kenngr.distc.v_max continues to be available. 5.19.5 Maximum acceleration (P-AXIS-00416) P-AXIS-00416 Maximum acceleration Description The parameter defines the maximum acceleration at which a position offset is executed. Correction of the distance is limited dynamically with respect to maximum acceleration to limit the resulting excitation. If no acceleration is specified, the maximum axis acceleration is used automatically (see P-AXIS-00008 [} 184]). Parameter kenngr.dist_ctrl[i].a_max (where i=0) Data type SGN32 Data range 0 ≤ a_max < MAX(SGN32) Axis types T, R Dimension T: 1 mm/s² R: 1°/s² Default value 0 Drive types SERCOS, Profidrive, CANopen TF5200 | Twin CAT 3 CNC Version: 1.172 227 Axis parameters
## Page 228

Parameters for position control Remarks When this parameter is 0, the maximum axis acceleration P-AXIS-00008 [} 184] is used. Available as of Build V3.1.3080.12 or V3.1.3107.44 For compatibility reasons, the parameter kenngr.distc.a_max continues to be available. 5.19.6 Maximum permissible change speed of measured distance (P- AXIS-00417) P-AXIS-00417 Maximum permissible change speed of measured distance Description The parameter defines the maximum permissible change in velocity of the measured distance. When distance control is activated, the sensor actual values are monitored for their change velocity. If the maximum permissible change in velocity is exceeded, the error message ID 70329 is output. This detects problems with actual value detection. Parameter kenngr.dist_ctrl[i].max_act_value_change (where i=0) Data type SGN32 Data range 0 ≤ max_act_value_change < MAX(SGN32) Axis types T, R Dimension T: µm/s R: 0.0001°/s Default value 5000 Drive types SERCOS, Profidrive, CANopen Remarks Available as of Build V3.1.3080.12 or V3.1.3107.44 For compatibility reasons, the parameter kenngr.distc.max_act_value_change continues to be available. 5.19.7 Reference point offset for control measuring system (P- AXIS-00418) P-AXIS-00418 Reference point offset for measuring system Description The value range of the sensor measuring system can be moved by an offset using this machine data item. This is necessary in the case of absolute sensors, for example, to define the reference point, i.e. the sensor position that is adjusted if the spindle touches the ideal workpiece surface. Parameter kenngr.dist_ctrl[i].ref_offset (where i=0) Data type SGN32 Data range MIN(SGN32) ≤ ref_offset < MAX(SGN32) Axis types T, R Dimension T: 0.1µm R: 0.0001 ° Default value 0 (No offset) Drive types SERCOS, Profidrive, CANopen Remarks Available as of Build V3.1.3080.12 or V3.1.3107.44 For compatibility reasons, the parameter kenngr.distc.ref_offset continues to be available. 228 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 229

Parameters for position control 5.19.8 Upper limit for measuring system (P-AXIS-00419) P-AXIS-00419 Upper limit for measuring system Description The parameter defines the upper limit of the sensor. An error message is output if this limit is exceeded when distance control is active. Parameter kenngr.dist_ctrl[i].max_pos (where i=0) Data type SGN32 Data range 0 ≤ max_pos < MAX(SGN32) Axis types T, R Dimension T: 0.1µm R: 0.0001 ° Default value 50000 Drive types SERCOS, Profidrive, CANopen Remarks Available as of Build V3.1.3080.12 or V3.1.3107.44 For compatibility reasons, the parameter kenngr.distc.max_pos continues to be available. 5.19.9 Lower limit for measuring system (P-AXIS-00420) P-AXIS-00420 Lower limit for measuring system Description The following value defines the lower limit of the sensor. An error message is generated if it is exceeded while distance control is active. Parameter kenngr.dist_ctrl[i].min_pos (where i=0) Data type SGN32 Data range 0 ≤ min_pos < MAX(SGN32) Axis types T, R Dimension T: 0.1µm R: 0.0001 ° Default value -50000 Drive types SERCOS, Profidrive, CANopen Remarks Available as of Build V3.1.3080.12 or V3.1.3107.44 For compatibility reasons, the parameter kenngr.distc.min_pos continues to be available. 5.19.10 Tolerance band for limits (P-AXIS-00421) P-AXIS-00421 Tolerance band for limits Description This parameter defines a minimum distance from the minimum and maximum sensor positions. If this distance is undershot, the CNC generates the error messages ID 70330 or ID 70576. If the tolerance band is specified by zero, the limits of the minimum and maximum sensor positions from the axis parameters P-AXIS-00419 [} 229] and P- AXIS-00420 [} 229] have a direct effect. Parameter kenngr.dist_ctrl[i].tolerance (where i=0) Data type SGN32 Data range 0 ≤ tolerance < MAX(SGN32) Axis types T, R Dimension T: 0.1µm R: 0.0001 ° Default value 0 Drive types SERCOS, Profidrive, CANopen TF5200 | Twin CAT 3 CNC Version: 1.172 229 Axis parameters
## Page 230

Parameters for position control Remarks Available as of Build V3.1.3080.12 or V3.1.3107.44 For compatibility reasons, the parameters kenngr.distc.tolerance and kenngr.distc.toleranz continue to be available. 5.19.11 Consideration of distance control in software limit switch monitoring (P-AXIS-00428) P-AXIS-00428 Consideration of distance control in software limit switch monitoring Description This parameter defines whether the calculated distance control offset is included in the software limit switch monitor (see [FCT-A2]). Parameter kenngr.dist_ctrl[i].check_sw_limit_switch (where i=0) Data type BOOLEAN Data range 0: Offset of distance control is not considered in software limit switch monitoring (default). 1: Offset of distance control is considered in software limit switch monitoring. Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types SERCOS, Profidrive, CANopen Remarks Available as of Build V3.1.3080.12 or V3.1.3107.44 For compatibility reasons, the parameter kenngr.distc.check_sw_limit_switch continues to be available. 5.19.12 Option: Coupling of distance sensor and motor encoder (P- AXIS-00500) P-AXIS-00500 Option: Coupling of distance sensor and motor encoder Description As an extension, both the distance sensor and the Z actual value sensor can be used. The inverse coupling of the two sensors can reduce an oscillation tendency. Parameter kenngr.dist_ctrl[i].mode_dist_use_both_encoder (where i=0) Data type BOOLEAN Data range 0: No coupling 1: Coupling of motor encoder and distance sensor active Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types SERCOS, Profidrive, CANopen Remarks Available as of Build V3.1.3080.12 or V3.1.3107.44 For compatibility reasons, the parameter kenngr.distc.mode_dist_use_both_encoder continues to be available. 5.19.13 Option: Adaptive weighting of acceleration (P-AXIS-00501) P-AXIS-00501 Option: Adaptive weighting of acceleration 230 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 231

Parameters for position control Description To reduce a possible oscillation the acceleration can be reduced for small deviations. Parameter kenngr.dist_ctrl[i].use_adaptive_acceleration (where i=0) Data type BOOLEAN Data range 0: No adaptive weighting of acceleration 1: Adaptive weighting of acceleration active Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types SERCOS, Profidrive, CANopen Remarks In addition the following limits for acceleration and distance error must be configured: P-AXIS-00502 [} 231] or P-AXIS-00416 [} 227] and P-AXIS-00504 [} 232] or P-AXIS-00505 [} 232] Available as of Build V3.1.3080.12 or V3.1.3107.44 For compatibility reasons, the parameter kenngr.distc.use_adaptive_acceleration continues to be available. Fig. 30: Parameters for acceleration and distance error 5.19.13.1 Minimum acceleration (P-AXIS-00502) P-AXIS-00502 Minimum acceleration Description The parameter defines the minimum acceleration of distance control. Parameter kenngr.dist_ctrl[i].a_min (where i=0) Data type UNS32 Data range 1 ... MAX (UNS32) Axis types T, R Dimension T: mm/s² R: mm/s² Default value 500 Drive types SERCOS, Profidrive, CANopen Remarks Available as of Build V3.1.3080.12 or V3.1.3107.44 For compatibility reasons, the parameter kenngr.distc.a_min continues to be available. TF5200 | Twin CAT 3 CNC Version: 1.172 231 Axis parameters
## Page 232

Parameters for position control The maximum acceleration of distance control is defined in parameter P-AXIS-00416 [} 227] . 5.19.13.2 Minimum distance error (P-AXIS-00504) P-AXIS-00504 Minimum distance error Description The parameter defines the minimum distance error for distance control up to which the minimum acceleration (P-AXIS-00502 [} 231]) is used. Parameter kenngr.dist_ctrl[i].dist_error_a_min (where i=0) Data type UNS32 Data range 0 ≤ P-AXIS-00504 < MAX(UNS32) Axis types T, R Dimension T: 0.1µm R: 0.0001 ° Default value 1000 Drive types SERCOS, Profidrive, CANopen Remarks Available as of Build V3.1.3080.12 or V3.1.3107.44 For compatibility reasons, the parameter kenngr.distc.dist_error_a_min continues to be available. 5.19.13.3 Maximum distance error (P-AXIS-00505) P-AXIS-00505 Maximum distance error Description The parameter defines the maximum distance error for distance control from which the maximum acceleration (P-AXIS-00416 [} 227]) is used. Parameter kenngr.dist_ctrl[i].dist_error_a_max (where i=0) Data type UNS32 Data range 0 ≤ P-AXIS-00505 < MAX(UNS32) Axis types T, R Dimension T: 0.1µm R: 0.0001 ° Default value 5000 Drive types SERCOS, Profidrive, CANopen Remarks Available as of Build V3.1.3080.12 or V3.1.3107.44 For compatibility reasons, the parameter kenngr.distc.dist_error_a_max continues to be available. 5.19.14 Option: Low pass filter (P-AXIS-00506) P-AXIS-00506 Option: Low-pass filter Description The tendency for oscillation can be better suppressed by using a low-pass filter. For more information see [FCT-A7]. Parameter kenngr.dist_ctrl[i].low_pass_filter_enable (where i=0) Data type BOOLEAN Data range 0: Without low pass filter 1: Low pass filter active Axis types T, R Dimension T: ---- R: ---- 232 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 233

Parameters for position control Default value 0 Drive types SERCOS, Profidrive, CANopen Remarks In addition the following filter parameters for order and limit frequency must be configured: P-AXIS-00507 [} 233] and P-AXIS-00508 [} 233] Available as of Build V3.1.3080.12 or V3.1.3107.44 For compatibility reasons, the parameter kenngr.low_pass_filter_enable continues to be available. 5.19.14.1 Order of the filter (P-AXIS-00507) P-AXIS-00507 Order of the filter Description The filter order describes its behaviour in the event of a drop in frequency response. The following applies: Frequency drop = - P-AXIS-00507 20 d B/decade * Parameter kenngr.dist_ctrl[i].low_pass_filter_order (where i=0) Data type UNS32 Data range 0 … 6 Axis types T, R Dimension T: ---- R: ---- Default value 4 Drive types SERCOS, Profidrive, CANopen Remarks Available as of Build V3.1.3080.12 or V3.1.3107.44 For compatibility reasons, the parameter kenngr.distc.low_pass_filter_order continues to be available. 5.19.14.2 Characteristic frequency of a filter (P-AXIS-00508) P-AXIS-00508 Filter cut-off frequency Description The parameter defines the value of a filter's characteristic frequency. Parameter kenngr.dist_ctrl[i].low_pass_filter_fg_f0 (where i=0) Data type REAL64 Data range 0 ≤ low_pass_filter_fg_f0 < MAX(REAL64) Axis types T, R Dimension T: Hz R: Hz Default value 25 Drive types SERCOS, Profidrive, CANopen Remarks Available as of Build V3.1.3080.12 or V3.1.3107.44 For compatibility reasons, the parameter kenngr.distc.low_pass_filter_fg_f0 continues to be available. 5.19.15 Option: Dead time reduction (P-AXIS-00509) P-AXIS-00509 Option: Dead time reduction Description The dead time of distance control can be reduced by an optimised schedule of the CNC. TF5200 | Twin CAT 3 CNC Version: 1.172 233 Axis parameters
## Page 234

Parameters for position control Parameter kenngr.dist_ctrl[i].optimized_scheduling (where i=0) Data type BOOLEAN Data range 0: Without optimised scheduling 1: Optimised scheduling active Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types SERCOS, Profidrive, CANopen Remarks Available as of Build V3.1.3080.12 or V3.1.3107.44 For compatibility reasons, the parameter kenngr.distc.optimized_scheduling continues to be available. 5.19.16 Velocity weighting for the lowering movement (P-AXIS-00533) P-AXIS-00533 Weighting factor for velocity of lowering movement Description This parameter weights the velocity (see P-AXIS-00415 [} 227]) of the lowering movement (towards the workpiece). This can be useful since the lifting movement is normally highly dynamic in order to avoid an obstacle or elevation quickly. Due to the weighting factor, it is possible to use a reduced velocity for (re-)approaching the workpiece. Parameter kenngr.distc.dist_ctrl[i].v_weight_down (where i=0) Data type UNS32 Data range 0 ≤ v_weight_down < 2000 Axis types T, R Dimension T: 0.1% R: 0.1% Default value 0 * Drive types SERCOS, Profidrive, CANopen Remarks * The weighting is deactivated; lifting and lowering movements use the identical velocity P-AXIS-00415 [} 227]. Available as of Build V3.1.3080.12 or V3.1.3107.44 For compatibility reasons, the parameter kenngr.distc.v_weight_down (available as of V2.11.2807.13) continues to be available. 5.19.17 Weighting the distance control output values (P-AXIS-00759) P-AXIS-00759 Weighting the distance control output values Description The parameter weights the cyclic output value of distance control. This may affect distance control dynamics. For kp values less than 1.0, distance control dynamics are reduced; for kp value greater than 1.0, dynamics are increased. Parameter kenngr.dist_ctrl[i].kp (where i=0) Data type REAL64 Data range 0.0 < kp <= 2.0 Axis types T, R Dimension T: ---- R: ---- Default value 1.0 Drive types SERCOS, Profidrive, CANopen 234 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 235

Parameters for position control Remarks A kp factor less than 1 reduces a possible distance control oscillation and steadies the control in the event of minor distance errors. Available as of Build V3.1.3080.12 or V3.1.3107.44 For compatibility reasons, the parameter kenngr.distc.kp (as of V2.11.2809.06 and V3.1.3079.06 continues to be available. 5.19.18 Acceleration weighting for the lowering movement (P- AXIS-00534) P-AXIS-00534 Weighting factor for acceleration of lowering movement Description This parameter weights the velocity (see P-AXIS-00416 [} 227]) of the lowering movement (towards the workpiece). This can be useful since the lifting movement is normally highly dynamic in order to avoid an obstacle or elevation quickly. Due to the weighting factor, it is possible to use a reduced acceleration for (re-)approaching the workpiece. Parameter kenngr.distc.a_weight_down Data type UNS32 Data range 0 ≤ a_weight_down < 2000 Axis types T, R Dimension T: 0.1% R: 0.1% Default value 0 * Drive types SERCOS, Profidrive, CANopen Remarks * The weighting is deactivated; lifting and lowering movements use the identical acceleration P-AXIS-00416 [} 227]. Available as of Build V3.1.3080.12 or V3.1.3107.44 For compatibility reasons, the parameter kenngr.distc.a_weight_down (as of V2.11.2807.13) continues to be available. 5.19.19 Integral action time of PID controller (P-AXIS-00764) P-AXIS-00764 Integral (I) action time of the PID controller Description This parameter weights the I component of the PID controller. The integral action time defines the time after which the P and I components of the manipulated variable are equal. A large integral action time produces greater control stability. The shorter the integration action time, the greater the I component and the faster the control. Disable the I component by i_tn = 0. Parameter kenngr.dist_ctrl[i].i_tn (where i=0) Data type REAL64 Data range 0.0 <= i_tn <= 50.0 Axis types T, R Dimension T: s R: s Default value 0.0 Drive types SERCOS, Profidrive, CANopen TF5200 | Twin CAT 3 CNC Version: 1.172 235 Axis parameters
## Page 236

Parameters for position control Remarks To begin with, it is advisable to select a high initial value for the integral action time setting (e.g. 5) to avoid instability in the control loop. You can then reduce the integral action time step by step to obtain the effect you require. If there are no permanent control deviations, do not use the I component at first. Available as of Build V3.1.3080.12 or V3.1.3107.44 For compatibility reasons, the parameter kenngr.distc.i_tn (as of V2.11.2809.06 and V3.1.3079.06) continues to be available. 5.19.20 Derivative action time of PID controller (P-AXIS-00765) P-AXIS-00765 Derivative (D) action time of the PID controller Description This parameter weights the D component of the PID controller. The derivative action time defines the time after which the P and D components of the manipulated variable are equal. The derivative action time stabilises controller behaviour and reduces oscillations. The larger the derivative action time, the stronger the D component. Disable the D component by d_tv=0. Parameter kenngr.dist_ctrl[i].d_tv (where i=0) Data type REAL64 Data range 0.0 <= d_tv <= 2.0 Axis types T, R Dimension T: s R: s Default value 0.0 Drive types SERCOS, Profidrive, CANopen Remarks To begin with, it is advisable to select a low initial value for the derivative action time setting to avoid instability in the control loop (e.g.: 0.01). You can then reduce the derivative action time step by step to obtain the effect you require. Available as of Build V3.1.3080.12 or V3.1.3107.44 For compatibility reasons, the parameter kenngr.distc.d_tv (as of V2.11.2809.06 and V3.1.3079.06) continues to be available. 5.19.21 Filter type for smoothing sensor values (P-AXIS-00782) P-AXIS-00782 Filter type for smoothing sensor data Description Sensor values may be noisy. The oscillation tendency can better be suppressed by using a suitable filter . You can select the following filter types for distance control: • DEFAULT: Moving averaging filter with P-AXIS-00413 [} 226] = 4 • MOVING_AVERAGE: Moving averaging filter • LOWPASS: Low-pass filter • KALMAN_MA: Kalman filter with prediction from averaging filter • EXPO_MEAN: Exponentially weighted averaging filter • KALMAN_EXPO: Kalman filter with prediction from exponentially weighted averaging filter Parameter kenngr.dist_ctrl[i].filter_type (where i=0) Data type STRING 236 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 237

Parameters for position control Data range DEFAULT MOVING_AVERAGE LOWPASS KALMAN_MA EXPO_MEAN KALMAN_EXPO Axis types T, R Dimension T: ---- R: ---- Default value DEFAULT Drive types SERCOS, Profidrive, CANopen Remarks In addition, the following filter parameters are required for each of the filter types:: • MOVING_AVERAGE: P-AXIS-00413 [} 226] • LOWPASS: P-AXIS-00507 [} 233], P-AXIS-00508 [} 233] (As of v3.1.3079.21 this setting replaces the parameter P-AXIS-00506 [} 232]) • KALMAN_MA: P-AXIS-00413 [} 226], P-AXIS-00783 [} 237] • EXPO_MEAN: P-AXIS-00413 [} 226], P-AXIS-00784 [} 237] • KALMAN_EXPO: P-AXIS-00413 [} 226], P-AXIS-00784 [} 237], P-AXIS-00783 [} 237] Available as of Build V3.1.3080.12 or V3.1.3107.44 For compatibility reasons, the parameter kenngr.distc.filter_type continues to be available. 5.19.22 Uncertainty of measurement values (P-AXIS-00783) P-AXIS-00783 Uncertainty of measured values Description The parameter specifies the degree of deviation of the measured value from the actual values. The higher this value, the better the filter effect. However, possible overshoots are amplified. Parameter kenngr.dist_ctrl[i].kalman_sigma (where i=0) Data type REAL64 Data range 1.0 ≤ P-AXIS-00783 ≤ 10000.0 Axis types T, R Dimension T: ---- R: ---- Default value 4 Drive types SERCOS, Profidrive, CANopen Remarks Available as of Build V3.1.3080.12 or V3.1.3107.44 For compatibility reasons, the parameter kenngr.distc.kalman_sigma continues to be available. 5.19.23 Smoothing factor (P-AXIS-00784) P-AXIS-00784 Smoothing factor TF5200 | Twin CAT 3 CNC Version: 1.172 237 Axis parameters
## Page 238

Parameters for position control Description The parameter specifies the weighting of the current measured value. Example: With a smoothing factor of 0.5, the current value is applied to the average value at a rate of 50%. Parameter kenngr.dist_ctrl[i].smoothing_factor (where i=0) Data type REAL64 Data range 0 < P-AXIS-00784 ≤ 1.0 Axis types T, R Dimension T: ---- R: ---- Default value 0.7 Drive types SERCOS, Profidrive, CANopen Remarks Available as of Build V3.1.3080.12 or V3.1.3107.44 For compatibility reasons, the parameter kenngr.distc.smoothing_factor continues to be available. 5.20 Position controller dead band (P-AXIS-00395) P-AXIS-00395 Position controller dead band Description In order to prevent the position controller from continuously outputting a setpoint value at standstill, this parameter defines a minimal position lag and, if this limit is undershot, the output of a setpoint value is suppressed. Parameter getriebe[i].pos_control_deadband Data type UNS32 Data range [0 ... MIN(P-AXIS-00236 [} 199], P-AXIS-00472 [} 199])] Axis types T, R, S Dimension T: 0.1µm R,S: 0.1 mdeg Default value 0 drive types. ---- Remarks The dead band may not be bigger than the position windows defined for the axis (P- AXIS-00236 [} 199], P-AXIS-00472 [} 199]) (see also ID 110528, ID 110561). A setpoint value is output continuously with a value of 0 (default) . The value of P-AXIS-00395 scaled in encoder increments (see P-AXIS-00233 [} 218], P-AXIS-00234 [} 218]) must be ≥ 1 (see also ID 110529). This parameter is only effective with CNC position control. 238 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 239

Parameters for position control 5.21 Settings for I (Integral) -position control 5.21.1 Integral time Tn for I-position control (P-AXIS-00495) P-AXIS-00495 Integral time Tn for I-position control Description The I-position controller has the integral time Tn. The parameter is only effective if the CNC-internal position controller is used. For drive amplifiers with integrated position control, the integral time must be defined inside the drive. When this value range is undershot, the error message P-ERR-110575 is output and the I-position controller is switched off. When the permissible value range is overshot, the error message P-ERR-110574 is output and the I-position controller is switched off. Parameter getriebe[i].integral_time Data type UNS32 Data range 1000 ≤ integral_time ≤ 60000000 Axis types T, R, S Dimension T: µs R,S: µs Default value 0 * Drive types ---- Remarks *(I-Regler off) 5.21.2 Maximum output for I-position control (P-AXIS-00496) P-AXIS-00496 Maximum output for I-position control Description The actuating value output by the I-position controller can be limited. The limit value is specified in 0.1% of the maximum permissible axis velocity (P-AXIS-00212 [} 183]). When the maximum value is overshot, the error message P-ERR-110576 is output and the value is corrected to 1000. Parameter getriebe[i].integral_limit Data type UNS16 Data range 0 ≤ integral_linit ≤ 1000 Axis types T, R, S Dimension T: 0.1% R,S: 0.1% Default value 100 Drive types ---- Remarks 5.21.3 Switch on delay for I-position control (P-AXIS-00497) P-AXIS-00497 Switch on delay for I-position control Description I-position control is only activated when the drive signals that it is ready to follow the command values. This is detected by the controller which evaluated the status bits provided by the drive. When the drive does not follow the command values despite the signalled state, an output value may occur at the I-controller output and this leads to a beat on the axis. This parameter defines a delay for activation of the I-controller. When the maximum value is overshot, the error message P-ERR-110573 is output and the value is corrected to 500'000. Parameter lr_param.i_control_on_delay TF5200 | Twin CAT 3 CNC Version: 1.172 239 Axis parameters
## Page 240

Parameters for position control Data type UNS32 Data range 0 ≤ i_control_on_delay ≤ 500'000 Axis types T, R, S Dimension T: µs R,S: µs Default value 0 Drive types ---- Remarks 5.21.4 Clear Integrator if drive is switched off (P-AXIS-00498) P-AXIS-00498 Clear Integrator if drive is switched off Description By default the I-position controller is stopped when the drive is disabled and the currently enabled actual output value continues to be output. This parameter defines that the I-position controller outputs the manipulated variable 0 when the drive is disabled. Parameter lr_param.i_control_output_clear_disable Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks 5.22 Improved Position Control (lr_param.improved_position_control.*) 5.22.1 activation (P-AXIS-00758) P-AXIS-00758 Enabling the "Improved Position Control" function Description This parameter enables or disables the "Improved Position Control" function. Parameter lr_param.improved_position_control.enable Data type BOOLEAN Data range 0: Improved Position Control is not active 1: Improved Position Control is active Axis types T, R, S Dimension T: ---- R, S: ---- Default value 0 Drive types SERCOS, Profidrive, CANopen Remarks Parameter available as of CNC Build V3.1.3077.08 and higher 5.22.2 Factor for permissible additive velocity (P-AXIS-00757) P-AXIS-00757 Factor for the maximum permissible additive velocity 240 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 241

Parameters for position control Description This parameter limits the maximum permissible additive velocity of the "Improved Position Control" function. The additive velocity is limited in proportion to the maximum axis velocity. max. additive velocity = P-AXIS-00757 / 1000 x P-AXIS-00212 [} 183] If the additive velocity exceeds the calculated value, the limit value continues to be output as the additive velocity. Parameter lr_param.improved_position_control.v_add_max_fact Data type UNS16 Data range 0 <= v_add_max_fact <= 2000 Axis types T, R, S Dimension T: 0.1% R, S: 0.1% Default value 0 Drive types SERCOS, Profidrive, CANopen Remarks No warning is output if the maximum velocity is exceeded. Parameter available as of CNC Build V3.1.3077.08 and higher 5.22.3 Mode (P-AXIS-00753) P-AXIS-00753 Mode for the "Improved Position Control" function Description The following modes are provided for the "Improved Position Control" function and they are applicable simultaneously to various stages. • NOT_ACTIVE: IPC is not active. • DIRECT: IPC uses direct measured values. Direct measured values can either come from a direct measuring system or originate from a motor encoder as the actual velocity. • INDIRECT: IPC uses values that are based on the simulation of the mechanical vibration by the measured actual motor velocity. • SET_POINT: IPC uses values that are based on the simulation of the mechanical vibration by the command velocity. Parameter lr_param.improved_position_control.stage[i].mode Data type UNS32 Data range 0 - NOT_ACTIVE 1 - DIRECT 2 - INDIRECT 3 - SET_POINT Axis types T, R, S Dimension T: —- R, S: —- Default value 0 Drive types SERCOS, Profidrive, CANopen Remarks Parameter available as of CNC Build V3.1.3077.08 and higher 5.22.4 Weighting factor numerator (P-AXIS-00754) P-AXIS-00754 Weighting factor numerator TF5200 | Twin CAT 3 CNC Version: 1.172 241 Axis parameters
## Page 242

Parameters for position control Description Weighting factor numerator. The weighting is calculated from P-AXIS-00754 and P- AXIS-00755 [} 242]: Weighting factor = P-AXIS-00754 / P-AXIS-00755 [} 242] The weighting factor affects the output additive velocity per stage. The weighting factor is limited to a maximum value of 7.0. A weighting factor of <1 reduces the output additive velocity. A weighting factor of >1 increases the output additive velocity. Parameter lr_param.improved_position_control.stage[i].weight_fact_num Data type UNS32 Data range 0 < weight_fact_num < MAX(UNS32) Axis types T, R, S Dimension T: —- R, S: —- Default value 1 Drive types SERCOS, Profidrive, CANopen Remarks To ensure the reliable activation of the "Improved Position Control" function, it is advisable to raise the additive velocity slowly via the weighting factor. Parameter available as of CNC Build V3.1.3077.08 and higher 5.22.5 Weighting factor denominator (P-AXIS-00755) P-AXIS-00755 Weighting factor denominator Description Weighting factor denominator. The weighting factor is calculated from P-AXIS-00754 [} 241] and P-AXIS-00755. Weighting factor = P-AXIS-00754 [} 241] / P-AXIS-00755 The weighting factor affects the output additive velocity per stage. The weighting factor is limited to a maximum value of 7.0. A weighting factor of <1 reduces the output additive velocity; a weighting factor of >1 increases the output additive velocity. Parameter lr_param.improved_position_control.stage[i].weight_fact_denom Data type UNS32 Data range 0 < weight_fact_denom < MAX(UNS32) Axis types T, R, S Dimension T: —- R, S: —- Default value 1 Drive types SERCOS, Profidrive, CANopen Remarks To ensure the reliable activation of the Improved Position Control function, it is advisable to raise the additive velocity slowly via the weighting factor. 5.22.6 Order of the bandpass filter (P-AXIS-00750) P-AXIS-00750 Order of band-pass filter Description This parameter defines the order of the band-pass filter for all modes (P-AXIS-00753 [} 241]). In addition, this parameter is a value which expresses the fall of frequency response (fall = -order x 20 d B/decade). Parameter lr_param.improved_position_control.stage[i].filter.order Data type UNS32 Data range 1 <= order <= 3 Axis types T, R, S 242 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 243

Parameters for position control Dimension T: —- R, S: —- Default value 0 Drive types SERCOS, Profidrive, CANopen Remarks 5.22.7 Damped frequency (P-AXIS-00751) P-AXIS-00751 Damped frequency Description The parameter defines the frequency that is to be actively damped by the "Improved Position Control" function. The middle frequency is specified for all modes P-AXIS-00753 [} 241] for the band- pass frequency. For the “INDIRECT” and SET_POINT modes, the simulation of the mechanical vibration is based on the same frequency. Parameter lr_param.improved_position_control.stage[i].filter.fg_f0 Data type REAL64 Data range 0.0 < fg_f0 <= 500.0 Axis types T, R, S Dimension T: Hz R, S: Hz Default value -1 Drive types SERCOS, Profidrive, CANopen Remarks The "Improved Position Control" function achieves the best results when the dominant frequency of the mechanical vibration is precisely met. The measured frequency may deviate from the actual frequency due to measurement inaccuracies. In many cases, the performance of the function can be enhanced by varying the parameter fg_f0 within a narrow range. Parameter available as of CNC Build V3.1.3077.08 and higher 5.22.8 Quality factor of the bandpass filter (P-AXIS-00752) P-AXIS-00752 Quality factor of the band-pass filter Description Specifies the inverse value of the bandwidth for the band-pass filter for all modes (P- AXIS-00753 [} 241]). P-AXIS-00752 = P-AXIS-00751 [} 243] / bandwidth Parameter lr_param.improved_position_control.stage[i].filter.q_factor Data type REAL64 Data range 1.0 <= q_factor <= 10.0 Axis types T, R, S Dimension T: —- R, S: —- Default value -1 Drive types SERCOS, Profidrive, CANopen Remarks A high filter quality limits the bandwidth of the filtering frequencies. To avoid cutting off any relevant frequencies, it is advisable to raise the filter quality step by step. The filter quality is limited by changing the frequency dependent on machine position and mass inertia. Among other things, a higher filter quality leads to improved damping of the required frequency, whereas a lower quality results in a more robust behaviour of frequency damping. Parameter available as of CNC Build V3.1.3077.08 and higher TF5200 | Twin CAT 3 CNC Version: 1.172 243 Axis parameters
## Page 244

Parameters for position control 5.22.9 Damping of simulated mech. vibration (P-AXIS-00756) P-AXIS-00756 Damping the simulated mechanical vibration Description The parameter specifies the damping of the simulated mechanical vibration for the modes (P-AXIS-00753 [} 241]) INDIRECT and SET_POINT. The parameter has no influence on the DIRECT mode. Parameter lr_param.improved_position_control.stage[i].filter.damping Data type REAL64 Data range 0.0 < damping < 1.0 Axis types T, R, S Dimension T: —- R, S: —- Default value -1 Drive types SERCOS, Profidrive, CANopen Remarks The lower the damping, the more the simulation of the mechanical vibration and the higher the specified additive velocity. To ensure the reliable start of the "Improved Position Control" function, it is advisable to decrease damping slowly. Parameter available as of CNC Build V3.1.3077.08 and higher 5.23 Restoring axis position at controller start (P- AXIS-00761) P-AXIS-00761 Restoring axis position at controller start Description When the controller is terminated, the axis position in the position controller is saved remanently. This parameter is used at controller start to automatically restore the last position saved for an axis. This assumes that the drive encoder supplies an absolute position within at least one motor revolution and that the axis was referenced when it was switched off. By restoring the last axis position, homing can be dispensed with after a controller restart. This can also be helpful for axes with a large motion range if their absolute encoder overflows once or several times. If the axis has an absolute encoder, the ON_ABSOLUTE mode can be used. If the encoder only provides an absolute position within one motor revolution (no remanent revolution counter), the ON_RANGE mode should be used. The number of relevant encoder bits per motor revolution must also be specified in parameter P- AXIS-00355 [} 73] for this mode. Between switching off and switching on the controller, the axis may not move by more than half the absolute range. If necessary, this must be ensured by using a suitable motor brake Otherwise, the restored position is shifted by one or more absolute intervals. Parameter lr_param.restore_axis_position Data type STRING Data range OFF - At controller start, the last axis position is not restored ON_RANGE - Restore the axis position within a restricted absolute range of the drive encoder ON_ ABSOLUTE - Restore the axis position for axis with absolute encoder Axis types T, R, S Dimension T: ---- R, S: ---- Default value OFF Drive types Simulation, SERCOS, Terminal, Lightbus, CANopen, Profidrive* 244 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 245

Parameters for position control Remarks This function is available as of CNC Build V3.1.3080 *Profidrive available as of V3.1.3081.4. Attention: The parameter P-AXIS-00315 [} 297] (antr.profibus.read_abs_pos_from_drive) must also be set with Profidrive drives. 5.24 Switch over drive type to simulation 5.24.1 Switching over drive type to simulation (P-AXIS-00790) P-AXIS-00790 Switch over drive type to simulation Description This parameter allows the drive type of an axis to be switched over to simulation without making any changes to the configuration. If the parameter is deactivated, it is no longer necessary to link the axes back to the drives. When the parameter is activated in the standard axis parameter list, all axes are set to simulation. Individual axes can be excluded from this by deactivating the parameter in the relevant axis parameter list. Parameter kenngr.drive_simulation Data type BOOLEAN Data range 1: Drive type is switched to simulation. 0: The configured drive type is used. Axis types <T, R, S> Dimension T: ---- R,S: ---- Default value 0 drive types. Simulation, Conventional, SERCOS, Terminal, Lightbus, Profidrive, CANopen, DSE Remarks A change in the parameter only takes effect after a controller restart. Parameter available as of CNC Build V2.11.2055 ; V2.11.2827 ; V3.1.3079.39 ; V3.1.3107.28 5.24.2 Setting the initial position for simulation drives (P-AXIS-00791) P-AXIS-00791 Set the initial position for simulation drive Description This parameter activates the adoption of the initial position from parameter P- AXIS-00792 [} 246] at controller start for simulation drives. This may be practical, for example, for configurations with absolute encoders which can switch over between real and simulation drive (see P-AXIS-00790 [} 245]). A position offset specified for a real drive P-AXIS-00403 [} 272] in relation to the encoder absolute position is not considered when the initial position for simulation drives is set. Parameter antr.simu.use_initial_position Data type BOOLEAN Data range 0 / 1 Axis types T, R, S Dimension T: ---- R: ---- Default value 0 drive types. Simulation Remarks This parameter is available as of CNC Build V2.11.2055.00 TF5200 | Twin CAT 3 CNC Version: 1.172 245 Axis parameters
## Page 246

Parameters for position control 5.24.3 Initial position for simulation drives at controller start (P- AXIS-00792) P-AXIS-00792 Initial position for simulation drives at controller start Description This position defines the initial position which simulation drives assume at controller start. This position is only adopted if the parameter P-AXIS-00791 [} 245] is activated. Parameter antr.simu.initial_position Data type SGN32 Data range MIN_SGN32 ≤ P-AXIS-00792 ≤ MAX_SGN32 Axis types T, R, S Dimension T: 0.1 µm R,S: 0.0001 ° Default value 0 drive types. Simulation Remarks This parameter is available as of CNC Build V2.11.2055.00 246 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 247

Parameters of the axis peripheral interfaces for position control (lr_hw[i].*) 6 Parameters of the axis peripheral interfaces for position control (lr_hw[i].*) This section describes the parameters for the axis peripheral interfaces in the position controller (lr_hw[i].*). The hardware-independent parameters for position control are descirbed in the section Parameters for position control [} 199]. The following parameters are dependent on the set Drive type 'kenngr.antr_typ' abhängig. The data are dependent on the set axis type 'kenngr.achs_typ'. They must be allocated for all axis types. 6.1 Value of drift compensation (P-AXIS-00057) P-AXIS-00057 Value of drift compensation Description The value for compensation of the D/A converter degradation is specified by the mathematical sign attached in the parameter. Parameter lr_hw[i].drift_wert Data type SGN16 Data range SGN16 Range Axis types T, R, S Dimension T: Bit R,S: Bit Default value 0 Drive types Conventional, Terminal, Lightbus, Profidrive, CANopen Remarks 6.2 Sign reversal of command value (P-AXIS-00231) P-AXIS-00231 Sign reversal of command value Description This parameter defines the sign reversal of the command value. Parameter lr_hw[i].vz_stellgr Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks This entry is not adopted when the axis parameter list is updated. Updates only become effective when the controller is rebooted. 6.3 Sign reversal of actual value (P-AXIS-00230) P-AXIS-00230 Sign reversal of actual value Description This parameter defines the sign reversal of the actual value. Parameter lr_hw[i].vz_istw Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 TF5200 | Twin CAT 3 CNC Version: 1.172 247 Axis parameters
## Page 248

Parameters of the axis peripheral interfaces for position control (lr_hw[i].*) Drive types ---- Remarks These entries are not taken over when the axis parameters list is updated. Updates only become effective when the controller is rebooted. 6.4 Identifier for hardware specific parameter set (P- AXIS-00136) P-AXIS-00136 Identifier for hardware specific parameter set Description Each of the hardware-specific parameter sets has a logical identifier to identify which of the available hardware-specific parameter lists is valid. The active parameter set is selected by gear-specific parameter P-AXIS-00054 [} 170] in gear- specific parameter set. The first parameter set is automatically assigned the identifier 1. Parameter lr_hw[i].nummer Data type SGN16 Data range 1, 2 (number of hardware-specific parameter sets, application-specific) Axis types T, R, S Dimension T: ---- R, S: ---- Default value 1 Drive types Simulation, Conventional, Terminal, Lightbus, Profidrive Remarks These entries are not adopted when the axis parameters list is updated. Updates only become effective when the controller is rebooted. 6.5 Numerator distance resolution of the additive sensor measuring system (P-AXIS-00422) P-AXIS-00422 Numerator distance resolution of the additive sensor measuring system Description The distance resolution of the sensor measuring system is specified as the quotient P-AXIS-00423 [} 248] in the dimension [increments/0.1 µm] for translatory axes or [increments/10^-4°] for rotary axes. The number of sensor increments must be specified in P-AXIS-00422. Parameter lr_hw[i].encoder_resolution_num Data type UNS32 Data range 0 < encoder_resolution_num < MAX(UNS32) Axis types T, R, S Dimension T: increments R,S: increments Default value 1 Drive types ---- Remarks This entry is valid for 'lr_hw[i].*' with i ≥ 1! The resolution of the motor sensor 'lr_hw[0].*' is defined by P-AXIS-00233 [} 218] and P-AXIS-00234 [} 218]. 6.6 Denominator distance resolution of the additive sensor measuring system (P-AXIS-00423) P-AXIS-00423 Denominator distance resolution of the additive sensor measuring system 248 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 249

Parameters of the axis peripheral interfaces for position control (lr_hw[i].*) Description The distance resolution of the sensor measuring system is specified as the quotient P-AXIS-00422 [} 248] / P-AXIS-00423 in the dimension [increments/0.1 µm] for translatory axes or [increments/10^-4°] for rotary axes. The amount of the travel range must be specified in this parameter. Parameter lr_hw[i].encoder_resolution_denom Data type UNS32 Data range 0 ≤ encoder_resolution_denom < MAX(UNS32) Axis types T, R, S Dimension T: 0.1 µm R,S: 0.0001° Default value 1 Drive types ---- Remarks This entry is valid for 'lr_hw[i].*' with i ≥ 1! The resolution of the motor sensor 'lr_hw[0].*' is defined by P-AXIS-00233 [} 218] and P-AXIS-00234 [} 218]. 6.7 Handling of the additive sensor values (P-AXIS-00424) P-AXIS-00424 Handling of the additive sensor values Description This parameter defines whether the sensor positions are to be considered as linear or modulo values. By default, it can be handled according to the axis type or an individual default can be defined. When sensor values are handled according to the set axis type (see P-AXIS-00018 [} 55]), values are considered linear for the TRANSLATOR axis type, while modulo handling applies to the ROTATOR axis type. Parameter lr_hw[i].mode_act_pos Data type UNS16 Data range 0, 1, 2 where: 0: depending on axis type (default) 1 : linear 2 : modulo Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types ---- Remarks This entry is valid for 'lr_hw[i].*' with i ≥ 1! The setting of the sensor value range for the motor sensor 'lr_hw[0].*' is defined by P-AXIS-00122. 6.8 Parameters of D/A interface One physical analogue channel (D/A-channel) is defined clearly by the system-wide distinctive name of the hardware (name of I/O interface card) 'da_hw_id_string' and the channel number 'da_channel'. The selected hardware must be defined in a hardware configuration list [HWCF]. 6.8.1 Name of D/A-hardware (P-AXIS-00049) P-AXIS-00049 Name of D/A-hardware Description The parameter defines the name of the D/A hardware. Parameter lr_hw[i].da_hw_id_string Data type STRING Data range Maximum 16 characters TF5200 | Twin CAT 3 CNC Version: 1.172 249 Axis parameters
## Page 250

Parameters of the axis peripheral interfaces for position control (lr_hw[i].*) Axis types T, R, S Dimension T: ---- R,S: ---- Default value ISG_8ACHS Drive types Conventional, Terminal, Lightbus, Profidrive Remarks These entries are not taken over when the axis parameters list is updated. Updates only become effective when the controller is rebooted. The declared string for the hardware name must correspond to the entry of the hardware name of a specific I/O card (hardware unit) in the hardware configuration list (entry: device[i].name in hwconf.lis [HWCF]). Otherwise during initialisation, the position controller reports an error because it cannot detect ‘its’ hardware. 6.8.2 D/A-channel number (P-AXIS-00048) P-AXIS-00048 D/A-channel number Description The parameter defines the D/A-channel number. Parameter lr_hw[i].da_channel Data type UNS32 Data range 0 ≤ da_channel < depending on hardware Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types Conventional, Terminal, Lightbus, Profidrive Remarks This entry is not adopted when the axis parameter list is updated. Updates only become effective when the controller is rebooted. 6.9 Parameters of digital input interface for homing cams With the system-wide distinctive name of hardware (name of I/O-interface card) 'cam_hw_id_string' and the bit variable 'cam_mask'' one physical digital input is defined clearly. With 'cam_level' the signal level is defined. The selected hardware must be defined in a hardware configuration list [ Both parameters are important onl, if direct access via driver functions is required. In this case the parameter 'cam_direkt_access' has to be set to value TRUE. Otherwise, the cam signals are read via the PLC interface (HLI interface or the axis-specific control interface of the path interpolator). 6.9.1 Level of cam signals (P-AXIS-00038) P-AXIS-00038 Level of cam signals Description The parameter defines the level of cam signals. Parameter lr_hw[i].cam_level Data type BOOLEAN Data range 0: 0-signal is active level. When the reference cam switch is actuated, the value of the control unit element p AC[axis_idx]^.addr^. Mc Control Lr_Data. MCControl Bool Unit_Reference Cam. X_Comman d on the HLI is FALSE (see [HLI]). 1: 1-signal is active level (default). When the reference cam switch is actuated, the value of the control unit element p AC[axis_idx]^.addr^. Mc Control Lr_Data. MCControl Bool Unit_Reference Cam. X_Comman d on the HLI is TRUE (see [HLI]). Axis types T, R, S Dimension T: ---- R,S: ---- Default value 1 250 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 251

Parameters of the axis peripheral interfaces for position control (lr_hw[i].*) drive types. Conventional, Terminal, Lightbus, Profidrive Remarks 6.10 Encoder value range for Ether CAT drives(P- AXIS-00296) P-AXIS-00296 Encoder value range for Ether CAT drives Description If a position encoder is connected to the drive that delivers a modulo position, the NC kernel has to handle the encoder overflow. The value range of the encoder used must therefore be set in this parameter. The value range indicates the number of different position values supplied by the encoder. If the parameter is not assigned, the value range of the encoder is defined by modulo limits (P-AXIS-00127 [} 59] and P-AXIS-00126 [} 59]). Parameter lr_hw[i].encoder_range Data type UNS32 Data range 512 … MAX(SGN32)+1 Axis types T, R, S Dimension T: increments R,S: increments Default value 0 Drive types CANopen Remarks This parameter is used only for Ether CAT drives. Example: Encoder with 16-bit resolution The encoder delivers 216 = 65536 different positions (0… 65535), therefore, the parameter encoder_range must be set to 65536. This parameter only has an effect if value 2 (modulo) is set for P-AXIS-00122 [} 263] (mode_act_pos). 6.11 Delay reading of actual position after field bus start (P- AXIS-00567) P-AXIS-00567 Delay reading of actual position after field bus start Description As soon as the drive field bus connected to the controller delivers cyclic values after controller start-up, the controller reads the actual positions delivered by the drive. During the transition into the cyclic processing it is assumed, that the drive controller already delivers a valid actual position. However, this may not be the case with some drives and this may cause position lag errors or incorrectly initialised axis positions at controller start-up. This parameter permits the delayed reading of the actual position for a definable number of bus cycles after field bus start. The exact parameter value must be determined by "trial and error". In order to use this functionality, the value 100 must be assigned to the axis parameters P-AXIS-00535 [} 167] and the value 0x1000 must be assigned to the axis parameter P-AXIS-00536 [} 168]. If these parameters are not set, tracking mode is set for the specified number of bus cycles after the bus is started. This then permits the suppression of position lag errors at start-up. Parameter lr_hw[i].delay_tracking Data type UNS16 Data range 0 … MAX(UNS16) TF5200 | Twin CAT 3 CNC Version: 1.172 251 Axis parameters
## Page 252

Parameters of the axis peripheral interfaces for position control (lr_hw[i].*) Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types SERCOS, Profidrive, CANopen, Terminal Remarks 252 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 253

Parameters for feedforward control 7 Parameters for feedforward control 7.1 Feedforward control mode (P-AXIS-00223) P-AXIS-00223 Feedforward control mode Description This parameter specifies bit-coded which reference variables (velocity, acceleration and jerk) are to be active during feedforward control. Parameter vorsteuer.vorsteuerung (feedforward) Data type STRING Data range Flag Meaning Value NONE No feedforward control 0x0000 VEL Velocity feedforward control 0x0001 ACC Acceleration feedforward control 0x0002 JERK Jerk feedforward control 0x0004 ADD_VEL Velocity feedforward control by output of an additive 0x0101 velocity command value () PROFIdrive: In PROFIdrive telegram 5, the calculated feedforward control value is calculated as the velocity in the velocity command value (NSOLL_B - Signal No.7); as opposed to VEL, the feedforward value is calculated here as a position lag in the control deviation ((XERR - Signal No.25). ADD_ACC Acceleration feedforward control by output of an 0x0202 additive torque/current command value ADD_JERK Jerk feedforward control by output of an additive 0x0804 torque/current command value Axis types T, R, S Dimension T: ---- R,S: ---- Default value NONE Drive types ---- TF5200 | Twin CAT 3 CNC Version: 1.172 253 Axis parameters
## Page 254

Parameters for feedforward control Remarks This function is available for all types of axes and types of drives. Jerk feedforward is only available when a jerk-limited velocity profile is used. For details on defining the acceleration profile, see P-CHAN-00071 and [PROG// Command #SLOPE [TYPE…] ]. The specification of values by codes is possible as of CNC Builds • V2.11.2034.6 • V2.11.2808.03 • V3.1.3065.04 and • V3.1.3102.00 . Examples: Velocity and acceleration feedforward control: vorsteuer.vorsteuerung VEL | ACC Velocity and acceleration feedforward control by additive command values: vorsteuer.vorsteuerung (feedforward) ADD_VEL | ADD_ACC In previous CNC Builds values had to be specified bit-coded for the UNS16 variable. Default value: 0 7.2 Conventional feedforward control Position controller Motor Mechanic Following x Setpoint value X S + error X D v s + i - + 1 1 G S = K V G Motor = 1+Ta s G Schlitten = s Position actual value X i T : mechanical time constant of the drive a Feedforward control Weighting of velocity: d Xs P-AXIS-00514: feedforward_v_add_num dt P-AXIS-00515: feedforward_v_add_denom Weighting of acceleration: + Global weighting d2 Xs P-AXIS-00225: vs_a_faktor of feedforward dt2 P-AXIS-00226: vs_a_nenner + P-AXIS-00228: vs_v_faktor + P-AXIS-00229: vs_v_nenner d3 Xs Weighting of jerk: dt3 P-AXIS-00337: jerk_fact_nom P-AXIS-00338: jerk_fact_denom NC-Commands Type of feedforward control - G135 Selection P-AXIS-00223: vorsteuerung - G136 Weighting - G137 Deselection Fig. 31: Block diagram of feedforward control 254 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 255

Parameters for feedforward control Position- Velocity- Current- Motor + Following controller controller Controller Load error X D Setpoint value X S + Vs+ Is+ X i + - + - - Time delay command position: Additive velocity Additive current P-AXIS-00357 command value command value P-AXIS-00513 Actual velocity Vi Feedforward Time dealy: Activation P-AXIS-00223 Weighting of Global weighting P-AXIS-00389 velocity: of feedforward: d Xs P-AXIS-00514 P-AXIS-00228 feedforward_v_add_num vs_v_faktor dt P-AXIS-00515 P-AXIS-00229 feedforward_v_add_denom vs_v_nenner Time delay: Activation: P-AXIS-00390 P-AXIS-00223 Weighting of Global weighting acceleration: of feedforward: d2 Xs P-AXIS-00225 P-AXIS-00228 dt2 vs_a_faktor vs_v_faktor P-AXIS-00226 P-AXIS-00229 vs_a_nenner vs_v_nenner Fig. 32: Block diagram of feedforward control with additive setpoints 7.2.1 Numerator equivalent time constant for feedforward control of acceleration (P-AXIS-00225) P-AXIS-00225 Numerator equivalent time constant for feedforward control of acceleration Description The acceleration command variable is weighted by the mechanical time constant of the drive. The drive is modelled here as a first-order time delay element (see figure of the conventional feedforward control [} 254]). The following transfer function in the Laplace range is obtained: with P-AXIS-00226 [} 256]: time constant denominator. Parameter vorsteuer.vs_a_faktor Data type SGN32 Data range 0 ≤ vs_a_faktor ≤ MAX(SGN32) Axis types T, R, S Dimension T: µs R,S: µs Default value 1 Drive types ---- TF5200 | Twin CAT 3 CNC Version: 1.172 255 Axis parameters
## Page 256

Parameters for feedforward control Remarks 7.2.2 Denominator equivalent time constant for feedforward control of acceleration (P-AXIS-00226) P-AXIS-00226 Denominator equivalent time constant for feedforward control of acceleration Description The acceleration command variable is weighted by the mechanical time constant of the drive. The drive is modelled here as a first-order time delay element (see figure of the conventional feedforward control [} 254]]). In the Laplace range the following transfer function is obtained with P-AXIS-00225 [} 255]: time constant numerator. Parameter vorsteuer.vs_a_nenner Data type SGN32 Data range 0 ≤ vs_a_nenner ≤ MAX(SGN32) Axis types T, R, S Dimension T: ---- R,S: ---- Default value 1 Drive types ---- Remarks 7.2.3 Numerator weighting factor for feedforward control (P- AXIS-00228) P-AXIS-00228 Numerator weighting factor for feedforward control Description This parameter describes the weighting factor for velocity and acceleration feedforward control. Parameter vorsteuer.vs_v_faktor Data type SGN32 Data range 0 ≤ vs_v_faktor ≤ MAX(SGN32) Axis types T, R, S Dimension T: ---- R,S: ---- Default value 1 Drive types ---- Remarks We know from experience that the weighting factor should be in the range of 0.7 - 1. At values >1 the axis leads and impairs contour accuracy. 7.2.4 Denominator weighting factor for feedforward control (P- AXIS-00229) P-AXIS-00229 Denominator weighting factor for feedforward control 256 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 257

Parameters for feedforward control Description This parameter describes the weighting factor for velocity and acceleration feedforward control. Parameter vorsteuer.vs_v_nenner Data type SGN32 Data range 0 ≤ vs_v_nenner ≤ MAX(SGN32) Axis types T, R, S Dimension T: ---- R,S: ---- Default value 1 Drive types ---- Remarks We know from experience that the weighting factor should be in the range of 0.7 - 1. At values >1 the axis leads and impairs contour accuracy. 7.2.5 Permanent activation of feedforward control (P-AXIS-00255) P-AXIS-00255 Permanent activation of feedforward control Description This parameter activates feedforward control permanently for one axis. Feedforward control is active all the time, even if G137 is active in the channel (or NC program). Parameter vorsteuer.default_active Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks This function is available for all types of axes and types of drives. 7.2.6 Permanent deactivation of feedforward control (P-AXIS-00256) P-AXIS-00256 Permanent deactivation of feedforward control Description This parameter deactivates feedforward control permanently for one axis. Feedforward control is not active all the time, even if G135 is active in the channel (or NC program). Parameter vorsteuer.global_disable Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks This function is available for all types of axes and types of drives. 7.2.7 Numerator of scaling factor for jerk feedforward (P- AXIS-00337) P-AXIS-00337 Numerator of scaling factor for jerk feedforward TF5200 | Twin CAT 3 CNC Version: 1.172 257 Axis parameters
## Page 258

Parameters for feedforward control Description This parameter specifies the numerator of the scaling factor for jerk feedforward control. The scaling factor for jerk feedforward control is defined as: jerk_fact = P-AXIS-00337/P-AXIS-00338 [} 258] The output of the jerk feedforward control command value to the drive must be activated by setting bit 0x04 in axis parameter P-AXIS-00223 [} 253] . Parameter vorsteuer.jerk_fact_num Data type UNS32 Data range 0 ≤ jerk_fact_num ≤ MAX(UNS32) Axis types T, R, S Dimension T: ---- R,S: ---- Default value 1 Drive types ---- Remarks Jerk feedforward control is only possible if a jerk-limited acceleration profile is used. For non jerk-limited acceleration profiles a jerk command value of 0 is output. For details on defining the acceleration profile, see P-CHAN-00071 and [PROG// Command #SLOPE [TYPE…] ]. 7.2.8 Denominator of scaling factor for jerk feedforward (P- AXIS-00338) P-AXIS-00338 Denominator of scaling factor for jerk feedforward Description This parameter specifies the denominator of the scaling factor for jerk feedforward control. The scaling factor for jerk feedforward control is defined as: jerk_fact = P-AXIS-00337 [} 257]/ P-AXIS-00338 The output of the jerk feedforward control command value to the drive must be activated by setting bit 0x04 in axis parameter P-AXIS-00223 [} 253] . Parameter vorsteuer.jerk_fact_denom Data type UNS32 Data range 0 < jerk_fact_denom ≤ MAX(UNS32) Axis types T, R, S Dimension T: ---- R,S: ---- Default value 100 Drive types ---- Remarks Jerk feedforward control is only possible if a jerk-limited acceleration profile is used. For non jerk limited acceleration profiles a jerk command value of 0 is output. For details on defining the acceleration profile, see P-CHAN-00071 and [PROG// Command #SLOPE [TYPE…] ]. A value of 0 is inadmissible for this parameter. If this value is specified nevertheless, an error message with error code 110473 is output and the value is corrected to the default (100). 7.2.9 Delay time for jerk feedforward (P-AXIS-00547) P-AXIS-00547 Delay time for jerk feedforward Description If jerk feedforward control activates an additive torque command value, this parameter can delay output of the feedforward control value with respect to the command position. The delay time unit is in µs. Maximum delay is six interpolator cycles. Parameter vorsteuer.jerk_delay_time Data type UNS16 258 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 259

Parameters for feedforward control Data range 0 <= jerk_delay_time < 6*interpolator cycle time Axis types T, R, S Dimension T: µs R,S: µs Default value 0 Drive types SERCOS, Profidrive, CANopen Remarks If the permissible value for P-AXIS-00547 is exceeded, the error message P- ERR-70348 is generated and P-AXIS-00547 is set to 0. 7.2.10 Delay time for velocity feedforward (P-AXIS-00389) P-AXIS-00389 Delay time for velocity feedforward Description If velocity feedforward control via an additive velocity command value is activated, this parameter can delay the output of the velocity feedforward control value with respect to the command position. The delay time unit is in µs. Maximum delay is six interpolator cycles. Parameter vorsteuer.velocity_delay_time Data type UNS16 Data range 0 ≤ velocity_delay_time < 6*interpolator cycle time Axis types T, R, S Dimension T: µs R,S: µs Default value 0 Drive types SERCOS, Profidrive, CANopen Remarks If the permitted value of P-AXIS-00389 is exceeded, the error message P- ERR-70349 is output and P-AXIS-00389 is corrected to 0. 7.2.11 Delay time for acceleration feedforward (P-AXIS-00390) P-AXIS-00390 Delay time for acceleration feedforward Description If acceleration feedforward control via an additive torque command value is activated, this parameter delays the output of the acceleration feedforward control value with respect to the command position. The delay time unit is in µs. Maximum delay is six interpolator cycles. Parameter vorsteuer.acceleration_delay_time Data type UNS16 Data range 0 < acceleration_delay_time < 6*Interpolator cycle time Axis types T, R, S Dimension T: µs R,S: µs Default value 0 Drive types SERCOS, Lightbus, Profidrive, CANopen Remarks If the permitted value of P-AXIS-00390 is exceeded, the error message P- ERR-70348 is output and P-AXIS-00390 is corrected to 0. 7.2.12 Numerator weighting factor for velocity feedforward (P- AXIS-00514) P-AXIS-00514 Numerator weighting factor for velocity feedforward TF5200 | Twin CAT 3 CNC Version: 1.172 259 Axis parameters
## Page 260

Parameters for feedforward control Description The weighting factor for feedforward control defined by the parameters P- AXIS-00228 [} 256] and P-AXIS-00229 [} 256] is effective on the velocity and acceleration feedforward control values. The parameters P-AXIS-00514 and P-AXIS-00515 [} 260] define a weighting factor that only acts on velocity feedforward control. Parameter vorsteuer.feedforward_v_add_num Data type UNS32 Data range 1 … MAX(UNS32) Axis types T, R, S Dimension T: ---- R,S: ---- Default value 1 Drive types ---- Remarks The value 0 for P-AXIS-00514 and P-AXIS-00515 [} 260] Is not admissible. If this value is configured, the error message P-ERR-110122 or P-ERR-110123 is output and the two parameters are set to the value 1 (default value). 7.2.13 Denominator weighting factor for velocity feedforward (P- AXIS-00515) P-AXIS-00515 Denominator weighting factor for velocity feedforward Description The weighting factor for feedforward control defined by the parameters P- AXIS-00228 [} 256] and P-AXIS-00229 [} 256] is effective on the velocity and acceleration feedforward control values. The parameters P-AXIS-00514 [} 259] and P-AXIS-00515 define a weighting factor that only acts on velocity feedforward control. Parameter vorsteuer.feedforward_v_add_denom Data type UNS32 Data range 1 … MAX(UNS32) Axis types T, R, S Dimension T: ---- R,S: ---- Default value 1 Drive types ---- Remarks The value 0 for P-AXIS-00514 [} 259] And P-AXIS-00515 is not admissible. If this value is configured, the error message P-ERR-110122 or P-ERR-110123 is output and the two parameters are set to the value 1 (default value). 7.2.14 Parameters for PROFIDRIVE 7.2.14.1 Time offset of feed forward control setpoints (P-AXIS-00165) P-AXIS-00165 Time offset of feed forward control setpoints Description This parameter defines a time offset in NC cycles between the output of the setpoints and the output of the calculated feedforward control values. With a value > 0, the feedforward control values are output before the associated setpoint. This parameter optimises the behaviour of the feedforward control axis. Parameter vorsteuer.shift_time Data type UNS16 Data range 0 ≤ shift_time ≤ 4 Axis types T, R, S Dimension T: Number of interpolation cycles R,S: Number of interpolation cycles 260 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 261

Parameters for feedforward control Default value 3 Drive types Profidrive Remarks 7.2.14.2 Position controller increments per revolution (P-AXIS-00092) P-AXIS-00092 Position controller increments per revolution Description This parameter contains the number of position controller increments per revolution of the motor axis. The internal value used in the CNC kernel (value after assessing the value transmitted in the bus telegram) is output with the parameters P-AXIS-00405 [} 273] (SERCOS and CANopen drives), or P-AXIS-00065 [} 296] (PROFIDRIVE drives). When this parameter is used, the parameters P-AXIS-00362 [} 271]/P-AXIS-00363 [} 271] and P-AXIS-00511 [} 182]/P-AXIS-00512 [} 183] ) must be used. Parameter getriebe[i].incr_per_rev Data type UNS32 Data range 0 ≤ incr_per_rev ≤ MAX(UNS32) Axis types T, R, S Dimension T: Increments/ rev. R,S: Increments/ rev. Default value 1024 Drive types ---- Remarks For possible applications, see. Settings of position scaling [} 400] 7.2.14.3 Time constant of command position filter for feedforward balancing (P- AXIS-00361) P-AXIS-00361 Time constant of command position filter for feedforward balancing Description This parameter sets the time constant of a command position filter for feedforward balancing. Setting this parameter to 0 switches off feedforward balancing. Parameter vorsteuer.timeconst_sym_filter Data type UNS32 Data range 0 ≤ timeconst_sym_filter ≤ MAX(UNS32) Axis types T, R, S Dimension T: µs R,S: µs Default value 0 Drive types Profidrive Remarks Feedforward balancing is only available for Profidrive drives with absolute encoder. 7.2.14.4 Time constant low-pass filter position lag (P-AXIS-00190) P-AXIS-00190 Time constant low-pass filter position lag Description This parameter activates a low-pass filter for the calculated position lag. At the moment, this filter is only effective for Profidrive drives in DSC mode. For these drives the position lag calculated is filtered with a first-order low-pass filter of the given time constant before it is transmitted to the drive. Parameter vorsteuer.timeconst_cmd_filter Data type UNS32 Data range 0 … MAX_UNS32 Axis types T, R TF5200 | Twin CAT 3 CNC Version: 1.172 261 Axis parameters
## Page 262

Parameters for feedforward control Dimension T: µs R: µs Default value 4000 Drive types Profidrive Remarks Only effective for PROFIDRIVE drives in DSC mode. 7.2.15 Output of velocity feedforward control value (P-AXIS-00566) P-AXIS-00566 Output of velocity feedforward control value without IPO-LR delay Description When feedforward control is used, a delay of 5 interpolator cycles occurs between the path interpolator and the position controller. If this delay is not required and only velocity feedforward control is to be used, this parameter can force the immediate output of the position command value and the velocity feedforward control value to the position controller. Parameter vorsteuer.feedforward_without_delay Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks If this parameter is set and a different feedforward control type is activated (acceleration or jerk feedforward control) in the parameter P-AXIS-00223 [} 253] , the error message P-ERR-110624 is output and P-AXIS-00223 [} 253] is corrected. 262 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 263

Parameters for drives (antr.*) 8 Parameters for drives (antr.*) This structure contains the possibility of defining union structures for the various drives. The data described in the following are independent of the axis type 'kenngr.achs_typ'. They must be allocated for all axis types. 8.1 General drive parameters 8.1.1 Handling of drive command position (P-AXIS-00123) P-AXIS-00123 Handling of drive command position Description Both the command position and the actual position of a drive can be handled by the CNC as a drive with linear or modulo coordinate system. By default, processing can be executed depending on the axis type [} 55] or a specific presetting can be selected. The following settings are available for this. Default processing of values depending on the selected axis type [} 55] TRANSLATOR -> linear processing of command/actual values, ROTATOR -> modulo processing of command/actual values. When P-AXIS-00123 (mode_cmd_pos) is used with modulo, the permissible encoder range must be parameterised in P-AXIS-00528 [} 276]. Parameter antr.mode_cmd_pos Data type UNS16 Data range 0: depending on axis type 1: linear 2: modulo Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types SERCOS Remarks 8.1.2 Handling of drive actual position (P-AXIS-00122) P-AXIS-00122 Handling of drive actual position Description Both command position and actual position of drive can be handled by CNC as drive with linear or modulo coordinate system. By default processing can be executed depending on the axis type [} 55] or a specific presetting can be selected. For this purpose also settings which leads to mixed processing of command/actual position are possible: Default processing of value depending on the selected axis type [} 55] (TRANSLATOR -> linear processing of command/actual values, ROTATOR -> modulo processing of command/actual values). Parameter antr.mode_act_pos Data type UNS16 Data range 0: depending on axis type 1: linear 2: modulo TF5200 | Twin CAT 3 CNC Version: 1.172 263 Axis parameters
## Page 264

Parameters for drives (antr.*) Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types SERCOS Remarks 8.1.3 Time base for normalisation of velocity (P-AXIS-00207) P-AXIS-00207 Time base for normalisation of velocity Description The time base for adapting the velocity interface to the unit used in the drive can be specified as value per minute, second or sampling interval. If normalisation per sampling interval is selected, the output value changes proportionally depending on the CNC cycle time at constant velocity. This may be essential depending on the drive. Parameter antr.v_time_base Data type UNS16 Data range 0: per minute 1: per second 2: per sampling interval Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types SERCOS Remarks 8.1.4 Normalisation of the velocity 8.1.4.1 Normalisation of the velocity numerator (P-AXIS-00206) P-AXIS-00206 Normalisation of command velocity (numerator) Description The conversion factor of the command velocity to drive format is defined by specifying the value output to the drive and the related distance covered in the time specified in P-AXIS-00207 [} 264] . This parameter specifies the conversion factor numerator. (P-AXIS-00205 [} 264] is the denominator) The factor indicates the number of velocity increments output. Parameter antr.v_reso_num Data type UNS32 Data range 0 ≤ v_reso_num ≤ MAX(UNS32) Axis types T, R, S Dimension T: increments R,S: increments Default value 1 Drive types All drive types Remarks 8.1.4.2 Normalisation of the velocity denominator (P-AXIS-00205) P-AXIS-00205 Normalisation of the velocity (denominator) 264 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 265

Parameters for drives (antr.*) Description The conversion factor of the set velocity to drive format is obtained by specifying the value output to the drive and the related path distance covered in the time specified in P-AXIS-00207 [} 264]. This parameter specifies the conversion factor numerator. (P-AXIS-00206 [} 264] is the numerator) This parameter indicates the path covered in the time specified in P-AXIS-00207 [} 264], provided the value in P-AXIS-00206 [} 264] is output to the drive. The path is specified in 1 µm or 0.001°. Parameter antr.v_reso_denom Data type UNS32 Data range 1 ≤ v_reso_denom ≤ MAX(UNS32) Axis types T, R, S Dimension T: 1µm R,S: 0,001° Default value 36 Drive types All drive types Remarks TF5200 | Twin CAT 3 CNC Version: 1.172 265 Axis parameters
## Page 266

Parameters for drives (antr.*) 8.1.4.3 Normalisation of the velocity Example 1: The drive expects 10E-4 revolutions/minute at the velocity interface (SERCOS preferred scaling). P-AXIS-00207 [} 264] 0 (v_time_base [minutes] P-AXIS-00206 [} 264] 10000 (v_reso_num [increments] P-AXIS-00205 [} 264] 360000 ( [0.001 °] Example 2: The drive expects mm/minute at the velocity interface. P-AXIS-00207 [} 264] 0 (v_time_base [minutes] P-AXIS-00206 [} 264] 1 (v_reso_num [increments] P-AXIS-00205 [} 264] 1000 ( [1 µm] Example 3: The settings of SECOS parameters S-0-0044, S-0-0045 and S-0-0046 and an existing gear must be considered to determine the velocity scaling of a SERCOS spindle. As an example, the drive is to use the following scaling and the gear ratio is to be 1:1: Velocity data scaling S-0-0044 = 00000000 00001010 Velocity data scaling factor S-0-0045 = 55880 Velocity data scaling exponent S-0-0046 = -9 The velocity scaling S-0-0044 is therefore rotational referred to revolutions/minute. With a 1 increment in the velocity interface S-0-0040, the drive therefore rotates at a velocity of v = S-0-0045 * 10^(S-0-0046) rpm = 55880*10^-9 rpm when referred to 10^-3° this is v = 55880 * 360000 * 10^-9 * 10^-3°/min = 20.1168 * 10^-3°/min Possible values for the parameters P-AXIS-00205 and P-AXIS-00206 are therefore: P-AXIS-00207 [} 264] 0 (v_time_base [minutes] P-AXIS-00206 [} 264] 201168 (distance covered in the time unit specified in P-AXIS-00207 P-AXIS-00205 [} 264] 10000 (velocity increments output [1 µm] To consider a possible gear ratio, this must be entered in the axis parameters P-AXIS-00511 [} 182] and P- AXIS-00512 [} 183]. 8.1.5 Delay between command value and actual value (P- AXIS-00191) P-AXIS-00191 Delay between command value and actual value Description This parameter is only active for digital drives (e.g. SERCOS). It defines the number of cycles between the output of the command values and the read-in of the actual values. The parameter is only used to calculate the position lag. Parameter antr.nbr_delay_cycles Data type UNS16 Data range 0 ≤ nbr_delay_cycles ≤ 10 Axis types T, R, S 266 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 267

Parameters for drives (antr.*) Dimension T: Number of interpolation cycles R,S: Number of interpolation cycles Default value 4 Drive types SERCOS, CANopen, KUKA Remarks 8.1.6 Positioning operation mode of an axis (P-AXIS-00320) P-AXIS-00320 Positioning operation mode of an axis Description This parameter determines the manner how an axis moves to its commanded position. The operation modes are described in greater detail in the following table. Parameter antr.operation_mode Data type STRING Data range DRIVE_DEFAULT DRIVE_POSITION_CONTROL CNC_POSITION_CONTROL DSC_POSITION_CONTROL OPEN_POSITION_LOOP_MODE OPEN_POSITION_LOOP_POS_FEEDBACK OPEN_POSITION_LOOP_VEL_FEEDBACK OPEN_POSITION_LOOP_NO_FEEDBACK Axis types T, R, S Dimension T: ---- R,S: ---- Default value DRIVE_DEFAULT Drive types SERCOS, Profidrive, CANopen Remarks For the position control in the numerical control (Operation mode CNC_POSITION_CONTROL) the active operation mode in the SERCOS drive must be 'velocity control”. Furthermore command velocity and actual position must be configured and transmitted in the cyclic telegram. In the operation mode CNC_POSITON_CONTROL only a NC-controlled homing without zero pulse search can be performed for SERCOS drives. The necessary parameter settings can be taken from [FCT-M1]. In addition to setting the positioning method, the cyclic process data and the operation mode in the drive must be set accordingly. String Meaning DRIVE_DEFAULT Default setting for all drive types. The operation mode used (position control in the drive, position control in the controller, velocity control, etc.) is determined automatically. It depends e.g. on the drive type P- AXIS-00020 and on the configured telegram. DRIVE_POSITION_CONTROL Transmission of command position to the axis controller, position control takes place in the axis controller CNC_POSITION_CONTROL Position control takes place in the controller. The path resolution of the measuring system P-AXIS-00234 [} 218]/ P-AXIS-00233 [} 218], the proportional factor k of the P position control P-AXIS-00099 [} 199] and v the scaling factor of the manipulated variable P-AXIS-00129 [} 217]/ P- AXIS-00128 [} 217] must also be set. Transmission of a velocity command value to the axis controller, the velocity command value is calculated in CNC dependent on the position error of the axis. DSC_POSITION_CONTROL Drive type specific positioning method for PROFIDRIVE (DSC mode). TF5200 | Twin CAT 3 CNC Version: 1.172 267 Axis parameters
## Page 268

Parameters for drives (antr.*) OPEN_POSITION_LOOP_MOD Operation without position control (open loop mode). In this case only E the programmed command velocity is transferred. This operation mode is possible only for spindles. A position or velocity eventually transferred from the drive controller is only used for the calculation of the 'revolution speed reached' signal. The actual velocity value for velocity monitoring is chosen as follows: If an actual position is configured, it is used for velocity monitoring. If no actual position but an actual revolution is configured, this is used for velocity monitoring. If neither an actual position nor an actual revolution is configured, the command velocity is used for velocity monitoring (sensorless spindle) The command velocity output to the spindle is scaled by the parameters P-AXIS-00205 [} 264], P-AXIS-00206 [} 264] and P-AXIS-00207 [} 264]. Use the parameter P-AXIS-00379 [} 300] for Profidrive drives. OPEN_POSITION_LOOP_POS Operation without position control (open loop mode). The command velocity calculated by the interpolator is output. This operation mode is _FEEDBACK possible only for spindles. The actual velocity is calculated from the actual position delivered from the spindle. If no actual position is configured an error message is output. The command velocity output to the spindle is scaled by the parameters P-AXIS-00205 [} 264], P-AXIS-00206 [} 264] and P-AXIS-00207 [} 264]. Use the parameter P-AXIS-00379 [} 300] for Profidrive drives. OPEN_POSITION_LOOP_VEL Operation without position control (open loop mode). The command velocity calculated by the interpolator is output. This operation mode is _FEEDBACK possible only for spindles. The actual velocity is calculated from the actual revolution supplied by the spindle. If no actual revolution is configured, an error message is output. The command velocity output to the spindle is scaled by the parameters P-AXIS-00205 [} 264], P-AXIS-00206 [} 264] and P-AXIS-00207 [} 264]. Use the parameter P-AXIS-00379 [} 300] for Profidrive drives. OPEN_POSITION_LOOP_NO Operation without position control (open loop mode). The command velocity calculated by the interpolator is output. This operation mode is _FEEDBACK possible only for spindles. The actual velocity for velocity monitoring is calculated from the internal command velocity. The command velocity output to the spindle is scaled by the parameters P-AXIS-00205 [} 264], P-AXIS-00206 [} 264] and P-AXIS-00207 [} 264]. Use the parameter P-AXIS-00379 [} 300] for Profidrive drives. 8.1.7 Number of the latch input used for edge banding (P- AXIS-00353) P-AXIS-00353 Number of the latch input used for edge banding Description This parameter defines the number of the drive latch input used for edge banding. Parameter antr.edge_bending_input_nbr Data type UNS08 Data range Depending on drive type Axis types T, R Dimension T: ---- R: ---- Default value 1 Drive types Profidrive 268 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 269

Parameters for drives (antr.*) Remarks This parameter is not supported for all drive types. If a latch input number which is not suitable for the drive type (P-AXIS-00020) [} 54] used is defined, an error message P-ERR-110489 is output and the parameter is automatically corrected. Valid values for the different drive types are shown in the following table. Drive type P-AXIS-00020 Valid values for P-AXIS-00353 Conventional (+/-10 V) 1 1 SERCOS 2 1 PROFIDRIVE 3 1, 2 Simulation 4 1 Lightbus 5 1 Terminal (+-10V via bus) 6 1 Real-time Ethernet 7 1 CANopen 8 1 Virtual 16 1 CAN 32 1 8.1.8 Ignore unknown entries in drive telegram (P-AXIS-00358) P-AXIS-00358 Ignore unknown entries in drive telegram Description By default unknown entries in the configuration of the cyclic drive telegram lead to an error message. This parameter suppresses the error message. Parameter antr.ignore_unknown_telegram_elements Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks 8.1.9 Maximum time delay for disabling drive after a PLC watchdog error (P-AXIS-00367) P-AXIS-00367 Maximum time delay for disabling drive after a PLC watchdog error Description After a PLC watchdog error, the CNC stops the axes. If a time period greater than zero is specified in this parameter, the drive releases of the axis are also removed after a PLC watchdog error as soon as the axis has stopped or at the latest after the specified time period expires. Parameter antr.plc_watchdog_disable_drive_delay_time Data type UNS32 Data range 0 … MAX(UNS32) Axis types T, R, S Dimension T: µs R,S: µs Default value 0 Drive types ---- Remarks If P-AXIS-00367 = 0, the CNC does not automatically remove the drive releases after a PLC watchdog error. For a suspended axis it must be ensured that their brakes are securely locked after removal of drive releases. TF5200 | Twin CAT 3 CNC Version: 1.172 269 Axis parameters
## Page 270

Parameters for drives (antr.*) 8.1.10 Name of the Ether CAT master process (P-AXIS-00372) P-AXIS-00372 Name of the Ether CAT master process Description The name of the Ether CAT-Master process in the real-time operation system is dependent on the network interface used. The control needs the name in order to get access to the drive interface. Parameter antr.ethercat_master_name Data type STRING Data range ECMeth0: Ether CAT Master uses network device 'eth0' ECMeth1: Ether CAT Master uses network device 'eth1' Axis types T, R, S Dimension T: ---- R,S: ---- Default value * Drive types CANopen Remarks This parameter is only used for the real-time operation system Intime. * Note: The default value of variables is a blank string. 8.1.11 Encoder, used for CNC controlled homing (P-AXIS-00388) P-AXIS-00388 Encoder, used for CNC controlled homing (SERCOS) Description Some drive types support the use of multiple encoders (motor encoder and external encoder). This parameter defines which encoder is used for homing. Parameter antr.cnc_homing_encoder Data type SGN16 Data range 0: Value is not configured. If P-AXIS-00386 [} 287] is set to 1, set this parameter to a valid value (0, 1, 2). 1: The encoder used for homing is determined automatically, e.g. for SERCOS drives, by reading drive parameter S-0-147. 2: Motor encoder 3: External encoder Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 drive types. SERCOS Remarks At the moment this parameter is supported only for SERCOS. With SERCOS drives, if the encoder set in S-0-147 does not fit to the value set in P- AXIS-00388, the error message error message P-ERR-70453 is output. This value is only effective when P-AXIS-00386 [} 287] has the value 1. 8.1.12 Base value for scaling of acceleration feedforward (P- AXIS-00392) P-AXIS-00392 Reference value for converting torque values to the motor format. Description This parameter is used for the scaling of the additive torque command if acceleration feedforward control is used with additive command values. The motor stall torque must be enetered. Parameter antr.acc_reference_value Data type REAL64 Data range 0 ≤ acc_reference_value < MAX(REAL64) Axis types T, R, S 270 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 271

Parameters for drives (antr.*) Dimension T: N R,S: Nm Default value 1 Drive types SERCOS, CANopen Remarks 8.1.13 Encoder resolution via feed constant numerator (P- AXIS-00362) P-AXIS-00362 Encoder resolution via feed constant (numerator) Description Parameter P-AXIS-00362 and parameter P-AXIS-00363 [} 271] enable anm alternative method to parameterise encoder resolution. If either parameter P- AXIS-00362 or P-AXIS-00363 [} 271] are assigned values unequal to 1 (default initialisation), encoder resolution is calculated based on the equation below: where: R: Resulting resolution (Increments / 0.1µm) r : Encoder increments per motor revolution (P-AXIS-00092 [} 261]) Motor i ; Gear transmission ratio (Revolutions gear input / Revolutions gear output (P- Getriebe AXIS-00511 [} 182]/P-AXIS-00512 [} 183])). f: Feed constant (0.1µm / Revolution) (P-AXIS-00362/P-AXIS-00363 [} 271]). Parameter antr.feed_const_num Data type UNS32 Data range 1 ≤ feed_const_num ≤ MAX(UNS32) Axis types T, R, S Dimension T: 0.1 µm R,S: 0.1 µm Default value 1 Drive types --- Remarks If P-AXIS-00362/ P-AXIS-000363 [} 271] are used, the parameters P-AXIS-00233 [} 218] and P-AXIS-00234 [} 218] must be set to 1. For possible applications, see Settings of position scaling [} 400] 8.1.14 Encoder resolution via feed constant denominator (P- AXIS-00363) P-AXIS-00363 Encoder resolution via feed constant (denominator) TF5200 | Twin CAT 3 CNC Version: 1.172 271 Axis parameters
## Page 272

Parameters for drives (antr.*) Description Parameter P-AXIS-00362 [} 271] and parameter P-AXIS-00363 enable an alternative method to parametrise encoder resolution. If either parameter P-AXIS-00362 [} 271] or P-AXIS-00363 are assigned values unequal to 1 (default initialisation), encoder resolution is calculated based on the equation below: where: R: Resulting resolution (Increments / 0.1µm) r : Encoder increments per motor revolution (P-AXIS-00092 [} 261]) Motor i : Gear transmission ratio (Revolutions gear input / Revolutions gear output (P- Getriebe AXIS-00511 [} 182]/P-AXIS-00512 [} 183])). f: Feed constant (0.1µm / Revolution) (P-AXIS-00362 [} 271]/ P-AXIS-00363). Parameter antr.feed_const_denom Data type UNS32 Data range 1 ≤ feed_const_denom ≤ MAX(UNS32) Axis types T, R, S Dimension T: U R,S: U Default value 1 Drive types --- Remarks If P-AXIS-00362 [} 271] / P-AXIS-000363 are used, the parameters P-AXIS-00233 [} 218] and P-AXIS-00234 [} 218] must be set to 1. For possible applications, see Settings of position scaling [} 400] 8.1.15 Offset between drive position and CNC position for absolute encoders (P-AXIS-00403) P-AXIS-00403 Offset between drive position and CNC position for absolute encoders Description For drives with absolute encoder, this parameter can introduce an offset between the position supplied by the drive and the internal CNC position. The position of the CNC then results from: As soon as the drive delivers valid positions, the CNC position is set according to the equation above and the axis is marked as referenced. When occasionally, due to external influences such as phase switching by the operator, the field bus or drive does not deliver valid actual positions, the CNC position is reinitialised as soon as the drive delivers valid positions. Parameter antr.abs_pos_offset Data type SGN64 Data range MIN_SGN32 ≤ abs_pos_offset ≤ MAX_SGN32 Axis types T, R, S Dimension T: 0.1µm R,S: 0.0001 ° Default value 0 Drive types Simulation, SERCOS, Lightbus, Profidrive, CANopen, Terminal * 272 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 273

Parameters for drives (antr.*) Remarks Using this parameter is only reasonable if the drive has an absolute encoder. This parameter is only effective when P-AXIS-00014 [} 219] is assigned the value 1. If the drive type used does not support this parameter, a warning ID 110532 is output and P-AXIS-00403 is corrected to 0. If an offset is changed by updating a parameter list or by the #MACHINE DATA command, the changed offset only becomes effective at the next reinitialisation of the CNC position. *The parameter can only be used with Terminal drives if the signal WC_STATE is configured in the cyclic process data. If this is not the case, warning ID 110690 is output and P-AXIS-00403 is set to 0. 8.1.16 Factor to coarse encoder resolution (P-AXIS-00405) P-AXIS-00405 Factor to coarse encoder resolution Description The parameter can be used to coarse the encoder resolution of the drive. This may be necessary, for example, if the resolution of the measurement system (see P- AXIS-00234 [} 218]/ P-AXIS-00235) is greater than one since these resolutions reduce the possible movement range in the CNC. The value of the parameter specifies the number of the lowest significant encoder bits which are to be rejected. An encoder with 2^20 increments and a parameter value of 4 leads to an effective encoder resolution of 2^16 increments, meaning the path resolution is reduced by a factor of 16. The reduced encoder resolution (not the native encoder resolution!) must be used afterwards to set the path resolution (P-AXIS-00234 [} 218]/P- AXIS-00233 [} 218]) or to home with encoder overflow evaluation (P-AXIS-00355 [} 73]). Parameter antr.encoder_coarsening_factor Data type UNS16 Data range 0 ≤ encoder_coarsening_factor ≤ 20 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types SERCOS, CANopen Remarks Actually, coarsening of encoder resolution is only possible for SERCOS and CANopen drives. 8.1.17 Ether CAT-Fieldbus: Number of permissible telegram failures (P-AXIS-00406) P-AXIS-00406 Ether CAT-Fieldbus: Number of permissible telegram failures Description The parameter specifies how many drive telegrams can fail in sequence before the CNC considers an error in the drive bus. If a bus fails, the axes are marked without absolute encoder (see P-AXIS-00014 [} 219]). In addition an error message is generated for interpolated axes. The default setting of the parameter is 0, i.e. each lost telegram represents an error case. Parameter antr.permissible_telegram_failures Data type SGN08 Data range 0 ≤ permissible_telegram_failures ≤ 10 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types SERCOS, CANopen TF5200 | Twin CAT 3 CNC Version: 1.172 273 Axis parameters
## Page 274

Parameters for drives (antr.*) Remarks This parameter is only used for drives with Ether CAT field bus (CANopen/SERCOS over Ether CAT). 8.1.18 Bit number for control of a DC brake (P-AXIS-00410) P-AXIS-00410 Bit number for control of a DC brake Description This parameter assists the control of a DC brake for spindles. A control bit that enables DC braking is transferred to the motor controller. The value of the parameter describes the bit number of the drive control word that is used for transmission. A value of 0 for P-AXIS-00410 means for example that bit zero (bit mask 0x0001) of the drive control word is used for transmission. A value of -1 for this parameter disables this function, i.e. no control bit for DC braking is transferred to the drive controller. The control bit is 0 when: • The axis accelerates to its target velocity (in either positive or negative direction). • The axis reverses its movement direction (M3 -> M4, or M4 -> M3). In all other cases the control bit is set. The real control of the DC brake (e.g. monitoring of minimum velocities and magnetisation times) has to be implemented in the drive controller. Parameter antr.dc_brake_control_bit Data type SGN16 Data range -1 ≤ dc_brake_control_bit ≤ 15 Axis types S Dimension S: ---- Default value -1 Drive types Simulation, Profidrive Remarks DC brake control is only implemented for drive types Simulation and PROFIDRIVE. Drive type Valid values for P-AXIS-00410 (bit num- P-AXIS-00020 [} 54] ber) 4 (Simulation) -1 , 0 .. 15 3 (Profidrive) -1, 8, 9, 13, 15 8.1.19 Number of probing input in drive (P-AXIS-00430) P-AXIS-00430 Number of probing input in drive Description Number of the drive digital input which is used as probing input. The digital input used must also be parameterised as a probing input in the drive. See also [FCT-C4]. As of CNC Build V2.10.1505.26, this parameter is used for Profidrive, CANopen and SERCOS drives. If the parameter is specified as 0, the following default settings are valid apply due to downward compatibility: CANopen/Profidrive: Probing input 1 SERCOS: Last configured probing value in the cyclic telegram Parameter antr.probing_input_nbr Data type UNS08 Data range 0, 1, 2 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types SERCOS, Profidrive, CANopen Remarks 274 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 275

Parameters for drives (antr.*) 8.1.20 Use of position lag calculated in drive (P-AXIS-00466) P-AXIS-00466 Use of position lag calculated in drive Description If the position control loop is closed in the drive (see P-AXIS-00320 [} 267]), the parameter can be used to specify that the CNC uses the position lag calculated in the drive (e.g. for display data or position lag monitoring). This presupposes that the actual position lag is configured in the cyclic process data and that the value is transmitted from the drive: - SERCOS-Ident S-0-0189 - CANopen Objekt 0x60F4 Parameter antr.use_drive_following_error Data type BOOLEAN Data range 0: The calculation of the position lag error takes place in the CNC (default). 1: The CNC does not calculate the position lag error and uses the position lag transmitted from the drive instead. Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types SERCOS, CANopen Remarks The CNC can use the drive position lag from SERCOS and CANopen drives only. The position control loop must be closed in the drive. 8.1.21 Maximum time for drive reset (P-AXIS-00484) P-AXIS-00484 Maximum time for drive reset Description By default an error message is output when the reset of a drive amplifier takes longer than 20 seconds. During this time the CNC axis can not be used. This parameter defines the time until output of the error message. Here a minimum value of 100000 µs is allowed. If P-AXIS-00484 is less than this minimum value warning, P-ERR-110562 is output and the parameter is set to the minimum value. Parameter antr.reset_timeout Data type UNS32 Data range 100000 ≤ reset_timeout ≤ MAX(UNS32) Axis types T, R, S Dimension T: µs R,S: µs Default value 0 Drive types ---- Remarks 8.1.22 Drive without support for probing state (P-AXIS-00524) P-AXIS-00524 Drive without support for probing state Description Before starting a measurement travel (G100) or edge banding (G108), the CNC checks whether the probe is already actuated. If this is true, the CNC generates an error message. For SERCOS drives this check requires that the object S-0-0401 or S-0-0402 (probe state) is assigned to a real-time status bit. The parameter can be set to 1 if the drive cannot provide the probe state information in order to suppress this check. Parameter antr.no_probe_state_support Data type BOOLEAN TF5200 | Twin CAT 3 CNC Version: 1.172 275 Axis parameters
## Page 276

Parameters for drives (antr.*) Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types SERCOS, Profidrive Remarks This parameter is used only for SERCOS and Profibus drives. 8.1.23 Activate evaluation of encoder position with additional mask (P-AXIS-00527) P-AXIS-00527 Activate evaluation of encoder position with additional mask. Description This parameter activates a bitwise AND operation between the position delivered by the drive and the bit mask defined by P-AXIS-00355 [} 73] . This achieves that only the bits specified in P-AXIS-00355 [} 73] are taken into account for position evaluation. Parameter antr.use_encoder_submask Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks This parameter is used to handle peculiarities of certain drives and should only be used in exceptional cases. 8.1.24 Drive encoder modulo range (P-AXIS-00528) P-AXIS-00528 Drive encoder modulo range Description If an encoder is connected to the drive which delivers a modulo position, the NC has to handle the encoder overflow. To do this the encoder range (number of different positions delivered by the encoder) of the encoder has to be set up in this parameter. Example of encoder with 16-bit resolution: The encoder delivers a total of 216 = 65536 different positions (0… 65535), so the parameter antr.drive_encoder_modulo_range must be set to 65536. This parameter is inactive if set to 0. In this case the default setting is used for the specific drive type. Parameter antr.drive_encoder_modulo_range Data type UNS32 Data range 0, 512 … MAX(UNS32) Axis types T, R, S Dimension T: increments R,S: increments Default value 0 Drive types SERCOS, Lightbus,CANopen, RT-Ethernet, Terminal, Profidrive 276 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 277

Parameters for drives (antr.*) Remarks This parameter is available as of Build V3.1.3039.02. As of CNC Build V3.1.3080.14, this parameter can be updated by a list update on condition that • the drive release is not set. • In P-AXIS-00015 [} 56] the value 0x00400000 must be set (ALLOW_RESOLUTION_CHANGE). The parameter is only effective with rotary axes P-AXIS-00018 [} 56] (achs_typ = 2). If, in addition to switching the modulo range of the drive encoder, the drive interface is to be switched from linear to modulo position or vice versa, the parameters P- AXIS-00122 [} 263] and P-AXIS-00123 [} 263] must also be set accordingly. For the modulo range of the metric representation of the CNC axis, the parameters P-AXIS-00126 [} 59] and P-AXIS-00127 [} 59] must be set. If position handling for an axis is to be switched from linear to modulo or vice versa, the corresponding bits (0x01(LINEAR) or 0x04(MODULO)) must be set in P- AXIS-00015 [} 56] (kenngr.achs_mode). 8.1.25 Mechanical movement distance outside the software limit switches (P-AXIS-00459) P-AXIS-00459 Mechanical movement distance outside the software limit switches Description This parameter specifies the mechanical axis motion path beyond the software limit switches. It defines the mechanical axis motion path together with the position of the limit switches. This value is used to process an absolute encoder overflow automatically: If the position calculated from the absolute position of the drive and the set position offset lies outside of the mechanical motion range of the axis, it is assumed that an overflow of the absolute encoder occurred. To compensate for this overflow, the calculated position is corrected by the value range of the absolute encoder. The position offset is set by P-AXIS-00403 [} 272] (abs_pos_offset); for PROFIDRIVE drives, it is set by P-AXIS-00341 [} 299] (read_abs_pos_offset). Parameter antr.add_movement_range Data type UNS32 Data range 0 … MAX(UNS32) Axis types T Dimension T: 0.1µm R: ---- Default value 0 Drive types ---- Remarks Automatic handling of the encoder overflow is only possible for linear axes. TF5200 | Twin CAT 3 CNC Version: 1.172 277 Axis parameters
## Page 278

Parameters for drives (antr.*) 8.1.26 Additional datum to calculate power_state_r In addition to the field bus and drive state words used for the calculation of the HLI signal power_state_r (see [HLI]), a freely configurable information from the process data can be taken into account in order to handle drive and manufacturer-specific features (additional 'Ready for Power' check). This additional information is configured with the following three axis parameters. 8.1.26.1 Bit number of additional information for calculation of HLI signal 'power_state_e' (P-AXIS-00709) P-AXIS-00709 Bit number of additional information for calculation of HLI signal 'power_state_r' Description This parameter is set to the bit number that is used to transfer the additional information for the calculation of the drive state. The least significant bit has bit number 0. The additional 'Ready for Power' test is disabled with a value of -1. The maximum value depends on the length of the configured telegram element which is used for transmission. Length of the telegram element in bytes: Max. bit number: 2 15 4 31 When the parameter is set to a value other than -1 although the drive type used does not support the calculation of the power_state_r-signals (see [HLI]), error message P-ERR-110593 is output and the value is corrected to -1. If the parameter is set to an invalid bit number, the error message P-ERR-110594 is output. Parameter antr.add_ready_for_operation.bit_nr Data type SGN16 Data range -1 ≤ bit_nr ≤ Max. bit number Axis types T, R, S Dimension T: ---- R,S: ---- Default value -1 Drive types Simulation, SERCOS, Profidrive, CANopen. Terminal Remarks 8.1.26.2 Inverting 'Ready for Power' signal (P-AXIS-00710) P-AXIS-00710 Inverting 'Ready for Power' signal Description This parameter inverts the result of the calculation of the 'Ready for Power' signal. Parameter antr.add_ready_for_operation.inverted Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types Simulation, SERCOS, Profidrive, CANopen, Terminal Remarks 278 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 279

Parameters for drives (antr.*) 8.1.26.3 Element name of additional information for calculation of HLI signal 'power_state_e' (P-AXIS-00711) P-AXIS-00711 Element name of additional information for calculation of HLI signal 'power_state_r' Description This parameter is set up with the name of the element of the cyclic process data which is used to transfer the 'Ready for Power' signal from the drive. If the parameter entered in P-AXIS-00711 is not found within the cyclic process data of the drive, an error message P-ERR-70499is output. Parameter antr.add_ready_for_operation.element_name Data type STRING Data range When no value is configured, the additional 'Ready for Power' signal is not calculated and is not taken into account in the calculation of the 'power_state_r' on the HLI. S-0-0135: When the SERCOS state word is used for transmission of the reference signal, the parameter has to be assigned the value 'S-0-0135' or ... <Telegram_element_Name>: ...otherwise the name of a telegram element configured in the cyclic process data. Axis types T, R, S Dimension T: ---- R,S: ---- Default value * Drive types Simulation, SERCOS, Profidrive, CANopen, Terminal Remarks The additional 'Ready for Power’ test is activated when a value is assigned to this parameter. When reference monitoring is activated, also assign a valid value to the parameter P-AXIS-00709 [} 278] . * Note: The default value of variables is a blank string. 8.1.27 Disabling drive controller for position lag error (P-AXIS-00537) P-AXIS-00537 Disable drive controller on position lag error Description By default, the CNC-internal error reaction is executed when a position lag error occurs (see also P-ERR-70020 and P-ERR-70081) in order to bring the axis to a standstill. The control bits to the drive controller are not changed. By setting this parameter to the value "ON", enable bits are reset in the control word for the supported drive types for a position lag error. In this case, drive-internal functionalities are activated and this leads to the fastest possible stop of the axis with subsequent torque cut-off. For the different drive types, they are: Drive type: Modifications in control word: SERCOS Resetting bit 15 (0x8000) control word CANopen Resetting bits 0, 3 and 4 (0x0019) in control word (Drive Shutdown) Profidrive Resetting bit 2 (0x0004) in STW1 Simulation Parameter is ignored Parameter antr.position_lag_drive_disable Data type STRING TF5200 | Twin CAT 3 CNC Version: 1.172 279 Axis parameters
## Page 280

Parameters for drives (antr.*) Data range DEFAULT: Activation of function depends on drive type: Drive type: Modifications in control word: SERCOS ON CANopen* OFF Profidrive** OFF Simulation OFF *The default value of OFF for CANopen drives is based on the fact, that it is possible here to switch the drive immediately torque-free by setting object 0x605B (Shutdown option code) to 0 in response to the shutdown command. Otherwise the drive would then not braked when a tracking error occurs, which is not desired. **For Profidrive drives, the control word 1 must correspond to the Profidrive profile. ON: When a position lag error occurs, the control word is changed according to the above table. OFF: If a position lag error occurs, the control word is not changed. Axis types T, R, S Dimension T: ---- R,S: ---- Default value DEFAULT Drive types SERCOS, CANopen, Profidrive, Simulation Remarks Before using this parameter, it is essential to check with the manufacturer documentation, especially for CANopen and Profidrive drives, whether the above modification of the control word leads to ramp-down of the drive and a subsequent shutdown of the torque. It makes sense for this parameter to select the same setting as for P-AXIS-00542 [} 280] which defines the reaction to a bus error. 8.1.28 Disabling drive controller in case of bus error (P-AXIS-00542) P-AXIS-00542 Disabling drive controller in case of field bus error Description By default, the CNC-internal error reaction is executed when a bus error occurs (see also P-ERR-70021) on CANopen drives in order to bring the axis to a standstill. The control bits to the drive controller are not changed. By setting this parameter to the value "ON", enable bits are also reset in the control word for CANopen drives in case of a bus error. In this case, drive-internal functionalities are activated and this leads to the fastest possible stop of the axis with subsequent torque cut-off: Drive type: Modifications in control word: CANopen: Resetting bits 0, 3 and 4 (0x0019) in control word (Drive Shutdown) Parameter antr.bus_error_drive_disable Data type STRING Data range DEFAULT: Activation of function depends on drive type: Drive type: Modifications in control word: CANopen* OFF *The default value of OFF for CANopen drives is based on the fact, that it is possible here to switch the drive immediately torque-free by setting object 0x605B (Shutdown option code) to 0 in response to the shutdown command. Otherwise the drive would then not braked when a bus error occurs, which is not desired. ON: When a bus error occurs, the control word is changed according to the above table. OFF: If a bus error occurs, the control word is not changed. Axis types T, R, S Dimension T: ---- R,S: ---- 280 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 281

Parameters for drives (antr.*) Default value DEFAULT Drive types CANopen Remarks Before using this parameter, it is essential to check in the manufacturer documentation, especially for CANopen drives, whether the above modification of the control word leads to ramp-down of the drive and a subsequent shutdown of the torque. It makes sense for this parameter to select the same setting as for P-AXIS-00537 [} 279] which defines the reaction to a position lag error. TF5200 | Twin CAT 3 CNC Version: 1.172 281 Axis parameters
## Page 282

Parameters for drives (antr.*) 8.2 Drive type simulation (antr.simu.*) For the 'Simulation' drive type (see the parameter 'kenngr.antr_typ' Drive type (P-AXIS-00020) [} 54]), the time response of the axis can be simulated by a filter whose parameters are described in the sections below. The filter transmit function is called: Fig. 33: Simulation drive transmit function of the filter Here, D (attenuation) and ω (natural frequency) are the transmit function parameters. 0 The transmit response of the overall system results from the transmit response of the closed control loop consisting of axis simulation and position controller. In addition, the command values calculated by the position controller can be delayed by an adjustable number of interpolator cycles in order to simulate control path dead time. 8.2.1 Numerator of sampling time constant of axis simulation (P- AXIS-00239) P-AXIS-00239 Sampling time constant for axis simulation (numerator) Description The parameter defines the numerator of the sampling time constant used to calculate the associated time-discrete axis model from the time-continuous axis model defined by the parameters P-AXIS-00051 [} 283], P-AXIS-00050 [} 283], P- AXIS-00062 [} 283] and P-AXIS-00061 [} 284]. Sampling time constant = P-AXIS-00239/ P-AXIS-00238 [} 282] Parameter antr.simu.zeitkonstante_z Data type UNS32 Data range MAX(UNS32) ≥ zeitkonstante_z ≥ 1 Axis types T, R, S Dimension T: s R,S: s Default value 1 Drive types Simulation Remarks This parameter should be set to the interpolator cycle time so that the time-discrete plant model behaves the same as the continuous plant model. 8.2.2 Denominator of sampling time constant of axis simulation (P- AXIS-00238) P-AXIS-00238 Sampling time constant for axis simulation (numerator) Description The parameter defines the numerator of the sampling time constant used to calculate the associated time-discrete axis model from the time-continuous axis model defined by the parameters P-AXIS-00051 [} 283], P-AXIS-00050 [} 283], P- AXIS-00062 [} 283] and P-AXIS-00061 [} 284]. The parameter defines the drive time constant (denominator). Sampling time constant = P-AXIS-00239 [} 282]/ P-AXIS-00238 Parameter antr.simu.zeitkonstante_n Data type UNS32 Data range MAX(UNS32) ≥ zeitkonstante_n ≥ 1 Axis types T, R, S Dimension T: - R,S: - 282 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 283

Parameters for drives (antr.*) Default value 100 Drive types Simulation Remarks This parameter should be set to the interpolator cycle time so that the time-discrete plant model behaves the same as the continuous plant model. 8.2.3 Numerator of attenuation of axis simulation (P-AXIS-00051) P-AXIS-00051 Axis simulation attenuation (numerator) Description The parameter defines the axis simulation attenuation (numerator). Axis attenuation = P-AXIS-00051 / P-AXIS-00050 [} 283] Parameter antr.simu.daempfung_z Data type UNS32 Data range MAX(UNS32) ≥ daempfung_z ≥ 1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 6 Drive types Simulation Remarks Attenuation = P-AXIS-00051 / P-AXIS-00050 [} 283] must be < 1, otherwise the warning ERR-80044 is output and attenuation is limited to 0.999. 8.2.4 Denominator of attenuation of axis simulation (P-AXIS-00050) P-AXIS-00050 Axis simulation attenuation (numerator) Description The parameter defines the axis simulation attenuation (numerator). Axis attenuation = P-AXIS-00051 [} 283] / P-AXIS-00050 Parameter antr.simu.daempfung_n Data type UNS32 Data range MAX(UNS32) ≥ daempfung_n ≥ Axis types T, R, S Dimension T: ---- R,S: ---- Default value 10 Drive types Simulation Remarks Attenuation = P-AXIS-00051 [} 283] /P-AXIS-00050 must be < 1, otherwise the warning ERR-80044 is output and attenuation is limited to 0.999. 8.2.5 Numerator of natural frequency of axis simulation (P- AXIS-00062) P-AXIS-00062 Axis simulation natural frequency (numerator) Description The parameter defines the axis simulation natural frequency (numerator). Natural frequency = P-AXIS-00062 / P-AXIS-00061 [} 284] Parameter antr.simu.eigenfrequenz_z Data type UNS32 Data range MAX(UNS32) ≥ eigenfrequenz_z ≥ 1 Axis types T, R, S Dimension T: 1 R,S: 1 Default value 100 Drive types Simulation TF5200 | Twin CAT 3 CNC Version: 1.172 283 Axis parameters
## Page 284

Parameters for drives (antr.*) Remarks The value of ω0 is specified directly. 8.2.6 Denominator of natural frequency of axis simulation (P- AXIS-00061) P-AXIS-00061 Axis simulation natural frequency (numerator) Description The parameter defines the axis simulation natural frequency (numerator). Natural frequency = P-AXIS-00062 [} 283] / P-AXIS-00061 Parameter antr.simu.eigenfrequenz_n Data type UNS32 Data range MAX(UNS32) ≥ eigenfrequenz_n ≥ 1 Axis types T, R, S Dimension T: s R,S: s Default value 1 Drive types Simulation Remarks The value of ω is specified directly. 0 8.2.7 Dead time (P-AXIS-00194) P-AXIS-00194 Dead time for drive simulation Description The parameter defines the dead time. Parameter antr.simu.totzeit Data type UNS32 Data range 5 (Maximum possible dead time, application-specific) ≥ totzeit ≥ 0 Axis types T, R, S Dimension T: Number of interpolation cycles * R,S: Number of interpolation cycles * Default value 0 Drive types Simulation Remarks * The dead time is defined as a multiple of cycle time T of geometry data Ab processing of the NC kernel. 8.2.8 Tool path up to zero pulse during homing simulation (P- AXIS-00161) P-AXIS-00161 Tool path up to zero pulse during homing simulation Description The parameter defines the tool path up to zero pulse during homing simulation. Parameter antr.simu.rpf_weg_bis_nip Data type SGN32 Data range MIN(SGN32) ≤ rpf_weg_bis_nip ≤ MAX(SGN32) Axis types T, R, S Dimension T: 0.1µm R,S: 0.0001 ° Default value 10 drive types. Simulation Remarks 8.2.9 Set actual position equal to command position (P-AXIS-00096) P-AXIS-00096 Set actual position equal to command position for drive simulation 284 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 285

Parameters for drives (antr.*) Description This parameter turns off the axis simulation with a filter by setting the actual value equal to the command value. Due to the internal execution order of axis simulation and position controller, there is still a position lag which is equal to the distance the axis moves within one interpolator cycle. Parameter antr.simu.ist_gleich_soll Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types Simulation Remarks TF5200 | Twin CAT 3 CNC Version: 1.172 285 Axis parameters
## Page 286

Parameters for drives (antr.*) 8.3 Drive type SERCOS (antr.sercos.*) The data are dependent on the drive. These parameters must only be assigned when this axis is to be carried out as a SERCOS axis (see P-AXIS-00020 [} 54]). SERCOS telegrams are described in greater detail in [SERC-S2]. 8.3.1 Telegram type (P-AXIS-00188) P-AXIS-00188 Telegram type (SERCOS) Description This parameter defines the telegram type to the drive (see [SERC-S2//Master data telegram]). Parameter antr.sercos.telegramm_typ Data type UNS16 Data range 0 < telegramm_typ ≤ 7 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 4 Drive types SERCOS Remarks This parameter is used automatically in Twin CAT systems. 8.3.2 Ring number (P-AXIS-00160) P-AXIS-00160 Ring number (SERCOS) Description The SERCOS ring number is entered here to denote the axis to which it is connected. This value must currently be set to 0 since multi-ring operation is not yet possible. Parameter antr.sercos.ring_nr Data type UNS16 Data range 0, only this ring at present Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types SERCOS Remarks This parameter is used automatically in Twin CAT systems. 8.3.3 Operation mode for velocity control (P-AXIS-00264) P-AXIS-00264 Operation mode for velocity control (SERCOS) Description This parameter defines the required operation mode during switching to velocity control. Parameter antr.sercos.op_mode_for_velocity_control Data type UNS16 Data range 0 ≤ op_mode_for_velocity_control ≤ 3 where: 0: Main operation mode S-0-0032 1: Auxiliary operation mode 1, S-0-0033 2: Auxiliary operation mode 2, S-0-0034 3: Auxiliary operation mode 3, S-0-0035 Axis types S 286 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 287

Parameters for drives (antr.*) Dimension S: ---- Default value 0 drive types. SERCOS Remarks The main mode can also be used for speed control. 8.3.4 Drive supported execution of the CNC based homing (P- AXIS-00386) P-AXIS-00386 Drive supported execution of the CNC based homing (SERCOS) Description By default CNC-controlled homing for SERCOS drives is only executed in the controller; the drive-internal positions are not altered. If the drive supports the SERCOS command S-0-146 (CNC-controlled homing), this parameter can enable the command S-0-146 for CNC-controlled homing. The advantage of this method is that, after homing is finished, the drive-internal positions are also referenced so that drive-internal software limit switches can be used, for example. The reference position used for homing is P-AXIS-00152 [} 69]. This value is transferred to the drive during homing Parameter antr.sercos.drive_supports_cnc_homing Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 drive types. SERCOS Remarks This parameter is currently not supported for spindles. In addition to command S-0-146 the drive must support the following commands: • S-0-171 (Calculate displacement) • S-0-172 (Displacement to referenced system) • S-0-191 (Cancel reference point procedure) For further information please refer to the drive manufacturer's documentation.. 8.3.5 Assignment of control and status bits for CNC based homing (P-AXIS-00387) P-AXIS-00387 Assignment of control and status bits for CNC based homing (SERCOS) Description To execute CNC-controlled homing with drive support, two control bits and two status bits are required. The real-time control and status bits can be used in the drive control and status word or alternatively as bits in the signal status and signal control word. Parameter antr.sercos.cnc_homing_rt_bit_layout Data type UNS16 Data range 1 ≤ cnc_homing_rt_bit_layout ≤ 16 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 drive types. SERCOS Remarks When the status and control bits are transferred in the signal status and control words, they must be configured in the cyclic process data, otherwise the error message P- ERR-70295 is output. The table below shows the assignment of the values in P-AXIS-00387 to the possible bit combinations. TF5200 | Twin CAT 3 CNC Version: 1.172 287 Axis parameters
## Page 288

Parameters for drives (antr.*) Value Process data Bit number Meaning Ident 1 Control word Real-time bit 1 (S-0-301) Homing enable S-0-407 Real-time bit 2 (S-0-303) Position setpoint referenced S-0-404 Status word Real-time bit 1 (S-0-305) Position marker pulse S-0-408 registered Real-time bit 2 (S-0-307) Actual value referenced S-0-403 2 Signal control word Bit 0 (S-0-27[0]) Homing enable S-0-407 Bit 1 (S-0-27[1]) Position setpoint referenced S-0-404 Signal status word Bit 0 (S-0-26[0]) Position marker pulse S-0-408 registered Bit 1 (S-0-26[1]) Actual value referenced S-0-403 3 Signal control word Bit 1 (S-0-27[1]) Homing enable S-0-407 Bit 2 (S-0-27[2]) Position setpoint referenced S-0-404 Signal status word Bit 1 (S-0-26[1]) Position marker pulse S-0-408 registered Bit 2 (S-0-26[2]) Actual value referenced S-0-403 4 Signal control word Bit 2 (S-0-27[2]) Homing enable S-0-407 Bit 3 (S-0-27[3]) Position setpoint referenced S-0-404 Signal status word Bit 2 (S-0-26[2]) Position marker pulse S-0-408 registered Bit 3 (S-0-26[3]) Actual value referenced S-0-403 5 Signal control word Bit 3 (S-0-27[3]) Homing enable S-0-407 Bit 4 (S-0-27[4]) Position setpoint referenced S-0-404 Signal status word Bit 3 (S-0-26[3]) Position marker pulse S-0-408 registered Bit 4 (S-0-26[4]) Actual value referenced S-0-403 6 Signal control word Bit 4 (S-0-27[4]) Homing enable S-0-407 Bit 5 (S-0-27[5]) Position setpoint referenced S-0-404 Signal status word Bit 4 (S-0-26[4]) Position marker pulse S-0-408 registered Bit 5 (S-0-26[5]) Actual value referenced S-0-403 7 Signal control word Bit 5 (S-0-27[5]) Homing enable S-0-407 Bit 6 (S-0-27[6]) Position setpoint referenced S-0-404 Signal status word Bit 5 (S-0-26[5]) Position marker pulse S-0-408 registered Bit 6 (S-0-26[6]) Actual value referenced S-0-403 8 Signal control word Bit 6 (S-0-27[6]) Homing enable S-0-407 Bit 7 (S-0-27[7]) Position setpoint referenced S-0-404 Signal status word Bit 6 (S-0-26[6]) Position marker pulse S-0-408 registered Bit 7 (S-0-26[7]) Actual value referenced S-0-403 9 Signal control word Bit 7 (S-0-27[7]) Homing enable S-0-407 Bit 8 (S-0-27[8]) Position setpoint referenced S-0-404 Signal status word Bit 7 (S-0-26[7]) Position marker pulse S-0-408 registered Bit 8 (S-0-26[8]) Actual value referenced S-0-403 10 Signal control word Bit 8 (S-0-27[8]) Homing enable S-0-407 Bit 9 (S-0-27[9]) Position setpoint referenced S-0-404 Signal status word Bit 8 (S-0-26[8]) Position marker pulse S-0-408 registered Bit 9 (S-0-26[9]) Actual value referenced S-0-403 288 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 289

Parameters for drives (antr.*) 11 Signal control word Bit 9 (S-0-27[9]) Homing enable S-0-407 Bit 10 (S-0-27[10]) Position setpoint referenced S-0-404 Signal status word Bit 9 (S-0-26[9]) Position marker pulse S-0-408 registered Bit 10 (S-0-26[10]) Actual value referenced S-0-403 12 Signal control word Bit 10 (S-0-27[10]) Homing enable S-0-407 Bit 11 (S-0-27[11]) Position setpoint referenced S-0-404 Signal status word Bit 10 (S-0-26[10]) Position marker pulse S-0-408 registered Bit 11 (S-0-26[11]) Actual value referenced S-0-403 13 Signal control word Bit 11 (S-0-27[11]) Homing enable S-0-407 Bit 12 (S-0-27[1]2) Position setpoint referenced S-0-404 Signal status word Bit 11 (S-0-26[11]) Position marker pulse S-0-408 registered Bit 12 (S-0-26[1]2) Actual value referenced S-0-403 14 Signal control word Bit 12 (S-0-27[12]) Homing enable S-0-407 Bit 13 (S-0-27[13]) Position setpoint referenced S-0-404 Signal status word Bit 12 (S-0-26[12]) Position marker pulse S-0-408 registered Bit 13 (S-0-26[13]) Actual value referenced S-0-403 15 Signal control word Bit 13 (S-0-27[13]) Homing enable S-0-407 Bit 14 (S-0-27[1]4) Position setpoint referenced S-0-404 Signal status word Bit 13 (S-0-26[13]) Position marker pulse S-0-408 registered Bit 14 (S-0-26[14]) Actual value referenced S-0-403 16 Signal control word Bit 14 (S-0-27[14]) Homing enable S-0-407 Bit 15 (S-0-27[15]) Position setpoint referenced S-0-404 Signal status word Bit 14 (S-0-26[14]) Position marker pulse S-0-408 registered Bit 15 (S-0-26[15]) Actual value referenced S-0-403 8.3.6 Evaluation of SERCOS state bit drive follows command (P- AXIS-00411) P-AXIS-00411 Evaluation of SERCOS state bit drive follows command (SERCOS) Description Many SERCOS drives supply the information “drive follows setpoints” in bit 3 of their status word (bit mask 0x0008). Parameter P-AXIS-00411 achieves that this bit is taken into account for the calculation of the HLI state signal State LR_Data. X_Ready Power On (see [HLI]). If this parameter is set, the HLI signal Ready For Power On is set only when bits (0x4000 and 0x0008) are set in the SERCOS state word. In the following cases the HLI state signal State LR_Data. X_Ready Power On is derived only from SERCOS state bit 0x4000 regardless of the setting of P- AXIS-00411: • SERCOS control bit 0x2000 (Release feedhold, Control Unit Mc Control Lr_Data. MCControl Bool Unit_Release Feedhold ([HLI])) is not set. • The drive executes drive-controlled homing. SERCOS state bit 0x8000 (Ready for power on) is not set. Parameter antr.sercos.evaluate_drive_follows_cmd Data type BOOLEAN Data range 0/1 Axis types T, R, S TF5200 | Twin CAT 3 CNC Version: 1.172 289 Axis parameters
## Page 290

Parameters for drives (antr.*) Dimension T: ---- R,S: ---- Default value 0 Drive types SERCOS Remarks It is only useful to apply this parameter if the drive provides state bit 0x0008. This information has to be taken from the drive documentation. 290 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 291

Parameters for drives (antr.*) 8.3.7 Master data telegram (antr.sercos.mdt[i].*) Structure name Index mdt[i] 0 ≤ i ≤ 8 (Size of SERCOS-telegram) 8.3.7.1 MDT-Ident number (P-AXIS-00090) P-AXIS-00090 MDT ID number (SERCOS) Description The parameter defines the SERCOS ID number of telegram entry. It defines the sequence in the MDT telegram. Parameter antr.sercos.mdt[i].ident_nr Data type UNS16 Data range According to SERCOS specification + extensions Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types SERCOS Remarks This parameter is used automatically in Twin CAT systems. 8.3.7.2 Length of ID (P-AXIS-00088) P-AXIS-00088 Length of ID (SERCOS) Description The parameter defines the ID length. Parameter antr.sercos.mdt[i].ident_len Data type UNS08 Data range Axis types T, R, S Dimension T: Number of bytes R,S: Number of bytes Default value 4 Drive types SERCOS Remarks This parameter is used automatically in Twin CAT systems. 8.3.7.3 Assigning the output process data to CNC-internal characteristics (P- AXIS-00132) P-AXIS-00132 Assigning the output process data to CNC-internal characteristics (SERCOS) Description This parameter assigns a CNC-internal meaning to the data element configured in the cyclical output process data. The following references are supported: Parameter antr.sercos.mdt[i].nc_ref Data type STRING TF5200 | Twin CAT 3 CNC Version: 1.172 291 Axis parameters
## Page 292

Parameters for drives (antr.*) Data range String Meaning LAGESOLL_WERT Absolute position command value POSITION_COMMAND_VALUE Absolute position command value S-0-0047 Absolute position command value S_0_0047 Absolute position command value VB_WERT Velocity command value VELOCITY_COMMAND_VALUE Velocity command value S-0-0036 Velocity command value S_0_0036 Velocity command value A_SOLL_WERT Acceleration command value MOMENT_SOLL_WERT Torque command value TORQUE_COMMAND_VALUE Torque command value BSPLINE_VB_KOEFFIZIENT Fine interpolation Bspline coeff. 1 BSPLINE_A_KOEFFIZIENT Fine interpolation Bspline coeff. 2 BSPLINE_R_KOEFFIZIENT Fine interpolation Bspline coeff. 3 LR_VAR1_OUT_SGN32 Binary output data 1 LR_VAR1_OUT Binary output data 1 LR_VAR2_OUT_SGN32 Binary output data 2 LR_VAR2_OUT Binary output data 2 LR_VAR3_OUT_SGN32 Binary output data 3 LR_VAR3_OUT Binary output data 3 LR_VAR4_OUT_SGN32 Binary output data 4 LR_VAR4_OUT Binary output data 4 LR_VAR1_OUT_UNS16 Binary output data 1 LR_VAR2_OUT_UNS16 Binary output data 2 LR_VAR3_OUT_UNS16 Binary output data 3 LR_VAR4_OUT_UNS16 Binary output data 4 Data range LR_VAR1_OUT_SGN16 Binary output data 1 (continued) LR_VAR2_OUT_SGN16 Binary output data 2 LR_VAR3_OUT_SGN16 Binary output data 3 LR_VAR4_OUT_SGN16 Binary output data 4 CONTROL_WORD Drive control word S-0-0134 Drive control word S_0_0134 Drive control word TORQUE_LIMIT_POS Positive torque limit TORQUE_LIMIT_NEG Negative torque limit TORQUE_LIMIT_BIPOLAR Bipolar torque limit S-0-0145 Signal control word S_0_0145 Signal control word S-0-0037 Additive speed command value S_0_0037 Additive speed command value S-0-0081 Additive torque command value S_0_0081 Additive torque command value MASTER_LIFE_COUNTER Master life sign Axis types T, R, S Dimension T: ---- R,S: ---- Default value * Drive types SERCOS 292 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 293

Parameters for drives (antr.*) Remarks This parameter is used automatically in Twin CAT systems. If an unknown string is configured in the parameter, the error message P-ERR-260089 is output and the interpretation of process data is aborted. With drives whose process data contents are not freely configurable, the error message P-ERR-260089 can be suppressed by setting P-AXIS-00358 [} 269] . * Note: The default value of variables is a blank string. TF5200 | Twin CAT 3 CNC Version: 1.172 293 Axis parameters
## Page 294

Parameters for drives (antr.*) 8.3.8 Drive telegram type 7 (antr.sercos.at[i].*) This parameter defines the configurable telegram type number 7 of the drive (see [SERC-S2//Drive telegram AT]). Structure name Index at[i] 0 ≤ i < 8 (telegram size for SERCOS telegrams) 8.3.8.1 AT-Ident number (P-AXIS-00089) P-AXIS-00089 AT ID number (SERCOS) Description The parameter defines the SERCOS ID number of telegram entry. Parameter antr.sercos.at[i].ident_nr Data type UNS16 Data range drive-dependent Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types SERCOS Remarks This parameter is used automatically in Twin CAT systems. 8.3.8.2 Length of ID (P-AXIS-00087) P-AXIS-00087 Length of ID (SERCOS) Description The parameter defines the ID length. Parameter antr.sercos.at[i].ident_len Data type UNS08 Data range Predefined by ID number Axis types T, R, S Dimension T: Number of bytes R,S: Number of bytes Default value 4 Drive types SERCOS Remarks This parameter is used automatically in Twin CAT systems. 8.3.8.3 Assigning the input process data to CNC-internal characteristics (P- AXIS-00131) P-AXIS-00131 Assigning the input process data to CNC-internal characteristics (SERCOS) Description This parameter assigns a CNC-internal sense to the data element configured in the cyclical input process data. Currently the following references are supported: Parameter antr.sercos.at[i].nc_ref Data type STRING 294 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 295

Parameters for drives (antr.*) Data range String Meaning LAGEIST_WERT Actual value absolute position POSITION_FEEDBACK_VALUE_1 Actual value absolute position S-0-0051 Actual value absolute position S_0_0051 Actual value absolute position S-0-0053 Actual value absolute position S_0_0053 Actual value absolute position S-0-0386 Actual value absolute position S_0_0386 Actual value absolute position STROMIST_WERT Data range VB_IST_WERT Actual value velocity VELOCITY_FEEDBACK_VALUE_1 Actual value velocity S-0-0040 Actual value velocity S_0_0040 Actual value velocity A_IST_WERT Actual value acceleration RUCK_IST_WERT Actual value jerk MOMENT_IST_WERT Actual value torque TORQUE_FEEDBACK Actual value torque TORQUE_FEEDBACK_VALUE Actual value torque S-0-0084 Actual value torque S_0_0084 Actual value torque POSITION LAG Position lag S-0-0189 Position lag S_0_0189 Position lag MESSWERT_1 Measured value 1, positive edge S-0-0130 Measured value 1, positive edge S_0_0130 Measured value 1, positive edge MESSWERT_1_NEG Measured value 1, negative edge S_0_0131 Measured value 1, negative edge MESSWERT_2 Measured value 2, positive edge S-0-0132 Measured value 2, positive edge S_0_0132 Measured value 2, positive edge MESSWERT_2_NEG Measured value 2, negative edge S-0-0133 Measured value 2, negative edge S_0_0133 Measured value 2, negative edge MESSWERT_STATUS Measured value status FEHLER_1 Error 1 FEHLER_2 Error 2 FEHLER_3 Error 3 LR_VAR1_IN_UNS16 Binary input data 1 LR_VAR2_IN_UNS16 Binary input data 2 LR_VAR3_IN_UNS16 Binary input data 3 LR_VAR4_IN_UNS16 Binary input data 4 LR_VAR1_IN_SGN16 Binary input data 1 LR_VAR2_IN_SGN16 Binary input data 2 LR_VAR3_IN_SGN16 Binary input data 3 LR_VAR4_IN_SGN16 Binary input data 4 STATUS_WORD Drive status word S-0-0135 Drive status word S-0-0144 Signal status word S_0_0144 Signal status word TF5200 | Twin CAT S3- C0-N0C390 Version: 1.172Drive error code 295 Axis parameters S-0-0390 Drive error code S-0-0084 Torque actual value S_0_0084 Torque actual value
## Page 296

Parameters for drives (antr.*) Axis types T, R, S Dimension T: ---- R,S: ---- Default value * Drive types SERCOS Remarks This parameter is used automatically in Twin CAT systems. If an unknown string is configured in the parameter, the error message P-ERR-260090 is output and the interpretation of process data is aborted. With drives whose process data contents are not freely configurable, the error message P-ERR-260090 can be suppressed by setting P-AXIS-00358 [} 269] . * Note: The default value of variables is a blank string. 8.3.9 Delay of display command values (P-AXIS-00813) P-AXIS-00813 Delay of display command values Description For SERCOS drives, the display value of the command position is delayed by the cycles set in P-AXIS-00191 [} 266]. This corresponds to the time after which the drive receives the signal. The display data therefore represent the command position of the drive. This parameter allows the display delay to be deactivated. The display data therefore show the command position currently calculated in the position controller. Parameter antr.sercos.delay_display_cmd_pos Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,: ---- Default value Drive types SERCOS Remarks Parameter available as of CNC Build V3.1.3080.3 and higher 8.4 Drive type PROFIDRIVE (antr.profibus.*) 8.4.1 Factor for calculation of the position value (P-AXIS-00065) P-AXIS-00065 Factor for calculation of the position values (PROFIDRIVE) Description This parameter is used to calculate the internally used actual position value from the value which is transferred over the bus. It is defined as the power of 2 by which the bus value is divided. Example: Feinaufloesung (fine resolution) = 4: Position value is divided by 24 = 16. See also documentation of Profidrive parameters P1042 … P1045. Parameter antr.profibus.feinaufloesung Data type UNS16 Data range 0 ≤ feinaufloesung ≤ 24 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 11 Drive types Profidrive Remarks 296 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 297

Parameters for drives (antr.*) 8.4.2 Slave-life sign limit (P-AXIS-00162) P-AXIS-00162 Slave-life sign limit (PROFIDRIVE) Description Limit to monitor the slave life sign. In the Profidrive telegram a life sign is transmitted and this is implemented as a per cycle incremented counter. If the counter value from the telegram is not equal to the value expected from the NC kernel, an internal error counter is incremented by 10. Every time the transmitted counter value and the expected value are equal, the error counter is decremented by one. If the error counter exceeds the parameter limit, the error message P-ERR-70106 (Life sign from PROFIBUS slave missing) is output). (See also Profidrive Profile Drive Technology, Section 6.3 Save Data Values). Parameter antr.profibus.s_ls_limit Data type UNS16 Data range 0 ≤ s_ls_limit ≤ MAX(UNS16) Axis types T, R, S Dimension T: ---- R,S: ---- Default value 40 Drive types Profidrive Remarks 8.4.3 Activation of velocity command interface (P-AXIS-00260) P-AXIS-00260 Activation of velocity command interface (PROFIDRIVE) Description For PROFIDRIVEs, position control can be achieved by transmitting the position lag to the drive (telegram 5) as well as by transmitting a velocity command (telegram 3) By default, if telegram 3 is used, the axis is operated not in a closed position control loop, but only the calculated command velocity of the interpolator is transmitted to the drive. In order to operate the drive in a closed position control loop, this parameter must be set to 1. Parameter antr.profibus.velocity_command_control Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types Profidrive Remarks 8.4.4 Reading absolute position from drive (P-AXIS-00315) P-AXIS-00315 Reading absolute position from drive (PROFIDRIVE) Description At control start-up an absolute position stored in Profidrive drives can be read from the drive This functionality is activated with this parameter. After successful reading of the absolute position, the axis is considered as homed. The absolute position is requested in the following cases: • Controller start-up • After reset of an encoder error When functionality 'parked encoder' is deactivated Parameter antr.profibus.read_abs_pos_from_drive Data type BOOLEAN Data range 0/1 TF5200 | Twin CAT 3 CNC Version: 1.172 297 Axis parameters
## Page 298

Parameters for drives (antr.*) Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types Profidrive Remarks 8.4.5 Offset factor for G1_XIST1 (P-AXIS-00316) P-AXIS-00316 Shift factor for G1_XIST1 (PROFIDRIVE) Description If parameter P-AXIS-00315 [} 297] is assigned the value 1, the shift factor for G1_XIST1 must be entered in this parameter (P-AXIS-00316). The value of drive parameter P1042 must be entered. Parameter antr.profibus.p1042 Data type SGN16 Data range 0 … 24 Axis types T, R, S Dimension T: ---- R,S: ---- Default value -1 Drive types Profidrive Remarks 8.4.6 Offset factor for absolute value in G1_XIST2 (P-AXIS-00317) P-AXIS-00317 Offset factor for absolute value in G1_XIST2 (PROFIDRIVE) Description If parameter P-AXIS-00315 [} 297] is assigned the value 1, the offset factor for the absolute factor in G1_XIST2 must be entered in this parameter (P-AXIS-00317). The value of drive parameter P1043 must be entered. Parameter antr.profibus.p1043 Data type SGN16 Data range 0 … 24 Axis types T, R, S Dimension T: ---- R,S: ---- Default value -1 Drive types Profidrive Remarks 8.4.7 Calculation mode for actual position (P-AXIS-00318) P-AXIS-00318 Calculation mode for actual position (PROFIDRIVE) Description If parameter P-AXIS-00315 [} 297] is set to 1, this parameter (P-AXIS-00318) must specify the calculation mode for the actual position. There are two modes for this. Parameter antr.profibus.read_abs_pos_mode Data type STRING Data range DRIVE_POS: The absolute position transferred from the drive is used as actual position. If necessary a format conversion is made. (Default). COMBINED: Bits 31 ... p1042 are taken from the drives actual position, bits 0 … p1042 -1 are taken from the position value in G1_XIST1. See the figure below. Axis types T, R, S Dimension T: ---- R,S: ---- 298 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 299

Parameters for drives (antr.*) Default value DRIVE_POS Drive types Profidrive Remarks Calculation mode COMBINED may only be used if the motor encoder delivers an absolute position within one motor revolution. This property of the encoder can be determined with the value of drive parameter P979 subindex 1. If bit 1 (bit mask 0x02) is set the encoder delivers an absolute position within one motor revolution. If applicable, consult the manufacturer's documentation. G1_XIST1 shift_xist1 31 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 F F F F F F F F F F F Absolutposition in CNC shift_xist1 31 0 0 0 0 P P P P P P P P P P P P P P P P P P F F F F F F F F F F F Absolutposition von Antrieb shift_abs_pos 31 0 0 0 0 0 0 P P P P P P P P P P P P P P P P P P 0 0 0 0 0 0 0 0 0 Fig. 34: Calculation mode for actual position 8.4.8 Offset to the read absolute position of the drive (P- AXIS-00341) P-AXIS-00341 Offset to the read absolute position of the drive (PROFIDRIVE) Description Each time the absolute position of the drive is read (see P-AXIS-00315 [} 297]), the homing position in the controller is shifted by the offset in P-AXIS-00341 in relation to the drive position. As a result, any point on the axis can be defined as the zero point, for example. The resulting axis position in the controller is calculated as follows: Homing position (axis position) = Absolute position from drive + P-AXIS-00341 Parameter antr.profibus.read_abs_pos_offset Data type SGN64 Data range MIN(SGN64) ≤ read_abs_pos_offset ≤ MAX(SGN64) Axis types T Dimension T: 0.1 µm Default value 0 Drive types Profidrive Remarks 8.4.9 Automatic follow up mode for disabled drive (P-AXIS-00352) P-AXIS-00352 Automatic follow up mode for disabled drive (PROFIDRIVE) Description By default, an axis is in follow-up mode if it is not ready for operation. This behaviour can be switched off if it is not required. If this parameter is set, the axis goes to tracking mode only under the following conditions: • The axis is in error. • The slave live counter of the axis does not work. Follow-up operation is set via the HLI interface (see [HLI// Control commands of an axis]). TF5200 | Twin CAT 3 CNC Version: 1.172 299 Axis parameters
## Page 300

Parameters for drives (antr.*) Parameter antr.profibus.disable_auto_tracking Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types Profidrive Remarks 8.4.10 Number of detectable motor revolutions (P-AXIS-00336) P-AXIS-00336 Number of detectable motor revolutions (PROFIDRIVE) Description This parameter sets the number of revolutions that an absolute encoder can determine. The travering range of the axis which is defined by the software limits switches (P-AXIS-00177 [} 92] and P-AXIS-00178 [} 91]must be less than the value range of the absolute encoder because otherwise, the mapping of the encoder position to the mechanical axis position is not unique. Setting this value is also necessary if the absolute encoder overflow can occur within the traversing range of the axis. In order to do an automatic compensation of such an overflow, the value range of the absolute encoder, which is defined by P- AXIS-00092 [} 261] * P-AXIS-00336, must be known. If the traversing range of the axis is bigger than the unique value range of the absolute encoder, error message P-ERR-70297 is output. Parameter antr.profibus.abs_pos_revolutions Data type UNS32 Data range 0, 1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types Profidrive Remarks This parameter is only evaluated when the functionality ‘reading of absolute position’ (see P-AXIS-00315 [} 297]) is activated. Setting P-AXIS-00336 to 0 suppresses the check of the traversing range of the axis against the encoder range and also the automatic correction on an encoder overflow. If an absolute encoder overflow can occur within the traversing range of the axis P- AXIS-00336 has to be set in order to enable an automatic correction of the encoder overflow. Otherwise the axis position can be set wrong dependent on the mechanical axis position where the absolute position is read. The value to be entered in P-AXIS-00336 must be taken from the corresponding drive documentation. It can also be read out from the drive parameters. (P979, Subindex 5). 8.4.11 Velocity scaling factor (P-AXIS-00379) P-AXIS-00379 Velocity scaling factor (PROFIDRIVE) Description Thiss parameter supplies the velocity scaling factor set in the drive to the CNC. This value can be read with a drive set-up tool from the drive and has to be entered in this parameter. For SIMODRIVE 611 drives it is the parameter P880, for SINAMICS drives it is parameter P2000. Parameter antr.profibus.drive_velocity_base_value 300 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 301

Parameters for drives (antr.*) Data type UNS32 Data range 1 … MAX(UNS32) Axis types T, R, S Dimension T: ---- R,S: ---- Default value 16384 Drive types Profidrive Remarks 8.4.12 Suppress slave life sign warning (P-AXIS-00462) P-AXIS-00462 Suppress slave life‘ sign warning (PROFIRIVE) Description This parameter suppresses the warning P-ERR-70395 (Slave life sign PROFIDUS slave). Parameter antr.profibus.suppress_life_sign_warning Data type BOOLEAN Data range 0: Warning is not suppressed (default). 1: Warning is suppressed. Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types Profidrive Remarks This parameter should be used only temporarily, for example while commissioning a machine, because the warning P-ERR-70395 indicates a problem with field bus communication. 8.4.13 Encoder settings for additive encoders (antr.profibus.encoder[i].*) This structure defines data for PROVIDRIVE encoders. Structure name Index encoder[i] 0 ≤ i ≤ 1 (Maximum number of encoders: 2) 8.4.13.1 Reading the encoder's absolute position out of the drive (P-AXIS-00447) P-AXIS-00447 Reading the encoder's absolute position out of the drive for additive encoder (PROFIDRIVE) Description In the case of PROFIDRIVE drives, a position stored internally in the drive can be read as the actual position during start-up of the controller. This functionality is activated with this parameter. The absolute position is requested in the following cases: Controller start-up After reset of an encoder error Parameter antr.profibus.encoder[i].read_abs_pos_from_drive Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types Profidrive TF5200 | Twin CAT 3 CNC Version: 1.172 301 Axis parameters
## Page 302

Parameters for drives (antr.*) Remarks 8.4.13.2 Calculation mode for encoder's actual position (P-AXIS-00448) P-AXIS-00448 Calculation mode for encoder actual position for additive encoder (PROFIDRIVE) Description If parameter P-AXIS-00447 [} 301] is set to 1, this parameter (P-AXIS-00448) must specify the calculation mode for the encoder actual position. There are two modes for this. Parameter antr.profibus.encoder[i].read_abs_pos_mode Data type STRING Data range DRIVE_POS: The absolute position transferred by the encoder is adopted as the actual position after any necessary format adjustment (default). COMBINED: Bits 31 … shift_xist1 are taken from the absolute position returned by the encoder, while bits 0 … shift_xist1 - 1 are taken from GX_XIST1. See also the figure below. Axis types T, R, S Dimension T: ---- R,S: ---- Default value DRIVE_POS Drive types Profidrive Remarks The COMBINED calculation mode may only be used if the drive's motor encoder returns an actual position that is absolute within one motor revolution. If applicable, consult the manufacturer's documentation. G1_XIST1 shift_xist1 31 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 F F F F F F F F F F F Absolute position in CNC shift_xist1 31 0 0 0 0 P P P P P P P P P P P P P P P P P P F F F F F F F F F F F Absolute position from drive shift_abs_pos 31 0 0 0 0 0 0 P P P P P P P P P P P P P P P P P P 0 0 0 0 0 0 0 0 0 Fig. 35: Calculation mode for encoder actual position for additive encoder 8.4.13.3 Offset from the read absolute position of the encoder (P-AXIS-00449) P-AXIS-00449 Offset from the read absolute position of the encoder for additive encoder (PROFIDRIVE) Description Each time the absolute position of the additive encoder (encoders 2 to 4) is read (see P-AXIS-00447 [} 301]), the homing position in the controller is shifted by the offset in P-AXIS-00449 in relation to the drive position. As a result, any point on the axis can be defined as the zero point, for example. The resulting axis position in the controller is calculated as follows: Reference position (encoder) = absolute position of encoder + P-AXIS-00449 Parameter antr.profibus.encoder[i].abs_position_offset Data type SGN64 Data range MIN(SGN64) ≤ abs_position_offset ≤ MAX(SGN64) Axis types T, R 302 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 303

Parameters for drives (antr.*) Dimension T: 0.1 µm R,S: 0.0001° Default value 0 Drive types Profidrive Remarks 8.4.13.4 Offset factor for absolute value in GX_XIST2 (P-AXIS-00450) P-AXIS-00450 Offset factor for absolute value in GX_XIST2 for additive encoder (PROFIDRIVE) Description If parameter P-AXIS-00447 [} 301] is assigned the value 1, the offset factor for the absolute factor in GX_XIST2 must be entered in this parameter (P-AXIS-00450). Parameter antr.profibus.encoder[i].shift_abs_pos Data type SGN16 Data range 0 … 24 Axis types T, R, S Dimension T: ---- R,S: ---- Default value -1 Drive types Profidrive Remarks 8.4.13.5 Offset factor for GX_XIST1 (P-AXIS-00451) P-AXIS-00451 Offset factor for GX_XIST1 for additive encoder (PROFIDRIVE) Description If parameter P-AXIS-00447 [} 301] is assigned the value 1, the shift factor for GX_XIST1 must be entered in this parameter (P-AXIS-00451). Parameter antr.profibus.encoder[i].shift_xist1 Data type SGN16 Data range 0 … 24 Axis types T, R, S Dimension T: ---- R,S: ---- Default value -1 Drive types Profidrive Remarks 8.4.14 Mechanical movement distance outside the software limit switches (P-AXIS-00546) P-AXIS-00546 Mechanical axis motion path beyond the software limit switches (PROFIDRIVE) Description This parameter specifies the mechanical axis motion path beyond the software limit switches. It defines the mechanical axis motion path together with the position of the limit switches. This value is used to process an absolute encoder overflow automatically: If the overall position calculated from the absolute position of the drive and the set position offset P-AXIS-00341 [} 299] lie outside the mechanical motion range of the axis, an overflow of the absolute encoder has occurred. To compensate for this overflow, the calculated position is corrected by the value range of the absolute encoder. Parameter antr.profibus.add_movement_range Data type UNS32 Data range 0 … MAX(UNS32) TF5200 | Twin CAT 3 CNC Version: 1.172 303 Axis parameters
## Page 304

Parameters for drives (antr.*) Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types Profidrive Remarks 8.5 Drive type CANopen (antr.canopen.*) 8.5.1 Number of probing input (P-AXIS-00295) P-AXIS-00295 Number of probing input (CANopen) Description Number of the drive digital input which is used as probing input. The input used must also be defined as probing input in the drive. See also (FCT-C4]. Parameter antr.canopen.probing_input_number Data type UNS16 Data range 1, 2 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types CANopen Remarks From CNC version V2.10.1505.26 onwards, please use the parameter P-AXIS-00430 [} 274] as an alternative. It is generally valid for all drive types. [} 54]. 8.5.2 Number of digital input for latching zero pulse (P-AXIS-00364) P-AXIS-00364 Number of digital input for latching zero pulse (CANopen) Description This parameter defines which digital input is used as latch input for the zero pulse for homing. If an invalid value is entered, and error message with number P-ERR-110485 is output and the value is corrected to 1. Parameter antr.canopen.zero_pulse_input_number Data type UNS08 Data range 1, 2 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 1 Drive types CANopen Remarks 8.5.3 Operation mode for drive position control (P-AXIS-00463) P-AXIS-00463 Operation mode for drive position control (CANopen) Description Parameter is used if the transmission of the drive operation mode (CANopen object 0x6060) is configured in the cyclic process data. Enter the value to be transferred after controller and fieldbus start-up for the operation mode ‘cyclic synchronous position mode’. Parameter antr.canopen.cyclic_position_op_mode Data type SGN16 Data range MIN(SGN16) … MAX(SGN16) 304 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 305

Parameters for drives (antr.*) Axis types T, R, S Dimension T: ---- R,S: ---- Default value 8 drive types. CANopen Remarks 8.5.4 Operation mode for drive velocity control (P-AXIS-00464) P-AXIS-00464 Operation mode for drive velocity control (CANopen) Description Parameter is used if the transmission of the drive operation mode (CANopen object 0x6060) is configured in the cyclic process data. Enter the value to be transferred after controller and fieldbus start-up for the operation mode ‘cyclic synchronous position mode’. Parameter antr.canopen.cyclic_velocity_op_mode Data type SGN16 Data range MIN(SGN16) … MAX(SGN16) Axis types T, R, S Dimension T: ---- R,S: ---- Default value 9 drive types. CANopen Remarks 8.5.5 Zero pulse search for negative edge of zero pulse signal (P- AXIS-00618) P-AXIS-00618 Zero pulse search for negative edge of zero pulse signal for CANopen drives Description This parameter defines the detection of the reference position on the falling edge of the zero pulse signal for a reference point travel with zero pulse search with CANopen drives. Parameter antr.canopen.zero_pulse_latch_neg_edge Data type BOOLEAN Data range 0, 1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types CANopen Remarks 8.5.6 Select trigger source for zero pulse search (P-AXIS-00701) P-AXIS-00701 Select the trigger source for zero pulse search by the drive parameter 0x60D0 Description This parameter sets the trigger source which is to be used for homing. For homing with zero pulse search for CANopen drives, the following applies: In accordance with Ci A DS402, the trigger source to detect the probing event is specified in the bit 0x4 or 0x400 of the latch control word (controller default response). Another variant is to set the trigger source in the drive in the drive object 0x60D0 subindices 1 and 2. In order to use this variant, this parameter must be set to the value "DRIVE_DEFINED". In this case, the bit 0x8 or 0x800 must be set in the latch control word of the drive when the latch function is active. TF5200 | Twin CAT 3 CNC Version: 1.172 305 Axis parameters
## Page 306

Parameters for drives (antr.*) Parameter antr.canopen.zero_pulse_trigger_source Data type STRING Data range DEFAULT: Default value, corresponds to "CNC_DEFINED" CNC_DEFINED: The trigger source is specified by the CNC using latch control. DRIVE_DEFINED: The trigger source is set in the drive in the object 0x60D0. Axis types T, R Dimension T: ---- R: ---- Default value DEFAULT Drive types CANopen Remarks If the setting "DRIVE_DEFINED” is used, set the appropriate setting in the drive controller in the object 0x60D0. 8.5.7 Select trigger source for probing (P-AXIS-00702) P-AXIS-00702 Select the trigger source for probing by the drive parameter 0x60D0 Description This parameter sets the trigger source which is to be used for probing. For probing with measured value detection in the drive for CANopen drives, the following applies: In accordance with Ci A DS402, the trigger source to detect the probing event is specified in the bit 0x4 or 0x400 of the latch control word (controller default response). One variant sets the trigger source in the drive in the drive object 0x60D0 subindices 1 and 2. In order to use this variant, this parameter must be set to the value "DRIVE_DEFINED". In this case, the bit 0x8 or 0x800 must be set in the latch control word of the drive when the latch function is active. Parameter antr.canopen.probing_trigger_source Data type STRING Data range DEFAULT: Default value, corresponds to "CNC_DEFINED" CNC_DEFINED: The trigger source is specified by the CNC using latch control. DRIVE_DEFINED: The trigger source is set in the drive in the object 0x60D0. Axis types T, R Dimension T: ---- R: ---- Default value DEFAULT Drive types CANopen Remarks If the setting "DRIVE_DEFINED” is used, set the appropriate setting in the drive controller in the object 0x60D0. 8.5.8 Inverting the swap evaluation of the probe status word (P- AXIS-00456) P-AXIS-00456 Swap evaluation of probe status word (0x60B9) with respect to positive and negative edges Description This parameter swaps the evaluation of the status bits ‘Value latched to positive edge’ and ‘Value latched to negative edge’. This may be necessary with older drives since, in older versions of the Ci A DS402 specifications, the significance of these bits was specified imprecisely. This lead to faulty implementations by drive manufacturers. The parameter is included for reasons of backward compatibility to restore previous behaviour. Parameter antr.canopen.f_probe_status_inverse_edge Data type BOOLEAN Data range 0/1 306 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 307

Parameters for drives (antr.*) Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types CANopen Remarks 8.5.9 Input process data item (antr.canopen.in[i].*) This structure can be used to define various input process data. Structure name Index antr.canopen.in[i]. 0 ≤ i ≤ 15 (Maximum number of input process data: 16, application-specific) 8.5.9.1 Memory name (P-AXIS-00476) P-AXIS-00476 Memory name of input process data item Description With CANopen drives this parameter defines the memory section to read the process data item for the related input process data item. Parameter antr.canopen.in[].memory_ident Data type STRING Data range Maximum 29 characters long Axis types T, R, S Dimension T: ---- R,S: ---- Default value * Drive types CANopen Remarks This parameter is available as of CNC Build V3.01.3060.0. * Note: The default value of variables is a blank string. 8.5.9.2 Signal number (P-AXIS-00645) P-AXIS-00645 Signal ID in (CANopen) Description Signal number Parameter antr.canopen.in[i].signal_nr Data type UNS16 Data range Axis types Dimension Default value Drive types Remarks 8.5.9.3 Signal length (P-AXIS-00646) P-AXIS-00646 Length of process data item in (CANopen) Description Length of process data item. Parameter antr.canopen.in[i].signal_len Data type UNS08 Data range Axis types Dimension TF5200 | Twin CAT 3 CNC Version: 1.172 307 Axis parameters
## Page 308

Parameters for drives (antr.*) Default value 0 Drive types Remarks 308 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 309

Parameters for drives (antr.*) 8.5.9.4 CNC sense (P-AXIS-00475) P-AXIS-00475 Assign the input process data item to CNC-internal nomenclature Description This parameter assigns a CNC-internal meaning to the data element configured in the cyclical input process data. Parameter antr.canopen.in[i].nc_ref Data type STRING Data range See figure below Axis types T, R, S Dimension T: ---- R,S: ---- Default value * Drive types CANopen Remarks * Note: The default value of variables is a blank string. Identifier Meaning POS_ACT Actual value absolute position 6063_00 Actual value absolute position 6064_00 Actual value absolute position DRIVE_STATUS Drive status word 6041_00 Drive status word FOLLOW_ERR Position lag 60F4_00 Position lag TORQUE_ACT Actual torque 6077_00 Actual torque OP_MODE_ACT Actual operation mode 6061_00 Actual operation mode TP_STATUS Touch probe status word 60B9_00 Touch probe status word TP_POS1 Measured value 1, positive edge 60BA_00 Measured value 1, positive edge TP_NEG1 Measured value 1, negative edge 60BB_00 Measured value 1, negative edge TP_POS2 Measured value 2, positive edge 60BC_00 Measured value 2, positive edge TP_NEG2 Measured value 2, negative edge 60BD_00 Measured value 2, negative edge 60FD_00 Digital inputs VEL_ACT Actual value velocity 606C_00 Actual value velocity 6043_00 Actual velocity value 16-bit 6044_00 Actual velocity value 16-bit 60E4_01 Additive actual position value 1 60E4_02 Additive actual position value 2 ERROR_CODE Error code 603F_00 Error code 603E_01 Invalid actual velocity 603E_02 Invalid actual position value 603E_03 Additive actual position value 1 invalid 603E_04 Additive actual position value 2 invalid TF5200 | Twin CAT 3 CNC Version: 1.172 309 Axis parameters
## Page 310

Parameters for drives (antr.*) With multichannel modules, the object number shifts by 0x800 per channel. The object number of a module is included in the name of most identifiers. With identifier 6063_00, the object number is 6063, which should be interpreted hexadecimally. The object number for the actual position value of the standard channel 0 is 6063. The following then results for identifier 6063_00. For channel 1: Object number 6863 and identifier 6863_00 For channel 2: Object number 7063 and identifier 7063_00 8.5.10 Output process data item (antr.canopen.out[i].*) This structure can be used to define various output process data. Structure name Index antr.canopen.out[i] 0 ≤ i ≤ 15 (Maximum number of output process data: 16, application-specific) . 8.5.10.1 Memory name (P-AXIS-00479) P-AXIS-00479 Memory name of output process data item Description With CANopen drives this parameter defines the memory section to read the process data item for the related output process data item. Parameter antr.canopen.out[i].memory_ident Data type STRING Data range Maximum 29 characters long Axis types T, R, S Dimension T: ---- R,S: ---- Default value * Drive types CANopen Remarks This parameter is supported as of CNC Build V3.01.3060.00. * Note: The default value of variables is a blank string. 8.5.10.2 Signal number (P-AXIS-00648) P-AXIS-00648 Signal ID out (CANopen) Description Signal number Parameter antr.canopen.out[i].signal_nr Data type UNS16 Data range Axis types Dimension Default value Drive types Remarks 310 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 311

Parameters for drives (antr.*) 8.5.10.3 Signal length (P-AXIS-00649) P-AXIS-00649 Length of process data item out (CANopen) Description Length of process data item. Parameter antr.canopen.out[i].signal_len Data type UNS08 Data range Axis types Dimension Default value 0 Drive types Remarks 8.5.10.4 CNC meaning (P-AXIS-00478) P-AXIS-00478 Assign the output process data item to CNC-internal nomenclature Description This parameter assigns a CNC-internal meaning to the data element configured in the cyclical output process data. Parameter antr.canopen.out[i].nc_ref Data type STRING Data range See figure below Axis types T, R, S Dimension T: ---- R,S: ---- Default value * Drive types CANopen Remarks * Note: The default value of variables is a blank string. TF5200 | Twin CAT 3 CNC Version: 1.172 311 Axis parameters
## Page 312

Parameters for drives (antr.*) Identifier Meaning POS_NOM Absolute position command value 607A_00 Absolute position command value 60C1_01 Absolute position command value DRIVE_CTRL Drive control word 6040_00 Drive control word VELO_NOM Velocity command value 60FF_00 Velocity command value 6042_00 Velocity command value 16-bit 60F6_01 Additive speed command value TORQUE_MAX Maximum torque value 6072_00 Maximum torque value OP_MODE Command operation mode 6060_00 Command operation mode TP_CONTROL Touch probe control word 60B8_00 Touch probe control word 60B1_00 Additive speed command value 60B2_00 Additive torque command value With multichannel modules, the object number shifts by 0x800 per channel. The object number of a module is included in the name of most identifiers. With identifier 607A_00, the object number is 607A, which should be interpreted hexadecimally. The object number for the actual position value of the standard channel 0 is 607A. The following then results for identifier 607A_00. For channel 1: Object number 687A and identifier 6863_00 For channel 2: Object number 707A and identifier 637A_00 8.5.11 CANopen measurement run with evaluation of probe status (P-AXIS-00834) P-AXIS-00834 CANopen measurement run with evaluation of probe status Description Normally, during a CANopen measurement run (G100 or G108), no check is performed at the start of the measurement run to determine whether the touch probe was already activated or not since this information is not available to the controller. A check can be activated with this parameter if the drive provides the touch probe signal in object 0x60B9 “Touch probe status”. n addition, the relevant bit for the touch probe signal must be specified in P-AXIS-00815 [} 338] in the “Touch probe status” object (bit 6 or 7). Parameter antr.canopen.probe_state_support Data type BOOLEAN Data range 0 : The touch probe signal is not evaluated at the start of the measurement run. 1: The touch probe signal in the “Touch probe status” (object 0x60B9) is evaluated. Axis types T,R,S Dimension T: ---- R,S: ---- Default value 0 Drive types CANopen Remarks Available as of CNC Build V3.1.3081.12 or V3.1.3120.0.. 312 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 313

Parameters for drives (antr.*) 8.6 Drive type KUKA (antr.dse.*) 8.6.1 Brake control Order: Power Enable (Set controller enabling and open brake) Set controller enabling in drive Controller enabling Controlling in drive is active Controlling state Brake Brake deceleration time opening time (brake_open_delay_time) (brake_open_time) Open brake Brake control Brake is open Brake state Drive ready for command position input Command position input Time Fig. 36: Timing opening the brake TF5200 | Twin CAT 3 CNC Version: 1.172 313 Axis parameters
## Page 314

Parameters for drives (antr.*) Fig. 37: Timing when closing the brake 8.6.1.1 Time delay for brake opening (P-AXIS-00373) P-AXIS-00373 Time delay for brake opening Description This parameter defines the time delay after which the brake opens during control activation (e.g. via PLC by MC_Power 'Enable'). Parameter antr.dse.brake_open_delay_time Data type SGN32 Data range 0 … MAX(SGN32) Axis types T, R, S Dimension T: µs R,S: µs Default value 0 Drive types KUKA Remarks 8.6.1.2 Brake opening time (P-AXIS-00374) P-AXIS-00374 Brake opening time Description This parameter defines the time which is required for the mechanical opening of the brake. After this time the drive is ready for the command position input. Parameter antr.dse.brake_open_time Data type SGN32 Data range 0 … MAX(SGN32) Axis types T, R, S 314 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 315

Parameters for drives (antr.*) Dimension T: µs R,S: µs Default value 0 Drive types KUKA Remarks 8.6.1.3 Brake premature time (P-AXIS-00375) P-AXIS-00375 Brake premature time Description This parameter defines the time which is required for the mechanical closing of the brake during control deactivation (e.g. via PLC by MC_Power 'Disable'). After this time expires, controller enabling is deselected. Parameter antr.dse.brake_close_premature_time Data type SGN32 Data range 0 … MAX(SGN32) Axis types T, R, S Dimension T: µs R,S: µs Default value 0 Drive types KUKA Remarks Make sure that the brake premature time is not too short for a vertical axis, otherwise there is a danger that the axis drops. TF5200 | Twin CAT 3 CNC Version: 1.172 315 Axis parameters
## Page 316

Parameters for drives (antr.*) 8.7 Drive type Terminal (antr.terminal.*) 8.7.1 Torque reduction at standstill (P-AXIS-00481) P-AXIS-00481 Torque reduction at standstill Description If this parameter is set and a stepper motor is used, the motor torque is reduced on standstill of the axis by setting a bit in the control word of the stepper motor terminal. The condition for the reduction of the drive current is: The axis is not interpolated. The command velocity output to the terminal is zero Parameter antr.terminal.stepper_motor_reduce_torque Data type BOOLEAN Data range 0, 1 (Default : 0) Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types Terminal Remarks This parameter is only effective in combination with stepper motor terminals of type KL2531, KL2541, EL7031 or 7041 316 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 317

Parameters for drives (antr.*) 8.8 Parameters for drive functions (antr.function[i].*) If the functionality drive-independent switching of drive functions is used ([FCT-A10]), the following parameters specify how the drive function in the NC program requested by the #DRIVE command ([PROG]) is addressed. Structure name Permitted range function[i] 0 ≤ i ≤ 9 (Number of drive functions: 10, application-specific) 8.8.1 Name of drive functions in NC program (P-AXIS-00396) P-AXIS-00396 Name of drive functions in NC program Description This parameter defines the name by which the drive function is activated by the keyword KEY in the #DRIVE command in the NC program ([PROG]). Parameter antr.function[i].id Data type STRING Data range Maximum of 29 characters Axis types T, R, S Dimension T: ---- R,S: ---- Default value * Drive types SERCOS, Profidrive, CANopen Remarks Example: The ID 'TORQLIMIT' is defined for a drive function. antr.function[0].id TORQLIMIT In the NC program this drive function can then be addressed by the command… #DRIVE WR SYN [AX=... KEY=TORQLIMIT VAL=… ] ... * Note: The default value of variables is a blank string. 8.8.2 Type of communication with drive controller (P-AXIS-00397) P-AXIS-00397 Type of communication with drive controller Description This parameter defines the type of communication by which the function in the drive is addressed. Parameter antr.function[i].commu Data type STRING Data range CYCLIC: The drive function is switched by a telegram element that is configured in the cyclic drive telegram. The name of the telegram element is defined in P- AXIS-00398 [} 318] . ACYCLIC: The drive function is addressed by writing a drive parameter through the parameter channel. The name of the telegram element is defined in P-AXIS-00398 [} 318] . IGNORE: No value is transmitted to the drive. Axis types T, R, S Dimension T: ---- R,S: ---- Default value CYCLIC Drive types SERCOS, Profidrive, CANopen Remarks TF5200 | Twin CAT 3 CNC Version: 1.172 317 Axis parameters
## Page 318

Parameters for drives (antr.*) 8.8.3 Name of the parameter or telegram element (P-AXIS00398) P-AXIS-00398 Name of the parameter or telegram element Description This parameter defines which drive parameter or which telegram element of the cyclic telegram is to be used for to activate the drive function. Parameter antr.function[i].wr_ident[j] Data type STRING Data range Maximum of 29 characters Axis types T, R, S Dimension T: ---- R,S: ---- Default value * Drive types SERCOS, Profidrive, CANopen Remarks Dependent on the drive function to be activated, maximum 2 IDs (j=0/1) can be set. Parameterisation example: For a SERCOS drive the torque limit is defined by writing the parameter S-0-92: antr.function[0].wr_ident[0] S-0-92 * Note: The default value of variables is a blank string. 8.8.4 Data type of the data to be transmitted (P-AXIS-00399) P-AXIS-00399 Data type of the data to be transmitted Description This parameter defines the data type of the drive parameter or of the telegram element of the cyclic telegram which is used for the activation of the drive function. Parameter antr.function[i].data_type Data type STRING Data range SGN16: Signed 16 bit integer. SGN32: Signed 32 bit integer. BITARRAY_16: Bit array 16 bit. BITARRAY_32: Bit array 32 bit. Axis types T, R, S Dimension T: ---- R,S: ---- Default value SGN16 Drive types SERCOS, Profidrive, CANopen Remarks 8.8.5 Value of data element after start-up of control (P-AXIS-00400) P-AXIS-00400 Value of data element after start-up of control Description This parameter defines the value of the cyclic telegram element after controller start- up. Parameter antr.function[i].startup_value Data type REAL64 Data range If P-AXIS-00399 [} 318] =' SGN16': MIN(SGN16) ≤ startup_value ≤ MAX(SGN16) If P-AXIS-00399 [} 318] =' SGN32': MIN(SGN32) ≤ startup_value ≤ MAX(SGN32) Axis types T, R, S Dimension T: ---- R,S: ---- 318 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 319

Parameters for drives (antr.*) Default value 0 Drive types SERCOS, Profidrive, CANopen Remarks This parameter is used only if P-AXIS-00397 [} 317] has the vaue 'CYCLIC'. 8.8.6 Scaling of the data to be transmitted (P-AXIS-00401) P-AXIS-00401 Scaling of the data to be transmitted Description This parameter defines the scaling of the value that has to be transmitted to the drive. Parameter antr.function[i].scaling_type Data type STRING Data range UNSCALED: Unscaled output of the value programmed in the NC program = 1 (default). TORQUE_DRIVE_SID The programmed value is a torque value related to the E: motor shaft and is scaled to the drive torque format by the parameters P-AXIS-00325 [} 151], P-AXIS-00326 [} 151] and P-AXIS-00392 [} 270] . The scaling factor does not change during gear change. Scaling factor f is: Axis types T, R, S Dimension T: ---- R,S: ---- Default value UNSCALED Drive types SERCOS, Profidrive, CANopen Remarks 8.8.7 Minimum permissible output value (P-AXIS-00408) P-AXIS-00408 Minimum permissible output value Description This parameter defines the minimum permissible output value. If the programmed value of the #DRIVE command goes below the minimum value, the drive output value is set automatically to the minimum value. No error message is then output. If parameter P-AXIS-00399 [} 318] is smaller than the smallest possible output value of the data type, the error message P-ERR-70384 is output and the parameter value is corrected. if P-AXIS-00409 [} 320] is configured, P-AXIS-00409 [} 320] must be greater than P- AXIS-00408. If this is not the case, the warning P-ERR-70385 is output and the values are swapped. If this parameter is not configured, no limitation is active. Parameter antr.function[i].min_limit Data type REAL64 Data range Depending on P-AXIS-00399 [} 318] and P-AXIS-00401 [} 319] Axis types T, R, S Dimension T: ---- R,S: ---- Default value 1.000000e+199 Drive types SERCOS, Profidrive, CANopen Remarks TF5200 | Twin CAT 3 CNC Version: 1.172 319 Axis parameters
## Page 320

Parameters for drives (antr.*) 8.8.8 Maximum permissible output value (P-AXIS-00409) P-AXIS-00409 Maximum permissible output value Description This parameter defines the maximum permissible output value. If the programmed value of the #DRIVE command exceeds the maximum value, the drive output value is set automatically to the maximum value. No error message is then output. If the parameter is greater than the maximum value of the set data type defined by P-AXIS-00399 [} 318] , the error message P-ERR-70383 is output and the parameter value is corrected. if P-AXIS-00408 [} 319] is configured, P-AXIS-00408 [} 319] must be less than this parameter. If this is not the case, the warning P-ERR-70385 is output and the- minimum and maximum values are swapped. If this parameter is not configured, no limitation is active. Parameter antr.function[i].max_limit Data type REAL64 Data range Depending on P-AXIS-00399 [} 318] and P-AXIS-00401 [} 319] Axis types T, R, S Dimension T: ---- R,S: ---- Default value 1.000000e+199 Drive types SERCOS, Profidrive, CANopen Remarks 8.8.9 Writing of drive values by bit mask (P-AXIS-00429) P-AXIS-00429 Writing of drive values by bit mask Description This parameter specifies the bit mask that must be used if bitwise writing is defined. If the value programmed in the #DRIVE command is greater than zero, the bits defined in the bit mask are set and for a programmed value of zero the bits are reset. This value is only used if the data type configured In P-AXIS-00399 [} 318] has the value 'BITARRAY_16’ or 'BITARRAY_32’. The value of this parameter must be smaller than or equal to the maximum values defined by the setting in P-AXIS-00399 [} 318] , otherwise the error message P- ERR-70403 is output. Parameter antr.function[i].mask Data type STRING Data range Depending on P-AXIS-00399 [} 318]: BITARRAY_16: Bit mask 16 Bit - 0 ... MAX(UNS16) BITARRAY_32: Bit mask 32 Bit - 0 ... MAX(UNS32) Axis types T, R, S Dimension T: ---- R,S: ---- Default value NOT_USED Drive types SERCOS, Profidrive, CANopen Remarks 320 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 321

Parameters for drives (antr.*) 8.9 Parameterise motion to fixed stop (antr.fixed_stop.*) 8.9.1 Use default value (P-AXIS-00730) P-AXIS-00730 Use of default value Description Normally, when moving to fixed stop is activated, the value of the drive object is read out before the object is changed by activating the function. After the function ends, the original settings are restored. If this parameter is set to 1, the start value P-AXIS-00723 [} 325] is transferred to the drive instead of at the end of motion to fixed stop. The read process on activation can then be omitted. Parameter antr.fixed_stop.drive_ident[i].use_startup_value Data type BOOLEAN Data range 0 / 1 Axis types T, R Dimension T: - R: - Default value 0 Drive types SERCOS, CANopen Remarks If the object is communicated in the cyclic process data (P-AXIS-00720 [} 324] = 'CYCLIC'), it is advisable to set this parameter to the value 1 since the start value in P- AXIS-00723 [} 325] is already transferred cyclically to the drive. 8.9.2 Position lag limit for detection (P-AXIS-00712) P-AXIS-00712 Position lag limit to detect the fixed stop Description This parameter defines this limit for the position lag for the “Move to fixed stop” function after which an overshoot of the fixed stop is detected. Finally, the CNC stops the axis and discards the distance to go of the NC block. Parameter antr.fixed_stop.pos_lag_limit Data type UNS32 Data range 0 ≤ pos_lag_limit ≤ MAX(UNS32) Axis types T, R Dimension T: 0.1µm R: 0.0001 ° Default value 20000 drive types. SERCOS, CANopen Remarks The measurement (G100, measurement type 7) with motion to a stop is also subject to the limit in the parameter P-AXIS-00331 [} 113] 8.9.3 Monitoring window (P-AXIS-00713) P-AXIS-00713 Monitoring window for the fixed stop. Description This parameter defines a tolerance window for the fixed stop. If the actual position of the axis leaves the tolerance window after the fixed stop is detected, the CNC issues the error message P-ERR-70548. If this parameter is changed after the fixed stop is detected, the CNC assumes the current fixed stop position as the centre of the new tolerance window. Parameter antr.fixed_stop.window Data type UNS32 Data range 0 ≤ pos_lag_limit ≤ MAX(UNS32) Axis types T, R TF5200 | Twin CAT 3 CNC Version: 1.172 321 Axis parameters
## Page 322

Parameters for drives (antr.*) Dimension T: 0.1µm R: 0.0001 ° Default value 0 drive types. SERCOS, CANopen Remarks The monitor is disabled with the value 0. 8.9.4 Number of position control cycles (P-AXIS-00714) P-AXIS-00714 Number of position controller cycles to detect the fixed stop Description This parameter defines the number of position controller cycles which the position lag of the axis must overshoot the specified position lag limit P-AXIS-00712 [} 321] before the fixed stop is detected. Counting start from the beginning if the limit is again undershot during this time. Parameter antr.fixed_stop.nbr_cycles Data type UNS16 Data range 0 < nbr_cycles < MAX(UNS32) Axis types T, R Dimension T: Number of interpolation cycles R: Number of interpolation cycles Default value 10 drive types. SECOS, CANopen Remarks The measurement (G100, measurement type 7) with motion to a stop is also subject to the limit in the parameter P-AXIS-00332 [} 113] 8.9.5 Error output on abort (P-AXIS-00715) P-AXIS-00715 Error output on abort by reset Description This parameter defines whether the error message P-ERR-70549 is output if a CNC reset occurs while moving to the fixed stop. Parameter antr.fixed_stop.error_on_abort Data type BOOLEAN Data range 0 / 1 Axis types T, R Dimension T: - R: - Default value 1 drive types. SERCOS, CANopen Remarks 8.9.6 Error message if fixed stop is not detected (P-AXIS-00716) P-AXIS-00716 Error message if fixed stop is not detected Description This parameter defines whether the error message P-ERR-50886 is output while moving to the fixed stop if the fixed stop was not detected in the approach block. Parameter antr.fixed_stop.error_not_detected Data type BOOLEAN Data range 0 / 1 Axis types T, R Dimension T: - R: - Default value 1 drive types. SERCOS, CANopen Remarks 322 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 323

Parameters for drives (antr.*) 8.9.7 Warning message on reset and detected fixed stop (P- AXIS-00717) P-AXIS-00717 Warning message on reset and detected fixed stop Description This parameter defines whether the warning message P-ERR-70550 is output at a CNC reset if the axis is stationary at the fixed stop. Parameter antr.fixed_stop.warning_reset_while_detected Data type BOOLEAN Data range 0 / 1 Axis types T, R Dimension T: - R: - Default value 1 drive types. SERCOS, CANopen Remarks 8.9.8 Motor torque at maximum axis acceleration (P-AXIS-00718) P-AXIS-00718 Motor torque at maximum axis acceleration Description This parameter defines the motor torque which the drive requires to accelerate at maximum axis acceleration P-AXIS-00008 [} 184]. This parameter uses the controller to compensate axis acceleration to the reduced drive torque when moving to fixed stop. Parameter antr.fixed_stop.max_torque Data type REAL64 Data range 0 / 1 Axis types T, R Dimension T: Scaling dependent on R: Scaling dependent on P-AXIS-00724 [} 325] P-AXIS-00724 [} 325] Default value P-AXIS-00726 [} 327] maximum torque limit if P-AXIS-00726 [} 327] is specified; otherwise 0.0 (acceleration reduction disabled) Drive types SERCOS, CANopen Remarks The value 0.0 disables acceleration reduction when moving to the fixed stop. Up to four drive objects can be configured for motion to the fixed stop and can be changed if the function is activated or deactivated in the drive: Structure name Permitted range drive_ident[i] 0 ≤ i ≤ 3 (Number of drive functions: 4, application- specific) 8.9.9 CNC-internal identifier for the drive object (P-AXIS-00719) P-AXIS-00719 CNC-internal identifier for the drive object Description This parameter specifies a name for the drive object. The keyword TORQUE_LIMIT is reserved for the torque limit. When moving to the fixed stop, the controller checks whether a drive object is configured with the name TORQUE_LIMIT. Otherwise, the controller issues the error message P-ERR-70541. Parameter antr.fixed_stop.drive_ident[i].id Data type STRING Data range Maximum of 29 characters Axis types T, R Dimension T: ---- R: ---- TF5200 | Twin CAT 3 CNC Version: 1.172 323 Axis parameters
## Page 324

Parameters for drives (antr.*) Default value * Drive types SERCOS, CANopen Remarks Example: Defining the torque limit for a SERCOS drive: antr.fixed_stop.drive_ident[0].id TORQUE_LIMI T antr.fixed_stop.drive_ident[0].wr_ident S_0_0092 * Note: The default value of variables is a blank string. 8.9.10 Type of communication with drive controller (P-AXIS-00720) P-AXIS-00720 Type of communication with drive controller Description This parameter defines the type of communication by which the function in the drive is addressed. The value can be transferred both in the cyclic process data and in the service channel with SERCOS or SDO communication with CANopen. Parameter antr.fixed_stop.drive_ident[i].commu Data type STRING Data range CYCLIC: The drive object is switched by a telegram element that is configured in the cyclic drive telegram. The name of the telegram element must then be parameterised in the P-AXIS-00721 [} 324] parameter. The telegram element must be configured in the cyclic process data. ACYCLIC: The drive function is activated by writing a drive parameter via the parameter channel. The name of the telegram element must then be parameterised in the P- AXIS-00721 [} 324] parameter. IGNORE: No value is exchanged with the drive. Axis types T, R Dimension T: ---- R: ---- Default value ACYCLIC drive types. SERCOS, CANopen Remarks 8.9.11 Name of the drive object in the driver amplifier (P-AXIS-00721) P-AXIS-00721 Name of the drive object in the driver amplifier Description This parameter defines which drive parameter or which telegram element is to be changed with Moving to fixed stop. Parameter antr.fixed_stop.drive_ident[i].wr_ident Data type STRING Data range Maximum of 29 characters Axis types T, R Dimension T: ---- R: ---- Default value * Drive types SERCOS, CANopen Remarks Example: Defining the torque limit for a SERCOS drive: antr.fixed_stop.drive_ident[0].id TORQUE_LIMIT antr.fixed_stop.drive_ident[0]wr_ident S_0_0092 * Note: The default value of variables is a blank string. 324 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 325

Parameters for drives (antr.*) 8.9.12 Data type of the data to be transmitted (P-AXIS-00722) P-AXIS-00722 Data type of the data to be transmitted Description This parameter defines the data type of the drive parameter or telegram element. Parameter antr.fixed_stop.drive_ident[i].data_type Data type STRING Data range SGN16: Signed 16 bit integer SGN32: Signed 32 bit integer UNS16: Unsigned 16-bit integer UNS32: Unsigned 32-bit integer BITARRAY_16: Bit array 16 bit BITARRAY_32: Bit array 32 bit Axis types T, R Dimension T: ---- R: ---- Default value SGN16 Drive types SERCOS, CANopen Remarks 8.9.13 Default value of data element after controller start-up (P- AXIS-00723) P-AXIS-00723 Default value of data element after controller start-up Description When cyclic communication is used (see P-AXIS-00720 [} 324]), this parameter defines the value of the telegram element after controller start-up. This parameter is also used if reading the current value at the start of motion to fixed stop is not required (see P-AXIS-00730 [} 321]). At the end of the move to fixed stop function, the controller writes this value back to the drive. Parameter antr.fixed_stop.drive_ident[i].startup_value Data type REAL64 Data range Dependent on the data type P-AXIS-00722 [} 325] of the drive object SGN16: MIN(SGN16) ≤ startup_value ≤ MAX(SGN16) SGN32: MIN(SGN32) ≤ startup_value ≤ MAX(SGN32) UNS16: MIN(UNS16) ≤ startup_value ≤ MAX(UNS16) SGN32: MIN(SGN32) ≤ startup_value ≤ MAX(SGN32) Axis types T, R Dimension T: ---- R: ---- Default value 0 drive types. SERCOS, CANopen Remarks This parameter must be assigned if the data item is transferred cyclically, i.e. the parameter P-AXIS-00720 [} 324] has the value CYCLIC or reading the active parameter value is suppressed, i.e. P-AXIS-00730 [} 321] has the value 1. 8.9.14 Scaling type of the data element (P-AXIS-00724) P-AXIS-00724 Scaling type of the data element Description This parameter scales the transferred value before it is transferred to the drive or after the value was read by the drive. This parameter sets the unit of the data item in the NC program independently of the drive. TF5200 | Twin CAT 3 CNC Version: 1.172 325 Axis parameters
## Page 326

Parameters for drives (antr.*) The scaling type influences the values of the following parameters: • Torque at maximum acceleration P-AXIS-00718 [} 323] • Default value = P-AXIS-00723 [} 325] • Maximum permissible value P-AXIS-00725 [} 326] • Minimum permissible value P-AXIS-00726 [} 327] • Drive value while moving to fixed stop P-AXIS-00729 [} 328] Parameter antr.fixed_stop.drive_ident[i].scaling_type Data type STRING Data range UNSCALED. The value is not scaled, i.e. the value in the NC program directly corresponds to the value in the drive LINEAR. The value is weighted by a linear scaling factor (see P- AXIS-00728 [} 328]) TORQUE_DRIVE_SIDE. The programmed value is a torque value related to the motor shaft and is scaled to the drive torque format with the parameters P-AXIS-00325 [} 151], P-AXIS-00326 [} 151] and P-AXIS-00392 [} 270]. The scaling factor does not change during gear change. The conversion factor is: Axis types T, R Dimension T: ---- R: ---- Default value UNSCALED drive types. SERCOS, CANopen Remarks Example: The torque limit in the SERCOS drive is specified in per mil of the maximum motor torque. However, the torque should be specified in percent in the NC program: antr.fixed_stop.drive_ident[0].id TORQUE_LIMIT antr.fixed_stop.drive_ident[0].wr_ident S_0_0092 antr.fixed_stop.drive_ident[0].scaling_type LINEAR antr.fixed_stop.drive_ident[0].scaling_factor 10 8.9.15 Maximum permissible output value (P-AXIS-00725) P-AXIS-00725 Maximum permissible output value Description This parameter defines the maximum permissible output value. If the value specified in the configuration lists or in the NC program overshoots the set limit, it is automatically limited to the maximum value. No error message is then output. If P-AXIS-00725 is configured, P-AXIS-00726 [} 327] must be less than this parameter, otherwise the warning P-ERR-70385 is output and the values are swapped. No value limit takes place by default. Irrespective of this parameter setting, a value range check always takes place with the specified data type P-AXIS-00722 [} 325]. If an overflow is detected, the controller outputs the error message P-ERR-70384. Parameter antr.fixed_stop.drive_ident[i].max_limit Data type REAL64 Data range Dependent on P-AXIS-00722 [} 325] and P-AXIS-00724 [} 325] Axis types T, R 326 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 327

Parameters for drives (antr.*) Dimension T: ---- R: ---- Default value 1.000000e+199 Drive types SERCOS, CANopen Remarks By default no limit is active; the limit is disabled at a value of 1.000000e+199. 8.9.16 Minimum permissible output value (P-AXIS-00726) P-AXIS-00726 Minimum permissible output value Description This parameter defines the minimum permissible output value. If the value specified in the configuration lists or in the NC program undershoots the set limit, it is automatically limited to the minimum value. No error message is then output. If P-AXIS-00726 is configured, the parameter value must be greater than P-AXIS-00725 [} 326], otherwise the warning P-ERR-70385 is output and the values are swapped. No value limit takes place by default. Irrespective of this parameter setting, a value range check always takes place with the specified data type P-AXIS-00722 [} 325]. If an overflow is detected, the controller outputs the error message P-ERR-70384. Parameter antr.fixed_stop.drive_ident[i].min_limit Data type REAL64 Data range Dependent on P-AXIS-00722 [} 325] and P-AXIS-00724 [} 325] Axis types T, R Dimension T: ---- R: ---- Default value 1.000000e+199 Drive types SERCOS, CANopen Remarks By default no limit is active; the limit is disabled at a value of 1.000000e+199. 8.9.17 Write/read drive values by bit mask (P-AXIS-00727) P-AXIS-00727 Writing/reading drive values by bit mask Description This parameter defines the bit mask to be used to read and write drive values bitwise. If the writing value (default value P-AXIS-00726 [} 327] or the value when motion to the fixed stop is active P-AXIS-00729 [} 328]) is greater than zero, the bit mask is set; when the value is zero, the bits in the bit mask are deleted from the value transferred to the drive. When read, the value of a bit is returned if all the bits in the bit mask are set in the read drive object. Otherwise the return value is 0. This parameter is only used if the data type configured in P-AXIS-00722 [} 325] has either the value 'BITARRAY_16' or 'BITARRAY_32'. The value of the bit mask must fit in the data type of the drive object P-AXIS-00722 [} 325], otherwise the controller issues the error message P-ERR-70403. Parameter antr.fixed_stop.drive_ident[i].mask Data type STRING Data range Dependent on P-AXIS-00722 [} 325]: BITARRAY_16: Bit mask 16 Bit - 0 ... MAX(UNS16) BITARRAY_32: Bit mask 32 Bit - 0 ... MAX(UNS32) Axis types T, R Dimension T: ---- R: ---- Default value NOT_USED Drive types SERCOS, CANopen TF5200 | Twin CAT 3 CNC Version: 1.172 327 Axis parameters
## Page 328

Parameters for drives (antr.*) Remarks 8.9.18 Scaling factor (P-AXIS-00728) P-AXIS-00728 Scaling factor Description This parameter executes a scaling for reading and writing the drive object. This parameter only acts if the scaling type P-AXIS-00724 [} 325] is set to 'LINEAR'. Parameter antr.fixed_stop.drive_ident[i].scaling_factor Data type REAL64 Data range Unequal to 0 Axis types T, R Dimension T: - R: - Default value 1.0 drive types. SERCOS, CANopen Remarks Example: The torque limit in the SERCOS drive is specified in per mil of the maximum motor torque. However, the torque should be specified in percent in the NC program: antr.fixed_stop.drive_ident[0].id TORQUE_LIMIT antr.fixed_stop.drive_ident[0].wr_ident S_0_0092 antr.fixed_stop.drive_ident[0].scaling_type LINEAR antr.fixed_stop.drive_ident[0].scaling_factor 10 8.9.19 Value of data element during Move to fixed stop (P- AXIS-00729) P-AXIS-00729 Value of data element during Move to fixed stop Description This parameter specifies the value which the drive object must assume while moving to fixed stop. The specified value may also be scaled before output to the drive (see P- AXIS-00728 [} 328]). Parameter antr.fixed_stop.drive_ident[i].active_value Data type REAL64 Data range Unequal to 0 Axis types T, R Dimension T: - , dependent on P-AXIS-00728 [} 328] R: - , dependent on P-AXIS-00728 [} 328] Default value 0.0 drive types. SERCOS, CANopen Remarks Example: When moving to fixed stop, the torque should be limited to 10% of maximum torque: antr.fixed_stop.drive_ident[0].id TORQUE_LIMIT antr.fixed_stop.drive_ident[0].wr_ident S_0_0092 antr.fixed_stop.drive_ident[0].scaling_type LINEAR antr.fixed_stop.drive_ident[0].scaling_factor 10 antr.fixed_stop.drive_ident[0].active_value 10 8.9.20 Name of the drive object to be read in the driver amplifier (P- AXIS-00731) P-AXIS-00731 Name of the drive object to be read in the driver amplifier 328 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 329

Parameters for drives (antr.*) Description If the name of the drive object is different for read and write access, the name of the drive object to be read can also be specified here. If no value is specified here, the controller uses the name of the object in P-AXIS-00721 [} 324] for read and write. Parameter antr.fixed_stop.drive_ident[i].rd_ident Data type STRING Data range Maximum of 29 characters Axis types T, R Dimension T: - R: - Default value * Drive types SERCOS, CANopen Remarks * Note: The default value of variables is a blank string. 8.9.21 Use default parameterisation of drive objects (P-AXIS-00821) P-AXIS-00821 Use default parameterisation of drive objects Description By default, drive objects for moving to a fixed stop are preconfigured for each drive type at controller start-up and this overwrites any assignment made in the default axis parameter list. All parameters required to change drive objects are affected by pre-initialisation, i.e. those assigned in in the structure antr.fixed_stop.drive_ident[i].*. However, it a parameterisation is used from the default list, this parameter can be set to the value 0. In this case, no default initialisation of the drive object takes place. Parameter antr.fixed_stop.drive_ident[i].default_ident Data type SGN08 Data range 0/1 Axis types T, R Dimension T: - R: - Default value -1 Drive types Simulation, SERCOS, CANopen, Terminal Remarks This parameter replaces the previous parameter P-AXIS-00746 [} 407]. 8.9.22 Quick stop after detecting the fixed stop (P-AXIS-00762) P-AXIS-00762 Quick stop after detecting the fixed stop. Description This parameter is used to force an immediate stop when the fixed stop is detected. Normally, after the fixed stop is detected, the axes are stopped at the feedhold acceleration P-AXIS-00024 [} 176] set for this axis. For time reasons, an immediate stop can be forced by the axis parameter "quick_stop_after_detection". The condition for this is that all axes involved in the approach movement detected a stop as, in this case, all moving axes are already at a standstill due to the stop. If other axes are also involved in the approach movement, the CNC therefore stops the axes at their normal deceleration rates P-AXIS-00024 [} 176] despite the fact that the "quick_stop_after_detection" parameter is set. Parameter antr.fixed_stop.quick_stop_after_detection Data type BOOLEAN Data range 0 / 1 Axis types T, R Dimension T: ---- R: ---- Default value 0 TF5200 | Twin CAT 3 CNC Version: 1.172 329 Axis parameters
## Page 330

Parameters for drives (antr.*) Drive types SERCOS, CANopen Remarks 8.9.23 Error reaction for missing drive releases (P-AXIS-00763) P-AXIS-00763 Error reaction for missing drive releases. Description If the drive releases are reset after the fixed stop is detected, the CNC generates the error message P-ERR-70546 and aborts the function "Move to fixed stop". This behaviour can be changed by the parameter "error_missing_drive_releases". In any case, missing releases result in the abortion of the function "Move to fixed stop". Parameter antr.fixed_stop.error_missing_drive_releases Data type STRING Data range ERROR: Output of error message P-ERR-70546 and the Move to fixed stop function is aborted WARNING: Output of warning P-ERR-70546 and the Move to fixed stop function is aborted NONE: Abort the Move to fixed stop function Axis types T, R Dimension T: ---- R: ---- Default value ERROR Drive types SERCOS, CANopen Remarks Check the motion range of the axis before you set each release again. The stop obstacle must be removed. 8.9.24 Position lag limit for fixed stop detection (P-AXIS-00769) P-AXIS-00769 Position lag limit for fixed stop detection Description This parameter defines the position lag that must be exceeded to detect a fixed stop. When set to the value 0, the system deactivates the check for position lag to detect a fixed stop. If this parameter has a value < 0 (default), fixed stop detection uses the value in P- AXIS-00331 [} 113] . Parameter antr.fixed_stop.detect.pos_lag_limit Data type SGN32 Data range MIN(SGN32) < P-AXIS-00769 < MAX(SGN32) Axis types <T, R> Dimension T: 0.1 µm R: .1* 10- 4 ° Default value -1 Drive types ---- Remarks If the function ‘Measuring travel to fixed stop’ is used and the value of parameter P- AXIS-00774 [} 113] is less than 0, this parameter is used as the limit value for fixed stop detection. Currently this parameter only acts with measuring travel to fixed stop if P- AXIS-00774 [} 113] is not parameterised. Parameter available as of CNC Build V2.11.2810.01 and higher 8.9.25 Minimum time for fixed stop detection (P-AXIS-00770) P-AXIS-00770 Minimum time for fixed stop detection 330 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 331

Parameters for drives (antr.*) Description This parameter defines the length of time that the check conditions for detection of the fixed stop must be fulfilled when measuring travel to fixed stop so that the fixed stop is considered to be detected. If this parameter has the value 0 (default), the value P-AXIS-00332 [} 113] is used as the time limit for fixed stop detection. Parameter antr.fixed_stop.detect.min_time Data type UNS32 Data range 0 < P-AXIS-00770 < MAX(UNS32) Axis types <T, R> Dimension T: µs R: µs Default value 0 Drive types ---- Remarks If the function ‘Measuring travel to fixed stop’ is used and the value of parameter P- AXIS-00775 [} 114] is less than 0, the parameter is used as the limit value for fixed stop detection. Currently this parameter only acts with measuring travel to fixed stop if P- AXIS-00775 [} 114] is not parameterised. Parameter available as of CNC Build V2.11.2810.01 and higher 8.9.26 Minimum path to activate fixed stop detection (P-AXIS-00771) P-AXIS-00771 Minimum path to activate fixed stop detection Description This parameter defines how far to travel in the motion block before fixed stop detection is activated. The value specified is a distance within the motion block. If the value is less than 0, this parameter is set to 0 so that fixed stop detection is activated at the start of the block. A value of zero activates fixed stop detection immediately at the start of the block. If P-AXIS-00772 [} 331] is parameterised at the same time, the smaller block motion path defined by the two parameters is used as the minimum path. When measuring with several axes, the smallest block motion path of all axes involved in the measurement is used as the minimum path. Parameter antr.fixed_stop.detect.start_distance Data type SGN32 Data range 0 < P-AXIS-00771 < MAX(SGN32) Axis types <T, R> Dimension T: 0.1 µm R: 10-4 ° Default value -1 Drive types ---- Remarks If the function ‘Measuring travel to fixed stop’ is used and the value of parameter P- AXIS-00776 [} 114] is less than 0, the parameter is used as the limit value for fixed stop detection. Currently this parameter only acts with measuring travel to fixed stop if P- AXIS-00776 [} 114] is not parameterised. Parameter available as of CNC Build V2.11.2810.01 and higher 8.9.27 Percentage minimum path for fixed stop detection (P- AXIS-00772) P-AXIS-00772 Minimum path to activate fixed stop detection specified in per mill of block length TF5200 | Twin CAT 3 CNC Version: 1.172 331 Axis parameters
## Page 332

Parameters for drives (antr.*) Description This parameter defines the distance per mill of the motion block that must be travelled before fixed stop detection is activated. A value of less than zero activates fixed stop detection immediately at the start of the block. A value of zero activates fixed stop detection immediately at the start of the block. If P-AXIS-00771 [} 331] is parameterised at the same time, the smaller block motion path defined by the two parameters is used as the minimum path. When measuring with several axes, the smallest block motion path of all axes involved in the measurement is used as the minimum path. The permitted maximum value is 1000. If this value is exceeded when the controller is started, the warning ID 110658 is output but the value is not corrected. Parameter antr.fixed_stop.detect.start_distance_per_mille Data type SGN16 Data range MIN(SGN16) < P-AXIS-00772 ≤ 1000 Axis types <T, R> Dimension T: 0.1% R: 0.1% Default value -1 Drive types ---- Remarks Currently, this parameter only acts with ‘Measuring travel on fixed stop’ if P- AXIS-00777 [} 115] is not parameterised. If the function ‘Measuring travel on fixed stop’ is used and the parameter P- AXIS-00777 [} 115] has a value less than zero, this parameter is used as a limit to detect a fixed stop. This parameter must be checked if error message ID 51026 is displayed. Parameter available as of CNC Build V2.11.2810.01 8.9.28 Maximum position change for fixed stop detection (P- AXIS-00773) P-AXIS-00773 Maximum permitted position change for fixed stop detection Description This parameter defines the maximum path which may be travelled in the time defined by P-AXIS-00770 [} 330] to detect the fixed stop. Together with P- AXIS-00770 [} 330] , an average velocity is defined but this may not be exceeded to detect the fixed stop. If the value is less than or equal to zero, velocity monitoring is deactivated for fixed stop detection. Parameter antr.fixed_stop.detect.max_delta_position_window Data type SGN32 Data range MIN(SGN32) < P-AXIS-00773 ≤ MAX(SGN32) Axis types <T, R> Dimension T: 0.1 µ R: 10e-4 ° Default value -1 Drive types ---- Remarks If the function ‘Measuring travel to fixed stop’ is used and the value of parameter P- AXIS-00778 [} 115] is less than 0, the parameter is used as the limit value for fixed stop detection. Currently this parameter only acts with measuring travel to fixed stop if P- AXIS-00778 [} 115] is not parameterised. Parameter available as of CNC Build V2.11.2810.01 and higher 332 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 333

Parameters for drives (antr.*) 8.9.29 Velocity limit for fixed stop detection (P-AXIS-00817) P-AXIS-00817 Velocity limit for fixed stop detection Description This parameter specifies the residual velocity percentage for detection of a fixed stop. The default value 1000*0.1% means that the stop is detected at every reduction in velocity. Here, the velocity limit does not contribute to detection and can be regarded as deactivated. Parameter antr.fixed_stop.detect.detect_velocity_limit Data type UNS16 Data range 0 ≤ P-AXIS-00769 ≤ 1000 Axis types T, R, S Dimension T: 0.1% R,S: 0.1% Default value 1000 Drive types --- Remarks This parameter can be used as default to detect a fixed stop. All functions that require this (measuring, homing and moving to a fixed stop) access this parameter if it is not explicitly parameterised. *Currently only for homing to a fixed stop. 8.9.30 Default value for torque limit for fixed stop detection (P- AXIS-00818) P-AXIS-00818 Default value for torque limit for fixed stop detection Description This parameter defines the default value for the percentage torque to detect a fixed stop. It refers to the reduced torque that is written to the drive using the drive identifier for moving to a fixed stop P-AXIS-00719 [} 323]. A value of zero means that the torque is not used to detect a fixed stop. Parameter antr.fixed_stop.detect.detect_torque_limit Data type UNS16 Data range 0 ≤ P-AXIS-00818 ≤ 1000 Axis types T, R, S Dimension T: 0.1% R,S: 0.1% Default value 0 Drive types Simulation, SERCOS, CANopen Remarks This parameter can be used as default to detect a fixed stop. All functions that require this (measuring, homing and moving to a fixed stop) access this parameter if it is not explicitly parameterised. *Currently only for homing to a fixed stop. 8.9.31 During active moving to fixed stop an axis exchange for this axis is allowed (P-AXIS-00831) P-AXIS-00831 Allow axis exchange for axis when the moving to a fixed stop function is active. TF5200 | Twin CAT 3 CNC Version: 1.172 333 Axis parameters
## Page 334

Parameters for drives (antr.*) Description In a standard case, axes where the “Moving to fixed stop” function is active may not be exchanged between channels using axis exchange commands. See [PROG// Axis exchange commands] and [FCT-M8//Moving to fixed stop] P-AXIS-00831 can be used to permit axis exchange with these axes. When an axis is replaced in a channel and P-AXIS-00831 is set, the parameters of the “Moving to fixed stop” function are reset to the values configured in the axis parameter list. Parameter antr.fixed_stop.allow_ax_exchange Data type BOOLEAN Data range 0 / 1 Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types Simulation, SERCOS, CANopen Remarks As of V3.1.3081.12, V3.1.3119.0 or V4.22.0. 8.9.32 Degradation of position lag by interpolation on fixed stop position. (P-AXIS-00832) P-AXIS-00832 Enable degradation of position lag after moving to a fixed stop Description When moving to a fixed stop, e.g. to clamp a workpiece, the movement comes against a fixed stop. This builds up a position lag. When the functionality is disabled, tracking takes place by default. This results in errors with some drives. This parameter sets the degradation of the position lag. Parameter antr.fixed_stop.enable_back_interpolation Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R, S: ---- Default value 0 Drive types ---- Remarks As of V3.1.3081.12, V3.1.3119.0 or V4.22.0. 8.10 Address offset for digital drive types 8.10.1 Address offset input (P-AXIS-00707) P-AXIS-00707 Address offset input Description Input address offset for digital drive types Parameter antr.addroffs.input Data type UNS32 Data range Axis types Dimension ---- Default value Drive types Remarks 334 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 335

Parameters for drives (antr.*) 8.10.2 Address offset output (P-AXIS-00580) P-AXIS-00580 Address offset output Description Output address offset for digital drive types Parameter antr.addroffs.output Data type UNS32 Data range Axis types Dimension Default value Drive types Remarks Index of the axis at the drive actual value interface. 8.11 Use actual speed for speed monitoring (P-AXIS-00779) P-AXIS-00779 Use configured actual speed for speed monitoring and display data Description By default the actual position value is used to calculate the actual speed when the actual position value and the actual speed value are configured in the process data. This parameter sets the configured actual speed value that is used to determine the actual speed. With path axes, the parameter only acts on the display data. Since the position values are also modulo calculated, the maximum speed is limited to 180°/cycle. To obtain a correct actual speed of spindles at speeds > 180°/cycle, this parameter defines that the actual speed value must be used for speed monitoring even if an actual position value is configured in the process data. When this parameter is used, the speed scaling (see P-AXIS-00205 [} 264], P- AXIS-00206 [} 264] and P-AXIS-00207 [} 264]) must be correctly set. Parameter antr.velocity_monitoring_use_act_velocity Data type BOOLEAN Data range 0: Calculate the actual speed from the actual position value. 1: The configured actual speed of the drive is used for speed monitoring and display data. Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types Remarks As of V3.1.3079.14, parameter P-AXIS-00779 replaces P-AXIS-00519 [} 64]. When the parameter P-AXIS-00779 is used, an actual speed must be configured in the process data. If this is not the case, the warning ID 70480 is output and the parameter value is set to 0. 8.12 Signal for main encoder (P-AXIS-00823) P-AXIS-00823 Signal for main encoder Description This parameter defines any signal as the main encoder signal. This signal is used to execute functions such as tracking mode and position lag monitoring. Normally, the motor encoder is used. This parameter is required in order to use an external encoder as actual position value. Parameter antr.main_encoder Data type STRING TF5200 | Twin CAT 3 CNC Version: 1.172 335 Axis parameters
## Page 336

Parameters for drives (antr.*) Data range Possible signals of each drive SERCOS CANopen LAGEIST_WERT, S_0_0053, S_0_0386 POS_ACT, 60E4_01 Axis types T, R, S Dimension T: - R,S: - Default value * Drive types SERCOS, CANopen Remarks * Note: The default value of variables is a blank string. Parameter available as of CNC Build V3.1.3080.13 or V3.1.3107.45. When specifying P-AXIS-00823, it must contain the identical character string as in P-AXIS-00131 [} 294] or P-AXIS-00475 [} 309]. Example for SERCOS antr.main_encoder LAGEIST_WERT antr.sercos.at[0].nc_ref LAGEIST_WERT antr.secondary_encoder S-0-0053 antr.sercos.at[1].nc_ref S-0-0053 (P-AXIS-00131) Example for CANopen: antr.main_encoder POS_ACT antr.canopen.in[0].nc_ref POS_ACT antr.secondary_encoder 60E4_01 antr.canopen.in[1].nc_ref 60E4_01 (P-AXIS-00475) 8.13 Signal for secondary encoder (P-AXIS-00824) P-AXIS-00824 Signal for secondary encoder Description This parameter defines any signal as the secondary encoder. This signal is used to execute functions such as reading in sensor data for distance control. By default, the second encoder found by the controller is used. Parameter antr.secondary_encoder Data type STRING Data range Possible signals of each drive SERCOS CANopen S_0_0053, S_0_0386 60E4_01 Axis types T, R, S Dimension T: - R,S: - Default value * Drive types SERCOS, CANopen 336 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 337

Parameters for drives (antr.*) Remarks * Note: The default value of variables is a blank string. Parameter available as of CNC Build V3.1.3080.13 or V3.1.3107.45. This parameter can only be used in combination with P-AXIS-00823 [} 335] ). When specifying P-AXIS-00824, it must contain the identical character string as in P-AXIS-00131 [} 294] or P-AXIS-00475 [} 309]. Example for SERCOS antr.main_encoder LAGEIST_WERT antr.sercos.at[0].nc_ref LAGEIST_WERT antr.secondary_encoder S-0-0053 antr.sercos.at[1].nc_ref S-0-0053 (P-AXIS-00131) Example for CANopen: antr.main_encoder POS_ACT antr.canopen.in[0].nc_ref POS_ACT antr.secondary_encoder 60E4_01 antr.canopen.in[1].nc_ref 60E4_01 (P-AXIS-00475) 8.14 Evaluating status bit “Drive follows command values” (P-AXIS-00830) P-AXIS-00830 Evaluating status bit “Drive follows command values” Description Many SERCOS drives supply the information “Drive follows command values” in a bit of their status word. This parameter controls the inclusion of this bit to calculate the HLI status signal lr_state.ready_for_power_on_r. The HLI signal lr_state.ready_for_power_on_r is only set if: • P-AXIS-00830 is set and • the bit “Drive follows command values” is set in the drive status word. The bit is not evaluated in the following cases: • if feedhold release is not set, lr_mc_control.release_feedhold control unit • when drive-controlled homing is executed • when tracking mode is active on CANopen drives Parameter antr.evaluate_drive_follows_cmd Data type SGN08 Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value -1 Drive types CANopen, SERCOS Remarks Parameter available as of V3.1.3081.7 This parameter replaces the parameter P-AXIS-00411 [} 289] for the SERCOS drive type.. It is only useful to use this parameter if the drive controller supplies the corresponding status bit. This information has to be taken from the drive documentation. TF5200 | Twin CAT 3 CNC Version: 1.172 337 Axis parameters
## Page 338

Parameters for drives (antr.*) 8.15 Relevant bit for touch probe status (P-AXIS-00815) P-AXIS-00815 Relevant bit for touch probe status Description This parameter can be used to define the relevant bit for cyclic reading of the status signal of the touch probe via the HLI. The touch probe signal is provided via object 0x60B9 “Touch probe status” for CANopen drives. With CANopen drives, the measurement input can be selected with P-AXIS-00517 [} 99]. If the second measurement input is used while bit 6 is configured, it is assumed that the second measurement input uses bit 14. Similarly, if bit 7 is configured and the second measurement input is used, bit 15 is monitored. Parameter antr.probe_actuated_bit Data type SGN08 Data range 6/7 Axis types T, R, S Dimension T: ---- R, S: ---- Default value - 1 Drive types CANopen Remarks This function is available as of CNC Build V3.1.3080.4 or V3.1.3107.37. 338 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 339

Parameters for manual operation (handbetrieb.*) 9 Parameters for manual operation (handbetrieb.*) This structure permits the definition of parameters for manual mode. The axis-specific manual mode parameters are summarised here. These parameters should not be confused with the manual mode-specific parameters which are documented in [MANU]. The parameters described in this section are independent of the drive and axis type settings. NOTICE Manual mode is only possible for axes which are assigned to a path interpolator. Axes are assigned to in- terpolators by channel parameters [CHAN]. 9.1 Settings for default parameters (handbetrieb.default.*) 9.1.1 Operation mode (P-AXIS-00139) P-AXIS-00139 Operation mode of manual mode Description The parameter defines the manual operation mode. Parameter handbetrieb.default.operation_mode Data type UNS16 Data range 1: Handwheel 2: Continuous (continuous movement until new command) 3: Incremental (fixed path movement) Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types ---- Remarks 9.1.2 Logical identifier of control element (P-AXIS-00046) P-AXIS-00046 Logical identifier of control element Description The parameter defines the logical identifier of control element. Parameter handbetrieb.default.control_element Data type UNS16 Data range 0 < control_element < MAX(UNS16) Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types ---- Remarks TF5200 | Twin CAT 3 CNC Version: 1.172 339 Axis parameters
## Page 340

Parameters for manual operation (handbetrieb.*) 9.2 Setting of offset limits These parameters can specify the movement range axis-specifically in manual operation. This traverse range is preset to the current interpolation position as relative offset. Therefore the positive offset limit must be defined larger than or equal to zero. Similarly, the condition less than or equal to zero also applies to the negative offset limit. 9.2.1 Relative positive offset limit (P-AXIS-00138) P-AXIS-00138 Relative positive offset limit in manual mode Description This parameter defines the relative positive offset limit. The relative negative offset limit is defined in P-AXIS-00137 [} 340]. Parameter handbetrieb.offsetgrenze_pos Data type SGN32 Data range 0 ≤ offsetgrenze_pos ≤ MAX(SGN32) Axis types T, R Dimension T: 0.1µm R: 0.0001 ° Default value 1000000 Drive types ---- Remarks If the two relative offset limits • P-AXIS-00137 [} 340] (offsetgrenze_neg) + • P-AXIS-00138 (offsetgrenze_pos) are assigned the value 0, offset monitoring is disabled. 9.2.2 Relative negative offset limit (P-AXIS-00137) P-AXIS-00137 Relative negative offset limit in manual mode Description This parameter defines the relative negative offset limit. The relative positive offset limit is defined in P-AXIS-00138. Parameter handbetrieb.offsetgrenze_neg Data type SGN32 Data range MIN(SGN32) ≤ offsetgrenze_neg ≤ 0 Axis types T, R Dimension T: 0.1µm R: 0.0001 ° Default value -1000000 Drive types ---- Remarks If the two relative offset limits • P-AXIS-00137 (offsetgrenze_neg) and • P-AXIS-00138 (offsetgrenze_pos) are assigned the value 0, offset monitoring is disabled. 9.2.3 Setting of default values after G200 or G201 (P-AXIS-00446) P-AXIS-00446 Setting of default values after G200 or G201 Description This parameter determines whether the default entries of the axis list for the parameters P-AXIS-00139 [} 339] and P-AXIS-00046 [} 339] should be valid after reset. Parameter handbetrieb.default.after_g200_g201 Data type BOOLEAN 340 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 341

Parameters for manual operation (handbetrieb.*) Data range 0: Manual mode settings for P-AXIS-00139 [} 339] and P-AXIS-00046 [} 339] should remain valid after rest. 1: Default entries of the axis list for P-AXIS-00139 [} 339] and P-AXIS-00046 [} 339] are adopted. Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types ---- Remarks TF5200 | Twin CAT 3 CNC Version: 1.172 341 Axis parameters
## Page 342

Parameters for manual operation (handbetrieb.*) 9.3 ACS movement limits These parameters defines the axis-specific movement range in manual mode. In contrast to the offset limits P-AXIS-00137 [} 340] and P-AXIS-00138 [} 340], these values are always absolute values which affect the level of the axis coordinates. The adjustable minimum and maximum values are determined by the software limit switches. Software limit switch Configurated absolute manual mode selection 0 Axis position P-AXIS-00492 P-AXIS-00493 P-AXIS-00177 P-AXIS-00178 Fig. 38: Absolute motion limits in manual mode 9.3.1 Absolute positive ACS movement limit (P-AXIS-00493) P-AXIS-00493 Absolute positive ACS movement limit in manual mode Description The parameter defines the absolute positive ACS movement limit. Parameter handbetrieb.acs_limit_pos Data type SGN32 Data range P-AXIS-00177 [} 92] ≤ acs_limit_pos ≤ P-AXIS-00178 [} 91] Axis types T, R Dimension T: 0.1µm R: 0.0001 ° Default value 0 drive types. ---- Remarks If both parameters acs_limit_neg and acs_limit_pos are set to 0, the offset monitoring is inactive! 9.3.2 Absolute negative ACS movement limit (P-AXIS-00492) P-AXIS-00492 Absolute negative ACS movement limit in manual mode Description The parameter defines the absolute negative ACS movement limit. Parameter handbetrieb.acs_limit_neg Data type SGN32 Data range P-AXIS-00177 [} 92] ≤ acs_limit_neg ≤ P-AXIS-00178 [} 91] 342 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 343

Parameters for manual operation (handbetrieb.*) Axis types T, R Dimension T: 0.1µm R: 0.0001 ° Default value 0 drive types. ---- Remarks If both parameters acs_limit_neg and acs_limit_pos are set to 0, the offset monitoring is inactive! 9.3.3 Effect of feedhold control signals (P-AXIS-00529) P-AXIS-00529 Effect of feedhold control signals in manual mode Description This parameter influences the effect of channel- and axis-specific feedhold on manual movements. Both variants, exclusive manual mode (G200) and inclusive manual mode (G201), can be controlled. For example, a manual mode axis can be moved although the path movement stops because of active channel feedhold. The parameter P-AXIS-00540 [} 144] defines the mode of the feedhold interface. Parameter handbetrieb.feedhold_mode Data type UNS32 Data range 0: With G200 or G201, the channel- and axis-specific feedholds are effective 1: With G201, only axis specific feedhold is effective; with G200, channel- and axis- specific feedholds are effective. 2: With G200 and G201, only axis-specific feedhold is effective. Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types ---- Remarks TF5200 | Twin CAT 3 CNC Version: 1.172 343 Axis parameters
## Page 344

Parameters for manual operation (handbetrieb.*) 9.4 Settings for hand wheel (handbetrieb.hr.*) This structure defines the parameters for the 'Handwheel' operating mode. 9.4.1 Hand wheel resolutions (P-AXIS-00025) P-AXIS-00025 Hand wheel resolutions Description Handwheel resolutions are expected in the unit [0.1µm/U] for linear axes or in the unit [0.0001°/U] for rotary axes. Parameter handbetrieb.hr.aufl[i] with i = 0 … 2 (Count of resolution steps: 3) * Data type REAL64 Data range > 0 Axis types T, R Dimension T: 0.1µm/U R: 0.0001°/U Default value 10 Drive types ---- Remarks This axis-specific resolution for the handwheel operating mode should not be confused with the handwheel-specific resolution [MANU]. * As of V3.00.et seq. and V263. SBV.et seq. : i = 0 … 5 (Count of resolution steps: 6) 9.4.2 Filter time constant for hand wheel increments (P-AXIS-00069) P-AXIS-00069 Filter time constant for hand wheel increments Description After multiplication by the handwheel resolution, a mean value for read-in handwheel increments is calculated with 'filter_zeit' cycles. Parameter handbetrieb.hr.filter_zeit Data type UNS32 Data range 0 ≤ filter_zeit ≤ MAX(UNS32) Axis types T, R Dimension T: Number of interpolation cycles R: Number of interpolation cycles Default value 10 Drive types ---- Remarks 344 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 345

Parameters for manual operation (handbetrieb.*) 9.5 Settings for the continuous jog mode (handbetrieb.tipp.*) This structure defines the parameters for the 'continuous jog' operation mode. 9.5.1 Velocity for the continuous jog mode (P-AXIS-00077) P-AXIS-00077 Velocity for the continuous jog mode Description The continuous jog velocities are expected in the unit [µm /s] for linear axes or in the unit [0.001°/s] for rotary axes. Parameter handbetrieb.tipp.geschw[i] where i = 0 … 2 (Count of continuous jog velocity steps: 3) * Data type UNS32 Data range 0 ≤ geschw[i] ≤ P-AXIS-00212 [} 183] Axis types T, R Dimension T: µm/s R: 0,001°/s Default value 16666 Drive types ---- Remarks * As of V3.00.et seq. and V263. SBV.et seq. : i = 0 … 5 (Count of continuous jog velocity steps: 6) 9.5.2 Rapid mode velocity for continuous jog mode (P-AXIS-00210) P-AXIS-00210 Rapid mode velocity for continuous jog mode Description The parameter defines the rapid traverse velocity for continuous jog mode. Parameter handbetrieb.tipp.vb_eilgang Data type UNS32 Data range 0 ≤ vb_eilgang ≤ P-AXIS-00212 [} 183] Axis types T, R Dimension T: µm/s R: 0,001°/s Default value 166666 Drive types ---- Remarks TF5200 | Twin CAT 3 CNC Version: 1.172 345 Axis parameters
## Page 346

Parameters for manual operation (handbetrieb.*) 9.6 Settings for incremental jog mode (handbetrieb.jog.*) This structure defines the parameters for the 'incremental jog' operating mode . 9.6.1 Jog incremental widths (P-AXIS-00232) P-AXIS-00232 Jog incremental widths Description Jog incremental widths are expected in the unit [0.1µm] for linear axes or in the unit [0.0001°] for rotary axes. Parameter handbetrieb.jog.weg[i] with i = 0 … 2 (Count of jog parameter steps: 3) * Data type REAL64 Data range > 0 Axis types T, R Dimension T: 0.1 µm R: 0.0001° Default value 10000 Drive types ---- Remarks * As of V3.00.et seq. and V263. SBV.et seq. : i = 0 … 5 (Count of jog parameter steps: 6) 9.6.2 Incremental jog velocities (P-AXIS-00076) P-AXIS-00076 Incremental jog velocities Description The incremental jog velocities are expected in the unit [µm /s] for linear axes or in the unit [0.001°/s] for rotary axes. Parameter handbetrieb.jog.geschw[i] where i = 0 … 2 (Count of jog parameter steps: 3) * Data type UNS32 Data range 0 ≤ geschw[i] ≤ P-AXIS-00212 [} 183] Axis types T, R Dimension T: µm/s R: 0,001°/s Default value 16666 Drive types ---- Remarks * As of V3.00.et seq. and V263. SBV.et seq. : i = 0 … 5 (Count of jog parameter steps: 6) 9.6.3 Rapid mode velocity for jog mode (P-AXIS-00530) P-AXIS-00530 Rapid mode velocity for jog mode Description The parameter defines the rapid traverse velocity for jog mode. If this value is not set, the value of P-AXIS-00213 [} 350] (hb.vb_max) is used. Parameter handbetrieb.jog.rapid_velocity Data type UNS32 Data range 0 ≤ rapid_velocity ≤ P-AXIS-00212 [} 183] Axis types T, R Dimension T: µm/s R: 0,001°/s Default value 0 Drive types ---- Remarks As of V3.1.3050.03 When this parameter is 0, the value of P-AXIS-00213 [} 350] (hb.vb_max) is used. 346 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 347

Parameters for manual operation (handbetrieb.*) 9.7 Manual operation mode with parallel interpolation (handbetrieb.ipo.*) For manual operation with parallel interpolation, the permissible axis dynamics parameters are divided between manual operation and interpolation. For manual mode with active kinematic transformation in connection with Cartesian machine structures (e.g. robots), specify the Cartesian dynamic parameters in P- CHAN-00198, P-CHAN-00199 and P-CHAN-00200 as well as the axis-specific dy- namic parameters described below. If the former are not assigned, the axis-specific values are used for Cartesian dynamics. 9.7.1 Velocity part of manual operation (P-AXIS-00083) P-AXIS-00083 Velocity part of manual operation with parallel interpolation Description The parameter defines the velocity part of manual operation mode at the permissible axis velocity. Parameter handbetrieb.ipo.hb_proz_v_max Data type UNS16 Data range 0 … 100 Axis types T, R Dimension T: % R: % Default value 30 Drive types ---- Remarks 9.7.2 Velocity part of interpolation (P-AXIS-00095) P-AXIS-00095 Velocity part of interpolation Description The parameter defines the velocity part of interpolation at the permissible axis velocity. Parameter handbetrieb.ipo.ipo_proz_v_max Data type UNS16 Data range 0 … 100 Axis types T, R Dimension T: % R: % Default value 70 Drive types ---- Remarks P-AXIS-00083 [} 347] (hb_proz_v_max) and P-AXIS-00095 [} 347] (ipo_proz_v_max) together must be 100%. 9.7.3 Acceleration part of manual operation (P-AXIS-00082) P-AXIS-00082 Acceleration part of manual operation with parallel interpolation Description The parameter defines the acceleration part of manual operation mode at the permissible axis acceleration. Parameter handbetrieb.ipo.hb_proz_a_max Data type UNS16 Data range 0 … 100 Axis types T, R TF5200 | Twin CAT 3 CNC Version: 1.172 347 Axis parameters
## Page 348

Parameters for manual operation (handbetrieb.*) Dimension T: % R: % Default value 30 Drive types ---- Remarks 9.7.4 Acceleration part of interpolation (P-AXIS-00094) P-AXIS-00094 Acceleration part of interpolation Description The parameter defines the acceleration part of interpolation at permissible axis acceleration. Parameter handbetrieb.ipo.ipo_proz_a_max Data type UNS16 Data range 0 … 100 Axis types T, R Dimension T: % R: % Default value 70 Drive types ---- Remarks P-AXIS-00082 [} 347] (hb_proz_a_max) and P-AXIS-00094 [} 348] (ipo_proz_a_max) together must be 100%. 9.7.5 Position correction In some applications the manual operation mode interface is used for position correction. So, in general, the velocities and accelerations which are greater than the maximum limits must also be set. The following parameters permit the setting of specific dynamic values for manual operation mode. 9.7.5.1 Velocity during position correction (P-AXIS-00365) P-AXIS-00365 Velocity during position correction Description The parameter defines the effective velocity of manual operation mode during the use in a position correction. Parameter handbetrieb.ipo.hb_v_max_track Data type UNS32 Data range 0 < hb_v_max_track ≤ 2000000000 (Presetting of maximum axis velocity, plausibility limit, application-specific) Axis types T, R, S Dimension T: µm/s R,S: 0,001°/s Default value 0 Drive types ---- Remarks 9.7.5.2 Acceleration during position correction (P-AXIS-00366) P-AXIS-00366 Acceleration during position correction Description The parameter defines the effective acceleration of manual operation mode during use in a position correction. Parameter handbetrieb.ipo.hb_a_max_track Data type UNS32 Data range 0 < hb_a_max_track ≤ 100000000 (Presetting of maximum axis acceleration, plausibility limit, application-specific) 348 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 349

Parameters for manual operation (handbetrieb.*) Axis types T, R, S Dimension T: mm/s² R,S: °/s² Default value 0 Drive types ---- Remarks There is no limitation of the parameter values on the permissible maximum velocities P-AXIS-00212 [} 183] and acceleration parameters P-AXIS-00008 [} 184]. TF5200 | Twin CAT 3 CNC Version: 1.172 349 Axis parameters
## Page 350

Parameters for manual operation (handbetrieb.*) 9.8 Manual operation mode without parallel interpolation (handbetrieb.hb.*) This structure defines the permissible axis dynamics parameters for manual operation mode without parallel interpolation. For manual mode with active kinematic transformation in connection with Cartesian machine structures (e.g. robots), specify the Cartesian dynamic parameters in P- CHAN-00198, P-CHAN-00199 and P-CHAN-00200 as well as the axis-specific dy- namic parameters described below. If the former are not assigned, the axis-specific values are used for Cartesian dynamics. 9.8.1 Maximum velocity (P-AXIS-00213) P-AXIS-00213 Maximum velocity for manual operation without parallel interpolation Description The parameter defines the maximum velocity for manual operation mode. Parameter handbetrieb.hb.vb_max Data type UNS32 Data range 0 < vb_max ≤ P-AXIS-00212 [} 183] Axis types T, R Dimension T: µm/s R: 0,001°/s Default value 166666 Drive types ---- Remarks 9.8.2 Maximum acceleration (P-AXIS-00009) P-AXIS-00009 Maximum acceleration for manual operation without parallel interpolation Description The parameter defines the maximum acceleration for manual operation mode. Parameter handbetrieb.hb.a_max Data type UNS32 Data range 0 ≤ a_max ≤ P-AXIS-00008 [} 184] Axis types T, R Dimension T: mm/s² R: °/s² Default value 1000 Drive types ---- Remarks 9.8.3 Feedhold acceleration (P-AXIS-00259) P-AXIS-00259 Feedhold acceleration for manual operation without parallel interpolation Description The parameter defines the acceleration with active feedhold for manual operation mode. When the parameter has the value 0, it is assigned the value of P-AXIS-00009 [} 350] (handbetrieb.hb.a_max). Parameter handbetrieb.hb.a_feedh Data type UNS32 Data range 0 ≤ a_feedh ≤ P-AXIS-00008 [} 184] Axis types T, R Dimension T: mm/s² R: °/s² 350 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 351

Parameters for manual operation (handbetrieb.*) Default value 0 Drive types ---- Remarks 9.8.4 Ramp time during maximum acceleration (P-AXIS-00359) P-AXIS-00359 Ramp time during maximum acceleration for manual operation without parallel interpolation Description The parameter defines the ramp time in basic mode for manual operation mode. Value 0 means linear slope (default). Parameter handbetrieb.hb.tr Data type UNS32 Data range P-AXIS-00201 [} 185] ≤ tr ≤ MAX(UNS32) Axis types T, R Dimension T: µs R: µs Default value 0 Drive types ---- Remarks 9.8.5 Ramp time at feedhold (P-AXIS-00360) P-AXIS-00360 Ramp time at feedhold for manual operation without parallel interpolation Description The parameter defines the ramp time during active feedhold for manual operation mode. Parameter handbetrieb.hb.tr_feedh Data type UNS32 Data range P-AXIS-00201 [} 185] ≤ tr_feedh ≤ MAX(UNS32) Axis types T, R Dimension T: µs R: µs Default value 0 Drive types ---- Remarks P-AXIS-00259 [} 350] is output and P-AXIS-00360 is only used if parameter P- CHAN-00097 in the channel parameter list is assigned the value 1. 9.8.6 Maximum deceleration (P-AXIS-00541) P-AXIS-00541 Maximum delay for manual operation without parallel interpolation Description The parameter defines the maximum delay for manual operation mode. When the parameter has the value 0, it is assigned the value of P-AXIS-00009 [} 350] (handbetrieb.hb.a_max). Parameter handbetrieb.hb.d_max Data type UNS32 Data range 0 < d_max ≤ P-AXIS-00008 [} 184] Axis types T, R Dimension T: mm/s² R: °/s² Default value 0 Drive types ---- Remarks TF5200 | Twin CAT 3 CNC Version: 1.172 351 Axis parameters
## Page 352

Parameters for manual operation (handbetrieb.*) 9.8.7 Reduced maximum acceleration (P-AXIS-00545) P-AXIS-00545 Reduced maximum acceleration for manual operation without parallel interpolation Description The parameter defines the active acceleration for manual mode with an active PLC control signal via the control unit Activation of reduced manual mode acceleration (bahn_mc_control.reduced_acceleration). Parameter handbetrieb.hb.a_max_red Data type UNS32 Data range 0 < a_max_red ≤ P-AXIS-00008 [} 184] Axis types T, R Dimension T: mm/s² R: °/s² Default value 1000 drive types. ---- Remarks 352 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 353

Parameters for measurement simulation (meas_simu.*) 10 Parameters for measurement simulation (meas_simu.*) This structure groups the axis-specific measurement simulation parameters. 10.1 Methods for measurement simulation (P-AXIS-00112) P-AXIS-00112 Methods for measurement simulation Description This parameter defines the method that is used to calculate the measurement signal point. The measurement signal point is the position when the measurement signal is output. The value in P-AXIS-00145 [} 353] must be specified depending on the measuring method selected. With measuring method 1, the axis position is assigned to P-AXIS-00145 [} 353]. Parameter meas_simu.meas_simu_mode Data type SGN32 Data range 1: Measurement signal is generated after reaching or crossing a predefined axis position. (interpretation mode: axis position *) 2: Measurement signal is generated after a defined number of CNC cycles. (interpretation mode: time *) 3: Measurement signal is triggered as soon as the percentage residual path of the axis in the measuring block is less than the set value. (interpretation mode: part distance *) 4: Measurement signal is generated if all axes have reached the target position. (interpretation mode: path position) 5: Measurement signal is generated if one of the axes has reached the target position. In contrast to mode 4 the signal is set immediately if any of the programmed measurement axes is already placed on the target position. (interpretation mode: path position) 6: Measuring signal is set if a geometric object (e.g. sphere) is probed. For a detailed description of the object, see P-AXIS-00145 [} 353]. (interpretation mode: geometry**) Axis types T, R, S Dimension T: ---- R,S: ---- Default value 1 drive types. SERCOS Remarks * In addition, the parameter P-AXIS-00145 [} 353] must be set for the modes 1, 2, 3. ** In addition, the parameters P-AXIS-00145 [} 353] to P-AXIS-00148 [} 356] must be set for Mode 6. 10.2 Setting of the measurement position for simulation 10.2.1 Setting of Parameter 1 (P-AXIS-00145) P-AXIS-00145 Setting parameter 1 for measurement simulation Description The measurement simulation requires a predefined numerical value (axis position, part distance, counter value) to check the condition for generating a measurement signal depending on the selected method meas_simu_mode (P-AXIS-00112 [} 353]). This predefined numerical value is stored in this parameter in the corresponding dimension or unit. TF5200 | Twin CAT 3 CNC Version: 1.172 353 Axis parameters
## Page 354

Parameters for measurement simulation (meas_simu.*) Parameter meas_simu.parameter1 Data type SGN32 Data range MIN(SGN32) ≤ parameter1≤ MAX(SGN32) Axis types T, R Dimension T: ---- R,S: ---- Default value 0 Drive types simulation Remarks Dimension of parameter 1 dependent on the selected mode: meas_simu_mode - value 1 2 3 6 parameter1 - [0.1 µm or Number of [%] [0.1 µm or dimension 0.0001°] cycles [-] 0.0001°] Supplements and examples of Mode 6 Mode 6 simulates the probing of a geometric object. In the XY plane this may be a rectangle or a circle; in XYZ space this may be a cuboid, a sphere or a cylinder. The 4 axis parameters P-AXIS-00145 to P-AXIS-00148 [} 356] are required to describe the object. Parameter ID Parameter name Meaning Unit P-AXIS-00145 meas_simu.parameter1 Minimum position [0.1 µm or 0.0001°] P-AXIS-00146 [} 356] meas_simu.parameter2 Maximum position [0.1 µm or 0.0001°] P-AXIS-00147 [} 356] meas_simu.parameter3 Centre point coordinates [0.1 µm or 0.0001°] P-AXIS-00148 [} 356] meas_simu.parameter4 Radius [0.1 µm or 0.0001°] 354 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 355

Parameters for measurement simulation (meas_simu.*) Rectangle in XY plane The measurement signal is triggered when the machine moves within the (axis-parallel) rectangle specified by the following coordinates: • bottom left corner has the coordinates [17mm, 5mm] • top right corner has the coordinates [32mm, 8mm] Parameter name Meaning X axis Y axis Z axis meas_simu.parameter Minimum position 170000 50000 0 1 meas_simu.parameter Maximum position 320000 80000 0 2 meas_simu.parameter Centre point coordinates 0 0 0 3 meas_simu.parameter Radius 0 0 0 4 Cube in XYZ space The measurement signal is triggered when the machine moves in the (axis-parallel) cube which has the following opposite corners: • bottom left front corner has the coordinates [17mm, 5mm, -6mm] • top right rear corner has the coordinates [32mm, 8mm, 2mm] Parameter name Meaning X axis Y axis Z axis meas_simu.parameter Minimum position 170000 50000 -60000 1 meas_simu.parameter Maximum position 320000 80000 20000 2 meas_simu.parameter Centre point coordinates 0 0 0 3 meas_simu.parameter Radius 0 0 0 4 Circle in the XY plane The measurement signal is triggered when the machine moves into the circle with centre point [11mm, 22mm] and radius 17mm. The radius must be specified in every axis involved. Parameter name Meaning X axis Y axis Z axis meas_simu.parameter Minimum position 0 0 0 1 meas_simu.parameter Maximum position 0 0 0 2 meas_simu.parameter Centre point coordinates 110000 220000 0 3 meas_simu.parameter Radius 170000 170000 0 4 Sphere in XYZ space The measurement signal is triggered when the machine moves into the sphere with centre point [11mm, 22mm, 33mm] and radius 17mm. The radius must be specified in every axis involved. Parameter name Meaning X axis Y axis Z axis TF5200 | Twin CAT 3 CNC Version: 1.172 355 Axis parameters
## Page 356

Parameters for measurement simulation (meas_simu.*) meas_simu.parameter Minimum position 0 0 0 1 meas_simu.parameter Maximum position 0 0 0 2 meas_simu.parameter Centre point coordinates 110000 220000 330000 3 meas_simu.parameter Radius 170000 170000 170000 4 10.2.2 Setting of Parameter 2 (P-AXIS-00146) P-AXIS-00146 Setting parameter 2 for measurement simulation Description Depending on the method selected, the measurement simulation requires meas_simu_mode (P-AXIS-00112 [} 353]) a predefined value (axis position, part distance, counter value) as command condition to generate the measurement signal. This predefined value is stored in this parameter in the corresponding unit. Parameter meas_simu.parameter2 Data type SGN32 Data range MIN(SGN32) ≤ parameter2≤ MAX(SGN32) Axis types T, R Dimension T: ---- R,S: ---- Default value 0 Drive types Simulation Remarks Dimension of parameter 2 depending on the selected mode: 10.2.3 Setting of Parameter 3 (P-AXIS-00147) P-AXIS-00147 Setting parameter 3 for measurement simulation Description Depending on the method selected, the measurement simulation requires meas_simu_mode (P-AXIS-00112 [} 353]) is a predefined value (axis position, part distance, counter value) to check the command condition for generating a measurement signal. This predefined value is stored in this parameter in the corresponding dimension. Parameter meas_simu.parameter3 Data type SGN32 Data range MIN(SGN32) ≤ parameter3≤ MAX(SGN32) Axis types T, R Dimension T: ---- T: ---- Default value 0 Drive types Simulation Remarks Dimension of parameter 3 depending on the selected mode: 10.2.4 Setting of Parameter 4 (P-AXIS-00148) P-AXIS-00148 Setting parameter 4 for measurement simulation Description Depending on the method selected, the measurement simulation requires meas_simu_mode (P-AXIS-00112 [} 353]) is a fourth predefined value (axis position, part distance, counter reading) to check the command condition for generating a measurement signal. This predefined value is stored in this parameter in the corresponding dimension. 356 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 357

Parameters for measurement simulation (meas_simu.*) Parameter meas_simu.parameter4 Data type SGN32 Data range MIN(SGN32) ≤ parameter4≤ MAX(SGN32) Axis types T, R Dimension T: ---- T: ---- Default value 0 Drive types Simulation Remarks Dimension of parameter 4 depending on the selected mode: TF5200 | Twin CAT 3 CNC Version: 1.172 357 Axis parameters
## Page 358

Axis-specific filter functions 11 Axis-specific filter functions 11.1 Default filter function (filter[i].*) In this structure the parameters for the axis specific filters are defined. Structure name Index filter[i] 0 ≤ i ≤ 2 (Quantity of different filters: 3, application-specific) 11.1.1 Filter - order (P-AXIS-00140) P-AXIS-00140 Order of axis specific command value filter Description This parameter defines the filter order. In addition, this parameter is a value which expresses the fall of frequency response (fall = - order x 20 d B/ decade). The value order = 0 means: no filter is active. With HSC No Vib or time delay filters, the order is calculated internally but an order > 0 is required, otherwise the filter is not active. Parameter filter[i].order Data type UNS32 Data range 0 ≤ order ≤ 6 for low-pass, high-pass and all-pass filters 0 ≤ order ≤ 3 for band-pass and band-stop filters order = 0 or 1 for PT1 filters order = 0 or 2 for PT2 filters order = 0 or > 0 for time delay filters 0 ≤ order ≤ 200 for HSC filters Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks 11.1.2 Filter - characteristic (P-AXIS-00153) P-AXIS-00153 Characteristic of axis-specific command value filter Description The parameter defines the filter characteristic. Parameter filter[i].prototype Data type STRING Data range CRIT_DAMPING 1: 'Critical damping’ filter characteristic: BUTTERWORTH 2: Butterworth filter characteristic BESSEL 3: Bessel filter characteristic HSC - 5: Filter characteristic 'HSC' Axis types T, R, S Dimension T: ---- R,S: ---- Default value CRIT_DAMPING Drive types ---- Remarks 358 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 359

Axis-specific filter functions 11.1.3 Filter - type (P-AXIS-00204) P-AXIS-00204 Type of axis-specific command value filter Description The parameter defines the filter type. Parameter filter[i].type Data type UNS32 Data range 1 ≤ type ≤ 12 where: 1 Low-pass filter 2 High-pass filter 3 Band-pass filter 4 Band-stop filter 5 All-pass filter 6 PT1 filter 7 reserved 8 HSC average 9 reserved 10 PT2 filter 11 Time delay filter (as of CNC Build 3013 and higher) 12 HSC No Vib Axis types T, R, S Dimension T: ---- R,S: ---- Default value 1 for standard filters (filter[i].prototype 1-4) 8 for HSC filters (filter[i].prototype 5) Drive types ---- Remarks 11.1.4 Filter - frequency (P-AXIS-00067) P-AXIS-00067 Characteristic frequency of the axis-specific command value filter Description - The frequency range parameter defines the following standard filters: • Low-pass: Beginning of cut-off frequency range (ideal filter) • High-pass : Beginning of pass-band frequency range (ideal filter) • Band-pass and band-stop filters : Middle frequency - This parameter defines the first natural frequency to be suppressed for the HSC No Vib Parameter filter[i].fg_f0 Data type REAL64 Data range 0 ≤ fg_f0 < 0.5/T (where T is the NC cycle time) fall fall Axis types T, R, S Dimension T: Hz R,S: Hz Default value 3.000000e+001 Drive types ---- Remarks 11.1.5 Filter - bandwidth (P-AXIS-00080) P-AXIS-00080 Bandwidth of axis specific command value filter TF5200 | Twin CAT 3 CNC Version: 1.172 359 Axis parameters
## Page 360

Axis-specific filter functions Description Definition of reciprocal of bandwidth for band-pass and band-stop filter types. The figure below illustrates the parameter behaviour. Parameter filter[i].guete Data type REAL64 Data range 1 ≤ guete ≤ 10 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 1.0 Drive types ---- Remarks 11.1.6 Filter - signal share (P-AXIS-00164) P-AXIS-00164 Signal share of axis specific command value filter Description The parameter defines the signal share in percent which is processed by the filter. Parameter filter[i].share_percent Data type REAL64 Data range 0 ≤ share_percent ≤ 100 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 1.000000e+002 Drive types ---- Remarks 11.1.7 Filter - activation (P-AXIS-00319) P-AXIS-00319 Activate the axis-specific command value filter (for standard filters) Description This parameter controls the general enabling/disabling of the filter function. Parameter filter[i].enable Data type BOOLEAN Data range 0: Filter is disabled 1: Filter is enabled Axis types T, R, S 360 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 361

Axis-specific filter functions Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks The filter function is only activated for filter order > 0 (P-AXIS-00140 [} 358]). 11.1.8 Filter - time constant (P-AXIS-00357) P-AXIS-00357 Time constant of axis specific command value filter Description - Application for standard filters: The parameter defines the time constants of the PT1, PT2 and time delay filters. - Application with HSC filters: Filter order in µs [alternative to parameter P-AXIS-00140 [} 358] The value time_constant is only used if P-AXIS-00140 [} 358] is not configured or has the value 0. If time_constant < NC cycle time, the filter is not active unless the parameter order P-AXIS-00140 [} 358] has a valid value which is then used in this case. With HSC No Vib, the order is calculated internally but an order > 0 is required, otherwise the filter is not active. Parameter filter[i].time_constant Data type UNS32 Data range - Standard filters: For PT1 / PT2 filters: TAb ≤ P-AXIS-00357 ≤ MAX(UNS32) For time delay filters: 0 ≤ P-AXIS-00357 < 6 * TAb (where TAb is NC cycle time in s) - HSC filters: TAb < P-AXIS-00357 < 200 * TAb (where TAb is NC cycle time in µs) Axis types T, R, S Dimension T: µs R,S: µs Default value 10000 Drive types ---- Remarks TF5200 | Twin CAT 3 CNC Version: 1.172 361 Axis parameters
## Page 362

Axis-specific filter functions 11.2 FIR filters (filter_fir.*) FIR filters (Finite Impulse Response filters) are discrete filters with an impulse response of finite length. The functions and parameters are available as of CNC Build V.3.1.3075.. 11.2.1 FIR filters - activation (P-AXIS-00573) P-AXIS-00573 Enable axis-specific FIR filter Description This parameter controls the general enabling/disabling of the filter function. Parameter filter_fir.enable Data type BOOLEAN Data range 0: Filter is disabled 1: Filter is enabled Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 drive types. ---- Remarks The filter function is only enabled if a valid filter type (P-AXIS-00586 [} 362]) is selected, otherwise the filter is disabled. Alternatively, the filter can also be enabled or disabled with the NC command #FILTER ON/OFF. The parameter is available as of V3.1.3075.00 11.2.2 FIR filters - type (P-AXIS-00586) P-AXIS-00586 Type of axis-specific FIR filter Description The parameter defines the FIR filter type Parameter filter_fir.type Data type UNS32 Data range 0 – No filter 1 – Moving average filter 2 – Gaussian filter 3 – Windowed sinc filter 4 – Time delay filter Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 drive types. ---- Remarks The filter function is only enabled if a valid filter type is selected, otherwise the filter is disabled. The parameter is available as of V3.1.3075.00 11.2.3 FIR filters - order (P-AXIS-00587) P-AXIS-00587 Order of axis-specific FIR filter Description This parameter defines the order of FIR axis filters. 362 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 363

Axis-specific filter functions The filter is off when order = 0. In order to use a configured filter effectively, it is absolutely necessary to specify order > 0. Parameter filter_fir.order Data type UNS32 Data range 0 ≤ order ≤ 200 (*) Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 drive types. ---- Remarks Alternatively, filter effectiveness can be achieved by assigning a valid value in P- AXIS-00591 [} 363] or by programming a filter order in the NC program. (*) The data range of the filter type (P-AXIS-00586) time delay filter is 0 ≤ order ≤ 100 The parameter is available as of V3.1.3075.00 11.2.4 FIR filters - order in time (P-AXIS-00591) P-AXIS-00591 Order of axis-specific FIR filter in time Description Alternatively to P-AXIS-00587 [} 362] , this parameter specifies the order of the FIR filter. If this parameter is smaller than the NC cycle time, the filter is disabled. This parameter is used only if P-AXIS-00587 [} 362] was not configured and no filter order was programmed by the NC program. Parameter filter_fir.order_time Data type UNS32 Data range NC cycle time ≤ order_time ≤ 200 * NC cycle time (*) Axis types T, R, S Dimension T: µs R,S: µs Default value 0 Drive types ---- Remarks (*) The data range of the filter type (P-AXIS-00586) time delay filter is NC cycle time ≤ order_time ≤ 100* NC cycle time The parameter is available as of V3.1.3075.00 11.2.5 FIR filters - share factor (P-AXIS-00590) P-AXIS-00590 FIR filter share factor Description This parameter defines the effectiveness of the FIR filter. When the parameter is assigned: • share = 0 : no filter effect • share = 100 : the filter is 100% effective on axis setpoints (default) Parameter filter_fir.share Data type UNS32 Data range 0 ≤ order ≤ 100 Axis types T, R, S TF5200 | Twin CAT 3 CNC Version: 1.172 363 Axis parameters
## Page 364

Axis-specific filter functions Dimension T: % R,S: % Default value 100 drive types. ---- Remarks The parameter is available as of V3.1.3075.00 11.2.6 FIR filters - limit frequency (P-AXIS-00585) P-AXIS-00585 Cut-off frequency of the FIR filter Description This parameter defines the cut-off frequency of the FIR filter. This parameter is only relevant for FIR filters which consider a cut-off frequency. This is dependent on the filter type of the FIR filter (P-AXIS-00586) [} 362]; the cut-off frequency is only considered with type 3 (windowed sinc filter). Parameter filter_fir.fcut Data type REAL64 Data range 1 ≤ fcut Axis types T, R, S Dimension T: Hz R,S: Hz Default value 30 drive types. ---- Remarks The parameter is available as of V3.1.3075.00 11.2.7 FIR filters - quality (P-AXIS-00593) P-AXIS-00593 FIR filter quality Description This parameter influences the shape of the FIR filter core and therefore setpoint smoothing. The quality then specifies the width of the filter core curve. The higher the quality, the wider the filter core curve and the stronger the smoothing effect of the filter. The width of the actual filter core in the shape of the specified order is not affected by bandwidth. Parameter filter_fir.quality Data type REAL64 Data range 0 < quality <= 1 Axis types T, R Dimension T, R: - S: - Default value 1.0 drive types. ---- Remarks The parameter is available as of Build V3.1.3075.04 and only acts on filter type 2 ( P- AXIS-00586 [} 362] – Gaussian) The parameter is available as of V3.1.3075.04 11.3 Vibration suppression (vib_guard.*) The functions and parameters are available as of CNC Build V.3.1.3075.. 364 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 365

Axis-specific filter functions 11.3.1 Activating the Vibration Guard (P-AXIS-00588) P-AXIS-00588 Activating the Vibration Guard Description This parameter can permanently activate or deactivate the Vibration Guard function at program start. Parameter vib_guard.active Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks Alternatively, the Vibration Guard can also be activated or deactivated by the NC command #VIB GUARD / OFF . The parameter is available as of V3.1.3075.00 11.3.2 Vibration Guard mode (P-AXIS-00571) P-AXIS-00571 Vibration Guard mode Description This parameter defines Modes 1 - 4 of the Vibration Guard function. Modes 1– 3: • Asymmetrical modes (contours may have different forward and backward motions). • The higher the mode (1-3), the less sensitive to deviations from the actual natural frequency • The higher the mode (1-3), the larger the axis error (or contour deviation) Mode 4: • Symmetrical mode (contours are identical in forward and backward motion). Parameter vib_guard.mode Data type UNS32 Data range 1 ≤ mode ≤ 4 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 1 Drive types ---- Remarks See Table of sensitivity to natural frequency: [} 365] The parameter is available as of V3.1.3075.00 Table of standard values for sensitivity Permitted deviations for max. 5% residual max. negative deviation max. positive deviation vibration (at damping=0.1) Mode 1: -3% +3% Mode 2: -13% +19% Mode 3: -20% +33% Mode 4: -10% +13% TF5200 | Twin CAT 3 CNC Version: 1.172 365 Axis parameters
## Page 366

Axis-specific filter functions 11.3.3 Machine natural frequency (P-AXIS-00589) P-AXIS-00589 Machine natural frequency Description This parameter specifies the machine’s natural frequency which the Vibration Guard function is to suppress. Parameter vib_guard.freq Data type REAL64 Data range 1 ≤ freq Axis types T, R, S Dimension T: Hz R,S: Hz Default value 30 Drive types ---- Remarks The parameter is available as of V3.1.3075.00 11.3.4 Damping factor of natural frequency (P-AXIS-00568) P-AXIS-00568 Damping factor of natural frequency Description Besides the natural frequency itself, this parameter can also specify the damping factor of the natural frequency which is defined as follows: Parameter vib_guard.damping Data type REAL64 Data range 0 ≤ damping ≤ 1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0.1 Drive types ---- Remarks The parameter is available as of V3.1.3075.00 366 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 367

Parameters for axis specific transformation (trafo.*) 12 Parameters for axis specific transformation (trafo.*) 12.1 Actual value transformation (trafo.actual_pos.*) This structure defines the parameters for the axis-specific actual value transformation. 12.1.1 Activation (P-AXIS-00380) P-AXIS-00380 Activation of axis specific actual value transformation Description This parameter controls the general activation/deactivation of the transformation. Selection/deselection is possible only during start-up. Parameter trafo.actual_pos.enable Data type BOOLEAN Data range 0: Transformation is disabled (default) 1: Transformation is enabled Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks 12.1.2 Transformation ID (P-AXIS-00381) P-AXIS-00381 Transformation ID of axis specific actual value transformation Description This parameter defines the value of the transformation ID. Parameter trafo.actual_pos.id Data type UNS16 Data range 0: No function (default) 1: Double axes angle-strut length transformation type 1 2: Double axes angle-strut length transformation type 2 3: Single axis angle-strut length transformation type 3 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks 12.1.3 Transformation parameters (P-AXIS-00382) P-AXIS-00382 Transformation parameters of axis specific actual value transformation Description This parameter parameterises the selected transformation of P-AXIS-00381 [} 367] . The significance of the parameters depends on the particular transformation. Parameter trafo.actual_pos.param[i] with i = 0 … 74 (Maximum number of trafo parameters, application-specific) Data type REAL64 Data range Depends on transformation ID TF5200 | Twin CAT 3 CNC Version: 1.172 367 Axis parameters
## Page 368

Parameters for axis specific transformation (trafo.*) Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks 12.1.4 Additional input axes (P-AXIS-00371) P-AXIS-00371 Additional input axes of axis specific actual value transformation Description Some specific transformation types, like transformation ID 1 and 2, not only require the current actual position of the related axis as input variable but also the actual positions of additional axes. This parameter allows the definition of additional input axes by their logical axis numbers. Parameter trafo.actual_pos.input[i].nr Data type UNS16 Data range 0 < nr < MAX(UNS16) Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks 368 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 369

Parameters for axis specific transformation (trafo.*) 12.2 Command value transformation (trafo.command_pos.*) This structure defines the parameters for an axis-specific command value transformation. 12.2.1 Activation (P-AXIS-00368) P-AXIS-00368 Activation of axis specific command value transformation Description This parameter controls the general activation/deactivation of the transformation. Selection/deselection is possible only on start-up. Parameter trafo.command_pos.enable Data type BOOLEAN Data range 0: Transformation is disabled (default) 1: Transformation is enabled Axis types R Dimension R: ---- Default value 0 Drive types ---- Remarks 12.2.2 Transformation ID (P-AXIS-00369) P-AXIS-00369 Transformation ID of axis specific command value transformation Description This parameter defines the value of the transformation ID. At the moment the following transformation functions are available: Parameter trafo.command_pos.id Data type UNS16 Data range 0: No function (default value) 1: e-function [} 373]: Transformation from linear motion to rotation 2: Crank function [} 374]: Transformation from linear motion to rotation 3: Eccenter function [} 376]: Transformation from linear motion to rotation 4: Slider crank kinematic [} 377]: Transformation from rotation to linear motion 5: Angular kinematic [} 379]: Transformation from angular kinematic to linear motion (as of V3.1.3107.41/ V4.3.0) 6: Symmetrical slider crank [} 383]: Transformation from linear motion to rotation (as of V3.1.3080.10 or V3.1.3107.43/V4.5.0] Axis types R Dimension R: ---- Default value 0 Drive types ---- Remarks 12.2.3 Transformation parameters (P-AXIS-00370) P-AXIS-00370 Transformation parameters of axis specific command value transformation Description The transformation parameters are entered in this array corresponding to the selected transformation ID P-AXIS-00369 [} 369] . TF5200 | Twin CAT 3 CNC Version: 1.172 369 Axis parameters
## Page 370

Parameters for axis specific transformation (trafo.*) Parameter trafo.command_pos.param[i] where i = 0 … 74 (Maximum number of transformation parameters, application-specific Data type REAL64 370 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 371

Parameters for axis specific transformation (trafo.*) Data range Meaning (depends on transformation ID) ID 1 [} 373]: e-function param[0] h (*) in 1.0 E-4 mm param[1] k (*) 0 param[2] k (*) 1 param[3] k (*) 2 param[4] φ Normalisation of motor angle (*) in 1.0 E-4° Norm (*see equations of the functions) ID 2 [} 374]: Crank function param[0] Crank length l in 1.0 E-4 mm 1 param[1] Con-rod length l in 1.0 E-4 mm 2 param[2] Eccentricity e param[3] Solution range for motor angle φM 0:.0-180 degrees 1: 180-360 degrees param[4] Moving direction of linear axis 0: positive 1: negative param[10] Zero point offset of linear axis In 1.0 E-4 mm ID 3 [} 376]: Eccenter function param[0] Eccenter radius R in 1.0 E-4 mm param[1] Offset zero position linear axis In 1.0 E-4 mm param[2] Offset zero position rotary axis in 1.0 E-4° param[3] Solution range angle j 0:.-90..+90 degrees 1: 90..270 degrees ID 4 [} 377]: Slider crank kinematic param[0] l Distance 1 hinge points In 1.0 E-4 mm a param[1] l Distance 2 hinge points In 1.0 E-4 mm b param[2] Crank length l in 1.0 E-4 mm h param[3] Offset zero position linear axis In 1.0 E-4 mm param[4] Rotation direction of rotary axis B 0: positive 1: negative ID 5 [} 379]: Angular kinematic param[0] l Length 1 in 1.0 E-4 mm 1 param[1] l Length 2 in 1.0 E-4 mm 2 param[2] Stroke length l in 1.0 E-4 mm h param[3] Lower limit of angle excursion in 1.0 E-4° param[4] Upper limit of angle excursion in 1.0 E-4° param[5] Position offset for linear axis in 1.0 E-4 mm (as of V3.1.3107.46/ V4.7.0) param[6] Angle offset of angle excursion in 1.0 E-4°(as of V3.1.3107.52) TF5200 | Twin CAT 3 CNC Version: 1.172 371 param[7] Angle inversion (as of V3.1.3107.52) Axis parameters 0:.no angle inversion 1: Angle value is inverted. param[8] Inversion of linear position (as of V3.1.3107.52) 0: no inversion 1: Linear position is inverted. ID 6 [} 383]: Symmetrical slider crank param[0] Crank length/con-rod length lin 1.0 E-4 mm param[1] Offset zero position linear axis In 1.0 E-4 mm param[2] Zero point offset of rotary axis 1.0 E-4° param[3] Solution range for motor angle φM 0:.0-180 degrees 1: 180-360 degrees
## Page 372

Parameters for axis specific transformation (trafo.*) Axis types R Dimension R: ---- Default value 0 Drive types ---- Remarks 372 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 373

Parameters for axis specific transformation (trafo.*) 12.2.4 Transformation types ID 1: e function Example: trafo.command_pos.param[0] 10000 (h) trafo.command_pos.param[1] 1.0 (k) 0 trafo.command_pos.param[2] 2.0 (k) 1 trafo.command_pos.param[3] 1.0 (k) 2 trafo.command_pos.param[4] 1800000 (normalisation of motor angle) Fig. 39: Graphic diagram of e-function TF5200 | Twin CAT 3 CNC Version: 1.172 373 Axis parameters
## Page 374

Parameters for axis specific transformation (trafo.*) ID2: Crank Y l1 j 1M l2 j j e 2M 0 X se Fig. 40: Kinematic structure of slider crank Example: trafo.command_pos.param[0] 1000000 (crank length l) 1 trafo.command_pos.param[1] 3000000 (con-rod- length l) 2 trafo.command_pos.param[2] 0 (eccentricity e) trafo.command_pos.param[3] 0 (solution range for motor angle) trafo.command_pos.param[3] 0 (movement direction of linear axis) Fig. 41: Graphic diagram of transfer function In the event of eccentricity e != 0 and specific parameter settings (e.g. (l -l ) < e), there may be limits 2 1 to the motor angle movement range because of jamming in the kinematic structure. In this case, the motor angle movement range of both solutions is smaller than 360 degrees (see figure below). 374 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 375

Parameters for axis specific transformation (trafo.*) Y l1 j R1 l2 e X 0 X X min1 max Y l1 l2 e X 0 j R2 X X min2 max Fig. 42: Extreme positions of slider crank with eccentricity TF5200 | Twin CAT 3 CNC Version: 1.172 375 Axis parameters
## Page 376

Parameters for axis specific transformation (trafo.*) ID3: Eccenter Fig. 43: Kinematic diagram of the eccenter function Fig. 44: Graphic diagram of the eccenter function Example: trafo.command_pos.param[0] 1000000 (eccenter radius R) trafo.command_pos.param[1] 0 (offset zero position linear axis) trafo.command_pos.param[2] 0 (offset zero position rotary axis) trafo.command_pos.param[3] 0 (solution range angle) 376 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 377

Parameters for axis specific transformation (trafo.*) ID4: Crank with linkage by linear axis Z + b l = l - l s lin 0 l B h + + l lin c - l b l a Fig. 45: Kinematic structure of crank and linkage Example: trafo.command_pos.param[0] 1000000 (distance l joint point) a trafo.command_pos.param[1] 1410000 (distance l joint point) b trafo.command_pos.param[2] 1000000 (crank length l) h trafo.command_pos.param[3] 0 (offset zero position) trafo.command_pos.param[4] 0 (movement direction of rotary axis) Fig. 46: Graphic diagram of transfer function If the kinematic (β=0) is in zero position, the transformation delivers the drive position 0 for l. If necessary, s by param[3] an offset to this position can be defined. (Example: Drive position at β=0 is 50mm -> the offset value has to be set on 50mm). Mathematically, the default rotational direction of the B axis is positive. This can be adapted by the parameter trafo.command_pos.param[4], see figure below. TF5200 | Twin CAT 3 CNC Version: 1.172 377 Axis parameters
## Page 378

Parameters for axis specific transformation (trafo.*) Z - b + B - + Fig. 47: Zero offset point of drive position 378 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 379

Parameters for axis specific transformation (trafo.*) ID5: Angular kinematic Available as of CNC Build V3.1.3107.41/V4.3.0. A linear movement results from the angular movement. The parameters specify the lengths l ,l and l . The maximum excursions are defined by the parameters γ 1 2 h max andγ . min Fig. 48: Angular kinematic TF5200 | Twin CAT 3 CNC Version: 1.172 379 Axis parameters
## Page 380

Parameters for axis specific transformation (trafo.*) Example: trafo.command_pos.param[0] 1900000 (length of distance l) 1 trafo.command_pos.param[1] 600000 (length of distance l) 2 trafo.command_pos.param[2] 4428300 (length of distance l) h trafo.command_pos.param[3] -450000 (angle excursion lower limit γ ) min trafo.command_pos.param[4] 450000 (angle excursion upper limit γ ) max trafo.command_pos.param[5] 0/3400000 (position offset) trafo.command_pos.param[6] 0 (angle offset) trafo.command_pos.param[7] 0 (angle inversion) trafo.command_pos.param[8] 0 (linear position inversion) Below is the transfer function with and without position offset Red: without position offset Light blue: with posi8tion offset Fig. 49: Transfer function with and without position offset 380 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 381

Parameters for axis specific transformation (trafo.*) Angle offset and angle inversion In addition to the example above, the angle can be provided with an angle offset by parameters and can also be inverted. trafo.command_pos.param[0] 1900000 (length of distance l) 1 trafo.command_pos.param[1] 600000 (length of distance l) 2 trafo.command_pos.param[2] 4428300 (length of distance l) h trafo.command_pos.param[3] -450000 (angle excursion lower limit γ ) min trafo.command_pos.param[4] 450000 (angle excursion upper limit γ ) max trafo.command_pos.param[5] 3400000 (position offset) trafo.command_pos.param[6] 250000 (angle offset) trafo.command_pos.param[7] 0/1 (angle inversion) trafo.command_pos.param[8] 0 (linear position inversion) The following transfer function is with and without angle inversion. Red: without angle inversion Light blue: with angle inversion Fig. 50: Transfer function with and without angle inversion TF5200 | Twin CAT 3 CNC Version: 1.172 381 Axis parameters
## Page 382

Parameters for axis specific transformation (trafo.*) Linear position inversion Based on the example above, the linear position can be inverted. trafo.command_pos.param[0] 1900000 (length of distance l) 1 trafo.command_pos.param[1] 600000 (length of distance l) 2 trafo.command_pos.param[2] 4428300 (length of distance l) h trafo.command_pos.param[3] -450000 (angle excursion lower limit γ ) min trafo.command_pos.param[4] 450000 (angle excursion upper limit γ ) max trafo.command_pos.param[5] 3400000 (position offset) trafo.command_pos.param[6] 250000 (angle offset) trafo.command_pos.param[7] 0 (angle inversion) trafo.command_pos.param[8] 0/1 (linear position inversion) The following transfer function is with and without linear position inversion. Red: without linear position inversion Light blue: with linear position inversion Fig. 51: Transfer function with and without linear position inversion As a general rule, the following applies: The specified angle of the kinematic has mathematical limits due to the specified input variables. If they are not observed, error ID 70342 is output. 382 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 383

Parameters for axis specific transformation (trafo.*) ID 6: Symmetrical slider crank In addition to identical lengths of crank and con-rod, this structure has an additional mechanical coupling between these elements so that no mechanical jamming can occur in the centre position of the slider (linear position). Symmetrical slider crank solution range 0 to 180 degrees: TF5200 | Twin CAT 3 CNC Version: 1.172 383 Axis parameters
## Page 384

Parameters for axis specific transformation (trafo.*) Symmetrical slider crank solution range 180 to 360 degrees: Example: trafo.command_pos.param[0] 1500000 (con-rod length == crank length) trafo.command_pos.param[1] 0 (linear position offset) trafo.command_pos.param[2] 0 (angle position offset) trafo.command_pos.param[3] 0 (angle solution range) Transfer function φ= f(x) Fig. 52: Transfer function of the symmetrical slider crank 384 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 385

Parameters for axis specific transformation (trafo.*) 12.2.5 Software limit switches and motion ranges The software limit switch (SLS) monitor functions on the input side of the backward transformation (ACS0). The motion range must be limited within this system by using suitable SLS settings, P-AXIS-00177 [} 92], P- CHAN-00178) so that the input values of the axis transformation (P-AXIS-00370 [} 369]) do not leave the validity range. Fig. 53: Input of backward transformation with SLS monitoring trafo.command_pos.param[0] 1000000 trafo.command_pos.param[1] 0 trafo.command_pos.param[2] 0 trafo.command_pos.param[3] 0 trafo.command_pos.param[4] 0 kenngr.swe_neg -850000 kenngr.swe_pos 850000 TF5200 | Twin CAT 3 CNC Version: 1.172 385 Axis parameters
## Page 386

Parameters for path dependent on dynamic weighting (dynamic_weighting.*) 13 Parameters for path dependent on dynamic weighting (dynamic_weighting.*) With certain technologies (e.g. ‘punching’), it is required to weight dynamic limit values (velocity, acceleration, jerk) for rapid traverse movements to reduce machine excitation depending on the relative path distance of the axes involved in the path movement. Dynamic weighting is activated by P-AXIS-00431 [} 386] and is only effective if channel-specific path- dependent weighting in (P-CHAN-00190) is inactive. A programmed weighting with G129 in the NC program overwrites the values of the path-dependent dynamic weighting. 13.1 activation (P-AXIS-00431) P-AXIS-00431 Activation of dynamic weighting Description This parameter enables the automatically path dependent dynamic weighting in the axis. Parameter dynamic_weighting.enable Data type BOOLEAN Data range 0: Weighting in axis is not active (default) 1: Weighting in axis is active Axis types T, R Dimension T: ---- R: ---- Default value 0 Drive types ---- Remarks 386 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 387

Parameters for path dependent on dynamic weighting (dynamic_weighting.*) 13.2 Table of dynamic weightings (dynamic_weighting.param[i].*) This structure consists of the elements for the path limit and the assigned weighting factors for the velocity, acceleration and ramp time for rapid feed. Structure name Index param[i] i = 0 … 7 (Maximum number of table entries: 8, application-specific) The following further conditions must be considered when defining table entries: • the motion path limit in the table increases as index values become larger. • The weighting factor is limited to a minimum value of 1%. For ramp time, the minimum ramp time tr_min (P-AXIS-00201 [} 185]) must also be considered as the lower limit value. • Weighting is possible upwards to the maximum value of vb_max (P-AXIS-00212 [} 183]) and a_max (P- AXIS-00008 [} 184]). With ramp time tr_grenz (P-AXIS-00200 [} 180]) the weighting has no upper limit. 13.2.1 Path distance limit (P-AXIS-00432) P-AXIS-00432 Path distance limit (dynamic weighting) Description This parameter defines the upper distance limit. The weighting factors of the current entries under index < i are effective up to this limit. Parameter dynamic_weighting.param[i].path_limit Data type UNS32 Data range 0 < path_limit < MAX(UNS32) Axis types T, R Dimension T: 0.1μm R: 0.0001° Default value 0 Drive types ---- Remarks i = 0 i ≥ 1 Path limit lower 0 path_limit[i-1] upper path_limit[i] path_limit[i] 13.2.2 Weighting factor for rapid feed velocity (P-AXIS-00433) P-AXIS-00433 Weighting factor for rapid feed velocity (dynamic weighting) Description This parameter defines the weighting factor for rapid traverse velocity in the i element. Parameter dynamic_weighting.param[i].velocity_fact Data type UNS32 Data range 10 < velocity_fact < MAX(UNS32) Axis types T, R Dimension T: 0.1% R: 0.1% Default value 0 Drive types ---- Remarks 13.2.3 Weighting factor for rapid feed acceleration (P-AXIS-00434) P-AXIS-00434 Weighting factor for rapid feed acceleration (dynamic weighting) TF5200 | Twin CAT 3 CNC Version: 1.172 387 Axis parameters
## Page 388

Parameters for path dependent on dynamic weighting (dynamic_weighting.*) Description This parameter defines the weighting factor for rapid traverse acceleration in the i element Parameter dynamic_weighting.param[i].acceleration_fact Data type UNS32 Data range 10 < acceleration_fact < MAX(UNS32) Axis types T, R Dimension T: 0.1% R: 0.1% Default value 0 Drive types ---- Remarks 13.2.4 Weighting factor for rapid feed ramp time (P-AXIS-00435) P-AXIS-00435 Weighting factor for rapid feed ramp time (dynamic weighting) Description This parameter defines the weighting factor for rapid traverse acceleration in the i element Parameter dynamic_weighting.param[i].ramp_time_fact Data type UNS32 Data range 10 < ramp_time_fact < MAX(UNS32) Axis types T, R Dimension T: 0.1% R: 0.1% Default value 0 Drive types ---- Remarks 388 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 389

Parameters for path dependent on dynamic weighting (dynamic_weighting.*) 13.2.5 Example of a table Basis is the following table of dynamic weighting values with 6 rows: Index Path limit value Weighting factor Weighting factor Weighting factor path_limit [0.1µm] velocity_fact [0.1%] acceleration_fact ramp_time_fact [0.1%] [0.1%] (range limits) 0 10000 100 1000 1000 (0-10000) 1 20000 200 900 1500 (10000-20000) 2 40000 300 800 2000 (20000-40000) 3 80000 400 700 3000 (40000-80000) 4 160000 500 600 4000 (80000-160000) 5 200000000 1000 500 5000 (160000-200000000) Mapping of the weighting table on the structure of the axis parameters: # Axis dependent dynamic weighting # ================================ dynamic_weighting.enable 1 0:not active 1:active # dynamic_weighting.param[0].path_limit 10000 [0.1µm] dynamic_weighting.param[0].velocity_fact 100 [0.1%] dynamic_weighting.param[0].acceleration_fact 1000 [0.1%] dynamic_weighting.param[0].ramp_time_fact 1000 [0.1%] dynamic_weighting.param[1].path_limit 20000 [0.1µm] dynamic_weighting.param[1].velocity_fact 200 [0.1%] dynamic_weighting.param[1].acceleration_fact 900 [0.1%] dynamic_weighting.param[1].ramp_time_fact 1500 [0.1%] dynamic_weighting.param[2].path_limit 40000 [0.1µm] dynamic_weighting.param[2].velocity_fact 300 [0.1%] dynamic_weighting.param[2].acceleration_fact 800 [0.1%] dynamic_weighting.param[2].ramp_time_fact 2000 [0.1%] dynamic_weighting.param[3].path_limit 80000 [0.1µm] dynamic_weighting.param[3].velocity_fact 400 [0.1%] dynamic_weighting.param[3].acceleration_fact 700 [0.1%] dynamic_weighting.param[3].ramp_time_fact 3000 [0.1%] dynamic_weighting.param[4].path_limit 160000 [0.1µm] dynamic_weighting.param[4].velocity_fact 500 [0.1%] dynamic_weighting.param[4].acceleration_fact 600 [0.1%] dynamic_weighting.param[4].ramp_time_fact 4000 [0.1%] dynamic_weighting.param[5].path_limit 200000000 [0.1µm] dynamic_weighting.param[5].velocity_fact 1000 [0.1%] dynamic_weighting.param[5].acceleration_fact 500 [0.1%] dynamic_weighting.param[5].ramp_time_fact 5000 [0.1%] TF5200 | Twin CAT 3 CNC Version: 1.172 389 Axis parameters
## Page 390

Parameters used by Twincat system manager (twincat.*) 14 Parameters used by Twincat system manager (twincat.*) This structure is used for operation with Twin CAT system via ADS communication. Via ADS communication access to axis specific objects is possible. No setting by operator necessary, all subelements and structures are used or managed by Twin CAT. 390 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 391

User-defined data (customer.*) 15 User-defined data (customer.*) 15.1 Free user defined values (P-AXIS-00510) P-AXIS-00510 Free user-defined values Description The user can enter any values in this array. The contents of this array are not used within the control but are transferred to the HLI element gp Ax[axis_idx]^.head.customer_val_r[ ] (see [HLI]). This allows the user to transfer configuration data to the PLC or HMI. Parameter customer.val[i] where i = 0 (application-specific) Data type UNS32 Data range 0 … MAX(UNS32) Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks TF5200 | Twin CAT 3 CNC Version: 1.172 391 Axis parameters
## Page 392

Filter parameters for error handling on axis (error_filter[i].*) 16 Filter parameters for error handling on axis (error_filter[i].*) Users/machine manufacturers parameterise the required actions or filtering operations for error messages for each platform/channel/axis. For more information, see [FCT-M7// Error management] Structure name Index error_filter[i] 0 ≤ i ≤ 3 (maximum number of error filters: 4) 16.1 Cause of error (P-AXIS-00627) P-AXIS-00627 Cause of error (filtering of axis error messages) Description The individual error codes can be listed as numbers or texts, whereby the entire row must comply with the following syntax: ( number | text ) {, ( number | text ) } where: number:= CNC error number text:="error-specific text" Example: error_filter[0].reason "D012:", 123000, 123001 If an error is logged, the program looks in the defined platform/channel/axis filters whether a user-specific filter rule is defined for it. Parameter error_filter[i].reason where i = 0 ... 3 (maximum number of filters, application-specific) Data type STRING Data range Maximum of 96 characters Axis types T, R, S Dimension T: ---- R,S: ---- Default value * Remarks * Note: The default value of variables is a blank string. 16.2 Error action (P-AXIS-00628) P-AXIS-00628 Error action (filtering of axis error messages) Description Action that is to be performed if an error occurs. Parameter error_filter[i].action where i = 0 ... 3 (maximum number of filters, application-specific) Data type STRING Data range ACTION = NONE | DRIVE_STATE_REQ | PRE_RUN_STATE_REQ | RUN_STATE_REQ NONE: No action DRIVE_STATE_REQ: Read out drive status PRE_RUN_STATE_REQ: Error at start-up of the controller bus in PRE-run state RUN_STATE_REQ: Error at start-up of the controller bus in Run state Axis types T, R, S Dimension T: ---- R,S: ---- 392 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 393

Filter parameters for error handling on axis (error_filter[i].*) Default value * Remarks For SERCOS drive profiles: DRIVE_STATE_REQ S-0-0095 diagnostic PRE_RUN_STATE_REQ S-0-0021: list of unknown operation data in CP2 -> CP3, command 127 RUN_STATE_REQ S-0-0022: list of unknown operation data in CP3 -> CP4, command 128 For Profi Drive profiles: <all actions> Parameter 945 For CANopen profiles <all actions> Parameter ID603F * Note: The default value of variables is a blank string. 16.3 Conditional activation (P-AXIS-00629) P-AXIS-00629 Conditional activation (filtering of axis error messages) Description This filter rule is activated when the applicable bit is set via the user interface or the PLC (HLI:: Activating error filter rules - Axis) control unit. Parameter error_filter[i].conditional_activation where i = 0 ... 3 (maximum Number of filters, application-specific) Data type UNS32 Data range 32-bit Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Remarks Parameterisation example: error_filter[0].conditional_activation 0x2 An activation bit = 0 means that the action is always executed. 16.4 Conditional action (P-AXIS-00630) P-AXIS-00630 Conditional action (filtering of axis error messages) Description Action that is to be executed if an error occurs and if the condition applies. Parameter error_filter[i].conditional_action where i = 0 ... 3 (maximum number of filters, application-specific) Data type STRING Data range ACTION = NONE | ( [ HIDE ] [ FORCE ] ) FORCE = F_WARNING | F_SYNTAX | F_ERROR | F_SEVERE | F_FATAL HIDE = [ HIDE ] [ HIDE_LOG ] [ HIDE_PRINT ] [ HIDE_REPORT ] NONE: No action HIDE: Suppress every error output HIDE_LOG: Error output to error log file is suppressed HIDE_DISPLAY: Error output is suppressed HIDE_REPORT: Application-specific error output is suppressed F_WARNING: Error is output as a WARNING (remedy class = 0) F_SYNTAX: Error is output as a syntax error (remedy class = 2) TF5200 | Twin CAT 3 CNC Version: 1.172 393 Axis parameters
## Page 394

Filter parameters for error handling on axis (error_filter[i].*) F_ERROR: Error due to NC program or other operator action (error remedy class = 5) F_SEVERE: Severe error, requires a warm start (remedy class = 6) F_FATAL: Severe error, requires a complete cold start (remedy class = 7) Axis types T, R, S Dimension T: ---- R,S: ---- Default value * Remarks * Note: The default value of variables is a blank string. 16.5 Conditional filter activation (P-AXIS-00631) P-AXIS-00631 Conditional filter activation (filtering of axis error messages) Description The individual error codes can be listed as numbers or texts, whereby the entire row must comply with the following syntax: ( number | text ) {, ( number | text ) } where: number:= CNC error number text := " error-specific text " Parameter error_filter[i].conditional_param where i = 0 ... 3 (maximum number of filters, application-specific) Data type STRING Data range Maximum of 96 characters Axis types T, R, S Dimension T: ---- R,S: ---- Default value * Remarks Parameterisation example: error_filter[0].conditional_param "D012:", 123, 1001 Individual error texts are currently only checked when the SERCOS drive error S95 is read out. Error numbers are checked only in the case of SERCOS drive errors (S21 and S22) and in the case of Profi Drive drive errors (parameter 945). * Note: The default value of variables is a blank string. 16.6 Output of additional error information (P-AXIS-00632) P-AXIS-00632 Output of additional error information (filtering of axis error messages) Description This text is forwarded transparently via the CNC_ERROR_INFO data structure if the filter condition applies, i.e. users have a possibility of conditionally also including additional error information in the output. Parameter error_filter[i].conditional_output where i = 0 ... 3 (maximum number of filters, application-specific) Data type STRING Data range Maximum of 32 characters Axis types T, R, S Dimension T: ---- R,S: ---- Default value * 394 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 395

Filter parameters for error handling on axis (error_filter[i].*) Remarks * Note: The default value of variables is a blank string. TF5200 | Twin CAT 3 CNC Version: 1.172 395 Axis parameters
## Page 396

Parameter of the external compensation 17 Parameter of the external compensation 17.1 Maximum position change of the compensation - warning limit (P-AXIS-00743) P-AXIS-00743 Maximum position change of the compensation - warning limit Description This parameter defines the warning limit for maximum position change of the external compensation. If the warning limit is exceeded, the warning is output with ID 70583. If the compensation value remains above the warning limit, no further warnings are output. A repeat warning is only output when the warning limit is again exceeded. Parameter lr_param.ext_comp.warn_limit Data type UNS32 Data range 0 ≤ P-AXIS-00743 <= MAX_UNS32 Dimension T: 0.1 µm R: 0.0001° Default value 0 Remarks Parameter available as of CNC Build V3.1.3074.0 and higher 17.2 Maximum position change of the compensation - error limit (P-AXIS-00744) P-AXIS-00744 Maximum position change of the compensation - error limit Description This parameter defines the error limit for maximum position change of the external compensation. If the maximum position change is exceeded, the error ID 70584 is output and the CNC is stopped. Parameter lr_param.ext_comp.err_limit Data type UNS32 Data range 0 ≤ P-AXIS-00744 <= MAX_UNS32 Axis types T, R Dimension T: 0.1 µm R: 0.0001° Default value 0 Remarks Parameter available as of CNC Build V3.1.3074.0 and higher 17.3 Maximum acceleration of the axes by compensation offset (P-AXIS-00745) P-AXIS-00745 Maximum acceleration of the axes by a compensation offset Description This parameter defines the limit value for the maximum permitted acceleration generated by the offsets of the external compensation. Parameter lr_param.ext_comp.max_a Data type UNS32 Data range 0 ≤ P-AXIS-00745 <= MAX_UNS32 Axis types T, R Dimension T: mm/s² R: °/s² Default value P-AXIS-00008 Remarks Parameter available as of CNC Build V3.1.3074.0 and higher 396 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 397

Settings for the conveyor tracking functionality (conv_sync.*) 18 Settings for the conveyor tracking functionality (conv_sync.*) NOTICE These parameters are available in Twin CAT as of CNC Build V4.20.0 For further details on the “Conveyor Tracking” functionality, see [FCT-M4]. 18.1 Definition of the conveyor axis (P-AXIS-00708) P-AXIS-00708 Definition of the conveyor axis Description This parameter defines the axis representing the linear conveyor. Parameter conv_sync.is_master Data type BOOLEAN Data range 0: Axis is not a conveyor axis 1: Axis is the conveyor axis Axis types T, R, S Dimension T: ---- R, S: ---- Default value 0 Drive types ---- Remarks Available as of CNC Build V4.20.0 18.2 Actual position value filter for the conveyor axis (P- AXIS-00620) P-AXIS-00620 Enable position actual value filter for the conveyor axis Description This parameter enables and disables the filter for the position actual values of the conveyor axis. Parameter conv_sync.enable_filter Data type BOOLEAN Data range 0: Position actual value filter off 1: Position actual value filter on Axis types T, R, S Dimension T: ---- R, S: ---- Default value 0 Drive types ---- Remarks Available as of CNC Build V4.20.0 18.3 Order of the actual speed value filter of the conveyor axis (P-AXIS-00623) P-AXIS-00623 Order of the velocity actual value filter of the conveyor axis Description This parameter defines the order (number of filtered values) of the velocity actual value filter of the conveyor axis. The filter is off in the case of order 0. An FIR low- pass filter is used automatically. Parameter conv_sync.order_v_filter Data type UNS32 Data range 0 ≤ order_v_filter ≤ 1000 TF5200 | Twin CAT 3 CNC Version: 1.172 397 Axis parameters
## Page 398

Settings for the conveyor tracking functionality (conv_sync.*) Axis types T, R, S Dimension T: ---- R, S: ---- Default value 20 Drive types ---- Remarks Available as of CNC Build V4.20.0 18.4 Order of the downstream velocity actual value filter in the case of feedhold on the conveyor axis (P- AXIS-00624) P-AXIS-00624 Order of the downstream velocity actual value filter in the case of feedhold on the conveyor axis Description This parameter defines the order (number of filtered values) of the downstream velocity actual value filter of a feedhold is defined on the conveyor axis. The filter is off in the case of order 0. An average value filter is used automatically. Parameter conv_sync.order_post_v_filter Data type UNS32 Data range 0 ≤ order_post_v_filter ≤ 1000 Axis types T, R, S Dimension T: ---- R, S: ---- Default value 6 Drive types ---- Remarks Available as of CNC Build V4.20.0 18.5 Order of the actual speed filter in the case of feedhold on the conveyor axis (P-AXIS-00625) P-AXIS-00625 Order of the velocity actual value filter in the case of feedhold on the conveyor axis Description This parameter defines the order (number of filtered values) of the velocity actual value filter if a feedhold is defined on the conveyor axis. The filter is off in the case of order 0. An FIR low-pass filter is used automatically. Parameter conv_sync.order_v_filter_dyn Data type UNS32 Data range 0 ≤ order_v_filter_dyn ≤ 1000 Axis types T, R, S Dimension T: ---- R, S: ---- Default value 10 Drive types ---- Remarks Available as of CNC Build V4.20.0 18.6 Delay time between the latch moment of the actual values and generating the command value P- AXIS-00626) P-AXIS-00626 Delay time between the latch moment of the actual values and generating the command value 398 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 399

Settings for the conveyor tracking functionality (conv_sync.*) Description This parameter defines the delay time between the read-in actual value of the conveyor axis and the output command value of the machine axis. This delay time is used for feedforward control of the conveyor axis velocity. Parameter conv_sync.delay_time Data type UNS32 Data range 0 ≤ delay_time ≤ MAX(UNS32) Axis types T, R, S Dimension T: [µs] R, S: [µs] Default value 0 Drive types ---- Remarks Available as of CNC Build V4.20.0 Method to monitor the workspace with conveyor tracking (P-AXIS-00555) P-AXIS-00555 Select method to monitor the workspace when using the conveyor tracking functionality. Description This parameter influences the monitoring of the workspace when workpieces are machined on a linear conveyor. With machines that have the conveyor tracking functionality, the tool should remain as close as possible to the end position defined in P-CHAN-00374 in order to utilise the workspace to the full extent. In the event of a movement in the opposite conveying direction, the controller brakes the tool accordingly to prevent the position from being exceeded. When contour elements are fed through in the opposite conveying direction at a higher feed rate than the conveyor belt velocity, a check must be made whether the workspace is exited in the opposite conveyor belt direction. This requires a more complex check of the workspace and can be activated by this parameter. Parameter kenngr.conv_sync_optim Data type BOOLEAN Data range 0: Simplified method with low computing time requirement. It is only suitable when the conveyor velocity is significantly higher than the programmed feed rate. 1: The programmed contour is checked for collision. In this method, the tool travels to the required end position if possible. Axis types T Dimension T: ---- Default value 0 Drive types ---- Remarks Available as of CNC Build V4.20.0 TF5200 | Twin CAT 3 CNC Version: 1.172 399 Axis parameters
## Page 400

General examples 19 General examples 19.1 Settings of position scaling Example 1 Linear axis with a rotary encoder fitted to the motor with 2^20 increments per motor revolution (indirect measuring system), a gear with a gear ratio of 2:1 (input/output) and a ball screw spindle with a spindle pitch of 20 mm. Fig. 54: Position scaling with rotary encoder P-AXIS-00092 1048576 ( incr_per_rev 2 ^ 20 ( Increments per motor revolution P-AXIS-00362 200000 ( feed_const_num 20 mm ( = 200000 * 0.1 µm P-AXIS-00363 1 ( feed_const_denom 1 revolution P-AXIS-00511 2 ( gear_fact_num gear ( Input revolutions P-AXIS-00512 1 ( gear_fact_denom gear ( Output revolutions 400 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 401

General examples Example 2 Linear axis with a linear encoder fitted to the spindle nut with a resolution of 1 µm (direct measuring system), a gear with a gear ratio of 2:1 (input/output) and a ball screw spindle with a spindle pitch of 20 mm. Fig. 55: Position scaling with linear encoder P-AXIS-00092 1000 ( incr_per_rev ( 1000 increments P-AXIS-00362 10000 ( feed_const_num 20 mm ( = 10000 * 0.1 µm P-AXIS-00363 1 ( feed_const_denom 1 revolution P-AXIS-00511 2 ( gear_fact_num gear ( Input revolutions P-AXIS-00512 1 ( gear_fact_denom gear ( Output revolutions TF5200 | Twin CAT 3 CNC Version: 1.172 401 Axis parameters
## Page 402

General examples Example 3 Spindle with an encoder fitted to the motor with 2^24 increments per revolution and a gear with a gear ratio of 1:3 (input/output). Fig. 56: Position scaling with fitted encoder P-AXIS-00092 16777216 ( incr_per_rev ( 2^24 increments P-AXIS-00362 3600000 ( feed_const_num 1 revolution ( The result at the gear output is (360 ° = 360 * 10000 * 0.1 µ° P-AXIS-00363 1 ( feed_const_denom 1 revolution P-AXIS-00511 1 ( gear_fact_num gear ( Input revolutions P-AXIS-00512 3 ( gear_fact_denom gear ( Output revolutions 402 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 403

General examples Example 4: Gear ratios with numerical values with several decimal points. Assuming: • A motor delivers 131072 increments per revolution. • A spindle with a pitch of 1.7/8 inch and a gear with a ratio of 7:1 are fitted. • Notice that, after ‘expansion’, the product is less than 2^31 - 1. A factor of 1000000 would therefore be too large. Covered path per motor revolution in 0.1 um: 1.7/8 *25.4 /7 * 10000 = 7710.714285714285714 Expand the above fraction by 10 to remove the decimal point. (17 * 254000)/(80 * 7) The entire fraction feed_const_num/ feed_const_denom is thus Shortened by 10: P-AXIS-00092 131072 ( incr_per_rev P-AXIS-00362 7340032 ( feed_const_num 20 mm ( = 10000 * 0.1 µm P-AXIS-00363 431800 ( feed_const_denom 1 revolution P-AXIS-00511 7 ( gear_fact_num gear ( Input revolutions P-AXIS-00512 1 ( gear_fact_denom gear ( Output revolutions TF5200 | Twin CAT 3 CNC Version: 1.172 403 Axis parameters
## Page 404

Appendix 20 Appendix 20.1 Legacy parameters The parameters below were transferred to other parameters due to further developments or renaming. The previous parameters may still be used, but they should no longer be used to generate new configurations. 20.1.1 Activation of (additional) interface for loading application- specific command values (P-AXIS-00091) P-AXIS-00091 Activation of (additional) interface for loading application-specific command values Description If it should be possible to load additional position or velocity command values on the drive via the PLC, this parameter has to be TRUE. For more information see [HLI// Section External commanding of an axis]. Parameter kenngr.in_add_interface Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks New parameter in P-AXIS-00732 [} 201] 20.1.2 Activation of (additional) interface for loading of command and actual values (P-AXIS-00141) P-AXIS-00141 Activation of (additional) interface for loading of command and actual values Description Because of the possibility of an interpolator synchronous PLC task this parameter is not used. Therefore the value has to be FALSE. Parameter kenngr.out_add_interface Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks 20.1.3 Time constant of the PT2-Filter for the additive command value interface (P-AXIS-00438) P-AXIS-00438 Time constant of the PT2-Filter for the additive command value interface Description For the additive command value interface (see P-AXIS-00091 [} 404], [HLI//Section External commanding of an axis]) in the position controller, a PT2 filter can be activated to smooth the command values. This may be necessary e.g. if the PLC does not run in the interpolation cycle time of the CNC. The time constant of the PT2 filter is given in the parameter in microseconds. The filter is inactive, if the time constant is set to 0 (default setting). 404 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 405

Appendix Parameter kenngr.in_add_interface_filter_time Data type UNS32 Data range 0 < in_add_interface_filter_time < MAX(UNS32) Axis types T, R, S Dimension T: µs R,S: µs Default value 0 * Drive types ---- Remarks Due to the filter, the axis stop can be delayed a little bit, if the additive command value interface is deactivated (enable_w = FALSE). The axis stop can be checked in the movement flag p AC[axis_idx]^.addr^. State LR_Data. X_Is Moved of the axis (see [HLI//Status information of an axis]). The time constant of the PT2 filter may only be actualized via parameter update if the axis is in standstill. *(PT2 filter not active) For new parameter see P-AXIS-00742 [} 205] 20.1.4 Handling of the loaded position command values as offset (P- AXIS-00322) P-AXIS-00322 Handling the loaded position command values as offset Description If the external position command values commanded over the additional interface (P-AXIS-00091 [} 404]) are to be handled as a compensation value (offset, permanently active), assign this parameter with TRUE. If the parameter is FALSE, the additional correction values are moved again at each internal channel synchronization (Program start, axes exchange, reset, requesting of command values etc.). Parameter kenngr.in_add_interface_pos_as_offset Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks For new parameter see P-AXIS-00733 [} 202] 20.1.5 Reinitialisation of additional position interface on enable (P- AXIS-00499) P-AXIS-00499 Reinitialisation of additional position interface after enable Description Additional position command values can be applied to an axis by the PLC via the HLI (see [HLI:]) over the additional position controller interface. These additional values are passed as absolute values via the HLI and are output to the axis if the interface is enabled. When the value in that interface is changed while it is disabled, that change becomes effectivve the next time the interface is enabled, which can cause unexpected axis movements. This parameter can set that changes in the additional position interface while the interface is disabled do not cause an axis movement on reactivation, but only changes while the interface is enabled. Parameter kenngr.in_add_interface_init_on_enable Data type BOOLEAN Data range 0/1 TF5200 | Twin CAT 3 CNC Version: 1.172 405 Axis parameters
## Page 406

Appendix Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks For new parameter see P-AXIS-00734 [} 202] 406 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 407

Appendix 20.1.6 Use default parameters for the drive type (P-AXIS-00746) P-AXIS-00746 Use of default parameters for the drive type Description By default the drive objects for moving to fixed stop are preconfigured for each drive type when the controller starts and this overwrites any assignment made in the default axis parameter list. All parameters required to change the drive objects are affected by pre- initialisation, i.e. the parameters assigned in the structure antr.fixed_stop.drive_ident[i].*. However, it a parameterisation is used from the default list, this parameter can be set to the value 0. In this case, no default initialisation of the drive object takes place. Parameter antr.fixed_stop.drive_ident[i].default Data type BOOLEAN Data range 0 / 1 Axis types T, R Dimension T: - R: - Default value 1 Drive types SERCOS, CANopen Remarks This parameter is replaced by P-AXIS-00821 [} 329](as of Build V3.1.3080.11). 20.1.7 Torque limit value (P-AXIS-00342) P-AXIS-00342 Torque limit value during homing to a fixed stop Description This parameter specifies the percentage torque limit value of the homing travel during the search for the fixed stop. Parameter getriebe[i].homing.torq_move_torque_limit Data type UNS16 Data range 0 ≤ torq_move_torque_limit ≤ 1000 Axis types T, R, S Dimension T: 0.1% R,S: 0.1% Default value 0 Drive types DSE (KUKA) Remarks 20.1.8 Reducing the torque limit for detection (P-AXIS-00343) P-AXIS-00343 Reducing the torque limit for detection during homing to a fixed stop Description This parameter defines the percentage reduction in torque limit with reference to P- AXIS-00342 [} 407] for detection of the stationary axis at the fixed stop. Parameter getriebe[i].homing.torq_detect_torque_limit Data type UNS16 Data range 0 ≤ torq_detect_torque_limit ≤ 1000 Axis types T, R, S Dimension T: 0.1% R,S: 0.1% Default value 0 Drive types DSE (KUKA) Remarks TF5200 | Twin CAT 3 CNC Version: 1.172 407 Axis parameters
## Page 408

Support and Service 21 Support and Service Beckhoff and their partners around the world offer comprehensive support and service, making available fast and competent assistance with all questions related to Beckhoff products and system solutions. Download finder Our download finder contains all the files that we offer you for downloading. You will find application reports, technical documentation, technical drawings, configuration files and much more. The downloads are available in various formats. Beckhoff's branch offices and representatives Please contact your Beckhoff branch office or representative for local support and service on Beckhoff products! The addresses of Beckhoff's branch offices and representatives round the world can be found on our internet page: www.beckhoff.com You will also find further documentation for Beckhoff components there. Beckhoff Support Support offers you comprehensive technical assistance, helping you not only with the application of individual Beckhoff products, but also with other, wide-ranging services: • support • design, programming and commissioning of complex automation systems • and extensive training program for Beckhoff system components Hotline: +49 5246 963-157 e-mail: support@beckhoff.com Beckhoff Service The Beckhoff Service Center supports you in all matters of after-sales service: • on-site service • repair service • spare parts service • hotline service Hotline: +49 5246 963-460 e-mail: service@beckhoff.com Beckhoff Headquarters Beckhoff Automation Gmb H & Co. KG Huelshorstweg 20 33415 Verl Germany Phone: +49 5246 963-0 e-mail: info@beckhoff.com web: www.beckhoff.com 408 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 409

Index Index P P-AXIS-00076 346 P-AXIS-00077 345 P-AXIS-00001 177 P-AXIS-00078 170 P-AXIS-00002 178 P-AXIS-00079 127 P-AXIS-00003 184 P-AXIS-00080 359 P-AXIS-00004 179 P-AXIS-00081 180 P-AXIS-00005 174 P-AXIS-00082 347 P-AXIS-00006 175 P-AXIS-00083 347 P-AXIS-00007 194 P-AXIS-00084 70 P-AXIS-00008 184 P-AXIS-00085 147 P-AXIS-00009 350 P-AXIS-00086 95 P-AXIS-00010 194 P-AXIS-00087 294 P-AXIS-00011 172 P-AXIS-00088 291 P-AXIS-00012 173 P-AXIS-00089 294 P-AXIS-00013 185 P-AXIS-00090 291 P-AXIS-00014 219 P-AXIS-00091 404 P-AXIS-00015 56 P-AXIS-00092 261 P-AXIS-00016 50 P-AXIS-00093 147 P-AXIS-00018 56 P-AXIS-00094 348 P-AXIS-00020 54 P-AXIS-00095 347 P-AXIS-00021 206 P-AXIS-00096 284 P-AXIS-00023 201 P-AXIS-00097 148 P-AXIS-00024 176 P-AXIS-00098 116 P-AXIS-00025 344 P-AXIS-00099 199 P-AXIS-00026 194 P-AXIS-00101 52 P-AXIS-00027 195 P-AXIS-00103 205 P-AXIS-00028 195 P-AXIS-00105 148 P-AXIS-00030 149 P-AXIS-00106 105 P-AXIS-00031 62 P-AXIS-00108 140 P-AXIS-00038 250 P-AXIS-00109 142 P-AXIS-00040 53 P-AXIS-00110 50 P-AXIS-00043 123 P-AXIS-00112 353 P-AXIS-00044 123 P-AXIS-00113 102 P-AXIS-00045 123 P-AXIS-00114 96 P-AXIS-00046 339 P-AXIS-00115 103 P-AXIS-00047 221 P-AXIS-00116 102 P-AXIS-00048 250 P-AXIS-00117 102 P-AXIS-00049 249 P-AXIS-00118 95 P-AXIS-00050 283 P-AXIS-00120 60 P-AXIS-00051 283 P-AXIS-00122 263 P-AXIS-00052 127 P-AXIS-00123 263 P-AXIS-00053 180 P-AXIS-00124 60 P-AXIS-00054 170 P-AXIS-00125 59 P-AXIS-00056 125 P-AXIS-00126 59 P-AXIS-00057 247 P-AXIS-00127 59 P-AXIS-00058 68 P-AXIS-00128 217 P-AXIS-00059 68 P-AXIS-00129 217 P-AXIS-00060 104 P-AXIS-00130 193 P-AXIS-00061 284 P-AXIS-00131 294 P-AXIS-00062 283 P-AXIS-00132 291 P-AXIS-00064 71 P-AXIS-00135 170 P-AXIS-00065 296 P-AXIS-00136 248 P-AXIS-00067 359 P-AXIS-00137 340 P-AXIS-00069 344 P-AXIS-00138 340 P-AXIS-00070 117 P-AXIS-00139 339 P-AXIS-00071 118 P-AXIS-00140 358 P-AXIS-00072 117 P-AXIS-00141 404 P-AXIS-00073 118 P-AXIS-00145 353 P-AXIS-00074 121 P-AXIS-00146 356 P-AXIS-00075 118 P-AXIS-00147 356 TF5200 | Twin CAT 3 CNC Version: 1.172 409 Axis parameters
## Page 410

Index P-AXIS-00148 356 P-AXIS-00230 247 P-AXIS-00151 213 P-AXIS-00231 247 P-AXIS-00152 69 P-AXIS-00232 346 P-AXIS-00153 358 P-AXIS-00233 218 P-AXIS-00154 188 P-AXIS-00234 218 P-AXIS-00155 146 P-AXIS-00236 199 P-AXIS-00156 69 P-AXIS-00237 220 P-AXIS-00157 69 P-AXIS-00238 282 P-AXIS-00158 68 P-AXIS-00239 282 P-AXIS-00159 63 P-AXIS-00240 196 P-AXIS-00160 286 P-AXIS-00241 196 P-AXIS-00161 284 P-AXIS-00242 197 P-AXIS-00162 297 P-AXIS-00243 206 P-AXIS-00164 360 P-AXIS-00244 223 P-AXIS-00165 260 P-AXIS-00245 224 P-AXIS-00166 212 P-AXIS-00246 224 P-AXIS-00167 212 P-AXIS-00247 224 P-AXIS-00168 211 P-AXIS-00248 225 P-AXIS-00169 211 P-AXIS-00249 119 P-AXIS-00170 213 P-AXIS-00250 129 P-AXIS-00172 210 P-AXIS-00251 129 P-AXIS-00174 221 P-AXIS-00252 129 P-AXIS-00175 221 P-AXIS-00253 119 P-AXIS-00176 214 P-AXIS-00254 119 P-AXIS-00177 92 P-AXIS-00255 257 P-AXIS-00178 91 P-AXIS-00256 257 P-AXIS-00179 91 P-AXIS-00257 103 P-AXIS-00189 215 P-AXIS-00258 125 P-AXIS-00190 261 P-AXIS-00259 350 P-AXIS-00191 266 P-AXIS-00260 297 P-AXIS-00194 284 P-AXIS-00261 122 P-AXIS-00195 178 P-AXIS-00262 123 P-AXIS-00196 178 P-AXIS-00263 124 P-AXIS-00197 179 P-AXIS-00264 286 P-AXIS-00198 179 P-AXIS-00265 64 P-AXIS-00199 185 P-AXIS-00266 64 P-AXIS-00200 180 P-AXIS-00267 124 P-AXIS-00201 185 P-AXIS-00268 71 P-AXIS-00202 193 P-AXIS-00269 104 P-AXIS-00204 359 P-AXIS-00270 181 P-AXIS-00205 264 P-AXIS-00271 206 P-AXIS-00206 264 P-AXIS-00272 207 P-AXIS-00207 264 P-AXIS-00273 207 P-AXIS-00208 125 P-AXIS-00274 208 P-AXIS-00209 182 P-AXIS-00275 208 P-AXIS-00210 345 P-AXIS-00276 201 P-AXIS-00211 176 P-AXIS-00277 71 P-AXIS-00212 183 P-AXIS-00278 71 P-AXIS-00213 350 P-AXIS-00279 72 P-AXIS-00214 145 P-AXIS-00280 175 P-AXIS-00215 95 P-AXIS-00281 175 P-AXIS-00216 63 P-AXIS-00282 173 P-AXIS-00217 62 P-AXIS-00283 173 P-AXIS-00218 70 P-AXIS-00284 121 P-AXIS-00219 70 P-AXIS-00285 74 P-AXIS-00220 63 P-AXIS-00286 74 P-AXIS-00221 174 P-AXIS-00287 130 P-AXIS-00223 253 P-AXIS-00288 131 P-AXIS-00224 62 P-AXIS-00289 131 P-AXIS-00225 255 P-AXIS-00290 131 P-AXIS-00226 256 P-AXIS-00291 132 P-AXIS-00228 256 P-AXIS-00292 191 P-AXIS-00229 256 P-AXIS-00293 192 410 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 411

Index P-AXIS-00294 73 P-AXIS-00358 269 P-AXIS-00295 304 P-AXIS-00359 351 P-AXIS-00296 251 P-AXIS-00360 351 P-AXIS-00297 50 P-AXIS-00361 261 P-AXIS-00298 75 P-AXIS-00362 271 P-AXIS-00299 74 P-AXIS-00363 271 P-AXIS-00300 132 P-AXIS-00364 304 P-AXIS-00301 132 P-AXIS-00365 348 P-AXIS-00302 133 P-AXIS-00366 348 P-AXIS-00303 133 P-AXIS-00367 269 P-AXIS-00304 133 P-AXIS-00368 369 P-AXIS-00305 133 P-AXIS-00369 369 P-AXIS-00306 134 P-AXIS-00370 369 P-AXIS-00307 134 P-AXIS-00371 368 P-AXIS-00308 135 P-AXIS-00372 270 P-AXIS-00309 135 P-AXIS-00373 314 P-AXIS-00311 137 P-AXIS-00374 314 P-AXIS-00312 138 P-AXIS-00375 315 P-AXIS-00313 138 P-AXIS-00376 134 P-AXIS-00314 138 P-AXIS-00377 134 P-AXIS-00315 297 P-AXIS-00378 116 P-AXIS-00316 298 P-AXIS-00379 300 P-AXIS-00317 298 P-AXIS-00380 367 P-AXIS-00318 298 P-AXIS-00381 367 P-AXIS-00319 360 P-AXIS-00382 367 P-AXIS-00320 267 P-AXIS-00383 153 P-AXIS-00321 76 P-AXIS-00384 153 P-AXIS-00322 405 P-AXIS-00385 153 P-AXIS-00323 220 P-AXIS-00386 287 P-AXIS-00324 151 P-AXIS-00387 287 P-AXIS-00325 151 P-AXIS-00388 270 P-AXIS-00326 151 P-AXIS-00389 259 P-AXIS-00327 140 P-AXIS-00390 259 P-AXIS-00328 226 P-AXIS-00391 171 P-AXIS-00329 77 P-AXIS-00392 270 P-AXIS-00330 104 P-AXIS-00393 121 P-AXIS-00331 113 P-AXIS-00394 191 P-AXIS-00332 113 P-AXIS-00395 238 P-AXIS-00333 82 P-AXIS-00396 317 P-AXIS-00334 82 P-AXIS-00397 317 P-AXIS-00335 82 P-AXIS-00398 318 P-AXIS-00336 300 P-AXIS-00399 318 P-AXIS-00337 257 P-AXIS-00400 318 P-AXIS-00338 258 P-AXIS-00401 319 P-AXIS-00339 190 P-AXIS-00403 272 P-AXIS-00340 190 P-AXIS-00404 79 P-AXIS-00341 299 P-AXIS-00405 273 P-AXIS-00342 407 P-AXIS-00406 273 P-AXIS-00343 407 P-AXIS-00407 215 P-AXIS-00344 82 P-AXIS-00408 319 P-AXIS-00345 83 P-AXIS-00409 320 P-AXIS-00346 83 P-AXIS-00410 274 P-AXIS-00347 83 P-AXIS-00411 289 P-AXIS-00348 84 P-AXIS-00412 81 P-AXIS-00349 84 P-AXIS-00413 226 P-AXIS-00350 84 P-AXIS-00414 226 P-AXIS-00351 141 P-AXIS-00415 227 P-AXIS-00352 299 P-AXIS-00416 227 P-AXIS-00353 268 P-AXIS-00417 228 P-AXIS-00354 73 P-AXIS-00418 228 P-AXIS-00355 73 P-AXIS-00419 229 P-AXIS-00356 141 P-AXIS-00420 229 P-AXIS-00357 361 P-AXIS-00421 229 TF5200 | Twin CAT 3 CNC Version: 1.172 411 Axis parameters
## Page 412

Index P-AXIS-00422 248 P-AXIS-00497 239 P-AXIS-00423 248 P-AXIS-00498 240 P-AXIS-00424 249 P-AXIS-00499 405 P-AXIS-00425 86 P-AXIS-00500 230 P-AXIS-00426 86 P-AXIS-00501 230 P-AXIS-00427 156 P-AXIS-00502 231 P-AXIS-00428 230 P-AXIS-00503 150 P-AXIS-00429 320 P-AXIS-00504 232 P-AXIS-00430 274 P-AXIS-00505 232 P-AXIS-00431 386 P-AXIS-00506 232 P-AXIS-00432 387 P-AXIS-00507 233 P-AXIS-00436 154 P-AXIS-00508 233 P-AXIS-00437 135 P-AXIS-00509 233 P-AXIS-00438 404 P-AXIS-00510 391 P-AXIS-00439 161 P-AXIS-00511 182 P-AXIS-00440 161 P-AXIS-00512 183 P-AXIS-00441 161 P-AXIS-00513 166 P-AXIS-00442 162 P-AXIS-00514 259 P-AXIS-00443 162 P-AXIS-00515 260 P-AXIS-00444 163 P-AXIS-00516 97 P-AXIS-00445 122 P-AXIS-00517 99 P-AXIS-00446 340 P-AXIS-00518 100 P-AXIS-00447 301 P-AXIS-00519 64 P-AXIS-00448 302 P-AXIS-00520 93 P-AXIS-00449 302 P-AXIS-00521 93 P-AXIS-00450 303 P-AXIS-00522 221 P-AXIS-00451 303 P-AXIS-00523 65 P-AXIS-00454 210 P-AXIS-00524 275 P-AXIS-00455 163 P-AXIS-00525 222 P-AXIS-00456 306 P-AXIS-00526 222 P-AXIS-00457 164 P-AXIS-00527 276 P-AXIS-00458 166 P-AXIS-00528 276 P-AXIS-00459 277 P-AXIS-00529 343 P-AXIS-00460 155 P-AXIS-00530 346 P-AXIS-00461 155 P-AXIS-00531 81 P-AXIS-00462 301 P-AXIS-00532 213 P-AXIS-00463 304 P-AXIS-00533 234 P-AXIS-00464 305 P-AXIS-00534 235 P-AXIS-00465 209 P-AXIS-00535 167 P-AXIS-00466 275 P-AXIS-00536 168 P-AXIS-00467 96 P-AXIS-00537 279 P-AXIS-00472 199 P-AXIS-00538 87 P-AXIS-00474 65 P-AXIS-00539 100 P-AXIS-00475 309 P-AXIS-00540 144 P-AXIS-00476 307 P-AXIS-00541 351 P-AXIS-00478 311 P-AXIS-00542 280 P-AXIS-00479 310 P-AXIS-00545 352 P-AXIS-00481 316 P-AXIS-00546 303 P-AXIS-00482 208 P-AXIS-00547 258 P-AXIS-00483 166 P-AXIS-00548 163 P-AXIS-00484 275 P-AXIS-00554 94 P-AXIS-00485 164 P-AXIS-00555 399 P-AXIS-00486 156 P-AXIS-00556 144 P-AXIS-00487 116 P-AXIS-00557 60 P-AXIS-00488 215 P-AXIS-00558 000 P-AXIS-00489 130 P-AXIS-00559 000 P-AXIS-00490 165 P-AXIS-00560 000 P-AXIS-00491 143 P-AXIS-00564 137 P-AXIS-00492 342 P-AXIS-00565 137 P-AXIS-00493 342 P-AXIS-00566 262 P-AXIS-00494 79 P-AXIS-00567 251 P-AXIS-00495 239 P-AXIS-00568 366 P-AXIS-00496 239 P-AXIS-00571 365 412 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 413

Index P-AXIS-00573 362 P-AXIS-00725 326 P-AXIS-00580 335 P-AXIS-00726 327 P-AXIS-00583 101 P-AXIS-00727 327 P-AXIS-00584 89 P-AXIS-00728 328 P-AXIS-00585 364 P-AXIS-00729 328 P-AXIS-00586 362 P-AXIS-00730 321 P-AXIS-00587 362 P-AXIS-00731 328 P-AXIS-00588 365 P-AXIS-00735 203 P-AXIS-00589 366 P-AXIS-00736 203 P-AXIS-00590 363 P-AXIS-00737 204 P-AXIS-00591 363 P-AXIS-00738 204 P-AXIS-00593 364 P-AXIS-00739 203 P-AXIS-00618 305 P-AXIS-00740 203 P-AXIS-00620 397 P-AXIS-00741 204 P-AXIS-00623 397 P-AXIS-00742 205 P-AXIS-00624 398 P-AXIS-00743 396 P-AXIS-00625 398 P-AXIS-00744 396 P-AXIS-00626 398 P-AXIS-00745 396 P-AXIS-00627 392 P-AXIS-00746 407 P-AXIS-00628 392 P-AXIS-00750 242 P-AXIS-00629 393 P-AXIS-00751 243 P-AXIS-00630 393 P-AXIS-00752 243 P-AXIS-00631 394 P-AXIS-00753 241 P-AXIS-00632 394 P-AXIS-00754 241 P-AXIS-00645 307 P-AXIS-00755 242 P-AXIS-00646 307 P-AXIS-00756 244 P-AXIS-00648 310 P-AXIS-00757 240 P-AXIS-00649 311 P-AXIS-00758 240 P-AXIS-00675 105 P-AXIS-00759 234 P-AXIS-00676 106 P-AXIS-00760 127 P-AXIS-00677 106 P-AXIS-00761 244 P-AXIS-00678 107 P-AXIS-00762 329 P-AXIS-00679 107 P-AXIS-00763 330 P-AXIS-00680 108 P-AXIS-00764 235 P-AXIS-00681 108 P-AXIS-00765 236 P-AXIS-00682 108 P-AXIS-00766 65 P-AXIS-00683 109 P-AXIS-00767 66 P-AXIS-00684 109 P-AXIS-00768 66 P-AXIS-00685 110 P-AXIS-00769 330 P-AXIS-00686 110 P-AXIS-00770 330 P-AXIS-00699 111 P-AXIS-00771 331 P-AXIS-00700 111 P-AXIS-00772 331 P-AXIS-00701 305 P-AXIS-00773 332 P-AXIS-00702 306 P-AXIS-00774 113 P-AXIS-00704 120 P-AXIS-00775 114 P-AXIS-00705 94 P-AXIS-00776 114 P-AXIS-00708 397 P-AXIS00777 115 P-AXIS-00709 278 P-AXIS-00778 115 P-AXIS-00710 278 P-AXIS-00779 335 P-AXIS-00711 279 P-AXIS-00780 142 P-AXIS-00712 321 P-AXIS-00782 236 P-AXIS-00713 321 P-AXIS-00783 237 P-AXIS-00714 322 P-AXIS-00784 237 P-AXIS-00715 322 P-AXIS-00786 168 P-AXIS-00716 322 P-AXIS-00787 67 P-AXIS-00717 323 P-AXIS-00788 67 P-AXIS-00718 323 P-AXIS-00789 209 P-AXIS-00719 323 P-AXIS-00790 245 P-AXIS-00720 324 P-AXIS-00791 245 P-AXIS-00721 324 P-AXIS-00792 246 P-AXIS-00722 325 P-AXIS-00798 197 P-AXIS-00723 325 P-AXIS-00803 90 P-AXIS-00724 325 P-AXIS-00804 197 TF5200 | Twin CAT 3 CNC Version: 1.172 413 Axis parameters
## Page 414

Index P-AXIS-00813 296 P-AXIS-00814 90 P-AXIS-00815 338 P-AXIS-00816 169 P-AXIS-00817 333 P-AXIS-00818 333 P-AXIS-00819 84 P-AXIS-00820 85 P-AXIS-00821 329 P-AXIS-00822 85 P-AXIS-00823 335 P-AXIS-00824 336 P-AXIS-00825 87 P-AXIS-00826 130 P-AXIS-00830 337 P-AXIS-00831 333 P-AXIS-00832 334 P-AXIS-00834 312 414 Version: 1.172 TF5200 | Twin CAT 3 CNC Axis parameters
## Page 416

More Information: www.beckhoff.com/TF5200 Beckhoff Automation Gmb H & Co. KG Hülshorstweg 20 33415 Verl Germany Phone: +49 5246 9630 info@beckhoff.com www.beckhoff.com
