---
title: "TF7000 - TF7810 Twin CAT 3"
product: "TF7000"
category: "Vision"
tags: ["CAT", "TWIN"]
language: "EN"
document_type: "Manual"
version: "2.4.0"
source_pdf: "https://download.beckhoff.com/download/Document/automation/twincat3/TF7000-TF7810_TC3_Vision_EN.pdf"
release_date: "2025-08-25"
---
Manual | EN TF7000 - TF7810 Twin CAT 3 | Vision 2025-08-25 | Version: 2.4.0
## Page 3

Table of contents Table of contents 1 Foreword.................................................................................................................................................... 7 1.1 Notes on the documentation............................................................................................................. 7 1.2 For your safety.................................................................................................................................. 7 1.3 Notes on information security............................................................................................................ 9 1.4 Documentation issue status.............................................................................................................. 9 2 Overview.................................................................................................................................................. 10 2.1 System components........................................................................................................................ 10 2.2 Licensing model.............................................................................................................................. 12 3 Installation............................................................................................................................................... 15 3.1 System requirements...................................................................................................................... 15 3.2 Version overview............................................................................................................................. 16 3.3 Installation instructions Twin CAT 3.1 Build 4024............................................................................ 18 3.4 Installation instructions from Twin CAT 3.1 Build 4026.................................................................... 23 3.5 Using the Twin CAT 3 Usermode Runtime...................................................................................... 24 3.6 Licensing......................................................................................................................................... 25 4 First steps................................................................................................................................................ 28 4.1 Build Project.................................................................................................................................... 28 4.1.1 Creating a Twin CAT project............................................................................................. 28 4.1.2 Choose Target System.................................................................................................... 30 4.1.3 System configuration........................................................................................................ 32 4.2 Setting up a Vision device............................................................................................................... 34 4.2.1 Displaying a Vision node and creating an application...................................................... 34 4.2.2 Creating a File Source Control......................................................................................... 36 4.2.3 Creating a Gig E Vision camera........................................................................................ 39 4.3 Creating a PLC project.................................................................................................................... 46 4.3.1 Creating a PLC project..................................................................................................... 46 4.3.2 Integrating a PLC library.................................................................................................. 47 4.3.3 Writing a PLC program..................................................................................................... 49 4.3.4 Initializing a function block............................................................................................... 50 4.4 Run.................................................................................................................................................. 51 4.4.1 Activate Twin CAT project and start PLC project.............................................................. 51 4.4.2 Image display in ADS Image Watch................................................................................. 52 5 Development environment..................................................................................................................... 54 5.1 System configuration....................................................................................................................... 55 5.1.1 Router memory................................................................................................................ 55 5.1.2 Core Memory................................................................................................................... 57 5.1.3 Stack size......................................................................................................................... 57 5.1.4 Network adapter............................................................................................................... 57 5.1.5 CPU cores and tasks....................................................................................................... 62 5.1.6 Job tasks.......................................................................................................................... 65 5.2 VISION node................................................................................................................................... 66 5.2.1 Service Configuration....................................................................................................... 67 5.2.2 Logging............................................................................................................................ 69 TF7000 - TF7810 Version: 2.4.0 3
## Page 4

Table of contents 5.3 Application node.............................................................................................................................. 69 5.4 Gig E Vision Camera objects........................................................................................................... 70 5.4.1 General............................................................................................................................ 72 5.4.2 Configuration Assistant.................................................................................................... 76 5.4.3 Record/Playback............................................................................................................ 104 5.4.4 Camera Calibration........................................................................................................ 110 5.4.5 Gig E Vision Standard..................................................................................................... 125 5.4.6 Tc COM objects.............................................................................................................. 126 5.5 Beckhoff Camera objects.............................................................................................................. 128 5.6 File Source objects........................................................................................................................ 129 5.6.1 File Source Control........................................................................................................ 130 5.6.2 Tc COM objects.............................................................................................................. 133 5.7 Vision Job Pool............................................................................................................................. 134 5.8 ADS Image Watch......................................................................................................................... 134 5.9 Exporting/Importing nodes............................................................................................................ 138 6 API reference......................................................................................................................................... 140 6.1 PLC............................................................................................................................................... 140 6.1.1 Software concept........................................................................................................... 140 6.1.2 Data Types..................................................................................................................... 162 6.1.3 Interfaces....................................................................................................................... 252 6.1.4 Functions........................................................................................................................ 434 6.1.5 Function Blocks............................................................................................................ 1571 6.2 C++............................................................................................................................................. 1660 6.2.1 Data Types................................................................................................................... 1660 6.2.2 Interfaces..................................................................................................................... 1734 6.2.3 Functions...................................................................................................................... 1888 6.2.4 Function Blocks............................................................................................................ 2623 7 Twin CAT HMI packages...................................................................................................................... 2673 7.1 Server extension......................................................................................................................... 2673 7.2 Controls....................................................................................................................................... 2678 7.2.1 Image Watch................................................................................................................ 2679 7.2.2 Color............................................................................................................................. 2706 7.2.3 History.......................................................................................................................... 2719 7.2.4 Rectangle (Interactive)................................................................................................. 2723 7.2.5 Polygon (Interactive).................................................................................................... 2725 7.2.6 Help Functions............................................................................................................. 2726 7.2.7 Data types.................................................................................................................... 2730 8 Samples and tools.............................................................................................................................. 2732 8.1 Function samples........................................................................................................................ 2733 8.1.1 Basic Container Operations......................................................................................... 2734 8.1.2 Basic Image Operations............................................................................................... 2736 8.1.3 Code Reading.............................................................................................................. 2739 8.1.4 Contour analysis.......................................................................................................... 2750 8.1.5 Image analysis............................................................................................................. 2759 8.1.6 Image Color and Contrast Processing......................................................................... 2780 4 Version: 2.4.0 TF7000 - TF7810
## Page 5

Table of contents 8.1.7 Image filtering............................................................................................................... 2785 8.1.8 Image segmentation..................................................................................................... 2790 8.1.9 Measurement............................................................................................................... 2793 8.1.10 OCR............................................................................................................................. 2810 8.1.11 Self-written functions.................................................................................................... 2815 8.2 Function block samples............................................................................................................... 2817 8.2.1 Camera Register Access............................................................................................. 2817 8.2.2 File Access................................................................................................................... 2818 8.2.3 Image acquisition......................................................................................................... 2821 8.3 Samples of assistants................................................................................................................. 2823 8.3.1 Calibration Assistant.................................................................................................... 2823 8.4 Camera configuration samples................................................................................................... 2830 8.4.1 Region of Interest (ROI)............................................................................................... 2830 8.4.2 Binning......................................................................................................................... 2831 8.4.3 Image acquisition and trigger....................................................................................... 2834 8.5 Neural Network Compatibility Check........................................................................................... 2840 9 Appendix.............................................................................................................................................. 2844 9.1 FAQ............................................................................................................................................. 2844 9.2 Important paths........................................................................................................................... 2845 9.3 Troubleshooting.......................................................................................................................... 2846 9.3.1 Twin CAT system start.................................................................................................. 2846 9.3.2 PLC runtime environment............................................................................................ 2850 9.3.3 Assistants..................................................................................................................... 2857 9.3.4 Twin CAT HMI packages.............................................................................................. 2861 9.3.5 Camera communication............................................................................................... 2862 9.4 ADS Return Codes...................................................................................................................... 2864 9.5 Support and Service.................................................................................................................... 2868 9.6 Third party Components.............................................................................................................. 2870 TF7000 - TF7810 Version: 2.4.0 5
## Page 6

Table of contents 6 Version: 2.4.0 TF7000 - TF7810
## Page 7

Foreword 1 Foreword 1.1 Notes on the documentation This description is intended exclusively for trained specialists in control and automation technology who are familiar with the applicable national standards. The documentation and the following notes and explanations must be complied with when installing and commissioning the components. The trained specialists must always use the current valid documentation. The trained specialists must ensure that the application and use of the products described is in line with all safety requirements, including all relevant laws, regulations, guidelines, and standards. Disclaimer The documentation has been compiled with care. The products described are, however, constantly under development. We reserve the right to revise and change the documentation at any time and without notice. Claims to modify products that have already been supplied may not be made on the basis of the data, diagrams, and descriptions in this documentation. Trademarks Beckhoff®, ATRO® , Ether CAT®, Ether CAT G®, Ether CAT G10®, Ether CAT P®, MX-System®, Safety over Ether CAT®, TC/BSD®, Twin CAT®, Twin CAT/BSD®, Twin SAFE®, XFC®, XPlanar®, and XTS® are registered and licensed trademarks of Beckhoff Automation Gmb H. If third parties make use of the designations or trademarks contained in this publication for their own purposes, this could infringe upon the rights of the owners of the said designations. Ether CAT® is a registered trademark and patented technology, licensed by Beckhoff Automation Gmb H, Germany. Copyright © Beckhoff Automation Gmb H & Co. KG, Germany. The distribution and reproduction of this document, as well as the use and communication of its contents without express authorization, are prohibited. Offenders will be held liable for the payment of damages. All rights reserved in the event that a patent, utility model, or design are registered. Third-party trademarks Trademarks of third parties may be used in this documentation. You can find the trademark notices here: https://www.beckhoff.com/trademarks. 1.2 For your safety Safety regulations Read the following explanations for your safety. Always observe and follow product-specific safety instructions, which you may find at the appropriate places in this document. Exclusion of liability All the components are supplied in particular hardware and software configurations which are appropriate for the application. Modifications to hardware or software configurations other than those described in the documentation are not permitted, and nullify the liability of Beckhoff Automation Gmb H & Co. KG. TF7000 - TF7810 Version: 2.4.0 7
## Page 8

Foreword Personnel qualification This description is only intended for trained specialists in control, automation, and drive technology who are familiar with the applicable national standards. Signal words The signal words used in the documentation are classified below. In order to prevent injury and damage to persons and property, read and follow the safety and warning notices. Personal injury warnings DANGER Hazard with high risk of death or serious injury. WARNING Hazard with medium risk of death or serious injury. CAUTION There is a low-risk hazard that could result in medium or minor injury. Warning of damage to property or environment NOTICE The environment, equipment, or data may be damaged. Information on handling the product This information includes, for example: recommendations for action, assistance or further information on the product. 8 Version: 2.4.0 TF7000 - TF7810
## Page 9

Foreword 1.3 Notes on information security The products of Beckhoff Automation Gmb H & Co. KG (Beckhoff), insofar as they can be accessed online, are equipped with security functions that support the secure operation of plants, systems, machines and networks. Despite the security functions, the creation, implementation and constant updating of a holistic security concept for the operation are necessary to protect the respective plant, system, machine and networks against cyber threats. The products sold by Beckhoff are only part of the overall security concept. The customer is responsible for preventing unauthorized access by third parties to its equipment, systems, machines and networks. The latter should be connected to the corporate network or the Internet only if appropriate protective measures have been set up. In addition, the recommendations from Beckhoff regarding appropriate protective measures should be observed. Further information regarding information security and industrial security can be found in our https://www.beckhoff.com/secguide. Beckhoff products and solutions undergo continuous further development. This also applies to security functions. In light of this continuous further development, Beckhoff expressly recommends that the products are kept up to date at all times and that updates are installed for the products once they have been made available. Using outdated or unsupported product versions can increase the risk of cyber threats. To stay informed about information security for Beckhoff products, subscribe to the RSS feed at https:// www.beckhoff.com/secinfo. 1.4 Documentation issue status Version Change 2.4.x New: History [} 2705] Statistics [} 2706] History [} 2719] 2.3.x New: various data types and functions Installation/Use of the Twin CAT 3 user mode Runtime [} 24] 2.2.x New: Neural Network and Neural Network C++ 2.1.x New: various functions, Code Quality [} 801] and Code Quality C++ [} 2178] functions New: Installation instructions for Twin CAT 3.1 Build 4026 [} 23] 2.0.x New: various function blocks, functions, data types and interfaces [} 140] New: API for C++ [} 1660] 1.5.x New: various function blocks and functions TF7000 - TF7810 Version: 2.4.0 9
## Page 10

Overview 2 Overview Twin CAT Vision is a Twin CAT 3 function for machine vision. Tasks such as the detection, identification, and measurement of objects can be handled directly in the PLC in real-time. By integrating image processing into the Twin CAT platform, highly synchronized control applications and extremely short response times can be achieved. Application development is aided by the large number of existing Twin CAT Engineering tools. Image processing sequences are programmed in the IEC61131-3 languages using the Tc3_Vision library directly in the PLC code. Alternatively, programming can also be carried out in Twin CAT 3 C++. Intermediate results can be checked directly using an image display tool. Twin CAT Vision is real-time capable because the image processing algorithms are executed synchronously with the controller directly in the Twin CAT 3 runtime environment. In addition, suitable algorithms can run automatically in parallel on several cores. A large number of industrial cameras can be connected via the Gig E Vision interface. The familiar Twin CAT development environment is used for configuring and calibrating cameras, and for system setup and debugging. The individual chapters provide detailed information on the following topics: • System components [} 10] for understanding the system structure of Twin CAT Vision • Installation [} 15] for guidance on installation and licensing • First steps [} 28] for a quick introduction to Twin CAT Vision • Development environment [} 54] for configuration, calibration and simulation of cameras • API reference [} 140] (software documentation) • Examples [} 2732] of some image processing sequences • Notes [} 2846] on troubleshooting 2.1 System components Like other Twin CAT components, Twin CAT Vision is integrated into the Visual Studio-based Twin CAT development environment and the real-time capable Twin CAT runtime environment. The components of the Twin CAT Vision system are explained below. 10 Version: 2.4.0 TF7000 - TF7810
## Page 11

Overview Configuration Assistants • Industrial cameras can be connected via the Gig E Vision [} 125] interface. Assistants [} 70] are available for configuration, calibration and simulation of the cameras. • Images can be fed from the file system into the PLC runtime via a File Source [} 129] element. • The configuration [} 55] of the cores and the router memory for Twin CAT Vision must always be carried out in the Twin CAT real-time settings. • Twin CAT Vision can utilize Twin CAT's multi-core support to execute certain algorithms in parallel. Corresponding settings are made in the Vision Job Pool [} 134]. TF7000 - TF7810 Version: 2.4.0 11
## Page 12

Overview Library Twin CAT Vision provides a library with a large number of algorithms for programming image processing sequences. It also contains function blocks that serve as interfaces for cameras and the file system. The API reference [} 140] contains detailed descriptions of all library elements. Debugging tools Twin CAT Vision provides the following mechanisms for debugging image processing sequences: • ADS Image Watch [} 134] can be used for live visualization of camera images and intermediate results. It transfers images from the PLC runtime to the development environment via ADS and displays them there. • All Twin CAT Vision functions provide information on their execution status based on ADS Return Codes [} 2864] (see HRESULT [} 144]). • All Twin CAT debugging functions such as breakpoints etc. can be used for programming. Gig E Vision driver Twin CAT Vision includes a real-time capable Gig E Vision [} 125] driver. It is used in the development environment for camera configuration and in the Twin CAT runtime. It communicates with industrial cameras via UDP/IP, based on the Gig E Vision standard. This standard is used to find and configure cameras in the network and to receive image data from the cameras. Twin CAT Vision service For some functionalities, Twin CAT Vision has to communicate with components outside the real-time at runtime. For example, a File Source Control loads images from the file system. The Twin CAT Vision Service [} 67] is a centralized, ADS-based communication interface between the Twin CAT runtime and external Vision components. Twin CAT HMI Vision Extension The Twin CAT HMI Vision Extension [} 2673] is an extension for the Twin CAT HMI that enables transfer of images from the PLC to the Twin CAT HMI. Images from the PLC can be displayed directly in the web-based HMI with Hmi Image Control. Twin CAT HMI Vision Controls The Twin CAT HMI Vision Controls [} 2678] package provides vision specific controls as an extension for the Twin CAT HMI. For example, it includes a control that provides many more tools and information displays in addition to the image display. The functions and displays can be easily adapted by configuration and used directly without additional programming. 2.2 Licensing model The TF7xxx products for Twin CAT Vision comprise licenses for camera connections and an image processing library. To generate licenses, please follow these instructions [} 25]. For testing or development with Twin CAT Vision, you can create licenses for a 7-day trial version. For currently available product licenses, please refer to the product website. TF700x | Twin CAT 3 Gig E Vision Connector The Twin CAT 3 Gig E Vision Connector enables the integration of Gig E Vision cameras as well as Beckhoff cameras. The basic TF7000 license is always required and enables connection of two cameras. If required, the capacity can be increased with expansion licenses: 12 Version: 2.4.0 TF7000 - TF7810
## Page 13

Overview TF7000 Basic license incl. 2 camera connections (always required) TF7001 Extension for 2 additional connections TF7002 Extension for 4 additional connections TF7003 Extension for 8 additional connections The extension licenses can be combined so that a maximum of 2+2+4+8=16 cameras can be connected. For example, the following licenses are required for 11 camera connections: • TF7000 base (including 2 camera connections) • TF7001 2 Camera • TF7003 8 Camera → 12 cameras can now be connected in total. TF7020 | Twin CAT 3 Vision Beckhoff Camera Connector The Twin CAT 3 Vision Beckhoff Camera Connector enables the integration of up to 64 Beckhoff cameras. Cameras from other manufacturers cannot be used with this license. TF7100-TF7810 | Twin CAT 3 Vision Algorithms The TF7100-TF7810 product licenses provide image processing functions in the "Tc3_Vision" library. The basic TF7100 license is required for any use of the library. It provides access to basic algorithms such as filter operations, format conversions and contour tracing. This already allows many applications to be implemented. The extension licenses supplement the range of functions as described in the table. The assignment of functions to licenses can be found in the API reference [} 436]. TF7100 Basic license for the "Tc3_Vision" library. Contains algorithms for the solving of image processing tasks, such as algebraic operations, filters, Fourier analysis, color image processing, segmentation, contour and blob analysis, results display and for the reading and writing of camera parameters. TF7200 Extension for Matching 2D: Objects can be found and compared on the basis of learned references, contours, feature points or other properties (Template Matching / Key Point Detection and Descriptor Matching). A common application is the classification of objects. TF7250 Extension for Code Reading: Detection and reading of 1D and 2D codes. TF7255 Extension for Code Quality: Quality assessment of 1D and 2D codes. TF7260 Extension for OCR: Functions for optical character recognition that identify characters in an image region and return the recognized character string. TF7300 Extension for Metrology 2D: Tools for optical measurement of geometric object properties (distances, radii etc.). • Edge localization on the measured images with subpixel accuracy • Compensation of optical distortions (prior calibration of the camera necessary!) • Transformation between pixel coordinates and real-world coordinates (prior calibration of the camera necessary!) TF7800 Extension for Machine Learning: Functions for the training and execution of various classic ML models. TF7810 Extension for Neural Network: Functions for executing trained neural networks in Open Neural Network Exchange (ONNX) format. TF7000 - TF7810 Version: 2.4.0 13
## Page 14

Overview Automatic determination of the required Vision library licenses The required licenses are only determined when compiling the respective Twin CAT project. At the same time, a check is carried out to see which function blocks are declared and which functions are used in the code. Therefore, please note that required licenses may be need to be added or omitted in the case of project changes (at short notice). If new licenses are added, the change must be loaded by means of an Activate Configuration; an online change is not possible in this case. 14 Version: 2.4.0 TF7000 - TF7810
## Page 15

Installation 3 Installation This chapter contains the system requirements [} 15] for Twin CAT Vision, the version overview [} 16] and instructions for installation [} 18] and licensing [} 25]. 3.1 System requirements IPC hardware Technical data Description Twin CAT 3 platform level Minimum P50 Performance Plus, e.g. Intel® 4-core Atom CPU Network adapter Twin CAT real-time Ethernet-compatible Gigabit network cards (for connecting Gig E Vision cameras) At least one network port should be available exclusively for cameras. It is recommended to use a separate network port for each camera. Main memory Minimum 4 GB recommended for pure runtime systems Minimum 8 GB recommended for development systems Minimum 8 GB recommended for the use of record/playback [} 104] streams on runtime systems Hard disk SSD hard disks with high reading/writing rates are recommended, especially if a lot of data is to be exchanged between PLC and hard disk. Camera Technical data Description Interface Must support Gig E Vision Standard [} 125]. (usually marked with the Gig E Vision logo) The Twin CAT Gig E Vision Connector is certified according to the Gig E Vision Standard version 2.0. However, this does not mean that all camera or Gig E Vision features of the version are supported. When using a camera in Twin CAT 3 user mode Runtime, the points described in the Using Twin CAT 3 user mode Runtime [} 24] chapter must be observed. Software Technical data Description Operating system Windows 10 (only 64-bit!) Windows 11 from Twin CAT 3.1 Build 4026 Supported Visual Studio 2017 (Community, Professional) versions 2019 (Community, Professional) 2022 (Community, Professional) from Twin CAT 3.1 Build 4026 Twin CAT XAE Shell (Tc Xae Shell) Twin CAT XAE Shell (Tc Xae Shell64) from Twin CAT 3.1 Build 4026 Twin CAT Minimum version 3.1.4024.59 Minimum version 3.1.4026.11 . NET Framework Minimal version 4.7.2 (only for the development environment [} 54]) Twin CAT HMI Server extension Technical data Description . NET Minimum version . NET Desktop Runtime 8.0 TF7000 - TF7810 Version: 2.4.0 15
## Page 16

Installation 3.2 Version overview Twin CAT Twin CAT Comment 3.1.4024 Setup 3.1.4026 Work- load 4.0.8.4 5.8.4 4.0.7.4 5.7.4 4.0.6.5 5.6.5 Neural Network added. 4.0.5.10 5.5.10 Beckhoff Camera Connector and Code Quality added. 4.0.4.8 - C++ API, OCR models and Machine Learning added. 4.0.3.5 - Automatic check of initialization commands during compilation process or activation of configuration was removed. 4.0.2.13 - 4.0.1.3 - Repository files are deleted with the installation of a newer setup. If you want to keep this version, save the "%TWINCAT3DIR% \3.1\Repository\Beckhoff Automation Gmb H" folder before installing a new setup and copy it back after the installation. NOTICE Compatibility If you have several Twin CAT Vision versions installed on one system or if the development and runtime environment are on different systems, you must ensure that you use all components with the same version. The Twin CAT Vision Service and the Engineering Extensions are only available in the latest version. Therefore, these components determine the Tc COM and library version to be used. Mixing versions is not permitted and can lead to malfunctions. Hints for the selection of a version If you want to use Twin CAT Vision with a specific version, all Tc COM objects of the project must be updated to the corresponding version. An exception is the Ads Communicator CONFIGONLY. This module is only used internally in the Configuration Assistant and must always have the latest version that matches the extension. Therefore, this module automatically sets the latest version when loading a project. To check or change the Tc COM versions: 1. Open the SYSTEM > Tc COM Objects > Project Objects window. 2. To change, select the desired version for all objects. 3. Right-click on one of the object IDs in the first column. 4. Select Reload TMI/TMC Description(s) with changed version. Furthermore, the same version of the Tc3_Vision library, corresponding to the selected Tc COM object version, must be used in the PLC project. Therefore check in the properties of the Tc3_Vision library which version is effectively used or adjust it accordingly. 16 Version: 2.4.0 TF7000 - TF7810
## Page 17

Installation The current version number of the Twin CAT Vision Service and thus also of the Engineering Extensions can be found in the Service Configuration [} 67] under the Vision node. NOTICE Online Change after update If you update Twin CAT Vision on a development system and thus make an Online Change on a target system with an older version, this can lead to version conflicts with interface pointers (images and containers). Deleting older versions To delete older versions starting with 4.x.x.x, two steps are necessary: 1. First you have to delete the corresponding version folders in the Tc3_Vision, Tc Io Gig EVision and Tc Vision directories under "%TWINCAT3DIR%\3.1\Repository\Beckhoff Automation Gmb H" or under "C:\Program Data\Beckhoff\Twin CAT\3.1\Repository\Beckhoff Automation Gmb H". 2. To remove the corresponding PLC library versions, you must also uninstall them using the Library Repository dialog. To delete older versions that start with 5.x.x, you must uninstall the corresponding packages by specifying the version using the following commands. • To uninstall from the Tc Io Gig EVision repository: tcpkg uninstall Twin CAT. XAE. TMX. Gig EVision=5.x.x • To uninstall from the Tc3_Vision and Tc Vision repositories: tcpkg uninstall Twin CAT. XAE. TMX. Vision=5.x.x • To uninstall the classic OCR models: tcpkg uninstall Twin CAT. XAR. Ocr Model Classic=5.x.x • To uninstall obsolete shared resources that were delivered up to 5.7.4, you must first perform a uninstall from the Vision Common package. After this, a one-off repair must be carried out, up to and including version 5.7.4 of Vision Common and for newer versions of the Vision package: tcpkg uninstall Twin CAT. XAE. Vision Common=5.x.x # until version 5.7.4 tcpkg repair Twin CAT. XAE. Vision Common # newer versions tcpkg repair Twin CAT. XAE. Vision TF7000 - TF7810 Version: 2.4.0 17
## Page 18

Installation 3.3 Installation instructions Twin CAT 3.1 Build 4024 The installation of Twin CAT Vision on a Windows operating system consists of the following steps: 1. Make sure that Twin CAT is in Config mode and that no Visual Studio instance or Tc Xae Shell is open. 2. Run the installation file TF7xxx-Vision.exe as administrator. To do this, right-click the file and select Run As Admin. Confirm by clicking Yes. 3. Select the installation language. Then click OK. 4. Wait a moment while the installation is being prepared, then click Next. 18 Version: 2.4.0 TF7000 - TF7810
## Page 19

Installation 5. Make sure that you agree to the license agreement by checking the option I accept the terms of the license agreement. You can print the license agreement, if required. Then click Next. 6. Enter your user name and company as user information. Then click Next. TF7000 - TF7810 Version: 2.4.0 19
## Page 20

Installation 7. Choose between the two setup types Complete or Custom. Then click Next. - A Complete setup installs all Twin CAT Vision components and requires the most memory space. This option is recommended for XAE systems. Since only the Vision Service can be installed on pure runtime systems and the other options are not available for selection, this option is also recommended here. - A custom setup lets you choose in the next step which Twin CAT Vision components you want to install. 8. For each of the following Twin CAT Vision components, select whether you want to install them or not. In addition, select at least one Twin CAT 3 version in which the selected components are to be installed. Then click Next. 20 Version: 2.4.0 TF7000 - TF7810
## Page 21

Installation - TC3 Vision: Required for developing Twin CAT Vision applications and should be installed on XAE systems. - TC3 Gig E Vision Connector: Required for developing with Gig E Vision devices and should be installed on XAE systems. - TC3 Vision Service XAR: Contains the Twin CAT Vision Service and must be installed on target systems of a Twin CAT Vision application. Explanation The Vision Service must be installed on the target system. The components for TC3 Vision and TC3 Gig E Vision Connector, conversely, are always copied automatically from the development system to the target system when activating the Twin CAT project. Therefore, they do not necessarily have to be installed on the target system. 9. Please note that during the following installation the Twin CAT system service is stopped and restarted in Config mode. Continue with the installation only if a running PLC system can be stopped. In this case, click Next. TF7000 - TF7810 Version: 2.4.0 21
## Page 22

Installation 10. Make sure that you agree with the selected installation settings. Then click Next. 11. Wait while the selected Twin CAT Vision components are installed. 12. A dialog may appear showing a list of applications that have to be closed for a complete installation. Choose whether the applications should be automatically closed or whether you would like to restart the PC after the installation instead. 22 Version: 2.4.0 TF7000 - TF7810
## Page 23

Installation ð The installation is now complete. Optionally, you can choose to display the log file of the installation. Click Finish. Twin CAT Vision must be licensed before it can be used after a successful installation. The procedure is described in the chapter on Licensing [} 25]. Information about versions and updating existing projects can be found at Version overview [} 16]. If the installation fails, you have the following options: • Solve the problem using troubleshooting [} 2846]. • Contact customer support and provide the installation log. The installation log TF7xxx-Vision.exe.log is located in the following folder in the path: C:\Users\<username>\ 3.4 Installation instructions from Twin CAT 3.1 Build 4026 Twin CAT Package Manager If you are using Twin CAT 3.1 Build 4026 (and higher) on the Microsoft Windows operating system, you can install Twin CAT Vision via the Twin CAT Package Manager, see Installing Twin CAT 3.1 Build 4026. Normally you install Twin CAT Vision via the corresponding Workload; however, you can also install the packages contained in the Workload individually. This documentation briefly describes the installation process via the workload. Command line program Tc Pkg You can use the Tc Pkg Command Line Interface (CLI) to display the available workloads on the system: tcpkg list -t workload To display only the Twin CAT Vision Workloads, you can use this command: tcpkg list TF7 You can install the Workloads of the TF7000-TF7810 Vision Functions using the following commands. tcpkg install TF7xxx. Vision. XAE tcpkg install TF7xxx. Vision. XAR TF7000 - TF7810 Version: 2.4.0 23
## Page 24

Installation Twin CAT Package Manager UI You can use the User Interface (UI) to display all available workloads and install them if required. To do this, follow the corresponding instructions in the interface. 3.5 Using the Twin CAT 3 Usermode Runtime Twin CAT 3.1 Build 4026 provides a Usermode Runtime. To be able to use Twin CAT Vision with the TC170x | Twin CAT 3 Usermode Runtime, the configurations described below must be observed. The basic description of the installation, functionality and limitations of the Twin CAT 3 Usermode Runtime can be found in the associated documentation. Starting the Vision service Twin CAT 3 Vision uses the Vision service for all interactions with the hard disk. If, for example, the loading or saving of images is required, which also applies to the use of the File Source, the Vision service must be started by the Twin CAT 3 Usermode Runtime. To do this, the file Start Man Config.xml with the following content must be created in the 3.1\Target directory of the Usermode Runtime or extended if available, default path: "C: \Program Data\Beckhoff\Twin CAT\3.1\Runtimes\Um RT_Default\3.1\Target". <Start Man> <Twin CATServers> <Twin CATServer Enabled="1"> <Name>Tc Vn Service</Name> <Path>C:\Program Files (x86)\Beckhoff\Twin CAT\3.1\Components\Vision\Tc Vision\Tc Vn Service.exe</Path> </Twin CATServer> </Twin CATServers> </Start Man> Using a camera To integrate a camera via the RT Ethernet adapter, the Usermode Runtime must be started with administrator rights: 1. For example, start the Windows Power Shell as administrator 2. Change to the Usermode Runtime folder, default path "C: \Program Data\Beckhoff\Twin CAT\3.1\Runtimes\Um RT_Default" and execute the "Start.bat": cd C:\Program Data\Beckhoff\Twin CAT\3.1\Runtimes\Um RT_Default .\Start.bat ð The camera can then be integrated via the RT Ethernet adapter. As the Twin CAT 3 Usermode Runtime is not guaranteed to have deterministic runtime behavior, problems may occur with the camera connection depending on the hardware used. Please refer to the diagnostic options at Camera communication [} 2862]. If problems occur, the following parameters of the Camera Tc COM-GVCP [} 103] module may need to be increased: • Transmission Timeout • Heartbeat Rate • Discovery Timeout Please note that if the timeouts in the GVCP module are increased, the ADS communication timeout in Actions & settings [} 88] may also need to be increased. This timeout should be greater than the product of Max Timeouts and Transmission Timeout. 24 Version: 2.4.0 TF7000 - TF7810
## Page 25

Installation Increasing the router memory The router memory of the Twin CAT Usermode Runtime can be set in the Twin CAT system configuration. However, the adjustable size is limited by the configured heap memory of the Usermode Runtime. Therefore, the heap memory must be selected larger than the router memory to be set. The heap memory can be adjusted in the Tc Registry.xml in the \3.1 directory of the Usermode Runtime, default path: "C: \Program Data\Beckhoff\Twin CAT\3.1\Runtimes\Um RT_Default\3.1\Tc Registry.xml" To do this, the XML file must be adapted as follows: 1. Stop the Usermode Runtime. 2. Open the Tc Registry.xml. 3. Adjust the <Value Name="Heap Mem Size MB" Type="DW">{size in MB}</Value> entry in the XML file. 4. The size is set in megabytes. In this sample, these are 1024 MB. ---snipped--- <Key Name="System"> <Value Name="Run As Device" Type="DW">1</Value> <Value Name="Ams Net Id" Type="BIN">C0A804010101</Value> <Value Name="Heap Mem Size MB" Type="DW">1024</Value> ---snipped--- 3.6 Licensing The Twin CAT 3 function can be activated as a full version or as a 7-day test version. Both license types can be activated via the Twin CAT 3 development environment (XAE). Licensing the full version of a Twin CAT 3 Function A description of the procedure to license a full version can be found in the Beckhoff Information System in the documentation "Twin CAT 3 Licensing". Licensing the 7-day test version of a Twin CAT 3 Function A 7-day test version cannot be enabled for a Twin CAT 3 license dongle. 1. Start the Twin CAT 3 development environment (XAE). 2. Open an existing Twin CAT 3 project or create a new project. 3. If you want to activate the license for a remote device, set the desired target system. To do this, select the target system from the Choose Target System drop-down list in the toolbar. ð The licensing settings always refer to the selected target system. When the project is activated on the target system, the corresponding Twin CAT 3 licenses are automatically copied to this system. TF7000 - TF7810 Version: 2.4.0 25
## Page 26

Installation 4. In the Solution Explorer, double-click License in the SYSTEM subtree. ð The Twin CAT 3 license manager opens. 5. Open the Manage Licenses tab. In the Add License column, check the check box for the license you want to add to your project (e.g. "TF4100 TC3 Controller Toolbox"). 6. Open the Order Information (Runtime) tab. ð In the tabular overview of licenses, the previously selected license is displayed with the status “missing”. 26 Version: 2.4.0 TF7000 - TF7810
## Page 27

Installation 7. Click 7-Day Trial License... to activate the 7-day trial license. ð A dialog box opens, prompting you to enter the security code displayed in the dialog. 8. Enter the code exactly as it is displayed and confirm the entry. 9. Confirm the subsequent dialog, which indicates the successful activation. ð In the tabular overview of licenses, the license status now indicates the expiry date of the license. 10. Restart the Twin CAT system. ð The 7-day trial version is enabled. TF7000 - TF7810 Version: 2.4.0 27
## Page 28

First steps 4 First steps The following guide provides an introduction to Twin CAT Vision (after successful installation [} 15]). 1. Build Project [} 28] ◦ Creating a Twin CAT project [} 28] ◦ Choose Target System [} 30] ◦ System configuration [} 32] 2. Displaying a Setting up a Vision device [} 34] and creating a Vision device ◦ Displaying a Vision node and creating an application [} 34] ◦ Creating a File Source Control [} 36] or ◦ Creating a Gig E Vision camera [} 39] 3. Creating a PLC project [} 46] ◦ Creating a PLC project [} 46] ◦ Integrating a PLC library [} 47] ◦ Writing a PLC program [} 49] ◦ Initializing a function block [} 50] 4. Run [} 51] ◦ Activate Twin CAT project and start PLC project [} 51] ◦ Image display in ADS Image Watch [} 52] ◦ Download sample project: https://github.com/Beckhoff/TF7xxx_Samples More detailed information can be found at Development environment [} 54], API reference [} 140] and Samples [} 2732]. 4.1 Build Project Video example for setting up a system for Twin CAT Vision: Video:: https://infosys.beckhoff.com/content/1033/tf7xxx_tc3_vision/Resources/5906036107.mp4 4.1.1 Creating a Twin CAT project Twin CAT Vision is fully integrated in the Twin CAT system. A standard Twin CAT project is therefore the starting point for every Twin CAT Vision application: 1. Open Visual Studio with integrated Twin CAT. 28 Version: 2.4.0 TF7000 - TF7810
## Page 29

First steps 2. Open the New/Project dialog. 3. Select name and location. TF7000 - TF7810 Version: 2.4.0 29
## Page 30

First steps ð A Twin CAT project is created. Next step Choose Target System [} 30] 4.1.2 Choose Target System Twin CAT distinguishes between development and runtime systems. If your development system is not your runtime system, create a route to the runtime system and select it. This can be done by following the steps below, for example: 1. Click Solution Explorer > SYSTEM > General > Choose Target... The Choose Target System dialog opens, listing all target systems to which routes exist from the development system. 30 Version: 2.4.0 TF7000 - TF7810
## Page 31

First steps 2. If the target system is not yet listed, that is there is no route to the system, click Search. The Add Route Dialog opens, where you can add more routes. 3. In the Add Route Dialog click Broadcast Search to search for Twin CAT systems in the network. Alternatively, search for the device name or IP address using Enter Host Name / IP. Any systems that are found are then displayed. TF7000 - TF7810 Version: 2.4.0 31
## Page 32

First steps 4. Select a system from the list and click Add Route to create a route to it. The displayed information and setting options are described in detail in the chapter Add Route Dialog. The new route now appears in the Choose Target System dialog. 5. Select the target system in the Choose Target System dialog and confirm with OK. Next step System configuration [} 32] 4.1.3 System configuration The system configuration depends on the target system and is described in detail in chapter System configuration [} 55]. Increase router memory Twin CAT Vision requires dynamic memory allocation when creating an image, for example. This takes place in the router memory [} 55]. Accordingly, the router memory must be configured with adequate size. This is done in the Twin CAT project under SYSTEM > Real-Time > Settings > Router Memory (Mbyte). The configuration must then be activated . If the router memory is reduced, it is necessary to restart the target system. 32 Version: 2.4.0 TF7000 - TF7810
## Page 33

First steps Selection of a CPU core and a task In multi-core systems, Twin CAT enables a distinction between Windows cores and isolated cores. With Windows cores, the operating system and the Twin CAT application share the processor time. The real-time portion can be limited to between 10% and 90%. In contrast, isolated cores are fully available to the Twin CAT application. For this reason, the use of isolated cores is recommended for Vision applications. Divided cores can also be used without problems for the initial testing. The core configuration is carried out in the Twin CAT project tree under SYSTEM > Real-Time > Settings. Detailed configuration instructions can be found in the chapter CPU cores and tasks [} 62]. This chapter also describes how to change the cycle time of the executing task. The configuration must then be activated . In addition, the target system must be restarted when redefining divided and isolated cores. Installing a real-time Ethernet driver To connect Gig E Vision cameras to Twin CAT Vision, the Twin CAT RT Ethernet driver must be installed on the network adapters used. The driver ensures that Twin CAT can use the network adapter during runtime. Details can be found in chapter Network adapter [} 57]. In the development environment, an installation assistant can be called up via TWINCAT > Show Realtime Ethernet Compatible Devices... On the target system the assistant can be started via the file C: \Twin CAT\3.1\System\Tc Rte Install.exe. The RT Ethernet driver can be installed for the network adapters listed under Compatible devices in the dialog that opens. TF7000 - TF7810 Version: 2.4.0 33
## Page 34

First steps Make sure that all network adapters you want to connect a camera are now in the list of Installed and ready to use devices (realtime capable). Next step Displaying a Vision node and creating an application [} 34] 4.2 Setting up a Vision device Video example for working with File Source Control: Video:: https://infosys.beckhoff.com/content/1033/tf7xxx_tc3_vision/Resources/5931182859.mp4 Video example for creating a camera instance: Video:: https://infosys.beckhoff.com/content/1033/tf7xxx_tc3_vision/Resources/5931185163.mp4 4.2.1 Displaying a Vision node and creating an application There is a Vision node within the Twin CAT project for the Vision configuration. 34 Version: 2.4.0 TF7000 - TF7810
## Page 35

First steps 1. If the Vision node is not displayed in the Twin CAT project, right-click on the Twin CAT project in the Solution Explorer >Show Hidden Configurations > Show VISION Configuration. ð The Vision node is now visible. 2. Within the Vision node, folders (also referred to as applications) are used to group the image processing devices. Right-click on Vision Node > Add New Item. TF7000 - TF7810 Version: 2.4.0 35
## Page 36

First steps 3. Select a name and confirm with OK. ð The folder is created In addition, you can find further information here: • VISION node [} 66] • Application node [} 69] Next step In the next step, a Vision device is created which can be used to load images into the PLC. This can be either a real Gig E Vision camera or a File Source Control for loading existing image files: Creating a Gig E Vision camera [} 39] or Creating a File Source Control [} 36] 4.2.2 Creating a File Source Control The creation of a File Source [} 129] object is described in the following steps. This can be used to load stored images into the PLC. To do this, the target system must be in Config Mode. Click on the symbol in the Twin CAT XAE Base toolbar or on Restart Twin CAT (Config Mode) in the Visual Studio menu under TWINCAT. Alternatively, you can Creating a Gig E Vision camera [} 39]. Proceed as follows to create the File Source object: 1. Click an application under the VISION node you created earlier. 36 Version: 2.4.0 TF7000 - TF7810
## Page 37

First steps 2. Right-click and select Add new item... 3. Select the device type File Source, adjust the name if necessary, click OK. ð The File Source Control is now created below the application and is ready to use. TF7000 - TF7810 Version: 2.4.0 37
## Page 38

First steps 4. Double-click the File Source Object underneath the application node in the project tree. In the window that opens, select the File Source Control tab and implement the relevant settings. 5. Click Read From Target. The File Source Control [} 130] in the project is compared with any images stored on the selected target system. 6. Add images to the File Source Control via Add Files..., Add Directory... or by drag and drop. If necessary, you can download sample images with the project download: First steps [} 28] 7. If necessary, adjust the cycle time in which the File Source Object sends images to the PLC. ð The File Source Object can be used like this: Next step Creating a PLC project [} 46] 38 Version: 2.4.0 TF7000 - TF7810
## Page 39

First steps 4.2.3 Creating a Gig E Vision camera The following steps describe how to create a Gig E Vision camera object [} 70], which can also be used to create a Beckhoff camera [} 128] object. This requires a Gig E Vision camera to be connected to the PC and the Twin CAT RT Ethernet adapter to be installed for the corresponding network port, as described in System configuration [} 32]. In addition, the target system must be in Config Mode. Click on the symbol in the Twin CAT XAE Base toolbar or on Restart Twin CAT (Config Mode) in the Visual Studio menu under TWINCAT. Alternatively, you can create a File Source Control [} 36]. To create a camera, proceed as follows: 1. Click an application under the Vision node you created earlier. 2. Right-click and select Add new item... 3. Select the device type Gig E Vision Camera or Beckhoff camera. If required, adjust the camera name and the Gig EVision Camera Options and click Ok. An Image Provider is the interface to the PLC function blocks and is therefore normally always required (see Camera details [} 126]). TF7000 - TF7810 Version: 2.4.0 39
## Page 40

First steps An Ads Communicator is only required for recording streams via the Record/Playback [} 104] tab in the camera object. If no streams are to be recorded, this option can be disabled. This eliminates the need for the Ads Communicator module and the corresponding Vn Task ADS. 4. Gig E Vision cameras communicate via UDP/IP. A suitable network device with a corresponding IP stack in the I/O node is required for the network port used. Create this by clicking New.... Only one network device with one IP stack may be created for each physical port of a network card. 5. To create a new network device, click NEW... in the Select Network Device dialog. 40 Version: 2.4.0 TF7000 - TF7810
## Page 41

First steps 6. In the Device Found At dialog, select the network port to which the camera is connected and click OK. Only network ports for which the Twin CAT RT Ethernet driver is installed are displayed. 7. The network device is now created in the I/O configuration. Select it in the Select Network Device dialog and click OK. This creates an IP stack for the device. TF7000 - TF7810 Version: 2.4.0 41
## Page 42

First steps 8. Select the IP stack and click OK. 9. If no IPv4 address has been assigned to the network port yet, answer the question whether you want to assign a fixed IP address. If Yes, set the IP address in the following dialog. The IP address and subnet mask are then saved in the Twin CAT IP configuration of the network adapter (see Network configuration [} 60]). 42 Version: 2.4.0 TF7000 - TF7810
## Page 43

First steps 10. In the Camera Initialization Assistant click Discover Devices. The selected network port is searched for connected cameras. 11. All cameras found are displayed depending on the Manufacturer Filter setting. Select the desired camera and click OK. TF7000 - TF7810 Version: 2.4.0 43
## Page 44

First steps ð The camera is now created under the application and can be used. Double-clicking the camera node [} 70] opens a window in which the connection to the camera can be verified. The General [} 72] tab provides general information about the camera. 44 Version: 2.4.0 TF7000 - TF7810
## Page 45

First steps In the Configuration Assistant [} 76] you can use Start Acquisition to view the live image of the camera and make configuration settings on the camera. See also: Camera configuration samples [} 2830] If you want to apply the changed parameters and write them to the camera at every startup, create the Initialization Commands [} 90] at the end. TF7000 - TF7810 Version: 2.4.0 45
## Page 46

First steps Next step Creating a PLC project [} 46] 4.3 Creating a PLC project Video example for creating a PLC project with Twin CAT Vision: Video:: https://infosys.beckhoff.com/content/1033/tf7xxx_tc3_vision/Resources/5977084043.mp4 4.3.1 Creating a PLC project Like the programming of the general machine control, programming of the image processing also takes place in the PLC. To this end, the Twin CAT project must be extended by a PLC project. 1. Right-click the PLC node in the Solution Explorer and select Add New Item... 46 Version: 2.4.0 TF7000 - TF7810
## Page 47

First steps 2. Select the name and location in the Add New Item dialog. ð The PLC project was created. Next step Integrating a PLC library [} 47] 4.3.2 Integrating a PLC library The Tc3_Vision library contains the data types, functions and function blocks required for image processing. TF7000 - TF7810 Version: 2.4.0 47
## Page 48

First steps 1. To add them to the PLC project, right-click on References and select Add library... 2. Select the Tc3_Vision library and confirm with OK. 48 Version: 2.4.0 TF7000 - TF7810
## Page 49

First steps ð The library is now added and can be viewed by double-clicking it. Next step Writing a PLC program [} 49] 4.3.3 Writing a PLC program A simple PLC program for continuous image acquisition from a camera or a file source includes the following: Variables PROGRAM MAIN VAR hr : HRESULT; fb Camera : FB_VN_Simple Camera Control; e State : ETc Vn Camera State; ip Image In : ITc Vn Image; ip Image In Disp : ITc Vn Displayable Image; n New Image Counter : UINT; END_VAR Name Type Description hr HRESULT All functions and many methods of the Tc3_Vision library return a result code of type HRESULT for error handling. Further information about the concept behind it and the meaning of individual codes can be found under HRESULT [} 144]. fb Camera FB_VN_Simple Each camera and File Source Control is represented by a function block Camera Contro instance. In the simplest case this is an instance of the l FB_VN_Simple Camera Control [} 1647], which covers the common properties of camera and File Source Control and can therefore be linked with both device types. Alternatively, FB_VN_Gev Camera Control [} 1622] can be used for cameras and FB_VN_File Source Control [} 1614] for File Source Controls. e State ETc Vn Camera S Each Vision device has a state of type ETc Vn Camera State [} 171]. tate ip Image In ITc Vn Image Images for processing are managed using ITc Vn Image [} 413] variables. In this sample, access to the camera input image is gained via ip Image In. ip Image In D ITc Vn Display Images for display are managed via ITc Vn Displayable Images [} 413]. isp able Image TF7000 - TF7810 Version: 2.4.0 49
## Page 50

First steps Program code with state machine Each Vision device has an internal state, TCVN_CS_INITIAL being the initial state. From this, the device can be brought into the TCVN_CS_ACQUIRING state using the Start Acquisition method. In this state, images can be captured and transferred. If an image is completely stored in the memory, it can be retrieved via fb Camera. Get Current Image(ip Image In). To check if an image was received completely and could be retrieved, the IF query queries the HRESULT of the method and whether the pointer to the memory area of the image is not 0. After that, you can start analyzing the image. To check and indicate that an image could be retrieved, the counter variable n New Image Counter is incremented as an example. F_VN_Transform Into Displayable Image [} 793] then moves the image pointer to ip Image In Disp to display the image. The image can then no longer be retrieved via ip Image In. Alternatively, a copy can be created with F_VN_Copy Into Displayable Image [} 764] to display and edit the image. e State := fb Camera. Get State(); IF e State = TCVN_CS_ERROR THEN hr := fb Camera. Reset(); ELSIF e State < TCVN_CS_ACQUIRING THEN hr := fb Camera. Start Acquisition(); ELSIF e State = TCVN_CS_ACQUIRING THEN hr := fb Camera. Get Current Image(ip Image In); // Check if new Image was received IF SUCCEEDED(hr) AND ip Image In <> 0 THEN n New Image Counter := n New Image Counter + 1; // Place to call vision algorithms hr := F_VN_Transform Into Displayable Image (ip Image In, ip Image In Disp, hr); END_IF END_IF Further information on the state machine can be found in the API chapter Image Acquisition [} 1612]. Further information • API reference [} 140] • Function blocks for image acquisition [} 1612] • Images [} 152] Next step Initializing a function block [} 50] 4.3.4 Initializing a function block Following the configuration of a Vision device and the creation of a PLC program, the Vision device must now be linked with appropriate camera variables in the PLC. The instance fb Camera of the function block FB_VN_Simple Camera Control [} 1647] from the PLC program must be linked with the image provider of the Vision device. Please note: 50 Version: 2.4.0 TF7000 - TF7810
## Page 51

First steps 1. Build the PLC program [} 49] by right-clicking the PLC project and selecting Build. Make sure that no errors occur when doing this. If this is the case, the Symbol Initialization tab appears in the PLC instance and the fb Camera instance below it. 2. Double-click the instance of the PLC project and open the Symbol Initialization tab. 3. Assign the Image Provider of your Vision device to the symbol MAIN.fb Camera.oid ITc Vn Image Provider via the drop-down in the Value column. This is shown for a camera object in the image, but it works in exactly the same way for File Source objects. Next step Activate Twin CAT project and start PLC project [} 51] 4.4 Run Video example for executing a Twin CAT Vision PLC project: Video:: https://infosys.beckhoff.com/content/1033/tf7xxx_tc3_vision/Resources/5977086347.mp4 4.4.1 Activate Twin CAT project and start PLC project You can execute the project by performing the following steps: 1. Activate the configuration via or via the Visual Studio menu under Twin CAT > Activate Configuration. TF7000 - TF7810 Version: 2.4.0 51
## Page 52

First steps 2. If no licenses have been activated yet on the target system, the following dialog appears. For an initial test you can create a trial license with Yes and enter a security code. 3. You will then be asked whether you want to restart Twin CAT. Confirm with Yes. Alternatively, a restart can be triggered via or via the Visual Studio menu under Twin CAT > Restart Twin CAT System. 4. If the PLC is not set to autostart, start it manually. To do this, log into the PLC via or via the Visual Studio menu under PLC > Login. 5. Then start the PLC via or via the Visual Studio menu under PLC > Start. Next step Image display in ADS Image Watch [} 52] 4.4.2 Image display in ADS Image Watch Images of type ITc Vn Displayable Image in the PLC can be displayed in ADS Image Watch. You can find the window in the Visual Studio menu Twin CAT > Windows > ADS Image Watch. To select the image to display, set the following parameters from left to right: • Target system • Port • ADS symbol of the image • Scaling of the image 52 Version: 2.4.0 TF7000 - TF7810
## Page 53

First steps In addition to the image content, the following information can be read in the ADS Image Watch: • Histogram of the image • Color/intensity values at the current cursor position • Pixel coordinates of the current cursor position • Image size TF7000 - TF7810 Version: 2.4.0 53
## Page 54

Development environment 5 Development environment Twin CAT Vision is fully integrated in the Twin CAT 3 development environment. Essentially, Twin CAT Vision extends the Twin CAT system by a further node, below which the Vision components can be created and configured. The following configuration elements are used: • The VISION node [} 66] provides general configuration options that affect all Vision components on the system. It includes all other configuration elements. • The Vision Job Pool [} 134] can be used to define job tasks for parallel execution of Vision functions. Each system has a single Vision Job Pool. • An Application node [} 69] encapsulates several Vision devices (Gig E Vision cameras and File Sources) to form an applicative unit. The entire configuration of an application can be exported and imported. Each Twin CAT project can have several applications. • A Gig E Vision camera node [} 70] contains the configuration of a physical Gig E Vision camera. Each application can have several Gig E Vision camera nodes. • A Beckhoff camera node [} 128] contains the configuration of a physical Beckhoff camera. Each application can have several Beckhoff camera nodes. • A File Source node [} 129] contains the configuration for an interface between images on the hard disk of the target system and an image acquisition module within the PLC. Each application can have several File Source nodes. Communication with system components Gig E Vision camera nodes, Beckhoff camera nodes and File Source nodes each contain Tc COM modules for communication with various system components. Furthermore, the development environment features an ADS Image Watch [} 134] window element for displaying images from the PLC via ADS. In addition, a general system configuration [} 55] is necessary for the correct functioning of the Vision components. In order to be able to display images from the PLC live in a Twin CAT HMI, a corresponding HMI extension [} 2673] is available. 54 Version: 2.4.0 TF7000 - TF7810
## Page 55

Development environment 5.1 System configuration The following sections describe the settings specific to Twin CAT Vision, which should be carried out or checked in relation to the system and project. 5.1.1 Router memory Compared to conventional control systems, image processing applications require a lot of memory, because even a single image can contain several megabytes of data. In Twin CAT Vision, all dynamic data (see Interface Pointer [} 140]) are allocated in the router memory. For this reason, it is particularly important to configure the size of the router memory and, with Twin CAT 3.1 4026, the Core Memory [} 57] accordingly. It can be set in the Twin CAT system configuration under the Real-Time node in the Settings tab: Configured Size Setting of the router memory required for the current project. Allocated Router memory currently allocated on the system. Available The part of the router memory currently allocated on the system that is still freely available. (The rest is already used within Twin CAT.) If the available memory is not fully restored following a Twin CAT restart, this points to a memory leak. In that case, restart your system and check your program with regard to memory leaks. The maximum adjustable size of the router memory in Twin CAT 3.1 4024 is 1024 MB. From Twin CAT 3.1 4026, the usable size essentially depends on the available main memory and is limited to 65535 MB. The actually required memory size depends among other things on the use of dynamic memory (e.g. with images [} 152] and containers [} 155]) in the PLC program. NOTICE Size of the router memory When configuring the router memory, it must be noted that the router memory will be subtracted from the main memory and is thus no longer available to the operating system. Therefore we recommended avoiding the size of 1024 MB in systems with a main memory size of less than 4 GB. With external projects, always check the router memory setting before activating the configuration and reduce it if necessary. Estimating the required memory size The required size of the router memory depends on many factors. A rough estimate for the Vision part of the Twin CAT project can be obtained by calculating the memory dynamically allocated (by Interface Pointers [} 140]). The storage space M (in bytes) of an image can be calculated by incorporating the image size (width w and height h), number of channels C and the number of bytes of the element type: M = w * h * C * sizeof(Element Type). For a container of the type String or Vector, the storage space M (in bytes) can be calculated through the number of allocated elements N and the number of bytes of the element type: M = N * sizeof(Element Type). TF7000 - TF7810 Version: 2.4.0 55
## Page 56

Development environment Attention must be paid to how the data are copied and released. If an image is copied or a new one is generated, the storage space for both instances must of course be included in the calculation. Moreover, the memory requirement of the router itself and other project parts must be included in the calculation. When retrieving the images or other data via ADS, these are copied, so additional storage space must also be taken into account for this. NOTICE Memory value with safety factor Always extend the calculated memory value with a safety factor. Also take into account the memory requirement of the other modules in the project. So as not to use an unnecessarily large amount of space in the router memory, you should take care not to make any unnecessary deep copies and to release objects again that are no longer required (see Interface Pointer [} 140]). In order to find out how much memory is actually being used, the router memory can be monitored live as follows. Monitoring the router memory Even if the router memory is set in the project, this is a system-wide setting. Therefore, the router memory set in the project and currently used on the system can be viewed on the target system. To do this, right-click the Twin CAT icon in the Windows taskbar and select Router > Info. NOTICE Reduction of the available router memory The available router memory may be reduced through Exceptions or unreleased Interface Pointers. Therefore, the memory should be checked during the development, in particular in the case of an error. If not enough memory is available, restart the complete system and then check your program. 56 Version: 2.4.0 TF7000 - TF7810
## Page 57

Development environment 5.1.2 Core Memory From Twin CAT version 3.1 4026, it is possible to reserve a separate memory area for each real-time core in addition to the router memory. All memory requests from this core are first processed by this memory and only if it is not sufficient is memory requested from the router. More setting options and details can be found in the Twin CAT Engineering documentation under the Real-Time Settings. Since Twin CAT Vision generally uses a large amount of dynamic data, such as images, it is advisable to use the core memory and set its size accordingly. This reduces accesses to the general router memory, which leads to faster memory allocations with parallel memory accesses. 5.1.3 Stack size The default size of 64 KB is usually sufficient for image processing applications. When using larger image formats or special functions such as the F_VN_Clahe [} 1207] this value is too small and the stack size must be increased. Then it is recommended to use 512 KB or larger directly. It can be set in the Twin CAT system configuration under the Real-Time node in the Settings tab: 5.1.4 Network adapter There are several things to consider when selecting, configuring and using a network adapter, which are listed and described individually below: • First, a suitable network adapter that is supported by our Twin CAT Realtime Ethernet driver must be chosen so that the driver can be installed and used in real-time operation. • All other network protocols that are not required should then be disabled for this network adapter in order to prevent interferences in communication. • After setting up a camera for the first time, a persistent IP address should be set in the IP-Stack of the Twin CAT project. • If several cameras are to be operated on the same port of the network adapter, additional settings must be made in the IP-Stack. • Finally, you will find a few notes on the diagnostic options. TF7000 - TF7810 Version: 2.4.0 57
## Page 58

Development environment Twin CAT RT Ethernet adapters Similar to the connection of Ether CAT devices, the Twin CAT Realtime Ethernet driver must be installed on the corresponding network adapter to enable connection to Gig E Vision devices. To open a corresponding installation dialog, click TWINCAT > Show Realtime Ethernet Compatible Devices in the Visual Studio menu. Alternatively you can call the file C:\Twin CAT\3.1\System\Tc Rte Install.exe on the target system; this also opens the corresponding installation assistant. In the installation assistant, make sure that the corresponding network adapter is listed under Installed and ready to use devices (realtime capable). If this is not the case, select an appropriate adapter from the list of Compatible devices and click Install. NOTICE For demo use only This status is not sufficient for a stable connection and operation of Gig E Vision devices. If the network adapter is only listed under this group after installation, a different adapter must be used. 58 Version: 2.4.0 TF7000 - TF7810
## Page 59

Development environment Other network protocols It is recommended to restrict the use of the network adapter to the Twin CAT Ethernet protocol and to assign a persistent IP address via the IP-Stack in the Twin CAT project. Because if several protocols have access to the network adapter, they could send packets that could cause errors in the camera communication. The setting for this can be found in the Windows properties of the network adapter. TF7000 - TF7810 Version: 2.4.0 59
## Page 60

Development environment Internet Protocol version 4 (IPv4) is only required if DHCP is to be used to set up the camera connection. When setting up a camera for the first time, the automatic assignment of a link-local address (LLA) can be helpful. In all other cases or after completing the initial settings, you can also disable the IPv4 protocol and configure the IP address manually in Twin CAT in the IP-Stack [} 60]. NOTICE Disabling other network protocols If possible, disable all network protocols on your Ethernet adapter except for the Twin CAT Ethernet Protocol. Otherwise, errors and delays may occur in the communication with Gig E Vision cameras. Specifying a persistent IP address If the PC should not automatically specify the IP address of the network adapter, but instead you wish to manually specify a persistent IP address, you can do this in Twin CAT as follows: 1. Open the IP-Stack of the RT-Ethernet adapter in the I/O configuration. 2. Select the Parameter (Init) tab and display further parameters by clicking the Plus (+) in front of Tc Io Ip Settings. 3. Specify the parameters . Ip Address and . Subnet Mask. 4. Set the parameter . Manual Settings to TRUE. The same setting is automatically assigned if you assign a manual IP address when creating a camera object [} 39]. Alternatively, a persistent IP address can also be defined via the Windows Network Adapter properties. NOTICE Persistent IP addresses To prevent the IP address of the network adapter from changing, specify a persistent IP address in the IP- Stack of the Twin CAT project. Operating multiple cameras on one port If you want to operate several cameras on the same RT Ethernet adapter, you must make sure that the UDP/IP settings allow this. Navigate to the UDP/IP stack under the RT Ethernet device and select the Parameters (Init) tab. In the parameter list that appears, set Ip Max Receivers and Udp Max Receivers such that they correspond to twice the number of cameras connected via this adapter. This is because there are two receivers per camera (GVCP and GVSP modules). The standard setting allows two camera connections, for which reason the parameters are set to 2 * 2 = 4. 60 Version: 2.4.0 TF7000 - TF7810
## Page 61

Development environment Diagnostics In case of problems with the connection, especially with sent or received frames, you will find a tab with statistics information in the RT Ethernet adapter and in the Ip Stack the Parameter (Online) tab with individual counter information. Details can be found in the appendix/troubleshooting at Camera communication [} 2862]. Promiscuous Mode Promiscuous Mode is a setting in Twin CAT RT Ethernet adapters. It is required for debugging purposes with the Wireshark tool. This mode can cause problems when communicating with Gig E Vision devices. NOTICE Avoid Promiscuous mode This mode can cause problems when communicating with Gig E Vision devices. Gig E Vision devices should therefore be operated without Promiscuous Mode! You can check this setting by opening the corresponding RT-Ethernet adapter in Visual Studio and switching to the Adapter tab. The checkbox for Promiscuous Mode (use with Wireshark only) must be deactivated. TF7000 - TF7810 Version: 2.4.0 61
## Page 62

Development environment 5.1.5 CPU cores and tasks The configuration of tasks and CPU cores is not specific to Twin CAT Vision, but is the same for all Twin CAT components. For instructions on how to do this, see Real-time settings and Task settings. The issues and considerations relating to Twin CAT Vision are described below. A Twin CAT Vision application requires tasks for various purposes: • Cyclic task for executing the PLC • Cyclic task for operating Vision devices • Job Task for parallelized PLC execution (Optional; this type of task is described separately in the chapter Job Tasks). Configuring PLC tasks Basically, all cyclic tasks required for Twin CAT Vision are created automatically. When a PLC is created, a task with a cycle time of 10 ms is generated. This means that image processing sequences in the PLC are repeated every 10 ms. You can change the task settings under SYSTEM > Tasks > [Task Name]. 62 Version: 2.4.0 TF7000 - TF7810
## Page 63

Development environment Cycle ticks The cycle ticks multiplied by the base time of the selected CPU core (by default 1 ms) produces the above-described cycle time of the PLC. Floating point exceptions This setting specifies whether or not Twin CAT checks for floating point exceptions. For Vision applications it is recommended to deactivate this option. Besides that, these error messages do not indicate the exact reason for the exception. Watchdog stack This setting must be activated if watchdogs [} 149] are to be used in the assigned PLC program. WARNING Floating point exceptions For PLC tasks that essentially execute Vision commands, it is urgently recommended that you deactivate the option "Floating point exceptions". Otherwise, unnecessary errors could occur with certain Twin CAT Vision API functions and lead to a system abort. However, this option must be active if Motion Control or Safety components are also executed on the same PLC task. NOTICE Floating point exceptions in Job Tasks If you also use Job Tasks [} 65] for Vision applications and have disabled the "Floating point exceptions" in the PLC task, you must also disable this option in the assigned Job Tasks. Otherwise exceptions and system crashes can still occur. Configuration of device tasks The required tasks are generated automatically when creating Vision devices. The cycle times of these tasks can be adjusted as described above. For most cases it is recommended not to change the cycle times of these tasks. This is only necessary in special cases. If the link of a Vision device with a task should have to be adjusted, this is done on the Context tab of the respective Tc COM objects of a Gig E Vision camera [} 126] or File Source [} 133] object: The following Tc COM objects must be linked to a cyclic task, if they are used: TF7000 - TF7810 Version: 2.4.0 63
## Page 64

Development environment • Camera Image Acquisition [} 126] • Camera Image Acquisition Simulation [} 127] • ADS Communicator [} 127] • File Image Acquisition [} 133] If suitable tasks already exist under the selected device name when creating a Vision device, they can optionally be reused. In this case the following window appears; click Yes to confirm the reuse: Reuse of device tasks When reusing device tasks, it should be ensured that they are not used by several Vision devices at the same time. Assignment to CPU cores The assignment of tasks to CPU cores takes place in the Twin CAT project under SYSTEM > Real-Time > Settings. In multi-core systems, Twin CAT enables a distinction between Windows cores and isolated cores. With Windows cores, the operating system and the Twin CAT application share the processor time. The real- time portion can be limited to between 10% and 90%. In contrast, isolated cores are fully available to the Twin CAT application. For this reason, the use of isolated cores is recommended for Vision applications. To display the current CPU core configuration of the target system, click Read from Target. To change the CPU core configuration of the target system, click Set on Target and select the desired distribution of divided and isolated cores. 64 Version: 2.4.0 TF7000 - TF7810
## Page 65

Development environment After that the target system must be restarted. Recommendation We recommend using at least one dedicated, isolated core for the Vision tasks (device and PLC). If there is a large load on the Tc Vn Service due to the saving or loading of images (by camera streams, a File Source Control or direct from the PLC), we recommend reserving one core entirely for Windows or severely limiting the real-time portion of a core. If multiple Tasks are assigned to a core, priority must be considered. As a rule, tasks with shorter cycle times should be assigned a higher priority. 5.1.6 Job tasks Job Tasks are used by Twin CAT Vision to parallelize functions. Depending on the system in use, its configuration, the API functions in use, the image content and the number of job tasks, this can lead to a shortening of the execution time. The supported functions are marked in the API reference [} 140] by the comment “Can use available Twin CAT Job Tasks for executing parallel code regions.” The Vision Job Pool [} 134] is used to assign which Job Tasks are used by Twin CAT Vision. Job Tasks only need to be created and configured once; thereafter the parallelization takes place automatically in the runtime. Benefit of Job Tasks The actual benefit of Job Tasks must be checked in the individual case. This is dependent on the system in use, its configuration, the API functions in use, the image format, the image content and the number of Job Tasks. Use Like other tasks, Job Tasks can be created via the Solution Explorer > SYSTEM >, right-click Tasks > Add new item.... In the following Insert Task Dialog, select the type Twin CAT Job Task (Worker Task). A corresponding CPU core assignment can then be made via Solution Explorer > SYSTEM > Real-Time, like for all other tasks. Observe the notes under Restrictions and recommendations [} 66]. TF7000 - TF7810 Version: 2.4.0 65
## Page 66

Development environment NOTICE Floating point exceptions This setting specifies whether or not Twin CAT checks for floating point exceptions. The same option should be selected here as in the Configuration of the corresponding PLC tasks [} 62]. Otherwise exceptions and system crashes can occur. The assignment of which job tasks are used by Twin CAT Vision is made via the parameter list of the Vision Job Pool [} 134]. The Vision Job Pool can be found in the Solution Explorer below the Vision node, as soon as an application has been created there. Prioritization Prioritization of Vision Job Pool access If several programs that are executed in parallel share the Vision Job Pool, the program with the highest task priority is generally granted access to the Job Tasks. However, this assignment is dynamic, i.e. if the program with the highest priority is currently in a sequential processing section, lower-priority programs can use the Job Tasks. As soon as a higher-priority program can process tasks in parallel, the tasks of lower- priority programs are displaced. However, the master task of the lower-priority program is able to terminate a task started in parallel on its own, so that there is no need to wait for a new availability of Job Tasks. Several tasks on one CPU core As indicated in the section on restrictions and recommendations, a Job Task should not share a core. Otherwise, the task priorities apply. Restrictions • Job Tasks can currently only be used for Twin CAT Vision. • More than one Job Task may not be assigned to the same CPU core. • A Job Task should not be assigned to the same CPU core as a Vision PLC task. • A Job Task should not be assigned to the same CPU core as the Plc Aux Task. Recommendations • Each Job Task should be assigned to a dedicated isolated CPU core. • However, if another cyclic task runs on the same CPU core as a Job Task, the priority of the cyclic task should be higher than that of the Job Task. It should be noted that this restricts parallelization and, in the worst case, make it unavailable. • No job task should be assigned to the "default" CPU core. If cyclic Twin CAT tasks or the Windows operating system claim computing time on the CPU core at the same time, an analysis is hampered due to the varying load of the Job Task. 5.2 VISION node Components that are relevant for image processing are configured via the VISION node and its sub- elements. It has tabs for Service Configuration [} 67] and Logging [} 69]. Displaying the VISION node If the VISION node is not displayed in your Twin CAT project, right-click on your Twin CAT project and select Show Hidden Configurations > Show VISION Configuration to show the Vision node. The next step is to create an Application node [} 69]. 66 Version: 2.4.0 TF7000 - TF7810
## Page 67

Development environment 5.2.1 Service Configuration The Vision Service offers a non-real-time counterpart for some real-time components (e.g. function blocks). For this purpose the Vision Service implements an ADS server, which enables access from both the real- time and development environments. The Vision Service enables the Twin CAT Vision API function blocks to indirectly access the hard disk from the real-time environment, e.g. to load or save images. The Vision Service is configured under VISION > Service Configuration. Vision Service status Service on Target Machine Target system on which the Twin CAT Vision Service is running. Connection Status of the connection between the development environment and Service. This is a good indicator of whether the Service is running properly. Version Version number of the Twin CAT Vision Service. Before it is used for the first time, the Vision Service must be installed on the target system, see Setup instructions [} 18]. Manually starting the Vision Service The Vision Service is normally started automatically together with Twin CAT. However, if the Vision Service is offline, it can be reactivated with a Twin CAT restart (click or ). If this does not work, or if the Service repeatedly fails to start, it should be re-registered with Twin CAT; see: Vision Service doesn't start [} 2849]. TF7000 - TF7810 Version: 2.4.0 67
## Page 68

Development environment Default Directories These paths define the point on the target system at which Twin CAT Vision, by default, should search for files and save them. Default Image Directory This is the default path used by the function blocks to read and write images: FB_VN_Read Image [} 1599] FB_VN_Write Image [} 1606] Default Container Directory This is the default path used by the function blocks to read and write containers: FB_VN_Read Container [} 1597] FB_VN_Write Container [} 1604] Default ML-Model Directory This is the default path used by the function blocks to read and write ML models: FB_VN_Read Neural Network [} 1610] FB_VN_Read Ml Model [} 1600] FB_VN_Write Ml Model [} 1608] Default Calibration Directory This path is used by default by the function blocks for reading and writing calibration results: FB_VN_Read Calibration Result [} 1595] FB_VN_Write Calibration Result [} 1602] A complete list of all important paths can be found in the section Important paths [} 2845]. Vision Service Log All important service events are written to the log file Tc Vn Service.log on the target system, which can be found under C:\Program Data\Beckhoff\Tc Vn Service. In case of support questions regarding the Twin CAT Vision Service, the log file and the time at which the behavior occurred must be sent as well. The development system also features a logger [} 69] for all components under the Vision node. Vision Service Cache settings By default, the Vision Service caches the images it reads in order to provide the requested images more quickly the next time they are retrieved. This optimized mode of operation covers the requirements of most applications and is therefore recommended. In case the image content changes but the file name remains the same, image caching can be disabled. To do this, open the Vision Service settings at C:\Program Data\Beckhoff\Tc Vn Service\settings.json on the target system, change the default value of the update Cache On Read Size parameter from 0 to 1 and save the file. Exit Vision Service To change the settings, the Twin CAT Vision Service (Tc Vn Service.exe) must first be terminated via the task manager, otherwise the changes will not be applied. After that, the service can be restarted by restarting in Config Mode. NOTICE Inconsistent data Ensure that the same file is not accessed simultaneously by multiple processes, which can lead to file corruption or inconsistent data. 68 Version: 2.4.0 TF7000 - TF7810
## Page 69

Development environment 5.2.2 Logging The Vision node has a logger which, depending on the Log Level, logs all important events of the Twin CAT Vision components underneath the VISION node. The settings can be found under VISION > Logging. The following settings are available: Log Level Level Description Error Only error messages are logged. Warning Error messages and warnings are logged. Information Error messages, warnings and important events are logged. [default] Verbose Error messages, warnings and all important events are logged. Log file By default, the log file with the name Twin CAT. XAE. Vision.log is saved in the directory C: \Program Data\Beckhoff\Vision. This can be changed in the Logging tab. The same applies to the maximum size of a log file and the maximum number of files. If the limits are reached, old data is overwritten. In case of support enquiries relating to behavior within the Vision node, please include the log file and the time at which the behavior occurred. Other loggers The Vision Service [} 67] also has a logger on the target system. In addition, there is a log file for the Twin CAT Vision installation. All relevant logging paths are listed in the section Important paths [} 2845]. 5.3 Application node A Twin CAT Vision configuration can contain several application nodes, all of which are located inside the VISION node. An Application node is created as follows: 1. Right-click on VISION node → Add New Item… TF7000 - TF7810 Version: 2.4.0 69
## Page 70

Development environment 2. Enter a name for the Application node and click OK. Gig E Vision Camera nodes [} 70] and File Source nodes [} 129] are created under the Application node. The purpose of Application nodes is consolidation of thematically related Vision devices. The following figure shows an example structure with several Vision applications: In addition, application nodes enable the common export/import [} 138] of several Vision device configurations in a single XTI file. 5.4 Gig E Vision Camera objects Each Gig E Vision Camera object represents a camera within a project. A project can contain several camera objects. Creating a Gig E Vision Camera object Creating a camera is described in First Steps [} 28] under Creating a Gig E Vision camera [} 39]. Refer here to the notes on the configuration of network adapters [} 57] and device tasks [} 62]. After creating a camera, the system automatically tries to read the Gen API file from the camera. This file contains the complete description of the parameter tree of the camera (see Gig E Vision Standard [} 125]). On the basis of this description, the configuration tree is then made available in the Configuration Assistant [} 76] and the current parameter values are read by the camera. Selecting a connected camera To link a camera connected to the target system with a Gig E Vision Camera object, the Camera Initialization Assistant can be opened by right-clicking the corresponding camera object and selecting Choose Target Camera. Alternatively, this dialog can also be opened via the Connection Options on the General [} 72] tab. 70 Version: 2.4.0 TF7000 - TF7810
## Page 71

Development environment Camera Name Display of the name of the selected camera object. Camera Ip Address IP address that is saved in the Tc COM parameters. The entry will be overwritten on selecting a camera and also updated in the module with OK. Discovery Timeout The Discovery Timeout describes the time allowed for the response from the camera that was connected to the respective network port. Unit: milliseconds (ms) Default: 1000 Set Ip Address for Device Opens the following Force Ip Address dialog in order to set the IP address and subnet mask of a camera. The specified IP address and subnet mask are saved in the Tc COM parameter Camera IPAddress in the Image Acquisition Object [} 102]. Manufacturer Filter: Beckhoff Enables a filter so that only cameras from the manufacturer Beckhoff are displayed in the results table. Discover Devices The search procedure is started with Discover Devices. Results table of the camera connections found List of the cameras found and display of the following camera information read out: model name, manufacturer, IP address, subnet mask, MAC address, version, serial number and user identification TF7000 - TF7810 Version: 2.4.0 71
## Page 72

Development environment MAC Address MAC address of the selected camera. Desired Camera Settings Enter the desired IP address, subnet mask and gateway to which the camera is to be set. Network Adapter Settings Current IP address and subnet mask of the network adapter with which the camera is connected. Timeout Timeout for the camera's response to the command to force the IP settings. Exporting/importing Gig E Vision Camera objects If you wish to save the configuration of a camera or import it into a project, follow the instructions in the chapter Exporting/importing configurations [} 138]. 5.4.1 General The General tab provides an overview of the camera object in Twin CAT and the connected camera. 72 Version: 2.4.0 TF7000 - TF7810
## Page 73

Development environment General object information The upper part contains general information about the camera object: TF7000 - TF7810 Version: 2.4.0 73
## Page 74

Development environment Name Selected name of the object. Do not assign an object name more than once! Object Id 32-bit identification number that is automatically assigned and unique within a project. Type Object type. Comment Freely editable field for user notes. Id Identification number of the camera modules, which is assigned consecutively. If a camera module is deleted, the number becomes free again and can be assigned to a new camera module. Status of the camera instance The middle part contains status information for the camera instance: The following table explains the individual elements: 74 Version: 2.4.0 TF7000 - TF7810
## Page 75

Development environment Connection Displays the connection status to the camera. Via the button the display can be updated with Refresh Camera Status. In addition, it is possible to open the dialog for selecting a camera with Choose Target Camera Possible status: • Unknown: The connection to the camera cannot be checked. The camera module may not be in the operating state or creation of the camera module may have been incomplete. • Online: The connection to the camera is established. • Offline: There is no connection to the camera. • Disabled: The camera node is disabled. There is no communication with the camera. • Not in Config Mode: The connection status can only be displayed here in Twin CAT Config Mode. • Loading: The camera module is initialized. Gen Api Descr. This indicates whether the Gen Api structure (feature tree in the Configuration Assistant [} 76]) was successfully created. Status options: • Available: Gen Api structure was successfully created. • Not Available: Gen Api structure was not created. No features can be displayed. The button also allows the following actions: • Read Gen Api Description from Camera: The Gen Api description of the camera is read. At the same time, all features in the configuration tree [} 80] are reset. • Export Gen Api Description: The Gen Api description of the camera is saved locally. Param. Values Status options: • Up To Date: All features of the camera have values and are up-to-date (camera online). • Complete: All features of the camera have values, but these may be outdated (camera offline). • Incomplete: Not all features of the camera have values. The button also allows the following actions: • Write Local Changes: All local parameter values that deviate from the camera values (marked in orange in the configuration tree [} 80]), are written to the camera. • Revert Local Changes: Any local changes in the feature tree that have not yet been written to the camera will be reset. TF7000 - TF7810 Version: 2.4.0 75
## Page 76

Development environment Simulation Mode In simulation mode, images from recorded camera streams can be sent to the PLC instead of a real camera supplying images (see Record/ Playback [} 104]). If the simulation mode is activated, the Image Acquisition Object is automatically deactivated and the Image Acquisition Simulation Object is activated. If the simulation mode is deactivated, the Image Acquisition Object is automatically activated and the Image Acquisition Simulation Object is deactivated. The corresponding object links (see Camera details [} 126]) will each be adjusted automatically. Default: disabled. ADS Communication Module Required for the recording of a camera stream, see Record/Playback [} 104]. This checkbox merely activates or deactivates the Ads Communicator object of the Camera object. Please note that if Ads Communicator object is activated, images captured by the camera will still be internally referenced for a short while so that they cannot be transformed into displayable images. For further details see Displayable images [} 154]. Default: disabled. Clear Messages Use this button to delete the messages written by this camera object. The button is only active if messages are present. Camera information In the lower part, general camera information is displayed as far as it could be read from the camera (e.g. manufacturer and model name of the camera). This information can also be found in the configuration tree [} 80]. 5.4.2 Configuration Assistant Both the camera parameters and the communication behavior can be configured on the Configuration Assistant tab. The Configuration Assistant has four sections: • Image preview [} 77] • Configuration tree [} 80] 76 Version: 2.4.0 TF7000 - TF7810
## Page 77

Development environment • Initialization Commands [} 90] • Actions & settings [} 88] • Tc COM parameters [} 102] 5.4.2.1 Image preview The area on the left in the Configuration Assistant features a preview window and some operating elements. TF7000 - TF7810 Version: 2.4.0 77
## Page 78

Development environment In this image preview, only 8-bit integer images are correctly displayed. Lower bar Below the preview window are the controls for starting / stopping the preview and information about the cursor position on the image: 78 Version: 2.4.0 TF7000 - TF7810
## Page 79

Development environment Start/Stop Acquisition Button for starting or stopping image acquisition. Grab Single Button for triggering a single image. De-Bayering Images in Bayer format can alternatively be previewed as RGB images. If this option is activated, the next image from the camera will be converted, not the present one. Pixel Value The color or intensity value of the pixel at the mouse cursor position on the image is indicated here. Cursor Position Shows the mouse cursor position on the image. Please note that the zero point for images is always at the top left. Image size The size of the displayed image is shown here in pixels. Image acquisition and trigger settings Make sure that the image acquisition and trigger settings of the camera are selected in such a way that the camera reacts to the commands. If, for example, the Trigger mode of the camera is active, the camera will not automatically send images at the start of the image acquisition. See the example Image acquisition and trigger [} 2834] for more details. Upper bar Above the preview image there are some controls for facilitating the camera configuration and adjustment of the image display. Camera configuration After clicking this button, an ROI can be drawn Set ROI directly in the preview image by holding the left mouse button down. This ROI is written to the camera parameters, so that the next image is sent with the set ROI. After clicking this button a previously set ROI will be Reset ROI deleted, i.e. image size and offset will be set to the default values of the camera. Clicking will perform a white balance on color Whitebalance cameras. The camera must support the following Gen API parameters for this: Balance Ratio Selector and Balance Ratio (or Balance Ratio Abs for older cameras). In addition, the camera image must contain a white (not overexposed or reflective) object, such as a sheet of paper, for white balance. Following a white balance, the necessary values are saved in the named Gen API parameter and can be adopted into the Initialization Commands [} 90] or User Sets. Automatically persistent storage on the camera may be specific to the camera concerned, but is not a standard feature. This button is only active if there is a valid color format (3-channel images as RGB or 1-channel images in the Bayer format). Displayed image size TF7000 - TF7810 Version: 2.4.0 79
## Page 80

Development environment Adjustment options for the image display size. The image can be scaled between 20% and 6400% of the original size using the slider or by entering a value in the text field. After clicking on the left button, a rectangular area can be dragged directly in the preview image by holding down the left mouse button. The scaling is then adjusted accordingly so that the selected area is displayed in the preview. By clicking on the “Fit to window” button, second from the left, the display size is automatically selected so that the preview makes the best possible use of the available space on the screen. Interpolation Here you can choose between different interpolation methods to scale the image from the original size to the display size: High Quality High-quality interpolation with smooth edge and pixel transitions. Nearest Interpolation by adopting the locally nearest pixel value, whereby the individual pixels are displayed visibly and delimited. This method can be used to check pixel values. Right-click the image Start Acquisition Start image acquisition. Stop Acquisition Stop image acquisition. Save Current Image Save image as bitmap, JPEG or PNG. 5.4.2.2 Configuration The Configuration tab consists of 3 areas, which are described individually below: • Filter and controls • Configuration tree • Properties window 80 Version: 2.4.0 TF7000 - TF7810
## Page 81

Development environment Filter elements With the help of filter elements, features can be found quickly and easily in the configuration tree and in the Initialization Commands list: • Click on the symbol to expand all tree elements. All parameters are visible. • Click on the -symbol to collapse all tree elements. Only the main groups are visible. • Clicking the icon will filter the tree items and display only the lines with a change. The button is only enabled when changes are displayed. TF7000 - TF7810 Version: 2.4.0 81
## Page 82

Development environment • The search line filters the parameters by specific character strings or (hexadecimal) addresses. When entering a string, the background of the text box is white and an additional button for deleting or resetting the filter appears. If an entry has been confirmed by pressing Enter or clicking the filter button, the text box is also highlighted in green. This indicates whether the current string corresponds to the active filter and therefore the view of the tree elements. • In accordance with the Gen ICam standard, the three visibility levels Beginner, Expert and Guru can be selected. The visibility level of each feature is stored in the Gen Api file of the camera. In addition, there is the All entry, which displays all entries, including invisible features. There is also the Common entry, which only displays the predefined or self-defined features. Common Features List The Common Features List is a predefined list that contains the most common or most frequently used features for configuring a camera. The name from the Gen ICam Standard Features Naming Convention (SFNC) is used for the predefined registers. Therefore, the number may differ depending on which features the respective camera basically supports and whether the standard name was used. The list of included features can be individually expanded or reduced. To add a camera feature, select an entry and click the button to add it. If the feature is already included in the list, it can be removed using the button . All changes are saved in the Twin CAT project. Categories and selectors cannot be added. The list can be reset to the predefined state via the "Reset Common Features configuration" entry in the action menu. The "Common" list can be selected as a filter for both configuration and initialization commands. Controls The functions of the buttons from left to right are: Read Camera Parameters All parameter values are read from the camera and written to the configuration tree. This must first be confirmed by the following dialog: Write Local Changes All local parameter values that deviate from the camera values (marked in orange in the configuration tree), are written to the camera. Revert Local Changes Any local changes in the feature tree that have not yet been written to the camera will be reset. 82 Version: 2.4.0 TF7000 - TF7810
## Page 83

Development environment Configuration tree The configuration tree contains three main groups: • Tc COM Parameters: Parameterization of the communication behavior between Twin CAT and the connected camera. An explanation of these parameters can be found in chapter Tc COM parameters [} 102]. • Gig E Vision: Information about the camera according to the Gig E Vision standard, and IP configuration option. Depending on the camera, the settings may also be available in the Camera Features tree. • Camera Features: Camera parameterization based on the Gen ICam standard. The description of all camera features is read automatically from the Gen API file by the camera. A feature can be an executable command, a (changeable) parameter or an organizational element. For some settings (e.g. image acquisition/trigger, binning, exposure time, etc.), see Camera configuration samples [} 2830]. For details on the parameters of a particular camera, please refer to the corresponding vendor documentation. In addition, the Gen ICam standard [} 125] describes how the Camera Feature tree is structured. Camera Features Information Three pieces of information about the Camera Features are displayed above the configuration table: • Visible: Number of all currently visible or displayed features, depending on the active filter settings. • Editable: Number of "Visible" features that can be edited. The number generally depends on the current camera parameterization and therefore varies. • Changes: Total number of changes within the Camera Features tree. This number is only displayed if there are changes, regardless of the active filter settings. TF7000 - TF7810 Version: 2.4.0 83
## Page 84

Development environment If you click a feature in the configuration tree, the properties of the feature will be displayed underneath the tree. Setting of parameters Changeable features can be changed via a text box, a slider, a combo box or a checkbox. Read-only features are grayed out. The following buttons are available for every changeable configuration element: Write Value Writes the local change to the camera. Reset Value Deletes the local change if there is a difference between the local and camera value. Load Value Loads the current value of the parameter from the camera. If the set parameter value deviates from the actual value on the camera, the parameter and higher-level elements in the configuration tree will be marked in orange. In addition, the lines with changes are marked with an icon and the deviation is displayed in the properties window. An orange "Changes" note above the table generally indicates changes in the list. 84 Version: 2.4.0 TF7000 - TF7810
## Page 85

Development environment Offline changes The parameters in the configuration tree are also changeable if the camera is offline or if the target is in Run mode. In this case the parameters are not written directly to the camera, but only saved in the project. As a result of this, it is possible to make offline parameter changes that can be synchronized with the camera at a later time. Feature properties The properties of the individual features are displayed underneath the configuration tree. This includes the size and address of the respective camera register, access rights and a description. TF7000 - TF7810 Version: 2.4.0 85
## Page 86

Development environment 86 Version: 2.4.0 TF7000 - TF7810
## Page 87

Development environment Property Description Name Name of the parameter. Beckhoff Tooltip Contains additional information and is only displayed in special cases. For example, the Acquisition commands are disabled, as only the controls for starting / stopping the preview should be used. Value Local value of the parameter. If the local value deviates from the camera value, the camera value is additionally displayed in orange. Min Value Minimum set value. Only displayed if a minimum value has been specified for the feature in the Gen Api. Max Value Maximum set value. Only displayed if a max. value has been specified for the feature in the Gen Api. Increment Increment of the value change. Only displayed if a minimum value has been specified for the feature in the Gen Api. Address Hexadecimal address of the parameter on the camera Length Size of the parameter in bytes Endianness Byte sequence of the parameter. This property must be observed when using the function blocks FB_VN_Read Register [} 1575] and FB_VN_Write Register [} 1583]. Sign • Signed: Parameter is signed • Unsigned: Parameter is unsigned Cachable Specifies whether the parameter value is cached when no camera is connected. • Write Through: The value is written both to the camera and to the project cache and project memory. • No Cache: According to the Gen API description of the camera, the value of this camera parameter should not be saved locally. Therefore, this parameter may be empty if there is no camera connection. Access Access rights for reading and writing this parameter on the camera. Register Value Register value of the parameter. This can deviate from the displayed value if it is a known type. Example: Name: Pixel Format Value: Bayer RG8 Register Value: 13 Bitmask Bit mask used, only displayed for masked registers. Register Type Data type of the register. This type indicates which of the read / write function blocks is to be used. Visibility Visibility level of the parameter. Possible values: Beginner, Expert, Guru and All The visibility of parameters can be set with the filter elements [} 81]. Display Name Name of the feature to be displayed. Category Name of the category in which the feature is sorted. Common Feature Indicates whether the feature is included in the Common Feature List. Description Meaning of the parameter These properties are required, for example, if a parameter is to be read or changed from the PLC. Essentially, attention must be paid to Address, Length, Endianness and Register Value. The corresponding function blocks can be found in the API reference under Camera Register Access [} 1572]. Depending on the data type of a register, further properties such as Min/Max/Increment may be added. Selectors Selectors are parameters that are used for the grouping and selection of several sub-features. In order to use a sub-feature, the Selector parameter must first be set to suit (both in the configuration assistant and in the PLC). TF7000 - TF7810 Version: 2.4.0 87
## Page 88

Development environment If a Selector parameter has no address property, it does not point to a camera register. It then serves merely to provide a clearer display in the configuration assistant. In this case the sub-parameters can be changed directly from the PLC. In order to take into account all sub-parameters of a Selector when creating the Initialization Commands, iteration takes place automatically over all sub-features. A corresponding setting can be found in Actions & settings [} 88]. An example of a Selector is the Trigger Selector: 5.4.2.3 Actions & settings Actions At the top right is the action button , which can be used for further actions or additional settings: Export Gen Api Description... The camera's Gen API description is stored locally in a path to be specified. Reset Common Features Resets the Common Features List to the configuration… predefined state. Preferences... The settings window described below is opened. Loading of saved Gen API file not possible The loading of a saved Gen API file is not possible because a connection to the camera is needed in order to read some camera features. Settings 88 Version: 2.4.0 TF7000 - TF7810
## Page 89

Development environment Overwrite Camera Parameters This setting controls whether saved camera when loading Project values should be written directly to the camera when the project is loaded. This ensures that the camera is automatically in the state in which the project was last saved when it was configured. This only works when the camera objects are initialized for the first time after the project has been loaded, provided that the camera is connected at the time and Twin CAT is in Config mode. Default: activated Automatically calculate the If this option is active, the maximum number of Max Packet Number required (and allowed) packets for an image is automatically determined after reading out all camera parameters. The calculation is based on image size and pixel format. The calculated value is only written to the responsible GVSP object if it is greater than the current value. This functionality automatically adjusts the reserved space for an image to be received to the actual amount of image data. Default: activated. Autostart Preview If this option is active, the live image of the camera is automatically displayed when the Configuration Assistant [} 76] is opened, if this is possible. Default: disabled. ADS Communication Timeout The Communication Timeout relates to communication within the camera instance in Twin CAT. It only has to be increased if other timeouts in the GVCP or GVSP module also have to be increased. Unit: milliseconds (ms) Default: 3,000 (adapted to the camera) Use GVSP Min Packet Delay for If this option is active, the Min Packet Delay from streaming in config mode the GVSP module is used to reduce the bandwidth in Configuration Mode. If you switch this option off, the frame rate of the camera will be reduced instead. Default: activated. Iterate Selectors automatically When this option is active, camera enumeration parameters that act as selectors are automatically iterated. The value of a selector parameter is used as an index for addressing other parameters. By changing a selector value, the dependent parameters can be changed accordingly, thus achieving consistent parameterization of the camera. Without this iteration, only the parameters of the currently selected selector would be described. This applies to the settings in the configuration tree [} 80] as well as when creating the Initialization Commands [} 90]. Default: activated. TF7000 - TF7810 Version: 2.4.0 89
## Page 90

Development environment NOTICE Effect on Initialization Commands If the Iterate Selectors automatically option is changed, the Initialization Commands [} 90] must then be recreated. Re-create the Initialization Commands by clicking the Create button on the Initialization Commands tab. 5.4.2.4 Initialization Commands The purpose of the Initialization Commands is to save a specific parameter configuration for a camera and, if required, to set the camera to this configuration. This functionality is necessary because the camera always reflects the delivery state after a restart. The initialization can take place automatically when starting Twin CAT or manually by means of a method call in the PLC. The initialization commands are comparable with the startup list of Ether CAT devices or with User Sets. The User Set is a Gen API feature that allows saving and automatically loading a configuration in the camera. User Sets are not required by the Gig E Vision standard and are therefore not natively provided in all cameras. In order to be able to provide such functionality uniformly for all Gig E Vision cameras, Twin CAT Vision offers the possibility with the initialization commands. Of course, Uset Sets can also be used as an alternative if available. In addition to this general information, the initialization commands can be divided thematically into the following areas: • Configuration [} 91] • Creation [} 96] • Troubleshooting [} 98] Camera state after a boot process After a Gig E Vision camera has been booted, it contains by default the factory settings in the configuration. In order to restore a previous configuration status, the respective parameters must initially be written to the camera via User Sets, via Initialization Commands or in the background by the camera assistant The role of the Initialization Commands can be described as follows: The read and write operations are triggered as follows: 90 Version: 2.4.0 TF7000 - TF7810
## Page 91

Development environment Action Trigger Reading parameters from the camera • Initial reading after setting up the camera • Reading when restarting the Tc COM objects (e.g. when clicking Load Devices) • Click on Read Camera Parameters Writing individual parameters to the camera • Individual changing and writing of the parameters by clicking Write Value in the configuration tree [} 80]. • Click on Write Local Changes • When connecting a camera for the first time after loading a Twin CAT project, if Overwrite Camera Parameters when loading Project is activated in the Settings [} 88] Creating Initialization Commands in the camera • Click in the Initialization Commands tab on Create object from current parameter values and Test the selected Initialization Commands Writing parameters from the initialization • If the Image Acquisition Tc COM object is switched to commands to the camera the OP state (start of Twin CAT), dependent on the parameter Initialization Auto Mode in the Image Acquisition [} 102] object. • Call via a method of function block FB_VN_Gev Camera Control [} 1622] 5.4.2.4.1 Configuration The Initialization Commands tab consists of 3 areas, which are described individually below: • Filter and controls • Configuration list • Properties window TF7000 - TF7810 Version: 2.4.0 91
## Page 92

Development environment Filter elements With the help of filter elements, features can be found quickly and easily in the configuration tree and in the Initialization Commands list: • Click on the symbol to expand all tree elements. All parameters are visible. • Click on the -symbol to collapse all tree elements. Only the main groups are visible. 92 Version: 2.4.0 TF7000 - TF7810
## Page 93

Development environment • Clicking the icon will filter the tree items and display only the lines with a change. The button is only enabled when changes are displayed. • The search line filters the parameters by specific character strings or (hexadecimal) addresses. When entering a string, the background of the text box is white and an additional button for deleting or resetting the filter appears. If an entry has been confirmed by pressing Enter or clicking the filter button, the text box is also highlighted in green. This indicates whether the current string corresponds to the active filter and therefore the view of the tree elements. Controls The left group of buttons provides the basic functionality. The functions from left to right are: Button Description Create and test the selected The Initialization Commands are created with the current values of Initialization Commands the configuration list. The parameters are also written to the camera and read back for testing. Delete changes and Initialization The Initialization Commands created and stored in the Tc COM object Commands are deleted. This also applies to all other changes that have been made to the list. This resets the entire list to its initial state. Apply generated Initialization The Initialization Commands created and stored in the Tc COM object Commands are written to the camera. The right group of buttons provides special functionality that is only active for the entries under the Camera Register node. The functions from left to right are: Button Description Select all features of the All entries below the Camera Register category are selected. Camera Register category Deselect all features of the All entries below the Camera Register category are deselected. Camera Register category Move element up The selected element is moved up one list position. Move element down The selected element is moved down one list position. Copy element A copy of the selected element is created. The set value is also copied. The value of the copied entry cannot be changed later. Remove copied element Removes a previously copied element. Rename copied element Opens a window to rename the copied item. Configuration list The configuration list contains three main groups: • Force IP: If this option is active, a Force Ip is performed when initializing the camera in the runtime. The Camera IPAddress from the Image Acquisition Module [} 102] is used. Since the command is sent to the respective Mac address of the camera, the Initialization Commands must be regenerated with the changed address when the camera is replaced. The values used are only displayed here. Default: disabled. • User Set: Some cameras have a User Set function that can be used to load an image of parameters stored in the camera in order to initialize the camera. If the camera provides this function, the desired User Set can be selected here. If the option is active, the commands for selecting and loading the corresponding User Set are written to the Initialization Commands. Default: disabled. TF7000 - TF7810 Version: 2.4.0 93
## Page 94

Development environment • Camera Features: In this group, the registers are displayed depending on the selected filter. With All, all registers are listed that are declared as writable in the read Gen Api file and are available in the current camera configuration. This applies independently of the stored visibility, therefore also invisible registers are listed, which are displayed in the configuration tree only with the visibility level All. The Common entry displays all writeable registers from the Common Feature List, including the required selectors. The initial order corresponds to the order in the Gen Api file. If the Camera Features option is active, all registers selected below it are used for the creation of the Initialization Commands. It is possible to select and deselect the individual registers and changes are done with the corresponding operating elements. Registers that have the same address and differ only by masking are displayed only with a checkbox, because they cannot be written independently. Changes to the created Initialization Commands are identified in color and graphically. Default: activated. The Reset Value button can be used to reset individual value changes to the generated values. The Apply generated Initialization Commands button can be used to reset all values to the generated status. When selecting or deselecting one of the groups or changing a setting below the groups, the Initialization Commands must be recreated. When using User Sets, the Initialization Commands contain the necessary User Set commands instead of the parameters. The User Set and Camera Register options are mutually exclusive. Camera Features Information Three pieces of information about the Camera Features are displayed above the configuration list: • Selected: Number of all currently selected Camera Features from the maximum number of available features. This is generally dependent on the current camera parameterization and therefore varies. • Generated: Number of the most recently created Initialization Commands stored in the project. • Changes: Total number of changes within the Camera Features list. This number is only displayed if there are changes, regardless of the active filter settings. 94 Version: 2.4.0 TF7000 - TF7810
## Page 95

Development environment Selector Feature If Iterate Selectors automatically is active in the settings [} 88], there is a separate group for each value of a Selector feature. Within this group, all registers that are dependent on the selector value and are writable are displayed. Therefore, the group and register names can occur more than once, in which case the values or register addresses differ. If the setting is not active, there is only one entry per selector. Properties window The Properties window displays the following information about the selected feature: TF7000 - TF7810 Version: 2.4.0 95
## Page 96

Development environment Property Description Name Name of the parameter. Value Local value of the parameter. If the local value differs from the Initialization Commands value created, the feature is displayed in orange. Address Hexadecimal address of the parameter on the camera. Length Size of the parameter in bytes. Register Value Register value of the parameter. Command Includes List of features that are summarized in a write command. For example, masked registers, which can be recognized by the fact that two or more entries can be found under a checkbox. Display Name Feature display name. Category Name of the category in which the feature is sorted. Common Feature Indicates whether the feature is included in the Common Feature List. Description Meaning of the parameter. Information Information whether the value is different (orange), the feature is added (green) or removed (black, strikethrough). 5.4.2.4.2 Creation The creation of the Initialization Commands can only be initiated via the button Create and test the selected Initialization Commands on the Initialization Commands tab. Before doing so, the settings or changes should be checked to ensure that all required registers are selected or those not required are deselected and that the register values correspond to the desired settings for operation. Creation steps The creation of the Initialization Commands comprises several actions that are performed in the background: • Test writing of the Initialization Commands to the connected camera. • Test reading of the previously written Initialization Commands from the connected camera. • If value differences or errors are detected, a list with detailed information appears. If no critical errors have occurred, the user can still accept the error-free Initialization Commands. • Write the Initialization Commands array to the Image Acquisition Tc COM object of the camera. Test writing and subsequent reading enables you to validate whether the camera accepts the initialization commands. One of the following windows is displayed during the generation: 96 Version: 2.4.0 TF7000 - TF7810
## Page 97

Development environment The following status information is displayed: Number of Features Number of parameters with which the Initialization Commands were created. Iteration Number of previous attempts to write the Initialization Commands to the camera. In case of success, this is "1". In case of failure this value increases, as an attempt is made again to write the Initialization Commands successfully to the camera without the erroneous parameters. Normally no more than two iterations should occur; if they do, however, the concatenation in the Tc COM parameters of the Image Acquisition must be deactivated. Number of Errors Number of errors that have occurred. These are described in more detail in the following window. If the writing of the Initialization Commands to the camera works very quickly and successfully, the window disappears again immediately and is not visible. Messages After the successful creation of the Initialization Commands, the camera - due to the test writing - has exactly the configuration that will be written to the camera during operation later on. If errors occur during the test writing of the Initialization Commands to the camera, these are displayed in the following window: Fig. 1: Uncritical errors when creating Initialization Commands TF7000 - TF7810 Version: 2.4.0 97
## Page 98

Development environment As long as no FATAL errors have occurred, the Initialization Commands can be created and saved anyway by clicking Create anyway. In this case the erroneous parameters will be excluded from the Initialization Commands and accordingly not written to the camera later on. In the case of a FATAL error the Initialization Commands cannot be saved. Therefore, you cannot click Create anyway. First of all the cause of the error must be rectified. These error cases and their rectification are described below Troubleshooting [} 98]. Warnings when creating the Initialization Commands Warnings can also occur in addition to errors. These are mostly just an indication that the camera has not accepted and corrected a value. 5.4.2.4.3 Troubleshooting For the basic camera communication and parameterization as well as the creation of the Initialization Commands, three components are mainly relevant: • the content of the Gen Api device description file • the camera behavior • and the Gev Image Acquisition [} 126] object behavior. Gen Api device description file The Gig E Vision [} 125] specification includes the Gen Api module of the Gen ICam specification, which describes the functions supported by a camera. This description takes the form of an XML device description file, which must be created in conformity with the specification. The Gen Api description provided by a camera is checked upon receipt. If non-compliant digits are included, they are reported as warnings or errors. • A warning is issued, for example, if undefined registers are located in the reserved bootstrap area. These registers are subsequently ignored, but this does not usually lead to restrictions in operation. In individual cases it has to be checked whether the reported registers are needed. • An error is reported, for example, if the described access rights do not match the camera behavior. That is, if the camera returns an error when reading registers marked readable or writing registers marked writable. • If the Gen Api description contains completely non-compliant passages, in rare cases the camera may not be able to operate at all. Camera behavior The camera behavior can have an impact if, as described earlier, the behavior differs from the Gen Api description and if registers contain interdependencies or influence each other. • Registers can, for example, be locked by other registers, so that these must first be activated or deactivated. • Register values can be influenced by other registers or formulas which, for example, restrict the maximum value. • The camera can change register values when other registers are written. For example, the camera may automatically reset the ROI when the pixel format is written. Refer to the manufacturer's documentation In case of problems with the camera behavior, compare precisely with the manufacturer's documentation. It is possible, for example, that the writing of individual Read Write registers is wrongly rejected by the camera. Gev Image Acquisition object behavior The Gev Image Acquisition object is Gig E Vision certified as part of the TC3 Gig E Vision Connector product and therefore behaves in a standard-compliant manner. Concatenating commands, if supported by the camera, and iterating selectors is active by default in the settings. This means that all possible register combinations are read or written when communicating with the camera. This can occasionally lead to 98 Version: 2.4.0 TF7000 - TF7810
## Page 99

Development environment problems due to the amount of commands or the timing. To remedy this, you can disable Enable Concatenated Commands in the Image Acquisition Module or the Iterate Selectors automatically in the settings. Messages The components described above and their behavior have different effects on the creation of the Initialization Commands or on the possible messages. Warnings Warnings are displayed if the values read back differ from the values previously written. The differences can be caused by different camera behavior or dependencies between registers. This does not mean that the camera does not work with the Initialization Commands. Therefore warnings have no influence on the creation with Create anyway. Afterwards you should test if the reported registers have the correct value and the camera behaves as desired. An example of when warning messages may occur is when an ROI is set. Depending on the current values in the camera, the warning occurs because the offsets are written first according to the Gen Api order. If an offset greater than 0 is to be written, the width or height must be correspondingly smaller than the maximum value. In this case, the camera then resets all ROI values, causing the difference. In this case, the order of the ROI registers in the configuration list can be changed so that the width and height are written before the two offsets. If necessary in special cases, a register can also be copied, shifted in the order and thus written several times. Error Errors are reported if individual register values could not be written. As described above, this can have various causes, such as incorrect or changed limit values, addresses, write permissions or formula calculations at the time of writing. The affected registers are omitted when creating with Create anyway and checked off in the configuration list. Subsequently, it should be tested whether the omitted registers have an influence on the camera functionality. TF7000 - TF7810 Version: 2.4.0 99
## Page 100

Development environment If, for example, as can be seen in the screenshot, it is only the model name, or the register has not been changed and has a suitable default value, the camera can be used without restrictions despite this error message. Fatal errors Fatal errors only occur if the camera does not respond within a certain time. Then the process is aborted and one of the following messages appears. In these cases, the corresponding timeout must be adjusted. Timeout Force IP or GVCP timeout In the course of writing the Initialization Commands, the Force IP command is also sent if it is configured. If the respective camera takes a long time to set the IP with this command, the following timeout error can occur: Fig. 2: Error during Force IP Persistent IP addresses If no Force IP is used, it is recommended to set a persistent IP address. 100 Version: 2.4.0 TF7000 - TF7810
## Page 101

Development environment In this case the Force IP can be deactivated in the configuration list [} 91]. Alternatively, or in the event of a GVCP timeout, the Transmission Timeout and/or the Max Timeouts can be increased in the Tc COM parameters from GVCP Module [} 103]. Note that the ADS Communication Timeout in the Settings window [} 88] should always equal at least the product of the two preceding parameters. Fig. 3: Critical GVCP timeout error when creating Initialization Commands ADS Timeout In case of an ADS Timeout, increase the parameter ADS Communication Timeout in the settings window [} 88]. Fig. 4: Critical ADS timeout error when creating Initialization Commands TF7000 - TF7810 Version: 2.4.0 101
## Page 102

Development environment 5.4.2.5 Tc COM parameters The parameters of the three Tc COM modules Image Acquisition, GVCP and GVSP are described below. Adjusting these parameters can help certain cameras to establish a stable connection. The configuration tree [} 80] should be used to change the parameters. Initially, only the parameter Initialization Auto Mode is relevant here. The setting of the remaining parameters can, however, be necessary in the case of connection or initialization problems. Reloading in the case of parameter changes For parameter changes to become effective, the corresponding objects must be reloaded. Image Acquisition module Feature Description Camera IPAddress IP address of the camera. This IP address is used with the Force IP command. If this IP address is changed, the Initialization Commands [} 90] must be re-created in order for the change to become effective. In addition, the corresponding option in the Configuration [} 91] must be activated for the Force IP command. Initialization Timeout Maximum time for transferring the initialization parameters to the camera. Depending on the camera used, the transmission may take longer, in which case the parameter has to be adjusted accordingly. Unit: milliseconds (ms) Default: 2,000 Initialization Auto Mode Selection of the way in which the initialization of the camera is to be executed automatically by the Image Acquisition Tc COM object. Communication with the camera is impossible if it has not been initialized. AUTOINIT_SO: the camera is initialized during the start-up phase of the Tc COM object. In this phase only a limited amount of time is available. If initialization parameters are used, the initialization normally cannot be carried out within this start-up phase on account of the potential timeout. In this case the behavior of AUTOINIT_AFTER_SO is applied, even if AUTOINIT_SO is selected. AUTOINIT_AFTER_SO: the Tc COM object enters the OP state without initializing the camera. Only when the connection to the camera is opened from the PLC (e.g. with FB_VN_Simple Camera Control. Start Acquisition() or with FB_VN_Gev Camera Control. Open Camera()), the camera is initialized automatically. NO_AUTOINIT: the camera is only initialized when Gev Camera Controller. Initialize Camera() is called. This option is conceived for the case that full control over the initialization is required in order to execute it at a certain time. Standard: AUTOINIT_AFTER_SO. Enable Concatenated Commands Option to select whether the associated commands should be linked or sent individually when writing several commands to the camera, for example the initialization parameters. The linking of the commands makes the transmission quicker, but may lead to problems with some cameras. Default: activated. 102 Version: 2.4.0 TF7000 - TF7810
## Page 103

Development environment GVCP module Feature Description Local Port The local UDP port through which the GVCP module communicates. If the value is zero, an automatically generated port is used. Default: 0 Max Timeouts The maximum number of transmission timeouts that may occur before a GVCP packet is discarded. After each timeout the GVCP packet is resent. If the maximum number of timeouts is reached, an error is output. Default: 3 (adapted to the camera) Transmission Timeout After sending a GVCP packet, a response is awaited. If the response takes longer than the Transmission Timeout time, it is assumed that the packet has not arrived, in which case the packet is retransmitted. Unit: milliseconds (ms) Default: 600 (adapted to the camera) The Transmission Timeout should be less than the Heartbeat Rate. Heartbeat Rate The control channel of the application sends a heartbeat signal to the camera to check if the connection is still valid. The Heartbeat Rate describes the time after which the next signal is sent. Unit: milliseconds (ms) Default: 1,000 The Heartbeat Rate should not be set arbitrarily high, since many cameras trigger a timeout after a few seconds without heartbeat. Discovery Timeout The Discovery Timeout describes the time taken to wait for a Discovery command to respond. The Discovery command is sent when searching for cameras [} 70] in the network. Unit: milliseconds (ms) Default: 1,000 TF7000 - TF7810 Version: 2.4.0 103
## Page 104

Development environment GVSP module Feature Description Local Port The local UDP port through which the GVCP module communicates. If the value is zero, an automatically generated port is used. Default: 0 Max Packet Size The Max Packet Size describes the maximum packet size of a GVSP packet. The header of the Ethernet frame is not included in this size. Unit: byte Default: 1,500 Depending on the installed Twin CAT real-time Ethernet driver and the Jumbo packet size set in the properties, up to 9000 bytes can be used. Min Packet Delay If the Min Packet Delay is increased, the GVSP packets are artificially delayed. This allows the bandwidth to be reduced. Unit: timestamp counter unit(s) Default: 0 Max Resend Requests The maximum number of resend requests for a single GVSP packet that was faulty or took too long. An image is transmitted in a GVSP block consisting of several packets. The image is invalid if a packet of a block could not be successfully transmitted. Default: 1 Max Block Number Maximum number of GVSP blocks that can be processed simultaneously. If the value is zero, the number is unlimited. Default: 5 Max Packet Number The maximum number of GVSP packets in a block. Blocks containing more packets cannot be interpreted as a valid image. Default: 25,000 The number is calculated automatically if the option "Automatically calculate the Max Packet Number" is active in the Preferences settings. Block Timeout The Block Timeout describes the time that may elapse between individual packets of a block. Unit: microseconds (µs) Default: 5,000 5.4.3 Record/Playback Camera streams can be recorded and input to the PLC on the Record/Playback tab. This can be helpful for the development in order to record a camera stream on the desk and repeatedly play it back offline at a later time. The real behavior of the camera hardware is thus simulated with the original images. Either the simulation mode is activated, in which case camera streams can be played back, or the simulation mode is deactivated, in which case camera streams can be recorded. It is not possible to do both simultaneously. A camera stream consists of individual images that are saved together with the corresponding time markers in their own format (.tcs). Through the additional saving of the time markers, the time behavior of the camera on the machine can be simulated with application realism. The image data are saved in precisely the format in which they are sent by the camera; no further conversion takes place. 104 Version: 2.4.0 TF7000 - TF7810
## Page 105

Development environment Camera requirement The camera must support timestamps and enter valid values in the image header. The timestamps are needed per image to be able to simulate the temporal behavior. System requirements Use fast SSD hard disks and at least 8 GB RAM for the recording and playback of camera streams. If slower storage media are used, reduce the image rate if necessary via the parameter Image Offset. (De)activating Tc COM objects The activation/deactivation of the camera Tc COM objects should not be done manually, as further links have to be adapted when changing from the simulation mode and from the Ads Communication in the background. The three areas of the Record/Playback assistant (Record, Playback, Stream files) are explained below. Recording a camera stream: The recording of a camera stream is only possible with an active camera connection. Accordingly, the simulation mode of the camera instance [} 70] must be disabled and the standard acquisition selected. The Ads Communicator Tc COM module is also required. The settings for Record Camera Stream are located in the Record Camera Stream area: TF7000 - TF7810 Version: 2.4.0 105
## Page 106

Development environment File Name Text box for the file name of the camera stream. The path used to save the file is defined in Selection of file path and streams [} 109]. Button for starting a recording. Only active if recording is possible. Button for stopping a recording. Only active during recording. Current Frames Number of images in the currently recorded camera stream. Current Size File size of the currently recorded camera stream. Advanced Options Option to show and hide advanced options. Image Offset Specifies the image recording sequence. Depending on the writing speed of the storage medium, the image size and the frames per second, it may be necessary to skip images. Default: 1 (i.e. an attempt is made to record every image). Max Frames Maximum permitted number of images in the camera stream to be recorded. The recording will be ended automatically as soon as this number of images is reached. Default: 0 (i.e. no limit). Max Size Maximum allowed file size of the camera stream to be recorded in MB. As soon as this file size is reached, the recording is automatically stopped. Default: 0 (i.e. no limit). Enough free storage space? Before recording a stream, make sure that there is sufficient storage space on your target system or limit the stream size if necessary with Max Frames and Max Size. The following conditions must be met for a stream to be recorded: • Simulation mode is disabled. • An Ads Communication object exists and is activated. • Twin CAT is in Run mode. • The camera must be in the ACQUIRING status. If these conditions are not met, the following notes and suggested solutions may appear: • Simulation mode means a state in which a stream can be played back but not recorded. The state can be changed via the Disable Simulation link in the note. This also requires that the configuration is reactivated . 106 Version: 2.4.0 TF7000 - TF7810
## Page 107

Development environment • Simulation mode has been switched off, but the change is only applied after the configuration has been activated. • The recording of a camera stream is only possible in Twin CAT Run mode. This warning is displayed in all other Twin CAT states. • Recording a camera stream is only possible if there is an open connection to the camera, as data is read from the camera before recording. Therefore, the camera should already be in ACQUIRING status at this point. • The Ads Communication module is required for recording camera streams. It can be activated via the link in the note. If no ADS Communicator object exists yet, it can be added via Add New Item… on the camera object and Try to fix on the General tab [} 72]. The change is accepted after activating the configuration . Activating an ADS Communicator module in advance If you plan to record a camera stream at a later time without first stopping Twin CAT (e.g. during the runtime of a machine), you must activate the ADS Communicator module in advance. If the Ads Communicator object is activated, it is possible that images from the camera may still be referenced internally in the object for a short time and therefore cannot be directly transformed into displayable images. For further details see Displayable images [} 154]. Playback of a camera stream: In order to play back a camera stream, the simulation mode of the camera must be activated; this is possible either via the General [} 72] tab of the camera object or in the message mentioned below. If you write the configuration with Write to Module into the Tc Com object and save it in the project, these values are already available after the activation of the project and the simulation starts directly with the Start Acquisition command from the PLC. The advantage of this is that you do not have to manually reset the settings and start the stream every time. The settings for playing back a camera stream are located in the Playback Camera Stream area: TF7000 - TF7810 Version: 2.4.0 107
## Page 108

Development environment Selected File Text box for displaying the selected stream file. The selection is made from the list of available streams. Start Playback Button for starting the playback. Only enabled if playback is possible. The playback always begins with image 1, irrespective of where the stream may have been stopped previously. Stop Playback Button for stopping the playback. Only enabled while a stream is played back. Trigger Mode Selection of the Trigger mode, in which the frames in the stream can be triggered individually. Trigger Image Button for triggering an image. Only active when Trigger mode is selected and while a stream is played back. Loop Option to select whether the stream is to be played once or in an infinite loop. Write to Module Writes the current settings to the Tc Com module. Stored are: Playback Mode, Playback Speed, Playback Strategy, Loop and the path of the selected stream file. Read from Module Reads the stored values from the module and sets these settings. Advanced Options Show / hide advanced settings. Playback Speed Acceleration/deceleration factor for playback speed. (>1 acceleration; <1: deceleration) Default: 1.00 = speed matches the recording Recovering Strategy Strategy in the event that playback at the specified speed is not possible: • Slow down: Playback speed delayed (default setting) • Skip images: Skipping of images • Abort on lag: Abortion of the playback (not recommended) The following conditions must be met for a stream to be played back: • Simulation mode is enabled. 108 Version: 2.4.0 TF7000 - TF7810
## Page 109

Development environment • Twin CAT is in Run mode. The following notes and warnings may appear above the text field with the selected file name: • Simulation mode is the state under which a stream can be played back. This state can be reached via the Enable Simulation link and subsequent activation of the configuration . • Simulation Mode has been enabled, but the change only becomes active after the configuration has been enabled. • Playback of a camera stream is only possible in Twin CAT Run mode. This warning is displayed in all other Twin CAT states. Selection of file path and streams The file path and stream selection is shown below: TF7000 - TF7810 Version: 2.4.0 109
## Page 110

Development environment Status bar for recording or playback Camera Stream File Directory Currently set file path. This path is used both for reading already recorded streams and for writing new streams. Subfolders are also searched for stream files. The file path always refers to the target system, not the development system. Make sure that this file path is not affected by write filters or similar. See Important paths [} 2845]. Browse… This button opens a selection window for browsing the destination folder. This is only possible when the development system is also the target system. Otherwise the following message appears: Open directory… Button for opening the specified file path in the local File Explorer. This can also be done by double-clicking in the free area in the file list. This is only possible when the development system is also the target system. Otherwise the following message appears: Restore default Button for setting the default file path. Refresh Button to update the stream list. Name List of all camera streams in the selected file path, which are also used for stream selection for playback. Frames Number of images of which the respective camera stream consists. Size File size of the respective camera stream in MB. Bytes The size specification in bytes. 5.4.4 Camera Calibration Area scan cameras can be geometrically calibrated with the help of a calibration pattern on the Camera Calibration tab. 110 Version: 2.4.0 TF7000 - TF7810
## Page 111

Development environment During geometric camera calibration of area scan cameras, the imaging process is reconstructed from the image. For this purpose, points in the image are required whose positions in the real world are known. Calibration patterns with defined points are available from which images are taken. Supported calibration patterns: • Chessboard pattern [} 119] • Symmetrical circles pattern [} 120] • Asymmetrical circles pattern [} 121] • Individual circles pattern [} 122] Image acquisition / selection As in the Configuration Assistant [} 76] there is a preview image for the image acquisition above which there are display options and below which there are controls for the image acquisition: TF7000 - TF7810 Version: 2.4.0 111
## Page 112

Development environment Displaying the preview image The image is always displayed just as it is received from the camera. An image in the Bayer format will therefore be displayed unencoded as a grayscale image. At this point the set encoding is not yet applied to the image. The encoding is relevant only for the calibration process, but not for the preview image. Above the preview window: • Interpolation of the preview image: Combo box for selecting whether a high-quality or nearest-neighbor interpolation of the preview image should be performed. The selection only refers to the preview. The calibration is based on the original image data. • Size of the preview image If Fit to window is selected, the image is scaled to the size of the preview window. Alternatively, a display size can be specified via the slider. Below the preview window: • Start Acquisition / Stop Acquisition Button for starting or stopping image acquisition. Streaming mode of the camera must be active. • Grab Single Button for triggering a single image. • Pixel Value Shows the color value of the pixel at the mouse cursor position on the image. • Cursor Position Shows the mouse cursor position on the image. Please note that the zero point for images is always at the top left. If the calibration pattern is within the camera's field of view, the corresponding image can be selected for calibration. The Controls are located below the preview image on the left, the collection of images for calibration on the right. 112 Version: 2.4.0 TF7000 - TF7810
## Page 113

Development environment • Add current image >> Add current image adds the currently displayed camera image to the collection for calibration. • Start / Stop Adding Instead of a single image, a series of images can be added to the collection. The image series is started via Start Adding. Subsequently, images are added at intervals of the time set for Interval until the number entered for Count is reached or the addition of images is terminated via Stop Adding. • Load Images... As an alternative to image acquisition, saved images can be loaded via Load Images. Note here that these were recorded with the same camera system, the same camera settings, the same lens settings and the same calibration pattern. • Save All Images... Save All Images can be used to save the complete image collection. • Delete Selected Delete Selected deletes the selected images from the collection. • Delete All Delete All deletes all images from the collection. Image format At this point only Mono8, RGB24 and Bayer8 images may be used. Settings and calculations Encoding TF7000 - TF7810 Version: 2.4.0 113
## Page 114

Development environment For measurement tasks we recommend using a monochrome camera. However, if it should be necessary to calibrate a color camera with Bayer pattern, the corresponding Bayer pattern must be specified by Encoding. This is automatically selected by default. Algorithm For circle pattern detection, you can choose between different edge localization functions. The subpixel function can be used to improve the result depending on the image quality. However, this also means that the entire process takes more time. See the chapter Measurement [} 1440] for more information on the subpixel functionality. • Pixel Contours Contour-based • Subpixel Interpolation With Subpixel by interpolation • Subpixel Erf Approximation With Subpixel after Erf Approximation Definition of the calibration pattern The calibration pattern used is selected and defined under Pattern: • Chessboard A chessboard pattern is used • Circles Sym. A symmetrical circles pattern is used • Circles Asym. An asymmetrical circles pattern is used ◦ Start Ident Checkbox to specify indentation of the first row of the circle pattern. In the standard system without a check mark, a row that is not indented is expected. • Width Number of feature points in horizontal direction • Height Number of feature points in vertical direction • Distance X Distance in the world coordinate system of the feature points in horizontal direction • Distance Y Distance in the world coordinate system of the feature points in vertical direction • Drop-down menu for individual circle patterns Selection of an individual circle pattern (entries are only displayed if corresponding files are found in the specified folder) • Color inverted Checkbox for selecting color inversion of the image. By default (no check mark), black objects are expected on a white background. Symmetrical pattern In the case of wholly symmetric patterns, the assignment of the points found may deviate from those defined or the coordinate origin may lie in a different quadrant. This can also occur if the pattern from the selected image is in a different orientation to that defined. Therefore, after completion of the calibration procedure, you should check whether the coordinate system corresponds to your specification. Check for filled circles In the case of circle patterns, an additional check is made to see whether the circles are filled in the corresponding color. If deviations occur at this point, the corresponding point is not recognized as part of the pattern. For information on patterns and parameter settings, please refer to the supported calibration pattern types: 114 Version: 2.4.0 TF7000 - TF7810
## Page 115

Development environment • Chessboard pattern [} 119] • Symmetrical circles pattern [} 120] • Asymmetrical circles pattern [} 121] • Individual circles pattern [} 122] Intrinsic Options • Fix Center Point: the principle point corresponds to the center of the image. • Fix Aspect Ratio: the camera sensor is assumed to have square pixels, so that the aspect ratio of the pixels is the same in the x and y directions. • p1=0, p2=0: it is assumed that no tangential distortions exist, and the corresponding coefficients are set to 0. • k3=0: the radial distortion coefficient k is assumed to be 0 3 • k4=0: the radial distortion coefficient k is assumed to be 0 4 • k5=0, k6=0: the radial distortion coefficients k and k are assumed to be 0 5 6 Extrinsic Origin Extrinsic Origin specifies the origin point of the world coordinate system in the calibration pattern. Depending on the selected calibration pattern, a corresponding background image is displayed. Origin The selected origin refers to the corresponding point of the calibration pattern, not to the complete image. World Coordinates World Coordinates sets the orientation of the world coordinate system. This can be used to set a different orientation compared to the image coordinate system. With the default setting shown, the two coordinate systems match. Actions TF7000 - TF7810 Version: 2.4.0 115
## Page 116

Development environment Calibrate Intrinsics Calibrate Intrinsics calculates the camera matrix and the distortion coefficients. All images of the selection are used for this purpose. These must all contain the defined calibration pattern in its entirety. If this is not the case, a negative Reproj. Error is displayed. Calibrate Extrinsics Calibrate Extrinsics calculates the rotation matrix and the translation vector. A prerequisite for this is the intrinsic calibration (camera matrix and distortion coefficients) and selection of the image where the points of the 2D calibration pattern are located in the subsequent measuring plane. Duration of a calibration The duration of a calibration increases with the number of reference points in the calibration pattern and the number of calibration images. Therefore, when choosing a calibration pattern, make sure that the duration remains within acceptable limits for you. Deviation of the results On account of the algorithm used, the results of the calibration may differ slightly from one another in the decimal place range from call to call. This concerns both the results of the calibration in the calibration assistant and those in the PLC as well as between both calibration variants. Transfer of the settings into the Twin CAT project The set values and options are only applied to the Twin CAT project after executing the Calibrate Intrinsics or Calibrate Extrinsics function. If the project is saved afterwards, these values will be reloaded when it is opened again. Otherwise, the default settings are always used. Advanced Options Circle pattern recognition can be reparameterized via the Advanced Calibration Options. This should only be done if there are difficulties with the default settings. For a better understanding of the setting parameters, see the parameterization of the function F_VN_Detect Blobs [} 1149]. 116 Version: 2.4.0 TF7000 - TF7810
## Page 117

Development environment Results TF7000 - TF7810 Version: 2.4.0 117
## Page 118

Development environment Reproj. Error The Reprojection Error indicates the result of the intrinsic calibration: • >0: valid result ◦ <1: good result ◦ >2: inaccurate result • <0: no result and specific error number: ◦ -100: no image found The collection of images below the preview window is used for the intrinsic calibration. The live image of a camera is not taken into account. ◦ -200: the pattern could not be found in at least one image. All images in the collection below the preview window must show the complete pattern, including all feature points. For a better analysis, result images are created under C: \Program Data\Beckhoff\Vision\_Calibration Assistant Output, which show the feature points that were found. ◦ -300: none of the existing images contains the selected pattern. See description for -200, in addition, we recommend checking the pattern configuration. ◦ -400: the user-defined description file for an individual calibration pattern is invalid. ◦ -500: an error has occurred. Camera Matrix The camera matrix describes the imaging process from 3D to 2D. éf x 0 c xù ê ú Camera Matrix = 0 f c ê y yú ê0 0 1ú ë û • The parameters f and f indicate the focal length in the x and y directions. x y • The parameters c and c indicate the intersection point of the optical axis with the image, which is x y referred to as the principal point. Ideally, this should be in the center of the image. If Fix Center Point is selected under Intrinisic Options, the parameters c and c are automatically set to the center of the x y image. Distortion Coefficients Aberrations of the optical system can lead to distortions in the image. These can be partly compensated by the Distortion Coefficients during the coordinate transformation. Distortion Coefficients =[k ,k ,p ,p ,k ,k ,k ,k ] 1 2 1 2 3 4 5 6 • The coefficients k to k describe the radial distortions in the image. 1 6 • The coefficients p and p describe the tangential distortions in the image. 1 2 Rotation Matrix The rotation matrix describes the orientation of the camera coordinate system relative to the world coordinate system and vice versa. ér 11 r 12 r 13ù ê ú Rotation Matrix = r r r ê 21 22 23ú êr r r ú ë 31 32 33û Translation Vector The translation vector describes the displacement of the coordinate origin of the camera coordinate system relative to the world coordinate system and vice versa. 118 Version: 2.4.0 TF7000 - TF7810
## Page 119

Development environment ét xù ê ú Translation Vector = t ê yú êt ú ë zû Write Results The results are written to the Image Provider Tc COM object of the camera. This means that they can be called from the PLC via the methods of the function block F_VN_Gev Camera Control [} 1622]. Even if a calibration has not yet been carried out, the description of the set calibration pattern will be written. This can be retrieved in the PLC with the method Get Calib Pattern Ref [} 1630]. Alternatively, the description of the calibration pattern can also be generated directly in the PLC via the F_VN_Generate Calibration Pattern Reference Points [} 1630]. Save To File... The results can be saved in a json file. Alternatively, the results can be read into the PLC via the FB_VN_Read Calibration Result [} 1596]. Undistort Selected The Distortion Coefficients are applied to the selected image, and the result is displayed in a separate window. Show Output Opens the directory C:\Program Data\Beckhoff\Vision\_Calibration Assistant Output. Result images are created in order to be able to analyze which feature points were found and how they were assigned. Alternatives in the PLC If a camera has to be calibrated while the machine is running, the function F_VN_Calibrate Camera [} 1050] is available for this in the PLC. Calibration in the PLC The duration of a calibration can be much longer than a PLC cycle. Therefore, make sure that no problems are caused in your machine sequence when you carry out a calibration in the PLC. Calibration Assistant sample Calibration Assistant [} 2823] 5.4.4.1 Chessboard pattern A chessboard pattern consists of alternating light and dark squares, which together form a rectangular pattern. See chessboard example below with 4 x 8 intersections: TF7000 - TF7810 Version: 2.4.0 119
## Page 120

Development environment Requirements for the pattern • The pattern should be applied to a surface that is as flat as possible (planar), e.g. a glass pane. • The light and dark squares must ◦ be arranged in an alternating pattern, ◦ have the same size ◦ and be square. • A pattern must contain at least 16 fully visible squares, which together form at least 3 x 3 intersections. • The background color around the pattern must form a 'quiet zone'. Requirements for the image acquisition • Exposure ◦ Homogeneous illumination of the pattern ◦ Good contrast between the light and dark squares in the image ◦ No opening at intersections due to overexposure • Figure ◦ A square must be represented by at least 15x15 pixels. Configuration in the Camera Calibration Assistant [} 110] • Width Corresponds to the number of intersections in horizontal direction. • Height Corresponds to the number of intersection points in vertical direction. • Distance x Corresponds to the distance between two intersection points in horizontal direction. • Distance y Corresponds to the distance between two intersection points in vertical direction. 5.4.4.2 Symmetrical circles pattern A symmetrical circle pattern is composed of circles that are arranged evenly in rows and columns. Other supported patterns with circles are asymmetric circle pattern [} 121] and individual circle pattern [} 122]. Requirements for the pattern • The pattern should be applied to a surface that is as flat as possible (planar), e.g. a glass pane. • The circles should be as equal in size as possible. • A sample must consist of at least 9 points. 120 Version: 2.4.0 TF7000 - TF7810
## Page 121

Development environment • The circle centers must be applied at the same distance horizontally and vertically. The distance must be large enough to ensure that the circles do not touch each other and are recognized as separate objects. • The background color around the pattern must form a 'quiet zone'. Requirements for the image acquisition • Exposure ◦ Homogeneous illumination of the pattern. ◦ Good contrast between circles and background. • Figure ◦ Perspective distortions should be kept to a minimum. ◦ The standard specifications of the Advanced Calibration Options must be adhered to or adapted. By default, a circle must be represented by an area of at least 25 pixels and a maximum of 15000 pixels. The area should not be too small, otherwise interference from the background will be picked up. Configuration in the Camera Calibration Assistant [} 110] • Width Corresponds to the number of circles per row. • Height Corresponds to the number of circles per column. • Distance x Corresponds to the distance between two circle centers in horizontal direction. • Distance y Corresponds to the distance between two circle centers in vertical direction. • Color inverted By default, dark circles on a light background are assumed. If the pattern instead consists of light circles on a dark background, the colors can be inverted with Color inverted option. 5.4.4.3 Asymmetrical circles pattern An asymmetric circle pattern is similar to a symmetric circle pattern [} 120], except that every second row is offset by half a column. This allows a smaller distance between two rows, allowing more lines in the same area. Pattern requirements • The pattern should be applied to a surface that is as flat as possible (planar), e.g. a glass pane. • The circles should be as equal in size as possible. • A sample must consist of at least 9 points. • The circle centers must be applied at the same distance horizontally and vertically. The distance must be large enough to ensure that the circles do not touch each other and are recognized as separate objects. • The background color around the pattern must form a 'quiet zone'. TF7000 - TF7810 Version: 2.4.0 121
## Page 122

Development environment Requirements for the image acquisition • Exposure ◦ Homogeneous illumination of the pattern. ◦ Good contrast between circles and background. • Figure ◦ Perspective distortions should be kept to a minimum. ◦ The standard specifications of the Advanced Calibration Options must be adhered to or adapted. By default, a circle must be represented by an area of at least 25 pixels and a maximum of 15000 pixels. The area should not be too small, otherwise interference from the background will be picked up. Configuration in the Camera Calibration Assistant [} 110] • Start indent The first row is indented relative to the second. • Width Corresponds to the number of circles per row. • Height Corresponds to the number of circles per column. • Distance x Corresponds to the distance to the nearest circle center in horizontal direction (across rows). • Distance y Corresponds to the distance to the nearest circle center in vertical direction (within a column). • Color inverted When a light pattern is used on a dark background. 5.4.4.4 Individual circles pattern An individual circle pattern consists of circles, with the option of user-defined position and thus arrangement of the individual circle components. This also enables the use of complex custom 3D patterns for calibration. Requirements for the pattern • The pattern should be applied to surfaces that are as flat (planar) as possible • The circles should be as equal in size as possible. • A pattern must consist of at least 9 points. 122 Version: 2.4.0 TF7000 - TF7810
## Page 123

Development environment • The distance must be large enough to ensure that the circles do not touch each other and are recognized as separate objects. • The background color around the pattern must form a 'quiet zone'. Requirements for the image acquisition • Exposure ◦ Homogeneous illumination of the pattern. ◦ Good contrast between circles and background. • Figure ◦ Perspective distortions should be kept to a minimum. ◦ The standard specifications of the Advanced Calibration Options must be adhered to or adapted. By default, a circle must be represented by an area of at least 25 pixels and a maximum of 15000 pixels. The area should not be too small, otherwise interference from the background will be picked up. Requirements for the description file • The pattern must be described in the form of an XML file and stored on the development computer in the following folder: C:\Users\Public\Tc Vision\Calibration Pattern • The XML file must be validated against the Tc Vn Calibration Pattern.xsd schema in the %Twin CAT3DIR%\Components\Vision\Tc Vision folder. • The description file must contain at least the Display Name, the Origin and the 2D or 3D coordinates of the circle points. Center point As the center point is automatically given by the description of the points, the specification of the origin serves only as further information and is not evaluated in the calculation. 2D pattern When specifying 2D patterns, a Z-coordinate of 0 is used internally for the calculation. Constant offset A constant offset can be implemented as a 3D pattern with constant Z-value. Configuration in the Camera Calibration Assistant [} 110] If valid XML description files were found in the specified folder, they are displayed with the Display Name that was read from the file. • Drop-down menu for individual circle patterns Selection of an individual circle pattern. • Color inverted Checkbox for selecting color inversion of the image. By default (no check mark), black objects are expected on a white background. • Extrinsic Origin This is automatically set to the value stored in the file for the selected pattern and cannot be changed via the user interface. ◦ The optional background image for the schematic representation of the calibration pattern is displayed accordingly, if the image name including file extension was specified in the description file and the image file is located in the same folder. TF7000 - TF7810 Version: 2.4.0 123
## Page 124

Development environment Sample template of a description file for individual circle patterns The following code block can be used as a template for creating your own description files and contains samples of completed metadata and 2D point descriptions. The 3D point descriptions, which are also included, are commented out. If 3D is required, the Pattern2D block would have to be completely replaced by the Pattern3D block, i.e. mixing is not allowed. Assignment of the points It is helpful if the points are sorted by rows or columns and directly match the positions of the points in the calibration image. The points can be assigned more quickly and more reliably as a result. Alignment of the coordinate system The coordinate system for the calibration must correspond to the coordinate system of the images and run from left to right in X and from top to bottom in Y. This also applies to manual calibration in the PLC and to the use of the F_VN_Sort Detected Pattern Points function. <?xml version="1.0" encoding="UTF-8"?> <Tc Vn Calibration Pattern xmlns:xsi="http://www.w3.org/2001/XMLSchema- instance" xsi:no Namespace Schema Location="file:///C:/Twin CAT/3.1/Components/Vision/Tc Vision/ Tc Vn Calibration Pattern.xsd"> <Meta Data> <Display Name>12345</Display Name> <Origin>Center</Origin> <Preview Image>Preview Image Sample.png</Preview Image> <Description>This is a calibration pattern</Description> <Revision>V1.0</Revision> <Width>10</Width> <Height>10</Height> <Depth>4</Depth> <Number Of Points>9</Number Of Points> <Point Diameter>1</Point Diameter> </Meta Data> <Pattern2D> <!-- 1st row --> <Point2D x="-5" y="-5"/> <Point2D x="-0" y="-5"/> <Point2D x="5" y="-5"/> <!-- 2nd row --> <Point2D x="-5" y="0"/> <Point2D x="0" y="0"/> <Point2D x="5" y="0"/> <!-- 3rd row --> <Point2D x="-5" y="5"/> <Point2D x="0" y="5"/> <Point2D x="5" y="5"/> </Pattern2D> <!-- <Pattern3D> --> <!-- 1st row --> <!-- <Point3D x="-5" y="-5" z="-2"/> --> 124 Version: 2.4.0 TF7000 - TF7810
## Page 125

Development environment <!-- <Point3D x="-0" y="-5" z="-2"/> --> <!-- <Point3D x="5" y="-5" z="-2"/> --> <!-- 2nd row --> <!-- <Point3D x="-5" y="0" z="0"/> --> <!-- <Point3D x="0" y="0" z="0"/> --> <!-- <Point3D x="5" y="0" z="0"/> --> <!-- 3rd row --> <!-- <Point3D x="-5" y="5" z="2"/> --> <!-- <Point3D x="0" y="5" z="2"/> --> <!-- <Point3D x="5" y="5" z="2"/> --> <!-- </Pattern3D> --> </Tc Vn Calibration Pattern> 5.4.5 Gig E Vision Standard Twin CAT Vision or the product TC3 Gig E Vision Connector is certified according to the Gig E Vision standard (version 2.0). Twin CAT Vision can thus be used with all Gig E Vision-compatible cameras. As the Gig E Vision standard is subdivided with each version into features that are obligatory and optional, a certification does not mean that all features of the version are supported. As cameras for their part may also have additional features that do not meet the Gig E Vision standard, e.g. data compression, no statement can be made about full support. It is therefore recommended to compare and test the required features individually. The Gig E Vision standard Gig E Vision is an interface standard for industrial image processing. It facilitates configuration and operation of industrial cameras. Gig E stands for Gigabit Ethernet. By using the Gigabit Ethernet communication protocol, Gig E Vision benefits from the following features: • The default transmission rate is 1 Gigabit/s (extendable with 2.5 Gig E, 5 Gig E and 10 Gig E). • Cable lengths up to 100 meters without the need for amplification. • Use of standard hardware and software interfaces for Gigabit Ethernet. The Gig E Vision standard defines communication with compatible devices via UDP/IP and consists of the following four elements: • The Gig E Vision Control Protocol (GVCP) defines how Gig E Vision devices are to be addressed. It specifies the data channels and mechanisms for the transfer of images and configuration data between PC and camera. • The Gig E Vision Stream Protocol (GVSP) specifies the different data types and transmission methods used to transfer images from a camera to a PC. A Packet Resend option is also available to fix transmission errors. • The Gig E Device Discovery Mechanism makes it possible to find cameras in the network using search queries. • An XML file contains the Gen API description that defines all public functions of the camera. This description is based on the Gen ICam standard. The Gen ICam standard Information on the Gen ICam standard and on the Gen API description of cameras can be found on the EVMA website. Compatibility How to find out whether a camera is compatible with Twin CAT Vision: look to see whether the name "Gig E Vision" is explicitly named in the product description or the Gig E Vision logo is shown: TF7000 - TF7810 Version: 2.4.0 125
## Page 126

Development environment "Gig E" versus "Gig E Vision" Note the difference between "Gig E" and "Gig E Vision"! Only Gig E Vision compliant cameras are supported. Connection to other devices is not supported Moreover, the Gig E Vision standard allows connection to other devices (such as strobe controllers). This function is not currently supported by Twin CAT Vision. 5.4.6 Tc COM objects Each Gig E Vision camera instance contains a number of Tc COM objects in the Twin CAT project: Tc COM objects automatically managed by Twin CAT Vision Tc COM objects are always managed automatically by Twin CAT Vision and do not have to be adapted or configured manually. Therefore the following information essentially serves to provide a more comprehensive technical understanding. Cyclic tasks The Tc COM objects Gev Image Acquisition, Gev Image Acquisition Simulation and Gev Ads Communicator must be linked to a cyclic task if they are activated. The corresponding configuration can be found on the Context tab of the objects. Normally, there is no need to manually link tasks, as tasks required when creating a Vision device are automatically created and linked. Details on creating and linking tasks can be found in the chapter on CPU cores and tasks [} 62]. Gig E Vision Image Acquisition The Gev Image Acquisition object coordinates the communication with a Gig E Vision camera. It consolidates and manages two sub-objects that implement the two protocols of the Gig E Vision [} 125] standard: • Gig E Vision Control Protocol (GVCP) • Gig E Vision Streaming Protocol (GVSP) Diagnostic information on the camera communication can be found on the Parameter (Online) tab of the two sub-objects. It also uses a UDP/IP stack on an appropriate network adapter to communicate with a Gig E Vision camera. Diagnostic information can also be retrieved in these objects. Details on both diagnostic options can be found in the Appendix/Troubleshooting at Camera communication [} 2862]. The RT-Ethernet adapters and IP stacks can be found in the Twin CAT project under the I/O node: 126 Version: 2.4.0 TF7000 - TF7810
## Page 127

Development environment Image acquisition and the two protocols (GVCP and GVSP) are parameterized in the Configuration Assistant [} 76] in the configuration tree [} 80]. A description of the parameters can be found in Chapter Tc COM parameters [} 102]. This object is deactivated when camera simulation is active. Gig E Vision Image Acquisition simulation The Gev Image Acquisition Simulation object simulates the streaming behavior of a Gig E Vision camera and is deactivated by default. If the simulation mode is active, the Gev Image Acquisition object is deactivated instead. Activate Block IDCorrection This setting can be used to specify that artificially generated continuous block IDs should be used instead of original IDs. Default: disabled Gig E Vision Ads Communicator The Gev Ads Communicator object is required when recording a camera stream [} 104]. It sends corresponding images from the router memory to the Twin CAT Vision service via ADS. In contrast to saving images via the function block FB_VN_Write Image, a separate Tc COM object is required for the record functionality, since the recording runs independently of the PLC processing. In Config mode, a further instance of the Gev Ads Communicator module is used so that all Camera Assistants can communicate with the camera. Publish Images With this setting, the Ads Communicator sends every nth image to the Twin CAT Vision service. This setting is automatically set when activating a stream recording and depends on the Image Offset parameter on the Record/Playback tab [} 104]. It should not be set manually. Default: 0 Gig E Vision Image Provider The Gev Image Provider object represents the interface between a camera and corresponding function blocks in the PLC. These include FB_VN_Gev Camera Control, FB_VN_Simple Camera Control, FB_VN_Read Register and FB_VN_Write Register, and FB_VN_Read Memory and FB_VN_Write Memory. To this end, the object in the Symbol Initialization tab of the project instance must be linked with the desired PLC symbols of the function blocks. If several camera instances exist in the project, ensure that the correct Gev Image Provider module is selected based on the name. Image Queue Size Number of acquired images that are to be buffered if they are not accepted directly by the function block in the PLC. Default: 1 Linking the Tc COM objects The following overview graphic shows a simplified relationship of the different objects that communicate with one another or retrieve data. TF7000 - TF7810 Version: 2.4.0 127
## Page 128

Development environment Fig. 5: Architecture of the Gig E Vision Camera functionality The linking of the Tc COM objects differs depending on the setting of the simulation mode and the Ads Communicator object (see General tab [} 72]). The corresponding link setting can be found in the Interface Pointer tab of the individual objects. By default, the link is automatically created based on the settings in the Camera Assistant and should not be changed manually. If the links were changed by mistake or the Tc COM objects were added to the camera afterwards, the links can be repaired by clicking Try to fix in the General tab. Fig. 6: Note on the invalid linking of Tc COM objects 5.5 Beckhoff Camera objects Each Beckhoff Camera object represents a camera within a project and is identified by a different name and icon. A project can contain several camera objects. As the configuration and operation is identical to the Gig E Vision Camera object [} 70], the detailed information can be found on the corresponding pages of this chapter. Only cameras from Beckhoff can be linked and operated with a Beckhoff camera object. The manufacturer filter is therefore always active in the Camera Initialization Assistant and cannot be deselected by the user. When establishing a camera connection, this is also checked so that use in the Configuration Assistant and in Run Mode is only possible with cameras from Beckhoff. 128 Version: 2.4.0 TF7000 - TF7810
## Page 129

Development environment 5.6 File Source objects The File Source represents an alternative image source to the camera. It enables stored images to be loaded from the file system to the Twin CAT real-time instead of live images. Note that compared to the Record/Playback [} 104] function of a Gig E Vision Camera object, a File Source is not intended for the loading of continuous camera streams, but for the loading of individual images. Images can be used as long as they are saved in a standard image format, e.g. bmp, jpg, png. Compressed image formats When using compressed image formats, it depends on whether the applied method is lossy, as the image data would then no longer correspond to the original image data of the camera. Therefore, we recommend using BMP as the storage format. Grayscale images can be color images Images that look like grayscale images can be saved with several channels. Pay attention to this when calling conversion functions. The function blocks FB_VN_File Source Control [} 1614] and FB_VN_Simple Camera Control [} 1647] exist so that images can be received in the PLC. Communication to the File Source Control takes place via these function blocks in a similar way to communication to a camera. An alternative to loading individual images into the Twin CAT real-time is in addition the function block FB_VN_Read Image [} 1599]. Image delivery modes The File Source Control has two modes for providing images: 1. Streaming mode: Like a streaming camera, new images are provided in a specified cycle. 2. Trigger mode: A new image is provided with a trigger signal. This can be triggered either by a software trigger or by manually actuating a button. The settings and the image selection are done under File Source Control [} 130]. Creating a File Source node Creating a File Source node is described in First Steps [} 28] under Creating a File Source Control [} 36]. Export/Import of a File Source node If you wish to save the configuration of a File Source or import it into a project, follow the instructions in the chapter Exporting/importing configurations [} 138]. TF7000 - TF7810 Version: 2.4.0 129
## Page 130

Development environment 5.6.1 File Source Control The configuration of the File Source Control takes place on the tab of the same name: VISION Node > File Source Node > File Source Control tab. Fig. 7: File Source Control Manage image selection The images to be used by the File Source Control are managed via a file list and the associated controls: Read from Target After creating a File Source, Read from Target must be pressed once and the configuration activated so that images can be added. Fig. 8: Image selection in the File Source Control 130 Version: 2.4.0 TF7000 - TF7810
## Page 131

Development environment Checkbox The checkbox in the first column indicates whether an image is used or not. Preview The size of the preview image depends on the column width. File File name of the image, including data type. Format By default, images are sent in the saved format. Alternatively, it can be specified to convert this into a 1-channel grayscale image or 3-channel RGB image in advance and then send it. We recommend that you explicitly specify the format for each image. Read From Target The information which images are stored on the target system for the associated File Source Control is read out. Add Files Images from the development system can be selected via a file explorer. These are then copied to the target system in the background, so that they are available there independently of the development system. Please note that only files with unique names can be used. In addition, only image formats, i.e. not video formats, can be added here. If you want to load a camera stream (*.tcs) into the PLC, please use the Record/Playback [} 104] function. Unless configured otherwise, the image files are stored on the target system in the path "C:\Users\Public\Tc Vision\File Sources". Make sure that the corresponding path is not affected by other software such as Write Filter. Add Directory A directory of the development system from which all images are to be used can be selected via a file explorer. Clear All All images will be removed from the file list. Move Up / Move A selected image is moved one position up/down in the file list. Down Context menu Use CTRL+click to select several images in the file list. By right-clicking on one of the selected images, you can then adjust the settings for all selected images: Fig. 9: Context menu for the image selection in the File Source Control TF7000 - TF7810 Version: 2.4.0 131
## Page 132

Development environment Save As... Opens a file explorer dialog for saving the selected images. Remove Deletes the selected images. Set Format Sets the image format for all selected images: • Original Format from File: the format in which the image is stored is used. • 24-bit RGB: the images are sent as 3-channel RGB images by the File Source. • 8-bit Monochrome: the images are sent as 1-channel grayscale images by the File Source. Sort by Sorts all images by file list: • Name (Ascending): ascending by name • Name (Descending): descending by name Select Selects the highlighted images so that they can be sent via File Source Control. Unselect Deselects the highlighted images so that are not sent via File Source Control. Image transfer settings Like a streaming camera, the File Source Control can provide a new image in a specified time cycle or after calling a software trigger. Fig. 10: Setting options in the File Source Control Cycle Time If no Trigger mode is selected, the images are sent to the real-time context at the Cycle Time interval. The order of the images according to the file list is taken into account. This parameter is comparable to the frame rate of a camera. The maximum speed for the loading of images depends on the system and the images. The Cycle Time is merely the desired value. Trigger Mode If Trigger Mode is selected, an image is sent after a corresponding software trigger is called. With the standard software trigger, the order of the images according to the file list is observed. Alternatively, a specific image can be triggered based on the file name. Online Fig. 11: Operation in the File Source Control Start Sending Start Sending in the PLC corresponds to the Start Acquisition [} 1618] method of the function block FB_VN_File Source Control [} 1614]. If no trigger is selected, the images are then sent via File Source Control at the Cycle Time interval. If the trigger is selected, File Source Control responds to a software trigger and sends the images according to a trigger signal. Stop Sending Stop Sending in the PLC corresponds to the Stop Acquisition [} 1619] method of the function block FB_VN_File Source Control [} 1614] and terminates the sending of images via File Source Control. Trigger Image Trigger Image in the PLC corresponds to the Trigger Image [} 1621] method of the function block FB_VN_File Source Control [} 1614]. This can be used to trigger images manually. This button is only available if Trigger Mode is enabled and image transfer via File Source is active. 132 Version: 2.4.0 TF7000 - TF7810
## Page 133

Development environment 5.6.2 Tc COM objects Each File Source instance contains two Tc COM objects in the Twin CAT project: Tc COM objects are automatically managed by Twin CAT Vision Tc COM objects are always managed automatically by Twin CAT Vision and do not have to be adapted or configured manually. Therefore the following information essentially serves to provide a more comprehensive technical understanding. File Image Acquisition The Tc Io File Image Acquisition object coordinates the loading of images from the hard drive for File Source instances. This object contains the following parameters (in addition to Cycle Time and Trigger Mode, which can be set in the File Source Control [} 130]): Base Dir File path on the target system under which images added to the selection list are stored. Standard: C:\Users\Public\Tc Vision\File Sources\<Unique Id> Service Timeout Timeout for communication with the Twin CAT Vision Service [} 67] in milliseconds. Default: 5000 Cyclic tasks The File Image Acquisition object must be linked with a cyclic task. The corresponding configuration can be found in the Context tab of the objects. Normally, there is no need to manually link tasks, as tasks required when creating a Vision device are automatically created and linked. Details on creating and linking tasks can be found in the chapter on CPU cores and tasks [} 62]. File Image Provider This object represents the interface between the File Source object and the File Source function block in the PLC. The Object ID variable of the function block FB_VN_File Source Control [} 1614] or FB_VN_Simple Camera Control [} 1647] must be linked with the corresponding File Image Provider Tc COM object on the Symbol Initialization tab of the project instance after the compilation of the PLC code. If several File Source instances exist in the project, care must be taken on the basis of the name that the correct object is selected. This object contains the following parameters: Image Queue Size Number of loaded images that are to be buffered if they are not accepted directly by the function block in the PLC. Default: 1 Linking the Tc COM objects For a File Source device only the Image Provider has to be linked to Image Acquisition. By default, this link is created automatically and should not be changed manually. The following overview graphic shows a simplified relationship of the different objects that communicate with one another or retrieve data. TF7000 - TF7810 Version: 2.4.0 133
## Page 134

Development environment Fig. 12: Architecture of the File Source functionality 5.7 Vision Job Pool The Vision Job Pool is used to manage Job Tasks [} 65] for image processing tasks. This enables the parallelized execution of selected Twin CAT Vision algorithms, which are marked in the API reference [} 140] by the following supplement: "Can use available Twin CAT Job Tasks for executing parallel code regions". Clicking on the Vision Job Pool opens a window. The assignment of the Job Tasks takes place in this window on the Parameter (Init) tab. In the first row, the Unit column indicates how many Job Tasks are to be assigned. The array elements under Job Tasks can then be assigned a Job Task using the dropdown menu in the Value column. Each Job Task may only be assigned to one element. NOTICE Be sure to refer to the restrictions and recommendations [} 66] when creating Job Tasks. 5.8 ADS Image Watch With the ADS Image Watch, images of the type ITc Vn Displayable Image [} 413] can be retrieved from the PLC and displayed in the development environment. Open the ADS Image Watch via the Visual Studio menu Twin CAT > Windows > ADS Image Watch. 134 Version: 2.4.0 TF7000 - TF7810
## Page 135

Development environment Image selection The image selection is made using the selection fields from left to right. TF7000 - TF7810 Version: 2.4.0 135
## Page 136

Development environment Target system ADS devices are addressed via the ADS-Ams Net Id and the ADS port. The ADS-Ams Net Id unambiguously identifies the target system that must be selected first. The local system is selected by default. However, you can select any system for which a route has been created; see Choose Target System [} 30]. Port The individual devices on the system are identified by ADS port numbers. A fixed port number range is defined for the PLC runtimes, so that the selection list is pre-filtered based on these. If only one PLC port exists on the target system when this is selected in the ADS Image Watch, the PLC port is selected automatically. Image variable All variables of type ITc Vn Displayable Image [} 413] are displayed here and can be selected, regardless of whether the variable points to an image with a supported image format [} 137] at the time. Size Without additional settings, the image is scaled to the size of the current window (Fit To Window). However, it can optionally be set to a size relative to the original image. Please note that the image is scaled down by the Plc Aux task in the real-time environment before transmission via ADS if the selected size is smaller than the original image. If the image is then saved, it does not have the original size. Stop / Play The alternating Stop / Play button can be used to stop or restart the updating of the image display. If the pause icon is visible, the update is active and images are continuously received. If the play icon is visible, the update has stopped and the display of the last image is maintained. No more images are received. This makes it possible to analyze the image and every detail, e.g. by zooming in. Image scaling If the selected size is not 100%, the displayed image will be interpolated. For Fit To Window or a reduction, linear interpolation is used, and for enlargements, nearest-neighbor interpolation is used. Depending on the image content or pixel values, deviations may occur. If individual pixels are to be analyzed in detail, the size should therefore be set to 100 %. Options The currently displayed image can be saved using the Action icon at the top right next to the image size, then Save Current Image. Furthermore, the background around the display image can be changed between light and dark with Invert Background. This can be helpful with very bright or dark images, so that the image content or image edge can be clearly seen and distinguished by a high contrast to the background. 136 Version: 2.4.0 TF7000 - TF7810
## Page 137

Development environment Image size The image is saved in the size that the ADS Image Watch queries from the PLC. In order to save the image in the original size, the image must be set to at least 100% or the window pulled to at least the original image size. If the image size is set to larger than 100%, the image will also be saved in the original size. With a smaller setting or with Fit to Window and too small a window, the image will be stored in the correspondingly reduced size. Image formats supported The following image formats can be displayed in the following color spaces in the ADS Image Watch: • 1-channel images are interpreted as grayscale images. All images with pixel types of enum ETc Vn Element Type [} 203] are supported. • 3-channel images are interpreted as RGB color images. Images with 8 bits or 16 bits per channel are supported; this corresponds to the pixel types [} 203] USINT, SINT, UINT and INT. • 4-channel images are interpreted as RGBA color images. Images with 8 bits per pixel per channel are supported here; this corresponds to the pixel types [} 203] USINT and SINT. Other image formats Other image formats and color spaces can be processed in the PLC as ITc Vn Image. To display them, however, they must first be converted to one of the displayable formats by means of F_VN_Convert Color Space before they are converted into a ITc Vn Displayable Image. If this is not done, the images will either be displayed in the wrong color representation or not at all. Displaying 16-bit images 16-bit images are transferred from the PLC to the ADS Image Watch as 8-bit images. Therefore the pixel values are only displayed in the status bar in increments of 256 (0, 256, 512, etc.), but nevertheless relate to 16 bits: (0: Minimum, 65.280: Maximum). Displaying (L)REAL images (L)REAL images are transferred from the PLC to the ADS Image Watch as 8-bit images. For this purpose the value range [-1, +1] is scaled to [-127, +127] and transmitted as an integer. Floating point values outside these limits will be interpreted as -1 or +1. In the ADS Image Watch the pixel values to be transmitted are divided by 127 again so that the floating point values are displayed in the range [-1, +1]. Status Bar The status bar below the image shows the following information (from left to right): Fig. 13: Status bar in the ADS Image Watch • Color values/intensity values at the mouse pointer position on the image or number of pixels in the corresponding container at the mouse pointer position in the histogram • Image coordinates at the mouse pointer position on the image or container at the mouse pointer position in the histogram • Image resolution Histogram When the Show Histogram checkbox is checked, the histogram of the image is displayed at the bottom left of the image. This can have several channels that are displayed superimposed, depending on the image type. TF7000 - TF7810 Version: 2.4.0 137
## Page 138

Development environment Fig. 14: Histogram in the ADS Image Watch 5.9 Exporting/Importing nodes Twin CAT offers the option of saving individual configuration nodes such as I/O or MOTION elements in a separate XTI file or importing them from this file. This is also possible with application nodes as well as with Gig E Vision Camera and File Source objects. In this way, configurations for Vision devices can be saved independently of the project and re-imported elsewhere. Export 1. Right-click on the node to be exported and select Save <Name> As… 2. Select a location for the XTI file. Import Depending on whether you want to import an entire Application node or just a single Vision device, the following steps should be performed on the VISION node or on a corresponding Application node. 3. Right-click on the node into which you want to import the configuration and click Add Existing Item… 4. Select the XTI file you want to import. 138 Version: 2.4.0 TF7000 - TF7810
## Page 139

Development environment 5. If necessary, apply system-specific settings (e.g. network adapter) for the imported Vision devices. Duplication of camera configurations Please note that a successful transfer of the same configuration for several cameras can only be guaranteed if both the camera model and the firmware are identical. Otherwise problems may occur, e.g. if the register addresses of the camera are changed. Independent project files It is also possible to save the configuration nodes in a file of their own within the project, rather than exporting them completely. In this case the configuration for the corresponding nodes is not saved in the Twin CAT project file, but in a separate XTI file. This helps, for example, with version control systems, so that when a configuration is modified, the entire project file is not changed. TF7000 - TF7810 Version: 2.4.0 139
## Page 140

API reference 6 API reference This chapter describes the Twin CAT Vision API, which provides options for programmatic use of the Twin CAT 3 Vision library. Since Twin CAT Vision can be used in the Twin CAT 3 PLC and in Twin CAT 3 C++, these two documentations form the basis. All Twin CAT Vision-specific descriptions are therefore divided into the following two sub-chapters. 6.1 PLC This chapter contains the Twin CAT Vision API description for the programmatic use of the library in the PLC. As Twin CAT Vision brings along some innovations, the software concept is explicitly explained: • Software concept [} 140] • Data types [} 162] (aliases, constants, arrays, enums, structures) • Interfaces [} 252] (images, containers, etc.) • Functions [} 434] (image processing) • Function blocks [} 1571] (communication with cameras and the file system, image processing) 6.1.1 Software concept This chapter describes the innovations or special features that Twin CAT Vision brings along. The principles of the PLC programming in Twin CAT 3 as well as the reference programming can be found in the general Twin CAT 3 documentation. Within the description of the PLC you will find a chapter with Twin CAT 3 programming conventions. The recommendations and notes as well as the advantages and disadvantages that it contains enable a standardized program structure, a consistent naming of objects, variables, instances and an easily readable and more understandable code to be achieved and thus the simplification of the development, use and maintenance of the programs. Unambiguous access to library modules If the Tc3_Vision library is to be included (referenced) in another library and can thus occur several times in a project, an unambiguous access must be made via the namespace as prefix of the identifier. Default e.g. hr := Tc3_Vision. F_VN_Transform Into Displayable Image(ip Image In, ip Image In Disp, hr); For more information and setting options, see the PLC project settings and the library properties. WARNING Access to the same data when using several tasks If several tasks are to access the same image, for example, these accesses must be synchronized according to these guidelines. Otherwise there is the danger of an inconsistent data set, which could lead to unforeseeable consequences and program malfunctions. 6.1.1.1 Interface Pointers Dynamic memory areas are required for Twin CAT Vision in order, for example, to save images and containers. These images and containers are represented by variables of type ITc Vn Image [} 413] and ITc Vn Container [} 374]. Since they are interfaces pointing to a dynamic memory area, these variables are called interface pointers. With the Twin CAT Vision API functions, the associated memory management is automatically controlled within the functions; nothing needs to be observed here. 140 Version: 2.4.0 TF7000 - TF7810
## Page 141

API reference For example, a new image is created (800 x 600 pixels of the type TCVN_ET_USINT with one channel): VAR hr : HRESULT; ip Image : ITc Vn Image; END_VAR hr := F_VN_Create Image(ip Image, 800, 600, TCVN_ET_USINT, 1, hr); this image is now to be converted into an RGB image with 3 channels. Therefore 3 times as much memory is required. The following function call is sufficient for this: hr := F_VN_Convert Color Space(ip Image, ip Image, TCVN_CST_GRAY_TO_RGB, hr); Internally it frees up the previous memory area and allocates new memory in a size to suit. Interface pointers are thus a simple way of managing objects with dynamically required memory in the PLC. WARNING Consequences of misuse If you do not follow the following instructions for the use of interface pointers, this can lead to complete system crashes and to memory leaks! Reference counter As soon as the variables are no longer exclusively used as function parameters for the Twin CAT Vision API functions, however, it is necessary to familiarize yourself more precisely with the concept of interface pointers. It is important to know that the interface pointer variable is only a pointer to an object in memory. If you assign one variable to another, only the pointer to this memory area is copied, not the data itself. This means that if the data in one of the two variables is changed, it is also automatically changed in the other. If the memory in one of the variables is released (as in the above example F_VN_Convert Color Space [} 1208]) and the second variable still has its pointer to this memory area, accessing this already released memory tends to result in a system crash. For this reason, the objects in the memory all have a reference counter. As soon as a variable is assigned to another, this reference counter must be increased. If a new pointer is assigned to a variable, the reference counter must be decreased again. When the reference counter reaches 0, the memory is released. The corresponding data are thus completely deleted. In order to indicate whether a pointer variable points to a valid memory area, this pointer must always be set to 0 if it is no longer in use (and the reference counter was thus reduced). By default, all created variables (and thus the pointers too) in the PLC are initially set to 0 when the program starts. Management of interface pointers In the Twin CAT Vision API functions (marked by F_VN_...), the reference counter is automatically managed by interface pointers. Thus, nothing special needs to be observed when using them. However, if interface pointers are manually copied or used, for example, as function parameters, manual management is necessary (see below). Checking the validity of interface pointers Since the value 0 for an interface pointer basically corresponds to just one invalid memory area – and access to it also leads to a critical system error – it is important to check before each use whether the value is non-zero. In the Twin CAT Vision API functions (F_VN_...), this check and the corresponding handling take place internally and automatically. However, this is not possible with interface methods, such as Tc Release() in the following sample, since their call already leads to an error if the variable is 0. The variable must therefore be checked explicitly beforehand. TF7000 - TF7810 Version: 2.4.0 141
## Page 142

API reference WARNING Method access to invalid memory area leads to system crash An internal check is not possible for interface methods, since the corresponding objects must exist to call the method. Even outside the method call, make sure that the corresponding object exists (the interface pointer should be non-zero). In addition, a system crash does not necessarily always occur. If the invalid memory area coincidentally remains unused, a system crash may not occur. Release of an interface pointer The release of an interface pointer variable consists of checking whether this is already 0 and otherwise reducing the reference counter and setting the variable to 0. As this is a frequent use case, a function FW_Safe Release is provided that carries out all necessary steps with a single call: hr := FW_Safe Release(ADR(ip Image)); The internal mode of operation of the FW_Safe Release function is illustrated by the following code snippet: IF ip Image <> 0 THEN // Check if interface pointer is already = 0 // If not, call . Tc Release() and set it to 0 ip Image. Tc Release(); // decrement reference count ip Image := 0; // set to 0 END_IF Copying of an interface pointer When copying an interface pointer, its reference counter must be manually incremented. A direct assignment by means of the := operator, as well as function/method/function block calls in which an interface pointer is transferred as an input, output or return value, count as a copying procedure. A transfer by means of I/O image also counts. The following method of incrementing the reference counter is available: ip Image. Tc Add Ref(); // increment reference count In addition, it must be ensured that the interface pointer to be written is enabled before copying. Otherwise memory leaks will occur. A manual procedure for copying an interface pointer could look like the following, for example: IF ip Src Image <> 0 THEN // check if source pointer is valid FW_Safe Release(ADR(ip Dest Image)); // release destination pointer ip Dest Image := ip Src Image; // assign source pointer to destination pointer ip Src Image. Tc Add Ref(); // increment reference count END_IF Please note that only the interface pointer, not the underlying image is copied. Rules of thumb Stick to the following rules of thumb when handling interface pointers. It is irrelevant whether the interface pointers are (displayable) images, containers, iterators, etc. – they are mutually interchangeable in the samples. If you call a method on an interface pointer It must be ensured that the interface pointer is valid (check for <> 0): IF ip Image <> 0 THEN ip Image. Get Image Info(st Image Info); END_IF In general it is recommended to use the alternative F_VN_ function (if it exists) instead of an interface method, because the check will then be automatically performed internally: hr := F_VN_Get Image Info(ip Image, st Image Info, hr); If you carry out the check and the call of the interface method in the same expression, you must use AND_THEN instead of AND. Only in that case will the rear part be executed if the front part returns TRUE: 142 Version: 2.4.0 TF7000 - TF7810
## Page 143

API reference IF ip Iterator <> 0 AND_THEN ip Iterator. Check If End() <> S_OK THEN ip Iterator. Get Container(ADR(ip Element)); END_IF Manually copy an interface pointer Make sure beforehand that the interface pointer to be written has been enabled. Increment the reference counter of the interface pointer after copying: FW_Safe Release(ADR(ip Dest Image)); IF ip Src Image <> 0 THEN ip Dest Image := ip Src Image; ip Src Image. Tc Add Ref(); END_IF Declare interface pointer in VAR_INPUT Nothing needs to be observed for functions and methods. For programs and function blocks, the pointer in the variables is retained after the call and should therefore be set to 0 at the end of the POU: VAR_INPUT ip Src Image: ITc Vn Image; END_VAR //… functional code ip Src Image := 0; This ensures that the memory area can no longer be accessed the next time it is called, since it could have already been released outside. Increasing the reference counter within the POU is not a solution, since a new assignment overwrites the previous pointer and therefore cannot be released, resulting in a memory leak. If the interface pointer is to be kept, it should be copied to a local variable. Declare interface pointer as reference in VAR Release the interface pointer at the end of functions and methods. The interface pointer no longer exists after ending the POU; therefore the reference counter must be decremented beforehand. For programs and function blocks, the interface pointer should be released as soon as it is no longer required: VAR ip Image Work: ITc Vn Image; END_VAR //… functional code hr := FW_Safe Release(ADR(ip Image Work)); Not recommended - declare interface pointer in VAR_OUTPUT The declaration of an interface pointer in VAR_OUTPUT is not recommended, since the use of outputs is optional and thus memory leaks can occur. In programs and function blocks, the pointer in the variables is retained even after the call, so that in the event of changes outside, a released memory area can be accessed in the function block. To prevent this, you must always ensure that the outputs are used and, in the case of programs and function blocks, that the reference counter is incremented or the output variable is set to 0 after the output variable has been copied. This is very laborious and error-prone, since you have to take care yourself to implement correctly at every point in the code. Therefore, transferring it as a reference in VAR_INPUT is recommended instead. NOTICE Memory leaks The use of an interface pointer in VAR_OUTPUT is not recommended. Failure to observe the above points may result in memory leaks and system crashes. Declare interface pointer as reference in VAR_INPUT The transfer as a reference should be used if a change to the interface pointer (e.g. assigning a new image/ container) is to be passed to the outside within the POU for further use there. VAR_INPUT ip Dest Image: REFERENCE TO ITc Vn Image; END_VAR The sample Self-written functions [} 2815] explains the correct use of interface pointers in self-written functions and methods. TF7000 - TF7810 Version: 2.4.0 143
## Page 144

API reference Consequences of misuse If an interface pointer variable is copied, but the reference counter is not adjusted at the same time with Tc Add Ref(), there are two pointers; however, only one of them is known to the program. Therefore, the data to which both interface pointer variables point will then be deleted as soon as one of the two variables is released. The release can take place both by a manually executed FW_Safe Release and by a Twin CAT Vision API function that rewrites the variable. If the remaining interface pointer variable is then accessed by a method call, the system crashes as described above. If, contrary to this, interface pointer variables are rewritten without prior release (e.g. through a := assignment), this leads to memory leaks. This can occur, for example, if interface pointers are used as method variables and not released before ending the method. An indication for memory leaks can be found in the information window of the AMS router (see Router memory [} 55]). If the memory marked there as available decreases over time, this indicates a memory leak. 6.1.1.2 HRESULT All Twin CAT Vision functions return an HRESULT after their execution. Its value indicates whether the execution was successful or not. SUCCESS codes A successful execution is indicated by a POSITVE code. In hexadecimal notation the first digit is between 0 and 7. Frequent SUCCESS codes are: Code Name Description 16#000 S_OK Function was executed successfully 16#001 S_FALSE Function was executed successfully but did not reach a complete result. (Occurs, for example, with the Code Reading functions if no code was found in the image.) 16#203 S_PENDING Asynchronous method was started but there is no result yet (occurs at the first call of fb Camera Control. Start Acquisition(), for example; at the second call S_OK is returned, for example) 16#256 S_WATCHDOGTIMEO Function was aborted by the watchdog. UT ERROR codes A failed execution is indicated by a NEGATIVE code, or in hexadecimal notation the first digit is >= 8. The final digits of the code correspond to the ADS Return Codes [} 2864]. NOTICE Error code If an error code is returned, it means that all returns of the function are invalid. and must therefore not be used. 144 Version: 2.4.0 TF7000 - TF7810
## Page 145

API reference Common ERROR codes with the Twin CAT Vision API elements are: Hex Dec Name Description 16#70A 1802 NOMEMORY Insufficient memory 16#70B 1803 INVALIDPARM Invalid parameter values 16#70C 1804 NOTFOUND Not found (file, image, ...) 16#70E 1806 INCOMPATIBLE Objects do not match 16#712 1810 INVALIDSTATE The method of an FB was called in an impermissible state. 16#719 1817 TIMEOUT timeout 16#71A 1818 NOINTERFACE Interface query failed 16#71B 1819 INVALIDINTERFACE Wrong interface requested. 16#71D 1821 INVALIDOBJID Object ID is invalid. 16#734 1844 OUTOFRANGE Outside the valid range. Please refer to the ADS Return Codes [} 2864] for the complete list. Application In the event of an error, the HRESULT is negative (error code), otherwise it is positive (success code). Use the FAILED () and SUCCEEDED () functions to check this. PROGRAM MAIN VAR hr : HRESULT := S_OK; END_VAR IF SUCCEEDED(hr) THEN //code END_IF Restricted query Note that the above query only checks for successful execution of the function, not for a correct or desired result. For example, Code Reading functions [} 820] return the success code S_FALSE (16#001) if no code is found or read in the image. To detect this case, hr must be directly compared with S_OK or S_FALSE. In contrast, measurement functions [} 1440] return NOTFOUND (16#70C), if the object to be measured is missing from the image. Most Twin CAT Vision functions expect a HRESULT as the last input parameter and are only executed if this is a SUCCESS code and it is therefore confirmed that no error has occurred so far. Otherwise, the respective function is not executed and instead returns the previous HRESULT. This ensures that, when the HRESULT is passed from function to function, the first error code that occurred is output instead of a subsequent error. SUCCESS codes SUCCESS codes (e.g. S_FALSE) are not forwarded and overwritten by the next function. If necessary, the HRESULT value of the respective functions must be checked explicitly. Accessing interface methods If a function is to create an interface pointer, the HRESULT of the function indicates whether the interface pointer now exists. In addition, the interface pointer must be checked to ascertain whether it is zero. WARNING Method access to invalid memory area leads to system crash An internal check is not possible for interface methods, since the corresponding objects must exist to call the method. Even outside the method call, make sure that the corresponding object exists (interface pointer not 0) and that the program has not yet returned an error code. TF7000 - TF7810 Version: 2.4.0 145
## Page 146

API reference This is a secure query to use a newly created interface pointer: IF SUCCEEDED(hr) AND ip Image <> 0 THEN hr := ip Image. Get Width(n Width); END_IF Integration into user-defined function blocks An HRESULT can be integrated into user-defined function blocks as follows: METHOD My Method : HRESULT VAR_INPUT hr : HRESULT END_VAR IF FAILED(hr) THEN My Method := hr; //skip the whole method ELSE (* code code code *) My Method := S_OK; // or some error code if something went wrong END_IF This is explained in more detail in the sample Self-written functions [} 2815]. Extraction of the ADS Return Code If, for example, the pure ADS Return Code is required for display in an HMI, this can be extracted from the HRESULT in numeric and textual form as follows: PROGRAM MAIN VAR hr : HRESULT; n Return Code : DWORD; s Return Code : STRING; END_VAR n Return Code := DINT_TO_DWORD(hr) AND 16#FFF; s Return Code := DWORD_TO_HEXSTR(n Return Code, 3, FALSE); The library Tc2_Utilities is required for this purpose. 6.1.1.3 Machine Learning In Machine Learning, a model is optimized to solve a task. This process is known as training. Sophisticated data analyses can be carried out automatically with the help of trained models. This means that complex, manually created program constructs can be replaced. The Machine Learning models are created, trained and executed in the Twin CAT 3 real-time environment using the Machine Learning functions [} 1346] provided. The tasks that can be solved with it are diverse and can be roughly divided into five task areas (classification, anomaly detection, regression, cluster analysis and feature transformation). Depending on the task, different model types are available, each of which has general or task-specific advantages and disadvantages. In Machine Learning, a distinction is made between supervised and unsupervised learning. Supervised learning requires additional information such as annotated (e.g. labeled) data sets so that the model can learn a mapping to known categories (classes) or to desired target variables. The model can then make a prediction of the categories or target variables for the unknown data. In contrast, unsupervised learning without additional information is based solely on the features themselves. All classification and regression models can generally be assigned to supervised learning. In contrast, all models for anomaly detection and clustering are assigned to unsupervised learning. Both options are available for feature transformation, with the Linear Discriminant Analysis method based on supervised learning and Principal Component Analysis based on unsupervised learning. The following assignment of model types to task areas helps with the choice of suitable models. It should be noted that the handling of machine learning in Twin CAT Vision is shown here specifically and not in general. 146 Version: 2.4.0 TF7000 - TF7810
## Page 147

API reference Model types Classification Anomaly de- Regression Clustering Feature trans- tection formation Boost Classifier x (Boosting) K-Means++ x x (KMPP) K-Nearest Neighbors x x x (KNN) Linde-Buzo-Gray x x (LBG) Linear Discriminant Analysis x (LDA) Normal Bayes Classifier x x (NBC) Principal Component Analysis x (PCA) Random Forest x x (RTrees) Simplified Topo ART x x x x (STA) Support Vector Machine x x x (SVM) Support Vector Machine- x Stochastic Gradient Descent (SVM-SGD) Only models that were created using one of the F_VN_Create functions from the Machine Learning [} 1346] group can be used. The models created and subsequently trained in this way can be saved or loaded to the hard disk via the function blocks FB_VN_Write Ml Model [} 1608] and FB_VN_Read Ml Model [} 1600]. The import of externally trained models, e.g. as ONNX files, is not intended. Basic procedure for machine learning: • Analyze the problem and define the desired result: ◦ Among other things, this determines the area of application and the model types that can be used. • Collecting data: ◦ Training, validation and test data ◦ The data must contain information that is suitable for solving the problem. ◦ The data must cover all variants and characteristics that may occur later. ◦ With supervised learning, the data must also be annotated. • Selection and extraction of suitable features: ◦ Which features are unique, special or provide relevant information for differentiation? ◦ Redundant features should be avoided. ◦ A feature transformation can be helpful here. ◦ Finally, a feature normalization should be carried out so that the value ranges of the different features are comparable and the requirements of the model are met. • Determination of a suitable model and the hyperparameters (validation and optimization). (Training of the selected model with the determined hyperparameters on the training and validation data). • Final test with previously unused, independent data. The data must be available in the form of samples. A sample is a vector consisting of features. The features can be both tangible variables of the associated image (e.g. color values) or contour values (e.g. in the form of the center of gravity) etc., as well as abstract variables (e.g. the result of a PCA), which describe the TF7000 - TF7810 Version: 2.4.0 147
## Page 148

API reference image statistically in a meaningful way, but which cannot be interpreted directly by the user. For the training of supervised models, additional information such as a class assignment is required for each sample. A collection of several samples is referred to as a batch. Depending on the model type, functions for sample and / or batch training and prediction are available. Some models can be retrained in order to further optimize the model during runtime or to adapt it to new conditions. Feature extraction Feature extraction involves the extraction of numerical features from image data and is an essential component of a Machine Learning solution. A distinction must be made between whether a feature can be determined directly by a function, whether a combination of functions is required, or whether logical features of an object, such as the number of holes, can be used for differentiation. You will find an exemplary list in the chapter Feature extraction functions [} 148]. Feature normalization The scaling of features for normalization is primarily performed to ensure that all features contribute equally to the learning process of the model. Features with larger values can dominate distance calculations, making distance-based models more sensitive to these features. To avoid this and to meet the requirements of the model, we generally recommend performing a feature normalization. The function F_VN_Get Feature Scales [} 1403] provides three scaling options (ETc Vn Feature Scaling Type [} 206]). You can also create and use your own scaling. The scaling is applied using the function F_VN_Feature Scaling [} 1392]. Same feature extraction and normalization It should be noted that all processing steps must be carried out both during training and when using a model. The functions must therefore be executed in both places and, if necessary, parameters must be saved for later use. 6.1.1.3.1 Feature extraction functions This list contains functions that are suitable for feature extraction. This list is only an example and does not claim to be exhaustive. Image features • F_VN_Image Average [} 1188] • F_VN_Image Average Std Dev [} 1189] • F_VN_Image Moments [} 1194] ◦ F_VN_Hu Moment Invariants [} 1524] • F_VN_Count Non Zero Pixels [} 1181] • F_VN_Histogram Exp [} 1214] • F_VN_Image Center Of Mass [} 1191] • F_VN_Max Pixel Value [} 1195] • F_VN_Min Pixel Value [} 1197] • F_VN_Region Orientation [} 1199] Contour features • F_VN_Contour Area [} 944] • F_VN_Contour Circularity [} 946] • F_VN_Contour Roundness [} 955] • F_VN_Contour Moments [} 951] ◦ F_VN_Hu Moment Invariants [} 1524] 148 Version: 2.4.0 TF7000 - TF7810
## Page 149

API reference • F_VN_Contour Convexity [} 947] • F_VN_Contour Perimeter [} 954] • F_VN_Contour Orientation [} 952] • F_VN_Contour Center Of Mass [} 945] • F_VN_Contour Eccentricity [} 948] • F_VN_Contour Elongation [} 948] • F_VN_Contour Extreme Point [} 949] • F_VN_Contour Inertia Ratio [} 950] • F_VN_Convex Hull Points [} 955] • F_VN_Convexity Defects [} 957] • F_VN_Fourier Descriptors [} 965] • F_VN_Enclosing Circle [} 959] • F_VN_Fit Ellipse [} 962] • F_VN_Enclosing Rectangle [} 960] Image texture • F_VN_Granulometry [} 1568] • F_VN_Haralick Features [} 1570] Key Points • F_VN_Key Points AGAST [} 1320] • F_VN_Key Points And Descriptors AKAZE [} 1321] • F_VN_Key Points And Descriptors ORB [} 1327] • F_VN_Key Points FAST [} 1329] • F_VN_Key Points GFTT [} 1331] • F_VN_Key Points SB [} 1334] 6.1.1.4 Watchdogs Since the runtime of many image processing algorithms depends on the image content, function calls can take much longer than usual under unfavorable circumstances. This can be caused, for example, by changing lighting conditions, unexpected objects in the image and other factors that can drastically influence the calculation time of functions such as F_VN_Find Contours() [} 1158]. If, for example, only 10 contours can be found under normal conditions, with other lighting conditions there may be 100 or more. This can lead to cycle overruns, which must be avoided at all costs, as they lead to undefined behavior. Watchdogs are helpful for this purpose. Watchdogs can abort individual Vision functions or entire code sections with several functions after a certain time. Some Twin CAT Vision functions can be aborted during execution and return the partial results calculated up to that point. If several functions are monitored by a watchdog, all remaining functions within the watchdog range are skipped when the specified time has elapsed. However, the subsequent functions (after the watchdog area) are executed normally again. There are two functions available to define the start of a watchdog-monitored area, which differ in terms of when the specified time starts to count: • F_VN_Start Abs Watchdog [} 973] defines an absolute abort time relative to the start of the task cycle • F_VN_Start Rel Watchdog [} 975] defines a relative abort time relative to the start of the watchdog area TF7000 - TF7810 Version: 2.4.0 149
## Page 150

API reference In both cases, the end of the area is defined by the function F_VN_Stop Watchdog [} 976], which optionally returns the handling component and the required time. NOTICE Watchdog with relative abort time When using F_VN_Start Rel Watchdog, care must be taken that the abort time is not set too long, as otherwise cycle overshoots can continue to occur. Therefore, observe the cycle time of the corresponding task, the time already elapsed up to the call of the function and the time still required until the end of the task after F_VN_Stop Watchdog. In order for functions to be monitored by a watchdog, the option "Watchdog stack" must be enabled on the respective executing task. Sample In the sample below, a watchdog is started with a stop time of 10 ms relative to the call of the watchdog function. If, for example, the cycle time is 20 ms, 4 ms have already passed in the current task cycle when F_VN_Start Rel Watchdog [} 975] is called and the watchdog is started with a stop time t Stop of 10 ms relative to the current time, then the watchdog stops the monitored functions (i.e. any function called between the start and stop of the watchdog) after 14 ms of the current cycle have elapsed. VAR ip Image : ITc Vn Image := 0; ip Contours : ITc Vn Container := 0; // watchdog runtime info n Functions Monitored : ULINT; n Fraction Processed : UDINT; t Rest : DINT; END_VAR (* imagine some other functions that use 4ms up to here *) hr := F_VN_Start Rel Watchdog(10000, hr); // 10ms hr := F_VN_Threshold(ip Image, ip Image, 120, 255, TCVN_TT_BINARY, hr); hr := F_VN_Find Contours(ip Image, ip Contours, hr); hr := F_VN_Stop Watchdog(n Functions Monitored => n Functions Monitored, n Fraction Processed => n Fraction P rocessed, t Rest => t Rest); Now two situations are possible: 150 Version: 2.4.0 TF7000 - TF7810
## Page 151

API reference • Both functions are terminated in time – this is the normal case. Suppose F_VN_Threshold [} 1298] takes 1 ms and F_VN_Find Contours [} 1158] takes 5 ms. When F_VN_Stop Watchdog [} 976] is called, 4 ms remain. The watchdog runtime information is: n Functions Monitored = 2 n Fraction Processed = 100 // in % t Rest = 4000 // in us, equals 4ms • The watchdog must intervene. Scenario: The function F_VN_Threshold [} 1298] is not dependent on the image content (only on the number of pixels) and therefore only takes 1 ms, but the lighting conditions have changed unfavorably, so that F_VN_Find Contours would take longer than 9 ms. Therefore the watchdog stops F_VN_Find Contours [} 1158], which nevertheless returns the contours found so far. The watchdog runtime information could then be as follows: n Functions Monitored = 2 n Fraction Processed = 70 t Rest = -50 In this case, an estimated handling percentage of 70% was calculated when the function was aborted. The remaining time is negative, i.e. the planned stop time was exceeded by 50 us, so that after the function F_VN_Stop Watchdog [} 976] 14050 us have passed since the start of the task cycle, instead of the planned 14000 us. This overrun is due to the fact that the partial results of the function that have already been calculated are to continue to be used. Therefore, on the one hand the algorithm can only be aborted at specific points, on the other hand the previous results must be organized and returned. The maximum overrun generally depends on the specific function and the image content. In a program, the termination time should therefore always be selected such that a safety buffer remains at the end of the task cycle. Monitored functions The following functions provide partial results in the event of a watchdog termination: • F_VN_Adaptive Threshold(Exp) [} 1292] • F_VN_Convert Color Space [} 1208] • F_VN_Detect Blobs(Exp) [} 1149] • F_VN_Find Contour Hierarchy Exp [} 1154] • F_VN_Find Contours(Exp) [} 1158] • F_VN_Grade Data Matrix Code(Exp) [} 811] • F_VN_Grade QRCode(Exp) [} 817] • F_VN_Hough Circle(Exp) [} 1162] • F_VN_Image Absolute Average [} 1201] • F_VN_Locate Circular Arc(Exp) [} 1448] • F_VN_Locate Edge(Exp) [} 1458] • F_VN_Locate Edges(Exp) [} 1467] • F_VN_Locate Ellipse(Exp) [} 1477] • F_VN_Match Template(Exp) [} 1169] • F_VN_Match Template And Evaluate(Exp) [} 1170] • F_VN_Measure Angle Between Edges(Exp) [} 1486] • F_VN_Measure Edge Distance(Exp) [} 1494] • F_VN_Measure Min Edge Distance(Exp) [} 1504] • F_VN_Normalize Image For Display [} 1220] TF7000 - TF7810 Version: 2.4.0 151
## Page 152

API reference • F_VN_Read Data Matrix Code(Exp) [} 836] • F_VN_Read Data Matrix Code(Exp(2)) [} 840] • F_VN_Reference Color Similarity(Exp)_ITc Vn Color Model (_ITc Vn Ml Model) [} 1221] • F_VN_Reference Color Similarity(Exp)_Tc Vn Vector3_LREAL [} 1223] • F_VN_Resize Image(Exp) [} 1132] • F_VN_Rotate Image Exp(2) [} 1136] • F_VN_Threshold [} 1298] • F_VN_Train Image Color(Exp(2)) [} 1227] • F_VN_Train Image Color(Exp(2))_(ITc Vn Ml Model) [} 1238] • F_VN_Upright Inner Rectangle(Exp) [} 1203] • F_VN_Warp Affine(Exp) [} 1137] • F_VN_Warp Perspective(Exp) [} 1142] Other functions cannot be aborted during the execution, but will be skipped if the watchdog time has expired. Examples • Blob Detection with watchdog monitoring [} 2759] 6.1.1.5 Image processing In the following chapters, some concepts of the image processing are explained both generally and specifically with reference to Twin CAT Vision. They will help you to understand the mode of operation of many API functions [} 434]. 6.1.1.5.1 Images Images are handled in Twin CAT Vision by image objects, which could have implemented various interfaces such as ITc Vn Image [} 413]. Access to the actual image data of the image object is gained via an interface pointer, which is then used in the PLC for processing. The images can consist of various pixel types and a number of channels, and may have a virtually arbitrary size. Due to processing from the real-time and the dynamic size, the image data are located in the router memory. Camera images are stored there directly after receipt, whereas images from the hard disk must first be loaded via a File Source or PLC function block and end up in the router memory in this way. The assistants in the camera object do not work with images from the router memory. Querying an image interface of a Vision device In many cases images are created with a camera or by loading an image file. The following function blocks are available for this purpose: • FB_VN_Simple Camera Control [} 1647] Can be connected to a Gig E Vision camera instance or a File Source instance. • FB_VN_Gev Camera Control [} 1625] Is connected to a Gig E Vision camera instance. • FB_VN_File Source Control [} 1614] Is connected to a File Source instance. Depending on the setting of the Vision device, a startup process or an image trigger may be necessary. Only the querying of the interface pointer in the PLC, via which access is gained to the image in the memory, is displayed here: VAR hr: HRESULT; fb Vision Device: FB_VN_Simple Camera Control; END_VAR 152 Version: 2.4.0 TF7000 - TF7810
## Page 153

API reference hr := fb Vision Device. Get Current Image(ip Image In); IF SUCCEEDED(hr) AND ip Image In <> 0 THEN // Process image… END_IF Image formats The two most commonly used image formats are mono and RGB. In the camera, the transferred image format is set under the Pixel Format tab. In order to reduce the amount of data and thus be able to realize higher transfer rates, there are also packed or filtered image formats, such as the Bayer format. Since these transmitted image formats cannot be used or do not correspond to the original image due to the filter, the formats should be converted directly after receipt. • In the case of packed images, the conversion happens internally when you call Get Current Image() and you get the unpacked image directly. • In all other cases, like with the Bayer format, the image should be converted first with the F_VN_Convert Color Space [} 1208]. After that, the input image is no longer needed and can be discarded. This point is especially important to note when using functions that interpolate image information, such as F_VN_Compensate Lens Distortion [} 1069], F_VN_Warp Affine [} 1137], F_VN_Rotate Image Exp [} 1135] or such as the functions for calibration that are disturbed by the filter image. Therefore, it is generally recommended to first read the image into the PLC, convert it there, and then apply all subsequent functions to the original image. Creating images There are situations where an image is needed that has not been captured by a camera or loaded from the file system. For example, a color image might be created to display results. The function F_VN_Create Image [} 766] can be used for this purpose by specifying the image size, pixel type and number of channels. The pixel type TCVN_ET_USINT selected here corresponds to a usual image with 8 bits per channel. Please note that the memory required for the image is only allocated, but not initialized. Therefore the image can be set to a uniform color with the function F_VN_Set Pixels [} 787]. Maximum image size The maximum image size that can be created, received, or processed is limited by the number of 2^20 pixels for rows or columns, or by the total size of 2^30 pixels for an image, whichever comes first. PROGRAM MAIN VAR ip Image : ITc Vn Image; a Color Black : Tc Vn Vector4_LREAL := [0, 0, 0]; hr : HRESULT; END_VAR hr := F_VN_Create Image( ip Image := ip Image, n Width := 640, n Height := 480, e Pixel Type := TCVN_ET_USINT, n Channel Num := 3, hr Prev := hr ); hr := F_VN_Set Pixels(ip Image, a Color Black, hr); Alternatively, an image can be created from existing image data using the F_VN_Create Image From Array [} 768] function. PROGRAM MAIN VAR a Image Data : ARRAY [0..479, 0..639] OF USINT; ip Image : ITc Vn Image; hr : HRESULT; END_VAR hr := F_VN_Create Image From Array( p Data := ADR(a Image Data), ip Image := ip Image, n Width := 640, n Height := 480, TF7000 - TF7810 Version: 2.4.0 153
## Page 154

API reference e Pixel Type := TCVN_ET_USINT, n Channel Num := 1, hr Prev := hr ); Accessing image data The functions F_VN_Get Pixel [} 781] and F_VN_Set Pixel [} 786] can be used to access individual pixels of an image. This method is easy to use. However, it has a relatively long runtime when applied repeatedly to many pixels. In this case, direct access to the image data array is more appropriate. A pointer for a complete row of pixels is fetched and the array operator is used to access the individual pixels: PROGRAM MAIN VAR ip Image : ITc Vn Image; n Height : UDINT; n Width : UDINT; y : UDINT; x : UDINT; // Pointer type must match pixel type of ip Image! p Row : POINTER TO USINT; n Pixel Value : USINT; END_VAR // Create ip Image here or set to an existing image // Determine width and height of image hr := F_VN_Get Image Width(ip Image, n Width, hr); hr := F_VN_Get Image Height(ip Image, n Height, hr); // Iterate every pixel of the image FOR y := 0 TO n Height - 1 DO IF hr = S_OK THEN hr := ip Image. Get Row Pointer(y, ADR(p Row)); IF hr = S_OK THEN FOR x := 0 TO n Width - 1 DO // Access pixel via p Row[x] n Pixel Value := p Row[x]; // e.g. p Row[x] := n Pixel Value; // e.g. END_FOR END_IF // It’s important to release the pointer. Otherwise there will be memory leaks. hr := ip Image. Release Row Pointer(ADR(p Row)); END_IF END_FOR Displayable images In order to be able to transfer and display an image by ADS (e.g. in the ADS Image Watch [} 134]), it must first be converted into a displayable image of the type ITc Vn Displayable Image [} 413]. The strict distinction between displaying and processing images is made for the following reason: Image transmission via ADS is not synchronous with the PLC cycle. Consequently, image processing functions could be performed at the same time as image transfer. In order to avoid memory conflicts during image transfer, it is therefore necessary to separate the memory areas from the images to be displayed and processed. The two interfaces ITc Vn Image [} 413] and ITc Vn Displayable Image [} 413] prevent image access for unwanted purposes (either processing or transferring). The following functions are available for conversion into a displayable image (ITc Vn Displayable Image [} 413]): • F_VN_Copy Into Displayable Image [} 764] • F_VN_Transform Into Displayable Image [} 793] • F_VN_Transform Into Displayable Image Exp [} 794] The F_VN_Copy Into Displayable Image [} 764] function creates a deep copy of the image data and makes it available as a displayable image. It should always be used if the image to be displayed is to be used in the following program sequence: // Processing, e.g.: hr := F_VN_Threshold(ip Image, ip Image, 128, 255, TCVN_TT_BINARY, hr); 154 Version: 2.4.0 TF7000 - TF7810
## Page 155

API reference // Show intermediate processing step hr := F_VN_Copy Into Displayable Image(ip Image, ip Image Disp, hr); // Further processing, e.g.: hr := F_VN_Find Contours(ip Image, ip Contours, hr); The function F_VN_Transform Into Displayable Image [} 793] uses the existing image data and releases the original interface pointer of the image. This means that the image data can no longer be processed and are fully available for image transmission. Since no copy of the image data is created, the execution time of this function is much shorter and no additional memory is used. However, this function only works if there is no other pointer to the image data. Otherwise the error code E_INCOMPATIBLE (16#70E) is returned. This can occur among other things if the Ads Communicator object [} 127] is activated (e.g. stream recording [} 105]), as this continues to reference the image internally for a short time. This function is therefore mainly useful for the end of the processing chain in order, for example, to display an already generated result image. // Put last results on image, e.g.: hr := F_VN_Draw Contours(ip Contours, -1, ip Image Res, a Color Red, 5, hr); // Finally transform result image into a displayable image hr := F_VN_Transform Into Displayable Image(ip Image Res, ip Image Res Disp, hr); In addition, the function F_VN_Transform Into Displayable Image Exp [} 794] offers the option to create a deep copy of the original image on demand. Thus, the resource-saving transform variant is used if possible, while the copy variant is used if necessary. A corresponding use case can occur if the Ads Communitor object [} 126] of a Gig E Vision Camera [} 70] instance is activated to save images as a stream to the file system. In addition to the pointer in the PLC, there is another image data pointer in the Ads Communicator object. If this is not yet enabled in the PLC at the time the image is used, the image must be copied for display. hr := fb Camera. Get Current Image(ip Image In); hr := F_VN_Copy Image(ip Image In, ip Image Work, hr); // Reliably show original image and try to reuse image data to avoid deep copy hr := F_VN_Transform Into Displayable Image Exp( ip Src Image := ip Image In, ip Dest Image := ip Image In Disp, b Allow Deep Copy := TRUE, hr Prev := hr ); // Manipulate ip Image Work during processing here ... Memory limitation for displayable images Images that are displayed in the development environment (ADS Image Watch or camera assistants) are located in the same RAM area as the respective Visual Studio instance. If you now wish to view a very large number of images or images of a large size, bottlenecks may occur due to the maximum available memory per instance. As the images are retrieved from the PLC for display in the ADS Image Watch (ADS communication) and this exchange takes place via the router memory, sufficient memory space must be available at this point. Meta information Meta information for an image can be obtained with the function F_VN_Get Image Info [} 779]. As a result of the function, a structure of the type Tc Vn Image Info [} 237] is returned. The information it contains can be used, for example, to ensure that an image has the expected format in order to be converted: hr := F_VN_Get Image Info(ip Image In, st Image Info, hr); IF st Image Info.st Pixel Format.n Channels = 3 THEN hr := F_VN_Convert Color Space(ip Image In, ip Image In, TCVN_CST_RGB_TO_GRAY, hr); END_IF 6.1.1.5.2 Container A typical task in image processing is to find objects in the image and to determine their shape, position and size. The objects found can be described, for example, by their contour points. Since the number of contour points depends on the specific object, it can vary greatly. For this reason, containers of dynamic size are used to store these contours. TF7000 - TF7810 Version: 2.4.0 155
## Page 156

API reference However, the containers are not limited to storing contour points, they can also contain a variety of other data types. Different data types cannot be mixed within a container. Some basic concepts for handling containers are explained below. Creating a container A container can be created with a single function call. Only the type (see available types [} 163]) and the initial number of elements have to be defined: PROGRAM MAIN VAR hr : HRESULT; ip Container : ITc Vn Container; END_VAR hr := F_VN_Create Container(ip Container, Container Type_Vector_REAL, 10, hr); In this sample a new container with 10 elements of type REAL was created, which is internally organized as C++ vector. Alternatively, the function F_VN_Copy Container [} 735] can be used to create a deep copy of an existing container. Not only the pointer to the data is copied - as with an assignment to another variable - but the data is copied to a newly allocated memory area. All available types of containers are stored as global constants [} 163] and named according to the following pattern: All names begin with "Container Type_". This is followed by the type, which is composed of the description of the actual container type (based on C++ containers) and the element types (e.g. REAL, UDINT, etc.). Containers can in turn also contain further containers as elements. Each level of the container structure is represented in the name by the respective container type, e.g. "Vector_" or "String_". Therefore the resulting type name of a container with REAL elements is Container Type_Vector_REAL. Adding elements Since the containers are able to dynamically expand the allocated memory, additional elements can be added to an existing container. The functions F_VN_Append To Container [} 546] and F_VN_Insert Into Container [} 669] can be used for this. However, as it may be internally necessary to allocate a completely new memory area and to copy the existing data, it is recommended to reserve the maximum required memory in advance. Consequently, new memory is allocated only once and the program has an overall higher performance. A function exists for this, F_VN_Reserve Container Memory [} 754], which merely reserves memory, but does not change the number of elements in the container. // Reserve memory for 100 elements hr := F_VN_Reserve Container Memory(ip Container, 100, hr); // Append the value 1.23 to the end of the container hr := F_VN_Append To Container_REAL(1.23, ip Container, hr); // Insert the value 4.56 into the container at index 2 (3rd element) hr := F_VN_Insert Into Container_REAL(4.56, ip Container, 2, hr); Accessing elements In the case that only a few individual elements of the container are to be accessed, it is recommended to use the F_VN_Get At_... or F_VN_Set At_... functions. Since no function name overload is possible in the PLC, there is a separate function name for each supported container type. The first element in the container has the index 0. PROGRAM MAIN VAR hr : HRESULT; ip Container : ITc Vn Container; f Element : REAL; END_VAR hr := F_VN_Get At_REAL(ip Container, f Element, 0, hr); // Get first element hr := F_VN_Set At_REAL(f Element, ip Container, 2, hr); // Set third element 156 Version: 2.4.0 TF7000 - TF7810
## Page 157

API reference The advantage of using these ready-made functions is that only a single line of code is required and all checks (e.g. whether the container type is correct and the index is not too large) are performed internally. If you wish to access all elements in the container one after the other, it is recommended in particular with large containers to access the container elements via iterators and the associated access interface in order to achieve a better performance: PROGRAM MAIN VAR hr : HRESULT; ip Container : ITc Vn Container; ip Iterator : ITc Vn Forward Iterator; ip Access : ITc Vn Access_REAL; f Element : REAL; END_VAR hr := F_VN_Get Forward Iterator(ip Container, ip Iterator, hr); IF SUCCEEDED(hr) AND ip Iterator <> 0 THEN hr := ip Iterator. Tc Query Interface(IID_ITc Vn Access_REAL, ADR(ip Access)); IF SUCCEEDED(hr) AND ip Access <> 0 THEN WHILE SUCCEEDED(hr) AND ip Iterator. Check If End() <> S_OK DO hr := ip Access. Get(f Element); IF SUCCEEDED(hr) THEN f Element := f Element + 1; hr := ip Access. Set(f Element); END_IF IF SUCCEEDED(hr) THEN hr := ip Iterator. Increment(); END_IF END_WHILE END_IF hr := FW_Safe Release(ADR(ip Access)); END_IF hr := FW_Safe Release(ADR(ip Iterator)); If the elements in the container are in turn containers, use the following procedure instead. Container of containers Since, for example, the function F_VN_Find Contours [} 1158] can find not only one but several contours, containers can contain further containers as elements (in which case all inner containers must contain elements of the same type). In principle, these can be used in exactly the same way as the simple containers described above. For this purpose there is, for example, the function F_VN_Get At_ITc Vn Container [} 639] for obtaining a deep copy of any inner container that is usable from the PLC (it is technically impossible to obtain an interface pointer to the original data). Due to the general ITc Vn Container data type at this level, it is not necessary to distinguish which base element types are contained in the inner containers. This simplifies access via iterators, since the special Access Interface is no longer necessary: PROGRAM MAIN VAR hr : HRESULT; ip Container : ITc Vn Container; ip Iterator : ITc Vn Forward Iterator; ip Element : ITc Vn Container; END_VAR hr := F_VN_Get Forward Iterator(ip Container, ip Iterator, hr); IF SUCCEEDED(hr) AND ip Iterator <> 0 THEN WHILE SUCCEEDED(hr) AND ip Iterator. Check If End() <> S_OK DO // ip Element gets a deep copy! hr := F_VN_Get Container(ip Iterator, ip Element, hr); IF SUCCEEDED(hr) AND ip Element <> 0 THEN // 1. extract information or manipulate ip Element // 2. write back changes if ip Element was manipulated hr := F_VN_Set Container(ip Iterator, ip Element, hr); END_IF hr := F_VN_Increment Iterator(ip Iterator, hr); END_WHILE // more efficient to release outside loop, Get Container handles it inside hr := FW_Safe Release(ADR(ip Element)); END_IF hr := FW_Safe Release(ADR(ip Iterator)); TF7000 - TF7810 Version: 2.4.0 157
## Page 158

API reference Displaying containers At present the content of containers cannot be displayed in the Visual Studio Live Debugging without further action. Instead, the data can be exported to an array and viewed in this way: VAR a Array : ARRAY [0..9] OF REAL; ip Container : ITc Vn Container; n Buffer Size : ULINT; END_VAR hr := F_VN_Export Container Size(ip Container, n Buffer Size, hr); IF n Buffer Size = SIZEOF(a Array) THEN hr := F_VN_Export Container( ip Container :=ip Container, p Buffer :=ADR(a Array), n Buffer Size :=n Buffer Size, hr ); END_IF Overwriting containers Generally, containers with API functions can simply be overwritten. At present, however, overwriting is not possible if the existing container and the container to be written are of different types. This is signaled by the error code 70E (INCOMPATIBLE). 6.1.1.5.3 Contours This chapter describes the use of contours in Twin CAT Vision. What are contours? In general, a contour (also called an outline) is the demarcation of an object from its surroundings; this is classically two-dimensional in image processing. A contour describes the shape, size and location of this object. Within the scope of image processing, this means an object in an image [} 152]; hence, a contour describes the outline of the object in the image. How are contours displayed? A contour is displayed as a collection of 2D points. The points mostly refer to the origin of the image in which the object is mapped, provided no ROI has been set. If you connect all the points in this field with straight lines, you get a drawing of the contour. 158 Version: 2.4.0 TF7000 - TF7810
## Page 159

API reference How are contours displayed in Twin CAT Vision? A dynamic array of 2D points is handled in Twin CAT Vision as a container [} 155] (ITc Vn Container) of points (Tc Vn Point2_DINT/REAL). A corresponding container then has the type designation Container Type_Vector_Tc Vn Point2_DINT/REAL. The points then frequently lie directly on the pixel grid (e.g. in case of a contour search). In this case, DINT elements are used to save the points. However, there are also cases in which the accuracy is insufficient, and REALs therefore have to be used (e.g. in case of measurements). The points then do not lie exactly at the center point of a pixel, but somewhere else. Drawing functions can only draw contours with integer elements in an image. In case of doubt, therefore, the element type of the container must be converted. Fields of contours A frequent occurrence is where several contours are to be handled at the same time (e.g. several contours are usually found with F_VN_Find Contours [} 1158]). This is technically implemented by using a two- dimensional container. Therefore, there is an array of contours or an array of arrays of 2D points. The corresponding type designation is then Container Type_Vector_Vector_Tc Vn Point2_DINT/REAL. What is contour approximation? Generally, a very large number of points can always be used for displaying an object. However, this is frequently unnecessary, as (approximately) straight lines can be approximated through their start and end point. The points in between do not need to be saved in addition, because the start and end point suffice for the definition. Depending on the method used and the geometry of the objects, the approximation can be more or less lossy. In any case, in the case of differing approximation, the geometrical features can also be calculated with slightly different values. Geometrical features On contours, i.e. from the arrays of points, a large number of individual features can be calculated that geometrically describe the respective contour. The contour and thus the respective object can be examined and, for example, classified via these features. These features include: • Scope • Surface • Center points TF7000 - TF7810 Version: 2.4.0 159
## Page 160

API reference Closed and open contours A contour is normally closed. In this case the first and last element of the array are simply regarded as being connected. However, it is also possible to have an open contour. Open and closed contours thus do not differ in terms of their technical representation, but by the information regarding how the data are to be interpreted. Whether the respective contour is to be used open or closed will be queried accordingly at the relevant points of the API. Samples • Object Detection [} 2759] • Contour analysis [} 2750] 6.1.1.5.4 Masks This chapter describes the meaning of masks in Twin CAT Vision. What is a mask? In relation to image processing, a mask means a mask image that belongs to another image [} 152]. The mask image has the same size and consists of a grayscale channel. The intensities of the mask image define which pixels of the associated image are to be taken into account for certain work steps. What is a mask needed for? Without further action, images are limited to a rectangular shape. If shapes other than rectangles are to be defined during image operations, this can be implemented by means of a mask. The mask is displayed by a further image with the same shape and size on which the areas (pixels) to be taken into account are marked differently. How is a mask technically displayed? The intensities of the mask grayscale image describe which pixels are to be considered. The interpretation of the intensities can in principle deviate from function to function. Binarily, it is frequently the case that all pixels with a value of 0 are interpreted as not to be considered and all pixels with a different value (>=1) are interpreted as to be considered. However, cases are also conceivable in which the degree of consideration can be set with a finer granularity. A mask that restricts the observation area to a circular area in the image can look like this, for example: 160 Version: 2.4.0 TF7000 - TF7810
## Page 161

API reference When applying this mask, the pixels in the corner of an associated image have no further influence on a subsequent operation. Sample By way of example, a mask is created for the image ip Image Work that says that only a circular area of the image is to be considered: hr := F_VN_Get Image Width(ip Image Work, n Width, hr); hr := F_VN_Get Image Height(ip Image Work, n Height, hr); hr := F_VN_Create Image(ip Image Mask, n Width, n Height, TCVN_ET_USINT, 1, hr); hr := F_VN_Set Pixels(ip Image Mask, a Color Black, hr); hr := F_VN_Draw Circle(n Width/2, n Height/2, MIN(n Width, n Height)/2, ip Image Mask, a Color White, -1, hr); The average intensity value of the image within the mask area is subsequently calculated: hr := F_VN_Image Average Exp(ip Image Work, a Average, ip Image Mask, hr); f Average Intensity In Circle := a Average[0]; Without a mask it would not be possible without further action to restrict the average value to the circular area instead of the complete rectangular image. The full sample can be found here: Average intensity in shapes of any kind [} 2775]. 6.1.1.5.5 Region of Interest This chapter describes the use of a Region of Interest in Twin CAT Vision. What is a Region of Interest? A Region of Interest (ROI) is a rectangular image region to which an image is temporarily restricted. The image itself is not changed, but the section to be processed merely reduced in size. An ROI can be reset to the entire image at any time. What is a Region of Interest needed for? An existing image is frequently larger than the area to be processed. In this case an ROI should be set in order to obtain the following advantages: 1. Better performance: The image processing time is shorter if the image region to be processed is smaller. 2. Less interference: Interfering image objects that are outside the ROI are excluded from processing and therefore do not affect the result. It is equally possible through the use of ROIs to process several image areas separately by setting the ROI at various points in the image, one after the other. TF7000 - TF7810 Version: 2.4.0 161
## Page 162

API reference NOTICE ROI configuration in the camera If you use a camera as an image source, it is best to implement an ROI there in order to reduce the data quantity to be transmitted and to keep it as low as possible. Depending on the setting and sensor, the possible frame rate may also increase as a result of this. See camera configuration examples: Region of Interest (ROI) [} 2830] How is a Region of Interest technically displayed? The information about a set ROI is stored in Twin CAT Vision directly in the respective image object. The setting of an ROI merely consists of the setting of a rectangle description. The image data outside of this area still exist, but they are ignored when calling functions. The rectangle description consists of the position (n X and n Y) of the top left corner and the size (n Width and n Height) of the rectangle. Make sure that the rectangle does not extend beyond the edge of the picture (n Width ≤ Image Width - n X and n Height ≤ Image Height - n Y). To set an ROI, these parameters are transferred directly or as a structure of the type Tc Vn Rectangle_UDINT [} 251], depending on the function: • F_VN_Set Roi [} 789] • F_VN_Set Roi_Tc Vn Rectangle_UDINT [} 791] The function F_VN_Get Roi [} 782] is available for checking whether and which ROI is set on an image. An ROI can also be set on an image that already has an ROI. The function F_VN_Reset Roi [} 784] can be used if the ROI is to be enlarged or reset to the entire image size. 6.1.2 Data Types There are four data types, each with the prefix "Tc Vn": 162 Version: 2.4.0 TF7000 - TF7810
## Page 163

API reference • Alias names [} 163] for certain array types refer to image processing • Arrays [} 165] with a specific combination of data types and a defined number that are frequently used by the image processing functions. • Enums [} 165] help with the parameterization of functions and contain the additional prefix "E" • Structures [} 232] consolidate several related pieces of information (e.g. for geometric descriptions) In addition, constants [} 163] are available for the description of container types. 6.1.2.1 Aliases Name Type GVCP_REGISTER_ADDRESS UDINT Tc Vn Point Tc Vn Point2_DINT [} 163] Tc Vn Point2_DINT Tc Vn Vector2_DINT [} 165] Tc Vn Point2_LREAL Tc Vn Vector2_LREAL [} 165] Tc Vn Point2_REAL Tc Vn Vector2_REAL [} 165] Tc Vn Point3_LREAL Tc Vn Vector3_LREAL [} 165] Tc Vn Point3_REAL Tc Vn Vector3_REAL [} 165] Tc Vn Rectangle Tc Vn Rectangle_DINT [} 250] 6.1.2.2 Constants The following constants represent types of containers [} 155] as GUID. These are required, for example, with functions such as F_VN_Create Container [} 738]. TF7000 - TF7810 Version: 2.4.0 163
## Page 164

API reference Name Type Container Type_Vector_SINT GUID Container Type_Vector_USINT GUID Container Type_Vector_INT GUID Container Type_Vector_UINT GUID Container Type_Vector_DINT GUID Container Type_Vector_UDINT GUID Container Type_Vector_ULINT GUID Container Type_Vector_REAL GUID Container Type_Vector_LREAL GUID Container Type_Vector_ITc Vn Image GUID Container Type_Vector_Tc Vn Point2_DINT GUID Container Type_Vector_Tc Vn Point2_REAL GUID Container Type_Vector_Tc Vn Point2_LREAL GUID Container Type_Vector_Tc Vn Point3_REAL GUID Container Type_Vector_Tc Vn Point3_LREAL GUID Container Type_Vector_Vector_Tc Vn Point2_DINT GUID Container Type_Vector_Vector_Tc Vn Point2_REAL GUID Container Type_Vector_Vector_Tc Vn Point3_REAL GUID Container Type_Vector_Vector_UDINT GUID Container Type_Vector_Vector_ULINT GUID Container Type_Vector_Vector_REAL GUID Container Type_Vector_Vector_LREAL GUID Container Type_Vector_Tc Vn Vector2_SINT GUID Container Type_Vector_Tc Vn Vector2_USINT GUID Container Type_Vector_Tc Vn Vector2_INT GUID Container Type_Vector_Tc Vn Vector2_UINT GUID Container Type_Vector_Tc Vn Vector2_DINT GUID Container Type_Vector_Tc Vn Vector2_REAL GUID Container Type_Vector_Tc Vn Vector3_SINT GUID Container Type_Vector_Tc Vn Vector3_USINT GUID Container Type_Vector_Tc Vn Vector3_INT GUID Container Type_Vector_Tc Vn Vector3_UINT GUID Container Type_Vector_Tc Vn Vector3_REAL GUID Container Type_Vector_Tc Vn Vector4_SINT GUID Container Type_Vector_Tc Vn Vector4_USINT GUID Container Type_Vector_Tc Vn Vector4_INT GUID Container Type_Vector_Tc Vn Vector4_UINT GUID Container Type_Vector_Tc Vn Vector4_DINT GUID Container Type_Vector_Tc Vn Vector4_REAL GUID Container Type_Vector_Tc Vn Vector4_LREAL GUID Container Type_Vector_Tc Vn Rectangle_DINT GUID Container Type_Vector_Tc Vn Rotated Rectangle GUID Container Type_Vector_Tc Vn Key Point GUID Container Type_Vector_Tc Vn DMatch GUID Container Type_Vector_Vector_Tc Vn DMatch GUID Container Type_String_SINT GUID Container Type_Vector_String_SINT GUID 164 Version: 2.4.0 TF7000 - TF7810
## Page 165

API reference 6.1.2.3 Arrays Name Type Tc Vn Array10_ITc Vn Image array [0..9] of ITc Vn Image [} 413] Tc Vn Array3_Point2_REAL array [0..2] of Tc Vn Point2_REAL [} 163] Tc Vn Array33_UDINT array [0..32] of UDINT Tc Vn Array4_LREAL array [0..3] of LREAL Tc Vn Array4_Point2_REAL array [0..3] of Tc Vn Point2_REAL [} 163] Tc Vn Array7_LREAL array [0..6] of LREAL Tc Vn Array8_LREAL array [0..7] of LREAL Tc Vn Matrix2x3_LREAL array [0..1, 0..2] of LREAL Tc Vn Matrix3x3_LREAL array [0..2, 0..2] of LREAL Tc Vn Vector2_DINT array [0..1] of DINT Tc Vn Vector2_INT array [0..1] of INT Tc Vn Vector2_LREAL array [0..1] of LREAL Tc Vn Vector2_REAL array [0..1] of REAL Tc Vn Vector2_SINT array [0..1] of SINT Tc Vn Vector2_UINT array [0..1] of UINT Tc Vn Vector2_USINT array [0..1] of USINT Tc Vn Vector3_INT array [0..2] of INT Tc Vn Vector3_LREAL array [0..2] of LREAL Tc Vn Vector3_REAL array [0..2] of REAL Tc Vn Vector3_SINT array [0..2] of SINT Tc Vn Vector3_UINT array [0..2] of UINT Tc Vn Vector3_USINT array [0..2] of USINT Tc Vn Vector4_DINT array [0..3] of DINT Tc Vn Vector4_INT array [0..3] of INT Tc Vn Vector4_LREAL array [0..3] of LREAL Tc Vn Vector4_REAL array [0..3] of REAL Tc Vn Vector4_SINT array [0..3] of SINT Tc Vn Vector4_UINT array [0..3] of UINT Tc Vn Vector4_USINT array [0..3] of USINT 6.1.2.4 Enums 6.1.2.4.1 ETc Vn2d Code Search Strategy Offers search strategies for 2d code reading (multiple TCVN_CSS_XXX_INVERTED or multiple TCVN_CSS_XXX_FLIPPED cannot be combined). Syntax Definition: TYPE ETc Vn2d Code Search Strategy : ( TCVN_CSS_DEFAULT := 1, TCVN_CSS_ONLY_NOT_INVERTED := 8, TCVN_CSS_FIRST_NOT_INVERTED := 10, TCVN_CSS_ONLY_INVERTED := 12, TCVN_CSS_FIRST_INVERTED := 14, TCVN_CSS_ONLY_NOT_FLIPPED := 64, TCVN_CSS_FIRST_NOT_FLIPPED := 80, TCVN_CSS_ONLY_FLIPPED := 96, TF7000 - TF7810 Version: 2.4.0 165
## Page 166

API reference TCVN_CSS_FIRST_FLIPPED := 112 )UDINT; END_TYPE Values Name Description TCVN_CSS_DEFAULT The algorithm searches for codes using the default searching strategy, all other flags are ignored (dependant on code type). TCVN_CSS_ONLY_NOT_INVERTED The algorithm searches for codes only in the non- inverted image. TCVN_CSS_FIRST_NOT_INVERTED The algorithm first searches for codes in the non- inverted and then in the inverted image. TCVN_CSS_ONLY_INVERTED The algorithm searches for codes only in the inverted image. TCVN_CSS_FIRST_INVERTED The algorithm first searches for codes in the inverted and then in the non-inverted image. TCVN_CSS_ONLY_NOT_FLIPPED The algorithm searches for codes only in the non- mirrored image. TCVN_CSS_FIRST_NOT_FLIPPED The algorithm first searches for codes in the non- mirrored and then in the mirrored image. TCVN_CSS_ONLY_FLIPPED The algorithm searches for codes only in the mirrored image. TCVN_CSS_FIRST_FLIPPED The algorithm first searches for codes in the mirrored and then in the non-mirrored image. Further information This enum provides setting options for the search strategy of code reading functions. For more information see Code reading search strategies [} 821]. Related functions • F_VN_Read Data Matrix Code Exp [} 838] • F_VN_Read QRCode Exp [} 848] 6.1.2.4.2 ETc Vn Adaptive Threshold Method Offers methods for adaptive threshold. Syntax Definition: TYPE ETc Vn Adaptive Threshold Method : ( TCVN_ATM_MEAN := 0, TCVN_ATM_GAUSSIAN := 1 )DINT; END_TYPE 166 Version: 2.4.0 TF7000 - TF7810
## Page 167

API reference Values Name Description TCVN_ATM_MEAN The threshold value is calculated as the mean of the n Block Size x n Block Size neighborhood of (x,y) minus f Constant. TCVN_ATM_GAUSSIAN The threshold value is the weighted sum (cross- correlation with a Gaussian window) of the n Block Size x n Block Size neighborhood of (x,y) minus f Constant. Related functions • F_VN_Adaptive Threshold Exp [} 1293] 6.1.2.4.3 ETc Vn Barcode Search Direction Offers search directions for linear barcodes. Syntax Definition: TYPE ETc Vn Barcode Search Direction : ( TCVN_BSD_ANY := 0, TCVN_BSD_HORIZONTAL := 1, TCVN_BSD_VERTICAL := 2 )UDINT; END_TYPE Values Name Description TCVN_BSD_ANY The algorithm searches for codes in any supported directions. TCVN_BSD_HORIZONTAL The algorithm searches for codes in horizontal direction. TCVN_BSD_VERTICAL The algorithm searches for codes in vertical direction. Related functions • F_VN_Read Barcode Exp [} 832] 6.1.2.4.4 ETc Vn Barcode Type Offers linear barcode types to search for. Syntax Definition: TYPE ETc Vn Barcode Type : ( TCVN_BT_CODABAR := 4, TCVN_BT_CODE39 := 8, TCVN_BT_CODE93 := 16, TCVN_BT_CODE128 := 32, TCVN_BT_EAN8 := 128, TCVN_BT_EAN13 := 256, TCVN_BT_ITF := 512, TCVN_BT_UPCA := 32768, TCVN_BT_UPCE := 65536, TCVN_BT_ANY := 99260, TF7000 - TF7810 Version: 2.4.0 167
## Page 168

API reference TCVN_BT_CODE39EXTENDED := 262144 )UDINT; END_TYPE Values Name Description TCVN_BT_CODABAR The algorithm searches for Codabar codes. TCVN_BT_CODE39 The algorithm searches for Code-39 codes. TCVN_BT_CODE93 The algorithm searches for Code-93 codes. TCVN_BT_CODE128 The algorithm searches for Code-128 codes. TCVN_BT_EAN8 The algorithm searches for EAN-8 codes. TCVN_BT_EAN13 The algorithm searches for EAN-13 codes. TCVN_BT_ITF The algorithm searches for ITF codes. TCVN_BT_UPCA The algorithm searches for UPC-A codes. TCVN_BT_UPCE The algorithm searches for UPC-E codes. TCVN_BT_ANY The algorithm searches for any supported linear barcode. If the type of the code is known, it is recommended to select the specific type directly. TCVN_BT_CODE39EXTENDED The algorithm searches for Code-93-Extended codes. Related functions • F_VN_Read Barcode(Exp) [} 830] 6.1.2.4.5 ETc Vn Blob Combination Offers multiple blob contours to choose from, which should be returned in a multi-threshold scenario (used in Tc Vn Params Blob Detection, which in return is used in F_VN_Detect Blobs). Syntax Definition: TYPE ETc Vn Blob Combination : ( TCVN_BC_SMALLEST := 0, TCVN_BC_LARGEST := 1, TCVN_BC_MIN_THRESHOLD := 2, TCVN_BC_MAX_THRESHOLD := 3, TCVN_BC_MEDIAN_THRESHOLD := 4 )DINT; END_TYPE Values Name Description TCVN_BC_SMALLEST Returns the smallest blob contour. TCVN_BC_LARGEST Returns the largest blob contour. TCVN_BC_MIN_THRESHOLD Returns the blob contour for the minimum threshold. TCVN_BC_MAX_THRESHOLD Returns the blob contour for the maximum threshold. TCVN_BC_MEDIAN_THRESHOLD Returns the blob contour for the median threshold. Further information The enum ETc Vn Blob Combination is used in the structure Tc Vn Params Blob Detection [} 240]. Related functions • F_VN_Calibrate Camera(Exp) [} 1050] 168 Version: 2.4.0 TF7000 - TF7810
## Page 169

API reference • F_VN_Detect Blobs(Exp) [} 1149] 6.1.2.4.6 ETc Vn Boost Classifier Type Offers different types of Boost classifiers. Syntax Definition: TYPE ETc Vn Boost Classifier Type : ( TCVN_BCT_DISCRETE := 0, TCVN_BCT_REAL := 1, TCVN_BCT_LOGIT := 2, TCVN_BCT_GENTLE := 3 )DINT; END_TYPE Values Name Description TCVN_BCT_DISCRETE Discrete Ada Boost TCVN_BCT_REAL Real Ada Boost TCVN_BCT_LOGIT Logit Boost TCVN_BCT_GENTLE Gentle Ada Boost 6.1.2.4.7 ETc Vn Border Interpolation Method Offers methods to extrapolate values of non-existing pixels. On the one hand, this is used for filtering functions to enable filtering at the image borders (where the filter mask reaches over the border). On the other hand, this is used to extrapolate the undefined pixels after a geometric image transformation. Syntax Definition: TYPE ETc Vn Border Interpolation Method : ( TCVN_BIM_CONSTANT := 0, TCVN_BIM_REPLICATE := 1, TCVN_BIM_REFLECT := 2, TCVN_BIM_WRAP := 3, TCVN_BIM_REFLECT_101 := 4, TCVN_BIM_DEFAULT := 4, TCVN_BIM_TRANSPARENT := 5, TCVN_BIM_ISOLATED_CONSTANT := 16, TCVN_BIM_ISOLATED_REPLICATE := 17, TCVN_BIM_ISOLATED_REFLECT := 18, TCVN_BIM_ISOLATED_WRAP := 19, TCVN_BIM_ISOLATED_REFLECT_101 := 20 )DINT; END_TYPE TF7000 - TF7810 Version: 2.4.0 169
## Page 170

API reference Values Name Description TCVN_BIM_CONSTANT iiiiiii | abcdefgh | iiiiiii (with some specified i) TCVN_BIM_REPLICATE aaaaaaa | abcdefgh | hhhhhhh TCVN_BIM_REFLECT gfedcba | abcdefgh | hgfedcb TCVN_BIM_WRAP bcdefgh | abcdefgh | abcdefg TCVN_BIM_REFLECT_101 hgfedcb | abcdefgh | gfedcba TCVN_BIM_DEFAULT Choose this if you don't know which method to select (same as REFLECT_101). TCVN_BIM_TRANSPARENT Corresponding pixels in the destination image will not be modified. Only available for geometric image transformations. TCVN_BIM_ISOLATED_CONSTANT Similar to CONSTANT, but ROIs are handled as isolated, which means surrounding image pixels outside the ROI are ignored. TCVN_BIM_ISOLATED_REPLICATE Similar to REPLICATE, but ROIs are handled as isolated, which means surrounding image pixels outside the ROI are ignored. TCVN_BIM_ISOLATED_REFLECT Similar to REFLECT, but ROIs are handled as isolated, which means surrounding image pixels outside the ROI are ignored. TCVN_BIM_ISOLATED_WRAP Similar to WRAP, but ROIs are handled as isolated, which means surrounding image pixels outside the ROI are ignored. TCVN_BIM_ISOLATED_REFLECT_101 Similar to REFLECT_101, but ROIs are handled as isolated, which means surrounding image pixels outside the ROI are ignored. Further information Border interpolation is used to simulate pixel values outside of the image. This is necessary, for example, when applying a filter or a morphological operator to an image. For example, if a filter iterates over the image, it must be specified how the filter behaves at the image edges where parts of the filter kernel lie outside of the image. For this purpose the non-existent pixels outside of the image are simulated so that the filter operation can still be performed. The method with which this simulation is performed is defined with the enum ETc Vn Border Interpolation Method. The value TCVN_BIM_REFLECT is often a good choice; it reflects the outer image pixels with the image border as a mirror plane. Related functions • F_VN_Bilateral Filter Exp [} 1246] • F_VN_Custom Filter Exp [} 1255] • F_VN_Gaussian Filter Exp [} 1263] • F_VN_Laplacian Filter Exp [} 1266] • F_VN_Pad Image Border Exp [} 799] • F_VN_Scharr Filter Exp [} 1280] • F_VN_Separable Custom Filter Exp [} 1284] • F_VN_Sobel Filter Exp [} 1288] • F_VN_Warp Affine Exp [} 1141] • F_VN_Warp Perspective Exp [} 1146] 6.1.2.4.8 ETc Vn Calibration Pattern Offers common calibration pattern types. 170 Version: 2.4.0 TF7000 - TF7810
## Page 171

API reference Syntax Definition: TYPE ETc Vn Calibration Pattern : ( TCVN_CP_CIRCLES_SYM := 0, TCVN_CP_CIRCLES_ASYM := 1, TCVN_CP_CIRCLES_ASYM_INDENT := 2 )DINT; END_TYPE Values Name Description TCVN_CP_CIRCLES_SYM Symmetric circle pattern TCVN_CP_CIRCLES_ASYM Asymmetric circle pattern, i.e. every 2nd row is indented, starting unindented TCVN_CP_CIRCLES_ASYM_INDENT Asymmetric circle pattern, i.e. every 2nd row is indented, starting indented 6.1.2.4.9 ETc Vn Calibration Pattern Origin Offers calibration pattern origins. Syntax Definition: TYPE ETc Vn Calibration Pattern Origin : ( TCVN_CPO_TOPLEFT := 0, TCVN_CPO_TOPCENTER := 1, TCVN_CPO_TOPRIGHT := 2, TCVN_CPO_CENTERLEFT := 3, TCVN_CPO_CENTER := 4, TCVN_CPO_CENTERRIGHT := 5, TCVN_CPO_BOTTOMLEFT := 6, TCVN_CPO_BOTTOMCENTER := 7, TCVN_CPO_BOTTOMRIGHT := 8 )DINT; END_TYPE Values Name Description TCVN_CPO_TOPLEFT Origin is at top left TCVN_CPO_TOPCENTER Origin is at top center TCVN_CPO_TOPRIGHT Origin is at top right TCVN_CPO_CENTERLEFT Origin is at center left TCVN_CPO_CENTER Origin is at center TCVN_CPO_CENTERRIGHT Origin is at center right TCVN_CPO_BOTTOMLEFT Origin is at bottom left TCVN_CPO_BOTTOMCENTER Origin is at bottom center TCVN_CPO_BOTTOMRIGHT Origin is at bottom right 6.1.2.4.10 ETc Vn Camera State Specifies the state of a camera controller, which controls an attached camera. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 171
## Page 172

API reference TYPE ETc Vn Camera State : ( TCVN_CS_ERROR := -1, TCVN_CS_INITIAL := 0, TCVN_CS_INITIALIZING := 1, TCVN_CS_INITIALIZED := 2, TCVN_CS_OPENING := 3, TCVN_CS_OPENED := 4, TCVN_CS_STARTACQUISITION := 5, TCVN_CS_ACQUIRING := 6, TCVN_CS_STOPACQUISITION := 7, TCVN_CS_RESETTINGFEATURES := 8, TCVN_CS_TRIGGERING := 9, TCVN_CS_CLOSING := 10 )DINT; END_TYPE Values Name Description TCVN_CS_ERROR The camera controller is in an error state (e.g. the connection to the camera was lost). TCVN_CS_INITIAL The camera controller is in the initial state and ready to establish the connection to the camera. TCVN_CS_INITIALIZING The camera controller is initializing the camera. TCVN_CS_INITIALIZED The camera controller has initialized the camera. TCVN_CS_OPENING The camera controller is establishing the connection to the camera. TCVN_CS_OPENED The connection to the camera has been established and the camera controller is ready to start the image acquisition. TCVN_CS_STARTACQUISITION The camera controller is starting the image acquisition. TCVN_CS_ACQUIRING The camera is sending images (either streaming or manually triggered, depending on the configuration). TCVN_CS_STOPACQUISITION The camera controller is stopping the image acquisition. TCVN_CS_RESETTINGFEATURES The camera controller is resetting the features on the camera. TCVN_CS_TRIGGERING The camera controller is processing a softwaretrigger. TCVN_CS_CLOSING The camera controller is closing the connection to the camera. Further information The state machines used for these camera states are described in the respective function blocks for image acquisition [} 1612]: • FB_VN_Gev Camera Control [} 1622] • FB_VN_File Source Control [} 1614] • FB_VN_Simple Camera Control [} 1647] 6.1.2.4.11 ETc Vn Clustering Algorithm Offers clustering algorithms Syntax Definition: 172 Version: 2.4.0 TF7000 - TF7810
## Page 173

API reference TYPE ETc Vn Clustering Algorithm : ( TCVN_CA_KMEANSPP := 0, TCVN_CA_LBG := 1 )DINT; END_TYPE Values Name Description TCVN_CA_KMEANSPP KMeans++ (fixed number of clusters) TCVN_CA_LBG LBG variant (dynamic number of clusters) 6.1.2.4.12 ETc Vn Color Map Offers color maps (similar to GNU Octave/MATLAB types). Syntax Definition: TYPE ETc Vn Color Map : ( TCVN_CM_AUTUMN := 0, TCVN_CM_BONE := 1, TCVN_CM_JET := 2, TCVN_CM_WINTER := 3, TCVN_CM_RAINBOW := 4, TCVN_CM_OCEAN := 5, TCVN_CM_SUMMER := 6, TCVN_CM_SPRING := 7, TCVN_CM_COOL := 8, TCVN_CM_HSV := 9, TCVN_CM_PINK := 10, TCVN_CM_HOT := 11, TCVN_CM_PARULA := 12, TCVN_CM_MAGMA := 13, TCVN_CM_INFERNO := 14, TCVN_CM_PLASMA := 15, TCVN_CM_VIRIDIS := 16, TCVN_CM_CIVIDIS := 17, TCVN_CM_TWILIGHT := 18, TCVN_CM_TWILIGHT_SHIFTED := 19, TCVN_CM_TURBO := 20 )DINT; END_TYPE TF7000 - TF7810 Version: 2.4.0 173
## Page 174

API reference Values Name Description TCVN_CM_AUTUMN Red - orange - yellow TCVN_CM_BONE Black - blueish gray - white TCVN_CM_JET Dark blue - green - dark red TCVN_CM_WINTER Blue - green TCVN_CM_RAINBOW Red - green - purple TCVN_CM_OCEAN Black - blue - white TCVN_CM_SUMMER Green - yellow TCVN_CM_SPRING Pink - yellow TCVN_CM_COOL Cyan - magenta TCVN_CM_HSV Red - green - blue - red TCVN_CM_PINK Black - pink - light yellow - white TCVN_CM_HOT Black - red - yellow - white TCVN_CM_PARULA Blue - yellow TCVN_CM_MAGMA Black - magenta - light yellow TCVN_CM_INFERNO Black - magenta - yellow TCVN_CM_PLASMA Blue - magenta - yellow TCVN_CM_VIRIDIS Purple - yellow TCVN_CM_CIVIDIS Blue - gray - yellow TCVN_CM_TWILIGHT White - light blue - dark purple - light red - white TCVN_CM_TWILIGHT_SHIFTED Dark purple - light blue - white - light red - dark purple TCVN_CM_TURBO Dark blue - light green - dark red Color gradients The enum ETc Vn Color Map defines color gradients for the creation of color tables with the help of the function F_VN_Generate Color Map [} 1209]. The following color gradients are predefined: 174 Version: 2.4.0 TF7000 - TF7810
## Page 175

API reference NONE AUTUMN BONE JET WINTER RAINBOW OCEAN TF7000 - TF7810 Version: 2.4.0 175
## Page 176

API reference SUMMER SPRING COOL HSV Pink HOT PARULA 176 Version: 2.4.0 TF7000 - TF7810
## Page 177

API reference MAGMA INFERNO PLASMA VIRIDIS CIVIDIS TWILIGHT TWILIGHT_SH IFTED TF7000 - TF7810 Version: 2.4.0 177
## Page 178

API reference TURBO Related functions • F_VN_Generate Color Map [} 1209] • F_VN_Generate Custom Color Map [} 1210] 6.1.2.4.13 ETc Vn Color Map Size Offers color map sizes. Syntax Definition: TYPE ETc Vn Color Map Size : ( TCVN_CMS_256 := 256, TCVN_CMS_65536 := 65536 )UDINT; END_TYPE Values Name Description TCVN_CMS_256 256 colors, used for 8 bit images (TCVN_ET_USINT) TCVN_CMS_65536 65536 colors, used for 16 bit images (TCVN_ET_UINT) Related functions • F_VN_Generate Color Map [} 1209] • F_VN_Generate Custom Color Map [} 1210] 6.1.2.4.14 ETc Vn Color Space Transform Offers color space transformations. Syntax Definition: TYPE ETc Vn Color Space Transform : ( TCVN_CST_BGR_TO_BGRA := 0, TCVN_CST_RGB_TO_RGBA := 0, TCVN_CST_BGRA_TO_BGR := 1, TCVN_CST_RGBA_TO_RGB := 1, TCVN_CST_BGR_TO_RGBA := 2, TCVN_CST_RGB_TO_BGRA := 2, TCVN_CST_BGRA_TO_RGB := 3, TCVN_CST_RGBA_TO_BGR := 3, TCVN_CST_BGR_TO_RGB := 4, TCVN_CST_RGB_TO_BGR := 4, TCVN_CST_BGRA_TO_RGBA := 5, TCVN_CST_RGBA_TO_BGRA := 5, TCVN_CST_BGR_TO_GRAY := 6, TCVN_CST_RGB_TO_GRAY := 7, TCVN_CST_GRAY_TO_BGR := 8, 178 Version: 2.4.0 TF7000 - TF7810
## Page 179

API reference TCVN_CST_GRAY_TO_RGB := 8, TCVN_CST_GRAY_TO_BGRA := 9, TCVN_CST_GRAY_TO_RGBA := 9, TCVN_CST_BGRA_TO_GRAY := 10, TCVN_CST_RGBA_TO_GRAY := 11, TCVN_CST_RGB_TO_BGR_565 := 12, TCVN_CST_BGR_TO_BGR_565 := 13, TCVN_CST_BGR_565_TO_RGB := 14, TCVN_CST_BGR_565_TO_BGR := 15, TCVN_CST_RGBA_TO_BGR_565 := 16, TCVN_CST_BGRA_TO_BGR_565 := 17, TCVN_CST_BGR_565_TO_RGBA := 18, TCVN_CST_BGR_565_TO_BGRA := 19, TCVN_CST_GRAY_TO_BGR_565 := 20, TCVN_CST_BGR_565_TO_GRAY := 21, TCVN_CST_RGB_TO_BGR_555 := 22, TCVN_CST_BGR_TO_BGR_555 := 23, TCVN_CST_BGR_555_TO_RGB := 24, TCVN_CST_BGR_555_TO_BGR := 25, TCVN_CST_RGBA_TO_BGR_555 := 26, TCVN_CST_BGRA_TO_BGR_555 := 27, TCVN_CST_BGR_555_TO_RGBA := 28, TCVN_CST_BGR_555_TO_BGRA := 29, TCVN_CST_GRAY_TO_BGR_555 := 30, TCVN_CST_BGR_555_TO_GRAY := 31, TCVN_CST_BGR_TO_XYZ := 32, TCVN_CST_RGB_TO_XYZ := 33, TCVN_CST_XYZ_TO_BGR := 34, TCVN_CST_XYZ_TO_RGB := 35, TCVN_CST_BGR_TO_YCRCB := 36, TCVN_CST_RGB_TO_YCRCB := 37, TCVN_CST_YCRCB_TO_BGR := 38, TCVN_CST_YCRCB_TO_RGB := 39, TCVN_CST_BGR_TO_HSV := 40, TCVN_CST_RGB_TO_HSV := 41, TCVN_CST_BGR_TO_LAB := 44, TCVN_CST_RGB_TO_LAB := 45, TCVN_CST_BAYER_RG_TO_BGR := 46, TCVN_CST_BAYER_BG_TO_RGB := 46, TCVN_CST_BAYER_GR_TO_BGR := 47, TCVN_CST_BAYER_GB_TO_RGB := 47, TCVN_CST_BAYER_BG_TO_BGR := 48, TCVN_CST_BAYER_RG_TO_RGB := 48, TCVN_CST_BAYER_GB_TO_BGR := 49, TCVN_CST_BAYER_GR_TO_RGB := 49, TCVN_CST_BGR_TO_LUV := 50, TCVN_CST_RGB_TO_LUV := 51, TCVN_CST_BGR_TO_HLS := 52, TCVN_CST_RGB_TO_HLS := 53, TCVN_CST_HSV_TO_BGR := 54, TCVN_CST_HSV_TO_RGB := 55, TCVN_CST_LAB_TO_BGR := 56, TCVN_CST_LAB_TO_RGB := 57, TCVN_CST_LUV_TO_BGR := 58, TCVN_CST_LUV_TO_RGB := 59, TCVN_CST_HLS_TO_BGR := 60, TCVN_CST_HLS_TO_RGB := 61, TCVN_CST_BAYER_RG_TO_BGR_VNG := 62, TCVN_CST_BAYER_GR_TO_BGR_VNG := 63, TCVN_CST_BAYER_BG_TO_BGR_VNG := 64, TCVN_CST_BAYER_GB_TO_BGR_VNG := 65, TCVN_CST_BAYER_RG_TO_RGB_VNG := 64, TCVN_CST_BAYER_GR_TO_RGB_VNG := 65, TCVN_CST_BAYER_BG_TO_RGB_VNG := 62, TCVN_CST_BAYER_GB_TO_RGB_VNG := 63, TCVN_CST_BGR_TO_HSV_FULL := 66, TCVN_CST_RGB_TO_HSV_FULL := 67, TCVN_CST_BGR_TO_HLS_FULL := 68, TCVN_CST_RGB_TO_HLS_FULL := 69, TCVN_CST_HSV_TO_BGR_FULL := 70, TCVN_CST_HSV_TO_RGB_FULL := 71, TCVN_CST_HLS_TO_BGR_FULL := 72, TCVN_CST_HLS_TO_RGB_FULL := 73, TCVN_CST_LBGR_TO_LAB := 74, TCVN_CST_LRGB_TO_LAB := 75, TCVN_CST_LBGR_TO_LUV := 76, TCVN_CST_LRGB_TO_LUV := 77, TCVN_CST_LAB_TO_LBGR := 78, TCVN_CST_LAB_TO_LRGB := 79, TCVN_CST_LUV_TO_LBGR := 80, TF7000 - TF7810 Version: 2.4.0 179
## Page 180

API reference TCVN_CST_LUV_TO_LRGB := 81, TCVN_CST_BGR_TO_YUV := 82, TCVN_CST_RGB_TO_YUV := 83, TCVN_CST_YUV_TO_BGR := 84, TCVN_CST_YUV_TO_RGB := 85, TCVN_CST_BAYER_RG_TO_GRAY := 86, TCVN_CST_BAYER_GR_TO_GRAY := 87, TCVN_CST_BAYER_BG_TO_GRAY := 88, TCVN_CST_BAYER_GB_TO_GRAY := 89, TCVN_CST_YUV_420_NV12_TO_RGB := 90, TCVN_CST_YUV_420_NV12_TO_BGR := 91, TCVN_CST_YUV_420_NV21_TO_RGB := 92, TCVN_CST_YUV_420_NV21_TO_BGR := 93, TCVN_CST_YUV_420_SP_TO_RGB := 92, TCVN_CST_YUV_420_SP_TO_BGR := 93, TCVN_CST_YUV_420_NV12_TO_RGBA := 94, TCVN_CST_YUV_420_NV12_TO_BGRA := 95, TCVN_CST_YUV_420_NV21_TO_RGBA := 96, TCVN_CST_YUV_420_NV21_TO_BGRA := 97, TCVN_CST_YUV_420_SP_TO_RGBA := 96, TCVN_CST_YUV_420_SP_TO_BGRA := 97, TCVN_CST_YUV_420_YV12_TO_RGB := 98, TCVN_CST_YUV_420_YV12_TO_BGR := 99, TCVN_CST_YUV_420_IYUV_TO_RGB := 100, TCVN_CST_YUV_420_IYUV_TO_BGR := 101, TCVN_CST_YUV_420_I420_TO_RGB := 100, TCVN_CST_YUV_420_I420_TO_BGR := 101, TCVN_CST_YUV_420_P_TO_RGB := 98, TCVN_CST_YUV_420_P_TO_BGR := 99, TCVN_CST_YUV_420_YV12_TO_RGBA := 102, TCVN_CST_YUV_420_YV12_TO_BGRA := 103, TCVN_CST_YUV_420_IYUV_TO_RGBA := 104, TCVN_CST_YUV_420_IYUV_TO_BGRA := 105, TCVN_CST_YUV_420_I420_TO_RGBA := 104, TCVN_CST_YUV_420_I420_TO_BGRA := 105, TCVN_CST_YUV_420_P_TO_RGBA := 102, TCVN_CST_YUV_420_P_TO_BGRA := 103, TCVN_CST_YUV_420_TO_GRAY := 106, TCVN_CST_YUV_420_NV21_TO_GRAY := 106, TCVN_CST_YUV_420_NV12_TO_GRAY := 106, TCVN_CST_YUV_420_YV12_TO_GRAY := 106, TCVN_CST_YUV_420_IYUV_TO_GRAY := 106, TCVN_CST_YUV_420_I420_TO_GRAY := 106, TCVN_CST_YUV_420_SP_TO_GRAY := 106, TCVN_CST_YUV_420_P_TO_GRAY := 106, TCVN_CST_YUV_422_UYVY_TO_RGB := 107, TCVN_CST_YUV_422_UYVY_TO_BGR := 108, TCVN_CST_YUV_422_Y422_TO_RGB := 107, TCVN_CST_YUV_422_Y422_TO_BGR := 108, TCVN_CST_YUV_422_UYNV_TO_RGB := 107, TCVN_CST_YUV_422_UYNV_TO_BGR := 108, TCVN_CST_YUV_422_UYVY_TO_RGBA := 111, TCVN_CST_YUV_422_UYVY_TO_BGRA := 112, TCVN_CST_YUV_422_Y422_TO_RGBA := 111, TCVN_CST_YUV_422_Y422_TO_BGRA := 112, TCVN_CST_YUV_422_UYNV_TO_RGBA := 111, TCVN_CST_YUV_422_UYNV_TO_BGRA := 112, TCVN_CST_YUV_422_YUY2_TO_RGB := 115, TCVN_CST_YUV_422_YUY2_TO_BGR := 116, TCVN_CST_YUV_422_YVYU_TO_RGB := 117, TCVN_CST_YUV_422_YVYU_TO_BGR := 118, TCVN_CST_YUV_422_YUYV_TO_RGB := 115, TCVN_CST_YUV_422_YUYV_TO_BGR := 116, TCVN_CST_YUV_422_YUNV_TO_RGB := 115, TCVN_CST_YUV_422_YUNV_TO_BGR := 116, TCVN_CST_YUV_422_YUY2_TO_RGBA := 119, TCVN_CST_YUV_422_YUY2_TO_BGRA := 120, TCVN_CST_YUV_422_YVYU_TO_RGBA := 121, TCVN_CST_YUV_422_YVYU_TO_BGRA := 122, TCVN_CST_YUV_422_YUYV_TO_RGBA := 119, TCVN_CST_YUV_422_YUYV_TO_BGRA := 120, TCVN_CST_YUV_422_YUNV_TO_RGBA := 119, TCVN_CST_YUV_422_YUNV_TO_BGRA := 120, TCVN_CST_YUV_422_UYVY_TO_GRAY := 123, TCVN_CST_YUV_422_YUY2_TO_GRAY := 124, TCVN_CST_YUV_422_Y422_TO_GRAY := 123, TCVN_CST_YUV_422_UYNV_TO_GRAY := 123, TCVN_CST_YUV_422_YVYU_TO_GRAY := 124, TCVN_CST_YUV_422_YUYV_TO_GRAY := 124, TCVN_CST_YUV_422_YUNV_TO_GRAY := 124, 180 Version: 2.4.0 TF7000 - TF7810
## Page 181

API reference TCVN_CST_RGBA_TO_PREMULTIPLICATED_RGBA := 125, TCVN_CST_PREMULTIPLICATED_RGBA_TO_RGBA := 126, TCVN_CST_RGB_TO_YUV_420_I420 := 127, TCVN_CST_BGR_TO_YUV_420_I420 := 128, TCVN_CST_RGB_TO_YUV_420_IYUV := 127, TCVN_CST_BGR_TO_YUV_420_IYUV := 128, TCVN_CST_RGBA_TO_YUV_420_I420 := 129, TCVN_CST_BGRA_TO_YUV_420_I420 := 130, TCVN_CST_RGBA_TO_YUV_420_IYUV := 129, TCVN_CST_BGRA_TO_YUV_420_IYUV := 130, TCVN_CST_RGB_TO_YUV_420_YV12 := 131, TCVN_CST_BGR_TO_YUV_420_YV12 := 132, TCVN_CST_RGBA_TO_YUV_420_YV12 := 133, TCVN_CST_BGRA_TO_YUV_420_YV12 := 134, TCVN_CST_BAYER_RG_TO_BGR_EA := 135, TCVN_CST_BAYER_GR_TO_BGR_EA := 136, TCVN_CST_BAYER_BG_TO_BGR_EA := 137, TCVN_CST_BAYER_GB_TO_BGR_EA := 138, TCVN_CST_BAYER_RG_TO_RGB_EA := 137, TCVN_CST_BAYER_GR_TO_RGB_EA := 138, TCVN_CST_BAYER_BG_TO_RGB_EA := 135, TCVN_CST_BAYER_GB_TO_RGB_EA := 136, TCVN_CST_BAYER_RG_TO_BGRA := 139, TCVN_CST_BAYER_GR_TO_BGRA := 140, TCVN_CST_BAYER_BG_TO_BGRA := 141, TCVN_CST_BAYER_GB_TO_BGRA := 142, TCVN_CST_BAYER_RG_TO_RGBA := 141, TCVN_CST_BAYER_GR_TO_RGBA := 142, TCVN_CST_BAYER_BG_TO_RGBA := 139, TCVN_CST_BAYER_GB_TO_RGBA := 140, TCVN_CST_MAX := 143 )DINT; END_TYPE TF7000 - TF7810 Version: 2.4.0 181
## Page 182

API reference Values 182 Version: 2.4.0 TF7000 - TF7810
## Page 183

API reference Name Description TCVN_CST_BGR_TO_BGRA Transform the color space from BGR to BGRA. TCVN_CST_RGB_TO_RGBA Transform the color space from RGB to RGBA. TCVN_CST_BGRA_TO_BGR Transform the color space from BGRA to BGR. TCVN_CST_RGBA_TO_RGB Transform the color space from RGBA to RGB. TCVN_CST_BGR_TO_RGBA Transform the color space from BGR to RGBA. TCVN_CST_RGB_TO_BGRA Transform the color space from RGB to BGRA. TCVN_CST_BGRA_TO_RGB Transform the color space from BGRA to RGB. TCVN_CST_RGBA_TO_BGR Transform the color space from RGBA to BGR. TCVN_CST_BGR_TO_RGB Transform the color space from BGR to RGB. TCVN_CST_RGB_TO_BGR Transform the color space from RGB to BGR. TCVN_CST_BGRA_TO_RGBA Transform the color space from BGRA to RGBA. TCVN_CST_RGBA_TO_BGRA Transform the color space from RGBA to BGRA. TCVN_CST_BGR_TO_GRAY Transform the color space from BGR to Gray. TCVN_CST_RGB_TO_GRAY Transform the color space from RGB to Gray. TCVN_CST_GRAY_TO_BGR Transform the color space from Gray to BGR. TCVN_CST_GRAY_TO_RGB Transform the color space from Gray to RGB. TCVN_CST_GRAY_TO_BGRA Transform the color space from Gray to BGRA. TCVN_CST_GRAY_TO_RGBA Transform the color space from Gray to RGBA. TCVN_CST_BGRA_TO_GRAY Transform the color space from BGRA to Gray. TCVN_CST_RGBA_TO_GRAY Transform the color space from RGBA to Gray. TCVN_CST_RGB_TO_BGR_565 Transform the color space from RGB(24 bit 888) to BGR(16 bit 565). TCVN_CST_BGR_TO_BGR_565 Transform the color space from BGR(24 bit 888) to BGR(16 bit 565). TCVN_CST_BGR_565_TO_RGB Transform the color space from BGR(16 bit 565) to RGB(24 bit 888). TCVN_CST_BGR_565_TO_BGR Transform the color space from BGR(16 bit 565) to BGR(24 bit 888). TCVN_CST_RGBA_TO_BGR_565 Transform the color space from RGBA(32 bit 8888) to BGR(16 bit 565). TCVN_CST_BGRA_TO_BGR_565 Transform the color space from BGRA(32 bit 8888) to BGR(16 bit 565). TCVN_CST_BGR_565_TO_RGBA Transform the color space from BGR(16 bit 565) to RGBA(32 bit 8888). TCVN_CST_BGR_565_TO_BGRA Transform the color space from BGR(16 bit 565) to BGRA(32 bit 8888). TCVN_CST_GRAY_TO_BGR_565 Transform the color space from Gray to BGR(16 bit 565). TCVN_CST_BGR_565_TO_GRAY Transform the color space from BGR(16 bit 565) to Gray. TCVN_CST_RGB_TO_BGR_555 Transform the color space from RGB(24 bit 888) to BGR(16 bit 555). TCVN_CST_BGR_TO_BGR_555 Transform the color space from BGR(24 bit 888) to BGR(16 bit 555). TCVN_CST_BGR_555_TO_RGB Transform the color space from BGR(16 bit 555) to RGB(24 bit 888). TCVN_CST_BGR_555_TO_BGR Transform the color space from BGR(16 bit 555) to BGR(24 bit 888). TCVN_CST_RGBA_TO_BGR_555 Transform the color space from RGBA(32 bit 8888) to BGR(16 bit 555). TCVN_CST_BGRA_TO_BGR_555 Transform the color space from BGRA(32 bit 8888) to BGR(16 bit 555). TF7000 - TF7810 Version: 2.4.0 183
## Page 184

API reference Name Description TCVN_CST_BGR_555_TO_RGBA Transform the color space from BGR(16 bit 555) to RGBA(32 bit 8888). TCVN_CST_BGR_555_TO_BGRA Transform the color space from BGR(16 bit 555) to BGRA(32 bit 8888). TCVN_CST_GRAY_TO_BGR_555 Transform the color space from Gray to BGR(16 bit 555). TCVN_CST_BGR_555_TO_GRAY Transform the color space from BGR(16 bit 555) to Gray. TCVN_CST_BGR_TO_XYZ Transform the color space from BGR to CIE XYZ (scaled to the full value range of the image). TCVN_CST_RGB_TO_XYZ Transform the color space from RGB to CIE XYZ (scaled to the full value range of the image). TCVN_CST_XYZ_TO_BGR Transform the color space from CIE XYZ (scaled to the full value range of the image) to BGR. TCVN_CST_XYZ_TO_RGB Transform the color space from CIE XYZ (scaled to the full value range of the image) to RGB. TCVN_CST_BGR_TO_YCRCB Transform the color space from BGR to YCr Cb (scaled to the full value range of the image). TCVN_CST_RGB_TO_YCRCB Transform the color space from RGB to YCr Cb (scaled to the full value range of the image). TCVN_CST_YCRCB_TO_BGR Transform the color space from YCr Cb (scaled to the full value range of the image) to BGR. TCVN_CST_YCRCB_TO_RGB Transform the color space from YCr Cb (scaled to the full value range of the image) to RGB. TCVN_CST_BGR_TO_HSV Transform the color space from BGR to HSV (supports images of type USINT or REAL; for USINT, H is scaled to a range from 0 to 180 and S,V from 0 to 255). TCVN_CST_RGB_TO_HSV Transform the color space from RGB to HSV (supports images of type USINT or REAL; for USINT, H is scaled to a range from 0 to 180 and S,V from 0 to 255). TCVN_CST_BGR_TO_LAB Transform the color space from BGR to CIE L*a*b* (for images of type USINT, all channels are scaled to a range from 0 to 255). TCVN_CST_RGB_TO_LAB Transform the color space from RGB to CIE L*a*b* (for images of type USINT, all channels are scaled to a range from 0 to 255). TCVN_CST_BAYER_RG_TO_BGR Transform the color space from Bayer RG to BGR (supports images of type USINT or UINT). TCVN_CST_BAYER_BG_TO_RGB Transform the color space from Bayer BG to RGB (supports images of type USINT or UINT). TCVN_CST_BAYER_GR_TO_BGR Transform the color space from Bayer GR to BGR (supports images of type USINT or UINT). TCVN_CST_BAYER_GB_TO_RGB Transform the color space from Bayer GB to RGB (supports images of type USINT or UINT). TCVN_CST_BAYER_BG_TO_BGR Transform the color space from Bayer BG to BGR (supports images of type USINT or UINT). TCVN_CST_BAYER_RG_TO_RGB Transform the color space from Bayer RG to RGB (supports images of type USINT or UINT). TCVN_CST_BAYER_GB_TO_BGR Transform the color space from Bayer GB to BGR (supports images of type USINT or UINT). TCVN_CST_BAYER_GR_TO_RGB Transform the color space from Bayer GR to RGB (supports images of type USINT or UINT). 184 Version: 2.4.0 TF7000 - TF7810
## Page 185

API reference Name Description TCVN_CST_BGR_TO_LUV Transform the color space from BGR to CIE L*u*v* (for images of type USINT, all channels are scaled to a range from 0 to 255). TCVN_CST_RGB_TO_LUV Transform the color space from RGB to CIE L*u*v* (for images of type USINT, all channels are scaled to a range from 0 to 255). TCVN_CST_BGR_TO_HLS Transform the color space from BGR to HLS (for images of type USINT, H is scaled to a range from 0 to 180 and L,S from 0 to 255). TCVN_CST_RGB_TO_HLS Transform the color space from RGB to HLS (for images of type USINT, H is scaled to a range from 0 to 180 and L,S from 0 to 255). TCVN_CST_HSV_TO_BGR Transform the color space from HSV (for images of type USINT, H is scaled to a range from 0 to 180 and S,V from 0 to 255) to BGR. TCVN_CST_HSV_TO_RGB Transform the color space from HSV (for images of type USINT, H is scaled to a range from 0 to 180 and S,V from 0 to 255) to RGB. TCVN_CST_LAB_TO_BGR Transform the color space from CIE L*a*b* (for images of type USINT, all channels are scaled to a range from 0 to 255) to BGR. TCVN_CST_LAB_TO_RGB Transform the color space from CIE L*a*b* (for images of type USINT, all channels are scaled to a range from 0 to 255) to RGB. TCVN_CST_LUV_TO_BGR Transform the color space from CIE L*u*v* (for images of type USINT, all channels are scaled to a range from 0 to 255) to BGR. TCVN_CST_LUV_TO_RGB Transform the color space from CIE L*u*v* (for images of type USINT, all channels are scaled to a range from 0 to 255) to RGB. TCVN_CST_HLS_TO_BGR Transform the color space from HLS (for images of type USINT, H is scaled to a range from 0 to 180 and L,S from 0 to 255) to BGR. TCVN_CST_HLS_TO_RGB Transform the color space from HLS (for images of type USINT, H is scaled to a range from 0 to 180 and L,S from 0 to 255) to RGB. TCVN_CST_BAYER_RG_TO_BGR_VNG Transform the color space from Bayer RG to BGR, using Variable Number of Gradients (supports images of type USINT). TCVN_CST_BAYER_GR_TO_BGR_VNG Transform the color space from Bayer GR to BGR, using Variable Number of Gradients (supports images of type USINT). TCVN_CST_BAYER_BG_TO_BGR_VNG Transform the color space from Bayer BG to BGR, using Variable Number of Gradients (supports images of type USINT). TCVN_CST_BAYER_GB_TO_BGR_VNG Transform the color space from Bayer GB to BGR, using Variable Number of Gradients (supports images of type USINT). TCVN_CST_BAYER_RG_TO_RGB_VNG Transform the color space from Bayer RG to RGB, using Variable Number of Gradients (supports images of type USINT). TCVN_CST_BAYER_GR_TO_RGB_VNG Transform the color space from Bayer GR to RGB, using Variable Number of Gradients (supports images of type USINT). TF7000 - TF7810 Version: 2.4.0 185
## Page 186

API reference Name Description TCVN_CST_BAYER_BG_TO_RGB_VNG Transform the color space from Bayer BG to RGB, using Variable Number of Gradients (supports images of type USINT). TCVN_CST_BAYER_GB_TO_RGB_VNG Transform the color space from Bayer GB to RGB, using Variable Number of Gradients (supports images of type USINT). TCVN_CST_BGR_TO_HSV_FULL Transform the color space from BGR to HSV (supports images of type USINT or REAL; for USINT, all channels are scaled to a range from 0 to 255). TCVN_CST_RGB_TO_HSV_FULL Transform the color space from RGB to HSV (supports images of type USINT or REAL; for USINT, all channels are scaled to a range from 0 to 255). TCVN_CST_BGR_TO_HLS_FULL Transform the color space from BGR to HLS (for images of type USINT, all channels are scaled to a range from 0 to 255). TCVN_CST_RGB_TO_HLS_FULL Transform the color space from RGB to HLS (for images of type USINT, all channels are scaled to a range from 0 to 255). TCVN_CST_HSV_TO_BGR_FULL Transform the color space from HSV (for images of type USINT, all channels are scaled to a range from 0 to 255) to BGR. TCVN_CST_HSV_TO_RGB_FULL Transform the color space from HSV (for images of type USINT, all channels are scaled to a range from 0 to 255) to RGB. TCVN_CST_HLS_TO_BGR_FULL Transform the color space from HLS (for images of type USINT, all channels are scaled to a range from 0 to 255) to BGR. TCVN_CST_HLS_TO_RGB_FULL Transform the color space from HLS (for images of type USINT, all channels are scaled to a range from 0 to 255) to RGB. TCVN_CST_LBGR_TO_LAB Transform the color space from LBGR to CIE L*a*b* (for images of type USINT, all channels are scaled to a range from 0 to 255). TCVN_CST_LRGB_TO_LAB Transform the color space from LRGB to CIE L*a*b* (for images of type USINT, all channels are scaled to a range from 0 to 255). TCVN_CST_LBGR_TO_LUV Transform the color space from LBGR to CIE L*u*v* (for images of type USINT, all channels are scaled to a range from 0 to 255). TCVN_CST_LRGB_TO_LUV Transform the color space from LRGB to CIE L*u*v* (for images of type USINT, all channels are scaled to a range from 0 to 255). TCVN_CST_LAB_TO_LBGR Transform the color space from CIE L*a*b* (for images of type USINT, all channels are scaled to a range from 0 to 255) to LBGR. TCVN_CST_LAB_TO_LRGB Transform the color space from CIE L*a*b* (for images of type USINT, all channels are scaled to a range from 0 to 255) to LRGB. TCVN_CST_LUV_TO_LBGR Transform the color space from CIE L*u*v* (for images of type USINT, all channels are scaled to a range from 0 to 255) to LBGR. TCVN_CST_LUV_TO_LRGB Transform the color space from CIE L*u*v* (for images of type USINT, all channels are scaled to a range from 0 to 255) to LRGB. TCVN_CST_BGR_TO_YUV Transform the color space from BGR to YUV (scaled to the full value range of the image). 186 Version: 2.4.0 TF7000 - TF7810
## Page 187

API reference Name Description TCVN_CST_RGB_TO_YUV Transform the color space from RGB to YUV (scaled to the full value range of the image). TCVN_CST_YUV_TO_BGR Transform the color space from YUV (scaled to the full value range of the image) to BGR. TCVN_CST_YUV_TO_RGB Transform the color space from YUV (scaled to the full value range of the image) to RGB. TCVN_CST_BAYER_RG_TO_GRAY Transform the color space from Bayer RG to Gray (supports images of type USINT or UINT). TCVN_CST_BAYER_GR_TO_GRAY Transform the color space from Bayer GR to Gray (supports images of type USINT or UINT). TCVN_CST_BAYER_BG_TO_GRAY Transform the color space from Bayer BG to Gray (supports images of type USINT or UINT). TCVN_CST_BAYER_GB_TO_GRAY Transform the color space from Bayer GB to Gray (supports images of type USINT or UINT). TCVN_CST_YUV_420_NV12_TO_RGB Transform the color space from YUV420 NV12 to RGB. TCVN_CST_YUV_420_NV12_TO_BGR Transform the color space from YUV420 NV12 to BGR. TCVN_CST_YUV_420_NV21_TO_RGB Transform the color space from YUV420 NV21 (SP) to RGB. TCVN_CST_YUV_420_NV21_TO_BGR Transform the color space from YUV420 NV21 (SP) to BGR. TCVN_CST_YUV_420_SP_TO_RGB Transform the color space from YUV420 NV21 (SP) to RGB. TCVN_CST_YUV_420_SP_TO_BGR Transform the color space from YUV420 NV21 (SP) to BGR. TCVN_CST_YUV_420_NV12_TO_RGBA Transform the color space from YUV420 NV12 to RGBA. TCVN_CST_YUV_420_NV12_TO_BGRA Transform the color space from YUV420 NV12 to BGRA. TCVN_CST_YUV_420_NV21_TO_RGBA Transform the color space from YUV420 NV21 (SP) to RGBA. TCVN_CST_YUV_420_NV21_TO_BGRA Transform the color space from YUV420 NV21 (SP) to BGRA. TCVN_CST_YUV_420_SP_TO_RGBA Transform the color space from YUV420 NV21 (SP) to RGBA. TCVN_CST_YUV_420_SP_TO_BGRA Transform the color space from YUV420 NV21 (SP) to BGRA. TCVN_CST_YUV_420_YV12_TO_RGB Transform the color space from YUV420 YV12 (P) to RGB. TCVN_CST_YUV_420_YV12_TO_BGR Transform the color space from YUV420 YV12 (P) to BGR. TCVN_CST_YUV_420_IYUV_TO_RGB Transform the color space from YUV420 IYUV (I420) to RGB. TCVN_CST_YUV_420_IYUV_TO_BGR Transform the color space from YUV420 IYUV (I420) to BGR. TCVN_CST_YUV_420_I420_TO_RGB Transform the color space from YUV420 IYUV (I420) to RGB. TCVN_CST_YUV_420_I420_TO_BGR Transform the color space from YUV420 IYUV (I420) to BGR. TCVN_CST_YUV_420_P_TO_RGB Transform the color space from YUV420 YV12 (P) to RGB. TCVN_CST_YUV_420_P_TO_BGR Transform the color space from YUV420 YV12 (P) to BGR. TF7000 - TF7810 Version: 2.4.0 187
## Page 188

API reference Name Description TCVN_CST_YUV_420_YV12_TO_RGBA Transform the color space from YUV420 YV12 (P) to RGBA. TCVN_CST_YUV_420_YV12_TO_BGRA Transform the color space from YUV420 YV12 (P) to BGRA. TCVN_CST_YUV_420_IYUV_TO_RGBA Transform the color space from YUV420 IYUV (I420) to RGBA. TCVN_CST_YUV_420_IYUV_TO_BGRA Transform the color space from YUV420 IYUV (I420) to BGRA. TCVN_CST_YUV_420_I420_TO_RGBA Transform the color space from YUV420 IYUV (I420) to RGBA. TCVN_CST_YUV_420_I420_TO_BGRA Transform the color space from YUV420 IYUV (I420) to BGRA. TCVN_CST_YUV_420_P_TO_RGBA Transform the color space from YUV420 YV12 (P) to RGBA. TCVN_CST_YUV_420_P_TO_BGRA Transform the color space from YUV420 YV12 (P) to BGRA. TCVN_CST_YUV_420_TO_GRAY Transform the color space from YUV420 to Gray. TCVN_CST_YUV_420_NV21_TO_GRAY Transform the color space from YUV420 to Gray. TCVN_CST_YUV_420_NV12_TO_GRAY Transform the color space from YUV420 to Gray. TCVN_CST_YUV_420_YV12_TO_GRAY Transform the color space from YUV420 to Gray. TCVN_CST_YUV_420_IYUV_TO_GRAY Transform the color space from YUV420 to Gray. TCVN_CST_YUV_420_I420_TO_GRAY Transform the color space from YUV420 to Gray. TCVN_CST_YUV_420_SP_TO_GRAY Transform the color space from YUV420 to Gray. TCVN_CST_YUV_420_P_TO_GRAY Transform the color space from YUV420 to Gray. TCVN_CST_YUV_422_UYVY_TO_RGB Transform the color space from YUV422 UYVY (Y422, UYNV) to RGB. TCVN_CST_YUV_422_UYVY_TO_BGR Transform the color space from YUV422 UYVY (Y422, UYNV) to BGR. TCVN_CST_YUV_422_Y422_TO_RGB Transform the color space from YUV422 UYVY (Y422, UYNV) to RGB. TCVN_CST_YUV_422_Y422_TO_BGR Transform the color space from YUV422 UYVY (Y422, UYNV) to BGR. TCVN_CST_YUV_422_UYNV_TO_RGB Transform the color space from YUV422 UYVY (Y422, UYNV) to RGB. TCVN_CST_YUV_422_UYNV_TO_BGR Transform the color space from YUV422 UYVY (Y422, UYNV) to BGR. TCVN_CST_YUV_422_UYVY_TO_RGBA Transform the color space from YUV422 UYVY (Y422, UYNV) to RGBA. TCVN_CST_YUV_422_UYVY_TO_BGRA Transform the color space from YUV422 UYVY (Y422, UYNV) to BGRA. TCVN_CST_YUV_422_Y422_TO_RGBA Transform the color space from YUV422 UYVY (Y422, UYNV) to RGB. TCVN_CST_YUV_422_Y422_TO_BGRA Transform the color space from YUV422 UYVY (Y422, UYNV) to BGRA. TCVN_CST_YUV_422_UYNV_TO_RGBA Transform the color space from YUV422 UYVY (Y422, UYNV) to RGB. TCVN_CST_YUV_422_UYNV_TO_BGRA Transform the color space from YUV422 UYVY (Y422, UYNV) to BGRA. TCVN_CST_YUV_422_YUY2_TO_RGB Transform the color space from YUV422 YUYV (YUY2, YUNV) to RGB. TCVN_CST_YUV_422_YUY2_TO_BGR Transform the color space from YUV422 YUYV (YUY2, YUNV) to BGR. 188 Version: 2.4.0 TF7000 - TF7810
## Page 189

API reference Name Description TCVN_CST_YUV_422_YVYU_TO_RGB Transform the color space from YUV422 YVYU to RGB. TCVN_CST_YUV_422_YVYU_TO_BGR Transform the color space from YUV422 YVYU to BGR. TCVN_CST_YUV_422_YUYV_TO_RGB Transform the color space from YUV422 YUYV (YUY2, YUNV) to RGB. TCVN_CST_YUV_422_YUYV_TO_BGR Transform the color space from YUV422 YUYV (YUY2, YUNV) to BGR. TCVN_CST_YUV_422_YUNV_TO_RGB Transform the color space from YUV422 YUYV (YUY2, YUNV) to RGB. TCVN_CST_YUV_422_YUNV_TO_BGR Transform the color space from YUV422 YUYV (YUY2, YUNV) to BGR. TCVN_CST_YUV_422_YUY2_TO_RGBA Transform the color space from YUV422 YUYV (YUY2, YUNV) to RGBA. TCVN_CST_YUV_422_YUY2_TO_BGRA Transform the color space from YUV422 YUYV (YUY2, YUNV) to BGRA. TCVN_CST_YUV_422_YVYU_TO_RGBA Transform the color space from YUV422 YVYU to RGBA. TCVN_CST_YUV_422_YVYU_TO_BGRA Transform the color space from YUV422 YVYU to BGRA. TCVN_CST_YUV_422_YUYV_TO_RGBA Transform the color space from YUV422 YUYV (YUY2, YUNV) to RGBA. TCVN_CST_YUV_422_YUYV_TO_BGRA Transform the color space from YUV422 YUYV (YUY2, YUNV) to BGRA. TCVN_CST_YUV_422_YUNV_TO_RGBA Transform the color space from YUV422 YUYV (YUY2, YUNV) to RGBA. TCVN_CST_YUV_422_YUNV_TO_BGRA Transform the color space from YUV422 YUYV (YUY2, YUNV) to BGRA. TCVN_CST_YUV_422_UYVY_TO_GRAY Transform the color space from YUV422 UYVY (Y422, UYNV) to Gray. TCVN_CST_YUV_422_YUY2_TO_GRAY Transform the color space from YUV422 YUYV (YUY2, YUNV) to Gray. TCVN_CST_YUV_422_Y422_TO_GRAY Transform the color space from YUV422 UYVY (Y422, UYNV) to Gray. TCVN_CST_YUV_422_UYNV_TO_GRAY Transform the color space from YUV422 UYVY (Y422, UYNV) to Gray. TCVN_CST_YUV_422_YVYU_TO_GRAY Transform the color space from YUV422 YVYU to Gray. TCVN_CST_YUV_422_YUYV_TO_GRAY Transform the color space from YUV422 YUYV (YUY2, YUNV) to Gray. TCVN_CST_YUV_422_YUNV_TO_GRAY Transform the color space from YUV422 YUYV (YUY2, YUNV) to Gray. TCVN_CST_RGBA_TO_PREMULTIPLICATED_RG Transform the color space from RGBA to BA premultiplicated RGBA. TCVN_CST_PREMULTIPLICATED_RGBA_TO_RG Transform the color space from premultiplicated BA RGBA to RGBA. TCVN_CST_RGB_TO_YUV_420_I420 Transform the color space from RGB to YUV420 IYUV (I420). TCVN_CST_BGR_TO_YUV_420_I420 Transform the color space from BGR to YUV420 IYUV (I420). TCVN_CST_RGB_TO_YUV_420_IYUV Transform the color space from RGB to YUV420 IYUV (I420). TCVN_CST_BGR_TO_YUV_420_IYUV Transform the color space from BGR to YUV420 IYUV (I420). TF7000 - TF7810 Version: 2.4.0 189
## Page 190

API reference Name Description TCVN_CST_RGBA_TO_YUV_420_I420 Transform the color space from RGBA to YUV420 IYUV (I420). TCVN_CST_BGRA_TO_YUV_420_I420 Transform the color space from BGRA to YUV420 IYUV (I420). TCVN_CST_RGBA_TO_YUV_420_IYUV Transform the color space from RGBA to YUV420 IYUV (I420). TCVN_CST_BGRA_TO_YUV_420_IYUV Transform the color space from BGRA to YUV420 IYUV (I420). TCVN_CST_RGB_TO_YUV_420_YV12 Transform the color space from RGB to YUV420 YV12 (P). TCVN_CST_BGR_TO_YUV_420_YV12 Transform the color space from BGR to YUV420 YV12 (P). TCVN_CST_RGBA_TO_YUV_420_YV12 Transform the color space from RGBA to YUV420 YV12 (P). TCVN_CST_BGRA_TO_YUV_420_YV12 Transform the color space from BGRA to YUV420 YV12 (P). TCVN_CST_BAYER_RG_TO_BGR_EA Transform the color space from Bayer RG to BGR, using an Edge Aware algorithm. TCVN_CST_BAYER_GR_TO_BGR_EA Transform the color space from Bayer GR to BGR, using an Edge Aware algorithm. TCVN_CST_BAYER_BG_TO_BGR_EA Transform the color space from Bayer BG to BGR, using an Edge Aware algorithm. TCVN_CST_BAYER_GB_TO_BGR_EA Transform the color space from Bayer GB to BGR, using an Edge Aware algorithm. TCVN_CST_BAYER_RG_TO_RGB_EA Transform the color space from Bayer RG to RGB, using an Edge Aware algorithm. TCVN_CST_BAYER_GR_TO_RGB_EA Transform the color space from Bayer GR to RGB, using an Edge Aware algorithm. TCVN_CST_BAYER_BG_TO_RGB_EA Transform the color space from Bayer BG to RGB, using an Edge Aware algorithm. TCVN_CST_BAYER_GB_TO_RGB_EA Transform the color space from Bayer GB to RGB, using an Edge Aware algorithm. TCVN_CST_BAYER_RG_TO_BGRA Transform the color space from Bayer RG to BGRA. TCVN_CST_BAYER_GR_TO_BGRA Transform the color space from Bayer GR to BGRA. TCVN_CST_BAYER_BG_TO_BGRA Transform the color space from Bayer BG to BGRA. TCVN_CST_BAYER_GB_TO_BGRA Transform the color space from Bayer GB to BGRA. TCVN_CST_BAYER_RG_TO_RGBA Transform the color space from Bayer RG to RGBA. TCVN_CST_BAYER_GR_TO_RGBA Transform the color space from Bayer GR to RGBA. TCVN_CST_BAYER_BG_TO_RGBA Transform the color space from Bayer BG to RGBA. TCVN_CST_BAYER_GB_TO_RGBA Transform the color space from Bayer GB to RGBA. TCVN_CST_MAX For internal use only, adapted when adding new values. Related functions • F_VN_Convert Color Space [} 1208] 6.1.2.4.15 ETc Vn Color Training Method Offers color training methods. Syntax Definition: 190 Version: 2.4.0 TF7000 - TF7810
## Page 191

API reference TYPE ETc Vn Color Training Method : ( TCVN_CTM_LAB := 0, TCVN_CTM_RGB := 1 )DINT; END_TYPE Values Name Description TCVN_CTM_LAB Trains the color in CIE L*a*b* color space. TCVN_CTM_RGB Trains the color in RGB color space. Related functions • F_VN_Train Image Color Exp [} 1231] 6.1.2.4.16 ETc Vn Connected Components Algorithm Offers connected components algorithms. Syntax Definition: TYPE ETc Vn Connected Components Algorithm : ( TCVN_CCA_WU := 0, TCVN_CCA_GRANA := 1 )DINT; END_TYPE Values Name Description TCVN_CCA_WU SAUF algorithm TCVN_CCA_GRANA BBDT algorithm for 8-way connectivity, SAUF algorithm for 4-way connectivity 6.1.2.4.17 ETc Vn Container Export Format Offers container export formats. Syntax Definition: TYPE ETc Vn Container Export Format : ( TCVN_CEF_XML := 0, TCVN_CEF_XML_SERIALIZED := 1, TCVN_CEF_CSV := 2, TCVN_CEF_BINARY := 3 )UINT; END_TYPE TF7000 - TF7810 Version: 2.4.0 191
## Page 192

API reference Values Name Description TCVN_CEF_XML XML format with human readable data TCVN_CEF_XML_SERIALIZED XML format with serialized data TCVN_CEF_CSV CSV format (limited to two dimensional representation, so not applicable for all container types) TCVN_CEF_BINARY Binary serialized data (recommended for large containers) Related elements • FB_VN_Write Container [} 1604] 6.1.2.4.18 ETc Vn Contour Approximation Method Offers methods for contour approximation. Syntax Definition: TYPE ETc Vn Contour Approximation Method : ( TCVN_CAM_NONE := 1, TCVN_CAM_SIMPLE := 2, TCVN_CAM_TC89_L1 := 3, TCVN_CAM_TC89_KCOS := 4 )DINT; END_TYPE Values Name Description TCVN_CAM_NONE No approximation, every single point is stored, i.e. two subsequent points are always direct neighbors (horizontal, vertical or diagonal). TCVN_CAM_SIMPLE Lossless compression of segments that form straight lines in horizontal, vertical or diagonal direction leaving only their endpoints (For instance, an up-right rectangle is reduced to its four corner points.) TCVN_CAM_TC89_L1 Compression using a Teh-Chin chain approximation algorithm (IEEE-paper C. Teh, R. Chin, On the Detection of Dominant Points on Digital Curves, 1989). TCVN_CAM_TC89_KCOS Compression using a Teh-Chin chain approximation algorithm (IEEE-paper C. Teh, R. Chin, On the Detection of Dominant Points on Digital Curves, 1989). Further information This type indicates whether and if so how the points describing a contour are to be simplified. 192 Version: 2.4.0 TF7000 - TF7810
## Page 193

API reference • TCVN_CAM_NONE No simplification of the contour description, the contours are described by all enclosing points. • TCVN_CAM_SIMPLE Lossless simplification TF7000 - TF7810 Version: 2.4.0 193
## Page 194

API reference • TCVN_CAM_TC89_L1 Simplification of contour points using the algorithm Teh-Chin chain Approximation (IEEE-paper C. Teh, R. Chin, On the Detection of Dominant Points on Digital Curves, 1989). • TCVN_CAM_TC89_KCOS Simplification of contour points using the algorithm Teh-Chin chain Approximation (IEEE-paper C. Teh, R. Chin, On the Detection of Dominant Points on Digital Curves, 1989). Related functions • F_VN_Find Contours Exp [} 1160] • F_VN_Find Contour Hierarchy Exp [} 1154] 6.1.2.4.19 ETc Vn Contour Retrieval Mode Offers retrieval modes for a contour search. Syntax Definition: 194 Version: 2.4.0 TF7000 - TF7810
## Page 195

API reference TYPE ETc Vn Contour Retrieval Mode : ( TCVN_CRM_EXTERNAL := 0, TCVN_CRM_LIST := 1, TCVN_CRM_CONNECTED_COMPONENTS := 2, TCVN_CRM_TREE := 3, TCVN_CRM_FLOODFILL := 4 )DINT; END_TYPE Values Name Description TCVN_CRM_EXTERNAL Returns only external contours. TCVN_CRM_LIST Returns all found contours, not considering their hierarchy. TCVN_CRM_CONNECTED_COMPONENTS Returns all contours with a 2-level hierarchy (External contours are assigned level 0, internal contours level 1). TCVN_CRM_TREE Returns all contours and their full hierarchy. TCVN_CRM_FLOODFILL Returns the found contours using a floodfill algorithm (only available for DINT images). Further information This type specifies how the contour hierarchy is to be taken into account in the contour search. • TCVN_CRM_EXTERNAL Only the outer contours are returned; inner contours are not taken into account. TF7000 - TF7810 Version: 2.4.0 195
## Page 196

API reference • TCVN_CRM_LIST All contours are returned. The contour hierarchy is not taken into account. • TCVN_CRM_CONNECTED_COMPONENTS All contours are returned, and a 2-level hierarchy is created. In the graphic, all contours at level 1 are shown in red, level 2 is shown in green. It is evident that the next inner contour after a level 2 contour is again on level 1. 196 Version: 2.4.0 TF7000 - TF7810
## Page 197

API reference • TCVN_CRM_TREE All contours are returned, and a hierarchy is created based on a tree structure. In the image level 1 is red, level 2 green, level 3 blue and level 4 yellow. Related functions • F_VN_Find Contours Exp [} 1160] • F_VN_Find Contour Hierarchy Exp [} 1154] 6.1.2.4.20 ETc Vn Contours Match Comparison Method Offers comparison methods for contour matching. Syntax Definition: TYPE ETc Vn Contours Match Comparison Method : ( TCVN_CMCM_CONTOURS_MATCH_I1 := 1, TCVN_CMCM_CONTOURS_MATCH_I2 := 2, TCVN_CMCM_CONTOURS_MATCH_I3 := 3 )DINT; END_TYPE Values Name Description TCVN_CMCM_CONTOURS_MATCH_I1 Contours are compared using the sum over the differences between the reciprocal individual characteristics. TCVN_CMCM_CONTOURS_MATCH_I2 Contours are compared using the sum over the differences between the individual characteristics. TCVN_CMCM_CONTOURS_MATCH_I3 Contours are compared using only the maximum difference between the individual characteristics. Further information The available methods are based on Hu invariants. The following algorithms are used, with A representing the first contour and B the second contour. TF7000 - TF7810 Version: 2.4.0 197
## Page 198

API reference and with i in [1, 7] are each Hu moments of A and B. Related functions • F_VN_Match Contours(Exp) [} 966] • F_VN_Match Contours1vs N(Exp) [} 967] • F_VN_Match Image Hu Moments [} 1168] 6.1.2.4.21 ETc Vn Diffusivity Type KAZE Offers diffusivity types for feature detection methods KAZE and AKAZE. Syntax Definition: TYPE ETc Vn Diffusivity Type KAZE : ( TCVN_DT1_KAZE_PM_G1 := 0, TCVN_DT1_KAZE_PM_G2 := 1, TCVN_DT1_KAZE_WEICKERT := 2, TCVN_DT1_KAZE_CHARBONNIER := 3 )DINT; END_TYPE Values Name Description TCVN_DT1_KAZE_PM_G1 Uses the Perona-Malik diffusivity filter g1. TCVN_DT1_KAZE_PM_G2 Uses the Perona-Malik diffusivity filter g2. TCVN_DT1_KAZE_WEICKERT Uses the Weickert diffusivity filter. TCVN_DT1_KAZE_CHARBONNIER Uses the Charbonnier diffusivity filter. Further information The enum ETc Vn Diffusivity Type KAZE is used in the structure Tc Vn Params KAZE [} 246]. 198 Version: 2.4.0 TF7000 - TF7810
## Page 199

API reference Related functions • F_VN_Key Points And Descriptors KAZEExp [} 1326] 6.1.2.4.22 ETc Vn Distance Transformation Label Offers types of the label array to build. Syntax Definition: TYPE ETc Vn Distance Transformation Label : ( TCVN_DTL_CCOMP := 0, TCVN_DTL_PIXEL := 1 )DINT; END_TYPE Values Name Description TCVN_DTL_CCOMP Labels connected components (Each connected component of zeros in the source image and the pixels closest to the connected component will be assigned the same label). TCVN_DTL_PIXEL Labels pixels (Each zero pixel and the non-zero pixels closest to it get their own label). Related functions • F_VN_Distance Transformation Exp [} 1184] 6.1.2.4.23 ETc Vn Distance Transformation Mask Offers different sizes of the distance transformation mask. Please note, that some sizes are not supported by certain distance types. Syntax Definition: TYPE ETc Vn Distance Transformation Mask : ( TCVN_DTM_PRECISE := 0, TCVN_DTM_3 := 3, TCVN_DTM_5 := 5 )DINT; END_TYPE Values Name Description TCVN_DTM_PRECISE Uses a precise mask. TCVN_DTM_3 Uses a 3x3 mask. TCVN_DTM_5 Uses a 5x5 mask. Related functions • F_VN_Distance Transformation(Exp) [} 1182] 6.1.2.4.24 ETc Vn Distance Type Offers distance types. TF7000 - TF7810 Version: 2.4.0 199
## Page 200

API reference Syntax Definition: TYPE ETc Vn Distance Type : ( TCVN_DT_USER := -1, TCVN_DT_L1 := 1, TCVN_DT_L2 := 2, TCVN_DT_C := 3, TCVN_DT_L12 := 4, TCVN_DT_FAIR := 5, TCVN_DT_WELSCH := 6, TCVN_DT_HUBER := 7 )DINT; END_TYPE Values Name Description TCVN_DT_USER User defined distance TCVN_DT_L1 |x1 - x2| + |y1 - y2| TCVN_DT_L2 Euclidean distance TCVN_DT_C max(|x1 - x2|, |y1 - y2|) TCVN_DT_L12 L1 - L2 : 2*(sqrt(1 + x*x/2) - 1)) TCVN_DT_FAIR c^2(|x|/c-log(1+|x|/c)), c = 1.3998 TCVN_DT_WELSCH c^2/2(1-exp(-(x/c)^2)), c = 2.9846 TCVN_DT_HUBER |x|<c ? x^2/2 : c(|x|-c/2), c=1.345 Related functions • F_VN_Distance Transformation(Exp) [} 1182] • F_VN_Fit Line Exp [} 964] 6.1.2.4.25 ETc Vn Draw Matches Flags Offers a combination of flags to support overdrawing an existing destination image and/or skipping single (i.e. non-matched) keypoints and/or drawing additional (rich-)keypoint information (size and orientation). Used by F_VN_Draw Keypoints Exp. Syntax Definition: TYPE ETc Vn Draw Matches Flags : ( TCVN_DMF_DEFAULT := 0, TCVN_DMF_OVERDRAW := 1, TCVN_DMF_SKIPSINGLE := 2, TCVN_DMF_OVERDRAW_SKIPSINGLE := 3, TCVN_DMF_RICHKEYPOINT := 4, TCVN_DMF_OVERDRAW_RICHKEYPOINT := 5, TCVN_DMF_SKIPSINGLE_RICHKEYPOINT := 6, TCVN_DMF_OVERDRAW_SKIPSINGLE_RICHKEYPOINT := 7 )DINT; END_TYPE 200 Version: 2.4.0 TF7000 - TF7810
## Page 201

API reference Values Name Description TCVN_DMF_DEFAULT Draw all keypoints into a new image. TCVN_DMF_OVERDRAW Draw all keypoints into the existing destination image. TCVN_DMF_SKIPSINGLE Draw the keypoints into a new image but skip single keypoints. TCVN_DMF_OVERDRAW_SKIPSINGLE Draw the keypoints into the existing destination image but skip single keypoints. TCVN_DMF_RICHKEYPOINT Draw all keypoints with rich information into a new image. TCVN_DMF_OVERDRAW_RICHKEYPOINT Draw all keypoints with rich information into the existing destination image. TCVN_DMF_SKIPSINGLE_RICHKEYPOINT Draw the keypoints with rich information into a new image but skip single keypoints. TCVN_DMF_OVERDRAW_SKIPSINGLE_RICHKEY Draw the keypoints with rich information into the POINT existing destination image but skip single keypoints. Related functions • F_VN_Draw Keypoints Exp [} 997] • F_VN_Draw Matches Exp [} 1008] 6.1.2.4.26 ETc Vn Draw Shape Offers shapes to be drawn. Syntax Definition: TYPE ETc Vn Draw Shape : ( TCVN_DS_RANDOM := -1, TCVN_DS_CIRCLE := 0, TCVN_DS_SQUARE := 1, TCVN_DS_PLUS := 2, TCVN_DS_X := 3, TCVN_DS_DIAMOND := 4, TCVN_DS_MAX := 5 )DINT; END_TYPE Values Name Description TCVN_DS_RANDOM Randomly select a circle, square, plus, X or diamond. TCVN_DS_CIRCLE Circle TCVN_DS_SQUARE Square TCVN_DS_PLUS + TCVN_DS_X x TCVN_DS_DIAMOND Diamond TCVN_DS_MAX For internal use only, adapted when adding new values. Related functions • F_VN_Draw Point(Exp) [} 1012] • F_VN_Draw Points(Exp) [} 1014] TF7000 - TF7810 Version: 2.4.0 201
## Page 202

API reference 6.1.2.4.27 ETc Vn Edge Detection Algorithm Offers edge detection algorithms. Syntax Definition: TYPE ETc Vn Edge Detection Algorithm : ( TCVN_EDA_INTERPOLATION := 0, TCVN_EDA_APPROX_ERF := 1, TCVN_EDA_APPROX_GAUSSIAN := 2 )DINT; END_TYPE Values Name Description TCVN_EDA_INTERPOLATION Interpolates pixels (bilinear) and then finds the maximum gradient. This approach is fast and stable, but usually less precise than the function approximation methods. TCVN_EDA_APPROX_ERF Approximates the edge with an erf function. This approach is slower than the interpolation method, but usually more precise. However, it can be inaccurate if the edge does not suit the erf model. TCVN_EDA_APPROX_GAUSSIAN Approximates the edge with a gaussian function. This method is intended to find the center of relatively thin lines, so it is likely to be inaccurate for other edges. Related functions • Measurement [} 1440] ◦ F_VN_Locate Circular Arc Exp [} 1451] ◦ F_VN_Locate Edge Exp [} 1461] ◦ F_VN_Locate Edges Exp [} 1470] ◦ F_VN_Locate Ellipse Exp [} 1480] ◦ F_VN_Measure Angle Between Edges Exp [} 1488] ◦ F_VN_Measure Edge Distance Exp [} 1496] ◦ F_VN_Measure Min Edge Distance Exp [} 1507] 6.1.2.4.28 ETc Vn Edge Direction Offers edge directions relative to the search direction. Syntax Definition: TYPE ETc Vn Edge Direction : ( TCVN_ED_DARK_TO_LIGHT := 0, TCVN_ED_LIGHT_TO_DARK := 1 )DINT; END_TYPE 202 Version: 2.4.0 TF7000 - TF7810
## Page 203

API reference Values Name Description TCVN_ED_DARK_TO_LIGHT Dark to light TCVN_ED_LIGHT_TO_DARK Light to dark Related functions • Measurement [} 1440] 6.1.2.4.29 ETc Vn Element Type Offers element types. Syntax Definition: TYPE ETc Vn Element Type : ( TCVN_ET_SAME_AS_SOURCE := -1, TCVN_ET_USINT := 0, TCVN_ET_SINT := 1, TCVN_ET_UINT := 2, TCVN_ET_INT := 3, TCVN_ET_DINT := 4, TCVN_ET_REAL := 5, TCVN_ET_LREAL := 6 )DINT; END_TYPE Values Name Description TCVN_ET_SAME_AS_SOURCE Sets the element type of the destination image to the source image element type. TCVN_ET_USINT USINT (depth: 8 bit, 0..255) TCVN_ET_SINT SINT (depth: 8 bit, -128..127) TCVN_ET_UINT UINT (depth: 16 bit, 0..65535) TCVN_ET_INT INT (depth: 16 bit, -32768..32767) TCVN_ET_DINT DINT (depth: 32 bit, -2147483648..2147483647) TCVN_ET_REAL REAL (depth: 32 bit, ~ -3.402823E 10^38 .. ~ 3.402823E 38) TCVN_ET_LREAL LREAL (depth: 64 bit, ~ -1.79769313486231E 308 .. ~ 1.79769313486232E 308) Further information The enum ETc Vn Element Type is mainly used to specify the pixel type or bit depth of images. Furthermore, it is also contained in the structure Tc Vn Matrix [} 238]. Related functions • F_VN_Convert Element Type(Exp) [} 759] • F_VN_Create Image [} 766] • F_VN_Create Image And Set Pixels [} 767] • F_VN_Create Image From Array [} 768] • F_VN_Custom Filter(Exp) [} 1252] • F_VN_Init Matrix Struct [} 1525] • F_VN_Laplacian Filter(Exp) [} 1264] TF7000 - TF7810 Version: 2.4.0 203
## Page 204

API reference • F_VN_Normalize Image Exp [} 1219] • F_VN_Scharr Filter(Exp) [} 1278] • F_VN_Separable Custom Filter(Exp) [} 1282] • F_VN_Sobel Filter(Exp) [} 1286] 6.1.2.4.30 ETc Vn Estimation Algorithm Offers estimation algorithms for matching point sets. Syntax Definition: TYPE ETc Vn Estimation Algorithm : ( TCVN_EA_DEFAULT := 0, TCVN_EA_LMEDS := 4, TCVN_EA_RANSAC := 8, TCVN_EA_RHO := 16 )DINT; END_TYPE Values Name Description TCVN_EA_DEFAULT Use all points. TCVN_EA_LMEDS Least Median of Squares TCVN_EA_RANSAC Random Sample Consensus TCVN_EA_RHO Progressive Sample Consensus Related functions • F_VN_Find Reference Key Points In Image ORBExp [} 1315] • F_VN_Homography Exp [} 1121] 6.1.2.4.31 ETc Vn Extreme Point Direction Offers search directions for the extreme point. Syntax Definition: TYPE ETc Vn Extreme Point Direction : ( TCVN_EPD_TOP_LEFT := 0, TCVN_EPD_TOP_MEDIAN := 1, TCVN_EPD_TOP_RIGHT := 2, TCVN_EPD_BOTTOM_LEFT := 3, TCVN_EPD_BOTTOM_MEDIAN := 4, TCVN_EPD_BOTTOM_RIGHT := 5, TCVN_EPD_LEFT_TOP := 6, TCVN_EPD_LEFT_MEDIAN := 7, TCVN_EPD_LEFT_BOTTOM := 8, TCVN_EPD_RIGHT_TOP := 9, TCVN_EPD_RIGHT_MEDIAN := 10, TCVN_EPD_RIGHT_BOTTOM := 11 )DINT; END_TYPE 204 Version: 2.4.0 TF7000 - TF7810
## Page 205

API reference Values Name Description TCVN_EPD_TOP_LEFT Find the topmost point (min y, take left one if more than 1). TCVN_EPD_TOP_MEDIAN Find the topmost point (min y, take median one if more than 1). TCVN_EPD_TOP_RIGHT Find the topmost point (min y, take right one if more than 1). TCVN_EPD_BOTTOM_LEFT Find the bottommost point (max y, take left one if more than 1). TCVN_EPD_BOTTOM_MEDIAN Find the bottommost point (max y, take median one if more than 1). TCVN_EPD_BOTTOM_RIGHT Find the bottommost point (max y, take right one if more than 1). TCVN_EPD_LEFT_TOP Find the leftmost point (min x, take top one if more than 1). TCVN_EPD_LEFT_MEDIAN Find the leftmost point (min x, take median one if more than 1). TCVN_EPD_LEFT_BOTTOM Find the leftmost point (min x, take bottom one if more than 1). TCVN_EPD_RIGHT_TOP Find the rightmost point (max x, take top one if more than 1). TCVN_EPD_RIGHT_MEDIAN Find the rightmost point (max x, take median one if more than 1). TCVN_EPD_RIGHT_BOTTOM Find the rightmost point (max x, take bottom one if more than 1). Related functions • F_VN_Contour Extreme Point [} 949] 6.1.2.4.32 ETc Vn Feature Descriptor Type AKAZE Offers descriptor types for AKAZE method. Syntax Definition: TYPE ETc Vn Feature Descriptor Type AKAZE : ( TCVN_FDT_AKAZE_KAZE_UPRIGHT := 2, TCVN_FDT_AKAZE_KAZE := 3, TCVN_FDT_AKAZE_MLDB_UPRIGHT := 4, TCVN_FDT_AKAZE_MLDB := 5 )DINT; END_TYPE Values Name Description TCVN_FDT_AKAZE_KAZE_UPRIGHT KAZE descriptor (upright, i.e. rotation dependend). TCVN_FDT_AKAZE_KAZE KAZE descriptor (rotation invariant). TCVN_FDT_AKAZE_MLDB_UPRIGHT MLDB descriptor (upright, i.e. rotation dependend). TCVN_FDT_AKAZE_MLDB MLDB descriptor (rotation invariant). Further information The enum ETc Vn Feature Descriptor Typ AKAZE is used in the structure Tc Vn Params AKAZE [} 240]. TF7000 - TF7810 Version: 2.4.0 205
## Page 206

API reference 6.1.2.4.33 ETc Vn Feature Scaling Type Offers feature scaling types Syntax Definition: TYPE ETc Vn Feature Scaling Type : ( TCVN_FST1_MAXABS := 0, TCVN_FST1_MINMAX := 1, TCVN_FST1_STANDARDIZATION := 2 )DINT; END_TYPE Values Name Description TCVN_FST1_MAXABS Use the max of the absolute values of the feature vector. The normlized values are in the range [-1 to 1] or [0 to 1] if all the original values are positive. TCVN_FST1_MINMAX Use the min and max values of the feature vector. The normlized values are in the range [0 to 1] TCVN_FST1_STANDARDIZATION Use the mean and the standard deviation of the feature vector. The normalized vector has a mean value equal to zero and standard deviation equal to one 6.1.2.4.34 ETc Vn Feature Score Type ORB Offers algorithms used to rank features. Syntax Definition: TYPE ETc Vn Feature Score Type ORB : ( TCVN_FST_ORB_HARRIS := 0, TCVN_FST_ORB_FAST := 1 )DINT; END_TYPE Values Name Description TCVN_FST_ORB_HARRIS Harris algorithm (produces more stable keypoints, but computation takes longer). TCVN_FST_ORB_FAST FAST algorithm (produces slightly less stable keypoints, but computation is faster). Further information The enum ETc Vn Feature Score Type ORB is used in the structure Tc Vn Params ORB [} 247]. 6.1.2.4.35 ETc Vn Filter Direction Offers directions, in which to apply filter. Syntax Definition: 206 Version: 2.4.0 TF7000 - TF7810
## Page 207

API reference TYPE ETc Vn Filter Direction : ( TCVN_FD_X := 0, TCVN_FD_Y := 1 )INT; END_TYPE Values Name Description TCVN_FD_X X-direction TCVN_FD_Y Y-direction Related functions • F_VN_Scharr Filter(Exp) [} 1278] 6.1.2.4.36 ETc Vn Flip Axis Defines the axis around which to flip (mirror) the image. Syntax Definition: TYPE ETc Vn Flip Axis : ( TCVN_FA_XY := -1, TCVN_FA_X := 0, TCVN_FA_Y := 1 )INT; END_TYPE Values Name Description TCVN_FA_XY Flip the image around both axes TCVN_FA_X Flip the image around the X axis TCVN_FA_Y Flip the image around the Y axis Related functions • F_VN_Flip Image [} 1115] 6.1.2.4.37 ETc Vn Font Type Offers font types. Syntax Definition: TYPE ETc Vn Font Type : ( TCVN_FT_HERSHEY_SIMPLEX := 0, TCVN_FT_HERSHEY_PLAIN := 1, TCVN_FT_HERSHEY_DUPLEX := 2, TCVN_FT_HERSHEY_COMPLEX := 3, TCVN_FT_HERSHEY_TRIPLEX := 4, TCVN_FT_HERSHEY_COMPLEX_SMALL := 5, TCVN_FT_HERSHEY_SCRIPT_SIMPLEX := 6, TCVN_FT_HERSHEY_SCRIPT_COMPLEX := 7, TCVN_FT_HERSHEY_PLAIN_ITALIC := 17, TCVN_FT_HERSHEY_COMPLEX_ITALIC := 19, TCVN_FT_HERSHEY_TRIPLEX_ITALIC := 20, TCVN_FT_HERSHEY_COMPLEX_SMALL_ITALIC := 21 )DINT; END_TYPE TF7000 - TF7810 Version: 2.4.0 207
## Page 208

API reference Values Name Description TCVN_FT_HERSHEY_SIMPLEX Normal size sans-serif font. TCVN_FT_HERSHEY_PLAIN Small size sans-serif font. TCVN_FT_HERSHEY_DUPLEX More complex normal size sans-serif font. TCVN_FT_HERSHEY_COMPLEX Normal size serif font. TCVN_FT_HERSHEY_TRIPLEX More complex normal size serif font. TCVN_FT_HERSHEY_COMPLEX_SMALL Small size serif font. TCVN_FT_HERSHEY_SCRIPT_SIMPLEX Hand-writing style font. TCVN_FT_HERSHEY_SCRIPT_COMPLEX More complex hand-writing style font. TCVN_FT_HERSHEY_PLAIN_ITALIC Small size sans-serif font (italic). TCVN_FT_HERSHEY_COMPLEX_ITALIC Normal size serif font (italic). TCVN_FT_HERSHEY_TRIPLEX_ITALIC More complex normal size serif font (italic). TCVN_FT_HERSHEY_COMPLEX_SMALL_ITALIC Small size serif font (italic). Further information The following fonts are available: Related functions • F_VN_Put Label Exp [} 1032] • F_VN_Put Text(Exp) [} 1033] 6.1.2.4.38 ETc Vn Hough Method Offers Hough methods. Syntax Definition: 208 Version: 2.4.0 TF7000 - TF7810
## Page 209

API reference TYPE ETc Vn Hough Method : ( TCVN_HM_STANDARD := 0, TCVN_HM_PROBABILISTIC := 1, TCVN_HM_MULTI_SCALE := 2, TCVN_HM_GRADIENT := 3, TCVN_HM_GRADIENT_ALT := 4 )DINT; END_TYPE Values Name Description TCVN_HM_STANDARD Classical or standard Hough transform. Every line is represented by two floating-point numbers (f1, f2), where f1 is a distance between (0,0) origin and the line, and f2 is the angle between x-axis and the normal to the line. TCVN_HM_PROBABILISTIC Probabilistic Hough transform. More efficient for pictures containing long linear segments. Returns line segments rather than the whole line, while each segment is represented by start and end point. TCVN_HM_MULTI_SCALE Multi scale variant of classical Hough transform. TCVN_HM_GRADIENT Method designed to find circles. See paper: HK Yuen, John Princen, John Illingworth, and Josef Kittler. Comparative study of hough transform methods for circle finding. Image and Vision Computing, 8(1):71–77, 1990 TCVN_HM_GRADIENT_ALT Variation of the GRADIENT method. Related functions • F_VN_Hough Circles Exp [} 1163] 6.1.2.4.39 ETc Vn Initializable Function Offers initializable functions. Syntax Definition: TYPE ETc Vn Initializable Function : ( TCVN_IF_OCR := 0, )DINT; END_TYPE Values Name Description TCVN_IF_OCR F_VN_OCR 6.1.2.4.40 ETc Vn Interpolation Type Offers interpolation types. Syntax Definition: TYPE ETc Vn Interpolation Type : ( TCVN_IT_NEAREST_NEIGHBOR := 0, TCVN_IT_BILINEAR := 1, TF7000 - TF7810 Version: 2.4.0 209
## Page 210

API reference TCVN_IT_BICUBIC := 2, TCVN_IT_AREA_BASED := 3, TCVN_IT_LANCZOS4 := 4 )DINT; END_TYPE Values Name Description TCVN_IT_NEAREST_NEIGHBOR Nearest neighbor interpolation TCVN_IT_BILINEAR Bilinear interpolation TCVN_IT_BICUBIC Bicubic interpolation TCVN_IT_AREA_BASED Area based interpolation TCVN_IT_LANCZOS4 Lanczos4 interpolation Related functions • F_VN_Match Template And Evaluate Exp [} 1171] • F_VN_Remap Image To Log Polar Space Exp [} 1127] • F_VN_Remap Image To Polar Space Exp [} 1130] • F_VN_Resize Image [} 1132] • F_VN_Warp Affine Exp [} 1141] • F_VN_Warp Perspective Exp [} 1146] 6.1.2.4.41 ETc Vn Keypoint Detection Type AGAST Offers different neighborhood types for AGAST method (For details see paper: E. Mair et al.: Adaptive and Generic Corner Detection Based on the Accelerated Segment Test, 2010). Syntax Definition: TYPE ETc Vn Keypoint Detection Type AGAST : ( TCVN_KDT_AGAST_5_8 := 0, TCVN_KDT_AGAST_7_12d := 1, TCVN_KDT_AGAST_7_12s := 2, TCVN_KDT_AGAST_9_16 := 3 )DINT; END_TYPE Values Name Description TCVN_KDT_AGAST_5_8 5 of 8 TCVN_KDT_AGAST_7_12d 7 of 12 diamond TCVN_KDT_AGAST_7_12s 7 of 12 square TCVN_KDT_AGAST_9_16 9 of 16 Further information The enum ETc Vn Keypoint Detection Type AGAST is used in the structure Tc Vn Params AGAST [} 239]. 6.1.2.4.42 ETc Vn Keypoint Detection Type FAST Offers different neighborhood types for FAST method (For details see paper: E. Rosten: Machine Learning for High-speed Corner Detection, 2006). 210 Version: 2.4.0 TF7000 - TF7810
## Page 211

API reference Syntax Definition: TYPE ETc Vn Keypoint Detection Type FAST : ( TCVN_KDT_FAST_5_8 := 0, TCVN_KDT_FAST_7_12 := 1, TCVN_KDT_FAST_9_16 := 2 )DINT; END_TYPE Values Name Description TCVN_KDT_FAST_5_8 5 of 8 TCVN_KDT_FAST_7_12 7 of 12 TCVN_KDT_FAST_9_16 9 of 16 Further information The enum ETc Vn Keypoint Detection Type FAST is used in the structure Tc Vn Params FAST [} 245]. 6.1.2.4.43 ETc Vn Knn Offers k NN model types. Syntax Definition: TYPE ETc Vn Knn : ( TCVN_KNN_CLASSIFIER := 1, TCVN_KNN_NOVELTY_DETECTOR := 2, TCVN_KNN_REGRESSOR := 4 )UDINT; END_TYPE Values Name Description TCVN_KNN_CLASSIFIER Classifier TCVN_KNN_NOVELTY_DETECTOR Novelty detector TCVN_KNN_REGRESSOR Regressor 6.1.2.4.44 ETc Vn Line Type Offers line types. Syntax Definition: TYPE ETc Vn Line Type : ( TCVN_LT_4_CONNECTED := 4, TCVN_LT_8_CONNECTED := 8, TCVN_LT_ANTIALIASED := 16 )DINT; END_TYPE TF7000 - TF7810 Version: 2.4.0 211
## Page 212

API reference Values Name Description TCVN_LT_4_CONNECTED 4-connected (pixels are connected horizontally and vertically). TCVN_LT_8_CONNECTED 8-connected (pixels are connected horizontally, vertically and diagonally). TCVN_LT_ANTIALIASED Antialiased (drawn using Gaussian filtering, only implemented for 8-bit images). Related functions • F_VN_Draw Circle Exp [} 984] • F_VN_Draw Circles Exp [} 986] • F_VN_Draw Circular Arc Exp [} 988] • F_VN_Draw Contours Exp [} 993] • F_VN_Draw Ellipse Exp [} 995] • F_VN_Draw Line Exp [} 1001] • F_VN_Draw Line Exp_Tc Vn Vector4_DINT [} 1003] • F_VN_Draw Line Exp_Tc Vn Vector4_LREAL [} 1004] • F_VN_Draw Lines Exp [} 1006] • F_VN_Draw Point Exp [} 1013] • F_VN_Draw Points Exp [} 1015] • F_VN_Draw Rotated Rectangle Exp [} 1022] • F_VN_Put Label Exp [} 1032] • F_VN_Put Text Exp [} 1035] 6.1.2.4.45 ETc Vn Morphological Operator Offers morphological operators. Syntax Definition: TYPE ETc Vn Morphological Operator : ( TCVN_MO_EROSION := 0x0, TCVN_MO_DILATION := 0x1, TCVN_MO_OPENING := 0x2, TCVN_MO_CLOSING := 0x3, TCVN_MO_GRADIENT := 0x4, TCVN_MO_WHITE_TOPHAT := 0x5, TCVN_MO_BLACK_TOPHAT := 0x6, TCVN_MO_OPENING_BY_RECONSTRUCTION := 0x40000002, TCVN_MO_CLOSING_BY_RECONSTRUCTION := 0x40000003, TCVN_MO_WHITE_TOPHAT_BY_RECONSTRUCTION := 0x40000005, TCVN_MO_BLACK_TOPHAT_BY_RECONSTRUCTION := 0x40000006 )DINT; END_TYPE 212 Version: 2.4.0 TF7000 - TF7810
## Page 213

API reference Values Name Description TCVN_MO_EROSION Shrinks objects (regions of foreground (i.e. white) pixels), removing regions smaller than the structuring element completely. TCVN_MO_DILATION Expands objects and thereby closes small holes inside objects. TCVN_MO_OPENING Applies an erosion first, a dilation second. Objects smaller than the structuring element are removed while outer shapes remain largely the same. TCVN_MO_CLOSING Applies a dilation first, an erosion second. Holes inside objects that fit into the structuring element are closed completely while outer shapes remain largely the same. TCVN_MO_GRADIENT Difference between the dilation and the erosion of an image. TCVN_MO_WHITE_TOPHAT Difference between an input image and its opening. TCVN_MO_BLACK_TOPHAT Difference between an input image and its closing. TCVN_MO_OPENING_BY_RECONSTRUCTION Opening with subsequent reconstruction of objects that were not removed by the opening. TCVN_MO_CLOSING_BY_RECONSTRUCTION Closing with subsequent reconstruction of objects that were not removed by the closing. TCVN_MO_WHITE_TOPHAT_BY_RECONSTRUCTI White tophat with subsequent reconstruction of ON objects that were not removed by the white tophat. TCVN_MO_BLACK_TOPHAT_BY_RECONSTRUCTI Black tophat with subsequent reconstruction of ON objects that were not removed by the black tophat. Related functions • F_VN_Morphological Operator [} 1274] 6.1.2.4.46 ETc Vn Nbc Offers normal Bayes classifier types. Syntax Definition: TYPE ETc Vn Nbc : ( TCVN_NBC_CLASSIFIER := 1, TCVN_NBC_NOVELTY_DETECTOR := 2 )UDINT; END_TYPE Values Name Description TCVN_NBC_CLASSIFIER Classifier TCVN_NBC_NOVELTY_DETECTOR Novelty detector 6.1.2.4.47 ETc Vn Normalization Type Offers normalization types. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 213
## Page 214

API reference TYPE ETc Vn Normalization Type : ( TCVN_NT_INF := 1, TCVN_NT_L1 := 2, TCVN_NT_L2 := 4, TCVN_NT_L2SQR := 5, TCVN_NT_HAMMING := 6, TCVN_NT_HAMMING2 := 7, TCVN_NT_RELATIVE_INF := 9, TCVN_NT_RELATIVE_L1 := 10, TCVN_NT_RELATIVE_L2 := 12, TCVN_NT_RELATIVE_L2SQR := 13, TCVN_NT_RELATIVE_HAMMING := 14, TCVN_NT_RELATIVE_HAMMING2 := 15, TCVN_NT_MINMAX := 32 )DINT; END_TYPE Values Name Description TCVN_NT_INF Infinity norm TCVN_NT_L1 L1 norm TCVN_NT_L2 L2 (euclidean) norm TCVN_NT_L2SQR Squared L2 norm TCVN_NT_HAMMING Hamming distance (bitwise) TCVN_NT_HAMMING2 Hamming distance (each 2 bits combined to one) TCVN_NT_RELATIVE_INF Infinity norm (when comparing 2 arrays, the norm of their difference is divided by the norm of the second array) TCVN_NT_RELATIVE_L1 L1 norm (when comparing 2 arrays, the norm of their difference is divided by the norm of the second array) TCVN_NT_RELATIVE_L2 L2 (euclidean) norm (when comparing 2 arrays, the norm of their difference is divided by the norm of the second array) TCVN_NT_RELATIVE_L2SQR Squared L2 norm (when comparing 2 arrays, the norm of their difference is divided by the norm of the second array) TCVN_NT_RELATIVE_HAMMING Hamming distance (bitwise; when comparing 2 arrays, the norm of their difference is divided by the norm of the second array) TCVN_NT_RELATIVE_HAMMING2 Hamming distance (each 2 bits combined to one; when comparing 2 arrays, the norm of their difference is divided by the norm of the second array) TCVN_NT_MINMAX Normalize the values to a range given by a minimum and a maximum value. Related functions • F_VN_Find Reference Key Points In Image ORBExp [} 1317] • F_VN_Match Descriptors BFExp [} 1337] • F_VN_Match Descriptors Knn BFExp [} 1341] • F_VN_Normalize Image Exp [} 1219] 6.1.2.4.48 ETc Vn Ocr Model Type Offers different OCR model types Syntax Definition: 214 Version: 2.4.0 TF7000 - TF7810
## Page 215

API reference TYPE ETc Vn Ocr Model Type : ( TCVN_OMT_NUMBERS := 580542139465730, TCVN_OMT_NUMBERS_SC := 580542139465732, TCVN_OMT_UCLETTERS := 580542139465736, TCVN_OMT_NUMBERS_SC_UCLETTERS := 580542139465744 )ULINT; END_TYPE Values Name Description TCVN_OMT_NUMBERS Classify numbers TCVN_OMT_NUMBERS_SC Classify numbers and special characters TCVN_OMT_UCLETTERS Classify uppercase letters TCVN_OMT_NUMBERS_SC_UCLETTERS Classify numbers, special characters and uppercase letters 6.1.2.4.49 ETc Vn Ocr Options Provides different options to indicate whether certain actions must be performed to achieve the intended result. Syntax Definition: TYPE ETc Vn Ocr Options : ( TCVN_OO_NONE := 0, TCVN_OO_WITHBLANKS := 1 )UDINT; END_TYPE Values Name Description TCVN_OO_NONE No options TCVN_OO_WITHBLANKS Indicates that if blanks were found, they should be included in the result. By default, all blanks are omitted from the result. 6.1.2.4.50 ETc Vn Orientation Method Offers methods to calculate the orientation of a set of points. Syntax Definition: TYPE ETc Vn Orientation Method : ( TCVN_OM_PCA := 0, TCVN_OM_FITELLIPSE := 1, TCVN_OM_MOMENTS := 2, TCVN_OM_ENCLOSINGRECT := 3 )DINT; END_TYPE TF7000 - TF7810 Version: 2.4.0 215
## Page 216

API reference Values Name Description TCVN_OM_PCA Apply the PCA on the points and calculate the mean point as the center point and the rotation angle of the main principal axis TCVN_OM_FITELLIPSE Fit an ellipse around the points and calculate the center point and the rotation angle of the main axis TCVN_OM_MOMENTS Calculate the moments of the points and estimate the center and the rotation angle TCVN_OM_ENCLOSINGRECT Calculate a minimum area rectangle enclosing the points and calculate the center point and the rotation angle of the rectangle 6.1.2.4.51 ETc Vn Padding Mode Offers padding modes. Syntax Definition: TYPE ETc Vn Padding Mode : ( TCVN_PM_NONE := 0, TCVN_PM_CROP_CENTER := 1, TCVN_PM_LETTERBOX := 2 )DINT; END_TYPE Values Name Description TCVN_PM_NONE Resize the image to the desired size without extra processing TCVN_PM_CROP_CENTER Resize and crop the image TCVN_PM_LETTERBOX Resize the image to the desired size while preserving the aspect ratio of the original image 6.1.2.4.52 ETc Vn Pixel Connectivity Offers pixel connectivities. Syntax Definition: TYPE ETc Vn Pixel Connectivity : ( TCVN_PC_4 := 4, TCVN_PC_8 := 8 )DINT; END_TYPE Values Name Description TCVN_PC_4 4-way TCVN_PC_8 8-way 216 Version: 2.4.0 TF7000 - TF7810
## Page 217

API reference 6.1.2.4.53 ETc Vn Pixel Encoding Offers pixel encodings. Syntax Definition: TYPE ETc Vn Pixel Encoding : ( TCVN_PE_NONE := 0, TCVN_PE_BAYER_GR := 1, TCVN_PE_BAYER_RG := 2, TCVN_PE_BAYER_GB := 3, TCVN_PE_BAYER_BG := 4, TCVN_PE_YUV_411_UYYVYY := 5, TCVN_PE_YUV_422_UYVY := 6, TCVN_PE_YUV_422_YUYV := 7, TCVN_PE_YCBCR_411_CBYYCRYY := 8, TCVN_PE_YCBCR_422_CBYCRY := 9, TCVN_PE_YCBCR_422_YCBYCR := 10 )BYTE; END_TYPE Values Name Description TCVN_PE_NONE No encoding available, i.e. every pixel value is independent of other pixels. TCVN_PE_BAYER_GR Pixels are encoded as a Bayer GR pattern. TCVN_PE_BAYER_RG Pixels are encoded as a Bayer RG pattern. TCVN_PE_BAYER_GB Pixels are encoded as a Bayer GB pattern. TCVN_PE_BAYER_BG Pixels are encoded as a Bayer BG pattern. TCVN_PE_YUV_411_UYYVYY Pixels are encoded as YUV411 (UYYVYY). TCVN_PE_YUV_422_UYVY Pixels are encoded as YUV422 (UYVY). TCVN_PE_YUV_422_YUYV Pixels are encoded as YUV422 (YUYV). TCVN_PE_YCBCR_411_CBYYCRYY Pixels are encoded as YCb Cr411 (Cb YYCr YY). TCVN_PE_YCBCR_422_CBYCRY Pixels are encoded as YCb Cr422 (Cb YCr Y). TCVN_PE_YCBCR_422_YCBYCR Pixels are encoded as YCb Cr422 (YCb YCr). Further information The enum ETc Vn Pixel Encoding is used in the structure Tc Vn Pixel Format [} 249]. Information about the pixel encoding can be obtained by querying the pixel format information of an image. A frequent use case is the query for a Bayer pattern in order to find out whether a picture still needs to be converted into an RGB format, for example. 6.1.2.4.54 ETc Vn Pixel Pack Mode Offers pixel packing modes. Syntax Definition: TYPE ETc Vn Pixel Pack Mode : ( TCVN_PPM_NONE := 0, TCVN_PPM_MONO1P := 1, TCVN_PPM_MONO2P := 2, TCVN_PPM_MONO4P := 3, TCVN_PPM_MONO10PACKED := 4, TCVN_PPM_MONO12PACKED := 5, TCVN_PPM_RGB10V1PACKED := 6, TCVN_PPM_RGB10P32 := 7, TCVN_PPM_RGB12V1PACKED := 8, TF7000 - TF7810 Version: 2.4.0 217
## Page 218

API reference TCVN_PPM_RGB565P := 9, TCVN_PPM_BGR565P := 10, TCVN_PPM_MONO10P := 11, TCVN_PPM_MONO12P := 12, TCVN_PPM_MONO14P := 13 )BYTE; END_TYPE Values Name Description TCVN_PPM_NONE No packing TCVN_PPM_MONO1P Mono1p TCVN_PPM_MONO2P Mono2p TCVN_PPM_MONO4P Mono4p TCVN_PPM_MONO10PACKED Mono10Packed or Bayer XX10Packed TCVN_PPM_MONO12PACKED Mono12Packed or Bayer XX12Packed TCVN_PPM_RGB10V1PACKED RGB10V1Packed TCVN_PPM_RGB10P32 RGB10V2Packed (RGB10p32) TCVN_PPM_RGB12V1PACKED RGB12V1Packed TCVN_PPM_RGB565P RGB565p TCVN_PPM_BGR565P BGR565p TCVN_PPM_MONO10P Mono10p or Bayer XX10p TCVN_PPM_MONO12P Mono12p or Bayer XX12p TCVN_PPM_MONO14P Mono14p or Bayer XX14p Further information The enum ETc Vn Pixel Pack Mode is used in the structure Tc Vn Pixel Format [} 249]. 6.1.2.4.55 ETc Vn Prototype Clusterer Offers prototype clusterer model types. Syntax Definition: TYPE ETc Vn Prototype Clusterer : ( TCVN_PC_NOVELTY_DETECTOR := 2, TCVN_PC_CLUSTERER := 8 )UDINT; END_TYPE Values Name Description TCVN_PC_NOVELTY_DETECTOR Novelty detector TCVN_PC_CLUSTERER Clusterer 6.1.2.4.56 ETc Vn Rectangle Intersection Offers rectangle intersection types. Syntax Definition: 218 Version: 2.4.0 TF7000 - TF7810
## Page 219

API reference TYPE ETc Vn Rectangle Intersection : ( TCVN_RI_NONE := 0, TCVN_RI_PARTIAL := 1, TCVN_RI_FULL := 2 )DINT; END_TYPE Values Name Description TCVN_RI_NONE No intersection TCVN_RI_PARTIAL Partial intersection TCVN_RI_FULL Full intersection 6.1.2.4.57 ETc Vn Rotation Angle Offers rotation angles. Syntax Definition: TYPE ETc Vn Rotation Angle : ( TCVN_RA_90_DEG := 0, TCVN_RA_180_DEG := 1, TCVN_RA_270_DEG := 2 )DINT; END_TYPE Values Name Description TCVN_RA_90_DEG 90 degrees TCVN_RA_180_DEG 180 degrees TCVN_RA_270_DEG 270 degrees Related functions • F_VN_Rotate Image [} 1134] 6.1.2.4.58 ETc Vn RTrees Offers RTrees model types. Syntax Definition: TYPE ETc Vn RTrees : ( TCVN_RT_CLASSIFIER := 1, TCVN_RT_REGRESSOR := 4 )UDINT; END_TYPE Values Name Description TCVN_RT_CLASSIFIER Classifier TCVN_RT_REGRESSOR Regressor TF7000 - TF7810 Version: 2.4.0 219
## Page 220

API reference 6.1.2.4.59 ETc Vn Signed Normalization Offers options for normalizing images with signed data types. Syntax Definition: TYPE ETc Vn Signed Normalization : ( TCVN_SN_FIX_ZERO := 0, TCVN_SN_FULL_SCALE := 1 )INT; END_TYPE Values Name Description TCVN_SN_FIX_ZERO The value 0 is fixed, i.e. the normalized image might only reach either the minimum or maximum value. TCVN_SN_FULL_SCALE The image is normalized to the full value range, i.e. a prior value of 0 might be != 0 after normalization. Related functions • F_VN_Normalize Image For Display [} 1220] 6.1.2.4.60 ETc Vn Solve Pn PMethod Offers Solve Pn P methods. Syntax Definition: TYPE ETc Vn Solve Pn PMethod : ( TCVN_SPM_ITERATIVE := 0, TCVN_SPM_EPNP := 1, TCVN_SPM_P3P := 2, TCVN_SPM_AP3P := 5, TCVN_SPM_IPPE := 6, TCVN_SPM_IPPE_SQUARE := 7, TCVN_SPM_SQPNP := 8 )DINT; END_TYPE 220 Version: 2.4.0 TF7000 - TF7810
## Page 221

API reference Values Name Description TCVN_SPM_ITERATIVE Levenberg-Marquardt optimization. Requires at least 4 planar or 6 non-planar reference points. TCVN_SPM_EPNP Efficient perspective-n-point camera pose estimation. Requires at least 4 reference points. TCVN_SPM_P3P Complete solution classification for the perspective- three-point problem. Requires exactly 4 reference points to find a unique solution. TCVN_SPM_AP3P An efficient algebraic solution to the perspective- three-point problem. Requires exactly 4 reference points to find a unique solution. TCVN_SPM_IPPE Infinitesimal plane-based pose estimation. Requires at least 4 coplanar reference points. TCVN_SPM_IPPE_SQUARE IPPE specialization for squares. Requires exactly 4 reference points in the following order (hsl: half square length): (-hsl, hsl, 0), (hsl, hsl, 0), (hsl, -hsl, 0), (-hsl, -hsl, 0) TCVN_SPM_SQPNP A consistently fast and globally optimal solution to the perspective-n-point problem. Requires at least 4 reference points. 6.1.2.4.61 ETc Vn Sta Offers Simplified Topo ART model types. Syntax Definition: TYPE ETc Vn Sta : ( TCVN_STA_CLASSIFIER := 1, TCVN_STA_NOVELTY_DETECTOR := 2, TCVN_STA_REGRESSOR := 4, TCVN_STA_CLUSTERER := 8 )UDINT; END_TYPE Values Name Description TCVN_STA_CLASSIFIER Classifier TCVN_STA_NOVELTY_DETECTOR Novelty detector TCVN_STA_REGRESSOR Regressor TCVN_STA_CLUSTERER Clusterer 6.1.2.4.62 ETc Vn Structuring Element Shape Offers shapes for a structuring element. Syntax Definition: TYPE ETc Vn Structuring Element Shape : ( TCVN_SES_RECTANGLE := 0, TCVN_SES_CROSS := 1, TCVN_SES_ELLIPSE := 2 )DINT; END_TYPE TF7000 - TF7810 Version: 2.4.0 221
## Page 222

API reference Values Name Description TCVN_SES_RECTANGLE Rectangle TCVN_SES_CROSS Cross TCVN_SES_ELLIPSE Ellipse Related functions • F_VN_Create Structuring Element [} 1251] 6.1.2.4.63 ETc Vn Svm Offers SVM model types. Syntax Definition: TYPE ETc Vn Svm : ( TCVN_SVM_C_CLASSIFIER := 1, TCVN_SVM_NU_CLASSIFIER := 65537, TCVN_SVM_NOVELTY_DETECTOR := 2, TCVN_SVM_EPS_REGRESSOR := 4, TCVN_SVM_NU_REGRESSOR := 65540 )UDINT; END_TYPE Values Name Description TCVN_SVM_C_CLASSIFIER Classifier TCVN_SVM_NU_CLASSIFIER Classifier TCVN_SVM_NOVELTY_DETECTOR Novelty detector TCVN_SVM_EPS_REGRESSOR Regressor TCVN_SVM_NU_REGRESSOR Regressor 6.1.2.4.64 ETc Vn Svm Kernel Type Offers SVM kernel types. Syntax Definition: TYPE ETc Vn Svm Kernel Type : ( TCVN_SKT_LINEAR := 0, TCVN_SKT_POLY := 1, TCVN_SKT_RBF := 2, TCVN_SKT_SIGMOID := 3, TCVN_SKT_CHI2 := 4, TCVN_SKT_INTER := 5 )DINT; END_TYPE 222 Version: 2.4.0 TF7000 - TF7810
## Page 223

API reference Values Name Description TCVN_SKT_LINEAR Linear kernel (fast) TCVN_SKT_POLY Polynomial kernel TCVN_SKT_RBF Radial basis function (RBF) kernel (good default) TCVN_SKT_SIGMOID Sigmoid kernel TCVN_SKT_CHI2 Chi-squared kernel TCVN_SKT_INTER Histogram intersection kernel 6.1.2.4.65 ETc Vn Svm Sgd Classifier Margin Type Offers different margin types for SVMSGD classifiers. Syntax Definition: TYPE ETc Vn Svm Sgd Classifier Margin Type : ( TCVN_SSCMT_SOFT_MARGIN := 0, TCVN_SSCMT_HARD_MARGIN := 1 )DINT; END_TYPE Values Name Description TCVN_SSCMT_SOFT_MARGIN Soft margin allowing outliers. (beneficial for classes that cannot be separated linearly) TCVN_SSCMT_HARD_MARGIN Hard margin. (best-suited for linearly separable classes) 6.1.2.4.66 ETc Vn Svm Sgd Classifier Type Offers different types of SVMSGD classifiers. Syntax Definition: TYPE ETc Vn Svm Sgd Classifier Type : ( TCVN_SSCT_SGD := 0, TCVN_SSCT_ASGD := 1 )DINT; END_TYPE Values Name Description TCVN_SSCT_SGD Stochastic Gradient Descent TCVN_SSCT_ASGD Average Stochastic Gradient Descent 6.1.2.4.67 ETc Vn Template Match Method Offers methods for template matching. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 223
## Page 224

API reference TYPE ETc Vn Template Match Method : ( TCVN_TMM_SQDIFF := 0, TCVN_TMM_SQDIFF_NORMED := 1, TCVN_TMM_CCORR := 2, TCVN_TMM_CCORR_NORMED := 3, TCVN_TMM_CCOEFF := 4, TCVN_TMM_CCOEFF_NORMED := 5 )DINT; END_TYPE Values Name Description TCVN_TMM_SQDIFF Squared difference (supports template mask) TCVN_TMM_SQDIFF_NORMED Normalized squared difference TCVN_TMM_CCORR Cross-correlation TCVN_TMM_CCORR_NORMED Normalized cross-correlation (supports template mask) TCVN_TMM_CCOEFF Correlation coefficient TCVN_TMM_CCOEFF_NORMED Normalized correlation coefficient Related functions • F_VN_Match Template And Evaluate Exp [} 1171] • F_VN_Match Template Exp [} 1172] 6.1.2.4.68 ETc Vn Threshold Type Offers threshold types. Syntax Definition: TYPE ETc Vn Threshold Type : ( TCVN_TT_BINARY := 0, TCVN_TT_BINARY_INV := 1, TCVN_TT_TRUNC := 2, TCVN_TT_TOZERO := 3, TCVN_TT_TOZERO_INV := 4, TCVN_TT_OTSU_BINARY := 8, TCVN_TT_OTSU_BINARY_INV := 9, TCVN_TT_OTSU_TRUNC := 10, TCVN_TT_OTSU_TOZERO := 11, TCVN_TT_OTSU_TOZERO_INV := 12, TCVN_TT_TRIANGLE_BINARY := 16, TCVN_TT_TRIANGLE_BINARY_INV := 17, TCVN_TT_TRIANGLE_TRUNC := 18, TCVN_TT_TRIANGLE_TOZERO := 19, TCVN_TT_TRIANGLE_TOZERO_INV := 20 )DINT; END_TYPE 224 Version: 2.4.0 TF7000 - TF7810
## Page 225

API reference Values Name Description TCVN_TT_BINARY Binary threshold TCVN_TT_BINARY_INV Inverted binary threshold TCVN_TT_TRUNC Truncated threshold (pixels > thresh are set to thresh, others keep their value) TCVN_TT_TOZERO To zero threshold (pixels < thresh are set to zero, others keep their value) TCVN_TT_TOZERO_INV Inverted to zero threshold (pixels > thresh are set to zero, others keep their value) TCVN_TT_OTSU_BINARY Binary threshold with the threshold value selected according to the Otsu algorithm TCVN_TT_OTSU_BINARY_INV Inverted binary threshold with the threshold value selected according to the Otsu algorithm TCVN_TT_OTSU_TRUNC Truncated threshold with the threshold value selected according to the Otsu algorithm TCVN_TT_OTSU_TOZERO To zero threshold with the threshold value selected according to the Otsu algorithm TCVN_TT_OTSU_TOZERO_INV Inverted to zero threshold with the threshold value selected according to the Otsu algorithm TCVN_TT_TRIANGLE_BINARY Binary threshold with the threshold value selected according to the Triangle algorithm TCVN_TT_TRIANGLE_BINARY_INV Inverted binary threshold with the threshold value selected according to the Triangle algorithm TCVN_TT_TRIANGLE_TRUNC Truncated threshold with the threshold value selected according to the Triangle algorithm TCVN_TT_TRIANGLE_TOZERO To zero threshold with the threshold value selected according to the Triangle algorithm TCVN_TT_TRIANGLE_TOZERO_INV Inverted to zero threshold with the threshold value selected according to the Triangle algorithm Further information The Enum ETc Vn Threshold Type offers a choice of the methods implemented to calculate the threshold value. It is also used in the structure Tc Vn Params Blob Detection [} 240]. Related functions • F_VN_Adaptive Threshold Exp [} 1293] • F_VN_Threshold [} 1298] 6.1.2.4.69 ETc Vn Timestamp Offers image acquisition timestamps. Syntax Definition: TYPE ETc Vn Timestamp : ( TCVN_TS_IMAGE_COMPLETED := 1 )ULINT; END_TYPE TF7000 - TF7810 Version: 2.4.0 225
## Page 226

API reference Values Name Description TCVN_TS_IMAGE_COMPLETED Timestamp when the image was completed, i.e. all packets were received by the Gig EVision driver. 6.1.2.4.70 ETc Vn Vector Compare Method Offers methods for vector comparison. Syntax Definition: TYPE ETc Vn Vector Compare Method : ( TCVN_VCM_EUCLIDEAN := 0, TCVN_VCM_ELEMENTWISE := 1 )DINT; END_TYPE Values Name Description TCVN_VCM_EUCLIDEAN Euclidean TCVN_VCM_ELEMENTWISE Elementwise Related functions • F_VN_Max Pixel Value Exp [} 1196] • F_VN_Min Pixel Value Exp [} 1198] 6.1.2.4.71 ETc Vn World Coordinate System Offers world coordinate system orientations. Syntax Definition: TYPE ETc Vn World Coordinate System : ( TCVN_WCS_X_RIGHT_Y_DOWN := 0, TCVN_WCS_X_DOWN_Y_RIGHT := 1, TCVN_WCS_X_LEFT_Y_DOWN := 2, TCVN_WCS_X_UP_Y_RIGHT := 3, TCVN_WCS_X_RIGHT_Y_UP := 4, TCVN_WCS_X_DOWN_Y_LEFT := 5, TCVN_WCS_X_LEFT_Y_UP := 6, TCVN_WCS_X_UP_Y_LEFT := 7 )DINT; END_TYPE 226 Version: 2.4.0 TF7000 - TF7810
## Page 227

API reference Values Name Description TCVN_WCS_X_RIGHT_Y_DOWN X axis points right, Y axis down (same orientation as image coordinate system) TCVN_WCS_X_DOWN_Y_RIGHT X axis points down, Y axis right TCVN_WCS_X_LEFT_Y_DOWN X axis points left, Y axis down TCVN_WCS_X_UP_Y_RIGHT X axis points up, Y axis right TCVN_WCS_X_RIGHT_Y_UP X axis points right, Y axis up TCVN_WCS_X_DOWN_Y_LEFT X axis points down, Y axis left TCVN_WCS_X_LEFT_Y_UP X axis points left, Y axis up TCVN_WCS_X_UP_Y_LEFT X axis points up, Y axis left 6.1.2.4.72 ETc Watchdog Accumulation Type Offers watchdog accumulation types to compute the fraction processed. Syntax Definition: TYPE ETc Watchdog Accumulation Type : ( WD_ACC_TYPE_MEAN := 1, WD_ACC_TYPE_PRODUCT := 2 )UINT; END_TYPE Values Name Description WD_ACC_TYPE_MEAN Calculates the mean of the individual fractions processed over all monitored functions (recommended for independent functions). WD_ACC_TYPE_PRODUCT Calculates the product of the individual fractions processed over all monitored functions (recommended for dependent functions). Further information With this enum you can set how a watchdog [} 149] calculates the fraction of the executed functions (n Fraction Processed) when several functions are concatenated. As an example to illustrate the mode of operation, it is assumed that three functions were monitored. The first was executed 100%, the second 50% and the third 0%. WD_ACC_TYPE_MEAN The average value of the execution fractions of all functions is returned as the result. In the example case the result would be: (100% + 50% + 0%) / 3 = 50%. WD_ACC_TYPE_PRODUCT The product of the execution fractions of all functions is returned as the result. In the example case the result would be: 100% * 50% * 0% = 0%. The use cases differ depending on the program structure and the safe states of the machine. Related functions • F_VN_Start Abs Watchdog Exp [} 974] • F_VN_Start Rel Watchdog Exp [} 975] TF7000 - TF7810 Version: 2.4.0 227
## Page 228

API reference 6.1.2.4.73 GEV_CAMERA_STATE Describes the Gig EVision camera connection state. Syntax Definition: TYPE GEV_CAMERA_STATE : ( GEV_CAMERA_IDLE := 0, GEV_CONTROL_CHANNEL_OPEN_MASK := 1, GEV_STREAM_CHANNELS_OPEN_MASK := 2, GEV_CONTROL_CHANNEL_OPEN := 1, GEV_STREAM_CHANNELS_OPEN := 3 )BYTE; END_TYPE Values Name Description GEV_CAMERA_IDLE Camera is idle (no control or stream channel open). GEV_CONTROL_CHANNEL_OPEN_MASK The control channel is open. GEV_STREAM_CHANNELS_OPEN_MASK At least 1 stream channel is open. GEV_CONTROL_CHANNEL_OPEN The control channel is open, but no stream channel. GEV_STREAM_CHANNELS_OPEN At least 1 stream channel and the control channel are open. 6.1.2.4.74 ETc Vn Data Layout Offers image data layouts. Syntax Definition: TYPE ETc Vn Data Layout : ( TCVN_DL_DEFAULT := 0x0, TCVN_DL_2D_HW := 0x12, TCVN_DL_2D_WH := 0x21, TCVN_DL_3D_CHW := 0x123, TCVN_DL_3D_HWC := 0x231, TCVN_DL_4D_NCHW := 0x1234, TCVN_DL_4D_NHWC := 0x1342 )ULINT; END_TYPE Values Name Description TCVN_DL_DEFAULT Default TCVN_DL_2D_HW 2D data HW, multi/single channel image TCVN_DL_2D_WH 2D data WH, multi/single channel image TCVN_DL_3D_CHW 3D data CHW, single channel image TCVN_DL_3D_HWC 3D data HWC, single channel image TCVN_DL_4D_NCHW 4D data NCHW, single channel image TCVN_DL_4D_NHWC 4D data NHWC, single channel image 6.1.2.4.75 ETc Vn Reduce Type Offers reduction types. 228 Version: 2.4.0 TF7000 - TF7810
## Page 229

API reference Syntax Definition: TYPE ETc Vn Reduce Type : ( TCVN_RT_REDUCE_SUM := 0, TCVN_RT_REDUCE_AVG := 1, TCVN_RT_REDUCE_MAX := 2, TCVN_RT_REDUCE_MIN := 3 )DINT; END_TYPE Values Name Description TCVN_RT_REDUCE_SUM The sum (column/row-wise) of all rows/columns TCVN_RT_REDUCE_AVG The mean (column/row-wise) of all rows/columns TCVN_RT_REDUCE_MAX The maximum (column/row-wise) of all rows/columns TCVN_RT_REDUCE_MIN The minimum (column/row-wise) of all rows/columns 6.1.2.4.76 ETc Vn Circularity Calculation Method Offers methods to calculate contour circularity Syntax Definition: TYPE ETc Vn Circularity Calculation Method : ( TCVN_CCM_DEFAULT := 0, TCVN_CCM_CONVEXHULL_PERIMETER := 1, TCVN_CCM_MAX_RADIUS := 2, TCVN_CCM_ENCLOSINGCIRCLE_RADIUS := 3 )DINT; END_TYPE Values Name Description TCVN_CCM_DEFAULT 4pi * area / perimeter^2 TCVN_CCM_CONVEXHULL_PERIMETER 4pi * area / (convex hull perimeter)^2 TCVN_CCM_MAX_RADIUS area / (pi * r^2), r = max distance to the contour's center of mass TCVN_CCM_ENCLOSINGCIRCLE_RADIUS area / (pi * r^2), r = radius of the minimum enclosing circle 6.1.2.4.77 ETc Vn Data Matrix Options Offers Data Matrix code detection options. Syntax Definition: TYPE ETc Vn Data Matrix Options : ( TCVN_DMO_DEFAULT := 0, TCVN_DMO_BINARY_INPUT := 1, TCVN_DMO_GLOBAL_THRESHOLD := 2, TCVN_DMO_BINARY_GRID := 4, TCVN_DMO_STATIC_GRID := 8, TCVN_DMO_REGULAR_COLOR := 16, TCVN_DMO_INVERTED_COLOR := 32 )ULINT; END_TYPE TF7000 - TF7810 Version: 2.4.0 229
## Page 230

API reference Values Name Description TCVN_DMO_DEFAULT Expects a graylevel image as input. Applies an adaptive local threshold and creates a dynamic grid based on the clock pattern. TCVN_DMO_BINARY_INPUT Expects a binary image as input (all pixels must contain 0 or 255, disables internal preprocessing) TCVN_DMO_GLOBAL_THRESHOLD Applies a global instead of an adaptive local threshold (requires uniform illumination) TCVN_DMO_BINARY_GRID Create the dynamic grid based on the binary instead of the graylevel image TCVN_DMO_STATIC_GRID Use an equally spaced static grid instead of a dynamic one TCVN_DMO_REGULAR_COLOR Only search for regular color (dark code on light background) TCVN_DMO_INVERTED_COLOR Only search for inverted color (light code on dark background) 6.1.2.4.78 ETc Vn Layer Name Type Offer different types of neural network model layer names Syntax Definition: TYPE ETc Vn Layer Name Type : ( TCVN_LNT_ALL := 0, TCVN_LNT_OUTPUTS := 1, TCVN_LNT_INPUTS := 2 )DINT; END_TYPE Values Name Description TCVN_LNT_ALL Return the name of all layers TCVN_LNT_OUTPUTS Return the names of unconnected output layers TCVN_LNT_INPUTS Return the names of model inputs 6.1.2.4.79 ETc Vn Circularity Calculation Method Offers methods to calculate contour circularity Syntax Definition: TYPE ETc Vn Circularity Calculation Method : ( TCVN_CCM_DEFAULT := 0, TCVN_CCM_CONVEXHULL_PERIMETER := 1, TCVN_CCM_MAX_RADIUS := 2, TCVN_CCM_ENCLOSINGCIRCLE_RADIUS := 3 )DINT; END_TYPE 230 Version: 2.4.0 TF7000 - TF7810
## Page 231

API reference Values Name Description TCVN_CCM_DEFAULT 4pi * area / perimeter^2 TCVN_CCM_CONVEXHULL_PERIMETER 4pi * area / (convex hull perimeter)^2 TCVN_CCM_MAX_RADIUS area / (pi * r^2), r = max distance to the contour's center of mass TCVN_CCM_ENCLOSINGCIRCLE_RADIUS area / (pi * r^2), r = radius of the minimum enclosing circle 6.1.2.4.80 ETc Vn Data Matrix Options Offers Data Matrix code detection options. Syntax Definition: TYPE ETc Vn Data Matrix Options : ( TCVN_DMO_DEFAULT := 0, TCVN_DMO_BINARY_INPUT := 1, TCVN_DMO_GLOBAL_THRESHOLD := 2, TCVN_DMO_BINARY_GRID := 4, TCVN_DMO_STATIC_GRID := 8, TCVN_DMO_REGULAR_COLOR := 16, TCVN_DMO_INVERTED_COLOR := 32 )ULINT; END_TYPE Values Name Description TCVN_DMO_DEFAULT Expects a graylevel image as input. Applies an adaptive local threshold and creates a dynamic grid based on the clock pattern. TCVN_DMO_BINARY_INPUT Expects a binary image as input (all pixels must contain 0 or 255, disables internal preprocessing) TCVN_DMO_GLOBAL_THRESHOLD Applies a global instead of an adaptive local threshold (requires uniform illumination) TCVN_DMO_BINARY_GRID Create the dynamic grid based on the binary instead of the graylevel image TCVN_DMO_STATIC_GRID Use an equally spaced static grid instead of a dynamic one TCVN_DMO_REGULAR_COLOR Only search for regular color (dark code on light background) TCVN_DMO_INVERTED_COLOR Only search for inverted color (light code on dark background) 6.1.2.4.81 ETc Vn Layer Name Type Offer different types of neural network model layer names Syntax Definition: TYPE ETc Vn Layer Name Type : ( TCVN_LNT_ALL := 0, TCVN_LNT_OUTPUTS := 1, TF7000 - TF7810 Version: 2.4.0 231
## Page 232

API reference TCVN_LNT_INPUTS := 2 )DINT; END_TYPE Values Name Description TCVN_LNT_ALL Return the name of all layers TCVN_LNT_OUTPUTS Return the names of unconnected output layers TCVN_LNT_INPUTS Return the names of model inputs 6.1.2.5 Structs 6.1.2.5.1 GVSP_IMAGE_INFO Shows GVSP (Gig E Vision Streaming Protocol) meta information. Syntax Definition: TYPE GVSP_IMAGE_INFO : STRUCT Camera Ip Address : UDINT; Local Ip Address : UDINT; Camera Udp Port : UINT; Local Udp Port : UINT; Gvsp Channel Id : UINT; Gev Status : UINT; Block Id : ULINT; Leader Info : GVSP_LEADER_PAYLOAD_IMAGE; END_STRUCT END_TYPE Parameters Name Type Description Camera Ip Address UDINT Camera IP address Local Ip Address UDINT Local IP address Camera Udp Port UINT Camera UDP port Local Udp Port UINT Local UDP port Gvsp Channel Id UINT ID of GVSP channel Gev Status UINT Gig E Vision status code Block Id ULINT Block Id (incremented for each acquired image, but reset to 0 on overflow) Leader Info GVSP_LEADER_PAYLOAD_IMAGE Contains information about timestamp, pixel format and size. [} 232] 6.1.2.5.2 GVSP_LEADER_PAYLOAD_IMAGE Shows information over the GVSP (Gig E Vision Streaming Protocol) leader payload image. Syntax Definition: TYPE GVSP_LEADER_PAYLOAD_IMAGE : STRUCT Timestamp : ULINT; Pixel Format : GVSP_PIXEL_FORMAT; Size X : UDINT; Size Y : UDINT; 232 Version: 2.4.0 TF7000 - TF7810
## Page 233

API reference Offset X : UDINT; Offset Y : UDINT; Padding X : UINT; Padding Y : UINT; END_STRUCT END_TYPE Parameters Name Type Description Timestamp ULINT Image timestamp Pixel Format GVSP_PIXEL_FORMAT [} 233] Image pixel format Size X UDINT Image size in x direction Size Y UDINT Image size in y direction Offset X UDINT Image x-offset from (0,0) origin Offset Y UDINT Image y-offset from (0,0) origin Padding X UINT Image padding in x direction Padding Y UINT Image padding in y direction 6.1.2.5.3 GVSP_PIXEL_FORMAT Shows the GVSP (Gig E Vision Streaming Protocol) pixel format. Syntax Definition: TYPE GVSP_PIXEL_FORMAT : STRUCT Color : BYTE; Effective Pixel Size : BYTE; Id : UINT; END_STRUCT END_TYPE Parameters Name Type Description Color BYTE Indicates if the pixel format is mono or color. Effective Pixel Size BYTE Effective pixel size in bit Id UINT GVSP pixel format ID 6.1.2.5.4 Tc Vn Camera Calibration Options Offers camera calibration options. Syntax Definition: TYPE Tc Vn Camera Calibration Options : STRUCT b Use Intrinsic Guess : BIT; b Fix Aspect Ratio : BIT; b Fix Principal Point : BIT; b Zero Tangent Dist : BIT; b Fix Focal Length : BIT; b Fix K1 : BIT; b Fix K2 : BIT; b Fix K3 : BIT; b Fix K4 : BIT; b Fix K5 : BIT; b Fix K6 : BIT; TF7000 - TF7810 Version: 2.4.0 233
## Page 234

API reference b Rational Model : BIT; END_STRUCT END_TYPE Parameters Name Type Description b Use Intrinsic Guess BIT The camera matrix and distortion coefficients already contain a valid initial guess, which is optimized further. b Fix Aspect Ratio BIT The ratio fx/fy stays the same as in the input camera matrix. b Fix Principal Point BIT The principal point is fixed to the image center (or provided cx,cy if b Use Intrinsic Guess). b Zero Tangent Dist BIT The tangential distortion coefficients (p1, p2) are forced to 0. b Fix Focal Length BIT The parameters fx and fy stay the same as in the input camera matrix. b Fix K1 BIT The radial distortion coefficient k1 is fixed to 0 (or provided input if b Use Intrinsic Guess) b Fix K2 BIT The radial distortion coefficient k2 is fixed to 0 (or provided input if b Use Intrinsic Guess) b Fix K3 BIT The radial distortion coefficient k3 is fixed to 0 (or provided input if b Use Intrinsic Guess) b Fix K4 BIT The radial distortion coefficient k4 is fixed to 0 (or provided input if b Use Intrinsic Guess) b Fix K5 BIT The radial distortion coefficient k5 is fixed to 0 (or provided input if b Use Intrinsic Guess) b Fix K6 BIT The radial distortion coefficient k6 is fixed to 0 (or provided input if b Use Intrinsic Guess) b Rational Model BIT The radial distortion coefficients k4, k5, k6 are enabled. 6.1.2.5.5 Tc Vn Circular Arc Describes a circular arc. Syntax Definition: TYPE Tc Vn Circular Arc : STRUCT a Center : Tc Vn Point2_REAL; f Radius : REAL; f Start Angle : REAL; f End Angle : REAL; END_STRUCT END_TYPE 234 Version: 2.4.0 TF7000 - TF7810
## Page 235

API reference Parameters Name Type Description a Center Tc Vn Point2_REAL [} 163] Center of the circular arc f Radius REAL Radius of the circular arc f Start Angle REAL Start angle of the circular arc f End Angle REAL End angle of the circular arc 6.1.2.5.6 Tc Vn Code Grades1D Describes code quality grades for 1D barcodes according to ISO / IEC 15416:2016. The grades range from 0 (very bad) to 4 (very good) and are averaged over several scan lines. Syntax Definition: TYPE Tc Vn Code Grades1D : STRUCT f Decode : REAL; f Symbol Contrast : REAL; f Min Reflectance : REAL; f Min Edge Contrast : REAL; f Modulation : REAL; f Defects : REAL; f Decodability : REAL; f Overall : REAL; END_STRUCT END_TYPE Parameters Name Type Description f Decode REAL Decode grade f Symbol Contrast REAL Symbol contrast grade f Min Reflectance REAL Minimum reflectance grade f Min Edge Contrast REAL Minimum edge contrast grade f Modulation REAL Modulation grade f Defects REAL Defects grade f Decodability REAL Decodability grade f Overall REAL Overall code grade, i.e. the minimum achieved individual grade averaged over all scan lines. If different scan lines lead to different decoded data, the overall grade is 0. 6.1.2.5.7 Tc Vn Code Grades DM Describes code quality grades for Data Matrix codes according to ISO / IEC 15415:2011. The grades range from 0 (very bad) to 4 (very good). Syntax Definition: TYPE Tc Vn Code Grades DM : STRUCT n Decode : USINT; n Symbol Contrast : USINT; n Modulation : USINT; n Reflectance Margin : USINT; n Fixed Pattern Damage : USINT; TF7000 - TF7810 Version: 2.4.0 235
## Page 236

API reference n Axial Nonuniformity : USINT; n Grid Nonuniformity : USINT; n Unused Error Correction : USINT; n Overall : USINT; END_STRUCT END_TYPE Parameters Name Type Description n Decode USINT Decode grade n Symbol Contrast USINT Symbol contrast grade n Modulation USINT Modulation grade n Reflectance Margin USINT Reflectance margin grade n Fixed Pattern Damage USINT Fixed pattern damage grade n Axial Nonuniformity USINT Axial nonuniformity grade n Grid Nonuniformity USINT Grid nonuniformity grade n Unused Error Correction USINT Unused error correction grade n Overall USINT Overall code grade, i.e. the minimum achieved individual grade 6.1.2.5.8 Tc Vn Code Grades QR Describes code quality grades for QR codes according to ISO / IEC 15415:2011. The grades range from 0 (very bad) to 4 (very good). Syntax Definition: TYPE Tc Vn Code Grades QR : STRUCT n Decode : USINT; n Symbol Contrast : USINT; n Modulation : USINT; n Reflectance Margin : USINT; n Fixed Pattern Damage : USINT; n Axial Nonuniformity : USINT; n Grid Nonuniformity : USINT; n Unused Error Correction : USINT; n Format Info : USINT; n Version Info : USINT; n Overall : USINT; END_STRUCT END_TYPE Parameters Name Type Description n Decode USINT Decode grade n Symbol Contrast USINT Symbol contrast grade n Modulation USINT Modulation grade n Reflectance Margin USINT Reflectance margin grade n Fixed Pattern Damage USINT Fixed pattern damage grade n Axial Nonuniformity USINT Axial nonuniformity grade n Grid Nonuniformity USINT Grid nonuniformity grade n Unused Error Correction USINT Unused error correction grade n Format Info USINT Format information grade n Version Info USINT Version information grade n Overall USINT Overall code grade, i.e. the minimum achieved individual grade 236 Version: 2.4.0 TF7000 - TF7810
## Page 237

API reference 6.1.2.5.9 Tc Vn DMatch Describes a descriptor match Syntax Definition: TYPE Tc Vn DMatch : STRUCT n Query Idx : DINT; n Train Idx : DINT; n Image Idx : DINT; f Distance : REAL; END_STRUCT END_TYPE Parameters Name Type Description n Query Idx DINT Query descriptor index n Train Idx DINT Train descriptor index n Image Idx DINT Train image index f Distance REAL Distance between the descriptors (smaller distance means better match) 6.1.2.5.10 Tc Vn Image Info Shows image information. Syntax Definition: TYPE Tc Vn Image Info : STRUCT n Image Size : ULINT; n Width : UDINT; n Height : UDINT; n XPadding : UINT; n YPadding : UINT; st Pixel Format : Tc Vn Pixel Format; END_STRUCT END_TYPE Parameters Name Type Description n Image Size ULINT Image size (number of pixels) n Width UDINT Image width n Height UDINT Image height n XPadding UINT Image x-padding n YPadding UINT Image y-padding st Pixel Format Tc Vn Pixel Format [} 249] Pixel format 6.1.2.5.11 Tc Vn Key Point Describes a key point. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 237
## Page 238

API reference TYPE Tc Vn Key Point : STRUCT a Point : Tc Vn Point2_REAL; f Diameter : REAL; f Angle : REAL; f Response : REAL; n Octave : DINT; n Class Id : DINT; END_STRUCT END_TYPE Parameters Name Type Description a Point Tc Vn Point2_REAL [} 163] Position f Diameter REAL Diameter f Angle REAL Angle f Response REAL Response n Octave DINT Octave n Class Id DINT Class ID 6.1.2.5.12 Tc Vn Matrix Offers a user-defined matrix with variable rows, columns and element-type. Syntax Definition: TYPE Tc Vn Matrix : STRUCT n Rows : UDINT; n Cols : UDINT; e Type : ETc Vn Element Type; p Data : PVOID; END_STRUCT END_TYPE Parameters Name Type Description n Rows UDINT Number of rows n Cols UDINT Number of columns e Type ETc Vn Element Type [} 203] Element type p Data PVOID Pointer to the data 6.1.2.5.13 Tc Vn Moments Offers image or contour moments. Syntax Definition: TYPE Tc Vn Moments : STRUCT f M00 : LREAL; f M10 : LREAL; f M01 : LREAL; f M20 : LREAL; f M11 : LREAL; f M02 : LREAL; f M30 : LREAL; f M21 : LREAL; f M12 : LREAL; f M03 : LREAL; 238 Version: 2.4.0 TF7000 - TF7810
## Page 239

API reference f Mu20 : LREAL; f Mu11 : LREAL; f Mu02 : LREAL; f Mu30 : LREAL; f Mu21 : LREAL; f Mu12 : LREAL; f Mu03 : LREAL; f Nu20 : LREAL; f Nu11 : LREAL; f Nu02 : LREAL; f Nu30 : LREAL; f Nu21 : LREAL; f Nu12 : LREAL; f Nu03 : LREAL; END_STRUCT END_TYPE Parameters Name Type Description f M00 LREAL Spatial moment 00 f M10 LREAL Spatial moment 10 f M01 LREAL Spatial moment 01 f M20 LREAL Spatial moment 20 f M11 LREAL Spatial moment 11 f M02 LREAL Spatial moment 02 f M30 LREAL Spatial moment 30 f M21 LREAL Spatial moment 21 f M12 LREAL Spatial moment 12 f M03 LREAL Spatial moment 03 f Mu20 LREAL Central moment 20 f Mu11 LREAL Central moment 11 f Mu02 LREAL Central moment 02 f Mu30 LREAL Central moment 30 f Mu21 LREAL Central moment 21 f Mu12 LREAL Central moment 12 f Mu03 LREAL Central moment 03 f Nu20 LREAL Normalized central moment 20 f Nu11 LREAL Normalized central moment 11 f Nu02 LREAL Normalized central moment 02 f Nu30 LREAL Normalized central moment 30 f Nu21 LREAL Normalized central moment 21 f Nu12 LREAL Normalized central moment 12 f Nu03 LREAL Normalized central moment 03 6.1.2.5.14 Tc Vn Params AGAST Offers parameters for AGAST method. Syntax Definition: TYPE Tc Vn Params AGAST : STRUCT n Threshold : DINT; b Non Max Suppression : BOOL; e Type : ETc Vn Keypoint Detection Type AGAST; END_STRUCT END_TYPE TF7000 - TF7810 Version: 2.4.0 239
## Page 240

API reference Parameters Name Type Default Description n Threshold DINT 10 Threshold for the intensity difference between the center pixel and its surrounding circle b Non Max Suppression BOOL TRUE If true, non-maximum suppression is applied. e Type TCVN_KDT_AGAST_9_1 Neighborhood type ETc Vn Keypoint Detection T 6 ype AGAST [} 210] 6.1.2.5.15 Tc Vn Params AKAZE Offers parameters for AKAZE method. Syntax Definition: TYPE Tc Vn Params AKAZE : STRUCT e Descr Type : ETc Vn Feature Descriptor Type AKAZE; n Descr Size : UDINT; n Descr Channels : UDINT; f Threshold : REAL; n Octaves : UDINT; n Octave Layers : UDINT; e Diffusivity : ETc Vn Diffusivity Type KAZE; END_STRUCT END_TYPE Parameters Name Type Default Description e Descr Type TCVN_FDT_AKAZE_MLD Type of the descriptor ETc Vn Feature Descriptor Ty B pe AKAZE [} 205] n Descr Size UDINT 0 Size of the descriptor in bits (only for MLDB; 0 = full size) n Descr Channels UDINT 3 Number of descriptor channels (currently only 3 supported for MLDB) f Threshold REAL 0.001 Detector response threshold n Octaves UDINT 2 Maximum octave evolution n Octave Layers UDINT 1 Number of sublevels per scale level e Diffusivity ETc Vn Diffusivity Type KAZE TCVN_DT1_KAZE_PM_G Diffusivity type 2 [} 198] 6.1.2.5.16 Tc Vn Params Blob Detection Offers parameters for blob detection Syntax Definition: 240 Version: 2.4.0 TF7000 - TF7810
## Page 241

API reference TYPE Tc Vn Params Blob Detection : STRUCT b Filter By Area : BOOL; b Filter By Circularity : BOOL; b Filter By Convexity : BOOL; b Filter By Eccentricity : BOOL; b Filter By Inertia Ratio : BOOL; f Min Area : REAL; f Max Area : REAL; f Min Circularity : REAL; f Max Circularity : REAL; f Min Convexity : REAL; f Max Convexity : REAL; f Min Eccentricity : REAL; f Max Eccentricity : REAL; f Min Inertia Ratio : REAL; f Max Inertia Ratio : REAL; e Threshold Type : ETc Vn Threshold Type; f Min Threshold : REAL; f Max Threshold : REAL; f Threshold Step : REAL; f Min Blob Distance : REAL; n Min Repeatability : UDINT; e Blob Combination : ETc Vn Blob Combination; b Exclude Border Blobs : BOOL; END_STRUCT END_TYPE TF7000 - TF7810 Version: 2.4.0 241
## Page 242

API reference Parameters 242 Version: 2.4.0 TF7000 - TF7810
## Page 243

API reference Name Type Default Description b Filter By Area BOOL TRUE Enable filtering by area (f Min Area <= area <= f Max Area); strongly recommended to activate for filtering noise with f Min Area. b Filter By Circularity BOOL FALSE Enable filtering by circularity (f Min Circularity <= circularity(4pi * area / perimeter^2) <= f Max Circularity). b Filter By Convexity BOOL FALSE Enable filtering by convexity (f Min Convexity <= convexity(area / hull Area) <= f Max Convexity). b Filter By Eccentricity BOOL FALSE Enable filtering by eccentricity (f Min Eccentricity <= eccentricity <= f Max Eccentricity). b Filter By Inertia Ratio BOOL FALSE Enable filtering by inertia ratio (f Min Inertia Ratio <= inertia ratio <= f Max Inertia Ratio). f Min Area REAL 10 Min estimated blob area in pixel f Max Area REAL 100000000 Max estimated blob area in pixel f Min Circularity REAL 0 Min circularity (1.0: ideal circle, < 1: less circular, 0: not circular at all) f Max Circularity REAL 1 Max circularity (1.0: ideal circle, < 1: less circular, 0: not circular at all) f Min Convexity REAL 0 Min convexity (1.0: blob fully convex, < 1: less convex) f Max Convexity REAL 1 Max convexity (1.0: blob fully convex, < 1: less convex) f Min Eccentricity REAL 0 Min eccentricity (0.0: circular, 1.0: linear) f Max Eccentricity REAL 1 Max eccentricity (0.0: circular, 1.0: linear) f Min Inertia Ratio REAL 0 Min inertia ratio (1.0: equal width and height, 0.0: linear) f Max Inertia Ratio REAL 1 Max inertia ratio (1.0: equal width and height, 0.0: linear) e Threshold Type ETc Vn Threshold Type TCVN_TT_BINARY Threshold type for internally applied [} 224] threshold method (OTSU_XXX only supported for USINT images). TF7000 - TF7810 Version: 2.4.0 243
## Page 244

API reference Name Type Default Description f Min Threshold REAL 30 Threshold to start with (if f Threshold Step > 0, otherwise this is the only threshold used). f Max Threshold REAL 225 Threshold to end with (if f Threshold Step > 0, otherwise this value is not used). f Threshold Step REAL 0 Sets to 0 if only 1 threshold should be used (much faster than multiple thresholds and combining the results). f Min Blob Distance REAL 5 Minimum distance between the center points of two different blobs (only used if f Threshold Step > 0; if distance < f Min Blob Distance, the blobs are treated as the same). n Min Repeatability UDINT 2 Minimum number of threshold steps, for which the same contour has to be detected (only used if f Threshold Step > 0; same means center point distance < f Min Blob Distance). e Blob Combination ETc Vn Blob Combination TCVN_BC_MEDIAN_THR Selects, which of the ESHOLD multi-threshold blob [} 168] contours should be returned. b Exclude Border Blobs BOOL FALSE If true, blobs touching the image border are excluded from the results. 6.1.2.5.17 Tc Vn Params BRISK Offers parameters for BRISK method. Syntax Definition: TYPE Tc Vn Params BRISK : STRUCT n Threshold : DINT; n Octaves : UDINT; f Pattern Scale : REAL; END_STRUCT END_TYPE 244 Version: 2.4.0 TF7000 - TF7810
## Page 245

API reference Parameters Name Type Default Description n Threshold DINT 30 Detection threshold n Octaves UDINT 3 Detection octaves (0 for single scale) f Pattern Scale REAL 1 Scale factor for the neighborhood pattern 6.1.2.5.18 Tc Vn Params FAST Offers parameters for FAST method. Syntax Definition: TYPE Tc Vn Params FAST : STRUCT n Threshold : DINT; b Non Max Suppression : BOOL; e Type : ETc Vn Keypoint Detection Type FAST; END_STRUCT END_TYPE Parameters Name Type Default Description n Threshold DINT 10 Threshold for the intensity difference between the center pixel and its surrounding circle b Non Max Suppression BOOL TRUE If true, non-maximum suppression is applied. e Type TCVN_KDT_FAST_9_16 Neighborhood type ETc Vn Keypoint Detection T ype FAST [} 210] 6.1.2.5.19 Tc Vn Params GFTT Offers parameters for GFTT method. Syntax Definition: TYPE Tc Vn Params GFTT : STRUCT n Max Corners : UDINT; f Quality Level : LREAL; f Min Distance : LREAL; n Block Size : UDINT; b Use Harris Detector : BOOL; f Harris K : LREAL; END_STRUCT END_TYPE TF7000 - TF7810 Version: 2.4.0 245
## Page 246

API reference Parameters Name Type Default Description n Max Corners UDINT 1000 Maximum number of corners to return (strongest ones) f Quality Level LREAL 0.01 Minimum accepted corner quality, relative to the strongest one f Min Distance LREAL 1 Minimum euclidean distance between returned keypoints n Block Size UDINT 3 Neighborhood block size b Use Harris Detector BOOL FALSE If true, a Harris detector is used instead of the default method. f Harris K LREAL 0.04 Free parameter of the Harris detector 6.1.2.5.20 Tc Vn Params KAZE Offers parameters for KAZE method Syntax Definition: TYPE Tc Vn Params KAZE : STRUCT b Extended : BOOL; b Upright : BOOL; f Threshold : REAL; n Octaves : UDINT; n Octave Layers : UDINT; e Diffusivity : ETc Vn Diffusivity Type KAZE; END_STRUCT END_TYPE Parameters Name Type Default Description b Extended BOOL FALSE If true, the descriptor size is extended from the default 64 byte to 128 byte. b Upright BOOL FALSE If true, upright (rotation dependent) descriptors are computed. f Threshold REAL 0.001 Detector response threshold n Octaves UDINT 4 Maximum octave evolution of the image n Octave Layers UDINT 2 Number of sublevels per scale level e Diffusivity ETc Vn Diffusivity Type KAZE TCVN_DT1_KAZE_PM_G Diffusivity type 2 [} 198] 6.1.2.5.21 Tc Vn Params MSER Offers parameters for MSER method 246 Version: 2.4.0 TF7000 - TF7810
## Page 247

API reference Syntax Definition: TYPE Tc Vn Params MSER : STRUCT n Delta : DINT; n Min Area : UDINT; n Max Area : UDINT; f Max Variation : LREAL; f Min Diversity : LREAL; n Max Evolution : UDINT; f Area Threshold : LREAL; f Min Margin : LREAL; n Edge Blur Size : UDINT; END_STRUCT END_TYPE Parameters Name Type Default Description n Delta DINT 5 Delta for size comparison n Min Area UDINT 60 Minimum blob size n Max Area UDINT 14400 Maximum blob size f Max Variation LREAL 0.25 Maximum blob size variation f Min Diversity LREAL 0.2 Minimum MSER diversity n Max Evolution UDINT 200 Maximum evolution steps (only used for color images) f Area Threshold LREAL 1.01 Area threshold to cause re-initialization (only used for color images) f Min Margin LREAL 0.003 Minimum margin (only used for color images) n Edge Blur Size UDINT 5 Aperture size for edge bluring (only used for color images) 6.1.2.5.22 Tc Vn Params ORB Offers parameters for ORB method. Syntax Definition: TYPE Tc Vn Params ORB : STRUCT n Max Points : UDINT; f Pyramid Scale : REAL; n Pyramid Levels : UDINT; n Edge Threshold : UDINT; n First Level : UDINT; n Brief Points : UDINT; e Score Type : ETc Vn Feature Score Type ORB; n Patch Size : UDINT; n Fast Threshold : DINT; END_STRUCT END_TYPE TF7000 - TF7810 Version: 2.4.0 247
## Page 248

API reference Parameters Name Type Default Description n Max Points UDINT 500 Maximum number of returned keypoints f Pyramid Scale REAL 1.2 Pyramid decimation ratio (must be greater than 1, should be smaller than 2) n Pyramid Levels UDINT 8 Number of pyramid levels n Edge Threshold UDINT 31 Size of the border, where no features are detected (should match n Patch Size) n First Level UDINT 0 First pyramid level (currently, only 0 is supported) n Brief Points UDINT 2 Number of points to produce each BRIEF descriptor element (2, 3, 4) e Score Type TCVN_FST_ORB_HARRI Score type (HARRIS is ETc Vn Feature Score Type O S more stable but slightly slower than FAST) RB [} 206] n Patch Size UDINT 31 Patch size of the BRIEF descriptor n Fast Threshold DINT 20 Threshold for the FAST keypoint detection 6.1.2.5.23 Tc Vn Params SB Offers parameters for SB method (a simple blob detector with multiple thresholds). Syntax Definition: TYPE Tc Vn Params SB : STRUCT b Filter By Area : BOOL; b Filter By Circularity : BOOL; b Filter By Color : BOOL; b Filter By Convexity : BOOL; b Filter By Inertia : BOOL; f Min Area : REAL; f Max Area : REAL; f Min Circularity : REAL; f Max Circularity : REAL; n Blob Color : USINT; f Min Convexity : REAL; f Max Convexity : REAL; f Min Inertia Ratio : REAL; f Max Inertia Ratio : REAL; f Min Blob Dist : REAL; n Min Repeatability : UDINT; f Min Threshold : REAL; f Max Threshold : REAL; f Threshold Step : REAL; END_STRUCT END_TYPE 248 Version: 2.4.0 TF7000 - TF7810
## Page 249

API reference Parameters Name Type Default Description b Filter By Area BOOL TRUE Enable filtering by area (f Min Area <= area < f Max Area). b Filter By Circularity BOOL FALSE Enable filtering by circularity (f Min Circularity <= circularity(4pi * area / perimeter^2) < f Max Circularity). b Filter By Color BOOL FALSE Enable filtering by color (thresholded Color(0 or 255) = n Blob Color). b Filter By Convexity BOOL FALSE Enable filtering by convexity (f Min Convexity <= convexity(area / hull Area) < f Max Convexity). b Filter By Inertia BOOL FALSE Enable filtering by inertia ratio (f Min Inertia Ratio <= inertia ratio < f Max Inertia Ratio). f Min Area REAL 25 Min estimated blob area in pixel f Max Area REAL 15000 Max estimated blob area in pixel f Min Circularity REAL 0 Min circularity (1.0: ideal circle, < 1: less circular, 0: not circular at all) f Max Circularity REAL 1 Max circularity (1.0: ideal circle, < 1: less circular, 0: not circular at all) n Blob Color USINT 255 0 or 255 f Min Convexity REAL 0 Min convexity (1.0: blob fully convex, < 1: less convex) f Max Convexity REAL 1 Max convexity (1.0: blob fully convex, < 1: less convex) f Min Inertia Ratio REAL 0 Min inertia ratio (0.0 .. 1.0) f Max Inertia Ratio REAL 1 Max inertia ratio (0.0 .. 1.0) f Min Blob Dist REAL 5 Min distance between different blobs n Min Repeatability UDINT 2 Min number of same detected blobs (dist < f Min Blob Dist) in different thresholds f Min Threshold REAL 30 Min threshold (start) f Max Threshold REAL 225 Max threshold (stop) f Threshold Step REAL 10 Threshold step between min and max threshold 6.1.2.5.24 Tc Vn Pixel Format Contains detailed information about the pixel format. TF7000 - TF7810 Version: 2.4.0 249
## Page 250

API reference Syntax Definition: TYPE Tc Vn Pixel Format : STRUCT b Supported : BIT; b Signed : BIT; b Planar : BIT; b Float : BIT; n Channels : BYTE; e Pixel Encoding : ETc Vn Pixel Encoding; e Pixel Pack Mode : ETc Vn Pixel Pack Mode; n Element Size : UINT; n Total Size : UINT; END_STRUCT END_TYPE Parameters Name Type Description b Supported BIT If false, the pixel format is not supported. b Signed BIT If true, pixel intensities are signed values. b Planar BIT If true, the image channels are stored planar instead of interleaved (e.g. RRRRRGGGGGBBBBB instead of RGBRGBRGBRGBRGB). b Float BIT If true, the pixel format is floating point. n Channels BYTE Number of channels e Pixel Encoding ETc Vn Pixel Encoding [} 217] Pixel encoding e Pixel Pack Mode ETc Vn Pixel Pack Mode [} 217] Pixel pack mode n Element Size UINT Size (bit) of a single pixel channel n Total Size UINT Size (bit) of all pixel channels 6.1.2.5.25 Tc Vn Rectangle_DINT Contains origin and size of a rectangle. Syntax Definition: TYPE Tc Vn Rectangle_DINT : STRUCT n X : DINT; n Y : DINT; n Width : DINT; n Height : DINT; END_STRUCT END_TYPE Parameters Name Type Description n X DINT X coordinate of the top-left corner n Y DINT Y coordinate of the top-left corner n Width DINT Width n Height DINT Height 250 Version: 2.4.0 TF7000 - TF7810
## Page 251

API reference 6.1.2.5.26 Tc Vn Rectangle_UDINT Contains origin and size of a rectangle. Syntax Definition: TYPE Tc Vn Rectangle_UDINT : STRUCT n X : UDINT; n Y : UDINT; n Width : UDINT; n Height : UDINT; END_STRUCT END_TYPE Parameters Name Type Description n X UDINT X coordinate of the top-left corner n Y UDINT Y coordinate of the top-left corner n Width UDINT Width n Height UDINT Height 6.1.2.5.27 Tc Vn Rotated Rectangle Contains center, size and angle of a rotated rectangle. Syntax Definition: TYPE Tc Vn Rotated Rectangle : STRUCT a Center : Tc Vn Point2_REAL; st Size : Tc Vn Size2_REAL; f Angle : REAL; END_STRUCT END_TYPE Parameters Name Type Description a Center Tc Vn Point2_REAL [} 163] Center point st Size Tc Vn Size2_REAL [} 251] Size composed of f Width and f Height f Angle REAL Angle in degree 6.1.2.5.28 Tc Vn Size2_REAL Contains width and height. Syntax Definition: TYPE Tc Vn Size2_REAL : STRUCT f Width : REAL; f Height : REAL; END_STRUCT END_TYPE TF7000 - TF7810 Version: 2.4.0 251
## Page 252

API reference Parameters Name Type Description f Width REAL Width f Height REAL Height 6.1.3 Interfaces Interfaces do not require a license. Grouping of interfaces All interfaces of the Twin CAT Vision library are sorted thematically into the following groups: • Images [} 380] () • Container [} 252] () • Machine Learning [} 420] () • Miscellaneous [} 424] () 6.1.3.1 Containers This group contains interfaces for handling containers [} 155]. General information A container is basically a vector of several elements. The number of elements can be changed dynamically. The corresponding memory in the router memory [} 55] is automatically allocated and released for this purpose. Container types All elements of a container have the same type. Containers are characterized by a unique GUID based on the type of elements they contain. For ease of use, these GUIDs are defined by constants [} 163]. All type designations for containers begin with "Container Type_Vector_" (with the exception of "Container Type_String_SINT“). Type requirements are documented for all API elements that make use of containers. The container type can be determined as follows: ip Container. Get Element Type Guid(n Type Guid); 6.1.3.1.1 Function Blocks This group contains interfaces for the implementation of certain function blocks. 6.1.3.1.1.1 ITc Vn Custom Container Operation_ITc Vn Container Offers an interface for custom, elementwise container operations (for containers of containers) with up to 3 different containers. Inheritance Hierarchy ITc Vn Custom Container Operation_ITc Vn Container 252 Version: 2.4.0 TF7000 - TF7810
## Page 253

API reference Methods Name Origin Description Execute [} 253] ITc Vn Custom Container Op Executes the custom operation on the container eration_ITc Vn Container elements. Related functions • F_VN_Custom Element Wise Container Operation_ITc Vn Container [} 958] System Requirements 6.1.3.1.1.1.1 Execute Execute ip Element1 ITc Vn Container HRESULT Execute ip Element2 ITc Vn Container ip Element3 ITc Vn Container Executes the custom operation on the container elements. Syntax Definition: METHOD Execute : HRESULT VAR_INPUT ip Element1 : ITc Vn Container; ip Element2 : ITc Vn Container; ip Element3 : ITc Vn Container; END_VAR Inputs Name Type Description ip Element1 ITc Vn Container [} 374] Current element of the 1st container. ip Element2 ITc Vn Container [} 374] Current element of the 2nd container. ip Element3 ITc Vn Container [} 374] Current element of the 3rd container. Return value HRESULT [} 144] 6.1.3.1.1.2 ITc Vn Custom Container Operation_ITc Vn Forward Iterator Offers an interface for custom, elementwise container operations with up to 3 different containers. Inheritance Hierarchy ITc Vn Custom Container Operation_ITc Vn Forward Iterator Methods Name Origin Description Execute [} 254] ITc Vn Custom Container Op Executes the custom operation on the container eration_ITc Vn Forward Iter elements. ator TF7000 - TF7810 Version: 2.4.0 253
## Page 254

API reference Related functions • F_VN_Custom Element Wise Container Operation_ITc Vn Forward Iterator [} 959] System Requirements 6.1.3.1.1.2.1 Execute Execute ip Element1 ITc Vn Forward Iterator HRESULT Execute ip Element2 ITc Vn Forward Iterator ip Element3 ITc Vn Forward Iterator Executes the custom operation on the container elements. Syntax Definition: METHOD Execute : HRESULT VAR_INPUT ip Element1 : ITc Vn Forward Iterator; ip Element2 : ITc Vn Forward Iterator; ip Element3 : ITc Vn Forward Iterator; END_VAR Inputs Name Type Description ip Element1 ITc Vn Forward Iterator Current element of the 1st container. [} 365] ip Element2 ITc Vn Forward Iterator Current element of the 2nd container. [} 365] ip Element3 ITc Vn Forward Iterator Current element of the 3rd container. [} 365] Return value HRESULT [} 144] 6.1.3.1.1.3 ITc Vn Custom Element Condition_ITc Vn Container Offers an interface for a custom condition computed for a container. Inheritance Hierarchy ITc Vn Custom Element Condition_ITc Vn Container Methods Name Origin Description Condition [} 255] ITc Vn Custom Element Con Evaluates the condition for the container. dition_ITc Vn Container Related functions • F_VN_Copy Container Elements Conditional_ITc Vn Container [} 735] 254 Version: 2.4.0 TF7000 - TF7810
## Page 255

API reference Samples • Selections of container elements [} 2734] System Requirements 6.1.3.1.1.3.1 Condition Condition ip Element ITc Vn Container BOOL Condition Evaluates the condition for the container. Syntax Definition: METHOD Condition : BOOL VAR_INPUT ip Element : ITc Vn Container; END_VAR Inputs Name Type Description ip Element ITc Vn Container [} 374] The container for which the condition is evaluated. Return value BOOL 6.1.3.1.1.4 ITc Vn Custom Element Condition_ITc Vn Forward Iterator Offers an interface for a custom condition computed for an element represented by an ITc Vn Forward Iterator. Inheritance Hierarchy ITc Vn Custom Element Condition_ITc Vn Forward Iterator Methods Name Origin Description Condition [} 256] ITc Vn Custom Element Con Evaluates the condition for the provided element. dition_ITc Vn Forward Iterat or Related functions • F_VN_Copy Container Elements Conditional_ITc Vn Forward Iterator [} 736] Samples • Selections of container elements [} 2734] TF7000 - TF7810 Version: 2.4.0 255
## Page 256

API reference System Requirements 6.1.3.1.1.4.1 Condition Condition ip Element ITc Vn Forward Iterator BOOL Condition Evaluates the condition for the provided element. Syntax Definition: METHOD Condition : BOOL VAR_INPUT ip Element : ITc Vn Forward Iterator; END_VAR Inputs Name Type Description ip Element ITc Vn Forward Iterator Element for which the condition is evaluated. [} 365] Return value BOOL 6.1.3.1.2 ITc Vn Access The interface ITc Vn Access is for accessing elements of a container [} 156] and is provided by an iterator [} 364]. Unlike ITc Vn Random Access [} 306], only that element to which the associated iterator is pointing in that moment can be addressed. 6.1.3.1.2.1 ITc Vn Access_DINT Offers an access interface for DINT values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_DINT Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 257] ITc Vn Access_DINT Gets the value Set [} 257] ITc Vn Access_DINT Sets the value 256 Version: 2.4.0 TF7000 - TF7810
## Page 257

API reference System Requirements 6.1.3.1.2.1.1 Get Get n Value Reference To DINT HRESULT Get Gets the value Syntax Definition: METHOD Get : HRESULT VAR_INPUT n Value : Reference To DINT; END_VAR Inputs Name Type Description n Value Reference To DINT Returns the value Return value HRESULT [} 144] 6.1.3.1.2.1.2 Set Set n Value DINT HRESULT Set Sets the value Syntax Definition: METHOD Set : HRESULT VAR_INPUT n Value : DINT; END_VAR Inputs Name Type Description n Value DINT The value to set Return value HRESULT [} 144] 6.1.3.1.2.2 ITc Vn Access_INT Offers an access interface for INT values. TF7000 - TF7810 Version: 2.4.0 257
## Page 258

API reference Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_INT Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 258] ITc Vn Access_INT Gets the value Set [} 258] ITc Vn Access_INT Sets the value System Requirements 6.1.3.1.2.2.1 Get Get n Value Reference To INT HRESULT Get Gets the value Syntax Definition: METHOD Get : HRESULT VAR_INPUT n Value : Reference To INT; END_VAR Inputs Name Type Description n Value Reference To INT Returns the value Return value HRESULT [} 144] 6.1.3.1.2.2.2 Set Set n Value INT HRESULT Set Sets the value Syntax Definition: METHOD Set : HRESULT VAR_INPUT n Value : INT; END_VAR 258 Version: 2.4.0 TF7000 - TF7810
## Page 259

API reference Inputs Name Type Description n Value INT The value to set Return value HRESULT [} 144] 6.1.3.1.2.3 ITc Vn Access_ITc Vn Image Offers an access interface for images. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_ITc Vn Image Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 259] ITc Vn Access_ITc Vn Imag Gets the image. e Set [} 260] ITc Vn Access_ITc Vn Imag Sets the image. e System Requirements 6.1.3.1.2.3.1 Get Get ip Image Reference To ITc Vn Image HRESULT Get Gets the image. Syntax Definition: METHOD Get : HRESULT VAR_INPUT ip Image : Reference To ITc Vn Image; END_VAR Inputs Name Type Description ip Image Reference To Returns the image. ITc Vn Image [} 413] Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 259
## Page 260

API reference 6.1.3.1.2.3.2 Set Set ip Image ITc Vn Image HRESULT Set Sets the image. Syntax Definition: METHOD Set : HRESULT VAR_INPUT ip Image : ITc Vn Image; END_VAR Inputs Name Type Description ip Image ITc Vn Image [} 413] The image to set. Return value HRESULT [} 144] 6.1.3.1.2.4 ITc Vn Access_LREAL Offers an access interface for LREAL values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_LREAL Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 260] ITc Vn Access_LREAL Gets the value Set [} 261] ITc Vn Access_LREAL Sets the value System Requirements 6.1.3.1.2.4.1 Get Get f Value Reference To LREAL HRESULT Get Gets the value Syntax Definition: 260 Version: 2.4.0 TF7000 - TF7810
## Page 261

API reference METHOD Get : HRESULT VAR_INPUT f Value : Reference To LREAL; END_VAR Inputs Name Type Description f Value Reference To LREAL Returns the value Return value HRESULT [} 144] 6.1.3.1.2.4.2 Set Set f Value LREAL HRESULT Set Sets the value Syntax Definition: METHOD Set : HRESULT VAR_INPUT f Value : LREAL; END_VAR Inputs Name Type Description f Value LREAL The value to set Return value HRESULT [} 144] 6.1.3.1.2.5 ITc Vn Access_REAL Offers an access interface for REAL values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_REAL Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 262] ITc Vn Access_REAL Gets the value Set [} 262] ITc Vn Access_REAL Sets the value TF7000 - TF7810 Version: 2.4.0 261
## Page 262

API reference System Requirements 6.1.3.1.2.5.1 Get Get f Value Reference To REAL HRESULT Get Gets the value Syntax Definition: METHOD Get : HRESULT VAR_INPUT f Value : Reference To REAL; END_VAR Inputs Name Type Description f Value Reference To REAL Returns the value Return value HRESULT [} 144] 6.1.3.1.2.5.2 Set Set f Value REAL HRESULT Set Sets the value Syntax Definition: METHOD Set : HRESULT VAR_INPUT f Value : REAL; END_VAR Inputs Name Type Description f Value REAL The value to set Return value HRESULT [} 144] 6.1.3.1.2.6 ITc Vn Access_SINT Offers an access interface for SINT values. 262 Version: 2.4.0 TF7000 - TF7810
## Page 263

API reference Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_SINT Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 263] ITc Vn Access_SINT Gets the value Set [} 263] ITc Vn Access_SINT Sets the value System Requirements 6.1.3.1.2.6.1 Get Get n Value Reference To SINT HRESULT Get Gets the value Syntax Definition: METHOD Get : HRESULT VAR_INPUT n Value : Reference To SINT; END_VAR Inputs Name Type Description n Value Reference To SINT Returns the value Return value HRESULT [} 144] 6.1.3.1.2.6.2 Set Set n Value SINT HRESULT Set Sets the value Syntax Definition: METHOD Set : HRESULT VAR_INPUT n Value : SINT; END_VAR TF7000 - TF7810 Version: 2.4.0 263
## Page 264

API reference Inputs Name Type Description n Value SINT The value to set Return value HRESULT [} 144] 6.1.3.1.2.7 ITc Vn Access_Tc Vn DMatch Offers an access interface for Tc Vn DMatch values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn DMatch Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 264] ITc Vn Access_Tc Vn DMatc Gets the value h Set [} 265] ITc Vn Access_Tc Vn DMatc Sets the value h System Requirements 6.1.3.1.2.7.1 Get Get st DMatch Reference To Tc Vn DMatch HRESULT Get Gets the value Syntax Definition: METHOD Get : HRESULT VAR_INPUT st DMatch : Reference To Tc Vn DMatch; END_VAR Inputs Name Type Description st DMatch Reference To Returns the value Tc Vn DMatch [} 237] Return value HRESULT [} 144] 264 Version: 2.4.0 TF7000 - TF7810
## Page 265

API reference 6.1.3.1.2.7.2 Set Set st DMatch Reference To Tc Vn DMatch HRESULT Set Sets the value Syntax Definition: METHOD Set : HRESULT VAR_INPUT st DMatch : Reference To Tc Vn DMatch; END_VAR Inputs Name Type Description st DMatch Reference To The value to set Tc Vn DMatch [} 237] Return value HRESULT [} 144] 6.1.3.1.2.8 ITc Vn Access_Tc Vn Key Point Offers an access interface for Tc Vn Key Point values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Key Point Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 265] ITc Vn Access_Tc Vn Key Po Gets the value. int Set [} 266] ITc Vn Access_Tc Vn Key Po Sets the value. int System Requirements 6.1.3.1.2.8.1 Get Get st Key Point Reference To Tc Vn Key Point HRESULT Get Gets the value. TF7000 - TF7810 Version: 2.4.0 265
## Page 266

API reference Syntax Definition: METHOD Get : HRESULT VAR_INPUT st Key Point : Reference To Tc Vn Key Point; END_VAR Inputs Name Type Description st Key Point Reference To Returns the value. Tc Vn Key Point [} 237] Return value HRESULT [} 144] 6.1.3.1.2.8.2 Set Set st Key Point Reference To Tc Vn Key Point HRESULT Set Sets the value. Syntax Definition: METHOD Set : HRESULT VAR_INPUT st Key Point : Reference To Tc Vn Key Point; END_VAR Inputs Name Type Description st Key Point Reference To The value to set. Tc Vn Key Point [} 237] Return value HRESULT [} 144] 6.1.3.1.2.9 ITc Vn Access_Tc Vn Point2_DINT Offers an access interface for Tc Vn Point2_DINT values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Point2_DINT 266 Version: 2.4.0 TF7000 - TF7810
## Page 267

API reference Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 267] ITc Vn Access_Tc Vn Point2 Gets the value. _DINT Set [} 267] ITc Vn Access_Tc Vn Point2 Sets the value. _DINT System Requirements 6.1.3.1.2.9.1 Get Get a Point Reference To Tc Vn Point2_DINT HRESULT Get Gets the value. Syntax Definition: METHOD Get : HRESULT VAR_INPUT a Point : Reference To Tc Vn Point2_DINT; END_VAR Inputs Name Type Description a Point Reference To Returns the value. Tc Vn Point2_DINT [} 163] Return value HRESULT [} 144] 6.1.3.1.2.9.2 Set Set a Point Reference To Tc Vn Point2_DINT HRESULT Set Sets the value. Syntax Definition: METHOD Set : HRESULT VAR_INPUT a Point : Reference To Tc Vn Point2_DINT; END_VAR TF7000 - TF7810 Version: 2.4.0 267
## Page 268

API reference Inputs Name Type Description a Point Reference To The value to set. Tc Vn Point2_DINT [} 163] Return value HRESULT [} 144] 6.1.3.1.2.10 ITc Vn Access_Tc Vn Point2_LREAL Offers an access interface for Tc Vn Point2_LREAL values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Point2_LREAL Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 268] ITc Vn Access_Tc Vn Point2 Gets the value _LREAL Set [} 269] ITc Vn Access_Tc Vn Point2 Sets the value _LREAL System Requirements 6.1.3.1.2.10.1 Get Get a Point Reference To Tc Vn Point2_LREAL HRESULT Get Gets the value Syntax Definition: METHOD Get : HRESULT VAR_INPUT a Point : Reference To Tc Vn Point2_LREAL; END_VAR Inputs Name Type Description a Point Reference To Returns the value Tc Vn Point2_LREAL [} 163] 268 Version: 2.4.0 TF7000 - TF7810
## Page 269

API reference Return value HRESULT [} 144] 6.1.3.1.2.10.2 Set Set a Point Reference To Tc Vn Point2_LREAL HRESULT Set Sets the value Syntax Definition: METHOD Set : HRESULT VAR_INPUT a Point : Reference To Tc Vn Point2_LREAL; END_VAR Inputs Name Type Description a Point Reference To The value to set Tc Vn Point2_LREAL [} 163] Return value HRESULT [} 144] 6.1.3.1.2.11 ITc Vn Access_Tc Vn Point2_REAL Offers an access interface for Tc Vn Point2_REAL values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Point2_REAL Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 270] ITc Vn Access_Tc Vn Point2 Gets the value _REAL Set [} 270] ITc Vn Access_Tc Vn Point2 Sets the value _REAL TF7000 - TF7810 Version: 2.4.0 269
## Page 270

API reference System Requirements 6.1.3.1.2.11.1 Get Get a Point Reference To Tc Vn Point2_REAL HRESULT Get Gets the value Syntax Definition: METHOD Get : HRESULT VAR_INPUT a Point : Reference To Tc Vn Point2_REAL; END_VAR Inputs Name Type Description a Point Reference To Returns the value Tc Vn Point2_REAL [} 163] Return value HRESULT [} 144] 6.1.3.1.2.11.2 Set Set a Point Reference To Tc Vn Point2_REAL HRESULT Set Sets the value Syntax Definition: METHOD Set : HRESULT VAR_INPUT a Point : Reference To Tc Vn Point2_REAL; END_VAR Inputs Name Type Description a Point Reference To The value to set Tc Vn Point2_REAL [} 163] Return value HRESULT [} 144] 6.1.3.1.2.12 ITc Vn Access_Tc Vn Point3_LREAL Offers an access interface for Tc Vn Point3_LREAL values. 270 Version: 2.4.0 TF7000 - TF7810
## Page 271

API reference Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Point3_LREAL Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 271] ITc Vn Access_Tc Vn Point3 Gets the value _LREAL Set [} 271] ITc Vn Access_Tc Vn Point3 Sets the value _LREAL System Requirements 6.1.3.1.2.12.1 Get Get a Point Reference To Tc Vn Point3_LREAL HRESULT Get Gets the value Syntax Definition: METHOD Get : HRESULT VAR_INPUT a Point : Reference To Tc Vn Point3_LREAL; END_VAR Inputs Name Type Description a Point Reference To Returns the value Tc Vn Point3_LREAL [} 163] Return value HRESULT [} 144] 6.1.3.1.2.12.2 Set Set a Point Reference To Tc Vn Point3_LREAL HRESULT Set Sets the value Syntax Definition: TF7000 - TF7810 Version: 2.4.0 271
## Page 272

API reference METHOD Set : HRESULT VAR_INPUT a Point : Reference To Tc Vn Point3_LREAL; END_VAR Inputs Name Type Description a Point Reference To The value to set Tc Vn Point3_LREAL [} 163] Return value HRESULT [} 144] 6.1.3.1.2.13 ITc Vn Access_Tc Vn Point3_REAL Offers an access interface for Tc Vn Point3_REAL values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Point3_REAL Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 272] ITc Vn Access_Tc Vn Point3 Gets the value _REAL Set [} 273] ITc Vn Access_Tc Vn Point3 Sets the value _REAL System Requirements 6.1.3.1.2.13.1 Get Get a Point Reference To Tc Vn Point3_REAL HRESULT Get Gets the value Syntax Definition: METHOD Get : HRESULT VAR_INPUT a Point : Reference To Tc Vn Point3_REAL; END_VAR 272 Version: 2.4.0 TF7000 - TF7810
## Page 273

API reference Inputs Name Type Description a Point Reference To Returns the value Tc Vn Point3_REAL [} 163] Return value HRESULT [} 144] 6.1.3.1.2.13.2 Set Set a Point Reference To Tc Vn Point3_REAL HRESULT Set Sets the value Syntax Definition: METHOD Set : HRESULT VAR_INPUT a Point : Reference To Tc Vn Point3_REAL; END_VAR Inputs Name Type Description a Point Reference To The value to set Tc Vn Point3_REAL [} 163] Return value HRESULT [} 144] 6.1.3.1.2.14 ITc Vn Access_Tc Vn Rectangle_DINT Offers an access interface for Tc Vn Rectangle_DINT values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Rectangle_DINT Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 274] ITc Vn Access_Tc Vn Recta Gets the value ngle_DINT Set [} 274] ITc Vn Access_Tc Vn Recta Sets the value ngle_DINT TF7000 - TF7810 Version: 2.4.0 273
## Page 274

API reference System Requirements 6.1.3.1.2.14.1 Get Get st Rectangle Reference To Tc Vn Rectangle_DINTHRESULT Get Gets the value Syntax Definition: METHOD Get : HRESULT VAR_INPUT st Rectangle : Reference To Tc Vn Rectangle_DINT; END_VAR Inputs Name Type Description st Rectangle Reference To Returns the value Tc Vn Rectangle_DINT [} 250] Return value HRESULT [} 144] 6.1.3.1.2.14.2 Set Set st Rectangle Reference To Tc Vn Rectangle_DINTHRESULT Set Sets the value Syntax Definition: METHOD Set : HRESULT VAR_INPUT st Rectangle : Reference To Tc Vn Rectangle_DINT; END_VAR Inputs Name Type Description st Rectangle Reference To The value to set Tc Vn Rectangle_DINT [} 250] Return value HRESULT [} 144] 274 Version: 2.4.0 TF7000 - TF7810
## Page 275

API reference 6.1.3.1.2.15 ITc Vn Access_Tc Vn Vector2_DINT Offers an access interface for Tc Vn Vector2_DINT values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector2_DINT Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 275] ITc Vn Access_Tc Vn Vector Gets the value 2_DINT Set [} 275] ITc Vn Access_Tc Vn Vector Sets the value. 2_DINT System Requirements 6.1.3.1.2.15.1 Get Get a Vector Reference To Tc Vn Vector2_DINTHRESULT Get Gets the value Syntax Definition: METHOD Get : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector2_DINT; END_VAR Inputs Name Type Description a Vector Reference To Returns the value Tc Vn Vector2_DINT [} 165] Return value HRESULT [} 144] 6.1.3.1.2.15.2 Set Set a Vector Reference To Tc Vn Vector2_DINT HRESULT Set Sets the value. TF7000 - TF7810 Version: 2.4.0 275
## Page 276

API reference Syntax Definition: METHOD Set : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector2_DINT; END_VAR Inputs Name Type Description a Vector Reference To The value to set Tc Vn Vector2_DINT [} 165] Return value HRESULT [} 144] 6.1.3.1.2.16 ITc Vn Access_Tc Vn Vector2_INT Offers an access interface for Tc Vn Vector2_INT values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector2_INT Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 276] ITc Vn Access_Tc Vn Vector Gets the value 2_INT Set [} 277] ITc Vn Access_Tc Vn Vector Sets the value. 2_INT System Requirements 6.1.3.1.2.16.1 Get Get a Vector Reference To Tc Vn Vector2_INT HRESULT Get Gets the value Syntax Definition: METHOD Get : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector2_INT; END_VAR 276 Version: 2.4.0 TF7000 - TF7810
## Page 277

API reference Inputs Name Type Description a Vector Reference To Returns the value Tc Vn Vector2_INT [} 165] Return value HRESULT [} 144] 6.1.3.1.2.16.2 Set Set a Vector Reference To Tc Vn Vector2_INT HRESULT Set Sets the value. Syntax Definition: METHOD Set : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector2_INT; END_VAR Inputs Name Type Description a Vector Reference To The value to set Tc Vn Vector2_INT [} 165] Return value HRESULT [} 144] 6.1.3.1.2.17 ITc Vn Access_Tc Vn Vector2_REAL Offers an access interface for Tc Vn Vector2_REAL values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector2_REAL Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 278] ITc Vn Access_Tc Vn Vector Gets the value 2_REAL Set [} 278] ITc Vn Access_Tc Vn Vector Sets the value 2_REAL TF7000 - TF7810 Version: 2.4.0 277
## Page 278

API reference System Requirements 6.1.3.1.2.17.1 Get Get a Vector Reference To Tc Vn Vector2_REALHRESULT Get Gets the value Syntax Definition: METHOD Get : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector2_REAL; END_VAR Inputs Name Type Description a Vector Reference To Returns the value Tc Vn Vector2_REAL [} 165] Return value HRESULT [} 144] 6.1.3.1.2.17.2 Set Set a Vector Reference To Tc Vn Vector2_REAL HRESULT Set Sets the value Syntax Definition: METHOD Set : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector2_REAL; END_VAR Inputs Name Type Description a Vector Reference To The value to set Tc Vn Vector2_REAL [} 165] Return value HRESULT [} 144] 6.1.3.1.2.18 ITc Vn Access_Tc Vn Vector2_SINT Offers an access interface for Tc Vn Vector2_SINT values. 278 Version: 2.4.0 TF7000 - TF7810
## Page 279

API reference Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector2_SINT Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 279] ITc Vn Access_Tc Vn Vector Gets the value 2_SINT Set [} 279] ITc Vn Access_Tc Vn Vector Sets the value. 2_SINT System Requirements 6.1.3.1.2.18.1 Get Get a Vector Reference To Tc Vn Vector2_SINT HRESULT Get Gets the value Syntax Definition: METHOD Get : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector2_SINT; END_VAR Inputs Name Type Description a Vector Reference To Returns the value Tc Vn Vector2_SINT [} 165] Return value HRESULT [} 144] 6.1.3.1.2.18.2 Set Set a Vector Reference To Tc Vn Vector2_SINT HRESULT Set Sets the value. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 279
## Page 280

API reference METHOD Set : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector2_SINT; END_VAR Inputs Name Type Description a Vector Reference To The value to set Tc Vn Vector2_SINT [} 165] Return value HRESULT [} 144] 6.1.3.1.2.19 ITc Vn Access_Tc Vn Vector2_UINT Offers an access interface for Tc Vn Vector2_UINT values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector2_UINT Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 280] ITc Vn Access_Tc Vn Vector Gets the value 2_UINT Set [} 281] ITc Vn Access_Tc Vn Vector Sets the value. 2_UINT System Requirements 6.1.3.1.2.19.1 Get Get a Vector Reference To Tc Vn Vector2_UINTHRESULT Get Gets the value Syntax Definition: METHOD Get : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector2_UINT; END_VAR 280 Version: 2.4.0 TF7000 - TF7810
## Page 281

API reference Inputs Name Type Description a Vector Reference To Returns the value Tc Vn Vector2_UINT [} 165] Return value HRESULT [} 144] 6.1.3.1.2.19.2 Set Set a Vector Reference To Tc Vn Vector2_UINT HRESULT Set Sets the value. Syntax Definition: METHOD Set : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector2_UINT; END_VAR Inputs Name Type Description a Vector Reference To The value to set Tc Vn Vector2_UINT [} 165] Return value HRESULT [} 144] 6.1.3.1.2.20 ITc Vn Access_Tc Vn Vector2_USINT Offers an access interface for Tc Vn Vector2_USINT values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector2_USINT Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 282] ITc Vn Access_Tc Vn Vector Gets the value 2_USINT Set [} 282] ITc Vn Access_Tc Vn Vector Sets the value. 2_USINT TF7000 - TF7810 Version: 2.4.0 281
## Page 282

API reference System Requirements 6.1.3.1.2.20.1 Get Get a Vector Reference To Tc Vn Vector2_USINTHRESULT Get Gets the value Syntax Definition: METHOD Get : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector2_USINT; END_VAR Inputs Name Type Description a Vector Reference To Returns the value Tc Vn Vector2_USINT [} 165] Return value HRESULT [} 144] 6.1.3.1.2.20.2 Set Set a Vector Reference To Tc Vn Vector2_USINTHRESULT Set Sets the value. Syntax Definition: METHOD Set : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector2_USINT; END_VAR Inputs Name Type Description a Vector Reference To The value to set Tc Vn Vector2_USINT [} 165] Return value HRESULT [} 144] 282 Version: 2.4.0 TF7000 - TF7810
## Page 283

API reference 6.1.3.1.2.21 ITc Vn Access_Tc Vn Vector3_INT Offers an access interface for Tc Vn Vector3_INT values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector3_INT Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 283] ITc Vn Access_Tc Vn Vector Gets the value 3_INT Set [} 283] ITc Vn Access_Tc Vn Vector Sets the value 3_INT System Requirements 6.1.3.1.2.21.1 Get Get a Vector Reference To Tc Vn Vector3_INT HRESULT Get Gets the value Syntax Definition: METHOD Get : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector3_INT; END_VAR Inputs Name Type Description a Vector Reference To Returns the value Tc Vn Vector3_INT [} 165] Return value HRESULT [} 144] 6.1.3.1.2.21.2 Set Set a Vector Reference To Tc Vn Vector3_INT HRESULT Set Sets the value TF7000 - TF7810 Version: 2.4.0 283
## Page 284

API reference Syntax Definition: METHOD Set : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector3_INT; END_VAR Inputs Name Type Description a Vector Reference To The value to set Tc Vn Vector3_INT [} 165] Return value HRESULT [} 144] 6.1.3.1.2.22 ITc Vn Access_Tc Vn Vector3_REAL Offers an access interface for Tc Vn Vector3_REAL values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector3_REAL Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 284] ITc Vn Access_Tc Vn Vector Gets the value 3_REAL Set [} 285] ITc Vn Access_Tc Vn Vector Sets the value 3_REAL System Requirements 6.1.3.1.2.22.1 Get Get a Vector Reference To Tc Vn Vector3_REALHRESULT Get Gets the value Syntax Definition: METHOD Get : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector3_REAL; END_VAR 284 Version: 2.4.0 TF7000 - TF7810
## Page 285

API reference Inputs Name Type Description a Vector Reference To Returns the value Tc Vn Vector3_REAL [} 165] Return value HRESULT [} 144] 6.1.3.1.2.22.2 Set Set a Vector Reference To Tc Vn Vector3_REAL HRESULT Set Sets the value Syntax Definition: METHOD Set : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector3_REAL; END_VAR Inputs Name Type Description a Vector Reference To The value to set Tc Vn Vector3_REAL [} 165] Return value HRESULT [} 144] 6.1.3.1.2.23 ITc Vn Access_Tc Vn Vector3_SINT Offers an access interface for Tc Vn Vector3_SINT values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector3_SINT Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 286] ITc Vn Access_Tc Vn Vector Gets the value 3_SINT Set [} 286] ITc Vn Access_Tc Vn Vector Sets the value 3_SINT TF7000 - TF7810 Version: 2.4.0 285
## Page 286

API reference System Requirements 6.1.3.1.2.23.1 Get Get a Vector Reference To Tc Vn Vector3_SINT HRESULT Get Gets the value Syntax Definition: METHOD Get : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector3_SINT; END_VAR Inputs Name Type Description a Vector Reference To Returns the value Tc Vn Vector3_SINT [} 165] Return value HRESULT [} 144] 6.1.3.1.2.23.2 Set Set a Vector Reference To Tc Vn Vector3_SINT HRESULT Set Sets the value Syntax Definition: METHOD Set : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector3_SINT; END_VAR Inputs Name Type Description a Vector Reference To The value to set Tc Vn Vector3_SINT [} 165] Return value HRESULT [} 144] 6.1.3.1.2.24 ITc Vn Access_Tc Vn Vector3_UINT Offers an access interface for Tc Vn Vector3_UINT values. 286 Version: 2.4.0 TF7000 - TF7810
## Page 287

API reference Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector3_UINT Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 287] ITc Vn Access_Tc Vn Vector Gets the value 3_UINT Set [} 287] ITc Vn Access_Tc Vn Vector Sets the value 3_UINT System Requirements 6.1.3.1.2.24.1 Get Get a Vector Reference To Tc Vn Vector3_UINTHRESULT Get Gets the value Syntax Definition: METHOD Get : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector3_UINT; END_VAR Inputs Name Type Description a Vector Reference To Returns the value Tc Vn Vector3_UINT [} 165] Return value HRESULT [} 144] 6.1.3.1.2.24.2 Set Set a Vector Reference To Tc Vn Vector3_UINT HRESULT Set Sets the value Syntax Definition: TF7000 - TF7810 Version: 2.4.0 287
## Page 288

API reference METHOD Set : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector3_UINT; END_VAR Inputs Name Type Description a Vector Reference To The value to set Tc Vn Vector3_UINT [} 165] Return value HRESULT [} 144] 6.1.3.1.2.25 ITc Vn Access_Tc Vn Vector3_USINT Offers an access interface for Tc Vn Vector3_USINT values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector3_USINT Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 288] ITc Vn Access_Tc Vn Vector Gets the value 3_USINT Set [} 289] ITc Vn Access_Tc Vn Vector Sets the value 3_USINT System Requirements 6.1.3.1.2.25.1 Get Get a Vector Reference To Tc Vn Vector3_USINTHRESULT Get Gets the value Syntax Definition: METHOD Get : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector3_USINT; END_VAR 288 Version: 2.4.0 TF7000 - TF7810
## Page 289

API reference Inputs Name Type Description a Vector Reference To Returns the value Tc Vn Vector3_USINT [} 165] Return value HRESULT [} 144] 6.1.3.1.2.25.2 Set Set a Vector Reference To Tc Vn Vector3_USINTHRESULT Set Sets the value Syntax Definition: METHOD Set : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector3_USINT; END_VAR Inputs Name Type Description a Vector Reference To The value to set Tc Vn Vector3_USINT [} 165] Return value HRESULT [} 144] 6.1.3.1.2.26 ITc Vn Access_Tc Vn Vector4_DINT Offers an access interface for Tc Vn Vector4_DINT values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector4_DINT TF7000 - TF7810 Version: 2.4.0 289
## Page 290

API reference Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 290] ITc Vn Access_Tc Vn Vector Gets the value 4_DINT Set [} 290] ITc Vn Access_Tc Vn Vector Sets the value 4_DINT System Requirements 6.1.3.1.2.26.1 Get Get a Vector Reference To Tc Vn Vector4_DINTHRESULT Get Gets the value Syntax Definition: METHOD Get : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector4_DINT; END_VAR Inputs Name Type Description a Vector Reference To Returns the value Tc Vn Vector4_DINT [} 165] Return value HRESULT [} 144] 6.1.3.1.2.26.2 Set Set a Vector Reference To Tc Vn Vector4_DINT HRESULT Set Sets the value Syntax Definition: METHOD Set : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector4_DINT; END_VAR 290 Version: 2.4.0 TF7000 - TF7810
## Page 291

API reference Inputs Name Type Description a Vector Reference To The value to set Tc Vn Vector4_DINT [} 165] Return value HRESULT [} 144] 6.1.3.1.2.27 ITc Vn Access_Tc Vn Vector4_INT Offers an access interface for Tc Vn Vector4_INT values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector4_INT Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 291] ITc Vn Access_Tc Vn Vector Gets the value 4_INT Set [} 292] ITc Vn Access_Tc Vn Vector Sets the value 4_INT System Requirements 6.1.3.1.2.27.1 Get Get a Vector Reference To Tc Vn Vector4_INT HRESULT Get Gets the value Syntax Definition: METHOD Get : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector4_INT; END_VAR Inputs Name Type Description a Vector Reference To Returns the value Tc Vn Vector4_INT [} 165] TF7000 - TF7810 Version: 2.4.0 291
## Page 292

API reference Return value HRESULT [} 144] 6.1.3.1.2.27.2 Set Set a Vector Reference To Tc Vn Vector4_INT HRESULT Set Sets the value Syntax Definition: METHOD Set : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector4_INT; END_VAR Inputs Name Type Description a Vector Reference To The value to set Tc Vn Vector4_INT [} 165] Return value HRESULT [} 144] 6.1.3.1.2.28 ITc Vn Access_Tc Vn Vector4_LREAL Offers an access interface for Tc Vn Vector4_LREAL values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector4_LREAL Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 293] ITc Vn Access_Tc Vn Vector Gets the value 4_LREAL Set [} 293] ITc Vn Access_Tc Vn Vector Sets the value 4_LREAL 292 Version: 2.4.0 TF7000 - TF7810
## Page 293

API reference System Requirements 6.1.3.1.2.28.1 Get Get a Vector Reference To Tc Vn Vector4_LREALHRESULT Get Gets the value Syntax Definition: METHOD Get : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector4_LREAL; END_VAR Inputs Name Type Description a Vector Reference To Returns the value Tc Vn Vector4_LREAL [} 165] Return value HRESULT [} 144] 6.1.3.1.2.28.2 Set Set a Vector Reference To Tc Vn Vector4_LREALHRESULT Set Sets the value Syntax Definition: METHOD Set : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector4_LREAL; END_VAR Inputs Name Type Description a Vector Reference To The value to set Tc Vn Vector4_LREAL [} 165] Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 293
## Page 294

API reference 6.1.3.1.2.29 ITc Vn Access_Tc Vn Vector4_SINT Offers an access interface for Tc Vn Vector4_SINT values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector4_SINT Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 294] ITc Vn Access_Tc Vn Vector Gets the value 4_SINT Set [} 294] ITc Vn Access_Tc Vn Vector Sets the value 4_SINT System Requirements 6.1.3.1.2.29.1 Get Get a Vector Reference To Tc Vn Vector4_SINT HRESULT Get Gets the value Syntax Definition: METHOD Get : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector4_SINT; END_VAR Inputs Name Type Description a Vector Reference To Returns the value Tc Vn Vector4_SINT [} 165] Return value HRESULT [} 144] 6.1.3.1.2.29.2 Set Set a Vector Reference To Tc Vn Vector4_SINT HRESULT Set Sets the value 294 Version: 2.4.0 TF7000 - TF7810
## Page 295

API reference Syntax Definition: METHOD Set : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector4_SINT; END_VAR Inputs Name Type Description a Vector Reference To The value to set Tc Vn Vector4_SINT [} 165] Return value HRESULT [} 144] 6.1.3.1.2.30 ITc Vn Access_Tc Vn Vector4_UINT Offers an access interface for Tc Vn Vector4_UINT values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector4_UINT Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 295] ITc Vn Access_Tc Vn Vector Gets the value 4_UINT Set [} 296] ITc Vn Access_Tc Vn Vector Sets the value 4_UINT System Requirements 6.1.3.1.2.30.1 Get Get a Vector Reference To Tc Vn Vector4_UINTHRESULT Get Gets the value Syntax Definition: METHOD Get : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector4_UINT; END_VAR TF7000 - TF7810 Version: 2.4.0 295
## Page 296

API reference Inputs Name Type Description a Vector Reference To Returns the value Tc Vn Vector4_UINT [} 165] Return value HRESULT [} 144] 6.1.3.1.2.30.2 Set Set a Vector Reference To Tc Vn Vector4_UINT HRESULT Set Sets the value Syntax Definition: METHOD Set : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector4_UINT; END_VAR Inputs Name Type Description a Vector Reference To The value to set Tc Vn Vector4_UINT [} 165] Return value HRESULT [} 144] 6.1.3.1.2.31 ITc Vn Access_Tc Vn Vector4_USINT Offers an access interface for Tc Vn Vector4_USINT values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector4_USINT Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 297] ITc Vn Access_Tc Vn Vector Gets the value 4_USINT Set [} 297] ITc Vn Access_Tc Vn Vector Sets the value 4_USINT 296 Version: 2.4.0 TF7000 - TF7810
## Page 297

API reference System Requirements 6.1.3.1.2.31.1 Get Get a Vector Reference To Tc Vn Vector4_USINTHRESULT Get Gets the value Syntax Definition: METHOD Get : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector4_USINT; END_VAR Inputs Name Type Description a Vector Reference To Returns the value Tc Vn Vector4_USINT [} 165] Return value HRESULT [} 144] 6.1.3.1.2.31.2 Set Set a Vector Reference To Tc Vn Vector4_USINTHRESULT Set Sets the value Syntax Definition: METHOD Set : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector4_USINT; END_VAR Inputs Name Type Description a Vector Reference To The value to set Tc Vn Vector4_USINT [} 165] Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 297
## Page 298

API reference 6.1.3.1.2.32 ITc Vn Access_UDINT Offers an access interface for UDINT values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_UDINT Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 298] ITc Vn Access_UDINT Gets the value Set [} 298] ITc Vn Access_UDINT Sets the value System Requirements 6.1.3.1.2.32.1 Get Get n Value Reference To UDINT HRESULT Get Gets the value Syntax Definition: METHOD Get : HRESULT VAR_INPUT n Value : Reference To UDINT; END_VAR Inputs Name Type Description n Value Reference To UDINT Returns the value Return value HRESULT [} 144] 6.1.3.1.2.32.2 Set Set n Value UDINT HRESULT Set Sets the value Syntax Definition: 298 Version: 2.4.0 TF7000 - TF7810
## Page 299

API reference METHOD Set : HRESULT VAR_INPUT n Value : UDINT; END_VAR Inputs Name Type Description n Value UDINT The value to set Return value HRESULT [} 144] 6.1.3.1.2.33 ITc Vn Access_UINT Offers an access interface for UINT values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_UINT Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 299] ITc Vn Access_UINT Gets the value Set [} 300] ITc Vn Access_UINT Sets the value System Requirements 6.1.3.1.2.33.1 Get Get n Value Reference To UINT HRESULT Get Gets the value Syntax Definition: METHOD Get : HRESULT VAR_INPUT n Value : Reference To UINT; END_VAR Inputs Name Type Description n Value Reference To UINT Returns the value TF7000 - TF7810 Version: 2.4.0 299
## Page 300

API reference Return value HRESULT [} 144] 6.1.3.1.2.33.2 Set Set n Value UINT HRESULT Set Sets the value Syntax Definition: METHOD Set : HRESULT VAR_INPUT n Value : UINT; END_VAR Inputs Name Type Description n Value UINT The value to set Return value HRESULT [} 144] 6.1.3.1.2.34 ITc Vn Access_ULINT Offers an access interface for ULINT values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_ULINT Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 300] ITc Vn Access_ULINT Gets the value Set [} 301] ITc Vn Access_ULINT Sets the value System Requirements 6.1.3.1.2.34.1 Get Get n Value Reference To ULINT HRESULT Get Gets the value 300 Version: 2.4.0 TF7000 - TF7810
## Page 301

API reference Syntax Definition: METHOD Get : HRESULT VAR_INPUT n Value : Reference To ULINT; END_VAR Inputs Name Type Description n Value Reference To ULINT Returns the value Return value HRESULT [} 144] 6.1.3.1.2.34.2 Set Set n Value ULINT HRESULT Set Sets the value Syntax Definition: METHOD Set : HRESULT VAR_INPUT n Value : ULINT; END_VAR Inputs Name Type Description n Value ULINT The value to set Return value HRESULT [} 144] 6.1.3.1.2.35 ITc Vn Access_USINT Offers an access interface for USINT values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_USINT TF7000 - TF7810 Version: 2.4.0 301
## Page 302

API reference Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 302] ITc Vn Access_USINT Gets the value Set [} 302] ITc Vn Access_USINT Sets the value System Requirements 6.1.3.1.2.35.1 Get Get n Value Reference To USINT HRESULT Get Gets the value Syntax Definition: METHOD Get : HRESULT VAR_INPUT n Value : Reference To USINT; END_VAR Inputs Name Type Description n Value Reference To USINT Returns the value Return value HRESULT [} 144] 6.1.3.1.2.35.2 Set Set n Value USINT HRESULT Set Sets the value Syntax Definition: METHOD Set : HRESULT VAR_INPUT n Value : USINT; END_VAR Inputs Name Type Description n Value USINT The value to set 302 Version: 2.4.0 TF7000 - TF7810
## Page 303

API reference Return value HRESULT [} 144] 6.1.3.1.2.36 ITc Vn Access_Tc Vn Vector4_REAL Offers an access interface for Tc Vn Vector4_REAL values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector4_REAL Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 303] ITc Vn Access_Tc Vn Vector Gets the value 4_REAL Set [} 303] ITc Vn Access_Tc Vn Vector Sets the value 4_REAL System Requirements 6.1.3.1.2.36.1 Get Get a Vector Reference To Tc Vn Vector4_REALHRESULT Get Gets the value Syntax Definition: METHOD Get : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector4_REAL; END_VAR Inputs Name Type Description a Vector Reference To Returns the value Tc Vn Vector4_REAL [} 165] Return value HRESULT [} 144] 6.1.3.1.2.36.2 Set Set a Vector Reference To Tc Vn Vector4_REAL HRESULT Set TF7000 - TF7810 Version: 2.4.0 303
## Page 304

API reference Sets the value Syntax Definition: METHOD Set : HRESULT VAR_INPUT a Vector : Reference To Tc Vn Vector4_REAL; END_VAR Inputs Name Type Description a Vector Reference To The value to set Tc Vn Vector4_REAL [} 165] Return value HRESULT [} 144] 6.1.3.1.2.37 ITc Vn Access_Tc Vn Rotated Rectangle Offers an access interface for Tc Vn Rotated Rectangle values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Rotated Rectangle Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 304] ITc Vn Access_Tc Vn Rotate Gets the value d Rectangle Set [} 305] ITc Vn Access_Tc Vn Rotate Sets the value d Rectangle System Requirements 6.1.3.1.2.37.1 Get Get st Rectangle Reference To Tc Vn Rotated Rectangle HRESULT Get Gets the value Syntax Definition: METHOD Get : HRESULT VAR_INPUT st Rectangle : Reference To Tc Vn Rotated Rectangle; END_VAR 304 Version: 2.4.0 TF7000 - TF7810
## Page 305

API reference Inputs Name Type Description st Rectangle Reference To Returns the value Tc Vn Rotated Rectangle [} 251] Return value HRESULT [} 144] 6.1.3.1.2.37.2 Set Set st Rectangle Reference To Tc Vn Rotated Rectangle HRESULT Set Sets the value Syntax Definition: METHOD Set : HRESULT VAR_INPUT st Rectangle : Reference To Tc Vn Rotated Rectangle; END_VAR Inputs Name Type Description st Rectangle Reference To The value to set Tc Vn Rotated Rectangle [} 251] Return value HRESULT [} 144] 6.1.3.1.2.38 ITc Vn Access_Tc Vn Rotated Rectangle Offers an access interface for Tc Vn Rotated Rectangle values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Rotated Rectangle Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 306] ITc Vn Access_Tc Vn Rotate Gets the value d Rectangle Set [} 306] ITc Vn Access_Tc Vn Rotate Sets the value d Rectangle TF7000 - TF7810 Version: 2.4.0 305
## Page 306

API reference System Requirements 6.1.3.1.2.38.1 Get Gets the value Syntax Definition: METHOD Get : HRESULT VAR_INPUT st Rectangle : Reference To Tc Vn Rotated Rectangle; END_VAR Inputs Name Type Description st Rectangle Reference To Returns the value Tc Vn Rotated Rectangle [} 251] Return value HRESULT [} 144] 6.1.3.1.2.38.2 Set Sets the value Syntax Definition: METHOD Set : HRESULT VAR_INPUT st Rectangle : Reference To Tc Vn Rotated Rectangle; END_VAR Inputs Name Type Description st Rectangle Reference To The value to set Tc Vn Rotated Rectangle [} 251] Return value HRESULT [} 144] 6.1.3.1.3 ITc Vn Random Access The interface ITc Vn Random Access is for accessing any elements of a container [} 156] and is provided by an ITc Vn Random Access Iterator [} 371]. Unlike ITc Vn Access [} 256], any element in a container can be addressed. 6.1.3.1.3.1 ITc Vn Random Access_DINT Offers a random access interface for DINT values. 306 Version: 2.4.0 TF7000 - TF7810
## Page 307

API reference Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_DINT [} 256] ITc Vn Random Access_DINT Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 257] ITc Vn Access_DINT Gets the value Set [} 257] ITc Vn Access_DINT Sets the value Get At [} 307] ITc Vn Random Access_DI Gets the value NT Set At [} 307] ITc Vn Random Access_DI Sets the value NT System Requirements 6.1.3.1.3.1.1 Get At Get At n Offset LINT HRESULT Get At n Value Reference To DINT Gets the value Syntax Definition: METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; n Value : Reference To DINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position n Value Reference To DINT Returns the value Return value HRESULT [} 144] 6.1.3.1.3.1.2 Set At Set At n Offset LINT HRESULT Set At n Value DINT Sets the value TF7000 - TF7810 Version: 2.4.0 307
## Page 308

API reference Syntax Definition: METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; n Value : DINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position n Value DINT The value to set Return value HRESULT [} 144] 6.1.3.1.3.2 ITc Vn Random Access_INT Offers a random access interface for INT values Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_INT [} 257] ITc Vn Random Access_INT Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 258] ITc Vn Access_INT Gets the value Set [} 258] ITc Vn Access_INT Sets the value Get At [} 308] ITc Vn Random Access_IN Gets the value T Set At [} 309] ITc Vn Random Access_IN Sets the value T System Requirements 6.1.3.1.3.2.1 Get At Get At n Offset LINT HRESULT Get At n Value Reference To INT Gets the value Syntax Definition: 308 Version: 2.4.0 TF7000 - TF7810
## Page 309

API reference METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; n Value : Reference To INT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position n Value Reference To INT Returns the value Return value HRESULT [} 144] 6.1.3.1.3.2.2 Set At Set At n Offset LINT HRESULT Set At n Value INT Sets the value Syntax Definition: METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; n Value : INT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position n Value INT The value to set Return value HRESULT [} 144] 6.1.3.1.3.3 ITc Vn Random Access_ITc Vn Image Offers an random access interface for images. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_ITc Vn Image [} 259] ITc Vn Random Access_ITc Vn Image TF7000 - TF7810 Version: 2.4.0 309
## Page 310

API reference Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 259] ITc Vn Access_ITc Vn Imag Gets the image. e Set [} 260] ITc Vn Access_ITc Vn Imag Sets the image. e Get At [} 310] ITc Vn Random Access_ITc Gets the image. Vn Image Set At [} 310] ITc Vn Random Access_ITc Sets the image. Vn Image System Requirements 6.1.3.1.3.3.1 Get At Get At n Offset LINT HRESULT Get At ip Image Reference To ITc Vn Image Gets the image. Syntax Definition: METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; ip Image : Reference To ITc Vn Image; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position. ip Image Reference To Returns the image. ITc Vn Image [} 413] Return value HRESULT [} 144] 6.1.3.1.3.3.2 Set At Set At n Offset LINT HRESULT Set At ip Image ITc Vn Image Sets the image. 310 Version: 2.4.0 TF7000 - TF7810
## Page 311

API reference Syntax Definition: METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; ip Image : ITc Vn Image; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position ip Image ITc Vn Image [} 413] The image to set. Return value HRESULT [} 144] 6.1.3.1.3.4 ITc Vn Random Access_LREAL Offers a random access interface for LREAL values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_LREAL [} 260] ITc Vn Random Access_LREAL Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 260] ITc Vn Access_LREAL Gets the value Set [} 261] ITc Vn Access_LREAL Sets the value Get At [} 311] ITc Vn Random Access_LR Gets the value EAL Set At [} 312] ITc Vn Random Access_LR Sets the value EAL System Requirements 6.1.3.1.3.4.1 Get At Get At n Offset LINT HRESULT Get At f Value Reference To LREAL Gets the value Syntax Definition: TF7000 - TF7810 Version: 2.4.0 311
## Page 312

API reference METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; f Value : Reference To LREAL; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position f Value Reference To LREAL Returns the value Return value HRESULT [} 144] 6.1.3.1.3.4.2 Set At Set At n Offset LINT HRESULT Set At f Value LREAL Sets the value Syntax Definition: METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; f Value : LREAL; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position. f Value LREAL The value to set Return value HRESULT [} 144] 6.1.3.1.3.5 ITc Vn Random Access_REAL Offers a random access interface for REAL values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_REAL [} 261] ITc Vn Random Access_REAL 312 Version: 2.4.0 TF7000 - TF7810
## Page 313

API reference Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 262] ITc Vn Access_REAL Gets the value Set [} 262] ITc Vn Access_REAL Sets the value Get At [} 313] ITc Vn Random Access_RE Gets the value AL Set At [} 313] ITc Vn Random Access_RE Sets the value AL System Requirements 6.1.3.1.3.5.1 Get At Get At n Offset LINT HRESULT Get At f Value Reference To REAL Gets the value Syntax Definition: METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; f Value : Reference To REAL; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position f Value Reference To REAL Returns the value Return value HRESULT [} 144] 6.1.3.1.3.5.2 Set At Set At n Offset LINT HRESULT Set At f Value REAL Sets the value Syntax Definition: TF7000 - TF7810 Version: 2.4.0 313
## Page 314

API reference METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; f Value : REAL; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position f Value REAL The value to set Return value HRESULT [} 144] 6.1.3.1.3.6 ITc Vn Random Access_SINT Offers a random access interface for SINT values Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_SINT [} 262] ITc Vn Random Access_SINT Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 263] ITc Vn Access_SINT Gets the value Set [} 263] ITc Vn Access_SINT Sets the value Get At [} 314] ITc Vn Random Access_SI Gets the value NT Set At [} 315] ITc Vn Random Access_SI Sets the value NT System Requirements 6.1.3.1.3.6.1 Get At Get At n Offset LINT HRESULT Get At n Value Reference To SINT Gets the value Syntax Definition: 314 Version: 2.4.0 TF7000 - TF7810
## Page 315

API reference METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; n Value : Reference To SINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position n Value Reference To SINT Returns the value Return value HRESULT [} 144] 6.1.3.1.3.6.2 Set At Set At n Offset LINT HRESULT Set At n Value SINT Sets the value Syntax Definition: METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; n Value : SINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position n Value SINT The value to set Return value HRESULT [} 144] 6.1.3.1.3.7 ITc Vn Random Access_Tc Vn DMatch Offers an random access interface for Tc Vn DMatch values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn DMatch [} 264] ITc Vn Random Access_Tc Vn DMatch TF7000 - TF7810 Version: 2.4.0 315
## Page 316

API reference Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 264] ITc Vn Access_Tc Vn DMatc Gets the value h Set [} 265] ITc Vn Access_Tc Vn DMatc Sets the value h Get At [} 316] ITc Vn Random Access_Tc Gets the value Vn DMatch Set At [} 316] ITc Vn Random Access_Tc Sets the value Vn DMatch System Requirements 6.1.3.1.3.7.1 Get At Get At n Offset LINT HRESULT Get At st DMatch Reference To Tc Vn DMatch Gets the value Syntax Definition: METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; st DMatch : Reference To Tc Vn DMatch; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position. st DMatch Reference To Returns the value Tc Vn DMatch [} 237] Return value HRESULT [} 144] 6.1.3.1.3.7.2 Set At Set At n Offset LINT HRESULT Set At st DMatch Reference To Tc Vn DMatch Sets the value 316 Version: 2.4.0 TF7000 - TF7810
## Page 317

API reference Syntax Definition: METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; st DMatch : Reference To Tc Vn DMatch; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position st DMatch Reference To The value to set Tc Vn DMatch [} 237] Return value HRESULT [} 144] 6.1.3.1.3.8 ITc Vn Random Access_Tc Vn Key Point Offers a random access interface for Tc Vn Key Point values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Key Point [} 265] ITc Vn Random Access_Tc Vn Key Point Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 265] ITc Vn Access_Tc Vn Key Po Gets the value. int Set [} 266] ITc Vn Access_Tc Vn Key Po Sets the value. int Get At [} 317] ITc Vn Random Access_Tc Gets the value Vn Key Point Set At [} 318] ITc Vn Random Access_Tc Sets the value Vn Key Point System Requirements 6.1.3.1.3.8.1 Get At Get At n Offset LINT HRESULT Get At st Key Point Reference To Tc Vn Key Point Gets the value TF7000 - TF7810 Version: 2.4.0 317
## Page 318

API reference Syntax Definition: METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; st Key Point : Reference To Tc Vn Key Point; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position st Key Point Reference To Returns the value Tc Vn Key Point [} 237] Return value HRESULT [} 144] 6.1.3.1.3.8.2 Set At Set At n Offset LINT HRESULT Set At st Key Point Reference To Tc Vn Key Point Sets the value Syntax Definition: METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; st Key Point : Reference To Tc Vn Key Point; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position st Key Point Reference To The value to set Tc Vn Key Point [} 237] Return value HRESULT [} 144] 6.1.3.1.3.9 ITc Vn Random Access_Tc Vn Point2_DINT Offers a random access interface for Tc Vn Point2_DINT values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Point2_DINT [} 266] ITc Vn Random Access_Tc Vn Point2_DINT 318 Version: 2.4.0 TF7000 - TF7810
## Page 319

API reference Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 267] ITc Vn Access_Tc Vn Point2 Gets the value. _DINT Set [} 267] ITc Vn Access_Tc Vn Point2 Sets the value. _DINT Get At [} 319] ITc Vn Random Access_Tc Gets the value Vn Point2_DINT Set At [} 319] ITc Vn Random Access_Tc Sets the value Vn Point2_DINT System Requirements 6.1.3.1.3.9.1 Get At Get At n Offset LINT HRESULT Get At a Point Reference To Tc Vn Point2_DINT Gets the value Syntax Definition: METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; a Point : Reference To Tc Vn Point2_DINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Point Reference To Returns the value Tc Vn Point2_DINT [} 163] Return value HRESULT [} 144] 6.1.3.1.3.9.2 Set At Set At n Offset LINT HRESULT Set At a Point Reference To Tc Vn Point2_DINT Sets the value TF7000 - TF7810 Version: 2.4.0 319
## Page 320

API reference Syntax Definition: METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; a Point : Reference To Tc Vn Point2_DINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Point Reference To The value to set Tc Vn Point2_DINT [} 163] Return value HRESULT [} 144] 6.1.3.1.3.10 ITc Vn Random Access_Tc Vn Point2_LREAL Offers a random access interface for Tc Vn Point2_LREAL values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Point2_LREAL [} 268] ITc Vn Random Access_Tc Vn Point2_LREAL Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 268] ITc Vn Access_Tc Vn Point2 Gets the value _LREAL Set [} 269] ITc Vn Access_Tc Vn Point2 Sets the value _LREAL Get At [} 320] ITc Vn Random Access_Tc Gets the value Vn Point2_LREAL Set At [} 321] ITc Vn Random Access_Tc Sets the value Vn Point2_LREAL System Requirements 6.1.3.1.3.10.1 Get At Get At n Offset LINT HRESULT Get At a Point Reference To Tc Vn Point2_LREAL Gets the value 320 Version: 2.4.0 TF7000 - TF7810
## Page 321

API reference Syntax Definition: METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; a Point : Reference To Tc Vn Point2_LREAL; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Point Reference To Returns the value Tc Vn Point2_LREAL [} 163] Return value HRESULT [} 144] 6.1.3.1.3.10.2 Set At Set At n Offset LINT HRESULT Set At a Point Reference To Tc Vn Point2_LREAL Sets the value Syntax Definition: METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; a Point : Reference To Tc Vn Point2_LREAL; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Point Reference To The value to set Tc Vn Point2_LREAL [} 163] Return value HRESULT [} 144] 6.1.3.1.3.11 ITc Vn Random Access_Tc Vn Point2_REAL Offers a random access interface for Tc Vn Point2_REAL values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Point2_REAL [} 269] ITc Vn Random Access_Tc Vn Point2_REAL TF7000 - TF7810 Version: 2.4.0 321
## Page 322

API reference Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 270] ITc Vn Access_Tc Vn Point2 Gets the value _REAL Set [} 270] ITc Vn Access_Tc Vn Point2 Sets the value _REAL Get At [} 322] ITc Vn Random Access_Tc Gets the value Vn Point2_REAL Set At [} 322] ITc Vn Random Access_Tc Sets the value Vn Point2_REAL System Requirements 6.1.3.1.3.11.1 Get At Get At n Offset LINT HRESULT Get At a Point Reference To Tc Vn Point2_REAL Gets the value Syntax Definition: METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; a Point : Reference To Tc Vn Point2_REAL; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Point Reference To Returns the value Tc Vn Point2_REAL [} 163] Return value HRESULT [} 144] 6.1.3.1.3.11.2 Set At Set At n Offset LINT HRESULT Set At a Point Reference To Tc Vn Point2_REAL Sets the value 322 Version: 2.4.0 TF7000 - TF7810
## Page 323

API reference Syntax Definition: METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; a Point : Reference To Tc Vn Point2_REAL; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Point Reference To The value to set Tc Vn Point2_REAL [} 163] Return value HRESULT [} 144] 6.1.3.1.3.12 ITc Vn Random Access_Tc Vn Point3_LREAL Offers a random access interface for Tc Vn Point3_LREAL values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Point3_LREAL [} 270] ITc Vn Random Access_Tc Vn Point3_LREAL Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 271] ITc Vn Access_Tc Vn Point3 Gets the value _LREAL Set [} 271] ITc Vn Access_Tc Vn Point3 Sets the value _LREAL Get At [} 323] ITc Vn Random Access_Tc Gets the value Vn Point3_LREAL Set At [} 324] ITc Vn Random Access_Tc Sets the value Vn Point3_LREAL System Requirements 6.1.3.1.3.12.1 Get At Get At n Offset LINT HRESULT Get At a Point Reference To Tc Vn Point3_LREAL Gets the value TF7000 - TF7810 Version: 2.4.0 323
## Page 324

API reference Syntax Definition: METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; a Point : Reference To Tc Vn Point3_LREAL; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Point Reference To Returns the value Tc Vn Point3_LREAL [} 163] Return value HRESULT [} 144] 6.1.3.1.3.12.2 Set At Set At n Offset LINT HRESULT Set At a Point Reference To Tc Vn Point3_LREAL Sets the value Syntax Definition: METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; a Point : Reference To Tc Vn Point3_LREAL; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Point Reference To The value to set Tc Vn Point3_LREAL [} 163] Return value HRESULT [} 144] 6.1.3.1.3.13 ITc Vn Random Access_Tc Vn Point3_REAL Offers a random access interface for Tc Vn Point3_REAL values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Point3_REAL [} 272] ITc Vn Random Access_Tc Vn Point3_REAL 324 Version: 2.4.0 TF7000 - TF7810
## Page 325

API reference Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 272] ITc Vn Access_Tc Vn Point3 Gets the value _REAL Set [} 273] ITc Vn Access_Tc Vn Point3 Sets the value _REAL Get At [} 325] ITc Vn Random Access_Tc Gets the value Vn Point3_REAL Set At [} 325] ITc Vn Random Access_Tc Sets the value Vn Point3_REAL System Requirements 6.1.3.1.3.13.1 Get At Get At n Offset LINT HRESULT Get At a Point Reference To Tc Vn Point3_REAL Gets the value Syntax Definition: METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; a Point : Reference To Tc Vn Point3_REAL; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Point Reference To Returns the value Tc Vn Point3_REAL [} 163] Return value HRESULT [} 144] 6.1.3.1.3.13.2 Set At Set At n Offset LINT HRESULT Set At a Point Reference To Tc Vn Point3_REAL Sets the value TF7000 - TF7810 Version: 2.4.0 325
## Page 326

API reference Syntax Definition: METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; a Point : Reference To Tc Vn Point3_REAL; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Point Reference To The value to set Tc Vn Point3_REAL [} 163] Return value HRESULT [} 144] 6.1.3.1.3.14 ITc Vn Random Access_Tc Vn Rectangle_DINT Offers a random access interface for Tc Vn Rectangle_DINT values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Rectangle_DINT [} 273] ITc Vn Random Access_Tc Vn Rectangle_DINT Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 274] ITc Vn Access_Tc Vn Recta Gets the value ngle_DINT Set [} 274] ITc Vn Access_Tc Vn Recta Sets the value ngle_DINT Get At [} 326] ITc Vn Random Access_Tc Gets the value Vn Rectangle_DINT Set At [} 327] ITc Vn Random Access_Tc Sets the value Vn Rectangle_DINT System Requirements 6.1.3.1.3.14.1 Get At Get At n Offset LINT HRESULT Get At st Rectangle Reference To Tc Vn Rectangle_DINT Gets the value 326 Version: 2.4.0 TF7000 - TF7810
## Page 327

API reference Syntax Definition: METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; st Rectangle : Reference To Tc Vn Rectangle_DINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position st Rectangle Reference To Returns the value Tc Vn Rectangle_DINT [} 250] Return value HRESULT [} 144] 6.1.3.1.3.14.2 Set At Set At n Offset LINT HRESULT Set At st Rectangle Reference To Tc Vn Rectangle_DINT Sets the value Syntax Definition: METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; st Rectangle : Reference To Tc Vn Rectangle_DINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position st Rectangle Reference To The value to set Tc Vn Rectangle_DINT [} 250] Return value HRESULT [} 144] 6.1.3.1.3.15 ITc Vn Random Access_Tc Vn Vector2_DINT Offers a random access interface for Tc Vn Vector2_DINT values. TF7000 - TF7810 Version: 2.4.0 327
## Page 328

API reference Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector2_DINT [} 275] ITc Vn Random Access_Tc Vn Vector2_DINT Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 275] ITc Vn Access_Tc Vn Vector Gets the value 2_DINT Set [} 275] ITc Vn Access_Tc Vn Vector Sets the value. 2_DINT Get At [} 328] ITc Vn Random Access_Tc Gets the value Vn Vector2_DINT Set At [} 329] ITc Vn Random Access_Tc Sets the value Vn Vector2_DINT System Requirements 6.1.3.1.3.15.1 Get At Get At n Offset LINT HRESULT Get At a Vector Reference To Tc Vn Vector2_DINT Gets the value Syntax Definition: METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector2_DINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To Returns the value Tc Vn Vector2_DINT [} 165] Return value HRESULT [} 144] 328 Version: 2.4.0 TF7000 - TF7810
## Page 329

API reference 6.1.3.1.3.15.2 Set At Set At n Offset LINT HRESULT Set At a Vector Reference To Tc Vn Vector2_DINT Sets the value Syntax Definition: METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector2_DINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To The value to set Tc Vn Vector2_DINT [} 165] Return value HRESULT [} 144] 6.1.3.1.3.16 ITc Vn Random Access_Tc Vn Vector2_INT Offers a random access interface for Tc Vn Vector2_INT values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector2_INT [} 276] ITc Vn Random Access_Tc Vn Vector2_INT Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 276] ITc Vn Access_Tc Vn Vector Gets the value 2_INT Set [} 277] ITc Vn Access_Tc Vn Vector Sets the value. 2_INT Get At [} 330] ITc Vn Random Access_Tc Gets the value Vn Vector2_INT Set At [} 330] ITc Vn Random Access_Tc Sets the value Vn Vector2_INT TF7000 - TF7810 Version: 2.4.0 329
## Page 330

API reference System Requirements 6.1.3.1.3.16.1 Get At Get At n Offset LINT HRESULT Get At a Vector Reference To Tc Vn Vector2_INT Gets the value Syntax Definition: METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector2_INT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To Returns the value Tc Vn Vector2_INT [} 165] Return value HRESULT [} 144] 6.1.3.1.3.16.2 Set At Set At n Offset LINT HRESULT Set At a Vector Reference To Tc Vn Vector2_INT Sets the value Syntax Definition: METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector2_INT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To The value to set Tc Vn Vector2_INT [} 165] 330 Version: 2.4.0 TF7000 - TF7810
## Page 331

API reference Return value HRESULT [} 144] 6.1.3.1.3.17 ITc Vn Random Access_Tc Vn Vector2_REAL Offers a random access interface for Tc Vn Vector2_REAL values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector2_REAL [} 277] ITc Vn Random Access_Tc Vn Vector2_REAL Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 278] ITc Vn Access_Tc Vn Vector Gets the value 2_REAL Set [} 278] ITc Vn Access_Tc Vn Vector Sets the value 2_REAL Get At [} 331] ITc Vn Random Access_Tc Gets the value Vn Vector2_REAL Set At [} 332] ITc Vn Random Access_Tc Sets the value Vn Vector2_REAL System Requirements 6.1.3.1.3.17.1 Get At Get At n Offset LINT HRESULT Get At a Vector Reference To Tc Vn Vector2_REAL Gets the value Syntax Definition: METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector2_REAL; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To Returns the value Tc Vn Vector2_REAL [} 165] TF7000 - TF7810 Version: 2.4.0 331
## Page 332

API reference Return value HRESULT [} 144] 6.1.3.1.3.17.2 Set At Set At n Offset LINT HRESULT Set At a Vector Reference To Tc Vn Vector2_REAL Sets the value Syntax Definition: METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector2_REAL; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To The value to set Tc Vn Vector2_REAL [} 165] Return value HRESULT [} 144] 6.1.3.1.3.18 ITc Vn Random Access_Tc Vn Vector2_SINT Offers a random access interface for Tc Vn Vector2_SINT values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector2_SINT [} 278] ITc Vn Random Access_Tc Vn Vector2_SINT 332 Version: 2.4.0 TF7000 - TF7810
## Page 333

API reference Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 279] ITc Vn Access_Tc Vn Vector Gets the value 2_SINT Set [} 279] ITc Vn Access_Tc Vn Vector Sets the value. 2_SINT Get At [} 333] ITc Vn Random Access_Tc Gets the value Vn Vector2_SINT Set At [} 333] ITc Vn Random Access_Tc Sets the value Vn Vector2_SINT System Requirements 6.1.3.1.3.18.1 Get At Get At n Offset LINT HRESULT Get At a Vector Reference To Tc Vn Vector2_SINT Gets the value Syntax Definition: METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector2_SINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To Returns the value Tc Vn Vector2_SINT [} 165] Return value HRESULT [} 144] 6.1.3.1.3.18.2 Set At Set At n Offset LINT HRESULT Set At a Vector Reference To Tc Vn Vector2_SINT Sets the value TF7000 - TF7810 Version: 2.4.0 333
## Page 334

API reference Syntax Definition: METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector2_SINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To The value to set Tc Vn Vector2_SINT [} 165] Return value HRESULT [} 144] 6.1.3.1.3.19 ITc Vn Random Access_Tc Vn Vector2_UINT Offers a random access interface for Tc Vn Vector2_UINT values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector2_UINT [} 280] ITc Vn Random Access_Tc Vn Vector2_UINT Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 280] ITc Vn Access_Tc Vn Vector Gets the value 2_UINT Set [} 281] ITc Vn Access_Tc Vn Vector Sets the value. 2_UINT Get At [} 334] ITc Vn Random Access_Tc Gets the value Vn Vector2_UINT Set At [} 335] ITc Vn Random Access_Tc Sets the value Vn Vector2_UINT System Requirements 6.1.3.1.3.19.1 Get At Get At n Offset LINT HRESULT Get At a Vector Reference To Tc Vn Vector2_UINT Gets the value 334 Version: 2.4.0 TF7000 - TF7810
## Page 335

API reference Syntax Definition: METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector2_UINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To Returns the value Tc Vn Vector2_UINT [} 165] Return value HRESULT [} 144] 6.1.3.1.3.19.2 Set At Set At n Offset LINT HRESULT Set At a Vector Reference To Tc Vn Vector2_UINT Sets the value Syntax Definition: METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector2_UINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To The value to set Tc Vn Vector2_UINT [} 165] Return value HRESULT [} 144] 6.1.3.1.3.20 ITc Vn Random Access_Tc Vn Vector2_USINT Offers a random access interface for Tc Vn Vector2_USINT values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector2_USINT [} 281] ITc Vn Random Access_Tc Vn Vector2_USINT TF7000 - TF7810 Version: 2.4.0 335
## Page 336

API reference Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 282] ITc Vn Access_Tc Vn Vector Gets the value 2_USINT Set [} 282] ITc Vn Access_Tc Vn Vector Sets the value. 2_USINT Get At [} 336] ITc Vn Random Access_Tc Gets the value Vn Vector2_USINT Set At [} 336] ITc Vn Random Access_Tc Sets the value Vn Vector2_USINT System Requirements 6.1.3.1.3.20.1 Get At Get At n Offset LINT HRESULT Get At a Vector Reference To Tc Vn Vector2_USINT Gets the value Syntax Definition: METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector2_USINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To Returns the value Tc Vn Vector2_USINT [} 165] Return value HRESULT [} 144] 6.1.3.1.3.20.2 Set At Set At n Offset LINT HRESULT Set At a Vector Reference To Tc Vn Vector2_USINT Sets the value 336 Version: 2.4.0 TF7000 - TF7810
## Page 337

API reference Syntax Definition: METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector2_USINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To The value to set Tc Vn Vector2_USINT [} 165] Return value HRESULT [} 144] 6.1.3.1.3.21 ITc Vn Random Access_Tc Vn Vector3_INT Offers a random access interface for Tc Vn Vector3_INT values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector3_INT [} 283] ITc Vn Random Access_Tc Vn Vector3_INT Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 283] ITc Vn Access_Tc Vn Vector Gets the value 3_INT Set [} 283] ITc Vn Access_Tc Vn Vector Sets the value 3_INT Get At [} 337] ITc Vn Random Access_Tc Gets the value Vn Vector3_INT Set At [} 338] ITc Vn Random Access_Tc Sets the value Vn Vector3_INT System Requirements 6.1.3.1.3.21.1 Get At Get At n Offset LINT HRESULT Get At a Vector Reference To Tc Vn Vector3_INT Gets the value TF7000 - TF7810 Version: 2.4.0 337
## Page 338

API reference Syntax Definition: METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector3_INT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To Returns the value Tc Vn Vector3_INT [} 165] Return value HRESULT [} 144] 6.1.3.1.3.21.2 Set At Set At n Offset LINT HRESULT Set At a Vector Reference To Tc Vn Vector3_INT Sets the value Syntax Definition: METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector3_INT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To The value to set Tc Vn Vector3_INT [} 165] Return value HRESULT [} 144] 6.1.3.1.3.22 ITc Vn Random Access_Tc Vn Vector3_REAL Offers a random access interface for Tc Vn Vector3_REAL values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector3_REAL [} 284] ITc Vn Random Access_Tc Vn Vector3_REAL 338 Version: 2.4.0 TF7000 - TF7810
## Page 339

API reference Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 284] ITc Vn Access_Tc Vn Vector Gets the value 3_REAL Set [} 285] ITc Vn Access_Tc Vn Vector Sets the value 3_REAL Get At [} 339] ITc Vn Random Access_Tc Gets the value Vn Vector3_REAL Set At [} 339] ITc Vn Random Access_Tc Sets the value Vn Vector3_REAL System Requirements 6.1.3.1.3.22.1 Get At Get At n Offset LINT HRESULT Get At a Vector Reference To Tc Vn Vector3_REAL Gets the value Syntax Definition: METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector3_REAL; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To Returns the value Tc Vn Vector3_REAL [} 165] Return value HRESULT [} 144] 6.1.3.1.3.22.2 Set At Set At n Offset LINT HRESULT Set At a Vector Reference To Tc Vn Vector3_REAL Sets the value TF7000 - TF7810 Version: 2.4.0 339
## Page 340

API reference Syntax Definition: METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector3_REAL; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To The value to set Tc Vn Vector3_REAL [} 165] Return value HRESULT [} 144] 6.1.3.1.3.23 ITc Vn Random Access_Tc Vn Vector3_SINT Offers a random access interface for Tc Vn Vector3_SINT values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector3_SINT [} 285] ITc Vn Random Access_Tc Vn Vector3_SINT Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 286] ITc Vn Access_Tc Vn Vector Gets the value 3_SINT Set [} 286] ITc Vn Access_Tc Vn Vector Sets the value 3_SINT Get At [} 340] ITc Vn Random Access_Tc Gets the value Vn Vector3_SINT Set At [} 341] ITc Vn Random Access_Tc Sets the value Vn Vector3_SINT System Requirements 6.1.3.1.3.23.1 Get At Get At n Offset LINT HRESULT Get At a Vector Reference To Tc Vn Vector3_SINT Gets the value 340 Version: 2.4.0 TF7000 - TF7810
## Page 341

API reference Syntax Definition: METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector3_SINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To Returns the value Tc Vn Vector3_SINT [} 165] Return value HRESULT [} 144] 6.1.3.1.3.23.2 Set At Set At n Offset LINT HRESULT Set At a Vector Reference To Tc Vn Vector3_SINT Sets the value Syntax Definition: METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector3_SINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To The value to set Tc Vn Vector3_SINT [} 165] Return value HRESULT [} 144] 6.1.3.1.3.24 ITc Vn Random Access_Tc Vn Vector3_UINT Offers a random access interface for Tc Vn Vector3_UINT values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector3_UINT [} 286] ITc Vn Random Access_Tc Vn Vector3_UINT TF7000 - TF7810 Version: 2.4.0 341
## Page 342

API reference Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 287] ITc Vn Access_Tc Vn Vector Gets the value 3_UINT Set [} 287] ITc Vn Access_Tc Vn Vector Sets the value 3_UINT Get At [} 342] ITc Vn Random Access_Tc Gets the value Vn Vector3_UINT Set At [} 342] ITc Vn Random Access_Tc Sets the value Vn Vector3_UINT System Requirements 6.1.3.1.3.24.1 Get At Get At n Offset LINT HRESULT Get At a Vector Reference To Tc Vn Vector3_UINT Gets the value Syntax Definition: METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector3_UINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To Returns the value Tc Vn Vector3_UINT [} 165] Return value HRESULT [} 144] 6.1.3.1.3.24.2 Set At Set At n Offset LINT HRESULT Set At a Vector Reference To Tc Vn Vector3_UINT Sets the value 342 Version: 2.4.0 TF7000 - TF7810
## Page 343

API reference Syntax Definition: METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector3_UINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To The value to set Tc Vn Vector3_UINT [} 165] Return value HRESULT [} 144] 6.1.3.1.3.25 ITc Vn Random Access_Tc Vn Vector3_USINT Offers a random access interface for Tc Vn Vector3_USINT values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector3_USINT [} 288] ITc Vn Random Access_Tc Vn Vector3_USINT Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 288] ITc Vn Access_Tc Vn Vector Gets the value 3_USINT Set [} 289] ITc Vn Access_Tc Vn Vector Sets the value 3_USINT Get At [} 343] ITc Vn Random Access_Tc Gets the value Vn Vector3_USINT Set At [} 344] ITc Vn Random Access_Tc Sets the value Vn Vector3_USINT System Requirements 6.1.3.1.3.25.1 Get At Get At n Offset LINT HRESULT Get At a Vector Reference To Tc Vn Vector3_USINT Gets the value TF7000 - TF7810 Version: 2.4.0 343
## Page 344

API reference Syntax Definition: METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector3_USINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To Returns the value Tc Vn Vector3_USINT [} 165] Return value HRESULT [} 144] 6.1.3.1.3.25.2 Set At Set At n Offset LINT HRESULT Set At a Vector Reference To Tc Vn Vector3_USINT Sets the value Syntax Definition: METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector3_USINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To The value to set Tc Vn Vector3_USINT [} 165] Return value HRESULT [} 144] 6.1.3.1.3.26 ITc Vn Random Access_Tc Vn Vector4_DINT Offers a random access interface for Tc Vn Vector4_DINT values. 344 Version: 2.4.0 TF7000 - TF7810
## Page 345

API reference Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector4_DINT [} 289] ITc Vn Random Access_Tc Vn Vector4_DINT Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 290] ITc Vn Access_Tc Vn Vector Gets the value 4_DINT Set [} 290] ITc Vn Access_Tc Vn Vector Sets the value 4_DINT Get At [} 345] ITc Vn Random Access_Tc Gets the value Vn Vector4_DINT Set At [} 346] ITc Vn Random Access_Tc Sets the value Vn Vector4_DINT System Requirements 6.1.3.1.3.26.1 Get At Get At n Offset LINT HRESULT Get At a Vector Reference To Tc Vn Vector4_DINT Gets the value Syntax Definition: METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector4_DINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To Returns the value Tc Vn Vector4_DINT [} 165] Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 345
## Page 346

API reference 6.1.3.1.3.26.2 Set At Set At n Offset LINT HRESULT Set At a Vector Reference To Tc Vn Vector4_DINT Sets the value Syntax Definition: METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector4_DINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To The value to set Tc Vn Vector4_DINT [} 165] Return value HRESULT [} 144] 6.1.3.1.3.27 ITc Vn Random Access_Tc Vn Vector4_INT Offers a random access interface for Tc Vn Vector4_INT values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector4_INT [} 291] ITc Vn Random Access_Tc Vn Vector4_INT Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 291] ITc Vn Access_Tc Vn Vector Gets the value 4_INT Set [} 292] ITc Vn Access_Tc Vn Vector Sets the value 4_INT Get At [} 347] ITc Vn Random Access_Tc Gets the value Vn Vector4_INT Set At [} 347] ITc Vn Random Access_Tc Sets the value Vn Vector4_INT 346 Version: 2.4.0 TF7000 - TF7810
## Page 347

API reference System Requirements 6.1.3.1.3.27.1 Get At Get At n Offset LINT HRESULT Get At a Vector Reference To Tc Vn Vector4_INT Gets the value Syntax Definition: METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector4_INT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To Returns the value Tc Vn Vector4_INT [} 165] Return value HRESULT [} 144] 6.1.3.1.3.27.2 Set At Set At n Offset LINT HRESULT Set At a Vector Reference To Tc Vn Vector4_INT Sets the value Syntax Definition: METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector4_INT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To The value to set Tc Vn Vector4_INT [} 165] TF7000 - TF7810 Version: 2.4.0 347
## Page 348

API reference Return value HRESULT [} 144] 6.1.3.1.3.28 ITc Vn Random Access_Tc Vn Vector4_LREAL Offers a random access interface for Tc Vn Vector4_LREAL values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector4_LREAL [} 292] ITc Vn Random Access_Tc Vn Vector4_LREAL Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 293] ITc Vn Access_Tc Vn Vector Gets the value 4_LREAL Set [} 293] ITc Vn Access_Tc Vn Vector Sets the value 4_LREAL Get At [} 348] ITc Vn Random Access_Tc Gets the value Vn Vector4_LREAL Set At [} 349] ITc Vn Random Access_Tc Sets the value Vn Vector4_LREAL System Requirements 6.1.3.1.3.28.1 Get At Get At n Offset LINT HRESULT Get At a Vector Reference To Tc Vn Vector4_LREAL Gets the value Syntax Definition: METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector4_LREAL; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To Returns the value Tc Vn Vector4_LREAL [} 165] 348 Version: 2.4.0 TF7000 - TF7810
## Page 349

API reference Return value HRESULT [} 144] 6.1.3.1.3.28.2 Set At Set At n Offset LINT HRESULT Set At a Vector Reference To Tc Vn Vector4_LREAL Sets the value Syntax Definition: METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector4_LREAL; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To The value to set Tc Vn Vector4_LREAL [} 165] Return value HRESULT [} 144] 6.1.3.1.3.29 ITc Vn Random Access_Tc Vn Vector4_SINT Offers a random access interface for Tc Vn Vector4_SINT values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector4_SINT [} 294] ITc Vn Random Access_Tc Vn Vector4_SINT TF7000 - TF7810 Version: 2.4.0 349
## Page 350

API reference Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 294] ITc Vn Access_Tc Vn Vector Gets the value 4_SINT Set [} 294] ITc Vn Access_Tc Vn Vector Sets the value 4_SINT Get At [} 350] ITc Vn Random Access_Tc Gets the value Vn Vector4_SINT Set At [} 350] ITc Vn Random Access_Tc Sets the value Vn Vector4_SINT System Requirements 6.1.3.1.3.29.1 Get At Get At n Offset LINT HRESULT Get At a Vector Reference To Tc Vn Vector4_SINT Gets the value Syntax Definition: METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector4_SINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To Returns the value Tc Vn Vector4_SINT [} 165] Return value HRESULT [} 144] 6.1.3.1.3.29.2 Set At Set At n Offset LINT HRESULT Set At a Vector Reference To Tc Vn Vector4_SINT Sets the value 350 Version: 2.4.0 TF7000 - TF7810
## Page 351

API reference Syntax Definition: METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector4_SINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To The value to set Tc Vn Vector4_SINT [} 165] Return value HRESULT [} 144] 6.1.3.1.3.30 ITc Vn Random Access_Tc Vn Vector4_UINT Offers a random access interface for Tc Vn Vector4_UINT values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector4_UINT [} 295] ITc Vn Random Access_Tc Vn Vector4_UINT Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 295] ITc Vn Access_Tc Vn Vector Gets the value 4_UINT Set [} 296] ITc Vn Access_Tc Vn Vector Sets the value 4_UINT Get At [} 351] ITc Vn Random Access_Tc Gets the value Vn Vector4_UINT Set At [} 352] ITc Vn Random Access_Tc Sets the value Vn Vector4_UINT System Requirements 6.1.3.1.3.30.1 Get At Get At n Offset LINT HRESULT Get At a Vector Reference To Tc Vn Vector4_UINT Gets the value TF7000 - TF7810 Version: 2.4.0 351
## Page 352

API reference Syntax Definition: METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector4_UINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To Returns the value Tc Vn Vector4_UINT [} 165] Return value HRESULT [} 144] 6.1.3.1.3.30.2 Set At Set At n Offset LINT HRESULT Set At a Vector Reference To Tc Vn Vector4_UINT Sets the value Syntax Definition: METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector4_UINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To The value to set Tc Vn Vector4_UINT [} 165] Return value HRESULT [} 144] 6.1.3.1.3.31 ITc Vn Random Access_Tc Vn Vector4_USINT Offers a random access interface for Tc Vn Vector4_USINT values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector4_USINT [} 296] ITc Vn Random Access_Tc Vn Vector4_USINT 352 Version: 2.4.0 TF7000 - TF7810
## Page 353

API reference Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 297] ITc Vn Access_Tc Vn Vector Gets the value 4_USINT Set [} 297] ITc Vn Access_Tc Vn Vector Sets the value 4_USINT Get At [} 353] ITc Vn Random Access_Tc Gets the value Vn Vector4_USINT Set At [} 353] ITc Vn Random Access_Tc Sets the value Vn Vector4_USINT System Requirements 6.1.3.1.3.31.1 Get At Get At n Offset LINT HRESULT Get At a Vector Reference To Tc Vn Vector4_USINT Gets the value Syntax Definition: METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector4_USINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To Returns the value Tc Vn Vector4_USINT [} 165] Return value HRESULT [} 144] 6.1.3.1.3.31.2 Set At Set At n Offset LINT HRESULT Set At a Vector Reference To Tc Vn Vector4_USINT Sets the value TF7000 - TF7810 Version: 2.4.0 353
## Page 354

API reference Syntax Definition: METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector4_USINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To The value to set Tc Vn Vector4_USINT [} 165] Return value HRESULT [} 144] 6.1.3.1.3.32 ITc Vn Random Access_UDINT Offers a random access interface for UDINT values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_UDINT [} 298] ITc Vn Random Access_UDINT Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 298] ITc Vn Access_UDINT Gets the value Set [} 298] ITc Vn Access_UDINT Sets the value Get At [} 354] ITc Vn Random Access_UD Gets the value INT Set At [} 355] ITc Vn Random Access_UD Sets the value INT System Requirements 6.1.3.1.3.32.1 Get At Get At n Offset LINT HRESULT Get At n Value Reference To UDINT Gets the value 354 Version: 2.4.0 TF7000 - TF7810
## Page 355

API reference Syntax Definition: METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; n Value : Reference To UDINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position n Value Reference To UDINT Returns the value Return value HRESULT [} 144] 6.1.3.1.3.32.2 Set At Set At n Offset LINT HRESULT Set At n Value UDINT Sets the value Syntax Definition: METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; n Value : UDINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position n Value UDINT The value to set Return value HRESULT [} 144] 6.1.3.1.3.33 ITc Vn Random Access_UINT Offers a random access interface for UINT values Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_UINT [} 299] ITc Vn Random Access_UINT TF7000 - TF7810 Version: 2.4.0 355
## Page 356

API reference Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 299] ITc Vn Access_UINT Gets the value Set [} 300] ITc Vn Access_UINT Sets the value Get At [} 356] ITc Vn Random Access_UI Gets the value NT Set At [} 356] ITc Vn Random Access_UI Sets the value NT System Requirements 6.1.3.1.3.33.1 Get At Get At n Offset LINT HRESULT Get At n Value Reference To UINT Gets the value Syntax Definition: METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; n Value : Reference To UINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position n Value Reference To UINT Returns the value Return value HRESULT [} 144] 6.1.3.1.3.33.2 Set At Set At n Offset LINT HRESULT Set At n Value UINT Sets the value Syntax Definition: 356 Version: 2.4.0 TF7000 - TF7810
## Page 357

API reference METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; n Value : UINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position n Value UINT The value to set Return value HRESULT [} 144] 6.1.3.1.3.34 ITc Vn Random Access_ULINT Offers a randowm access interface for ULINT values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_ULINT [} 300] ITc Vn Random Access_ULINT Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 300] ITc Vn Access_ULINT Gets the value Set [} 301] ITc Vn Access_ULINT Sets the value Get At [} 357] ITc Vn Random Access_ULI Gets the value NT Set At [} 358] ITc Vn Random Access_ULI Sets the value NT System Requirements 6.1.3.1.3.34.1 Get At Get At n Offset LINT HRESULT Get At n Value Reference To ULINT Gets the value Syntax Definition: TF7000 - TF7810 Version: 2.4.0 357
## Page 358

API reference METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; n Value : Reference To ULINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position n Value Reference To ULINT Returns the value Return value HRESULT [} 144] 6.1.3.1.3.34.2 Set At Set At n Offset LINT HRESULT Set At n Value ULINT Sets the value Syntax Definition: METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; n Value : ULINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position n Value ULINT The value to set Return value HRESULT [} 144] 6.1.3.1.3.35 ITc Vn Random Access_USINT Offers a random access interface for USINT values Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_USINT [} 301] ITc Vn Random Access_USINT 358 Version: 2.4.0 TF7000 - TF7810
## Page 359

API reference Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 302] ITc Vn Access_USINT Gets the value Set [} 302] ITc Vn Access_USINT Sets the value Get At [} 359] ITc Vn Random Access_US Gets the value INT Set At [} 359] ITc Vn Random Access_US Sets the value INT System Requirements 6.1.3.1.3.35.1 Get At Get At n Offset LINT HRESULT Get At n Value Reference To USINT Gets the value Syntax Definition: METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; n Value : Reference To USINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position n Value Reference To USINT Returns the value Return value HRESULT [} 144] 6.1.3.1.3.35.2 Set At Set At n Offset LINT HRESULT Set At n Value USINT Sets the value Syntax Definition: TF7000 - TF7810 Version: 2.4.0 359
## Page 360

API reference METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; n Value : USINT; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position n Value USINT The value to set Return value HRESULT [} 144] 6.1.3.1.3.36 ITc Vn Random Access_Tc Vn Vector4_REAL Offers a random access interface for Tc Vn Vector4_REAL values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Vector4_REAL [} 303] ITc Vn Random Access_Tc Vn Vector4_REAL Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 303] ITc Vn Access_Tc Vn Vector Gets the value 4_REAL Set [} 303] ITc Vn Access_Tc Vn Vector Sets the value 4_REAL Get At [} 360] ITc Vn Random Access_Tc Gets the value Vn Vector4_REAL Set At [} 361] ITc Vn Random Access_Tc Sets the value Vn Vector4_REAL System Requirements 6.1.3.1.3.36.1 Get At Get At n Offset LINT HRESULT Get At a Vector Reference To Tc Vn Vector4_REAL Gets the value Syntax Definition: 360 Version: 2.4.0 TF7000 - TF7810
## Page 361

API reference METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector4_REAL; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To Returns the value Tc Vn Vector4_REAL [} 165] Return value HRESULT [} 144] 6.1.3.1.3.36.2 Set At Set At n Offset LINT HRESULT Set At a Vector Reference To Tc Vn Vector4_REAL Sets the value Syntax Definition: METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; a Vector : Reference To Tc Vn Vector4_REAL; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position a Vector Reference To The value to set Tc Vn Vector4_REAL [} 165] Return value HRESULT [} 144] 6.1.3.1.3.37 ITc Vn Random Access_Tc Vn Rotated Rectangle Offers a random access interface for Tc Vn Rotated Rectangle values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Rotated Rectangle [} 304] ITc Vn Random Access_Tc Vn Rotated Rectangle TF7000 - TF7810 Version: 2.4.0 361
## Page 362

API reference Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 304] ITc Vn Access_Tc Vn Rotate Gets the value d Rectangle Set [} 305] ITc Vn Access_Tc Vn Rotate Sets the value d Rectangle Get At [} 362] ITc Vn Random Access_Tc Gets the value Vn Rotated Rectangle Set At [} 362] ITc Vn Random Access_Tc Sets the value Vn Rotated Rectangle System Requirements 6.1.3.1.3.37.1 Get At Get At n Offset LINT HRESULT Get At st Rectangle Reference To Tc Vn Rotated Rectangle Gets the value Syntax Definition: METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; st Rectangle : Reference To Tc Vn Rotated Rectangle; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position st Rectangle Reference To Returns the value Tc Vn Rotated Rectangle [} 251] Return value HRESULT [} 144] 6.1.3.1.3.37.2 Set At Set At n Offset LINT HRESULT Set At st Rectangle Reference To Tc Vn Rotated Rectangle Sets the value Syntax Definition: 362 Version: 2.4.0 TF7000 - TF7810
## Page 363

API reference METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; st Rectangle : Reference To Tc Vn Rotated Rectangle; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position st Rectangle Reference To The value to set Tc Vn Rotated Rectangle [} 251] Return value HRESULT [} 144] 6.1.3.1.3.38 ITc Vn Random Access_Tc Vn Rotated Rectangle Offers a random access interface for Tc Vn Rotated Rectangle values. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Access_Tc Vn Rotated Rectangle [} 305] ITc Vn Random Access_Tc Vn Rotated Rectangle Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get [} 306] ITc Vn Access_Tc Vn Rotate Gets the value d Rectangle Set [} 306] ITc Vn Access_Tc Vn Rotate Sets the value d Rectangle Get At [} 363] ITc Vn Random Access_Tc Gets the value Vn Rotated Rectangle Set At [} 364] ITc Vn Random Access_Tc Sets the value Vn Rotated Rectangle System Requirements 6.1.3.1.3.38.1 Get At Gets the value Syntax Definition: METHOD Get At : HRESULT VAR_INPUT n Offset : LINT; st Rectangle : Reference To Tc Vn Rotated Rectangle; END_VAR TF7000 - TF7810 Version: 2.4.0 363
## Page 364

API reference Inputs Name Type Description n Offset LINT Offset to the current position st Rectangle Reference To Returns the value Tc Vn Rotated Rectangle [} 251] Return value HRESULT [} 144] 6.1.3.1.3.38.2 Set At Sets the value Syntax Definition: METHOD Set At : HRESULT VAR_INPUT n Offset : LINT; st Rectangle : Reference To Tc Vn Rotated Rectangle; END_VAR Inputs Name Type Description n Offset LINT Offset to the current position st Rectangle Reference To The value to set Tc Vn Rotated Rectangle [} 251] Return value HRESULT [} 144] 6.1.3.1.4 Iterators This group contains interfaces for the handling of iterators in order to access elements of containers [} 155]. 6.1.3.1.4.1 ITc Vn Bidirectional Iterator Offers an interface for a bidirectional iterator. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Iterator Base [} 368] ITc Vn Forward Iterator [} 365] ITc Vn Bidirectional Iterator 364 Version: 2.4.0 TF7000 - TF7810
## Page 365

API reference Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Check If Begin [} 368] ITc Vn Iterator Base Checks if the iterator points to the first element. Check If End [} 369] ITc Vn Iterator Base Checks if the iterator points to the past-the-end element (alternatively use F_VN_Check If Iterator Is At End). Get Value Size [} 369] ITc Vn Iterator Base Gets the memory size (in byte) required by the value the iterator points to. Get Value Type Guid [} 369] ITc Vn Iterator Base Gets the type GUID of the value the iterator points to. Set To Begin [} 370] ITc Vn Iterator Base Sets the iterator to the first element (alternatively use F_VN_Set Iterator To Begin). Set To End [} 370] ITc Vn Iterator Base Sets the iterator to the past-the-end element. Check If Equal To [} 366] ITc Vn Forward Iterator Checks if iterator is equal to another iterator. Get Container [} 367] ITc Vn Forward Iterator Gets a pointer to the current element converted into an ITc Vn Container interface and increment its reference counter (only possible for container types). (Alternatively use F_VN_Get Container.) Increment [} 367] ITc Vn Forward Iterator Increments the iterator. (Alternatively use F_VN_Increment Iterator.) Set Container [} 367] ITc Vn Forward Iterator Sets the current element using an ITc Vn Container interface (only possible for container types). (Alternatively use F_VN_Set Container.) Decrement [} 365] ITc Vn Bidirectional Iterator Decrements the iterator. System Requirements 6.1.3.1.4.1.1 Decrement Decrement HRESULT Decrement Decrements the iterator. Syntax Definition: METHOD Decrement : HRESULT Return value HRESULT [} 144] 6.1.3.1.4.2 ITc Vn Forward Iterator Offers an interface for a forward iterator. TF7000 - TF7810 Version: 2.4.0 365
## Page 366

API reference Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Iterator Base [} 368] ITc Vn Forward Iterator Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Check If Begin [} 368] ITc Vn Iterator Base Checks if the iterator points to the first element. Check If End [} 369] ITc Vn Iterator Base Checks if the iterator points to the past-the-end element (alternatively use F_VN_Check If Iterator Is At End). Get Value Size [} 369] ITc Vn Iterator Base Gets the memory size (in byte) required by the value the iterator points to. Get Value Type Guid [} 369] ITc Vn Iterator Base Gets the type GUID of the value the iterator points to. Set To Begin [} 370] ITc Vn Iterator Base Sets the iterator to the first element (alternatively use F_VN_Set Iterator To Begin). Set To End [} 370] ITc Vn Iterator Base Sets the iterator to the past-the-end element. Check If Equal To [} 366] ITc Vn Forward Iterator Checks if iterator is equal to another iterator. Get Container [} 367] ITc Vn Forward Iterator Gets a pointer to the current element converted into an ITc Vn Container interface and increment its reference counter (only possible for container types). (Alternatively use F_VN_Get Container.) Increment [} 367] ITc Vn Forward Iterator Increments the iterator. (Alternatively use F_VN_Increment Iterator.) Set Container [} 367] ITc Vn Forward Iterator Sets the current element using an ITc Vn Container interface (only possible for container types). (Alternatively use F_VN_Set Container.) System Requirements 6.1.3.1.4.2.1 Check If Equal To Check If Equal To ip Iterator ITc Vn Forward Iterator HRESULT Check If Equal To Checks if iterator is equal to another iterator. Syntax Definition: METHOD Check If Equal To : HRESULT VAR_INPUT ip Iterator : ITc Vn Forward Iterator; END_VAR Inputs Name Type Description ip Iterator ITc Vn Forward Iterator Iterator interface to compare with [} 365] 366 Version: 2.4.0 TF7000 - TF7810
## Page 367

API reference Return value HRESULT [} 144] 6.1.3.1.4.2.2 Get Container Get Container pip Container Pointer To ITc Vn Container HRESULT Get Container Gets a pointer to the current element converted into an ITc Vn Container interface and increment its reference counter (only possible for container types). (Alternatively use F_VN_Get Container.) Syntax Definition: METHOD Get Container : HRESULT VAR_INPUT pip Container : Pointer To ITc Vn Container; END_VAR Inputs Name Type Description pip Container Pointer To Returns the container interface. ITc Vn Container [} 374] Return value HRESULT [} 144] 6.1.3.1.4.2.3 Increment Increment HRESULT Increment Increments the iterator. (Alternatively use F_VN_Increment Iterator.) Syntax Definition: METHOD Increment : HRESULT Return value HRESULT [} 144] 6.1.3.1.4.2.4 Set Container Set Container ip Container ITc Vn Container HRESULT Set Container Sets the current element using an ITc Vn Container interface (only possible for container types). (Alternatively use F_VN_Set Container.) TF7000 - TF7810 Version: 2.4.0 367
## Page 368

API reference Syntax Definition: METHOD Set Container : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container interface of which the content is to be assigned to the current element. Return value HRESULT [} 144] 6.1.3.1.4.3 ITc Vn Iterator Base Offers a base interface for iterators Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Iterator Base Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Check If Begin [} 368] ITc Vn Iterator Base Checks if the iterator points to the first element. Check If End [} 369] ITc Vn Iterator Base Checks if the iterator points to the past-the-end element (alternatively use F_VN_Check If Iterator Is At End). Get Value Size [} 369] ITc Vn Iterator Base Gets the memory size (in byte) required by the value the iterator points to. Get Value Type Guid [} 369] ITc Vn Iterator Base Gets the type GUID of the value the iterator points to. Set To Begin [} 370] ITc Vn Iterator Base Sets the iterator to the first element (alternatively use F_VN_Set Iterator To Begin). Set To End [} 370] ITc Vn Iterator Base Sets the iterator to the past-the-end element. System Requirements 6.1.3.1.4.3.1 Check If Begin Check If Begin HRESULT Check If Begin Checks if the iterator points to the first element. 368 Version: 2.4.0 TF7000 - TF7810
## Page 369

API reference Syntax Definition: METHOD Check If Begin : HRESULT Return value HRESULT [} 144] 6.1.3.1.4.3.2 Check If End Check If End HRESULT Check If End Checks if the iterator points to the past-the-end element (alternatively use F_VN_Check If Iterator Is At End). Syntax Definition: METHOD Check If End : HRESULT Return value HRESULT [} 144] 6.1.3.1.4.3.3 Get Value Size Get Value Size n Size Reference To ULINT HRESULT Get Value Size Gets the memory size (in byte) required by the value the iterator points to. Syntax Definition: METHOD Get Value Size : HRESULT VAR_INPUT n Size : Reference To ULINT; END_VAR Inputs Name Type Description n Size Reference To ULINT Returns the element size in bytes. Return value HRESULT [} 144] 6.1.3.1.4.3.4 Get Value Type Guid Get Value Type Guid n Type Guid Reference To GUID HRESULT Get Value Type Guid Gets the type GUID of the value the iterator points to. TF7000 - TF7810 Version: 2.4.0 369
## Page 370

API reference Syntax Definition: METHOD Get Value Type Guid : HRESULT VAR_INPUT n Type Guid : Reference To GUID; END_VAR Inputs Name Type Description n Type Guid Reference To GUID Returns the type GUID. Return value HRESULT [} 144] 6.1.3.1.4.3.5 Set To Begin Set To Begin HRESULT Set To Begin Sets the iterator to the first element (alternatively use F_VN_Set Iterator To Begin). Syntax Definition: METHOD Set To Begin : HRESULT Return value HRESULT [} 144] 6.1.3.1.4.3.6 Set To End Set To End HRESULT Set To End Sets the iterator to the past-the-end element. Syntax Definition: METHOD Set To End : HRESULT Return value HRESULT [} 144] 6.1.3.1.4.4 ITc Vn Iterator Copy Creator Offers an interface providing a method for creating a new iterator to the same position. 370 Version: 2.4.0 TF7000 - TF7810
## Page 371

API reference Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Iterator Copy Creator Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Create [} 371] ITc Vn Iterator Copy Creator Create a new iterator pointing to the position of the calling iterator. System Requirements 6.1.3.1.4.4.1 Create Create pip Iterator Pointer To ITc Vn Forward Iterator HRESULT Create Create a new iterator pointing to the position of the calling iterator. Syntax Definition: METHOD Create : HRESULT VAR_INPUT pip Iterator : Pointer To ITc Vn Forward Iterator; END_VAR Inputs Name Type Description pip Iterator Pointer To Returns the created iterator. ITc Vn Forward Iterator [} 365] Return value HRESULT [} 144] 6.1.3.1.4.5 ITc Vn Random Access Iterator Offers an interface for a random access iterator. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Iterator Base [} 368] ITc Vn Forward Iterator [} 365] ITc Vn Bidirectional Iterator [} 364] ITc Vn Random Access Iterator TF7000 - TF7810 Version: 2.4.0 371
## Page 372

API reference Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Check If Begin [} 368] ITc Vn Iterator Base Checks if the iterator points to the first element. Check If End [} 369] ITc Vn Iterator Base Checks if the iterator points to the past-the-end element (alternatively use F_VN_Check If Iterator Is At End). Get Value Size [} 369] ITc Vn Iterator Base Gets the memory size (in byte) required by the value the iterator points to. Get Value Type Guid [} 369] ITc Vn Iterator Base Gets the type GUID of the value the iterator points to. Set To Begin [} 370] ITc Vn Iterator Base Sets the iterator to the first element (alternatively use F_VN_Set Iterator To Begin). Set To End [} 370] ITc Vn Iterator Base Sets the iterator to the past-the-end element. Check If Equal To [} 366] ITc Vn Forward Iterator Checks if iterator is equal to another iterator. Get Container [} 367] ITc Vn Forward Iterator Gets a pointer to the current element converted into an ITc Vn Container interface and increment its reference counter (only possible for container types). (Alternatively use F_VN_Get Container.) Increment [} 367] ITc Vn Forward Iterator Increments the iterator. (Alternatively use F_VN_Increment Iterator.) Set Container [} 367] ITc Vn Forward Iterator Sets the current element using an ITc Vn Container interface (only possible for container types). (Alternatively use F_VN_Set Container.) Decrement [} 365] ITc Vn Bidirectional Iterator Decrements the iterator. Check If Greater Than ITc Vn Random Access Itera Checks if the iterator is greater than another iterator. tor [} 372] Check If Less Than [} 373] ITc Vn Random Access Itera Checks if the iterator is less than another iterator. tor Get Container At [} 373] ITc Vn Random Access Itera Gets a pointer to the element at a specific offset from tor the current element converted into an ITc Vn Container interface and increment its reference counter (only possible for container types). (Alternatively use F_VN_Get At_ITc Vn Container.) Set Container At [} 374] ITc Vn Random Access Itera Sets the element at a specific offset from the current tor element using an ITc Vn Container interface (only possible for container types). (Alternatively use F_VN_Set At_ITc Vn Container.) System Requirements 6.1.3.1.4.5.1 Check If Greater Than Check If Greater Than ip Iterator ITc Vn Random Access Iterator HRESULT Check If Greater Than Checks if the iterator is greater than another iterator. Syntax Definition: 372 Version: 2.4.0 TF7000 - TF7810
## Page 373

API reference METHOD Check If Greater Than : HRESULT VAR_INPUT ip Iterator : ITc Vn Random Access Iterator; END_VAR Inputs Name Type Description ip Iterator Iterator interface to compare with. ITc Vn Random Access Iterat or [} 371] Return value HRESULT [} 144] 6.1.3.1.4.5.2 Check If Less Than Check If Less Than ip Iterator ITc Vn Random Access Iterator HRESULT Check If Less Than Checks if the iterator is less than another iterator. Syntax Definition: METHOD Check If Less Than : HRESULT VAR_INPUT ip Iterator : ITc Vn Random Access Iterator; END_VAR Inputs Name Type Description ip Iterator Iterator interface to compare with. ITc Vn Random Access Iterat or [} 371] Return value HRESULT [} 144] 6.1.3.1.4.5.3 Get Container At Get Container At n Offset LINT HRESULT Get Container At pip Container Pointer To ITc Vn Container Gets a pointer to the element at a specific offset from the current element converted into an ITc Vn Container interface and increment its reference counter (only possible for container types). (Alternatively use F_VN_Get At_ITc Vn Container.) Syntax Definition: TF7000 - TF7810 Version: 2.4.0 373
## Page 374

API reference METHOD Get Container At : HRESULT VAR_INPUT n Offset : LINT; pip Container : Pointer To ITc Vn Container; END_VAR Inputs Name Type Description n Offset LINT Offset from the current element. pip Container Pointer To Returns the pointer to the container interface. ITc Vn Container [} 374] Return value HRESULT [} 144] 6.1.3.1.4.5.4 Set Container At Set Container At n Offset LINT HRESULT Set Container At ip Container ITc Vn Container Sets the element at a specific offset from the current element using an ITc Vn Container interface (only possible for container types). (Alternatively use F_VN_Set At_ITc Vn Container.) Syntax Definition: METHOD Set Container At : HRESULT VAR_INPUT n Offset : LINT; ip Container : ITc Vn Container; END_VAR Inputs Name Type Description n Offset LINT Offset from the current element. ip Container ITc Vn Container [} 374] Container interface of which the content is to be assigned to the current element. Return value HRESULT [} 144] 6.1.3.1.5 ITc Vn Container Offers an interface for an object container. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Container 374 Version: 2.4.0 TF7000 - TF7810
## Page 375

API reference Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Check If Basic Container ITc Vn Container Checks if the container contains only basic (non- container) elements. [} 376] Check If Empty [} 376] ITc Vn Container Checks if the container is empty. (Alternatively use F_VN_Check If Empty.) Get Bidirectional Iterator ITc Vn Container Gets an interface pointer to a bidirectional iterator (if this iterator type is supported by the container) and [} 376] increment its reference counter. Get Element Num [} 377] ITc Vn Container Gets the size (number of elements) of the container. (Alternatively use F_VN_Get Number Of Elements.) Get Element Size [} 377] ITc Vn Container Gets the size (in byte) of each element in the container. Get Element Type Guid ITc Vn Container Gets the GUID of the container elements. [} 378] Get Export Size [} 378] ITc Vn Container Gets combined size (in byte) of all elements in the container. Get Forward Iterator [} 378] ITc Vn Container Gets an interface pointer to a forward iterator (if this iterator type is supported by the container) and increment its reference counter. (Alternatively use F_VN_Get Forward Iterator.) Get Random Access Iterator ITc Vn Container Gets an interface pointer to a random access iterator (if this iterator type is supported by the container) and [} 379] increment its reference counter. (Alternatively use F_VN_Get Random Access Iterator.) Get Type Guid [} 379] ITc Vn Container Gets GUID of the container. Get Type Name [} 380] ITc Vn Container Gets the container type name as a string. Further information The interface ITc Vn Container is for handling containers [} 155]. Observe the notes in the chapter Interface pointers [} 140]. Overwriting containers Generally, containers with API functions can simply be overwritten. At present, however, overwriting is not possible if the existing container and the container to be written are of different types. This is signaled by the error code 70E (INCOMPATIBLE). Related functions • Basic Container Operations [} 545] • Algebraic Container Operations [} 467] • Container statistics [} 852] • Contour analysis [} 941] TF7000 - TF7810 Version: 2.4.0 375
## Page 376

API reference System Requirements 6.1.3.1.5.1 Check If Basic Container Check If Basic Container HRESULT Check If Basic Container Checks if the container contains only basic (non-container) elements. Syntax Definition: METHOD Check If Basic Container : HRESULT Return value HRESULT [} 144] 6.1.3.1.5.2 Check If Empty Check If Empty HRESULT Check If Empty Checks if the container is empty. (Alternatively use F_VN_Check If Empty.) Syntax Definition: METHOD Check If Empty : HRESULT Return value HRESULT [} 144] 6.1.3.1.5.3 Get Bidirectional Iterator Get Bidirectional Iterator pip Iterator Pointer To ITc Vn Bidirectional Iterator HRESULT Get Bidirectional Iterator Gets an interface pointer to a bidirectional iterator (if this iterator type is supported by the container) and increment its reference counter. Syntax Definition: METHOD Get Bidirectional Iterator : HRESULT VAR_INPUT pip Iterator : Pointer To ITc Vn Bidirectional Iterator; END_VAR Inputs Name Type Description pip Iterator Pointer To Returns the iterator interface. ITc Vn Bidirectional Iterator [} 364] 376 Version: 2.4.0 TF7000 - TF7810
## Page 377

API reference Return value HRESULT [} 144] 6.1.3.1.5.4 Get Element Num Get Element Num n Element Num Reference To ULINT HRESULT Get Element Num Gets the size (number of elements) of the container. (Alternatively use F_VN_Get Number Of Elements.) Syntax Definition: METHOD Get Element Num : HRESULT VAR_INPUT n Element Num : Reference To ULINT; END_VAR Inputs Name Type Description n Element Num Reference To ULINT Returns the number of elements in the container. Return value HRESULT [} 144] 6.1.3.1.5.5 Get Element Size Get Element Size n Size Reference To ULINT HRESULT Get Element Size Gets the size (in byte) of each element in the container. Syntax Definition: METHOD Get Element Size : HRESULT VAR_INPUT n Size : Reference To ULINT; END_VAR Inputs Name Type Description n Size Reference To ULINT Returns the size in byte of a single element in the container. Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 377
## Page 378

API reference 6.1.3.1.5.6 Get Element Type Guid Get Element Type Guid n Type Guid Reference To GUID HRESULT Get Element Type Guid Gets the GUID of the container elements. Syntax Definition: METHOD Get Element Type Guid : HRESULT VAR_INPUT n Type Guid : Reference To GUID; END_VAR Inputs Name Type Description n Type Guid Reference To GUID Returns the GUID of the container elements. Return value HRESULT [} 144] 6.1.3.1.5.7 Get Export Size Get Export Size n Export Size Reference To ULINT HRESULT Get Export Size Gets combined size (in byte) of all elements in the container. Syntax Definition: METHOD Get Export Size : HRESULT VAR_INPUT n Export Size : Reference To ULINT; END_VAR Inputs Name Type Description n Export Size Reference To ULINT Returns the combined size (in byte) of all elements in the container. Return value HRESULT [} 144] 6.1.3.1.5.8 Get Forward Iterator Get Forward Iterator pip Iterator Pointer To ITc Vn Forward Iterator HRESULT Get Forward Iterator Gets an interface pointer to a forward iterator (if this iterator type is supported by the container) and increment its reference counter. (Alternatively use F_VN_Get Forward Iterator.) 378 Version: 2.4.0 TF7000 - TF7810
## Page 379

API reference Syntax Definition: METHOD Get Forward Iterator : HRESULT VAR_INPUT pip Iterator : Pointer To ITc Vn Forward Iterator; END_VAR Inputs Name Type Description pip Iterator Pointer To Returns the iterator interface. ITc Vn Forward Iterator [} 365] Return value HRESULT [} 144] 6.1.3.1.5.9 Get Random Access Iterator Get Random Access Iterator pip Iterator Pointer To ITc Vn Random Access Iterator HRESULT Get Random Access Iterator Gets an interface pointer to a random access iterator (if this iterator type is supported by the container) and increment its reference counter. (Alternatively use F_VN_Get Random Access Iterator.) Syntax Definition: METHOD Get Random Access Iterator : HRESULT VAR_INPUT pip Iterator : Pointer To ITc Vn Random Access Iterator; END_VAR Inputs Name Type Description pip Iterator Pointer To Returns the iterator interface. ITc Vn Random Access Iterat or [} 371] Return value HRESULT [} 144] 6.1.3.1.5.10 Get Type Guid Get Type Guid n Type Guid Reference To GUID HRESULT Get Type Guid Gets GUID of the container. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 379
## Page 380

API reference METHOD Get Type Guid : HRESULT VAR_INPUT n Type Guid : Reference To GUID; END_VAR Inputs Name Type Description n Type Guid Reference To GUID Returns the GUID of the container. Return value HRESULT [} 144] 6.1.3.1.5.11 Get Type Name Get Type Name s Type Name STRING HRESULT Get Type Name n Max Len UINT Gets the container type name as a string. Syntax Definition: METHOD Get Type Name : HRESULT VAR_INPUT s Type Name : STRING; n Max Len : UINT; END_VAR Inputs Name Type Description s Type Name STRING Returns the container type name as a string. n Max Len UINT Maximum string length allowed to be written in s Type Name Return value HRESULT [} 144] 6.1.3.2 Images This group contains interfaces for recording and handling images [} 152]. 6.1.3.2.1 Acquisition This group contains interfaces for handling the image acquisition. 6.1.3.2.1.1 ITc Io File Image Acquisition Interface for file image acquisition. 380 Version: 2.4.0 TF7000 - TF7810
## Page 381

API reference Inheritance Hierarchy ITc Unknown [} 429] ITc Io Image Acquisition [} 385] ITc Io File Image Acquisition Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Register Receiver [} 385] ITc Io Image Acquisition Register callback interface. Unregister Receiver [} 386] ITc Io Image Acquisition Unregister callback interface. Open Camera [} 386] ITc Io Image Acquisition Open camera (open the control channel, open a stream channel, and activate the GVSP receiver). Close Camera [} 386] ITc Io Image Acquisition Close camera (deactivate the GVSP receiver, close the stream channel, and close the control channel). Start Acquisition [} 386] ITc Io Image Acquisition Start the image acquisition. Stop Acquisition [} 387] ITc Io Image Acquisition Stop the image acquisition. Software Trigger [} 387] ITc Io Image Acquisition Initialize the software trigger and trigger it. The initialization step is skipped if it was executed before. Initialize Camera [} 388] ITc Io Image Acquisition Send initialization commands to the camera. Check Connection [} 381] ITc Io File Image Acquisition Checks the connection Trigger Image [} 381] ITc Io File Image Acquisition Initialize the software trigger and trigger a single image. Skips n Skip Images and triggers the capturing of image n Skip Images+1. Trigger Image By Name ITc Io File Image Acquisition Initialize the software trigger and trigger a single image specified by its name in the client assistant. [} 382] System Requirements 6.1.3.2.1.1.1 Check Connection Check Connection HRESULT Check Connection Checks the connection Syntax Definition: METHOD Check Connection : HRESULT Return value HRESULT [} 144] 6.1.3.2.1.1.2 Trigger Image Trigger Image n Skip Images DINT HRESULT Trigger Image TF7000 - TF7810 Version: 2.4.0 381
## Page 382

API reference Initialize the software trigger and trigger a single image. Skips n Skip Images and triggers the capturing of image n Skip Images+1. Syntax Definition: METHOD Trigger Image : HRESULT VAR_INPUT n Skip Images : DINT; END_VAR Inputs Name Type Description n Skip Images DINT Number of images to skip Return value HRESULT [} 144] 6.1.3.2.1.1.3 Trigger Image By Name Trigger Image By Name s Image Name STRING HRESULT Trigger Image By Name Initialize the software trigger and trigger a single image specified by its name in the client assistant. Syntax Definition: METHOD Trigger Image By Name : HRESULT VAR_INPUT s Image Name : STRING; END_VAR Inputs Name Type Description s Image Name STRING Image name to trigger Return value HRESULT [} 144] 6.1.3.2.1.2 ITc Io File Image Recv Interface for a image receiver. Inheritance Hierarchy ITc Unknown [} 429] ITc Io Image Recv [} 388] ITc Io File Image Recv 382 Version: 2.4.0 TF7000 - TF7810
## Page 383

API reference Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Receive Image [} 388] ITc Io Image Recv Receive an image from an instance of ITc Io Gev Image Acquisition. Receive Op Result [} 389] ITc Io Image Recv Receive an operation result from an instance of ITc Io Gev Image Acquisition. Receive Image [} 383] ITc Io File Image Recv Receive an image from an instance of ITc Io File Image Acquisition. System Requirements 6.1.3.2.1.2.1 Receive Image Receive Image ip Image ITc Vn Image Base HRESULT Receive Image s File Name STRING hr Acquisition Result HRESULT Receive an image from an instance of ITc Io File Image Acquisition. Syntax Definition: METHOD Receive Image : HRESULT VAR_INPUT ip Image : ITc Vn Image Base; s File Name : STRING; hr Acquisition Result : HRESULT; END_VAR Inputs Name Type Description ip Image ITc Vn Image Base [} 416] Interface pointer to the image. s File Name STRING Returns the filename to the image. hr Acquisition R HRESULT [} 144] HRESULT indicating the status of the image acquisition. esult Return value HRESULT [} 144] 6.1.3.2.1.3 ITc Io Gev Image Acquisition Interface for Gig E Vision image acquisition. Inheritance Hierarchy ITc Unknown [} 429] ITc Io Image Acquisition [} 385] ITc Io Gev Image Acquisition TF7000 - TF7810 Version: 2.4.0 383
## Page 384

API reference Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Register Receiver [} 385] ITc Io Image Acquisition Register callback interface. Unregister Receiver [} 386] ITc Io Image Acquisition Unregister callback interface. Open Camera [} 386] ITc Io Image Acquisition Open camera (open the control channel, open a stream channel, and activate the GVSP receiver). Close Camera [} 386] ITc Io Image Acquisition Close camera (deactivate the GVSP receiver, close the stream channel, and close the control channel). Start Acquisition [} 386] ITc Io Image Acquisition Start the image acquisition. Stop Acquisition [} 387] ITc Io Image Acquisition Stop the image acquisition. Software Trigger [} 387] ITc Io Image Acquisition Initialize the software trigger and trigger it. The initialization step is skipped if it was executed before. Initialize Camera [} 388] ITc Io Image Acquisition Send initialization commands to the camera. Check Connection [} 384] ITc Io Gev Image Acquisition Checks the camera connection System Requirements 6.1.3.2.1.3.1 Check Connection Check Connection e Assumed State Reference To GEV_CAMERA_STATE HRESULT Check Connection e Actual State Reference To GEV_CAMERA_STATE Checks the camera connection Syntax Definition: METHOD Check Connection : HRESULT VAR_INPUT e Assumed State : Reference To GEV_CAMERA_STATE; e Actual State : Reference To GEV_CAMERA_STATE; END_VAR Inputs Name Type Description e Assumed Stat Reference To The internally assumed state of the camera. e GEV_CAMERA_STATE [} 228] e Actual State Reference To The actually observable state of the camera. GEV_CAMERA_STATE [} 228] Return value HRESULT [} 144] 384 Version: 2.4.0 TF7000 - TF7810
## Page 385

API reference 6.1.3.2.1.4 ITc Io Image Acquisition Interface for image acquisition. Inheritance Hierarchy ITc Unknown [} 429] ITc Io Image Acquisition Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Register Receiver [} 385] ITc Io Image Acquisition Register callback interface. Unregister Receiver [} 386] ITc Io Image Acquisition Unregister callback interface. Open Camera [} 386] ITc Io Image Acquisition Open camera (open the control channel, open a stream channel, and activate the GVSP receiver). Close Camera [} 386] ITc Io Image Acquisition Close camera (deactivate the GVSP receiver, close the stream channel, and close the control channel). Start Acquisition [} 386] ITc Io Image Acquisition Start the image acquisition. Stop Acquisition [} 387] ITc Io Image Acquisition Stop the image acquisition. Software Trigger [} 387] ITc Io Image Acquisition Initialize the software trigger and trigger it. The initialization step is skipped if it was executed before. Initialize Camera [} 388] ITc Io Image Acquisition Send initialization commands to the camera. System Requirements 6.1.3.2.1.4.1 Register Receiver Register Receiver ip Recv ITc Io Image Recv HRESULT Register Receiver Register callback interface. Syntax Definition: METHOD Register Receiver : HRESULT VAR_INPUT ip Recv : ITc Io Image Recv; END_VAR Inputs Name Type Description ip Recv ITc Io Image Recv [} 388] Pointer to an interface containing the callback function. Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 385
## Page 386

API reference 6.1.3.2.1.4.2 Unregister Receiver Unregister Receiver HRESULT Unregister Receiver Unregister callback interface. Syntax Definition: METHOD Unregister Receiver : HRESULT Return value HRESULT [} 144] 6.1.3.2.1.4.3 Open Camera Open Camera HRESULT Open Camera Open camera (open the control channel, open a stream channel, and activate the GVSP receiver). Syntax Definition: METHOD Open Camera : HRESULT Return value HRESULT [} 144] 6.1.3.2.1.4.4 Close Camera Close Camera HRESULT Close Camera Close camera (deactivate the GVSP receiver, close the stream channel, and close the control channel). Syntax Definition: METHOD Close Camera : HRESULT Return value HRESULT [} 144] 6.1.3.2.1.4.5 Start Acquisition Start Acquisition HRESULT Start Acquisition Start the image acquisition. 386 Version: 2.4.0 TF7000 - TF7810
## Page 387

API reference Syntax Definition: METHOD Start Acquisition : HRESULT Return value HRESULT [} 144] 6.1.3.2.1.4.6 Stop Acquisition Stop Acquisition HRESULT Stop Acquisition Stop the image acquisition. Syntax Definition: METHOD Stop Acquisition : HRESULT Return value HRESULT [} 144] 6.1.3.2.1.4.7 Software Trigger Software Trigger b Split Concatenated Commands BOOL HRESULT Software Trigger b Omit Acknowledgement BOOL Initialize the software trigger and trigger it. The initialization step is skipped if it was executed before. Syntax Definition: METHOD Software Trigger : HRESULT VAR_INPUT b Split Concatenated Commands : BOOL; b Omit Acknowledgement : BOOL; END_VAR Inputs Name Type Description b Split Concaten BOOL If true, multi-read and multi-write commands are split into ated Command sequences of single read and single write commands, s respectively. b Omit Acknowl BOOL Indicates that no acknowledge packet should be requested. edgement Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 387
## Page 388

API reference 6.1.3.2.1.4.8 Initialize Camera Initialize Camera HRESULT Initialize Camera Send initialization commands to the camera. Syntax Definition: METHOD Initialize Camera : HRESULT Return value HRESULT [} 144] 6.1.3.2.1.5 ITc Io Image Recv Interface for a image receiver. Inheritance Hierarchy ITc Unknown [} 429] ITc Io Image Recv Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Receive Image [} 388] ITc Io Image Recv Receive an image from an instance of ITc Io Gev Image Acquisition. Receive Op Result [} 389] ITc Io Image Recv Receive an operation result from an instance of ITc Io Gev Image Acquisition. System Requirements 6.1.3.2.1.5.1 Receive Image Receive Image ip Image ITc Vn Image Base HRESULT Receive Image hr Acquisition Result HRESULT Receive an image from an instance of ITc Io Gev Image Acquisition. Syntax Definition: METHOD Receive Image : HRESULT VAR_INPUT ip Image : ITc Vn Image Base; hr Acquisition Result : HRESULT; END_VAR 388 Version: 2.4.0 TF7000 - TF7810
## Page 389

API reference Inputs Name Type Description ip Image ITc Vn Image Base [} 416] Interface pointer to the image. hr Acquisition R HRESULT [} 144] HRESULT indicating the status of the image acquisition. esult Return value HRESULT [} 144] 6.1.3.2.1.5.2 Receive Op Result Receive Op Result hr Operation Result HRESULT HRESULT Receive Op Result Receive an operation result from an instance of ITc Io Gev Image Acquisition. Syntax Definition: METHOD Receive Op Result : HRESULT VAR_INPUT hr Operation Result : HRESULT; END_VAR Inputs Name Type Description hr Operation Re HRESULT [} 144] HRESULT indicating the status of the performed operation. sult Return value HRESULT [} 144] 6.1.3.2.1.6 ITc Vn File Image Provider Interface for an image provider for images from outside realtime environment. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Image Provider [} 394] ITc Vn File Image Provider TF7000 - TF7810 Version: 2.4.0 389
## Page 390

API reference Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Check If Busy [} 394] ITc Vn Image Provider Check whether the module is busy; i.e, an operation is in progress. Check If Camera Connected ITc Vn Image Provider Check if the camera is properly connected (Returns S_OK if connected and S_FALSE if not. Can only [} 395] check software connection, i.e. the check is unable to determine if the cable is connected or not in case that S_FALSE is returned). Get Current Image [} 395] ITc Vn Image Provider Gets the current image by detaching its internal reference. Get Error [} 395] ITc Vn Image Provider Gets result of the last operation performed. Open Camera [} 396] ITc Vn Image Provider Open camera (open the control channel, open a stream channel, and activate the GVSP receiver). Close Camera [} 396] ITc Vn Image Provider Close camera (deactivate the GVSP receiver, close the stream channel, and close the control channel). Start Acquisition [} 396] ITc Vn Image Provider Start image acquisition. Stop Acquisition [} 397] ITc Vn Image Provider Stop image acquisition. Software Trigger [} 397] ITc Vn Image Provider Initialize the software trigger and trigger it. The initialization step is skipped if it was executed before. Initialize Camera [} 397] ITc Vn Image Provider Set camera to initial state. ITc Vn File Image Provider Get the current image by detaching its internal Get Current Image And File N reference. ame [} 390] Trigger Image [} 391] ITc Vn File Image Provider Initialize the software trigger and trigger a single image. Skips n Skip Images and triggers the capturing of image n Skip Images+1. Trigger Image By Name ITc Vn File Image Provider Initialize the software trigger and trigger a single image specified by its name in the client assistant. [} 391] System Requirements 6.1.3.2.1.6.1 Get Current Image And File Name Get Current Image And File Name pip Image Pointer To ITc Vn Image HRESULT Get Current Image And File Name s File Name STRING n Max Len UINT Get the current image by detaching its internal reference. Syntax Definition: METHOD Get Current Image And File Name : HRESULT VAR_INPUT pip Image : Pointer To ITc Vn Image; s File Name : STRING; n Max Len : UINT; END_VAR 390 Version: 2.4.0 TF7000 - TF7810
## Page 391

API reference Inputs Name Type Description pip Image Pointer To ITc Vn Image pointer to the interface pointer to be returned, might be 0 if the image acquisition failed [} 413] s File Name STRING returns the filename as a string n Max Len UINT maximum string length allowed to be written in s File Name Return value HRESULT [} 144] 6.1.3.2.1.6.2 Trigger Image Trigger Image n Skip Images DINT HRESULT Trigger Image Initialize the software trigger and trigger a single image. Skips n Skip Images and triggers the capturing of image n Skip Images+1. Syntax Definition: METHOD Trigger Image : HRESULT VAR_INPUT n Skip Images : DINT; END_VAR Inputs Name Type Description n Skip Images DINT Number of images to skip Return value HRESULT [} 144] 6.1.3.2.1.6.3 Trigger Image By Name Trigger Image By Name s Image Name STRING HRESULT Trigger Image By Name Initialize the software trigger and trigger a single image specified by its name in the client assistant. Syntax Definition: METHOD Trigger Image By Name : HRESULT VAR_INPUT s Image Name : STRING; END_VAR TF7000 - TF7810 Version: 2.4.0 391
## Page 392

API reference Inputs Name Type Description s Image Name STRING Image name to trigger Return value HRESULT [} 144] 6.1.3.2.1.7 ITc Vn Gev Image Provider Interface for a Gig E Vision image provider. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Image Provider [} 394] ITc Vn Gev Image Provider Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Check If Busy [} 394] ITc Vn Image Provider Check whether the module is busy; i.e, an operation is in progress. Check If Camera Connected ITc Vn Image Provider Check if the camera is properly connected (Returns S_OK if connected and S_FALSE if not. Can only [} 395] check software connection, i.e. the check is unable to determine if the cable is connected or not in case that S_FALSE is returned). Get Current Image [} 395] ITc Vn Image Provider Gets the current image by detaching its internal reference. Get Error [} 395] ITc Vn Image Provider Gets result of the last operation performed. Open Camera [} 396] ITc Vn Image Provider Open camera (open the control channel, open a stream channel, and activate the GVSP receiver). Close Camera [} 396] ITc Vn Image Provider Close camera (deactivate the GVSP receiver, close the stream channel, and close the control channel). Start Acquisition [} 396] ITc Vn Image Provider Start image acquisition. Stop Acquisition [} 397] ITc Vn Image Provider Stop image acquisition. Software Trigger [} 397] ITc Vn Image Provider Initialize the software trigger and trigger it. The initialization step is skipped if it was executed before. Initialize Camera [} 397] ITc Vn Image Provider Set camera to initial state. Get Current Gev Image ITc Vn Gev Image Provider Gets the current Gig E Vision image by detaching its internal reference. [} 393] ITc Vn Gev Image Provider Gets the current image by detaching its internal Get Current Image With Gvs reference and additionally provide the GVSP info. p Info [} 393] 392 Version: 2.4.0 TF7000 - TF7810
## Page 393

API reference System Requirements 6.1.3.2.1.7.1 Get Current Gev Image Get Current Gev Image pip Gev Image Pointer To ITc Io Gev Image HRESULT Get Current Gev Image Gets the current Gig E Vision image by detaching its internal reference. Syntax Definition: METHOD Get Current Gev Image : HRESULT VAR_INPUT pip Gev Image : Pointer To ITc Io Gev Image; END_VAR Inputs Name Type Description pip Gev Image Pointer To ITc Io Gev Image Pointer to the interface pointer to be returned, might be 0 if the image acquisition failed. [} 410] Return value HRESULT [} 144] 6.1.3.2.1.7.2 Get Current Image With Gvsp Info Get Current Image With Gvsp Info pip Image Pointer To ITc Vn Image HRESULT Get Current Image With Gvsp Info st Gvsp Info Reference To GVSP_IMAGE_INFO Gets the current image by detaching its internal reference and additionally provide the GVSP info. Syntax Definition: METHOD Get Current Image With Gvsp Info : HRESULT VAR_INPUT pip Image : Pointer To ITc Vn Image; st Gvsp Info : Reference To GVSP_IMAGE_INFO; END_VAR Inputs Name Type Description pip Image Pointer To ITc Vn Image Pointer to the interface pointer to be returned, might be 0 if the image acquisition failed. [} 413] st Gvsp Info Reference To Contains useful meta information like image id, time stamp etc. GVSP_IMAGE_INFO [} 232] Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 393
## Page 394

API reference 6.1.3.2.1.8 ITc Vn Image Provider Interface for an image provider. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Image Provider Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Check If Busy [} 394] ITc Vn Image Provider Check whether the module is busy; i.e, an operation is in progress. Check If Camera Connected ITc Vn Image Provider Check if the camera is properly connected (Returns S_OK if connected and S_FALSE if not. Can only [} 395] check software connection, i.e. the check is unable to determine if the cable is connected or not in case that S_FALSE is returned). Get Current Image [} 395] ITc Vn Image Provider Gets the current image by detaching its internal reference. Get Error [} 395] ITc Vn Image Provider Gets result of the last operation performed. Open Camera [} 396] ITc Vn Image Provider Open camera (open the control channel, open a stream channel, and activate the GVSP receiver). Close Camera [} 396] ITc Vn Image Provider Close camera (deactivate the GVSP receiver, close the stream channel, and close the control channel). Start Acquisition [} 396] ITc Vn Image Provider Start image acquisition. Stop Acquisition [} 397] ITc Vn Image Provider Stop image acquisition. Software Trigger [} 397] ITc Vn Image Provider Initialize the software trigger and trigger it. The initialization step is skipped if it was executed before. Initialize Camera [} 397] ITc Vn Image Provider Set camera to initial state. System Requirements 6.1.3.2.1.8.1 Check If Busy Check If Busy HRESULT Check If Busy Check whether the module is busy; i.e, an operation is in progress. Syntax Definition: METHOD Check If Busy : HRESULT Return value HRESULT [} 144] 394 Version: 2.4.0 TF7000 - TF7810
## Page 395

API reference 6.1.3.2.1.8.2 Check If Camera Connected Check If Camera Connected HRESULT Check If Camera Connected Check if the camera is properly connected (Returns S_OK if connected and S_FALSE if not. Can only check software connection, i.e. the check is unable to determine if the cable is connected or not in case that S_FALSE is returned). Syntax Definition: METHOD Check If Camera Connected : HRESULT Return value HRESULT [} 144] 6.1.3.2.1.8.3 Get Current Image Get Current Image pip Image Pointer To ITc Vn Image HRESULT Get Current Image Gets the current image by detaching its internal reference. Syntax Definition: METHOD Get Current Image : HRESULT VAR_INPUT pip Image : Pointer To ITc Vn Image; END_VAR Inputs Name Type Description pip Image Pointer To ITc Vn Image Pointer to the interface pointer to be returned, might be 0 if the image acquisition failed. [} 413] Return value HRESULT [} 144] 6.1.3.2.1.8.4 Get Error Get Error HRESULT Get Error Gets result of the last operation performed. Syntax Definition: METHOD Get Error : HRESULT TF7000 - TF7810 Version: 2.4.0 395
## Page 396

API reference Return value HRESULT [} 144] 6.1.3.2.1.8.5 Open Camera Open Camera HRESULT Open Camera Open camera (open the control channel, open a stream channel, and activate the GVSP receiver). Syntax Definition: METHOD Open Camera : HRESULT Return value HRESULT [} 144] 6.1.3.2.1.8.6 Close Camera Close Camera HRESULT Close Camera Close camera (deactivate the GVSP receiver, close the stream channel, and close the control channel). Syntax Definition: METHOD Close Camera : HRESULT Return value HRESULT [} 144] 6.1.3.2.1.8.7 Start Acquisition Start Acquisition HRESULT Start Acquisition Start image acquisition. Syntax Definition: METHOD Start Acquisition : HRESULT Return value HRESULT [} 144] 396 Version: 2.4.0 TF7000 - TF7810
## Page 397

API reference 6.1.3.2.1.8.8 Stop Acquisition Stop Acquisition HRESULT Stop Acquisition Stop image acquisition. Syntax Definition: METHOD Stop Acquisition : HRESULT Return value HRESULT [} 144] 6.1.3.2.1.8.9 Software Trigger Software Trigger HRESULT Software Trigger Initialize the software trigger and trigger it. The initialization step is skipped if it was executed before. Syntax Definition: METHOD Software Trigger : HRESULT Return value HRESULT [} 144] 6.1.3.2.1.8.10 Initialize Camera Initialize Camera HRESULT Initialize Camera Set camera to initial state. Syntax Definition: METHOD Initialize Camera : HRESULT Return value HRESULT [} 144] 6.1.3.2.2 Export This group contains interfaces for handling the data export in connection with images. 6.1.3.2.2.1 ITc Vn Bitmap Export Interface for exporting an image as a Windows Bitmap (BMP). TF7000 - TF7810 Version: 2.4.0 397
## Page 398

API reference Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Bitmap Export Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get Bitmap Size [} 398] ITc Vn Bitmap Export Gets size of the image if it is converted to a Windows Bitmap (BMP). Get Bitmap Image [} 399] ITc Vn Bitmap Export Export the image as a Windows Bitmap (BMP) into a given buffer. Further information By definition, a bitmap can have only 8 bits (for 1-channel images) or 24 bits (for 3 and 4-channel images). Therefore, 16-bit images as well as images with the element type REAL or LREAL are converted for the bitmap export. In the case of 16-bit images the value range is simply scaled down to 8-bit (0 corresponds to 0 and 255 corresponds to 65,280). In the case of (L)REAL images the value range [-1, +1] is scaled to [-127, +127] and transferred as a signed integer. Values outside these limits will be interpreted as -1 or +1 respectively. System Requirements 6.1.3.2.2.1.1 Get Bitmap Size Get Bitmap Size n Bitmap Size Reference To ULINT HRESULT Get Bitmap Size n Bitmap Width Reference To UDINT n Bitmap Height Reference To UDINT Gets size of the image if it is converted to a Windows Bitmap (BMP). Syntax Definition: METHOD Get Bitmap Size : HRESULT VAR_INPUT n Bitmap Size : Reference To ULINT; n Bitmap Width : Reference To UDINT; n Bitmap Height : Reference To UDINT; END_VAR Inputs Name Type Description n Bitmap Size Reference To ULINT Output parameter containing the required buffer size. n Bitmap Width Reference To UDINT Desired width or 0 to keep the original width (in) and actual width (out). n Bitmap Height Reference To UDINT Desired height or 0 to keep the original height (in) and actual height (out). 398 Version: 2.4.0 TF7000 - TF7810
## Page 399

API reference Return value HRESULT [} 144] 6.1.3.2.2.1.2 Get Bitmap Image Get Bitmap Image n Bitmap Size Reference To ULINT HRESULT Get Bitmap Image p Dest Buffer PVOID n Bitmap Width Reference To UDINT n Bitmap Height Reference To UDINT Export the image as a Windows Bitmap (BMP) into a given buffer. Syntax Definition: METHOD Get Bitmap Image : HRESULT VAR_INPUT n Bitmap Size : Reference To ULINT; p Dest Buffer : PVOID; n Bitmap Width : Reference To UDINT; n Bitmap Height : Reference To UDINT; END_VAR Inputs Name Type Description n Bitmap Size Reference To ULINT Maximum buffer size (in) and actual buffer size (out). p Dest Buffer PVOID Pointer to the destination buffer. n Bitmap Width Reference To UDINT Desired width or 0 to keep the original width (in) and actual width (out). n Bitmap Height Reference To UDINT Desired height or 0 to keep the original height (in) and actual height (out). Return value HRESULT [} 144] 6.1.3.2.2.2 ITc Vn Bitmap Export Notification Interface required for sending displayable images as ADS notifications Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Bitmap Export Notification TF7000 - TF7810 Version: 2.4.0 399
## Page 400

API reference Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get Timestamp [} 400] ITc Vn Bitmap Export Notific Gets the timestamp of the latest image change. ation ITc Vn Bitmap Export Notific Export the image as a Windows Bitmap (BMP) into a Get Bitmap Image Rpc Unloc ation given buffer by means of an unlocked remote procedure call. It lies within the responsibility of the ked [} 400] user to ensure that no conflicting accesses can occur. System Requirements 6.1.3.2.2.2.1 Get Timestamp Get Timestamp n Timestamp Reference To LINT HRESULT Get Timestamp Gets the timestamp of the latest image change. Syntax Definition: METHOD Get Timestamp : HRESULT VAR_INPUT n Timestamp : Reference To LINT; END_VAR Inputs Name Type Description n Timestamp Reference To LINT Returns the timestamp. Return value HRESULT [} 144] 6.1.3.2.2.2.2 Get Bitmap Image Rpc Unlocked Get Bitmap Image Rpc Unlocked n Bitmap Size Reference To ULINT HRESULT Get Bitmap Image Rpc Unlocked p Dest Buffer PVOID n Bitmap Width Reference To UDINT n Bitmap Height Reference To UDINT Export the image as a Windows Bitmap (BMP) into a given buffer by means of an unlocked remote procedure call. It lies within the responsibility of the user to ensure that no conflicting accesses can occur. Syntax Definition: 400 Version: 2.4.0 TF7000 - TF7810
## Page 401

API reference METHOD Get Bitmap Image Rpc Unlocked : HRESULT VAR_INPUT n Bitmap Size : Reference To ULINT; p Dest Buffer : PVOID; n Bitmap Width : Reference To UDINT; n Bitmap Height : Reference To UDINT; END_VAR Inputs Name Type Description n Bitmap Size Reference To ULINT Maximum buffer size (in) and actual buffer size (out). p Dest Buffer PVOID Pointer to the destination buffer. n Bitmap Width Reference To UDINT Desired width or 0 to keep the original width (in) and actual width (out). n Bitmap Height Reference To UDINT Desired height or 0 to keep the original height (in) and actual height (out). Return value HRESULT [} 144] 6.1.3.2.2.3 ITc Vn Bitmap Export Rpc Unlocked Interface to export an image as a Windows Bitmap (BMP) into a given buffer by means of an unlocked remote procedure call. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Bitmap Export [} 397] ITc Vn Bitmap Export Rpc Unlocked Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get Bitmap Size [} 398] ITc Vn Bitmap Export Gets size of the image if it is converted to a Windows Bitmap (BMP). Get Bitmap Image [} 399] ITc Vn Bitmap Export Export the image as a Windows Bitmap (BMP) into a given buffer. ITc Vn Bitmap Export Rpc Un Export the image as a Windows Bitmap (BMP) into a Get Bitmap Image Rpc Unloc locked given buffer by means of an unlocked remote procedure call. It lies within the responsibility of the ked [} 402] user to ensure that no conflicting accesses can occur. Further information By definition, a bitmap can have only 8 bits (for 1-channel images) or 24 bits (for 3 and 4-channel images). Therefore, 16-bit images as well as images with the element type REAL or LREAL are converted for the bitmap export. In the case of 16-bit images the value range is simply scaled down to 8-bit (0 corresponds to 0 and 255 corresponds to 65,280). In the case of (L)REAL images the value range [-1, +1] is scaled to [-127, +127] and transferred as a signed integer. Values outside these limits will be interpreted as -1 or +1 respectively. TF7000 - TF7810 Version: 2.4.0 401
## Page 402

API reference System Requirements 6.1.3.2.2.3.1 Get Bitmap Image Rpc Unlocked Get Bitmap Image Rpc Unlocked n Bitmap Size Reference To ULINT HRESULT Get Bitmap Image Rpc Unlocked p Dest Buffer PVOID n Bitmap Width Reference To UDINT n Bitmap Height Reference To UDINT Export the image as a Windows Bitmap (BMP) into a given buffer by means of an unlocked remote procedure call. It lies within the responsibility of the user to ensure that no conflicting accesses can occur. Syntax Definition: METHOD Get Bitmap Image Rpc Unlocked : HRESULT VAR_INPUT n Bitmap Size : Reference To ULINT; p Dest Buffer : PVOID; n Bitmap Width : Reference To UDINT; n Bitmap Height : Reference To UDINT; END_VAR Inputs Name Type Description n Bitmap Size Reference To ULINT Maximum buffer size (in) and actual buffer size (out). p Dest Buffer PVOID Pointer to the destination buffer. n Bitmap Width Reference To UDINT Desired width or 0 to keep the original width (in) and actual width (out). n Bitmap Height Reference To UDINT Desired height or 0 to keep the original height (in) and actual height (out). Return value HRESULT [} 144] 6.1.3.2.2.4 ITc Vn Histogram Export Interface for exporting a histogram for an image as an array. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Histogram Export 402 Version: 2.4.0 TF7000 - TF7810
## Page 403

API reference Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get Histogram Size [} 403] ITc Vn Histogram Export Gets the size of the histogram array. Get Histogram Array ITc Vn Histogram Export Gets the histogram array. [} 403] Get Custom Histogram Size ITc Vn Histogram Export Gets the size of a custom histogram array. [} 404] ITc Vn Histogram Export Gets a custom histogram array. Get Custom Histogram Arra y [} 404] System Requirements 6.1.3.2.2.4.1 Get Histogram Size Get Histogram Size n Histogram Size Reference To ULINT HRESULT Get Histogram Size Gets the size of the histogram array. Syntax Definition: METHOD Get Histogram Size : HRESULT VAR_INPUT n Histogram Size : Reference To ULINT; END_VAR Inputs Name Type Description n Histogram Siz Reference To ULINT Output parameter containing the required buffer size. e Return value HRESULT [} 144] 6.1.3.2.2.4.2 Get Histogram Array Get Histogram Array n Histogram Size Reference To ULINT HRESULT Get Histogram Array p Dest Buffer PVOID Gets the histogram array. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 403
## Page 404

API reference METHOD Get Histogram Array : HRESULT VAR_INPUT n Histogram Size : Reference To ULINT; p Dest Buffer : PVOID; END_VAR Inputs Name Type Description n Histogram Siz Reference To ULINT Maximum buffer size (in) and actual buffer size (out). e p Dest Buffer PVOID Pointer to the destination buffer. Return value HRESULT [} 144] 6.1.3.2.2.4.3 Get Custom Histogram Size Get Custom Histogram Size n Histogram Size Reference To ULINT HRESULT Get Custom Histogram Size n Bins Reference To UDINT Gets the size of a custom histogram array. Syntax Definition: METHOD Get Custom Histogram Size : HRESULT VAR_INPUT n Histogram Size : Reference To ULINT; n Bins : Reference To UDINT; END_VAR Inputs Name Type Description n Histogram Siz Reference To ULINT Output parameter containing the required buffer size. e n Bins Reference To UDINT Desired number of bins or 0 to keep the default for the corresponding image format (in) and default number of bins (out). Return value HRESULT [} 144] 6.1.3.2.2.4.4 Get Custom Histogram Array Get Custom Histogram Array n Histogram Size Reference To ULINT HRESULT Get Custom Histogram Array p Dest Buffer PVOID n Bins Reference To UDINT f Lower Bound Reference To LREAL f Upper Bound Reference To LREAL Gets a custom histogram array. 404 Version: 2.4.0 TF7000 - TF7810
## Page 405

API reference Syntax Definition: METHOD Get Custom Histogram Array : HRESULT VAR_INPUT n Histogram Size : Reference To ULINT; p Dest Buffer : PVOID; n Bins : Reference To UDINT; f Lower Bound : Reference To LREAL; f Upper Bound : Reference To LREAL; END_VAR Inputs Name Type Description n Histogram Siz Reference To ULINT Maximum buffer size (in) and actual buffer size (out). e p Dest Buffer PVOID Pointer to the destination buffer. n Bins Reference To UDINT Desired number of bins or 0 to keep the default for the corresponding image format (in) and default number of bins (out). f Lower Bound Reference To LREAL Lower (inclusive) boundary of the 0-th histogram bin (in), or receive the default if f Lower Bound AND f Upper Bound are set to 0 (out). f Upper Bound Reference To LREAL Upper (exclusive) boundary of the last histogram bin n Bins-1 (in), or receive the default if f Lower Bound AND f Upper Bound are set to 0 (out). Return value HRESULT [} 144] 6.1.3.2.2.5 ITc Vn Tiff Export Interface for exporting an image as tiff. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Tiff Export Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get Tiff Size [} 405] ITc Vn Tiff Export Gets size of the image if it is converted to tiff. Get Tiff Image [} 406] ITc Vn Tiff Export Export the image as tiff into a given buffer. System Requirements 6.1.3.2.2.5.1 Get Tiff Size Get Tiff Size n Tiff Size Reference To ULINT HRESULT Get Tiff Size TF7000 - TF7810 Version: 2.4.0 405
## Page 406

API reference Gets size of the image if it is converted to tiff. Syntax Definition: METHOD Get Tiff Size : HRESULT VAR_INPUT n Tiff Size : Reference To ULINT; END_VAR Inputs Name Type Description n Tiff Size Reference To ULINT Output parameter containing the required buffer size. Return value HRESULT [} 144] 6.1.3.2.2.5.2 Get Tiff Image Get Tiff Image n Tiff Size Reference To ULINT HRESULT Get Tiff Image p Dest Buffer PVOID Export the image as tiff into a given buffer. Syntax Definition: METHOD Get Tiff Image : HRESULT VAR_INPUT n Tiff Size : Reference To ULINT; p Dest Buffer : PVOID; END_VAR Inputs Name Type Description n Tiff Size Reference To ULINT Maximum buffer size (in) and actual buffer size (out). p Dest Buffer PVOID Pointer to the destination buffer. Return value HRESULT [} 144] 6.1.3.2.2.6 ITc Vn Tiff Export Notification Interface for sending displayable images as tiff via ADS notifications. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Tiff Export Notification 406 Version: 2.4.0 TF7000 - TF7810
## Page 407

API reference Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get Timestamp [} 407] ITc Vn Tiff Export Notificatio Gets the timestamp of the latest image change. n Get Tiff Image Rpc Unlocked ITc Vn Tiff Export Notificatio Export the image as tiff into a given buffer by means n of an unlocked remote procedure call. It lies within [} 407] the responsibility of the user to ensure that no conflicting accesses can occur. System Requirements 6.1.3.2.2.6.1 Get Timestamp Get Timestamp n Timestamp Reference To LINT HRESULT Get Timestamp Gets the timestamp of the latest image change. Syntax Definition: METHOD Get Timestamp : HRESULT VAR_INPUT n Timestamp : Reference To LINT; END_VAR Inputs Name Type Description n Timestamp Reference To LINT Returns the timestamp. Return value HRESULT [} 144] 6.1.3.2.2.6.2 Get Tiff Image Rpc Unlocked Get Tiff Image Rpc Unlocked n Tiff Size Reference To ULINT HRESULT Get Tiff Image Rpc Unlocked p Dest Buffer PVOID Export the image as tiff into a given buffer by means of an unlocked remote procedure call. It lies within the responsibility of the user to ensure that no conflicting accesses can occur. Syntax Definition: METHOD Get Tiff Image Rpc Unlocked : HRESULT VAR_INPUT n Tiff Size : Reference To ULINT; p Dest Buffer : PVOID; END_VAR TF7000 - TF7810 Version: 2.4.0 407
## Page 408

API reference Inputs Name Type Description n Tiff Size Reference To ULINT Maximum buffer size (in) and actual buffer size (out). p Dest Buffer PVOID Pointer to the destination buffer. Return value HRESULT [} 144] 6.1.3.2.2.7 ITc Vn Tiff Export Rpc Unlocked Interface for exporting an image as tiff by means of an unlocked remote procedure call. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Tiff Export [} 405] ITc Vn Tiff Export Rpc Unlocked Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get Tiff Size [} 405] ITc Vn Tiff Export Gets size of the image if it is converted to tiff. Get Tiff Image [} 406] ITc Vn Tiff Export Export the image as tiff into a given buffer. Get Tiff Image Rpc Unlocked ITc Vn Tiff Export Rpc Unlock Export the image as tiff into a given buffer by means ed of an unlocked remote procedure call. It lies within [} 408] the responsibility of the user to ensure that no conflicting accesses can occur. System Requirements 6.1.3.2.2.7.1 Get Tiff Image Rpc Unlocked Get Tiff Image Rpc Unlocked n Tiff Size Reference To ULINT HRESULT Get Tiff Image Rpc Unlocked p Dest Buffer PVOID Export the image as tiff into a given buffer by means of an unlocked remote procedure call. It lies within the responsibility of the user to ensure that no conflicting accesses can occur. Syntax Definition: METHOD Get Tiff Image Rpc Unlocked : HRESULT VAR_INPUT n Tiff Size : Reference To ULINT; p Dest Buffer : PVOID; END_VAR 408 Version: 2.4.0 TF7000 - TF7810
## Page 409

API reference Inputs Name Type Description n Tiff Size Reference To ULINT Maximum buffer size (in) and actual buffer size (out). p Dest Buffer PVOID Pointer to the destination buffer. Return value HRESULT [} 144] 6.1.3.2.3 Import This group contains interfaces for handling the data import in connection with images. 6.1.3.2.3.1 ITc Vn Tiff Import Interface for importing a tiff image. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Tiff Import Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Import Tiff Image [} 409] ITc Vn Tiff Import Import a tiff image. System Requirements 6.1.3.2.3.1.1 Import Tiff Image Import Tiff Image p Tiff Image PVOID HRESULT Import Tiff Image Import a tiff image. Syntax Definition: METHOD Import Tiff Image : HRESULT VAR_INPUT p Tiff Image : PVOID; END_VAR Inputs Name Type Description p Tiff Image PVOID Pointer to the tiff file. TF7000 - TF7810 Version: 2.4.0 409
## Page 410

API reference Return value HRESULT [} 144] 6.1.3.2.4 ITc Io Gev Image Interface for Gig E Vision images. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Image Base [} 416] ITc Io Gev Image Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get Image Data [} 417] ITc Vn Image Base Gets the data interface (Do not explicitly free the pointer in there!). Get Image Size [} 417] ITc Vn Image Base Gets the image size. Get Width [} 417] ITc Vn Image Base Gets the image width (alternatively use F_VN_Get Image Width). Get Height [} 418] ITc Vn Image Base Gets the image height (alternatively use F_VN_Get Image Height). Get XPadding [} 418] ITc Vn Image Base Gets the horizontal padding. Get YPadding [} 419] ITc Vn Image Base Gets the vertical padding. Get Pixel Format [} 419] ITc Vn Image Base Gets the pixel format (alternatively use F_VN_Get Pixel Format). Get Image Info [} 420] ITc Vn Image Base Gets a struct containing all common meta infos of the image. This basically encompasses all meta information accessible via this interface. (Alternatively use F_VN_Get Image Info.) Check If Copy [} 410] ITc Io Gev Image Check if image data is a copy. Decrease Height [} 411] ITc Io Gev Image Sets image height to new Height if it is smaller than the current value. Get Block Id [} 411] ITc Io Gev Image Gets the GVSP block ID. Get Gev Status [} 412] ITc Io Gev Image Gets the block status. Get Gvsp Image Info [} 412] ITc Io Gev Image Gets a pointer to the GVSP leader payload. Set Gev Status [} 412] ITc Io Gev Image Sets the block status. System Requirements 6.1.3.2.4.1 Check If Copy Check If Copy HRESULT Check If Copy Check if image data is a copy. 410 Version: 2.4.0 TF7000 - TF7810
## Page 411

API reference Syntax Definition: METHOD Check If Copy : HRESULT Return value HRESULT [} 144] 6.1.3.2.4.2 Decrease Height Decrease Height n New Height UDINT HRESULT Decrease Height Sets image height to new Height if it is smaller than the current value. Syntax Definition: METHOD Decrease Height : HRESULT VAR_INPUT n New Height : UDINT; END_VAR Inputs Name Type Description n New Height UDINT Height value to set. Return value HRESULT [} 144] 6.1.3.2.4.3 Get Block Id Get Block Id n Block Id Reference To ULINT HRESULT Get Block Id Gets the GVSP block ID. Syntax Definition: METHOD Get Block Id : HRESULT VAR_INPUT n Block Id : Reference To ULINT; END_VAR Inputs Name Type Description n Block Id Reference To ULINT Returns the block ID. Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 411
## Page 412

API reference 6.1.3.2.4.4 Get Gev Status Get Gev Status n Gev Status Reference To UINT HRESULT Get Gev Status Gets the block status. Syntax Definition: METHOD Get Gev Status : HRESULT VAR_INPUT n Gev Status : Reference To UINT; END_VAR Inputs Name Type Description n Gev Status Reference To UINT Returns the Gig E Vision status code. Return value HRESULT [} 144] 6.1.3.2.4.5 Get Gvsp Image Info Get Gvsp Image Info pp Gvsp Image Info Pointer To Pointer To GVSP_IMAGE_INFO HRESULT Get Gvsp Image Info Gets a pointer to the GVSP leader payload. Syntax Definition: METHOD Get Gvsp Image Info : HRESULT VAR_INPUT pp Gvsp Image Info : Pointer To Pointer To GVSP_IMAGE_INFO; END_VAR Inputs Name Type Description pp Gvsp Image I Pointer To Pointer To Pointer to the GVSP meta information. nfo GVSP_IMAGE_INFO [} 232] Return value HRESULT [} 144] 6.1.3.2.4.6 Set Gev Status Set Gev Status n Gev Status UINT HRESULT Set Gev Status Sets the block status. 412 Version: 2.4.0 TF7000 - TF7810
## Page 413

API reference Syntax Definition: METHOD Set Gev Status : HRESULT VAR_INPUT n Gev Status : UINT; END_VAR Inputs Name Type Description n Gev Status UINT Gig E Vision status code. Return value HRESULT [} 144] 6.1.3.2.5 ITc Vn Displayable Image Interface for displayable images. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Displayable Image Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Further information This interface is used to display images via ADS (e.g. with ADS Image Watch). It is not suitable for processing images. The ITc Vn Image [} 413] interface is required to process images. For more information, see Distinction between processable and displayable images [} 152]. System Requirements 6.1.3.2.6 ITc Vn Image Basic interface for images. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Image Base [} 416] ITc Vn Image TF7000 - TF7810 Version: 2.4.0 413
## Page 414

API reference Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get Image Data [} 417] ITc Vn Image Base Gets the data interface (Do not explicitly free the pointer in there!). Get Image Size [} 417] ITc Vn Image Base Gets the image size. Get Width [} 417] ITc Vn Image Base Gets the image width (alternatively use F_VN_Get Image Width). Get Height [} 418] ITc Vn Image Base Gets the image height (alternatively use F_VN_Get Image Height). Get XPadding [} 418] ITc Vn Image Base Gets the horizontal padding. Get YPadding [} 419] ITc Vn Image Base Gets the vertical padding. Get Pixel Format [} 419] ITc Vn Image Base Gets the pixel format (alternatively use F_VN_Get Pixel Format). Get Image Info [} 420] ITc Vn Image Base Gets a struct containing all common meta infos of the image. This basically encompasses all meta information accessible via this interface. (Alternatively use F_VN_Get Image Info.) Init [} 414] ITc Vn Image Initialize an image with an ITc Vn Image Base interface. Get Row Pointer [} 415] ITc Vn Image Gets a pointer to a specific row of an image. Release Row Pointer [} 415] ITc Vn Image Release the pointer to a specific row of an image. Further information The interface ITc Vn Image is for handling images [} 152]. It provides methods for obtaining metadata such as image size, number of channels, pixel type etc. and for accessing the raw image data. This interface is not suitable for image display via ADS (e.g. with ADS Image Watch [} 134]). The ITc Vn Displayable Image [} 413] interface is required for image display via ADS. A conversion can be carried out with the following functions: • F_VN_Copy Into Displayable Image [} 764] • F_VN_Transform Into Displayble Image [} 793] Related functions • Basic Image Operations [} 756] • Algebraic Image Operations [} 505] System Requirements 6.1.3.2.6.1 Init Init ip Image Base ITc Vn Image Base HRESULT Init Initialize an image with an ITc Vn Image Base interface. Syntax Definition: 414 Version: 2.4.0 TF7000 - TF7810
## Page 415

API reference METHOD Init : HRESULT VAR_INPUT ip Image Base : ITc Vn Image Base; END_VAR Inputs Name Type Description ip Image Base ITc Vn Image Base [} 416] Image from which to obtain the data. Return value HRESULT [} 144] 6.1.3.2.6.2 Get Row Pointer Get Row Pointer n Row Index UDINT HRESULT Get Row Pointer pp Row Pointer To PVOID Gets a pointer to a specific row of an image. Syntax Definition: METHOD Get Row Pointer : HRESULT VAR_INPUT n Row Index : UDINT; pp Row : Pointer To PVOID; END_VAR Inputs Name Type Description n Row Index UDINT Row index. pp Row Pointer To PVOID Returns a pointer to the requested image row. Return value HRESULT [} 144] Further information Make sure that the describing pointer is of the same elementary type as the pixel type of the image. NOTICE Enabling an Row Pointer If you create a pointer with Get Row Pointer, you must also release it again with the method Release Row Pointer! 6.1.3.2.6.3 Release Row Pointer Release Row Pointer pp Row Pointer To PVOID HRESULT Release Row Pointer Release the pointer to a specific row of an image. TF7000 - TF7810 Version: 2.4.0 415
## Page 416

API reference Syntax Definition: METHOD Release Row Pointer : HRESULT VAR_INPUT pp Row : Pointer To PVOID; END_VAR Inputs Name Type Description pp Row Pointer To PVOID Pointer to the row pointer to be released. Return value HRESULT [} 144] 6.1.3.2.7 ITc Vn Image Base Base interface for all image types. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Image Base Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get Image Data [} 417] ITc Vn Image Base Gets the data interface (Do not explicitly free the pointer in there!). Get Image Size [} 417] ITc Vn Image Base Gets the image size. Get Width [} 417] ITc Vn Image Base Gets the image width (alternatively use F_VN_Get Image Width). Get Height [} 418] ITc Vn Image Base Gets the image height (alternatively use F_VN_Get Image Height). Get XPadding [} 418] ITc Vn Image Base Gets the horizontal padding. Get YPadding [} 419] ITc Vn Image Base Gets the vertical padding. Get Pixel Format [} 419] ITc Vn Image Base Gets the pixel format (alternatively use F_VN_Get Pixel Format). Get Image Info [} 420] ITc Vn Image Base Gets a struct containing all common meta infos of the image. This basically encompasses all meta information accessible via this interface. (Alternatively use F_VN_Get Image Info.) Further information The interface ITc Vn Image Base is used for internal purposes and is not normally needed by the user. For handling images [} 152] use the ITc Vn Image [} 413] interface instead. 416 Version: 2.4.0 TF7000 - TF7810
## Page 417

API reference System Requirements 6.1.3.2.7.1 Get Image Data Get Image Data pip Image Data Pointer To ITc Vn Data HRESULT Get Image Data Gets the data interface (Do not explicitly free the pointer in there!). Syntax Definition: METHOD Get Image Data : HRESULT VAR_INPUT pip Image Data : Pointer To ITc Vn Data; END_VAR Inputs Name Type Description pip Image Data Pointer To ITc Vn Data Returns a pointer to the image data interface. [} 425] Return value HRESULT [} 144] 6.1.3.2.7.2 Get Image Size Get Image Size n Size Reference To ULINT HRESULT Get Image Size Gets the image size. Syntax Definition: METHOD Get Image Size : HRESULT VAR_INPUT n Size : Reference To ULINT; END_VAR Inputs Name Type Description n Size Reference To ULINT Returns the image size in bytes. Return value HRESULT [} 144] 6.1.3.2.7.3 Get Width Get Width n Width Reference To UDINT HRESULT Get Width TF7000 - TF7810 Version: 2.4.0 417
## Page 418

API reference Gets the image width (alternatively use F_VN_Get Image Width). Syntax Definition: METHOD Get Width : HRESULT VAR_INPUT n Width : Reference To UDINT; END_VAR Inputs Name Type Description n Width Reference To UDINT Returns the image width in pixels. Return value HRESULT [} 144] 6.1.3.2.7.4 Get Height Get Height n Height Reference To UDINT HRESULT Get Height Gets the image height (alternatively use F_VN_Get Image Height). Syntax Definition: METHOD Get Height : HRESULT VAR_INPUT n Height : Reference To UDINT; END_VAR Inputs Name Type Description n Height Reference To UDINT Returns the image height in pixels. Return value HRESULT [} 144] 6.1.3.2.7.5 Get XPadding Get XPadding n XPadding Reference To UINT HRESULT Get XPadding Gets the horizontal padding. Syntax Definition: METHOD Get XPadding : HRESULT VAR_INPUT n XPadding : Reference To UINT; END_VAR 418 Version: 2.4.0 TF7000 - TF7810
## Page 419

API reference Inputs Name Type Description n XPadding Reference To UINT Returns the horizontal padding in bytes. Return value HRESULT [} 144] 6.1.3.2.7.6 Get YPadding Get YPadding n YPadding Reference To UINT HRESULT Get YPadding Gets the vertical padding. Syntax Definition: METHOD Get YPadding : HRESULT VAR_INPUT n YPadding : Reference To UINT; END_VAR Inputs Name Type Description n YPadding Reference To UINT Returns the vertical padding in bytes. Return value HRESULT [} 144] 6.1.3.2.7.7 Get Pixel Format Get Pixel Format st Pixel Format Reference To Tc Vn Pixel Format HRESULT Get Pixel Format Gets the pixel format (alternatively use F_VN_Get Pixel Format). Syntax Definition: METHOD Get Pixel Format : HRESULT VAR_INPUT st Pixel Format : Reference To Tc Vn Pixel Format; END_VAR Inputs Name Type Description st Pixel Format Reference To Returns a struct describing the pixel format. Tc Vn Pixel Format [} 249] TF7000 - TF7810 Version: 2.4.0 419
## Page 420

API reference Return value HRESULT [} 144] 6.1.3.2.7.8 Get Image Info Get Image Info st Image Info Reference To Tc Vn Image Info HRESULT Get Image Info Gets a struct containing all common meta infos of the image. This basically encompasses all meta information accessible via this interface. (Alternatively use F_VN_Get Image Info.) Syntax Definition: METHOD Get Image Info : HRESULT VAR_INPUT st Image Info : Reference To Tc Vn Image Info; END_VAR Inputs Name Type Description st Image Info Reference To Returns a struct describing the image. Tc Vn Image Info [} 237] Return value HRESULT [} 144] 6.1.3.3 Machine Learning This group contains interfaces for machine learning. 6.1.3.3.1 ITc Vn Color Model Interface to train and classify an image color. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Ml Model [} 422] ITc Vn Color Model 420 Version: 2.4.0 TF7000 - TF7810
## Page 421

API reference Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get Type Guid [} 423] ITc Vn Ml Model Gets the GUID of the model. Get Type Name [} 423] ITc Vn Ml Model Gets the model type name as a string. Train Image Color [} 421] ITc Vn Color Model Train the color of the provided image. Classify Image Color [} 422] ITc Vn Color Model Compute the similarity of each image pixel to the trained reference color. Further information The interface ITc Vn Color Model is for describing a color area. The model can be created or adjusted with the function F_VN_Train Image Color [} 1227] and compared with the colors of an image using the function F_VN_Reference Color Similarity_ITc Vn Color Model [} 1221]. System Requirements 6.1.3.3.1.1 Train Image Color Train Image Color ip Src Image ITc Vn Image HRESULT Train Image Color n Different Colors UDINT ip Mask ITc Vn Image n Skip Pixels UDINT Train the color of the provided image. Syntax Definition: METHOD Train Image Color : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; n Different Colors : UDINT; ip Mask : ITc Vn Image; n Skip Pixels : UDINT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image. n Different Color UDINT Number of different colors to differentiate. s ip Mask ITc Vn Image [} 413] Optional image mask. n Skip Pixels UDINT Number of pixels to skip between each evaluated color sample (to achieve a better performance). 0 takes every pixel into account and tends to be more accurate. Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 421
## Page 422

API reference 6.1.3.3.1.2 Classify Image Color Classify Image Color ip Src Image ITc Vn Image HRESULT Classify Image Color pip Dest Image Pointer To ITc Vn Image f Variance REAL f Luminance Weight REAL Compute the similarity of each image pixel to the trained reference color. Syntax Definition: METHOD Classify Image Color : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; pip Dest Image : Pointer To ITc Vn Image; f Variance : REAL; f Luminance Weight : REAL; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image. pip Dest Image Pointer To ITc Vn Image Returns the color similarity. [} 413] f Variance REAL Allowed color variance. f Luminance Wei REAL Weight the impact of the luminance. ght Return value HRESULT [} 144] 6.1.3.3.2 ITc Vn Ml Model Interface for a machine learning model. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Ml Model Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get Type Guid [} 423] ITc Vn Ml Model Gets the GUID of the model. Get Type Name [} 423] ITc Vn Ml Model Gets the model type name as a string. 422 Version: 2.4.0 TF7000 - TF7810
## Page 423

API reference Further information The interface ITc Vn Ml Model is for handling Machine Learning models. At present this only includes the use of the interface ITc Vn Color Model [} 420]. System Requirements 6.1.3.3.2.1 Get Type Guid Get Type Guid n Type Guid Reference To GUID HRESULT Get Type Guid Gets the GUID of the model. Syntax Definition: METHOD Get Type Guid : HRESULT VAR_INPUT n Type Guid : Reference To GUID; END_VAR Inputs Name Type Description n Type Guid Reference To GUID Returns the GUID of the model. Return value HRESULT [} 144] 6.1.3.3.2.2 Get Type Name Get Type Name s Type Name STRING HRESULT Get Type Name n Max Len UINT Gets the model type name as a string. Syntax Definition: METHOD Get Type Name : HRESULT VAR_INPUT s Type Name : STRING; n Max Len : UINT; END_VAR Inputs Name Type Description s Type Name STRING Returns the model type name as a string. n Max Len UINT Maximum string length allowed to be written in s Type Name. Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 423
## Page 424

API reference 6.1.3.4 Miscellaneous This group contains other interfaces. 6.1.3.4.1 ITc Serializable Notification Interface required for sending serialized objects as ADS notifications. Inheritance Hierarchy ITc Unknown [} 429] ITc Serializable Notification Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get Comparison Value ITc Serializable Notification Gets a value that reflects changes of the underlying object (e.g., the timestamp of the latest object [} 424] change). Serialize Rpc Unlocked ITc Serializable Notification Serialize an object into a given buffer. [} 425] System Requirements 6.1.3.4.1.1 Get Comparison Value Get Comparison Value n Comparison Value Reference To LINT HRESULT Get Comparison Value Gets a value that reflects changes of the underlying object (e.g., the timestamp of the latest object change). Syntax Definition: METHOD Get Comparison Value : HRESULT VAR_INPUT n Comparison Value : Reference To LINT; END_VAR Inputs Name Type Description n Comparison V Reference To LINT Returns the comparison value. alue Return value HRESULT [} 144] 424 Version: 2.4.0 TF7000 - TF7810
## Page 425

API reference 6.1.3.4.1.2 Serialize Rpc Unlocked Serialize Rpc Unlocked n Buffer Size Reference To ULINT HRESULT Serialize Rpc Unlocked p Dest Buffer PVOID Serialize an object into a given buffer. Syntax Definition: METHOD Serialize Rpc Unlocked : HRESULT VAR_INPUT n Buffer Size : Reference To ULINT; p Dest Buffer : PVOID; END_VAR Inputs Name Type Description n Buffer Size Reference To ULINT Maximum buffer size (in) and actually used buffer size (out). p Dest Buffer PVOID Pointer to the destination buffer. Return value HRESULT [} 144] 6.1.3.4.2 ITc Vn Data Interface for accessing data. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Data Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Check If Copy [} 426] ITc Vn Data Check if the data are a copy (returns S_OK for copies and S_FALSE otherwise). Check If Image [} 426] ITc Vn Data Check if the data belongs to an image (returns S_OK for images and S_FALSE otherwise). Get Size [} 426] ITc Vn Data Gets the size of the data. Check Data Pointer [} 427] ITc Vn Data Check if the data pointer is different from 0 (returns S_OK for non-zero data pointers and S_FALSE otherwise). Get Data Pointer [} 427] ITc Vn Data Gets the data pointer (the obtained data pointer must be released by calling Release Data Pointer). Release Data Pointer ITc Vn Data Release the data pointer. [} 427] TF7000 - TF7810 Version: 2.4.0 425
## Page 426

API reference Further information The interface ITc Vn Data is used for internal purposes and is not normally needed by the user. For access to raw image data, use the function Get Row Pointer of the interface ITc Vn Image [} 413] instead. System Requirements 6.1.3.4.2.1 Check If Copy Check If Copy HRESULT Check If Copy Check if the data are a copy (returns S_OK for copies and S_FALSE otherwise). Syntax Definition: METHOD Check If Copy : HRESULT Return value HRESULT [} 144] 6.1.3.4.2.2 Check If Image Check If Image HRESULT Check If Image Check if the data belongs to an image (returns S_OK for images and S_FALSE otherwise). Syntax Definition: METHOD Check If Image : HRESULT Return value HRESULT [} 144] 6.1.3.4.2.3 Get Size Get Size n Size Reference To ULINT HRESULT Get Size Gets the size of the data. Syntax Definition: METHOD Get Size : HRESULT VAR_INPUT n Size : Reference To ULINT; END_VAR 426 Version: 2.4.0 TF7000 - TF7810
## Page 427

API reference Inputs Name Type Description n Size Reference To ULINT Size of the stored data in bytes. Return value HRESULT [} 144] 6.1.3.4.2.4 Check Data Pointer Check Data Pointer HRESULT Check Data Pointer Check if the data pointer is different from 0 (returns S_OK for non-zero data pointers and S_FALSE otherwise). Syntax Definition: METHOD Check Data Pointer : HRESULT Return value HRESULT [} 144] 6.1.3.4.2.5 Get Data Pointer Get Data Pointer pp Data Pointer To PVOID HRESULT Get Data Pointer Gets the data pointer (the obtained data pointer must be released by calling Release Data Pointer). Syntax Definition: METHOD Get Data Pointer : HRESULT VAR_INPUT pp Data : Pointer To PVOID; END_VAR Inputs Name Type Description pp Data Pointer To PVOID Returns the data pointer. Return value HRESULT [} 144] 6.1.3.4.2.6 Release Data Pointer Release Data Pointer pp Data Pointer To PVOID HRESULT Release Data Pointer TF7000 - TF7810 Version: 2.4.0 427
## Page 428

API reference Release the data pointer. Syntax Definition: METHOD Release Data Pointer : HRESULT VAR_INPUT pp Data : Pointer To PVOID; END_VAR Inputs Name Type Description pp Data Pointer To PVOID Pointer to the data pointer to be released. Return value HRESULT [} 144] 6.1.3.4.3 ITc Vn Timestamp Offers an interface for timestamps. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Timestamp Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Update Timestamp [} 428] ITc Vn Timestamp Updates the timestamp to the current time Get Timestamp [} 429] ITc Vn Timestamp Gets the timestamp System Requirements 6.1.3.4.3.1 Update Timestamp Update Timestamp HRESULT Update Timestamp Updates the timestamp to the current time Syntax Definition: METHOD Update Timestamp : HRESULT Return value HRESULT [} 144] 428 Version: 2.4.0 TF7000 - TF7810
## Page 429

API reference 6.1.3.4.3.2 Get Timestamp Get Timestamp n Timestamp Reference To LINT HRESULT Get Timestamp Gets the timestamp Syntax Definition: METHOD Get Timestamp : HRESULT VAR_INPUT n Timestamp : Reference To LINT; END_VAR Inputs Name Type Description n Timestamp Reference To LINT Returns the timestamp Return value HRESULT [} 144] 6.1.3.4.4 Interface ITc Unknown ITc Unknown defines the reference count as well as the querying of a reference to a more specific interface. Syntax TCOM_DECL_INTERFACE("00000001-0000-0000-e000-000000000064", ITc Unknown) Declared in: Tc Interfaces.h Required include: - Methods Name Description Tc Add Ref [} 429] Increments the reference counter. Tc Query Interface [} 430] Query of the reference to an implemented interface via the IID. Tc Release [} 431] Decrements the reference counter. Every Tc COM interface is derived directly or indirectly from ITc Unknown. As a result, every Tc COM module class implements ITc Unknown because it is derived from ITCom Object. The standard implementation of ITc Unknown ensures that the object is deleted after the last reference is released. For this reason, an interface pointer must not be dereferenced after calling Tc Release(). 6.1.3.4.4.1 Method ITc Unknown:Tc Add Ref Increments the reference counter and returns the new value. Syntax ULONG Tc Add Ref( ) TF7000 - TF7810 Version: 2.4.0 429
## Page 430

API reference Return value Resulting reference count value. 6.1.3.4.4.2 Method ITc Unknown:Tc Query Interface Query of an interface pointer with regard to an interface that is given by interface ID (IID). Syntax HRESULT Tc Query Interface(RITCID iid, PPVOID pip Itf ) Return value If successful, S_OK ("0") or another positive value will be returned, cf. Return values. Extended messages refer in particular to the column HRESULT in ADS Return Codes [} 2864]. If the demanded interface is not available, the method returns ADSERR_DEVICE_NOINTERFACE. Parameter Name Type Description iid RITCID Interface IID. pip Itf PPVOID Pointer to interface pointer. Is set when the requested interface type is available from the corresponding instance. Description Query of the reference to an implemented interface via the IID. It is recommended to use Smart Pointers to initialize and hold interface pointers. Variant 1: HRESULT Get Trace Level(ITc Unkown* ip, Tc Trace Level& tl) { HRESULT hr = S_OK; if (ip != NULL) { ITCom Object Ptr sp Obj; hr = ip->Tc Query Interface(sp Obj. Get IID(), &sp Obj); if (SUCCEEDED(hr)) { hr = sp Obj->Tc Get Obj Para(PID_Tc Trace Level, &tl, sizeof(tl)); } return hr; } } The interface ID associated with the Smart Pointer can be used as a parameter in Tc Query Interface. The "&" operator will return the pointer to the internal interface pointer member variable of the Smart Pointer. Variant 1 assumes that the interface pointer is initialized when Tc Query Interface indicates success. If the range remains, then the destructor of the Smart Pointer sp Obj releases the reference. Variant 2: HRESULT Get Trace Level(ITc Unkown* ip, Tc Trace Level& tl) { HRESULT hr = S_OK; ITCom Object Ptr sp Obj = ip; if (sp Obj != NULL) { sp Obj->Tc Get Obj Param(PID_Tc Trace Level, &tl); } else { hr = ADS_E_NOINTERFACE; 430 Version: 2.4.0 TF7000 - TF7810
## Page 431

API reference } return hr; } If the interface pointer ip is assigned to the Smart Pointer sp Obj, then the Tc Query Interface method is called implicitly with IID_ITCom Object on the instance to which ip refers. This results in a shorter code, but the original return code of Tc Query Interface is lost. 6.1.3.4.4.3 Method ITc Unknown:Tc Release This method decrements the reference counter. Syntax ULONG Tc Release( ) Return value Resulting reference count value. Description Decrements the reference counter and returns the new value. If the reference counter is 0, the object deletes itself. 6.1.3.5 Neural Network 6.1.3.5.1 ITc Vn Neural Network Interface for neural networks. Inheritance Hierarchy ITc Unknown [} 429] ITc Vn Ml Model [} 422] ITc Vn Neural Network TF7000 - TF7810 Version: 2.4.0 431
## Page 432

API reference Methods Name Origin Description Tc Add Ref [} 429] ITc Unknown Increments the reference counter. Tc Query Interface [} 430] ITc Unknown Get a reference to an implemented interface. Tc Release [} 431] ITc Unknown Decrements the reference counter. Get Type Guid [} 423] ITc Vn Ml Model Gets the GUID of the model. Get Type Name [} 423] ITc Vn Ml Model Gets the model type name as a string. Execute [} 432] ITc Vn Neural Network Execute a neural network using the provided image as input and provide the output of one output layer. The method doesn't perform any pre-processing or transformation. ITc Vn Neural Network Execute a neural network using the provided image Execute_Single Layer Outpu as input and provide the output of the specified output layer. The method doesn't perform any pre- t [} 433] processing or transformation. Execute_Multi Layer Output ITc Vn Neural Network Execute a neural network using the provided image as input and provide the output of the specified [} 433] output layers. If s Layer Names is empty, the method returns the output of the unconnected output layers. The method doesn't perform any pre-processing or transformation. Get Layer Names [} 434] ITc Vn Neural Network Get the name of all layers in the model. If the b Only Ouput flag is set to true, only the unconnected output layer names are returned. System Requirements 6.1.3.5.1.1 Execute Execute ip Src Image ITc Vn Image HRESULT Execute pip Dest Image Pointer To ITc Vn Image Execute a neural network using the provided image as input and provide the output of one output layer. The method doesn't perform any pre-processing or transformation. Syntax Definition: METHOD Execute : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; pip Dest Image : Pointer To ITc Vn Image; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (The image layout must be adapted to match the model's expected input format using e.g. F_VN_Convert Data Layout or F_VN_Reshape Image functions if necessary.) pip Dest Image Pointer To ITc Vn Image Destination image (An appropriate destination image based on the output layer is created. To process the destination image, [} 413] use e.g. F_VN_Convert Data Layout or F_VN_Reshape Image if necessary. 432 Version: 2.4.0 TF7000 - TF7810
## Page 433

API reference Return value HRESULT [} 144] 6.1.3.5.1.2 Execute_Single Layer Output Execute_Single Layer Output ip Src Image ITc Vn Image HRESULT Execute_Single Layer Output pip Dest Image Pointer To ITc Vn Image s Layer Name STRING Execute a neural network using the provided image as input and provide the output of the specified output layer. The method doesn't perform any pre-processing or transformation. Syntax Definition: METHOD Execute_Single Layer Output : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; pip Dest Image : Pointer To ITc Vn Image; s Layer Name : STRING; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (The image layout must be adapted to match the model's expected input format using e.g. F_VN_Convert Data Layout or F_VN_Reshape Image functions if necessary.) pip Dest Image Pointer To ITc Vn Image Destination image (An appropriate destination image based on the output layer is created. To process the destination image, [} 413] use e.g. F_VN_Convert Data Layout or F_VN_Reshape Image if necessary. s Layer Name STRING Specify the name of the layer for which the output is required. If empty, the output of one output layer is provided. Return value HRESULT [} 144] 6.1.3.5.1.3 Execute_Multi Layer Output Execute_Multi Layer Output ip Src Image ITc Vn Image HRESULT Execute_Multi Layer Output pip Dest Images Pointer To ITc Vn Container ip Layer Names ITc Vn Container Execute a neural network using the provided image as input and provide the output of the specified output layers. If s Layer Names is empty, the method returns the output of the unconnected output layers. The method doesn't perform any pre-processing or transformation. Syntax Definition: METHOD Execute_Multi Layer Output : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; TF7000 - TF7810 Version: 2.4.0 433
## Page 434

API reference pip Dest Images : Pointer To ITc Vn Container; ip Layer Names : ITc Vn Container; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (The image layout must be adapted to match the model's expected input format using e.g. F_VN_Convert Data Layout or F_VN_Reshape Image functions if necessary.) pip Dest Images Pointer To Container of images containing the output from the specified ITc Vn Container [} 374] layers ip Layer Names ITc Vn Container [} 374] Container of layer names whose outputs to be returned (Container Type_Vector_String_SINT). If set to zero, the container ip Dest Images holds the outputs of all the unconnected output layers. Return value HRESULT [} 144] 6.1.3.5.1.4 Get Layer Names Get Layer Names pip Layer Names Pointer To ITc Vn Container HRESULT Get Layer Names b Only Outputs BOOL Get the name of all layers in the model. If the b Only Ouput flag is set to true, only the unconnected output layer names are returned. Syntax Definition: METHOD Get Layer Names : HRESULT VAR_INPUT pip Layer Names : Pointer To ITc Vn Container; b Only Outputs : BOOL; END_VAR Inputs Name Type Description pip Layer Name Pointer To Container with the layers names s ITc Vn Container [} 374] (Container Type_Vector_String_SINT) b Only Outputs BOOL If true, only the unconnected output layer names are returned Return value HRESULT [} 144] 6.1.4 Functions The image processing algorithms are encapsulated in functions. More complex algorithms have been implemented as function blocks and can be found at Image Processing [} 1653]. Structure of a function call Functions are structured as follows: 434 Version: 2.4.0 TF7000 - TF7810
## Page 435

API reference hr Status variable [} 144] of the type HRESULT. The execution status of every function can be followed with this. F_VN_ Functions are identified by the prefix "F_VN_". Parameter <...> Function parameters essentially fulfill the following purpose: • Input parameters (e.g. images or containers) that are to be processed. • Parameters for setting the algorithm • Parameters as reference for returning the results Grouping of functions All functions of the Twin CAT Vision library are sorted thematically into the following groups: Images • Basic Image Operations [} 756] • Algebraic Image Operations [} 505] • Image Segmentation [} 1291] • Image Color and Contrast Processing [} 1204] • Image Analysis [} 1147] • Image Filtering [} 1241] Container • Basic Container Operations [} 545] • Algebraic Container Operations [} 467] • Container Statistics [} 852] Contours • Contour Analysis [} 941] Measurement • Measurement [} 1440] • Geometric and coordinate transformations [} 1048] Code quality • Code Quality [} 801] Code reading • Code Reading [} 820] Optical character recognition (OCR) • Optical Character Recognition [} 1561] Drawing and text • Drawing [} 977] Machine Learning TF7000 - TF7810 Version: 2.4.0 435
## Page 436

API reference • Machine Learning [} 1346] • Neural Network [} 1543] Advanced Functions • Fourier Analysis [} 1036] • Keypoint Features [} 1302] Miscellaneous • Control Functions [} 973] • Miscellaneous [} 1514] Expert functions Expert versions exist for many functions. These contain additional parameters and are usually marked by the name suffix "Exp". In the case of functions with Expert versions, this is additionally noted under the heading "Expert Parameters". For example, the Expert version of F_VN_Max Image [} 529] is called F_VN_Max Images Exp [} 529] and contains the additional parameter ip Mask. Runtime behavior The execution duration of some image processing algorithms depends on their parameterization and also the image content. It is therefore not deterministic. In order to guarantee real-time behavior despite that, watchdogs [} 149] can be applied to these functions or function groups that abort the functions after a specified time. WARNING Twin CAT crash when functions are used incorrectly If some functions are used incorrectly, this can lead to errors (and to resulting Twin CAT crashes). These are not intercepted within the function, as corresponding checks would considerably lengthen the execution time. Therefore, you must take care to use the functions properly! For example, we recommend carrying out a validation of the input parameters. 6.1.4.1 License Overview The following list shows the assignment of Twin CAT Vision functions to available licenses (see Licensing model [} 12]). It shows which license is required for the application of certain functions. TF7100 The basic license TC3 Vision Base (TF7100) is always required. TC3 Vision Base F_VN_Adaptive Threshold [} 1292] F_VN_Adaptive Threshold Exp [} 1293] F_VN_Add Containers [} 493] F_VN_Add Images [} 507] F_VN_Add Images Weighted [} 508] F_VN_Add Images Weighted Exp [} 509] F_VN_Add Scalar To Image [} 510] 436 Version: 2.4.0 TF7000 - TF7810
## Page 437

API reference F_VN_Add To Container Elements_DINT [} 468] F_VN_Add To Container Elements_INT [} 468] F_VN_Add To Container Elements_LREAL [} 469] F_VN_Add To Container Elements_REAL [} 470] F_VN_Add To Container Elements_SINT [} 470] F_VN_Add To Container Elements_Tc Vn Key Point [} 471] F_VN_Add To Container Elements_Tc Vn Point2_DINT [} 472] F_VN_Add To Container Elements_Tc Vn Point2_LREAL [} 472] F_VN_Add To Container Elements_Tc Vn Point2_REAL [} 473] F_VN_Add To Container Elements_Tc Vn Point3_LREAL [} 474] F_VN_Add To Container Elements_Tc Vn Point3_REAL [} 475] F_VN_Add To Container Elements_Tc Vn Rectangle_DINT [} 475] F_VN_Add To Container Elements_Tc Vn Rotated Rectangle [} 492] F_VN_Add To Container Elements_Tc Vn Vector2_DINT [} 476] F_VN_Add To Container Elements_Tc Vn Vector2_INT [} 477] F_VN_Add To Container Elements_Tc Vn Vector2_REAL [} 478] F_VN_Add To Container Elements_Tc Vn Vector2_SINT [} 478] F_VN_Add To Container Elements_Tc Vn Vector2_UINT [} 479] F_VN_Add To Container Elements_Tc Vn Vector2_USINT [} 480] F_VN_Add To Container Elements_Tc Vn Vector3_INT [} 481] F_VN_Add To Container Elements_Tc Vn Vector3_REAL [} 481] F_VN_Add To Container Elements_Tc Vn Vector3_SINT [} 482] F_VN_Add To Container Elements_Tc Vn Vector3_UINT [} 483] F_VN_Add To Container Elements_Tc Vn Vector3_USINT [} 484] F_VN_Add To Container Elements_Tc Vn Vector4_DINT [} 485] F_VN_Add To Container Elements_Tc Vn Vector4_INT [} 485] F_VN_Add To Container Elements_Tc Vn Vector4_LREAL [} 486] F_VN_Add To Container Elements_Tc Vn Vector4_REAL [} 492] F_VN_Add To Container Elements_Tc Vn Vector4_SINT [} 487] F_VN_Add To Container Elements_Tc Vn Vector4_UINT [} 488] F_VN_Add To Container Elements_Tc Vn Vector4_USINT [} 488] F_VN_Add To Container Elements_UDINT [} 489] F_VN_Add To Container Elements_UINT [} 490] TF7000 - TF7810 Version: 2.4.0 437
## Page 438

API reference F_VN_Add To Container Elements_ULINT [} 490] F_VN_Add To Container Elements_USINT [} 491] F_VN_Add Vector To Image [} 510] F_VN_Adjust Active Contour [} 1148] F_VN_Advance Iterator [} 731] F_VN_Align Rotated Image Region [} 1089] F_VN_Align Rotated Image Region Exp [} 1090] F_VN_Append To Container_DINT [} 547] F_VN_Append To Container_INT [} 548] F_VN_Append To Container_ITc Vn Container [} 548] F_VN_Append To Container_ITc Vn Forward Iterator [} 549] F_VN_Append To Container_ITc Vn Image [} 550] F_VN_Append To Container_LREAL [} 550] F_VN_Append To Container_REAL [} 551] F_VN_Append To Container_SINT [} 552] F_VN_Append To Container_Tc Vn DMatch [} 552] F_VN_Append To Container_Tc Vn Key Point [} 553] F_VN_Append To Container_Tc Vn Point2_DINT [} 554] F_VN_Append To Container_Tc Vn Point2_LREAL [} 555] F_VN_Append To Container_Tc Vn Point2_REAL [} 555] F_VN_Append To Container_Tc Vn Point3_LREAL [} 556] F_VN_Append To Container_Tc Vn Point3_REAL [} 557] F_VN_Append To Container_Tc Vn Rectangle_DINT [} 558] F_VN_Append To Container_Tc Vn Rotated Rectangle [} 546] F_VN_Append To Container_Tc Vn Vector2_DINT [} 558] F_VN_Append To Container_Tc Vn Vector2_INT [} 559] F_VN_Append To Container_Tc Vn Vector2_REAL [} 560] F_VN_Append To Container_Tc Vn Vector2_SINT [} 561] F_VN_Append To Container_Tc Vn Vector2_UINT [} 561] F_VN_Append To Container_Tc Vn Vector2_USINT [} 562] F_VN_Append To Container_Tc Vn Vector3_INT [} 563] F_VN_Append To Container_Tc Vn Vector3_REAL [} 564] F_VN_Append To Container_Tc Vn Vector3_SINT [} 564] 438 Version: 2.4.0 TF7000 - TF7810
## Page 439

API reference F_VN_Append To Container_Tc Vn Vector3_UINT [} 565] F_VN_Append To Container_Tc Vn Vector3_USINT [} 566] F_VN_Append To Container_Tc Vn Vector4_DINT [} 567] F_VN_Append To Container_Tc Vn Vector4_INT [} 567] F_VN_Append To Container_Tc Vn Vector4_LREAL [} 568] F_VN_Append To Container_Tc Vn Vector4_REAL [} 569] F_VN_Append To Container_Tc Vn Vector4_SINT [} 570] F_VN_Append To Container_Tc Vn Vector4_UINT [} 570] F_VN_Append To Container_Tc Vn Vector4_USINT [} 571] F_VN_Append To Container_UDINT [} 572] F_VN_Append To Container_UINT [} 573] F_VN_Append To Container_ULINT [} 573] F_VN_Append To Container_USINT [} 574] F_VN_Apply Color Map [} 1204] F_VN_Apply Lut [} 1206] F_VN_Apply Rotation To Affine Transformation [} 1091] F_VN_Apply Rotation To Affine Transformation Exp [} 1092] F_VN_Apply Scaling To Affine Transformation [} 1093] F_VN_Apply Scaling To Affine Transformation Exp [} 1094] F_VN_Apply Translation To Affine Transformation [} 1095] F_VN_Apply Translation To Affine Transformation Exp [} 1095] F_VN_Apply YAxis Inversion To Affine Transformation [} 1096] F_VN_Apply YAxis Inversion To Affine Transformation Exp [} 1097] F_VN_Approximate Polygon [} 942] F_VN_Bilateral Filter [} 1242] F_VN_Bilateral Filter Exp [} 1246] F_VN_Bitwise And Containers [} 494] F_VN_Bitwise And Images [} 511] F_VN_Bitwise And Images Exp [} 512] F_VN_Bitwise And Scalar With Image [} 513] F_VN_Bitwise And Vector With Image [} 513] F_VN_Bitwise Not Container [} 495] F_VN_Bitwise Not Image [} 514] TF7000 - TF7810 Version: 2.4.0 439
## Page 440

API reference F_VN_Bitwise Not Image Exp [} 515] F_VN_Bitwise Or Containers [} 495] F_VN_Bitwise Or Images [} 516] F_VN_Bitwise Or Images Exp [} 516] F_VN_Bitwise Or Scalar With Image [} 517] F_VN_Bitwise Or Vector With Image [} 518] F_VN_Bitwise Xor Containers [} 496] F_VN_Bitwise Xor Images [} 519] F_VN_Bitwise Xor Images Exp [} 520] F_VN_Bitwise Xor Scalar With Image [} 520] F_VN_Bitwise Xor Vector With Image [} 521] F_VN_Blend Images [} 522] F_VN_Box Filter [} 1247] F_VN_Box Filter Exp [} 1248] F_VN_Bright Border Objects [} 1249] F_VN_Calibrate Camera Planar [} 1063] F_VN_Calibrate Camera Planar Exp [} 1064] F_VN_Canny Edge Detection [} 1173] F_VN_Canny Edge Detection Exp [} 1175] F_VN_Check Color Range [} 1295] F_VN_Check Function Initialization [} 1515] F_VN_Check If Empty [} 732] F_VN_Check If Iterator Is At End [} 732] F_VN_Check If Point Is Inside Contour [} 943] F_VN_Clahe [} 1207] F_VN_Clahe Exp [} 1207] F_VN_Clip Line To Boundary [} 1516] F_VN_Clip Line To Boundary_ITc Vn Image [} 1517] F_VN_Clip Line To Boundary_Tc Vn Rectangle_DINT [} 1519] F_VN_Combine Image Channels [} 758] F_VN_Connected Components [} 1177] F_VN_Connected Components Exp [} 1178] F_VN_Connected Components With Stats [} 1179] 440 Version: 2.4.0 TF7000 - TF7810
## Page 441

API reference F_VN_Connected Components With Stats Exp [} 1180] F_VN_Container Average [} 929] F_VN_Container Average Elementwise2 [} 930] F_VN_Container Average Elementwise3 [} 931] F_VN_Container Average Elementwise4 [} 933] F_VN_Container Average Variance [} 934] F_VN_Container Average Variance Elementwise2 [} 935] F_VN_Container Average Variance Elementwise3 [} 936] F_VN_Container Average Variance Elementwise4 [} 937] F_VN_Contour Area [} 944] F_VN_Contour Center Of Mass [} 945] F_VN_Contour Circularity [} 946] F_VN_Contour Circularity Exp [} 972] F_VN_Contour Convexity [} 947] F_VN_Contour Eccentricity [} 948] F_VN_Contour Elongation [} 948] F_VN_Contour Extreme Point [} 949] F_VN_Contour Inertia Ratio [} 950] F_VN_Contour Moments [} 951] F_VN_Contour Orientation [} 952] F_VN_Contour Orientation Exp [} 953] F_VN_Contour Perimeter [} 954] F_VN_Contour Roundness [} 955] F_VN_Convert Cartesian To Polar Angle Image [} 1098] F_VN_Convert Cartesian To Polar Angle Image Exp [} 1099] F_VN_Convert Cartesian To Polar Angles [} 1099] F_VN_Convert Cartesian To Polar Angles Exp [} 1100] F_VN_Convert Cartesian To Polar Images [} 1101] F_VN_Convert Cartesian To Polar Images Exp [} 1102] F_VN_Convert Cartesian To Polar Magnitude Image [} 1103] F_VN_Convert Cartesian To Polar Magnitudes [} 1104] F_VN_Convert Cartesian To Polar Points [} 1105] F_VN_Convert Cartesian To Polar Points Exp [} 1106] TF7000 - TF7810 Version: 2.4.0 441
## Page 442

API reference F_VN_Convert Color Space [} 1208] F_VN_Convert Container Type [} 733] F_VN_Convert Data Layout [} 1550] F_VN_Convert Element Type [} 759] F_VN_Convert Element Type Exp [} 759] F_VN_Convert ITc Unknown To ITc Vn Bitmap Export [} 1520] F_VN_Convert ITc Unknown To ITc Vn Container [} 1520] F_VN_Convert ITc Unknown To ITc Vn Image [} 1521] F_VN_Convert ITc Unknown To ITc Vn Ml Model [} 1522] F_VN_Convert Polar To Cartesian Images [} 1106] F_VN_Convert Polar To Cartesian Images Exp [} 1107] F_VN_Convert Polar To Cartesian Points [} 1108] F_VN_Convert Polar To Cartesian Points Exp [} 1109] F_VN_Convex Hull Points [} 955] F_VN_Convex Hull Points Exp [} 956] F_VN_Convexity Defects [} 957] F_VN_Copy Container [} 734] F_VN_Copy Container Elements Conditional_ITc Vn Container [} 735] F_VN_Copy Container Elements Conditional_ITc Vn Forward Iterator [} 736] F_VN_Copy Image [} 760] F_VN_Copy Image Region [} 761] F_VN_Copy Image Region To Region [} 763] F_VN_Copy Into Displayable Image [} 764] F_VN_Count Non Zero Pixels [} 1181] F_VN_Create Associated Image [} 765] F_VN_Create Bandpass Butterworth Filter [} 1037] F_VN_Create Bandpass Gaussian Filter [} 1038] F_VN_Create Bandreject Butterworth Filter [} 1039] F_VN_Create Bandreject Gaussian Filter [} 1040] F_VN_Create Container [} 738] F_VN_Create Container From Array [} 738] F_VN_Create Empty Image [} 766] F_VN_Create Highpass Butterworth Filter [} 1041] 442 Version: 2.4.0 TF7000 - TF7810
## Page 443

API reference F_VN_Create Highpass Gaussian Filter [} 1042] F_VN_Create Image [} 766] F_VN_Create Image And Set Pixels [} 767] F_VN_Create Image From Array [} 768] F_VN_Create Lowpass Butterworth Filter [} 1043] F_VN_Create Lowpass Gaussian Filter [} 1044] F_VN_Create NDimensional Image [} 795] F_VN_Create NDimensional Image And Set Pixels [} 796] F_VN_Create NDimensional Image From Array [} 797] F_VN_Create Structuring Element [} 1251] F_VN_Custom Element Wise Container Operation_ITc Vn Container [} 958] F_VN_Custom Element Wise Container Operation_ITc Vn Forward Iterator [} 959] F_VN_Custom Filter [} 1252] F_VN_Custom Filter Exp [} 1255] F_VN_Dark Border Objects [} 1257] F_VN_Decompose Affine Transformation [} 1110] F_VN_Decompose Affine Transformation Exp [} 1110] F_VN_Decompose Homography [} 1112] F_VN_Decompose Homography Exp [} 1113] F_VN_Deinitialize Function [} 1522] F_VN_Detect Blobs [} 1149] F_VN_Detect Blobs Exp [} 1152] F_VN_Dft [} 1045] F_VN_Distance Transformation [} 1182] F_VN_Distance Transformation Exp [} 1184] F_VN_Divide Containers [} 497] F_VN_Divide Containers Exp [} 498] F_VN_Divide Image By Scalar [} 523] F_VN_Divide Image By Vector [} 524] F_VN_Divide Images [} 525] F_VN_Divide Scalar By Image [} 526] F_VN_Divide Vector By Image [} 526] F_VN_Double Threshold [} 1296] TF7000 - TF7810 Version: 2.4.0 443
## Page 444

API reference F_VN_Draw Arrow [} 979] F_VN_Draw Arrow_Tc Vn Vector4_DINT [} 980] F_VN_Draw Arrow Exp [} 981] F_VN_Draw Arrow Exp_Tc Vn Vector4_DINT [} 982] F_VN_Draw Circle [} 983] F_VN_Draw Circle Exp [} 984] F_VN_Draw Circles [} 985] F_VN_Draw Circles Exp [} 986] F_VN_Draw Circular Arc [} 987] F_VN_Draw Circular Arc Exp [} 988] F_VN_Draw Components [} 989] F_VN_Draw Components Exp [} 990] F_VN_Draw Contours [} 991] F_VN_Draw Contours Exp [} 993] F_VN_Draw Ellipse [} 994] F_VN_Draw Ellipse Exp [} 995] F_VN_Draw Line [} 998] F_VN_Draw Line_Tc Vn Vector4_DINT [} 999] F_VN_Draw Line_Tc Vn Vector4_LREAL [} 1000] F_VN_Draw Line Exp [} 1001] F_VN_Draw Line Exp_Tc Vn Vector4_DINT [} 1003] F_VN_Draw Line Exp_Tc Vn Vector4_LREAL [} 1004] F_VN_Draw Lines [} 1005] F_VN_Draw Lines Exp [} 1006] F_VN_Draw Orientation [} 1010] F_VN_Draw Orientation Exp [} 1011] F_VN_Draw Point [} 1012] F_VN_Draw Point Exp [} 1013] F_VN_Draw Points [} 1014] F_VN_Draw Points Exp [} 1015] F_VN_Draw Polygon [} 1016] F_VN_Draw Polygon Exp [} 1017] F_VN_Draw Rectangle [} 1018] 444 Version: 2.4.0 TF7000 - TF7810
## Page 445

API reference F_VN_Draw Rectangle_Tc Vn Rectangle_DINT [} 1019] F_VN_Draw Rectangle_Tc Vn Rectangle_UDINT [} 1020] F_VN_Draw Rotated Rectangle [} 1021] F_VN_Draw Rotated Rectangle Exp [} 1022] F_VN_Elementwise Exp [} 527] F_VN_Elementwise Log [} 528] F_VN_Enclosing Circle [} 959] F_VN_Enclosing Rectangle [} 960] F_VN_Enclosing Triangle [} 961] F_VN_Erase From Container [} 739] F_VN_Export Container [} 740] F_VN_Export Container_String [} 742] F_VN_Export Container Size [} 743] F_VN_Export Image [} 769] F_VN_Export Image As Bmp [} 770] F_VN_Export Image As Bmp Exp [} 771] F_VN_Export Image As Bmp Size [} 772] F_VN_Export Image As Bmp Size Exp [} 773] F_VN_Export Image Size [} 774] F_VN_Export Sub Container [} 744] F_VN_Export Sub Container_String [} 745] F_VN_Export Sub Container Size [} 746] F_VN_Extract Container Range [} 747] F_VN_Fill Circle [} 1023] F_VN_Fill Container_DINT [} 575] F_VN_Fill Container_INT [} 576] F_VN_Fill Container_ITc Vn Image [} 577] F_VN_Fill Container_LREAL [} 577] F_VN_Fill Container_REAL [} 578] F_VN_Fill Container_SINT [} 579] F_VN_Fill Container_Tc Vn DMatch [} 579] F_VN_Fill Container_Tc Vn Key Point [} 580] F_VN_Fill Container_Tc Vn Point2_DINT [} 581] TF7000 - TF7810 Version: 2.4.0 445
## Page 446

API reference F_VN_Fill Container_Tc Vn Point2_LREAL [} 582] F_VN_Fill Container_Tc Vn Point2_REAL [} 582] F_VN_Fill Container_Tc Vn Point3_LREAL [} 583] F_VN_Fill Container_Tc Vn Point3_REAL [} 584] F_VN_Fill Container_Tc Vn Rectangle_DINT [} 585] F_VN_Fill Container_Tc Vn Rotated Rectangle [} 575] F_VN_Fill Container_Tc Vn Vector2_DINT [} 586] F_VN_Fill Container_Tc Vn Vector2_INT [} 586] F_VN_Fill Container_Tc Vn Vector2_REAL [} 587] F_VN_Fill Container_Tc Vn Vector2_SINT [} 588] F_VN_Fill Container_Tc Vn Vector2_UINT [} 589] F_VN_Fill Container_Tc Vn Vector2_USINT [} 590] F_VN_Fill Container_Tc Vn Vector3_INT [} 590] F_VN_Fill Container_Tc Vn Vector3_REAL [} 591] F_VN_Fill Container_Tc Vn Vector3_SINT [} 592] F_VN_Fill Container_Tc Vn Vector3_UINT [} 593] F_VN_Fill Container_Tc Vn Vector3_USINT [} 594] F_VN_Fill Container_Tc Vn Vector4_DINT [} 594] F_VN_Fill Container_Tc Vn Vector4_INT [} 595] F_VN_Fill Container_Tc Vn Vector4_LREAL [} 596] F_VN_Fill Container_Tc Vn Vector4_REAL [} 597] F_VN_Fill Container_Tc Vn Vector4_SINT [} 598] F_VN_Fill Container_Tc Vn Vector4_UINT [} 598] F_VN_Fill Container_Tc Vn Vector4_USINT [} 599] F_VN_Fill Container_UDINT [} 600] F_VN_Fill Container_UINT [} 601] F_VN_Fill Container_ULINT [} 601] F_VN_Fill Container_USINT [} 602] F_VN_Fill Container Exp_DINT [} 604] F_VN_Fill Container Exp_INT [} 604] F_VN_Fill Container Exp_ITc Vn Image [} 605] F_VN_Fill Container Exp_LREAL [} 606] F_VN_Fill Container Exp_REAL [} 607] 446 Version: 2.4.0 TF7000 - TF7810
## Page 447

API reference F_VN_Fill Container Exp_SINT [} 608] F_VN_Fill Container Exp_Tc Vn DMatch [} 608] F_VN_Fill Container Exp_Tc Vn Key Point [} 609] F_VN_Fill Container Exp_Tc Vn Point2_DINT [} 610] F_VN_Fill Container Exp_Tc Vn Point2_LREAL [} 611] F_VN_Fill Container Exp_Tc Vn Point2_REAL [} 612] F_VN_Fill Container Exp_Tc Vn Point3_LREAL [} 613] F_VN_Fill Container Exp_Tc Vn Point3_REAL [} 614] F_VN_Fill Container Exp_Tc Vn Rectangle_DINT [} 615] F_VN_Fill Container Exp_Tc Vn Rotated Rectangle [} 603] F_VN_Fill Container Exp_Tc Vn Vector2_DINT [} 616] F_VN_Fill Container Exp_Tc Vn Vector2_INT [} 617] F_VN_Fill Container Exp_Tc Vn Vector2_REAL [} 618] F_VN_Fill Container Exp_Tc Vn Vector2_SINT [} 619] F_VN_Fill Container Exp_Tc Vn Vector2_UINT [} 620] F_VN_Fill Container Exp_Tc Vn Vector2_USINT [} 621] F_VN_Fill Container Exp_Tc Vn Vector3_INT [} 622] F_VN_Fill Container Exp_Tc Vn Vector3_REAL [} 623] F_VN_Fill Container Exp_Tc Vn Vector3_SINT [} 624] F_VN_Fill Container Exp_Tc Vn Vector3_UINT [} 625] F_VN_Fill Container Exp_Tc Vn Vector3_USINT [} 626] F_VN_Fill Container Exp_Tc Vn Vector4_DINT [} 627] F_VN_Fill Container Exp_Tc Vn Vector4_INT [} 628] F_VN_Fill Container Exp_Tc Vn Vector4_LREAL [} 629] F_VN_Fill Container Exp_Tc Vn Vector4_REAL [} 630] F_VN_Fill Container Exp_Tc Vn Vector4_SINT [} 631] F_VN_Fill Container Exp_Tc Vn Vector4_UINT [} 632] F_VN_Fill Container Exp_Tc Vn Vector4_USINT [} 633] F_VN_Fill Container Exp_UDINT [} 634] F_VN_Fill Container Exp_UINT [} 634] F_VN_Fill Container Exp_ULINT [} 635] F_VN_Fill Container Exp_USINT [} 636] F_VN_Fill Contours [} 1024] TF7000 - TF7810 Version: 2.4.0 447
## Page 448

API reference F_VN_Fill Ellipse [} 1025] F_VN_Fill Holes [} 1258] F_VN_Fill Polygon [} 1026] F_VN_Fill Rectangle [} 1027] F_VN_Fill Rotated Rectangle [} 1028] F_VN_Find Contour Hierarchy Exp [} 1154] F_VN_Find Contours [} 1158] F_VN_Find Contours Exp [} 1160] F_VN_Fit Ellipse [} 962] F_VN_Fit Line [} 963] F_VN_Fit Line Exp [} 964] F_VN_Flip Image [} 1115] F_VN_Fourier Descriptors [} 965] F_VN_Fuse Images [} 774] F_VN_Fuse Images Array [} 776] F_VN_Gaussian Filter [} 1260] F_VN_Gaussian Filter Exp [} 1263] F_VN_Generate Affine Transformation Unit Matrix2D [} 1116] F_VN_Generate Color Map [} 1209] F_VN_Generate Custom Color Map [} 1210] F_VN_Get Affine Transformation [} 1116] F_VN_Get Affine Transformation2D [} 1117] F_VN_Get Affine Transformation2DExp [} 1118] F_VN_Get At_DINT [} 638] F_VN_Get At_INT [} 639] F_VN_Get At_ITc Vn Container [} 639] F_VN_Get At_ITc Vn Image [} 640] F_VN_Get At_LREAL [} 641] F_VN_Get At_REAL [} 642] F_VN_Get At_SINT [} 643] F_VN_Get At_Tc Vn DMatch [} 643] F_VN_Get At_Tc Vn Key Point [} 644] F_VN_Get At_Tc Vn Point2_DINT [} 645] 448 Version: 2.4.0 TF7000 - TF7810
## Page 449

API reference F_VN_Get At_Tc Vn Point2_LREAL [} 646] F_VN_Get At_Tc Vn Point2_REAL [} 647] F_VN_Get At_Tc Vn Point3_LREAL [} 648] F_VN_Get At_Tc Vn Point3_REAL [} 649] F_VN_Get At_Tc Vn Rectangle_DINT [} 649] F_VN_Get At_Tc Vn Rotated Rectangle [} 637] F_VN_Get At_Tc Vn Vector2_DINT [} 650] F_VN_Get At_Tc Vn Vector2_INT [} 651] F_VN_Get At_Tc Vn Vector2_REAL [} 652] F_VN_Get At_Tc Vn Vector2_SINT [} 653] F_VN_Get At_Tc Vn Vector2_UINT [} 654] F_VN_Get At_Tc Vn Vector2_USINT [} 655] F_VN_Get At_Tc Vn Vector3_INT [} 656] F_VN_Get At_Tc Vn Vector3_REAL [} 656] F_VN_Get At_Tc Vn Vector3_SINT [} 657] F_VN_Get At_Tc Vn Vector3_UINT [} 658] F_VN_Get At_Tc Vn Vector3_USINT [} 659] F_VN_Get At_Tc Vn Vector4_DINT [} 660] F_VN_Get At_Tc Vn Vector4_INT [} 661] F_VN_Get At_Tc Vn Vector4_LREAL [} 662] F_VN_Get At_Tc Vn Vector4_REAL [} 663] F_VN_Get At_Tc Vn Vector4_SINT [} 663] F_VN_Get At_Tc Vn Vector4_UINT [} 664] F_VN_Get At_Tc Vn Vector4_USINT [} 665] F_VN_Get At_UDINT [} 666] F_VN_Get At_UINT [} 667] F_VN_Get At_ULINT [} 668] F_VN_Get At_USINT [} 669] F_VN_Get Connected Component [} 1185] F_VN_Get Connected Component Exp [} 1186] F_VN_Get Container [} 748] F_VN_Get Container Exp [} 749] F_VN_Get Forward Iterator [} 750] TF7000 - TF7810 Version: 2.4.0 449
## Page 450

API reference F_VN_Get Image Channel [} 778] F_VN_Get Image Height [} 778] F_VN_Get Image Info [} 779] F_VN_Get Image Width [} 780] F_VN_Get Layout Info [} 798] F_VN_Get Number Of Elements [} 750] F_VN_Get Perspective Transformation [} 1119] F_VN_Get Pixel [} 781] F_VN_Get Pixel Format [} 782] F_VN_Get Random Access Iterator [} 751] F_VN_Get Roi [} 782] F_VN_Get Timestamp [} 1523] F_VN_Histogram [} 1211] F_VN_Histogram Equalization [} 1213] F_VN_Histogram Equalization Exp [} 1214] F_VN_Histogram Exp [} 1214] F_VN_Homography [} 1120] F_VN_Homography Exp [} 1121] F_VN_Hough Circles [} 1162] F_VN_Hough Circles Exp [} 1163] F_VN_Hough Lines [} 1164] F_VN_Hough Lines Exp [} 1165] F_VN_Hough Lines P [} 1166] F_VN_Hough Lines PExp [} 1167] F_VN_Hu Moment Invariants [} 1524] F_VN_Image Absolute Average [} 1201] F_VN_Image Average [} 1187] F_VN_Image Average Exp [} 1188] F_VN_Image Average Std Dev [} 1189] F_VN_Image Average Std Dev Exp [} 1190] F_VN_Image Center Of Mass [} 1191] F_VN_Image Center Of Mass Exp [} 1192] F_VN_Image Median [} 1193] 450 Version: 2.4.0 TF7000 - TF7810
## Page 451

API reference F_VN_Image Median Exp [} 1193] F_VN_Image Moments [} 1194] F_VN_Increment Iterator [} 752] F_VN_Init Matrix Struct [} 1525] F_VN_Insert Into Container_DINT [} 670] F_VN_Insert Into Container_INT [} 670] F_VN_Insert Into Container_ITc Vn Container [} 671] F_VN_Insert Into Container_ITc Vn Forward Iterator [} 672] F_VN_Insert Into Container_ITc Vn Image [} 672] F_VN_Insert Into Container_LREAL [} 673] F_VN_Insert Into Container_REAL [} 674] F_VN_Insert Into Container_SINT [} 674] F_VN_Insert Into Container_Tc Vn DMatch [} 675] F_VN_Insert Into Container_Tc Vn Key Point [} 676] F_VN_Insert Into Container_Tc Vn Point2_DINT [} 677] F_VN_Insert Into Container_Tc Vn Point2_LREAL [} 677] F_VN_Insert Into Container_Tc Vn Point2_REAL [} 678] F_VN_Insert Into Container_Tc Vn Point3_LREAL [} 679] F_VN_Insert Into Container_Tc Vn Point3_REAL [} 680] F_VN_Insert Into Container_Tc Vn Rectangle_DINT [} 681] F_VN_Insert Into Container_Tc Vn Rotated Rectangle [} 699] F_VN_Insert Into Container_Tc Vn Vector2_DINT [} 681] F_VN_Insert Into Container_Tc Vn Vector2_INT [} 682] F_VN_Insert Into Container_Tc Vn Vector2_REAL [} 683] F_VN_Insert Into Container_Tc Vn Vector2_SINT [} 684] F_VN_Insert Into Container_Tc Vn Vector2_UINT [} 685] F_VN_Insert Into Container_Tc Vn Vector2_USINT [} 685] F_VN_Insert Into Container_Tc Vn Vector3_INT [} 686] F_VN_Insert Into Container_Tc Vn Vector3_REAL [} 687] F_VN_Insert Into Container_Tc Vn Vector3_SINT [} 688] F_VN_Insert Into Container_Tc Vn Vector3_UINT [} 689] F_VN_Insert Into Container_Tc Vn Vector3_USINT [} 689] F_VN_Insert Into Container_Tc Vn Vector4_DINT [} 690] TF7000 - TF7810 Version: 2.4.0 451
## Page 452

API reference F_VN_Insert Into Container_Tc Vn Vector4_INT [} 691] F_VN_Insert Into Container_Tc Vn Vector4_LREAL [} 692] F_VN_Insert Into Container_Tc Vn Vector4_REAL [} 698] F_VN_Insert Into Container_Tc Vn Vector4_SINT [} 693] F_VN_Insert Into Container_Tc Vn Vector4_UINT [} 693] F_VN_Insert Into Container_Tc Vn Vector4_USINT [} 694] F_VN_Insert Into Container_UDINT [} 695] F_VN_Insert Into Container_UINT [} 696] F_VN_Insert Into Container_ULINT [} 696] F_VN_Insert Into Container_USINT [} 697] F_VN_Inverse Dft [} 1046] F_VN_Invert Affine Transformation [} 1122] F_VN_Invert Image Color [} 1217] F_VN_Invert Image Color Exp [} 1217] F_VN_Invert Matrix3x3 [} 1526] F_VN_Iterator Distance [} 753] F_VN_Laplacian Filter [} 1264] F_VN_Laplacian Filter Exp [} 1266] F_VN_Line Intersection Point [} 1527] F_VN_Line Intersection Point And Angle [} 1528] F_VN_Local Maxima [} 1268] F_VN_Local Minima [} 1269] F_VN_Max Container [} 499] F_VN_Max Element [} 938] F_VN_Max Element Elementwise_DINT [} 852] F_VN_Max Element Elementwise_INT [} 853] F_VN_Max Element Elementwise_LREAL [} 854] F_VN_Max Element Elementwise_REAL [} 855] F_VN_Max Element Elementwise_SINT [} 856] F_VN_Max Element Elementwise_Tc Vn Point2_DINT [} 856] F_VN_Max Element Elementwise_Tc Vn Point2_LREAL [} 857] F_VN_Max Element Elementwise_Tc Vn Point2_REAL [} 858] F_VN_Max Element Elementwise_Tc Vn Point3_LREAL [} 859] 452 Version: 2.4.0 TF7000 - TF7810
## Page 453

API reference F_VN_Max Element Elementwise_Tc Vn Point3_REAL [} 860] F_VN_Max Element Elementwise_Tc Vn Vector2_DINT [} 860] F_VN_Max Element Elementwise_Tc Vn Vector2_INT [} 861] F_VN_Max Element Elementwise_Tc Vn Vector2_REAL [} 862] F_VN_Max Element Elementwise_Tc Vn Vector2_SINT [} 863] F_VN_Max Element Elementwise_Tc Vn Vector2_UINT [} 864] F_VN_Max Element Elementwise_Tc Vn Vector2_USINT [} 864] F_VN_Max Element Elementwise_Tc Vn Vector3_INT [} 865] F_VN_Max Element Elementwise_Tc Vn Vector3_REAL [} 866] F_VN_Max Element Elementwise_Tc Vn Vector3_SINT [} 867] F_VN_Max Element Elementwise_Tc Vn Vector3_UINT [} 868] F_VN_Max Element Elementwise_Tc Vn Vector3_USINT [} 868] F_VN_Max Element Elementwise_Tc Vn Vector4_DINT [} 869] F_VN_Max Element Elementwise_Tc Vn Vector4_INT [} 870] F_VN_Max Element Elementwise_Tc Vn Vector4_LREAL [} 871] F_VN_Max Element Elementwise_Tc Vn Vector4_REAL [} 877] F_VN_Max Element Elementwise_Tc Vn Vector4_SINT [} 872] F_VN_Max Element Elementwise_Tc Vn Vector4_UINT [} 872] F_VN_Max Element Elementwise_Tc Vn Vector4_USINT [} 873] F_VN_Max Element Elementwise_UDINT [} 874] F_VN_Max Element Elementwise_UINT [} 875] F_VN_Max Element Elementwise_ULINT [} 876] F_VN_Max Element Elementwise_USINT [} 876] F_VN_Max Image [} 529] F_VN_Max Image Exp [} 529] F_VN_Max Image With Scalar [} 530] F_VN_Max Image With Scalar Exp [} 531] F_VN_Max Image With Vector [} 532] F_VN_Max Image With Vector Exp [} 533] F_VN_Max Pixel Value [} 1195] F_VN_Max Pixel Value Exp [} 1196] F_VN_Median Element [} 939] F_VN_Median Element Elementwise_DINT [} 878] TF7000 - TF7810 Version: 2.4.0 453
## Page 454

API reference F_VN_Median Element Elementwise_INT [} 879] F_VN_Median Element Elementwise_LREAL [} 880] F_VN_Median Element Elementwise_REAL [} 880] F_VN_Median Element Elementwise_SINT [} 881] F_VN_Median Element Elementwise_Tc Vn Point2_DINT [} 882] F_VN_Median Element Elementwise_Tc Vn Point2_LREAL [} 883] F_VN_Median Element Elementwise_Tc Vn Point2_REAL [} 884] F_VN_Median Element Elementwise_Tc Vn Point3_LREAL [} 884] F_VN_Median Element Elementwise_Tc Vn Point3_REAL [} 885] F_VN_Median Element Elementwise_Tc Vn Vector2_DINT [} 886] F_VN_Median Element Elementwise_Tc Vn Vector2_INT [} 887] F_VN_Median Element Elementwise_Tc Vn Vector2_REAL [} 888] F_VN_Median Element Elementwise_Tc Vn Vector2_SINT [} 888] F_VN_Median Element Elementwise_Tc Vn Vector2_UINT [} 889] F_VN_Median Element Elementwise_Tc Vn Vector2_USINT [} 890] F_VN_Median Element Elementwise_Tc Vn Vector3_INT [} 891] F_VN_Median Element Elementwise_Tc Vn Vector3_REAL [} 892] F_VN_Median Element Elementwise_Tc Vn Vector3_SINT [} 892] F_VN_Median Element Elementwise_Tc Vn Vector3_UINT [} 893] F_VN_Median Element Elementwise_Tc Vn Vector3_USINT [} 894] F_VN_Median Element Elementwise_Tc Vn Vector4_DINT [} 895] F_VN_Median Element Elementwise_Tc Vn Vector4_INT [} 896] F_VN_Median Element Elementwise_Tc Vn Vector4_LREAL [} 896] F_VN_Median Element Elementwise_Tc Vn Vector4_REAL [} 903] F_VN_Median Element Elementwise_Tc Vn Vector4_SINT [} 897] F_VN_Median Element Elementwise_Tc Vn Vector4_UINT [} 898] F_VN_Median Element Elementwise_Tc Vn Vector4_USINT [} 899] F_VN_Median Element Elementwise_UDINT [} 900] F_VN_Median Element Elementwise_UINT [} 900] F_VN_Median Element Elementwise_ULINT [} 901] F_VN_Median Element Elementwise_USINT [} 902] F_VN_Median Filter [} 1271] F_VN_Min Container [} 499] 454 Version: 2.4.0 TF7000 - TF7810
## Page 455

API reference F_VN_Min Element [} 940] F_VN_Min Element Elementwise_DINT [} 904] F_VN_Min Element Elementwise_INT [} 904] F_VN_Min Element Elementwise_LREAL [} 905] F_VN_Min Element Elementwise_REAL [} 906] F_VN_Min Element Elementwise_SINT [} 907] F_VN_Min Element Elementwise_Tc Vn Point2_DINT [} 908] F_VN_Min Element Elementwise_Tc Vn Point2_LREAL [} 908] F_VN_Min Element Elementwise_Tc Vn Point2_REAL [} 909] F_VN_Min Element Elementwise_Tc Vn Point3_LREAL [} 910] F_VN_Min Element Elementwise_Tc Vn Point3_REAL [} 911] F_VN_Min Element Elementwise_Tc Vn Vector2_DINT [} 912] F_VN_Min Element Elementwise_Tc Vn Vector2_INT [} 912] F_VN_Min Element Elementwise_Tc Vn Vector2_REAL [} 913] F_VN_Min Element Elementwise_Tc Vn Vector2_SINT [} 914] F_VN_Min Element Elementwise_Tc Vn Vector2_UINT [} 915] F_VN_Min Element Elementwise_Tc Vn Vector2_USINT [} 916] F_VN_Min Element Elementwise_Tc Vn Vector3_INT [} 916] F_VN_Min Element Elementwise_Tc Vn Vector3_REAL [} 917] F_VN_Min Element Elementwise_Tc Vn Vector3_SINT [} 918] F_VN_Min Element Elementwise_Tc Vn Vector3_UINT [} 919] F_VN_Min Element Elementwise_Tc Vn Vector3_USINT [} 920] F_VN_Min Element Elementwise_Tc Vn Vector4_DINT [} 920] F_VN_Min Element Elementwise_Tc Vn Vector4_INT [} 921] F_VN_Min Element Elementwise_Tc Vn Vector4_LREAL [} 922] F_VN_Min Element Elementwise_Tc Vn Vector4_REAL [} 928] F_VN_Min Element Elementwise_Tc Vn Vector4_SINT [} 923] F_VN_Min Element Elementwise_Tc Vn Vector4_UINT [} 924] F_VN_Min Element Elementwise_Tc Vn Vector4_USINT [} 924] F_VN_Min Element Elementwise_UDINT [} 925] F_VN_Min Element Elementwise_UINT [} 926] F_VN_Min Element Elementwise_ULINT [} 927] F_VN_Min Element Elementwise_USINT [} 928] TF7000 - TF7810 Version: 2.4.0 455
## Page 456

API reference F_VN_Min Image [} 534] F_VN_Min Image Exp [} 534] F_VN_Min Image With Scalar [} 535] F_VN_Min Image With Scalar Exp [} 536] F_VN_Min Image With Vector [} 537] F_VN_Min Image With Vector Exp [} 538] F_VN_Min Pixel Value [} 1197] F_VN_Min Pixel Value Exp [} 1198] F_VN_Mix Image Channels [} 784] F_VN_Morphological Operator [} 1274] F_VN_Multiply Containers [} 500] F_VN_Multiply Images [} 539] F_VN_Multiply Image With Scalar [} 539] F_VN_Multiply Image With Vector [} 540] F_VN_Multiply Matrices [} 1529] F_VN_Multiply With Container Elements1 [} 501] F_VN_Multiply With Container Elements2 [} 502] F_VN_Multiply With Container Elements3 [} 502] F_VN_Multiply With Container Elements4 [} 503] F_VN_Negate Container [} 504] F_VN_Non Max Suppression [} 1555] F_VN_Non Max Suppression Exp [} 1556] F_VN_Normalize Image [} 1218] F_VN_Normalize Image Exp [} 1219] F_VN_Normalize Image For Display [} 1220] F_VN_Optimal Dft Size [} 1047] F_VN_Orthogonal Vector_Tc Vn Vector2_DINT [} 1530] F_VN_Orthogonal Vector_Tc Vn Vector2_LREAL [} 1531] F_VN_Orthogonal Vector_Tc Vn Vector2_REAL [} 1532] F_VN_Pad Image Border [} 798] F_VN_Pad Image Border Exp [} 799] F_VN_Perspective Transformation [} 1123] F_VN_Plot Intensity Profile [} 1029] 456 Version: 2.4.0 TF7000 - TF7810
## Page 457

API reference F_VN_Plot Intensity Profile Exp [} 1030] F_VN_Point To Line Distance_Tc Vn Point2_DINT [} 1532] F_VN_Point To Line Distance_Tc Vn Point2_LREAL [} 1533] F_VN_Point To Line Distance_Tc Vn Point2_REAL [} 1534] F_VN_Point To Point Direction_Tc Vn Point2_DINT [} 1535] F_VN_Point To Point Direction_Tc Vn Point2_LREAL [} 1536] F_VN_Point To Point Direction_Tc Vn Point2_REAL [} 1537] F_VN_Point To Point Distance_Tc Vn Point2_DINT [} 1537] F_VN_Point To Point Distance_Tc Vn Point2_LREAL [} 1538] F_VN_Point To Point Distance_Tc Vn Point2_REAL [} 1539] F_VN_Put Label [} 1031] F_VN_Put Label Exp [} 1032] F_VN_Put Text [} 1033] F_VN_Put Text Exp [} 1035] F_VN_Pyramid Down [} 1124] F_VN_Pyramid Up [} 1125] F_VN_Reduce [} 1557] F_VN_Reduce Arg [} 1558] F_VN_Reference Color Similarity_ITc Vn Color Model [} 1221] F_VN_Reference Color Similarity_ITc Vn Ml Model [} 1222] F_VN_Reference Color Similarity_Tc Vn Vector3_LREAL [} 1223] F_VN_Reference Color Similarity Exp_ITc Vn Color Model [} 1224] F_VN_Reference Color Similarity Exp_ITc Vn Ml Model [} 1225] F_VN_Reference Color Similarity Exp_Tc Vn Vector3_LREAL [} 1226] F_VN_Region Orientation [} 1199] F_VN_Region Orientation Exp [} 1200] F_VN_Reinterpret Unsupported Image [} 800] F_VN_Remap Image To Log Polar Space [} 1126] F_VN_Remap Image To Log Polar Space Exp [} 1127] F_VN_Remap Image To Log Polar Space Exp2 [} 1128] F_VN_Remap Image To Polar Space [} 1129] F_VN_Remap Image To Polar Space Exp [} 1130] F_VN_Remap Image To Polar Space Exp2 [} 1131] TF7000 - TF7810 Version: 2.4.0 457
## Page 458

API reference F_VN_Remove Local Maxima [} 1275] F_VN_Remove Local Minima [} 1277] F_VN_Reserve Container Memory [} 754] F_VN_Reset Roi [} 784] F_VN_Reshape Image [} 1558] F_VN_Resize Image [} 1132] F_VN_Resize Image Exp [} 1133] F_VN_Reverse Container [} 754] F_VN_Rotated Rectangle Corners [} 1540] F_VN_Rotated Rectangle Intersection [} 1541] F_VN_Rotate Image [} 1134] F_VN_Rotate Image Exp [} 1135] F_VN_Rotate Image Exp2 [} 1136] F_VN_Sauvola Threshold [} 1301] F_VN_Scharr Filter [} 1278] F_VN_Scharr Filter Exp [} 1280] F_VN_Separable Custom Filter [} 1282] F_VN_Separable Custom Filter Exp [} 1284] F_VN_Set At_DINT [} 700] F_VN_Set At_INT [} 701] F_VN_Set At_ITc Vn Container [} 702] F_VN_Set At_ITc Vn Image [} 703] F_VN_Set At_LREAL [} 703] F_VN_Set At_REAL [} 704] F_VN_Set At_SINT [} 705] F_VN_Set At_Tc Vn DMatch [} 706] F_VN_Set At_Tc Vn Key Point [} 707] F_VN_Set At_Tc Vn Point2_DINT [} 707] F_VN_Set At_Tc Vn Point2_LREAL [} 708] F_VN_Set At_Tc Vn Point2_REAL [} 709] F_VN_Set At_Tc Vn Point3_LREAL [} 710] F_VN_Set At_Tc Vn Point3_REAL [} 711] F_VN_Set At_Tc Vn Rectangle_DINT [} 712] 458 Version: 2.4.0 TF7000 - TF7810
## Page 459

API reference F_VN_Set At_Tc Vn Rotated Rectangle [} 700] F_VN_Set At_Tc Vn Vector2_DINT [} 713] F_VN_Set At_Tc Vn Vector2_INT [} 713] F_VN_Set At_Tc Vn Vector2_REAL [} 714] F_VN_Set At_Tc Vn Vector2_SINT [} 715] F_VN_Set At_Tc Vn Vector2_UINT [} 716] F_VN_Set At_Tc Vn Vector2_USINT [} 717] F_VN_Set At_Tc Vn Vector3_INT [} 718] F_VN_Set At_Tc Vn Vector3_REAL [} 719] F_VN_Set At_Tc Vn Vector3_SINT [} 719] F_VN_Set At_Tc Vn Vector3_UINT [} 720] F_VN_Set At_Tc Vn Vector3_USINT [} 721] F_VN_Set At_Tc Vn Vector4_DINT [} 722] F_VN_Set At_Tc Vn Vector4_INT [} 723] F_VN_Set At_Tc Vn Vector4_LREAL [} 724] F_VN_Set At_Tc Vn Vector4_REAL [} 725] F_VN_Set At_Tc Vn Vector4_SINT [} 725] F_VN_Set At_Tc Vn Vector4_UINT [} 726] F_VN_Set At_Tc Vn Vector4_USINT [} 727] F_VN_Set At_UDINT [} 728] F_VN_Set At_UINT [} 729] F_VN_Set At_ULINT [} 729] F_VN_Set At_USINT [} 730] F_VN_Set Container [} 755] F_VN_Set Image Channel [} 785] F_VN_Set Iterator To Begin [} 756] F_VN_Set Pixel [} 786] F_VN_Set Pixels [} 787] F_VN_Set Pixels Exp [} 788] F_VN_Set Rng Seed [} 1542] F_VN_Set Roi [} 789] F_VN_Set Roi_Tc Vn Rectangle_DINT [} 790] F_VN_Set Roi_Tc Vn Rectangle_UDINT [} 791] TF7000 - TF7810 Version: 2.4.0 459
## Page 460

API reference F_VN_Sigmoid [} 1559] F_VN_Sigmoid Exp [} 1560] F_VN_Sobel Filter [} 1286] F_VN_Sobel Filter Exp [} 1288] F_VN_Soft Max [} 1561] F_VN_Split Image Channels [} 792] F_VN_Start Abs Watchdog [} 973] F_VN_Start Abs Watchdog Exp [} 974] F_VN_Start Rel Watchdog [} 975] F_VN_Start Rel Watchdog Exp [} 975] F_VN_Stop Watchdog [} 976] F_VN_Subtract Containers [} 505] F_VN_Subtract Image From Scalar [} 541] F_VN_Subtract Image From Vector [} 542] F_VN_Subtract Images [} 543] F_VN_Subtract Scalar From Image [} 543] F_VN_Subtract Vector From Image [} 544] F_VN_Threshold [} 1298] F_VN_Train Image Color [} 1227] F_VN_Train Image Color_ITc Vn Ml Model [} 1229] F_VN_Train Image Color Exp [} 1231] F_VN_Train Image Color Exp_ITc Vn Ml Model [} 1233] F_VN_Train Image Color Exp2 [} 1235] F_VN_Train Image Color Exp2_ITc Vn Ml Model [} 1238] F_VN_Transform Coordinates Planar_Container [} 1085] F_VN_Transform Coordinates Planar_Point [} 1086] F_VN_Transform Into Displayable Image [} 793] F_VN_Transform Into Displayable Image Exp [} 794] F_VN_Update Timestamp [} 1542] F_VN_Upright Bounding Rectangle [} 971] F_VN_Upright Inner Rectangle [} 1202] F_VN_Upright Inner Rectangle Exp [} 1203] F_VN_Variance Filter [} 1290] 460 Version: 2.4.0 TF7000 - TF7810
## Page 461

API reference F_VN_Variance Filter Exp [} 1290] F_VN_Warp Affine [} 1137] F_VN_Warp Affine_Container [} 1138] F_VN_Warp Affine_Point [} 1139] F_VN_Warp Affine_Rectangle [} 1140] F_VN_Warp Affine Exp [} 1141] F_VN_Warp Perspective [} 1142] F_VN_Warp Perspective_Container [} 1143] F_VN_Warp Perspective_Point [} 1144] F_VN_Warp Perspective_Rectangle [} 1144] F_VN_Warp Perspective Exp [} 1146] F_VN_Watershed Segmentation Exp [} 1300] F_VN_White Balance [} 1241] TC3 Vision Code Reading F_VN_Read Barcode [} 830] F_VN_Read Barcode Exp [} 832] F_VN_Read Barcode Exp2 [} 834] F_VN_Read Barcode Roi [} 825] F_VN_Read Barcode Roi Exp [} 827] F_VN_Read Data Matrix Code [} 836] F_VN_Read Data Matrix Code Exp [} 838] F_VN_Read Data Matrix Code Exp2 [} 840] F_VN_Read Data Matrix Code Roi [} 822] F_VN_Read Data Matrix Code Roi Exp [} 823] F_VN_Read Pharma Code [} 841] F_VN_Read Pharma Code Exp [} 843] F_VN_Read Pharma Code Exp2 [} 845] F_VN_Read QRCode [} 846] F_VN_Read QRCode Exp [} 848] F_VN_Read QRCode Exp2 [} 850] TC3 Vision Code Quality F_VN_Grade Barcode [} 802] F_VN_Grade Barcode Exp [} 805] TF7000 - TF7810 Version: 2.4.0 461
## Page 462

API reference F_VN_Grade Data Matrix Code [} 808] F_VN_Grade Data Matrix Code Exp [} 811] F_VN_Grade QRCode [} 814] F_VN_Grade QRCode Exp [} 817] TC3 Vision Metrology 2D F_VN_Adjust Search Window Orientation To Linear Edge [} 1445] F_VN_Calibrate Camera [} 1050] F_VN_Calibrate Camera Exp [} 1053] F_VN_Calibrate Camera Exp2 [} 1056] F_VN_Calibrate Camera Exp3 [} 1058] F_VN_Calibrate Camera Manually [} 1060] F_VN_Calibrate Camera Manually Exp [} 1061] F_VN_Calibrate Linescan Camera [} 1065] F_VN_Calibrate Linescan Camera Exp [} 1067] F_VN_Closest Points BF [} 1447] F_VN_Compensate Lens Distortion [} 1069] F_VN_Compensate Lens Distortion Exp1 [} 1070] F_VN_Compensate Lens Distortion Exp2 [} 1071] F_VN_Compensate Lens Distortion For Points [} 1072] F_VN_Compensate Lens Distortion For Points Exp1 [} 1073] F_VN_Compensate Lens Distortion For Points Exp2 [} 1074] F_VN_Detect Pattern Points [} 1075] F_VN_Detect Pattern Points Exp [} 1076] F_VN_Generate Calibration Pattern Reference Points [} 1078] F_VN_Image Points World Distance [} 1079] F_VN_Locate Circular Arc [} 1448] F_VN_Locate Circular Arc Exp [} 1451] F_VN_Locate Circular Arc Exp2 [} 1454] F_VN_Locate Edge [} 1458] F_VN_Locate Edge Exp [} 1461] F_VN_Locate Edge Exp2 [} 1464] F_VN_Locate Edges [} 1467] F_VN_Locate Edges Exp [} 1470] 462 Version: 2.4.0 TF7000 - TF7810
## Page 463

API reference F_VN_Locate Edges Exp2 [} 1473] F_VN_Locate Ellipse [} 1477] F_VN_Locate Ellipse Exp [} 1480] F_VN_Locate Ellipse Exp2 [} 1483] F_VN_Measure Angle Between Edges [} 1486] F_VN_Measure Angle Between Edges Exp [} 1488] F_VN_Measure Angle Between Edges Exp2 [} 1491] F_VN_Measure Edge Distance [} 1494] F_VN_Measure Edge Distance Exp [} 1496] F_VN_Measure Edge Distance Exp2 [} 1500] F_VN_Measure Min Edge Distance [} 1504] F_VN_Measure Min Edge Distance Exp [} 1507] F_VN_Measure Min Edge Distance Exp2 [} 1511] F_VN_Solve Pn P [} 1080] F_VN_Solve Pn PExp [} 1081] F_VN_Sort Detected Pattern Points [} 1082] F_VN_Transform Coordinates Image To World_Container [} 1083] F_VN_Transform Coordinates Image To World_Point [} 1084] F_VN_Transform Coordinates World To Image_Container [} 1087] F_VN_Transform Coordinates World To Image_Point [} 1088] TC3 Vision Matching F_VN_Draw Keypoints [} 996] F_VN_Draw Keypoints Exp [} 997] F_VN_Draw Matches [} 1007] F_VN_Draw Matches Exp [} 1008] F_VN_Filter Good Matches [} 1303] F_VN_Find Reference Key Points In Image [} 1304] F_VN_Find Reference Key Points In Image AKAZE [} 1306] F_VN_Find Reference Key Points In Image AKAZEExp [} 1307] F_VN_Find Reference Key Points In Image BRISK [} 1309] F_VN_Find Reference Key Points In Image BRISKExp [} 1311] F_VN_Find Reference Key Points In Image Exp [} 1313] F_VN_Find Reference Key Points In Image ORB [} 1315] TF7000 - TF7810 Version: 2.4.0 463
## Page 464

API reference F_VN_Find Reference Key Points In Image ORBExp [} 1317] F_VN_Get Match Coordinates [} 1319] F_VN_Key Points AGAST [} 1320] F_VN_Key Points AGASTExp [} 1320] F_VN_Key Points And Descriptors AKAZE [} 1321] F_VN_Key Points And Descriptors AKAZEExp [} 1322] F_VN_Key Points And Descriptors BRISK [} 1323] F_VN_Key Points And Descriptors BRISKExp [} 1324] F_VN_Key Points And Descriptors KAZE [} 1325] F_VN_Key Points And Descriptors KAZEExp [} 1326] F_VN_Key Points And Descriptors ORB [} 1327] F_VN_Key Points And Descriptors ORBExp [} 1328] F_VN_Key Points FAST [} 1329] F_VN_Key Points FASTExp [} 1330] F_VN_Key Points GFTT [} 1331] F_VN_Key Points GFTTExp [} 1332] F_VN_Key Points MSER [} 1333] F_VN_Key Points MSERExp [} 1333] F_VN_Key Points SB [} 1334] F_VN_Key Points SBExp [} 1335] F_VN_Match Contours [} 966] F_VN_Match Contours1vs N [} 967] F_VN_Match Contours1vs NExp [} 968] F_VN_Match Contours Exp [} 970] F_VN_Match Descriptors BF [} 1336] F_VN_Match Descriptors BFExp [} 1337] F_VN_Match Descriptors Flann Lsh [} 1338] F_VN_Match Descriptors Flann Lsh Exp [} 1339] F_VN_Match Descriptors Knn BF [} 1340] F_VN_Match Descriptors Knn BFExp [} 1341] F_VN_Match Descriptors Knn Flann Lsh [} 1342] F_VN_Match Descriptors Knn Flann Lsh Exp [} 1343] F_VN_Match Image Hu Moments [} 1168] 464 Version: 2.4.0 TF7000 - TF7810
## Page 465

API reference F_VN_Match Template [} 1169] F_VN_Match Template And Evaluate [} 1170] F_VN_Match Template And Evaluate Exp [} 1171] F_VN_Match Template Exp [} 1172] F_VN_Regions MSER [} 1344] F_VN_Regions MSERExp [} 1345] TC3 Vision OCR F_VN_OCR [} 1564] F_VN_OCRExp [} 1565] TC3 Machine Learning Realtime Inference F_VN_Create Boost Classifier [} 1347] F_VN_Create Boost Classifier Exp [} 1349] F_VN_Create Boost Classifier Exp2 [} 1350] F_VN_Create Kmpp Model [} 1352] F_VN_Create Kmpp Model Exp [} 1354] F_VN_Create Knn Model [} 1355] F_VN_Create Lbg Model [} 1357] F_VN_Create Lbg Model Exp [} 1359] F_VN_Create Lda Transform [} 1361] F_VN_Create Lda Transform Via Component Num [} 1363] F_VN_Create Nbc Model [} 1364] F_VN_Create Pca Transform [} 1365] F_VN_Create Pca Transform Via Component Num [} 1367] F_VN_Create Pca Transform Via Variance [} 1368] F_VN_Create RTrees Model [} 1370] F_VN_Create RTrees Model Exp [} 1371] F_VN_Create RTrees Model Exp2 [} 1373] F_VN_Create Sta Model [} 1375] F_VN_Create Sta Model Exp [} 1377] F_VN_Create Sta Model Exp2 [} 1378] F_VN_Create Svm Model [} 1381] F_VN_Create Svm Model Exp [} 1383] F_VN_Create Svm Model Exp2 [} 1386] TF7000 - TF7810 Version: 2.4.0 465
## Page 466

API reference F_VN_Create Svm Sgd Classifier [} 1388] F_VN_Create Svm Sgd Classifier Exp [} 1390] F_VN_Feature Scaling [} 1392] F_VN_Feature Scaling Exp [} 1394] F_VN_Feature Transform [} 1395] F_VN_Get Batch Clusters [} 1397] F_VN_Get Batch Clusters Exp [} 1398] F_VN_Get Batch Novelties [} 1399] F_VN_Get Cluster Center [} 1401] F_VN_Get Cluster Num [} 1402] F_VN_Get Feature Scales [} 1403] F_VN_Get Sample Cluster [} 1405] F_VN_Get Sample Cluster Exp [} 1406] F_VN_Get Sample Novelty [} 1408] F_VN_Granulometry [} 1568] F_VN_Haralick Features [} 1570] F_VN_Inverse Feature Scaling [} 1409] F_VN_Inverse Feature Scaling_REAL [} 1411] F_VN_Inverse Feature Scaling Exp [} 1412] F_VN_Inverse Feature Scaling Exp_REAL [} 1414] F_VN_Inverse Feature Transform [} 1416] F_VN_Predict Batch [} 1417] F_VN_Predict Batch Exp [} 1419] F_VN_Predict Sample Class [} 1421] F_VN_Predict Sample Class Exp [} 1422] F_VN_Predict Sample Scalar [} 1424] F_VN_Predict Sample Scalar Exp [} 1425] F_VN_Predict Sample Vector [} 1427] F_VN_Predict Sample Vector Exp [} 1428] F_VN_Train Batch [} 1430] F_VN_Train Batch Clusters [} 1431] F_VN_Train Sample [} 1433] F_VN_Train Sample Class [} 1434] 466 Version: 2.4.0 TF7000 - TF7810
## Page 467

API reference F_VN_Train Sample Cluster [} 1436] F_VN_Train Sample Scalar [} 1437] F_VN_Train Sample Vector [} 1438] TC3 Neural Network Realtime Inference F_VN_Execute Neural Network [} 1551] F_VN_Execute Neural Network_MI [} 1544] F_VN_Execute Neural Network_MIMO_String [} 1545] F_VN_Execute Neural Network_MISO [} 1546] F_VN_Execute Neural Network_MO [} 1547] F_VN_Execute Neural Network_Multi Layer Output [} 1552] F_VN_Execute Neural Network_Single Layer Output [} 1553] F_VN_Execute Neural Network_SO [} 1548] F_VN_Get Neural Network Layer Names [} 1554] F_VN_Get Neural Network Layer Names Exp [} 1549] F_VN_Get Neural Network Layer Names Exp_String [} 1549] 6.1.4.2 Algebraic Container Operations This group contains functions for the element-wise application of algebraic operators to containers [} 155]. Functions Algebra • F_VN_Add Containers [} 493] • F_VN_Add To Container Elements [} 468] • F_VN_Divide Containers(Exp) [} 497] • F_VN_Multiply Containers [} 500] • F_VN_Multiply With Container Elements [} 501] • F_VN_Negate Container [} 504] • F_VN_Subtract Containers [} 505] Bitwise operators • F_VN_Bitwise And Containers [} 494] • F_VN_Bitwise Not Container [} 495] • F_VN_Bitwise Or Containers [} 495] • F_VN_Bitwise Xor Containers [} 496] Statistical features • F_VN_Max Container [} 499] • F_VN_Min Container [} 499] TF7000 - TF7810 Version: 2.4.0 467
## Page 468

API reference 6.1.4.2.1 F_VN_Add To Container Elements This chapter contains functions to add a value to each container element according to the data type. 6.1.4.2.1.1 F_VN_Add To Container Elements_DINT F_VN_Add To Container Elements_DINT n Value DINT HRESULT F_VN_Add To Container Elements_DINT ip Container ITc Vn Container hr Prev HRESULT Add a value to each container element. Syntax Definition: FUNCTION F_VN_Add To Container Elements_DINT : HRESULT VAR_INPUT n Value : DINT; ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description n Value DINT Value ip Container ITc Vn Container [} 374] Container with DINT elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.1.2 F_VN_Add To Container Elements_INT F_VN_Add To Container Elements_INT n Value INT HRESULT F_VN_Add To Container Elements_INT ip Container ITc Vn Container hr Prev HRESULT Add a value to each container element. Syntax Definition: FUNCTION F_VN_Add To Container Elements_INT : HRESULT VAR_INPUT n Value : INT; ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR 468 Version: 2.4.0 TF7000 - TF7810
## Page 469

API reference Inputs Name Type Description n Value INT Value ip Container ITc Vn Container [} 374] Container with INT elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.1.3 F_VN_Add To Container Elements_LREAL F_VN_Add To Container Elements_LREAL f Value LREAL HRESULT F_VN_Add To Container Elements_LREAL ip Container ITc Vn Container hr Prev HRESULT Add a value to each container element. Syntax Definition: FUNCTION F_VN_Add To Container Elements_LREAL : HRESULT VAR_INPUT f Value : LREAL; ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description f Value LREAL Value ip Container ITc Vn Container [} 374] Container with LREAL elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 469
## Page 470

API reference System Requirements 6.1.4.2.1.4 F_VN_Add To Container Elements_REAL F_VN_Add To Container Elements_REAL f Value REAL HRESULT F_VN_Add To Container Elements_REAL ip Container ITc Vn Container hr Prev HRESULT Add a value to each container element. Syntax Definition: FUNCTION F_VN_Add To Container Elements_REAL : HRESULT VAR_INPUT f Value : REAL; ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description f Value REAL Value ip Container ITc Vn Container [} 374] Container with REAL elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.1.5 F_VN_Add To Container Elements_SINT F_VN_Add To Container Elements_SINT n Value SINT HRESULT F_VN_Add To Container Elements_SINT ip Container ITc Vn Container hr Prev HRESULT Add a value to each container element. Syntax Definition: FUNCTION F_VN_Add To Container Elements_SINT : HRESULT VAR_INPUT n Value : SINT; ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR 470 Version: 2.4.0 TF7000 - TF7810
## Page 471

API reference Inputs Name Type Description n Value SINT Value ip Container ITc Vn Container [} 374] Container with SINT elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.1.6 F_VN_Add To Container Elements_Tc Vn Key Point F_VN_Add To Container Elements_Tc Vn Key Point ↔ st Value Tc Vn Key Point HRESULT F_VN_Add To Container Elements_Tc Vn Key Point ip Container ITc Vn Container hr Prev HRESULT Add a value to each container element. Syntax Definition: FUNCTION F_VN_Add To Container Elements_Tc Vn Key Point : HRESULT VAR_IN_OUT st Value : Tc Vn Key Point; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Key Point elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Value Tc Vn Key Point [} 237] Value Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 471
## Page 472

API reference Required License TC3 Vision Base System Requirements 6.1.4.2.1.7 F_VN_Add To Container Elements_Tc Vn Point2_DINT F_VN_Add To Container Elements_Tc Vn Point2_DINT ↔ a Value Tc Vn Point2_DINT HRESULT F_VN_Add To Container Elements_Tc Vn Point2_DINT ip Container ITc Vn Container hr Prev HRESULT Add a value to each container element. Syntax Definition: FUNCTION F_VN_Add To Container Elements_Tc Vn Point2_DINT : HRESULT VAR_IN_OUT a Value : Tc Vn Point2_DINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Point2_DINT elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Point2_DINT [} 163] Value Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.1.8 F_VN_Add To Container Elements_Tc Vn Point2_LREAL F_VN_Add To Container Elements_Tc Vn Point2_LREAL ↔ a Value Tc Vn Point2_LREAL HRESULT F_VN_Add To Container Elements_Tc Vn Point2_LREAL ip Container ITc Vn Container hr Prev HRESULT Add a value to each container element. 472 Version: 2.4.0 TF7000 - TF7810
## Page 473

API reference Syntax Definition: FUNCTION F_VN_Add To Container Elements_Tc Vn Point2_LREAL : HRESULT VAR_IN_OUT a Value : Tc Vn Point2_LREAL; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Point2_LREAL elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Point2_LREAL [} 163] Value Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.1.9 F_VN_Add To Container Elements_Tc Vn Point2_REAL F_VN_Add To Container Elements_Tc Vn Point2_REAL ↔ a Value Tc Vn Point2_REAL HRESULT F_VN_Add To Container Elements_Tc Vn Point2_REAL ip Container ITc Vn Container hr Prev HRESULT Add a value to each container element. Syntax Definition: FUNCTION F_VN_Add To Container Elements_Tc Vn Point2_REAL : HRESULT VAR_IN_OUT a Value : Tc Vn Point2_REAL; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 473
## Page 474

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Point2_REAL elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Point2_REAL [} 163] Value Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.1.10 F_VN_Add To Container Elements_Tc Vn Point3_LREAL F_VN_Add To Container Elements_Tc Vn Point3_LREAL ↔ a Value Tc Vn Point3_LREAL HRESULT F_VN_Add To Container Elements_Tc Vn Point3_LREAL ip Container ITc Vn Container hr Prev HRESULT Add a value to each container element. Syntax Definition: FUNCTION F_VN_Add To Container Elements_Tc Vn Point3_LREAL : HRESULT VAR_IN_OUT a Value : Tc Vn Point3_LREAL; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Point3_LREAL elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Point3_LREAL [} 163] Value 474 Version: 2.4.0 TF7000 - TF7810
## Page 475

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.1.11 F_VN_Add To Container Elements_Tc Vn Point3_REAL F_VN_Add To Container Elements_Tc Vn Point3_REAL ↔ a Value Tc Vn Point3_REAL HRESULT F_VN_Add To Container Elements_Tc Vn Point3_REAL ip Container ITc Vn Container hr Prev HRESULT Add a value to each container element. Syntax Definition: FUNCTION F_VN_Add To Container Elements_Tc Vn Point3_REAL : HRESULT VAR_IN_OUT a Value : Tc Vn Point3_REAL; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Point3_REAL elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Point3_REAL [} 163] Value Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.1.12 F_VN_Add To Container Elements_Tc Vn Rectangle_DINT F_VN_Add To Container Elements_Tc Vn Rectangle_DINT ↔ st Value Tc Vn Rectangle_DINT HRESULT F_VN_Add To Container Elements_Tc Vn Rectangle_DINT ip Container ITc Vn Container hr Prev HRESULT TF7000 - TF7810 Version: 2.4.0 475
## Page 476

API reference Add a value to each container element. Syntax Definition: FUNCTION F_VN_Add To Container Elements_Tc Vn Rectangle_DINT : HRESULT VAR_IN_OUT st Value : Tc Vn Rectangle_DINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Rectangle_DINT elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Value Tc Vn Rectangle_DINT Value [} 250] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.1.13 F_VN_Add To Container Elements_Tc Vn Vector2_DINT F_VN_Add To Container Elements_Tc Vn Vector2_DINT ↔ a Value Tc Vn Vector2_DINT HRESULT F_VN_Add To Container Elements_Tc Vn Vector2_DINT ip Container ITc Vn Container hr Prev HRESULT Add a value to each container element. Syntax Definition: FUNCTION F_VN_Add To Container Elements_Tc Vn Vector2_DINT : HRESULT VAR_IN_OUT a Value : Tc Vn Vector2_DINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR 476 Version: 2.4.0 TF7000 - TF7810
## Page 477

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector2_DINT elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector2_DINT [} 165] Value Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.1.14 F_VN_Add To Container Elements_Tc Vn Vector2_INT F_VN_Add To Container Elements_Tc Vn Vector2_INT ↔ a Value Tc Vn Vector2_INT HRESULT F_VN_Add To Container Elements_Tc Vn Vector2_INT ip Container ITc Vn Container hr Prev HRESULT Add a value to each container element. Syntax Definition: FUNCTION F_VN_Add To Container Elements_Tc Vn Vector2_INT : HRESULT VAR_IN_OUT a Value : Tc Vn Vector2_INT; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector2_INT elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector2_INT [} 165] Value TF7000 - TF7810 Version: 2.4.0 477
## Page 478

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.1.15 F_VN_Add To Container Elements_Tc Vn Vector2_REAL F_VN_Add To Container Elements_Tc Vn Vector2_REAL ↔ a Value Tc Vn Vector2_REAL HRESULT F_VN_Add To Container Elements_Tc Vn Vector2_REAL ip Container ITc Vn Container hr Prev HRESULT Add a value to each container element. Syntax Definition: FUNCTION F_VN_Add To Container Elements_Tc Vn Vector2_REAL : HRESULT VAR_IN_OUT a Value : Tc Vn Vector2_REAL; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector2_REAL elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector2_REAL [} 165] Value Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.1.16 F_VN_Add To Container Elements_Tc Vn Vector2_SINT F_VN_Add To Container Elements_Tc Vn Vector2_SINT ↔ a Value Tc Vn Vector2_SINT HRESULT F_VN_Add To Container Elements_Tc Vn Vector2_SINT ip Container ITc Vn Container hr Prev HRESULT 478 Version: 2.4.0 TF7000 - TF7810
## Page 479

API reference Add a value to each container element. Syntax Definition: FUNCTION F_VN_Add To Container Elements_Tc Vn Vector2_SINT : HRESULT VAR_IN_OUT a Value : Tc Vn Vector2_SINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector2_SINT elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector2_SINT [} 165] Value Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.1.17 F_VN_Add To Container Elements_Tc Vn Vector2_UINT F_VN_Add To Container Elements_Tc Vn Vector2_UINT ↔ a Value Tc Vn Vector2_UINT HRESULT F_VN_Add To Container Elements_Tc Vn Vector2_UINT ip Container ITc Vn Container hr Prev HRESULT Add a value to each container element. Syntax Definition: FUNCTION F_VN_Add To Container Elements_Tc Vn Vector2_UINT : HRESULT VAR_IN_OUT a Value : Tc Vn Vector2_UINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 479
## Page 480

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector2_UINT elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector2_UINT [} 165] Value Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.1.18 F_VN_Add To Container Elements_Tc Vn Vector2_USINT F_VN_Add To Container Elements_Tc Vn Vector2_USINT ↔ a Value Tc Vn Vector2_USINT HRESULT F_VN_Add To Container Elements_Tc Vn Vector2_USINT ip Container ITc Vn Container hr Prev HRESULT Add a value to each container element. Syntax Definition: FUNCTION F_VN_Add To Container Elements_Tc Vn Vector2_USINT : HRESULT VAR_IN_OUT a Value : Tc Vn Vector2_USINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector2_USINT elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector2_USINT Value [} 165] 480 Version: 2.4.0 TF7000 - TF7810
## Page 481

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.1.19 F_VN_Add To Container Elements_Tc Vn Vector3_INT F_VN_Add To Container Elements_Tc Vn Vector3_INT ↔ a Value Tc Vn Vector3_INT HRESULT F_VN_Add To Container Elements_Tc Vn Vector3_INT ip Container ITc Vn Container hr Prev HRESULT Add a value to each container element. Syntax Definition: FUNCTION F_VN_Add To Container Elements_Tc Vn Vector3_INT : HRESULT VAR_IN_OUT a Value : Tc Vn Vector3_INT; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector3_INT elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector3_INT [} 165] Value Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.1.20 F_VN_Add To Container Elements_Tc Vn Vector3_REAL F_VN_Add To Container Elements_Tc Vn Vector3_REAL ↔ a Value Tc Vn Vector3_REAL HRESULT F_VN_Add To Container Elements_Tc Vn Vector3_REAL ip Container ITc Vn Container hr Prev HRESULT TF7000 - TF7810 Version: 2.4.0 481
## Page 482

API reference Add a value to each container element. Syntax Definition: FUNCTION F_VN_Add To Container Elements_Tc Vn Vector3_REAL : HRESULT VAR_IN_OUT a Value : Tc Vn Vector3_REAL; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector3_REAL elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector3_REAL [} 165] Value Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.1.21 F_VN_Add To Container Elements_Tc Vn Vector3_SINT F_VN_Add To Container Elements_Tc Vn Vector3_SINT ↔ a Value Tc Vn Vector3_SINT HRESULT F_VN_Add To Container Elements_Tc Vn Vector3_SINT ip Container ITc Vn Container hr Prev HRESULT Add a value to each container element. Syntax Definition: FUNCTION F_VN_Add To Container Elements_Tc Vn Vector3_SINT : HRESULT VAR_IN_OUT a Value : Tc Vn Vector3_SINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR 482 Version: 2.4.0 TF7000 - TF7810
## Page 483

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector3_SINT elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector3_SINT [} 165] Value Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.1.22 F_VN_Add To Container Elements_Tc Vn Vector3_UINT F_VN_Add To Container Elements_Tc Vn Vector3_UINT ↔ a Value Tc Vn Vector3_UINT HRESULT F_VN_Add To Container Elements_Tc Vn Vector3_UINT ip Container ITc Vn Container hr Prev HRESULT Add a value to each container element. Syntax Definition: FUNCTION F_VN_Add To Container Elements_Tc Vn Vector3_UINT : HRESULT VAR_IN_OUT a Value : Tc Vn Vector3_UINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector3_UINT elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector3_UINT [} 165] Value TF7000 - TF7810 Version: 2.4.0 483
## Page 484

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.1.23 F_VN_Add To Container Elements_Tc Vn Vector3_USINT F_VN_Add To Container Elements_Tc Vn Vector3_USINT ↔ a Value Tc Vn Vector3_USINT HRESULT F_VN_Add To Container Elements_Tc Vn Vector3_USINT ip Container ITc Vn Container hr Prev HRESULT Add a value to each container element. Syntax Definition: FUNCTION F_VN_Add To Container Elements_Tc Vn Vector3_USINT : HRESULT VAR_IN_OUT a Value : Tc Vn Vector3_USINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector3_USINT elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector3_USINT Value [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base 484 Version: 2.4.0 TF7000 - TF7810
## Page 485

API reference System Requirements 6.1.4.2.1.24 F_VN_Add To Container Elements_Tc Vn Vector4_DINT F_VN_Add To Container Elements_Tc Vn Vector4_DINT ↔ a Value Tc Vn Vector4_DINT HRESULT F_VN_Add To Container Elements_Tc Vn Vector4_DINT ip Container ITc Vn Container hr Prev HRESULT Add a value to each container element. Syntax Definition: FUNCTION F_VN_Add To Container Elements_Tc Vn Vector4_DINT : HRESULT VAR_IN_OUT a Value : Tc Vn Vector4_DINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector4_DINT elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector4_DINT [} 165] Value Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.1.25 F_VN_Add To Container Elements_Tc Vn Vector4_INT F_VN_Add To Container Elements_Tc Vn Vector4_INT ↔ a Value Tc Vn Vector4_INT HRESULT F_VN_Add To Container Elements_Tc Vn Vector4_INT ip Container ITc Vn Container hr Prev HRESULT Add a value to each container element. Syntax Definition: FUNCTION F_VN_Add To Container Elements_Tc Vn Vector4_INT : HRESULT VAR_IN_OUT a Value : Tc Vn Vector4_INT; TF7000 - TF7810 Version: 2.4.0 485
## Page 486

API reference END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector4_INT elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector4_INT [} 165] Value Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.1.26 F_VN_Add To Container Elements_Tc Vn Vector4_LREAL F_VN_Add To Container Elements_Tc Vn Vector4_LREAL ↔ a Value Tc Vn Vector4_LREAL HRESULT F_VN_Add To Container Elements_Tc Vn Vector4_LREAL ip Container ITc Vn Container hr Prev HRESULT Add a value to each container element. Syntax Definition: FUNCTION F_VN_Add To Container Elements_Tc Vn Vector4_LREAL : HRESULT VAR_IN_OUT a Value : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector4_LREAL elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 486 Version: 2.4.0 TF7000 - TF7810
## Page 487

API reference In/Outputs Name Type Description a Value Tc Vn Vector4_LREAL Value [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.1.27 F_VN_Add To Container Elements_Tc Vn Vector4_SINT F_VN_Add To Container Elements_Tc Vn Vector4_SINT ↔ a Value Tc Vn Vector4_SINT HRESULT F_VN_Add To Container Elements_Tc Vn Vector4_SINT ip Container ITc Vn Container hr Prev HRESULT Add a value to each container element. Syntax Definition: FUNCTION F_VN_Add To Container Elements_Tc Vn Vector4_SINT : HRESULT VAR_IN_OUT a Value : Tc Vn Vector4_SINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector4_SINT elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector4_SINT [} 165] Value Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 487
## Page 488

API reference System Requirements 6.1.4.2.1.28 F_VN_Add To Container Elements_Tc Vn Vector4_UINT F_VN_Add To Container Elements_Tc Vn Vector4_UINT ↔ a Value Tc Vn Vector4_UINT HRESULT F_VN_Add To Container Elements_Tc Vn Vector4_UINT ip Container ITc Vn Container hr Prev HRESULT Add a value to each container element. Syntax Definition: FUNCTION F_VN_Add To Container Elements_Tc Vn Vector4_UINT : HRESULT VAR_IN_OUT a Value : Tc Vn Vector4_UINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector4_UINT elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector4_UINT [} 165] Value Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.1.29 F_VN_Add To Container Elements_Tc Vn Vector4_USINT F_VN_Add To Container Elements_Tc Vn Vector4_USINT ↔ a Value Tc Vn Vector4_USINT HRESULT F_VN_Add To Container Elements_Tc Vn Vector4_USINT ip Container ITc Vn Container hr Prev HRESULT Add a value to each container element. Syntax Definition: FUNCTION F_VN_Add To Container Elements_Tc Vn Vector4_USINT : HRESULT VAR_IN_OUT a Value : Tc Vn Vector4_USINT; 488 Version: 2.4.0 TF7000 - TF7810
## Page 489

API reference END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector4_USINT elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector4_USINT Value [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.1.30 F_VN_Add To Container Elements_UDINT F_VN_Add To Container Elements_UDINT n Value UDINT HRESULT F_VN_Add To Container Elements_UDINT ip Container ITc Vn Container hr Prev HRESULT Add a value to each container element. Syntax Definition: FUNCTION F_VN_Add To Container Elements_UDINT : HRESULT VAR_INPUT n Value : UDINT; ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description n Value UDINT Value ip Container ITc Vn Container [} 374] Container with UDINT elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 489
## Page 490

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.1.31 F_VN_Add To Container Elements_UINT F_VN_Add To Container Elements_UINT n Value UINT HRESULT F_VN_Add To Container Elements_UINT ip Container ITc Vn Container hr Prev HRESULT Add a value to each container element. Syntax Definition: FUNCTION F_VN_Add To Container Elements_UINT : HRESULT VAR_INPUT n Value : UINT; ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description n Value UINT Value ip Container ITc Vn Container [} 374] Container with UINT elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.1.32 F_VN_Add To Container Elements_ULINT F_VN_Add To Container Elements_ULINT n Value ULINT HRESULT F_VN_Add To Container Elements_ULINT ip Container ITc Vn Container hr Prev HRESULT Add a value to each container element. 490 Version: 2.4.0 TF7000 - TF7810
## Page 491

API reference Syntax Definition: FUNCTION F_VN_Add To Container Elements_ULINT : HRESULT VAR_INPUT n Value : ULINT; ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description n Value ULINT Value ip Container ITc Vn Container [} 374] Container with ULINT elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.1.33 F_VN_Add To Container Elements_USINT F_VN_Add To Container Elements_USINT n Value USINT HRESULT F_VN_Add To Container Elements_USINT ip Container ITc Vn Container hr Prev HRESULT Add a value to each container element. Syntax Definition: FUNCTION F_VN_Add To Container Elements_USINT : HRESULT VAR_INPUT n Value : USINT; ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description n Value USINT Value ip Container ITc Vn Container [} 374] Container with USINT elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 491
## Page 492

API reference Required License TC3 Vision Base System Requirements 6.1.4.2.1.34 F_VN_Add To Container Elements_Tc Vn Vector4_REAL F_VN_Add To Container Elements_Tc Vn Vector4_REAL ↔ a Value Tc Vn Vector4_REAL HRESULT F_VN_Add To Container Elements_Tc Vn Vector4_REAL ip Container ITc Vn Container hr Prev HRESULT Add a value to each container element. Syntax Definition: FUNCTION F_VN_Add To Container Elements_Tc Vn Vector4_REAL : HRESULT VAR_IN_OUT a Value : Tc Vn Vector4_REAL; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector4_REAL elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector4_REAL [} 165] Value Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.1.35 F_VN_Add To Container Elements_Tc Vn Rotated Rectangle F_VN_Add To Container Elements_Tc Vn Rotated Rectangle ↔st Value Tc Vn Rotated Rectangle HRESULT F_VN_Add To Container Elements_Tc Vn Rotated Rectangle ip Container ITc Vn Container hr Prev HRESULT Add a value to each container element. Syntax Definition: 492 Version: 2.4.0 TF7000 - TF7810
## Page 493

API reference FUNCTION F_VN_Add To Container Elements_Tc Vn Rotated Rectangle : HRESULT VAR_IN_OUT st Value : Tc Vn Rotated Rectangle; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Rotated Rectangle elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Value Tc Vn Rotated Rectangle Value [} 251] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.2 F_VN_Add Containers F_VN_Add Containers ip Src Container1 ITc Vn Container HRESULT F_VN_Add Containers ip Src Container2 ITc Vn Container ip Dest Container Reference To ITc Vn Container hr Prev HRESULT Element-wise addition of two containers (same length and type). Syntax Definition: FUNCTION F_VN_Add Containers : HRESULT VAR_INPUT ip Src Container1 : ITc Vn Container; ip Src Container2 : ITc Vn Container; ip Dest Container : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 493
## Page 494

API reference Inputs Name Type Description ip Src Container ITc Vn Container [} 374] Source container 1 1 ip Src Container ITc Vn Container [} 374] Source container 2 2 ip Dest Containe Reference To Returns the resulting container r ITc Vn Container [} 374] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.3 F_VN_Bitwise And Containers F_VN_Bitwise And Containers ip Src Container1 ITc Vn Container HRESULT F_VN_Bitwise And Containers ip Src Container2 ITc Vn Container ip Dest Container Reference To ITc Vn Container hr Prev HRESULT Element-wise application of a bit-wise AND operator to two containers (same length and type, integer only). Syntax Definition: FUNCTION F_VN_Bitwise And Containers : HRESULT VAR_INPUT ip Src Container1 : ITc Vn Container; ip Src Container2 : ITc Vn Container; ip Dest Container : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Container ITc Vn Container [} 374] Source container 1 1 ip Src Container ITc Vn Container [} 374] Source container 2 2 ip Dest Containe Reference To Returns the resulting container r ITc Vn Container [} 374] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 494 Version: 2.4.0 TF7000 - TF7810
## Page 495

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.4 F_VN_Bitwise Not Container F_VN_Bitwise Not Container ip Src Container ITc Vn Container HRESULT F_VN_Bitwise Not Container ip Dest Container Reference To ITc Vn Container hr Prev HRESULT Element-wise application of a bit-wise NOT operator to a container (integer only). Syntax Definition: FUNCTION F_VN_Bitwise Not Container : HRESULT VAR_INPUT ip Src Container : ITc Vn Container; ip Dest Container : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Container ITc Vn Container [} 374] Source container ip Dest Containe Reference To Returns the resulting container r ITc Vn Container [} 374] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.5 F_VN_Bitwise Or Containers F_VN_Bitwise Or Containers ip Src Container1 ITc Vn Container HRESULT F_VN_Bitwise Or Containers ip Src Container2 ITc Vn Container ip Dest Container Reference To ITc Vn Container hr Prev HRESULT Element-wise application of a bit-wise OR operator to two containers (same length and type, integer only). TF7000 - TF7810 Version: 2.4.0 495
## Page 496

API reference Syntax Definition: FUNCTION F_VN_Bitwise Or Containers : HRESULT VAR_INPUT ip Src Container1 : ITc Vn Container; ip Src Container2 : ITc Vn Container; ip Dest Container : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Container ITc Vn Container [} 374] Source container 1 1 ip Src Container ITc Vn Container [} 374] Source container 2 2 ip Dest Containe Reference To Returns the resulting container r ITc Vn Container [} 374] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.6 F_VN_Bitwise Xor Containers F_VN_Bitwise Xor Containers ip Src Container1 ITc Vn Container HRESULT F_VN_Bitwise Xor Containers ip Src Container2 ITc Vn Container ip Dest Container Reference To ITc Vn Container hr Prev HRESULT Element-wise application of a bit-wise XOR operator to two containers (same length and type, integer only). Syntax Definition: FUNCTION F_VN_Bitwise Xor Containers : HRESULT VAR_INPUT ip Src Container1 : ITc Vn Container; ip Src Container2 : ITc Vn Container; ip Dest Container : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR 496 Version: 2.4.0 TF7000 - TF7810
## Page 497

API reference Inputs Name Type Description ip Src Container ITc Vn Container [} 374] Source container 1 1 ip Src Container ITc Vn Container [} 374] Source container 2 2 ip Dest Containe Reference To Returns the resulting container r ITc Vn Container [} 374] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.7 F_VN_Divide Containers F_VN_Divide Containers ip Src Container1 ITc Vn Container HRESULT F_VN_Divide Containers ip Src Container2 ITc Vn Container ip Dest Container Reference To ITc Vn Container hr Prev HRESULT Element-wise division of two containers (same length and type). In case of integer division by zero, the resulting element is set to 0 and S_DIVISION_BY_ZERO is returned instead of S_OK (value can be changed in F_VN_Divide Containers Exp). Syntax Definition: FUNCTION F_VN_Divide Containers : HRESULT VAR_INPUT ip Src Container1 : ITc Vn Container; ip Src Container2 : ITc Vn Container; ip Dest Container : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Container ITc Vn Container [} 374] Source container 1 1 ip Src Container ITc Vn Container [} 374] Source container 2 2 ip Dest Containe Reference To Returns the resulting container r ITc Vn Container [} 374] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 497
## Page 498

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.8 F_VN_Divide Containers Exp F_VN_Divide Containers Exp ip Src Container1 ITc Vn Container HRESULT F_VN_Divide Containers Exp ip Src Container2 ITc Vn Container ip Dest Container Reference To ITc Vn Container n Int Divide By Zero Result LINT hr Prev HRESULT Element-wise division of two containers (same length and type). In case of integer division by zero, the resulting element is set to n Int Divide By Zero Result and S_DIVISION_BY_ZERO is returned instead of S_OK. (expert function) Syntax Definition: FUNCTION F_VN_Divide Containers Exp : HRESULT VAR_INPUT ip Src Container1 : ITc Vn Container; ip Src Container2 : ITc Vn Container; ip Dest Container : Reference To ITc Vn Container; n Int Divide By Zero Result : LINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Container ITc Vn Container [} 374] Source container 1 1 ip Src Container ITc Vn Container [} 374] Source container 2 2 ip Dest Containe Reference To Returns the resulting container r ITc Vn Container [} 374] n Int Divide By Ze LINT Value set as result in case of integer division by zero ro Result hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base 498 Version: 2.4.0 TF7000 - TF7810
## Page 499

API reference System Requirements 6.1.4.2.9 F_VN_Max Container F_VN_Max Container ip Src Container1 ITc Vn Container HRESULT F_VN_Max Container ip Src Container2 ITc Vn Container ip Dest Container Reference To ITc Vn Container hr Prev HRESULT Element-wise maximum of two containers (same length and type). Syntax Definition: FUNCTION F_VN_Max Container : HRESULT VAR_INPUT ip Src Container1 : ITc Vn Container; ip Src Container2 : ITc Vn Container; ip Dest Container : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Container ITc Vn Container [} 374] Source container 1 1 ip Src Container ITc Vn Container [} 374] Source container 2 2 ip Dest Containe Reference To Returns the resulting container r ITc Vn Container [} 374] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.10 F_VN_Min Container F_VN_Min Container ip Src Container1 ITc Vn Container HRESULT F_VN_Min Container ip Src Container2 ITc Vn Container ip Dest Container Reference To ITc Vn Container hr Prev HRESULT Element-wise minimum of two containers (same length and type). Syntax Definition: TF7000 - TF7810 Version: 2.4.0 499
## Page 500

API reference FUNCTION F_VN_Min Container : HRESULT VAR_INPUT ip Src Container1 : ITc Vn Container; ip Src Container2 : ITc Vn Container; ip Dest Container : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Container ITc Vn Container [} 374] Source container 1 1 ip Src Container ITc Vn Container [} 374] Source container 2 2 ip Dest Containe Reference To Returns the resulting container r ITc Vn Container [} 374] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.11 F_VN_Multiply Containers F_VN_Multiply Containers ip Src Container1 ITc Vn Container HRESULT F_VN_Multiply Containers ip Src Container2 ITc Vn Container ip Dest Container Reference To ITc Vn Container hr Prev HRESULT Element-wise multiplication of two containers (same length and type). Syntax Definition: FUNCTION F_VN_Multiply Containers : HRESULT VAR_INPUT ip Src Container1 : ITc Vn Container; ip Src Container2 : ITc Vn Container; ip Dest Container : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR 500 Version: 2.4.0 TF7000 - TF7810
## Page 501

API reference Inputs Name Type Description ip Src Container ITc Vn Container [} 374] Source container 1 1 ip Src Container ITc Vn Container [} 374] Source container 2 2 ip Dest Containe Reference To Returns the resulting container r ITc Vn Container [} 374] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.12 F_VN_Multiply With Container Elements1 F_VN_Multiply With Container Elements1 f Value LREAL HRESULT F_VN_Multiply With Container Elements1 ip Container ITc Vn Container hr Prev HRESULT Multiply each container element with a value. Syntax Definition: FUNCTION F_VN_Multiply With Container Elements1 : HRESULT VAR_INPUT f Value : LREAL; ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description f Value LREAL Value ip Container ITc Vn Container [} 374] Container with 1-dimensional elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 501
## Page 502

API reference System Requirements 6.1.4.2.13 F_VN_Multiply With Container Elements2 F_VN_Multiply With Container Elements2 ↔ a Value Tc Vn Vector2_LREAL HRESULT F_VN_Multiply With Container Elements2 ip Container ITc Vn Container hr Prev HRESULT Multiply each container element with a value. Syntax Definition: FUNCTION F_VN_Multiply With Container Elements2 : HRESULT VAR_IN_OUT a Value : Tc Vn Vector2_LREAL; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with 2-dimensional elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector2_LREAL Value [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.14 F_VN_Multiply With Container Elements3 F_VN_Multiply With Container Elements3 ↔ a Value Tc Vn Vector3_LREAL HRESULT F_VN_Multiply With Container Elements3 ip Container ITc Vn Container hr Prev HRESULT Multiply each container element with a value. Syntax Definition: 502 Version: 2.4.0 TF7000 - TF7810
## Page 503

API reference FUNCTION F_VN_Multiply With Container Elements3 : HRESULT VAR_IN_OUT a Value : Tc Vn Vector3_LREAL; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with 3-dimensional elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector3_LREAL Value [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.15 F_VN_Multiply With Container Elements4 F_VN_Multiply With Container Elements4 ↔ a Value Tc Vn Vector4_LREAL HRESULT F_VN_Multiply With Container Elements4 ip Container ITc Vn Container hr Prev HRESULT Multiply each container element with a value. Syntax Definition: FUNCTION F_VN_Multiply With Container Elements4 : HRESULT VAR_IN_OUT a Value : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with 4-dimensional elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 503
## Page 504

API reference In/Outputs Name Type Description a Value Tc Vn Vector4_LREAL Value [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.2.16 F_VN_Negate Container F_VN_Negate Container ip Src Container ITc Vn Container HRESULT F_VN_Negate Container ip Dest Container Reference To ITc Vn Container hr Prev HRESULT Element-wise negation of a container (two's complement). Syntax Definition: FUNCTION F_VN_Negate Container : HRESULT VAR_INPUT ip Src Container : ITc Vn Container; ip Dest Container : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Container ITc Vn Container [} 374] Source container ip Dest Containe Reference To Returns the resulting container (same type as ip Src Container) r ITc Vn Container [} 374] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base 504 Version: 2.4.0 TF7000 - TF7810
## Page 505

API reference System Requirements 6.1.4.2.17 F_VN_Subtract Containers F_VN_Subtract Containers ip Src Container1 ITc Vn Container HRESULT F_VN_Subtract Containers ip Src Container2 ITc Vn Container ip Dest Container Reference To ITc Vn Container hr Prev HRESULT Element-wise subtraction of two containers (same length and type). Syntax Definition: FUNCTION F_VN_Subtract Containers : HRESULT VAR_INPUT ip Src Container1 : ITc Vn Container; ip Src Container2 : ITc Vn Container; ip Dest Container : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Container ITc Vn Container [} 374] Source container 1 1 ip Src Container ITc Vn Container [} 374] Source container 2 2 ip Dest Containe Reference To Returns the resulting container r ITc Vn Container [} 374] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.3 Algebraic Image Operations This group contains functions for applying algebraic operations to images [} 152] pixel by pixel. Functions Addition • F_VN_Add Images [} 507] • F_VN_Add Images Weighted(Exp) [} 508] • F_VN_Add Scalar To Image [} 510] • F_VN_Add Vector To Image [} 510] TF7000 - TF7810 Version: 2.4.0 505
## Page 506

API reference Subtraction • F_VN_Subtract Images [} 543] • F_VN_Subtract Image From Scalar [} 541] • F_VN_Subtract Image From Vector [} 542] • F_VN_Subtract Scalar From Image [} 543] • F_VN_Subtract Vector From Image [} 544] Multiplication • F_VN_Multiply Images [} 539] • F_VN_Multiply Image With Scalar [} 539] • F_VN_Multiply Image With Vector [} 540] Division • F_VN_Divide Images [} 525] • F_VN_Divide Image By Scalar [} 523] • F_VN_Divide Image By Vector [} 524] • F_VN_Divide Scalar By Image [} 526] • F_VN_Divide Vector By Image [} 526] Exponentiation and logarithmization • F_VN_Elementwise Exp [} 527] • F_VN_Elementwise Log [} 528] Bitwise AND • F_VN_Bitwise And Images(Exp) [} 511] • F_VN_Bitwise And Scalar With Image [} 513] • F_VN_Bitwise And Vector With Image [} 513] Bitwise NOT • F_VN_Bitwise Not Image(Exp) [} 514] Bitwise OR • F_VN_Bitwise Or Images(Exp) [} 516] • F_VN_Bitwise Or Scalar With Image [} 517] • F_VN_Bitwise Or Vector With Image [} 518] Bitwise XOR • F_VN_Bitwise Xor Images(Exp) [} 519] • F_VN_Bitwise Xor Scalar With Image [} 520] • F_VN_Bitwise Xor Vector With Image [} 521] Cross-fading • F_VN_Blend Images [} 522] Maximum • F_VN_Max Image(Exp) [} 529] • F_VN_Max Image With Scalar(Exp) [} 530] • F_VN_Max Image With Vector(Exp) [} 532] 506 Version: 2.4.0 TF7000 - TF7810
## Page 507

API reference Minimum • F_VN_Min Image(Exp) [} 534] • F_VN_Min Image With Scalar(Exp) [} 535] • F_VN_Min Image With Vector(Exp) [} 537] 6.1.4.3.1 F_VN_Add Images F_VN_Add Images ip Src Image1 ITc Vn Image HRESULT F_VN_Add Images ip Src Image2 ITc Vn Image ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Element-wise addition of two images using saturation arithmetics. Syntax Definition: FUNCTION F_VN_Add Images : HRESULT VAR_INPUT ip Src Image1 : ITc Vn Image; ip Src Image2 : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image1 ITc Vn Image [} 413] First source image ip Src Image2 ITc Vn Image [} 413] Second source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Samples • Copy image areas [} 2737] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 507
## Page 508

API reference System Requirements 6.1.4.3.2 F_VN_Add Images Weighted F_VN_Add Images Weighted ip Src Image1 ITc Vn Image HRESULT F_VN_Add Images Weighted ip Src Image2 ITc Vn Image ip Dest Image Reference To ITc Vn Image f Weight1 LREAL f Weight2 LREAL f Delta LREAL hr Prev HRESULT Weighted, element-wise addition of two images using saturation arithmetics. Syntax Definition: FUNCTION F_VN_Add Images Weighted : HRESULT VAR_INPUT ip Src Image1 : ITc Vn Image; ip Src Image2 : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; f Weight1 : LREAL; f Weight2 : LREAL; f Delta : LREAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image1 ITc Vn Image [} 413] First source image ip Src Image2 ITc Vn Image [} 413] Second source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) f Weight1 LREAL Weight factor applied to ip Src Image1 f Weight2 LREAL Weight factor applied to ip Src Image2 f Delta LREAL Value added to the weighted sum of both images hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base 508 Version: 2.4.0 TF7000 - TF7810
## Page 509

API reference System Requirements 6.1.4.3.3 F_VN_Add Images Weighted Exp F_VN_Add Images Weighted Exp ip Src Image1 ITc Vn Image HRESULT F_VN_Add Images Weighted Exp ip Src Image2 ITc Vn Image ip Dest Image Reference To ITc Vn Image f Weight1 LREAL f Weight2 LREAL f Delta LREAL e Dest Type ETc Vn Element Type hr Prev HRESULT Weighted, element-wise addition of two images using saturation arithmetics. Syntax Definition: FUNCTION F_VN_Add Images Weighted Exp : HRESULT VAR_INPUT ip Src Image1 : ITc Vn Image; ip Src Image2 : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; f Weight1 : LREAL; f Weight2 : LREAL; f Delta : LREAL; e Dest Type : ETc Vn Element Type; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image1 ITc Vn Image [} 413] First source image ip Src Image2 ITc Vn Image [} 413] Second source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) f Weight1 LREAL Weight factor applied to ip Src Image1 f Weight2 LREAL Weight factor applied to ip Src Image2 f Delta LREAL Value added to the weighted sum of both images e Dest Type ETc Vn Element Type [} 203] Destination image depth hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 509
## Page 510

API reference System Requirements 6.1.4.3.4 F_VN_Add Scalar To Image F_VN_Add Scalar To Image f Scalar LREAL HRESULT F_VN_Add Scalar To Image ip Src Image ITc Vn Image ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Add a scalar value to each image pixel using saturation arithmetics. Syntax Definition: FUNCTION F_VN_Add Scalar To Image : HRESULT VAR_INPUT f Scalar : LREAL; ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description f Scalar LREAL Scalar value ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.3.5 F_VN_Add Vector To Image F_VN_Add Vector To Image ↔ a Vector Tc Vn Vector4_LREAL HRESULT F_VN_Add Vector To Image ip Src Image ITc Vn Image ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Add a vector (1 element for each image channel) to each image pixel using saturation arithmetics. Syntax Definition: 510 Version: 2.4.0 TF7000 - TF7810
## Page 511

API reference FUNCTION F_VN_Add Vector To Image : HRESULT VAR_IN_OUT a Vector : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Vector Tc Vn Vector4_LREAL 4-element vector (1 element for each image channel. If the image has less channels, the further vector elements are [} 165] ignored.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.3.6 F_VN_Bitwise And Images F_VN_Bitwise And Images ip Src Image1 ITc Vn Image HRESULT F_VN_Bitwise And Images ip Src Image2 ITc Vn Image ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Element-wise application of a bit-wise AND operator to two images. Syntax Definition: FUNCTION F_VN_Bitwise And Images : HRESULT VAR_INPUT ip Src Image1 : ITc Vn Image; ip Src Image2 : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 511
## Page 512

API reference Inputs Name Type Description ip Src Image1 ITc Vn Image [} 413] First source image ip Src Image2 ITc Vn Image [} 413] Second source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.3.7 F_VN_Bitwise And Images Exp F_VN_Bitwise And Images Exp ip Src Image1 ITc Vn Image HRESULT F_VN_Bitwise And Images Exp ip Src Image2 ITc Vn Image ip Dest Image Reference To ITc Vn Image ip Mask ITc Vn Image hr Prev HRESULT Element-wise application of a bit-wise AND operator to two images. (expert function) Syntax Definition: FUNCTION F_VN_Bitwise And Images Exp : HRESULT VAR_INPUT ip Src Image1 : ITc Vn Image; ip Src Image2 : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; ip Mask : ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image1 ITc Vn Image [} 413] First source image ip Src Image2 ITc Vn Image [} 413] Second source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) ip Mask ITc Vn Image [} 413] Mask to limit the operation to specific pixel positions (mask value 0: skip pixel, mask value > 0: apply operation to pixel) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 512 Version: 2.4.0 TF7000 - TF7810
## Page 513

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.3.8 F_VN_Bitwise And Scalar With Image F_VN_Bitwise And Scalar With Image f Scalar LREAL HRESULT F_VN_Bitwise And Scalar With Image ip Src Image ITc Vn Image ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Bitwise and a scalar value with each image pixel. Syntax Definition: FUNCTION F_VN_Bitwise And Scalar With Image : HRESULT VAR_INPUT f Scalar : LREAL; ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description f Scalar LREAL Scalar value ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.3.9 F_VN_Bitwise And Vector With Image F_VN_Bitwise And Vector With Image ↔ a Vector Tc Vn Vector4_LREAL HRESULT F_VN_Bitwise And Vector With Image ip Src Image ITc Vn Image ip Dest Image Reference To ITc Vn Image hr Prev HRESULT TF7000 - TF7810 Version: 2.4.0 513
## Page 514

API reference Bitwise and a vector (1 element for each image channel) with each image pixel. Syntax Definition: FUNCTION F_VN_Bitwise And Vector With Image : HRESULT VAR_IN_OUT a Vector : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Vector Tc Vn Vector4_LREAL 4-element vector (1 element for each image channel. If the image has less channels, the further vector elements are [} 165] ignored.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.3.10 F_VN_Bitwise Not Image F_VN_Bitwise Not Image ip Src Image ITc Vn Image HRESULT F_VN_Bitwise Not Image ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Element-wise application of a bit-wise NOT operator to an image. Syntax Definition: FUNCTION F_VN_Bitwise Not Image : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR 514 Version: 2.4.0 TF7000 - TF7810
## Page 515

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.3.11 F_VN_Bitwise Not Image Exp F_VN_Bitwise Not Image Exp ip Src Image ITc Vn Image HRESULT F_VN_Bitwise Not Image Exp ip Dest Image Reference To ITc Vn Image ip Mask ITc Vn Image hr Prev HRESULT Element-wise application of a bit-wise NOT operator to an image. (expert function) Syntax Definition: FUNCTION F_VN_Bitwise Not Image Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; ip Mask : ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) ip Mask ITc Vn Image [} 413] Mask to limit the operation to specific pixel positions (mask value 0: skip pixel, mask value > 0: apply operation to pixel) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 515
## Page 516

API reference Required License TC3 Vision Base System Requirements 6.1.4.3.12 F_VN_Bitwise Or Images F_VN_Bitwise Or Images ip Src Image1 ITc Vn Image HRESULT F_VN_Bitwise Or Images ip Src Image2 ITc Vn Image ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Element-wise application of a bit-wise OR operator to two images. Syntax Definition: FUNCTION F_VN_Bitwise Or Images : HRESULT VAR_INPUT ip Src Image1 : ITc Vn Image; ip Src Image2 : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image1 ITc Vn Image [} 413] First source image ip Src Image2 ITc Vn Image [} 413] Second source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.3.13 F_VN_Bitwise Or Images Exp F_VN_Bitwise Or Images Exp ip Src Image1 ITc Vn Image HRESULT F_VN_Bitwise Or Images Exp ip Src Image2 ITc Vn Image ip Dest Image Reference To ITc Vn Image ip Mask ITc Vn Image hr Prev HRESULT Element-wise application of a bit-wise OR operator to two images. (expert function) 516 Version: 2.4.0 TF7000 - TF7810
## Page 517

API reference Syntax Definition: FUNCTION F_VN_Bitwise Or Images Exp : HRESULT VAR_INPUT ip Src Image1 : ITc Vn Image; ip Src Image2 : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; ip Mask : ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image1 ITc Vn Image [} 413] First source image ip Src Image2 ITc Vn Image [} 413] Second source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) ip Mask ITc Vn Image [} 413] Mask to limit the operation to specific pixel positions (mask value 0: skip pixel, mask value > 0: apply operation to pixel) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.3.14 F_VN_Bitwise Or Scalar With Image F_VN_Bitwise Or Scalar With Image f Scalar LREAL HRESULT F_VN_Bitwise Or Scalar With Image ip Src Image ITc Vn Image ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Bitwise or a scalar value with each image pixel. Syntax Definition: FUNCTION F_VN_Bitwise Or Scalar With Image : HRESULT VAR_INPUT f Scalar : LREAL; ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 517
## Page 518

API reference Inputs Name Type Description f Scalar LREAL Scalar value ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.3.15 F_VN_Bitwise Or Vector With Image F_VN_Bitwise Or Vector With Image ↔ a Vector Tc Vn Vector4_LREAL HRESULT F_VN_Bitwise Or Vector With Image ip Src Image ITc Vn Image ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Bitwise or a vector (1 element for each image channel) with each image pixel. Syntax Definition: FUNCTION F_VN_Bitwise Or Vector With Image : HRESULT VAR_IN_OUT a Vector : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 518 Version: 2.4.0 TF7000 - TF7810
## Page 519

API reference In/Outputs Name Type Description a Vector Tc Vn Vector4_LREAL 4-element vector (1 element for each image channel. If the image has less channels, the further vector elements are [} 165] ignored.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.3.16 F_VN_Bitwise Xor Images F_VN_Bitwise Xor Images ip Src Image1 ITc Vn Image HRESULT F_VN_Bitwise Xor Images ip Src Image2 ITc Vn Image ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Element-wise application of a bit-wise XOR operator to two images. Syntax Definition: FUNCTION F_VN_Bitwise Xor Images : HRESULT VAR_INPUT ip Src Image1 : ITc Vn Image; ip Src Image2 : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image1 ITc Vn Image [} 413] First source image ip Src Image2 ITc Vn Image [} 413] Second source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 519
## Page 520

API reference System Requirements 6.1.4.3.17 F_VN_Bitwise Xor Images Exp F_VN_Bitwise Xor Images Exp ip Src Image1 ITc Vn Image HRESULT F_VN_Bitwise Xor Images Exp ip Src Image2 ITc Vn Image ip Dest Image Reference To ITc Vn Image ip Mask ITc Vn Image hr Prev HRESULT Element-wise application of a bit-wise XOR operator to two images. (expert function) Syntax Definition: FUNCTION F_VN_Bitwise Xor Images Exp : HRESULT VAR_INPUT ip Src Image1 : ITc Vn Image; ip Src Image2 : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; ip Mask : ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image1 ITc Vn Image [} 413] First source image ip Src Image2 ITc Vn Image [} 413] Second source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) ip Mask ITc Vn Image [} 413] Mask to limit the operation to specific pixel positions (mask value 0: skip pixel, mask value > 0: apply operation to pixel) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.3.18 F_VN_Bitwise Xor Scalar With Image F_VN_Bitwise Xor Scalar With Image f Scalar LREAL HRESULT F_VN_Bitwise Xor Scalar With Image ip Src Image ITc Vn Image ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Bitwise xor a scalar value with each image pixel. 520 Version: 2.4.0 TF7000 - TF7810
## Page 521

API reference Syntax Definition: FUNCTION F_VN_Bitwise Xor Scalar With Image : HRESULT VAR_INPUT f Scalar : LREAL; ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description f Scalar LREAL Scalar value ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.3.19 F_VN_Bitwise Xor Vector With Image F_VN_Bitwise Xor Vector With Image ↔ a Vector Tc Vn Vector4_LREAL HRESULT F_VN_Bitwise Xor Vector With Image ip Src Image ITc Vn Image ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Bitwise xor a vector (1 element for each image channel) with each image pixel. Syntax Definition: FUNCTION F_VN_Bitwise Xor Vector With Image : HRESULT VAR_IN_OUT a Vector : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 521
## Page 522

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Vector Tc Vn Vector4_LREAL 4-element vector (1 element for each image channel. If the image has less channels, the further vector elements are [} 165] ignored.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.3.20 F_VN_Blend Images F_VN_Blend Images ip Src Image1 ITc Vn Image HRESULT F_VN_Blend Images ip Src Image2 ITc Vn Image ip Weights1 ITc Vn Image ip Weights2 ITc Vn Image ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Blends two images, i.e. dest = (src1 * weight1 + src2 * weight2) / (weight1 + weight2). Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Blend Images : HRESULT VAR_INPUT ip Src Image1 : ITc Vn Image; ip Src Image2 : ITc Vn Image; ip Weights1 : ITc Vn Image; ip Weights2 : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR 522 Version: 2.4.0 TF7000 - TF7810
## Page 523

API reference Inputs Name Type Description ip Src Image1 ITc Vn Image [} 413] First source image (ET_USINT or ET_REAL) ip Src Image2 ITc Vn Image [} 413] Second source image (same type and size as ip Src Image1) ip Weights1 ITc Vn Image [} 413] Weights for ip Src Image1 (1 channel, ET_REAL) ip Weights2 ITc Vn Image [} 413] Weights for ip Src Image2 (1 channel, ET_REAL) ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.3.21 F_VN_Divide Image By Scalar F_VN_Divide Image By Scalar ip Src Image ITc Vn Image HRESULT F_VN_Divide Image By Scalar f Scalar LREAL ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Divide each image pixel by a scalar value using saturation arithmetics. Syntax Definition: FUNCTION F_VN_Divide Image By Scalar : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; f Scalar : LREAL; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image f Scalar LREAL Scalar value ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 523
## Page 524

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.3.22 F_VN_Divide Image By Vector F_VN_Divide Image By Vector ip Src Image ITc Vn Image HRESULT F_VN_Divide Image By Vector ↔ a Vector Tc Vn Vector4_LREAL ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Divides each image pixel by a vector (1 element for each image channel) using saturation arithmetics. Syntax Definition: FUNCTION F_VN_Divide Image By Vector : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR VAR_IN_OUT a Vector : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Vector Tc Vn Vector4_LREAL 4-element vector (1 element for each image channel. If the image has less channels, the further vector elements are [} 165] ignored.) Return value HRESULT [} 144] Required License TC3 Vision Base 524 Version: 2.4.0 TF7000 - TF7810
## Page 525

API reference System Requirements 6.1.4.3.23 F_VN_Divide Images F_VN_Divide Images ip Src Image1 ITc Vn Image HRESULT F_VN_Divide Images ip Src Image2 ITc Vn Image ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Element-wise division of two images using saturation arithmetics. (A division by zero equals zero.) Syntax Definition: FUNCTION F_VN_Divide Images : HRESULT VAR_INPUT ip Src Image1 : ITc Vn Image; ip Src Image2 : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image1 ITc Vn Image [} 413] First source image (dividend) ip Src Image2 ITc Vn Image [} 413] Second source image (divisor) ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Divide Images returns zero for the respective elements in the case of division by zero. However, this only works if the option Floating point exceptions of the executing PLC task [} 62] is deactivated. Otherwise a division-by-zero error occurs. NOTICE Floating point exceptions This function can cause errors if the option Floating point exceptions of the executing PLC task [} 62] is active. Therefore, deactivate this option. Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 525
## Page 526

API reference System Requirements 6.1.4.3.24 F_VN_Divide Scalar By Image F_VN_Divide Scalar By Image f Scalar LREAL HRESULT F_VN_Divide Scalar By Image ip Src Image ITc Vn Image ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Divides a scalar value by each image pixel using saturation arithmetics. Syntax Definition: FUNCTION F_VN_Divide Scalar By Image : HRESULT VAR_INPUT f Scalar : LREAL; ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description f Scalar LREAL Scalar value ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.3.25 F_VN_Divide Vector By Image F_VN_Divide Vector By Image ↔ a Vector Tc Vn Vector4_LREAL HRESULT F_VN_Divide Vector By Image ip Src Image ITc Vn Image ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Divides a vector (1 element for each image channel) by each image pixel using saturation arithmetics. Syntax Definition: 526 Version: 2.4.0 TF7000 - TF7810
## Page 527

API reference FUNCTION F_VN_Divide Vector By Image : HRESULT VAR_IN_OUT a Vector : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Vector Tc Vn Vector4_LREAL 4-element vector (1 element for each image channel. If the image has less channels, the further vector elements are [} 165] ignored.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.3.26 F_VN_Elementwise Exp F_VN_Elementwise Exp ip Src Image ITc Vn Image HRESULT F_VN_Elementwise Exp ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Computes the natural exponent of each pixel value. Syntax Definition: FUNCTION F_VN_Elementwise Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 527
## Page 528

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (REAL or LREAL) ip Dest Image Reference To Destination image (Same type and size as ip Src Image, an ITc Vn Image [} 413] appropriate image will be created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.3.27 F_VN_Elementwise Log F_VN_Elementwise Log ip Src Image ITc Vn Image HRESULT F_VN_Elementwise Log ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Computes the natural logarithm of each pixel value. Syntax Definition: FUNCTION F_VN_Elementwise Log : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (REAL or LREAL) ip Dest Image Reference To Destination image (Same type and size as ip Src Image, an ITc Vn Image [} 413] appropriate image will be created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base 528 Version: 2.4.0 TF7000 - TF7810
## Page 529

API reference System Requirements 6.1.4.3.28 F_VN_Max Image F_VN_Max Image ip Src Image1 ITc Vn Image HRESULT F_VN_Max Image ip Src Image2 ITc Vn Image ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Element-wise maximum of two images. Syntax Definition: FUNCTION F_VN_Max Image : HRESULT VAR_INPUT ip Src Image1 : ITc Vn Image; ip Src Image2 : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image1 ITc Vn Image [} 413] First source image ip Src Image2 ITc Vn Image [} 413] Second source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.3.29 F_VN_Max Image Exp F_VN_Max Image Exp ip Src Image1 ITc Vn Image HRESULT F_VN_Max Image Exp ip Src Image2 ITc Vn Image ip Dest Image Reference To ITc Vn Image ip Mask ITc Vn Image hr Prev HRESULT Element-wise maximum of two images. (expert function) Syntax Definition: TF7000 - TF7810 Version: 2.4.0 529
## Page 530

API reference FUNCTION F_VN_Max Image Exp : HRESULT VAR_INPUT ip Src Image1 : ITc Vn Image; ip Src Image2 : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; ip Mask : ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image1 ITc Vn Image [} 413] First source image ip Src Image2 ITc Vn Image [} 413] Second source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) ip Mask ITc Vn Image [} 413] Mask of type USINT hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.3.30 F_VN_Max Image With Scalar F_VN_Max Image With Scalar f Scalar LREAL HRESULT F_VN_Max Image With Scalar ip Src Image ITc Vn Image ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Element-wise maximum of image and scalar value. Syntax Definition: FUNCTION F_VN_Max Image With Scalar : HRESULT VAR_INPUT f Scalar : LREAL; ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR 530 Version: 2.4.0 TF7000 - TF7810
## Page 531

API reference Inputs Name Type Description f Scalar LREAL Scalar value ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.3.31 F_VN_Max Image With Scalar Exp F_VN_Max Image With Scalar Exp f Scalar LREAL HRESULT F_VN_Max Image With Scalar Exp ip Src Image ITc Vn Image ip Dest Image Reference To ITc Vn Image ip Mask ITc Vn Image hr Prev HRESULT Element-wise maximum of image and scalar value. (expert function) Syntax Definition: FUNCTION F_VN_Max Image With Scalar Exp : HRESULT VAR_INPUT f Scalar : LREAL; ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; ip Mask : ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description f Scalar LREAL Scalar value ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) ip Mask ITc Vn Image [} 413] Mask of type USINT hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 531
## Page 532

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.3.32 F_VN_Max Image With Vector F_VN_Max Image With Vector ↔ a Vector Tc Vn Vector4_LREAL HRESULT F_VN_Max Image With Vector ip Src Image ITc Vn Image ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Element-wise maximum of image and vector (1 element for each image channel). Syntax Definition: FUNCTION F_VN_Max Image With Vector : HRESULT VAR_IN_OUT a Vector : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Vector Tc Vn Vector4_LREAL 4-element vector (1 element for each image channel. If the image has less channels, the further vector elements are [} 165] ignored.) Return value HRESULT [} 144] Required License TC3 Vision Base 532 Version: 2.4.0 TF7000 - TF7810
## Page 533

API reference System Requirements 6.1.4.3.33 F_VN_Max Image With Vector Exp F_VN_Max Image With Vector Exp ↔ a Vector Tc Vn Vector4_LREAL HRESULT F_VN_Max Image With Vector Exp ip Src Image ITc Vn Image ip Dest Image Reference To ITc Vn Image ip Mask ITc Vn Image hr Prev HRESULT Element-wise maximum of image and vector (1 element for each image channel). (expert function) Syntax Definition: FUNCTION F_VN_Max Image With Vector Exp : HRESULT VAR_IN_OUT a Vector : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; ip Mask : ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) ip Mask ITc Vn Image [} 413] Mask of type USINT hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Vector Tc Vn Vector4_LREAL 4-element vector (1 element for each image channel. If the image has less channels, the further vector elements are [} 165] ignored.) Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 533
## Page 534

API reference System Requirements 6.1.4.3.34 F_VN_Min Image F_VN_Min Image ip Src Image1 ITc Vn Image HRESULT F_VN_Min Image ip Src Image2 ITc Vn Image ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Element-wise minimum of two images. Syntax Definition: FUNCTION F_VN_Min Image : HRESULT VAR_INPUT ip Src Image1 : ITc Vn Image; ip Src Image2 : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image1 ITc Vn Image [} 413] First source image ip Src Image2 ITc Vn Image [} 413] Second source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.3.35 F_VN_Min Image Exp F_VN_Min Image Exp ip Src Image1 ITc Vn Image HRESULT F_VN_Min Image Exp ip Src Image2 ITc Vn Image ip Dest Image Reference To ITc Vn Image ip Mask ITc Vn Image hr Prev HRESULT Element-wise minimum of two images. (expert function) Syntax Definition: 534 Version: 2.4.0 TF7000 - TF7810
## Page 535

API reference FUNCTION F_VN_Min Image Exp : HRESULT VAR_INPUT ip Src Image1 : ITc Vn Image; ip Src Image2 : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; ip Mask : ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image1 ITc Vn Image [} 413] First source image ip Src Image2 ITc Vn Image [} 413] Second source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) ip Mask ITc Vn Image [} 413] Mask of type USINT hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.3.36 F_VN_Min Image With Scalar F_VN_Min Image With Scalar f Scalar LREAL HRESULT F_VN_Min Image With Scalar ip Src Image ITc Vn Image ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Element-wise minimum of image and scalar value. Syntax Definition: FUNCTION F_VN_Min Image With Scalar : HRESULT VAR_INPUT f Scalar : LREAL; ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 535
## Page 536

API reference Inputs Name Type Description f Scalar LREAL Scalar value ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.3.37 F_VN_Min Image With Scalar Exp F_VN_Min Image With Scalar Exp f Scalar LREAL HRESULT F_VN_Min Image With Scalar Exp ip Src Image ITc Vn Image ip Dest Image Reference To ITc Vn Image ip Mask ITc Vn Image hr Prev HRESULT Element-wise minimum of image and scalar value. (expert function) Syntax Definition: FUNCTION F_VN_Min Image With Scalar Exp : HRESULT VAR_INPUT f Scalar : LREAL; ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; ip Mask : ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description f Scalar LREAL Scalar value ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) ip Mask ITc Vn Image [} 413] Mask of type USINT hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 536 Version: 2.4.0 TF7000 - TF7810
## Page 537

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.3.38 F_VN_Min Image With Vector F_VN_Min Image With Vector ↔ a Vector Tc Vn Vector4_LREAL HRESULT F_VN_Min Image With Vector ip Src Image ITc Vn Image ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Element-wise minimum of image and vector (1 element for each image channel). Syntax Definition: FUNCTION F_VN_Min Image With Vector : HRESULT VAR_IN_OUT a Vector : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Vector Tc Vn Vector4_LREAL 4-element vector (1 element for each image channel. If the image has less channels, the further vector elements are [} 165] ignored.) Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 537
## Page 538

API reference System Requirements 6.1.4.3.39 F_VN_Min Image With Vector Exp F_VN_Min Image With Vector Exp ↔ a Vector Tc Vn Vector4_LREAL HRESULT F_VN_Min Image With Vector Exp ip Src Image ITc Vn Image ip Dest Image Reference To ITc Vn Image ip Mask ITc Vn Image hr Prev HRESULT Element-wise minimum of image and vector (1 element for each image channel). (expert function) Syntax Definition: FUNCTION F_VN_Min Image With Vector Exp : HRESULT VAR_IN_OUT a Vector : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; ip Mask : ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) ip Mask ITc Vn Image [} 413] Mask of type USINT hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Vector Tc Vn Vector4_LREAL 4-element vector (1 element for each image channel. If the image has less channels, the further vector elements are [} 165] ignored.) Return value HRESULT [} 144] Required License TC3 Vision Base 538 Version: 2.4.0 TF7000 - TF7810
## Page 539

API reference System Requirements 6.1.4.3.40 F_VN_Multiply Images F_VN_Multiply Images ip Src Image1 ITc Vn Image HRESULT F_VN_Multiply Images ip Src Image2 ITc Vn Image ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Element-wise multiplication of two images using saturation arithmetics. Syntax Definition: FUNCTION F_VN_Multiply Images : HRESULT VAR_INPUT ip Src Image1 : ITc Vn Image; ip Src Image2 : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image1 ITc Vn Image [} 413] First source image ip Src Image2 ITc Vn Image [} 413] Second source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.3.41 F_VN_Multiply Image With Scalar F_VN_Multiply Image With Scalar f Scalar LREAL HRESULT F_VN_Multiply Image With Scalar ip Src Image ITc Vn Image ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Multiply each image pixel by a scalar value using saturation arithmetics. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 539
## Page 540

API reference FUNCTION F_VN_Multiply Image With Scalar : HRESULT VAR_INPUT f Scalar : LREAL; ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description f Scalar LREAL Scalar value ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.3.42 F_VN_Multiply Image With Vector F_VN_Multiply Image With Vector ↔ a Vector Tc Vn Vector4_LREAL HRESULT F_VN_Multiply Image With Vector ip Src Image ITc Vn Image ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Multiply each image pixel by a vector (1 element for each image channel) using saturation arithmetics. Syntax Definition: FUNCTION F_VN_Multiply Image With Vector : HRESULT VAR_IN_OUT a Vector : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 540 Version: 2.4.0 TF7000 - TF7810
## Page 541

API reference In/Outputs Name Type Description a Vector Tc Vn Vector4_LREAL 4-element vector (1 element for each image channel. If the image has less channels, the further vector elements are [} 165] ignored.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.3.43 F_VN_Subtract Image From Scalar F_VN_Subtract Image From Scalar f Scalar LREAL HRESULT F_VN_Subtract Image From Scalar ip Src Image ITc Vn Image ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Subtract each image pixel from a scalar value using saturation arithmetics. Syntax Definition: FUNCTION F_VN_Subtract Image From Scalar : HRESULT VAR_INPUT f Scalar : LREAL; ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description f Scalar LREAL Scalar value ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 541
## Page 542

API reference System Requirements 6.1.4.3.44 F_VN_Subtract Image From Vector F_VN_Subtract Image From Vector ↔ a Vector Tc Vn Vector4_LREAL HRESULT F_VN_Subtract Image From Vector ip Src Image ITc Vn Image ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Subtract each image pixel from a vector (1 element for each image channel) using saturation arithmetics. Syntax Definition: FUNCTION F_VN_Subtract Image From Vector : HRESULT VAR_IN_OUT a Vector : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Vector Tc Vn Vector4_LREAL 4-element vector (1 element for each image channel. If the image has less channels, the further vector elements are [} 165] ignored.) Return value HRESULT [} 144] Required License TC3 Vision Base 542 Version: 2.4.0 TF7000 - TF7810
## Page 543

API reference System Requirements 6.1.4.3.45 F_VN_Subtract Images F_VN_Subtract Images ip Src Image1 ITc Vn Image HRESULT F_VN_Subtract Images ip Src Image2 ITc Vn Image ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Element-wise subtraction of two images using saturation arithmetics. Syntax Definition: FUNCTION F_VN_Subtract Images : HRESULT VAR_INPUT ip Src Image1 : ITc Vn Image; ip Src Image2 : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image1 ITc Vn Image [} 413] First source image (minuend) ip Src Image2 ITc Vn Image [} 413] Second source image (subtrahend) ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.3.46 F_VN_Subtract Scalar From Image F_VN_Subtract Scalar From Image ip Src Image ITc Vn Image HRESULT F_VN_Subtract Scalar From Image f Scalar LREAL ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Subtract a scalar value from each image pixel using saturation arithmetics. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 543
## Page 544

API reference FUNCTION F_VN_Subtract Scalar From Image : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; f Scalar : LREAL; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image f Scalar LREAL Scalar value ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.3.47 F_VN_Subtract Vector From Image F_VN_Subtract Vector From Image ip Src Image ITc Vn Image HRESULT F_VN_Subtract Vector From Image ↔ a Vector Tc Vn Vector4_LREAL ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Subtract a vector (1 element for each image channel) from each image pixel using saturation arithmetics. Syntax Definition: FUNCTION F_VN_Subtract Vector From Image : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR VAR_IN_OUT a Vector : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR 544 Version: 2.4.0 TF7000 - TF7810
## Page 545

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Vector Tc Vn Vector4_LREAL 4-element vector (1 element for each image channel. If the image has less channels, the further vector elements are [} 165] ignored.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4 Basic Container Operations This group contains functions for handling containers [} 155]. Functions Creation of containers • F_VN_Copy Container [} 735] • F_VN_Copy Container Elements Conditional_ITc Vn Container [} 735] • F_VN_Copy Container Elements Conditional_ITc Vn Forward Iterator [} 736] • F_VN_Create Container [} 738] • F_VN_Create Container From Array [} 738] • F_VN_Extract Container Range [} 747] • F_VN_Reserve Container Memory [} 754] Handling of container elements • F_VN_Append To Container [} 546] • F_VN_Check If Empty [} 732] • F_VN_Convert Container Type [} 733] • F_VN_Erase From Container [} 739] • F_VN_Fill Container(Exp) [} 603] • F_VN_Get At [} 637] • F_VN_Get Container(Exp) [} 748] • F_VN_Get Number Of Elements [} 750] TF7000 - TF7810 Version: 2.4.0 545
## Page 546

API reference • F_VN_Insert Into Container [} 669] • F_VN_Reverse Container [} 754] • F_VN_Set At [} 699] • F_VN_Set Container [} 755] Exporting container data to the memory area • F_VN_Export Container [} 740] • F_VN_Export Sub Container [} 744] • F_VN_Export Container_String [} 742] • F_VN_Export Sub Container_String [} 745] • F_VN_Export Container Size [} 743] • F_VN_Export Sub Container Size [} 746] Handling of iterators • F_VN_Advance Iterator [} 731] • F_VN_Check If Iterator Is At End [} 732] • F_VN_Get Forward Iterator [} 750] • F_VN_Get Random Access Iterator [} 751] • F_VN_Increment Iterator [} 752] • F_VN_Iterator Distance [} 753] • F_VN_Set Iterator To Begin [} 756] Samples Basic Container Operations [} 2734] 6.1.4.4.1 F_VN_Append To Container This chapter contains functions to add an element to a container according to the data type. 6.1.4.4.1.1 F_VN_Append To Container_Tc Vn Rotated Rectangle F_VN_Append To Container_Tc Vn Rotated Rectangle ↔ st Element Tc Vn Rotated Rectangle HRESULT F_VN_Append To Container_Tc Vn Rotated Rectangle ip Container ITc Vn Container hr Prev HRESULT Append a single element of type Tc Vn Rotated Rectangle to a container. Syntax Definition: FUNCTION F_VN_Append To Container_Tc Vn Rotated Rectangle : HRESULT VAR_IN_OUT st Element : Tc Vn Rotated Rectangle; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR 546 Version: 2.4.0 TF7000 - TF7810
## Page 547

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Element Tc Vn Rotated Rectangle Single element to append to ip Container [} 251] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.1.2 F_VN_Append To Container_DINT F_VN_Append To Container_DINT n Element DINT HRESULT F_VN_Append To Container_DINT ip Container ITc Vn Container hr Prev HRESULT Append a single element of type DINT to a container. Syntax Definition: FUNCTION F_VN_Append To Container_DINT : HRESULT VAR_INPUT n Element : DINT; ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description n Element DINT Single element to append to ip Container ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 547
## Page 548

API reference System Requirements 6.1.4.4.1.3 F_VN_Append To Container_INT F_VN_Append To Container_INT n Element INT HRESULT F_VN_Append To Container_INT ip Container ITc Vn Container hr Prev HRESULT Append a single element of type INT to a container. Syntax Definition: FUNCTION F_VN_Append To Container_INT : HRESULT VAR_INPUT n Element : INT; ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description n Element INT Single element to append to ip Container ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.1.4 F_VN_Append To Container_ITc Vn Container F_VN_Append To Container_ITc Vn Container ip Element ITc Vn Container HRESULT F_VN_Append To Container_ITc Vn Container ip Container ITc Vn Container hr Prev HRESULT Append a single element to a container or concatenate containers (if ip Element has the same type Id as ip Container). Syntax Definition: FUNCTION F_VN_Append To Container_ITc Vn Container : HRESULT VAR_INPUT ip Element : ITc Vn Container; ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR 548 Version: 2.4.0 TF7000 - TF7810
## Page 549

API reference Inputs Name Type Description ip Element ITc Vn Container [} 374] Single element to append to ip Container or container with several elements to be concatenated ip Container ITc Vn Container [} 374] Container to which the element(s) will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.1.5 F_VN_Append To Container_ITc Vn Forward Iterator F_VN_Append To Container_ITc Vn Forward Iterator ip Element ITc Vn Forward Iterator HRESULT F_VN_Append To Container_ITc Vn Forward Iterator ip Container ITc Vn Container hr Prev HRESULT Append a single element (represented by an iterator)to a container. Syntax Definition: FUNCTION F_VN_Append To Container_ITc Vn Forward Iterator : HRESULT VAR_INPUT ip Element : ITc Vn Forward Iterator; ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Element ITc Vn Forward Iterator Single element to append to ip Container [} 365] ip Container ITc Vn Container [} 374] Container to which the element(s) will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 549
## Page 550

API reference System Requirements 6.1.4.4.1.6 F_VN_Append To Container_ITc Vn Image F_VN_Append To Container_ITc Vn Image ip Element ITc Vn Image HRESULT F_VN_Append To Container_ITc Vn Image ip Container ITc Vn Container hr Prev HRESULT Append a single element of type ITc Vn Image to a container. Syntax Definition: FUNCTION F_VN_Append To Container_ITc Vn Image : HRESULT VAR_INPUT ip Element : ITc Vn Image; ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Element ITc Vn Image [} 413] Single element to append to ip Container ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.1.7 F_VN_Append To Container_LREAL F_VN_Append To Container_LREAL f Element LREAL HRESULT F_VN_Append To Container_LREAL ip Container ITc Vn Container hr Prev HRESULT Append a single element of type LREAL to a container. Syntax Definition: FUNCTION F_VN_Append To Container_LREAL : HRESULT VAR_INPUT f Element : LREAL; ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR 550 Version: 2.4.0 TF7000 - TF7810
## Page 551

API reference Inputs Name Type Description f Element LREAL Single element to append to ip Container ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.1.8 F_VN_Append To Container_REAL F_VN_Append To Container_REAL f Element REAL HRESULT F_VN_Append To Container_REAL ip Container ITc Vn Container hr Prev HRESULT Append a single element of type REAL to a container. Syntax Definition: FUNCTION F_VN_Append To Container_REAL : HRESULT VAR_INPUT f Element : REAL; ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description f Element REAL Single element to append to ip Container ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 551
## Page 552

API reference System Requirements 6.1.4.4.1.9 F_VN_Append To Container_SINT F_VN_Append To Container_SINT n Element SINT HRESULT F_VN_Append To Container_SINT ip Container ITc Vn Container hr Prev HRESULT Append a single element of type SINT to a container. Syntax Definition: FUNCTION F_VN_Append To Container_SINT : HRESULT VAR_INPUT n Element : SINT; ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description n Element SINT Single element to append to ip Container ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.1.10 F_VN_Append To Container_Tc Vn DMatch F_VN_Append To Container_Tc Vn DMatch ↔ st Element Tc Vn DMatch HRESULT F_VN_Append To Container_Tc Vn DMatch ip Container ITc Vn Container hr Prev HRESULT Append a single element of type Tc Vn DMatch to a container. Syntax Definition: FUNCTION F_VN_Append To Container_Tc Vn DMatch : HRESULT VAR_IN_OUT st Element : Tc Vn DMatch; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR 552 Version: 2.4.0 TF7000 - TF7810
## Page 553

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Element Tc Vn DMatch [} 237] Single element to append to ip Container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.1.11 F_VN_Append To Container_Tc Vn Key Point F_VN_Append To Container_Tc Vn Key Point ↔ st Element Tc Vn Key Point HRESULT F_VN_Append To Container_Tc Vn Key Point ip Container ITc Vn Container hr Prev HRESULT Append a single element of type Tc Vn Key Point to a container. Syntax Definition: FUNCTION F_VN_Append To Container_Tc Vn Key Point : HRESULT VAR_IN_OUT st Element : Tc Vn Key Point; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Element Tc Vn Key Point [} 237] Single element to append to ip Container TF7000 - TF7810 Version: 2.4.0 553
## Page 554

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.1.12 F_VN_Append To Container_Tc Vn Point2_DINT F_VN_Append To Container_Tc Vn Point2_DINT ↔ a Element Tc Vn Point2_DINT HRESULT F_VN_Append To Container_Tc Vn Point2_DINT ip Container ITc Vn Container hr Prev HRESULT Append a single element of type Tc Vn Point2_DINT to a container. Syntax Definition: FUNCTION F_VN_Append To Container_Tc Vn Point2_DINT : HRESULT VAR_IN_OUT a Element : Tc Vn Point2_DINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Point2_DINT [} 163] Single element to append to ip Container Return value HRESULT [} 144] Required License TC3 Vision Base 554 Version: 2.4.0 TF7000 - TF7810
## Page 555

API reference System Requirements 6.1.4.4.1.13 F_VN_Append To Container_Tc Vn Point2_LREAL F_VN_Append To Container_Tc Vn Point2_LREAL ↔ a Element Tc Vn Point2_LREAL HRESULT F_VN_Append To Container_Tc Vn Point2_LREAL ip Container ITc Vn Container hr Prev HRESULT Append a single element of type Tc Vn Point2_LREAL to a container. Syntax Definition: FUNCTION F_VN_Append To Container_Tc Vn Point2_LREAL : HRESULT VAR_IN_OUT a Element : Tc Vn Point2_LREAL; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Point2_LREAL [} 163] Single element to append to ip Container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.1.14 F_VN_Append To Container_Tc Vn Point2_REAL F_VN_Append To Container_Tc Vn Point2_REAL ↔ a Element Tc Vn Point2_REAL HRESULT F_VN_Append To Container_Tc Vn Point2_REAL ip Container ITc Vn Container hr Prev HRESULT Append a single element of type Tc Vn Point2_REAL to a container. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 555
## Page 556

API reference FUNCTION F_VN_Append To Container_Tc Vn Point2_REAL : HRESULT VAR_IN_OUT a Element : Tc Vn Point2_REAL; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Point2_REAL [} 163] Single element to append to ip Container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.1.15 F_VN_Append To Container_Tc Vn Point3_LREAL F_VN_Append To Container_Tc Vn Point3_LREAL ↔ a Element Tc Vn Point3_LREAL HRESULT F_VN_Append To Container_Tc Vn Point3_LREAL ip Container ITc Vn Container hr Prev HRESULT Append a single element of type Tc Vn Point3_LREAL to a container. Syntax Definition: FUNCTION F_VN_Append To Container_Tc Vn Point3_LREAL : HRESULT VAR_IN_OUT a Element : Tc Vn Point3_LREAL; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 556 Version: 2.4.0 TF7000 - TF7810
## Page 557

API reference In/Outputs Name Type Description a Element Tc Vn Point3_LREAL [} 163] Single element to append to ip Container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.1.16 F_VN_Append To Container_Tc Vn Point3_REAL F_VN_Append To Container_Tc Vn Point3_REAL ↔ a Element Tc Vn Point3_REAL HRESULT F_VN_Append To Container_Tc Vn Point3_REAL ip Container ITc Vn Container hr Prev HRESULT Append a single element of type Tc Vn Point3_REAL to a container. Syntax Definition: FUNCTION F_VN_Append To Container_Tc Vn Point3_REAL : HRESULT VAR_IN_OUT a Element : Tc Vn Point3_REAL; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Point3_REAL [} 163] Single element to append to ip Container Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 557
## Page 558

API reference System Requirements 6.1.4.4.1.17 F_VN_Append To Container_Tc Vn Rectangle_DINT F_VN_Append To Container_Tc Vn Rectangle_DINT ↔ st Element Tc Vn Rectangle_DINT HRESULT F_VN_Append To Container_Tc Vn Rectangle_DINT ip Container ITc Vn Container hr Prev HRESULT Append a single element of type Tc Vn Rectangle_DINT to a container. Syntax Definition: FUNCTION F_VN_Append To Container_Tc Vn Rectangle_DINT : HRESULT VAR_IN_OUT st Element : Tc Vn Rectangle_DINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Element Tc Vn Rectangle_DINT Single element to append to ip Container [} 250] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.1.18 F_VN_Append To Container_Tc Vn Vector2_DINT F_VN_Append To Container_Tc Vn Vector2_DINT ↔ a Element Tc Vn Vector2_DINT HRESULT F_VN_Append To Container_Tc Vn Vector2_DINT ip Container ITc Vn Container hr Prev HRESULT Append a single element of type Tc Vn Vector2_DINT to a container. Syntax Definition: 558 Version: 2.4.0 TF7000 - TF7810
## Page 559

API reference FUNCTION F_VN_Append To Container_Tc Vn Vector2_DINT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector2_DINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector2_DINT [} 165] Single element to append to ip Container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.1.19 F_VN_Append To Container_Tc Vn Vector2_INT F_VN_Append To Container_Tc Vn Vector2_INT ↔ a Element Tc Vn Vector2_INT HRESULT F_VN_Append To Container_Tc Vn Vector2_INT ip Container ITc Vn Container hr Prev HRESULT Append a single element of type Tc Vn Vector2_INT to a container. Syntax Definition: FUNCTION F_VN_Append To Container_Tc Vn Vector2_INT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector2_INT; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 559
## Page 560

API reference In/Outputs Name Type Description a Element Tc Vn Vector2_INT [} 165] Single element to append to ip Container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.1.20 F_VN_Append To Container_Tc Vn Vector2_REAL F_VN_Append To Container_Tc Vn Vector2_REAL ↔ a Element Tc Vn Vector2_REAL HRESULT F_VN_Append To Container_Tc Vn Vector2_REAL ip Container ITc Vn Container hr Prev HRESULT Append a single element of type Tc Vn Vector2_REAL to a container. Syntax Definition: FUNCTION F_VN_Append To Container_Tc Vn Vector2_REAL : HRESULT VAR_IN_OUT a Element : Tc Vn Vector2_REAL; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector2_REAL [} 165] Single element to append to ip Container Return value HRESULT [} 144] Required License TC3 Vision Base 560 Version: 2.4.0 TF7000 - TF7810
## Page 561

API reference System Requirements 6.1.4.4.1.21 F_VN_Append To Container_Tc Vn Vector2_SINT F_VN_Append To Container_Tc Vn Vector2_SINT ↔ a Element Tc Vn Vector2_SINT HRESULT F_VN_Append To Container_Tc Vn Vector2_SINT ip Container ITc Vn Container hr Prev HRESULT Append a single element of type Tc Vn Vector2_SINT to a container. Syntax Definition: FUNCTION F_VN_Append To Container_Tc Vn Vector2_SINT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector2_SINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector2_SINT [} 165] Single element to append to ip Container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.1.22 F_VN_Append To Container_Tc Vn Vector2_UINT F_VN_Append To Container_Tc Vn Vector2_UINT ↔ a Element Tc Vn Vector2_UINT HRESULT F_VN_Append To Container_Tc Vn Vector2_UINT ip Container ITc Vn Container hr Prev HRESULT Append a single element of type Tc Vn Vector2_UINT to a container. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 561
## Page 562

API reference FUNCTION F_VN_Append To Container_Tc Vn Vector2_UINT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector2_UINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector2_UINT [} 165] Single element to append to ip Container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.1.23 F_VN_Append To Container_Tc Vn Vector2_USINT F_VN_Append To Container_Tc Vn Vector2_USINT ↔ a Element Tc Vn Vector2_USINT HRESULT F_VN_Append To Container_Tc Vn Vector2_USINT ip Container ITc Vn Container hr Prev HRESULT Append a single element of type Tc Vn Vector2_USINT to a container. Syntax Definition: FUNCTION F_VN_Append To Container_Tc Vn Vector2_USINT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector2_USINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 562 Version: 2.4.0 TF7000 - TF7810
## Page 563

API reference In/Outputs Name Type Description a Element Tc Vn Vector2_USINT Single element to append to ip Container [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.1.24 F_VN_Append To Container_Tc Vn Vector3_INT F_VN_Append To Container_Tc Vn Vector3_INT ↔ a Element Tc Vn Vector3_INT HRESULT F_VN_Append To Container_Tc Vn Vector3_INT ip Container ITc Vn Container hr Prev HRESULT Append a single element of type Tc Vn Vector3_INT to a container. Syntax Definition: FUNCTION F_VN_Append To Container_Tc Vn Vector3_INT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector3_INT; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector3_INT [} 165] Single element to append to ip Container Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 563
## Page 564

API reference System Requirements 6.1.4.4.1.25 F_VN_Append To Container_Tc Vn Vector3_REAL F_VN_Append To Container_Tc Vn Vector3_REAL ↔ a Element Tc Vn Vector3_REAL HRESULT F_VN_Append To Container_Tc Vn Vector3_REAL ip Container ITc Vn Container hr Prev HRESULT Append a single element of type Tc Vn Vector3_REAL to a container. Syntax Definition: FUNCTION F_VN_Append To Container_Tc Vn Vector3_REAL : HRESULT VAR_IN_OUT a Element : Tc Vn Vector3_REAL; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector3_REAL [} 165] Single element to append to ip Container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.1.26 F_VN_Append To Container_Tc Vn Vector3_SINT F_VN_Append To Container_Tc Vn Vector3_SINT ↔ a Element Tc Vn Vector3_SINT HRESULT F_VN_Append To Container_Tc Vn Vector3_SINT ip Container ITc Vn Container hr Prev HRESULT Append a single element of type Tc Vn Vector3_SINT to a container. Syntax Definition: 564 Version: 2.4.0 TF7000 - TF7810
## Page 565

API reference FUNCTION F_VN_Append To Container_Tc Vn Vector3_SINT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector3_SINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector3_SINT [} 165] Single element to append to ip Container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.1.27 F_VN_Append To Container_Tc Vn Vector3_UINT F_VN_Append To Container_Tc Vn Vector3_UINT ↔ a Element Tc Vn Vector3_UINT HRESULT F_VN_Append To Container_Tc Vn Vector3_UINT ip Container ITc Vn Container hr Prev HRESULT Append a single element of type Tc Vn Vector3_UINT to a container. Syntax Definition: FUNCTION F_VN_Append To Container_Tc Vn Vector3_UINT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector3_UINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 565
## Page 566

API reference In/Outputs Name Type Description a Element Tc Vn Vector3_UINT [} 165] Single element to append to ip Container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.1.28 F_VN_Append To Container_Tc Vn Vector3_USINT F_VN_Append To Container_Tc Vn Vector3_USINT ↔ a Element Tc Vn Vector3_USINT HRESULT F_VN_Append To Container_Tc Vn Vector3_USINT ip Container ITc Vn Container hr Prev HRESULT Append a single element of type Tc Vn Vector3_USINT to a container. Syntax Definition: FUNCTION F_VN_Append To Container_Tc Vn Vector3_USINT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector3_USINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector3_USINT Single element to append to ip Container [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base 566 Version: 2.4.0 TF7000 - TF7810
## Page 567

API reference System Requirements 6.1.4.4.1.29 F_VN_Append To Container_Tc Vn Vector4_DINT F_VN_Append To Container_Tc Vn Vector4_DINT ↔ a Element Tc Vn Vector4_DINT HRESULT F_VN_Append To Container_Tc Vn Vector4_DINT ip Container ITc Vn Container hr Prev HRESULT Append a single element of type Tc Vn Vector4_DINT to a container. Syntax Definition: FUNCTION F_VN_Append To Container_Tc Vn Vector4_DINT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector4_DINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector4_DINT [} 165] Single element to append to ip Container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.1.30 F_VN_Append To Container_Tc Vn Vector4_INT F_VN_Append To Container_Tc Vn Vector4_INT ↔ a Element Tc Vn Vector4_INT HRESULT F_VN_Append To Container_Tc Vn Vector4_INT ip Container ITc Vn Container hr Prev HRESULT Append a single element of type Tc Vn Vector4_INT to a container. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 567
## Page 568

API reference FUNCTION F_VN_Append To Container_Tc Vn Vector4_INT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector4_INT; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector4_INT [} 165] Single element to append to ip Container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.1.31 F_VN_Append To Container_Tc Vn Vector4_LREAL F_VN_Append To Container_Tc Vn Vector4_LREAL ↔ a Element Tc Vn Vector4_LREAL HRESULT F_VN_Append To Container_Tc Vn Vector4_LREAL ip Container ITc Vn Container hr Prev HRESULT Append a single element of type Tc Vn Vector4_LREAL to a container. Syntax Definition: FUNCTION F_VN_Append To Container_Tc Vn Vector4_LREAL : HRESULT VAR_IN_OUT a Element : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 568 Version: 2.4.0 TF7000 - TF7810
## Page 569

API reference In/Outputs Name Type Description a Element Tc Vn Vector4_LREAL Single element to append to ip Container [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.1.32 F_VN_Append To Container_Tc Vn Vector4_REAL F_VN_Append To Container_Tc Vn Vector4_REAL ↔ a Element Tc Vn Vector4_REAL HRESULT F_VN_Append To Container_Tc Vn Vector4_REAL ip Container ITc Vn Container hr Prev HRESULT Append a single element of type Tc Vn Vector4_REAL to a container. Syntax Definition: FUNCTION F_VN_Append To Container_Tc Vn Vector4_REAL : HRESULT VAR_IN_OUT a Element : Tc Vn Vector4_REAL; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector4_REAL [} 165] Single element to append to ip Container Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 569
## Page 570

API reference System Requirements 6.1.4.4.1.33 F_VN_Append To Container_Tc Vn Vector4_SINT F_VN_Append To Container_Tc Vn Vector4_SINT ↔ a Element Tc Vn Vector4_SINT HRESULT F_VN_Append To Container_Tc Vn Vector4_SINT ip Container ITc Vn Container hr Prev HRESULT Append a single element of type Tc Vn Vector4_SINT to a container. Syntax Definition: FUNCTION F_VN_Append To Container_Tc Vn Vector4_SINT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector4_SINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector4_SINT [} 165] Single element to append to ip Container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.1.34 F_VN_Append To Container_Tc Vn Vector4_UINT F_VN_Append To Container_Tc Vn Vector4_UINT ↔ a Element Tc Vn Vector4_UINT HRESULT F_VN_Append To Container_Tc Vn Vector4_UINT ip Container ITc Vn Container hr Prev HRESULT Append a single element of type Tc Vn Vector4_UINT to a container. Syntax Definition: 570 Version: 2.4.0 TF7000 - TF7810
## Page 571

API reference FUNCTION F_VN_Append To Container_Tc Vn Vector4_UINT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector4_UINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector4_UINT [} 165] Single element to append to ip Container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.1.35 F_VN_Append To Container_Tc Vn Vector4_USINT F_VN_Append To Container_Tc Vn Vector4_USINT ↔ a Element Tc Vn Vector4_USINT HRESULT F_VN_Append To Container_Tc Vn Vector4_USINT ip Container ITc Vn Container hr Prev HRESULT Append a single element of type Tc Vn Vector4_USINT to a container. Syntax Definition: FUNCTION F_VN_Append To Container_Tc Vn Vector4_USINT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector4_USINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 571
## Page 572

API reference In/Outputs Name Type Description a Element Tc Vn Vector4_USINT Single element to append to ip Container [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.1.36 F_VN_Append To Container_UDINT F_VN_Append To Container_UDINT n Element UDINT HRESULT F_VN_Append To Container_UDINT ip Container ITc Vn Container hr Prev HRESULT Append a single element of type UDINT to a container. Syntax Definition: FUNCTION F_VN_Append To Container_UDINT : HRESULT VAR_INPUT n Element : UDINT; ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description n Element UDINT Single element to append to ip Container ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base 572 Version: 2.4.0 TF7000 - TF7810
## Page 573

API reference System Requirements 6.1.4.4.1.37 F_VN_Append To Container_UINT F_VN_Append To Container_UINT n Element UINT HRESULT F_VN_Append To Container_UINT ip Container ITc Vn Container hr Prev HRESULT Append a single element of type UINT to a container. Syntax Definition: FUNCTION F_VN_Append To Container_UINT : HRESULT VAR_INPUT n Element : UINT; ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description n Element UINT Single element to append to ip Container ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.1.38 F_VN_Append To Container_ULINT F_VN_Append To Container_ULINT n Element ULINT HRESULT F_VN_Append To Container_ULINT ip Container ITc Vn Container hr Prev HRESULT Append a single element of type ULINT to a container. Syntax Definition: FUNCTION F_VN_Append To Container_ULINT : HRESULT VAR_INPUT n Element : ULINT; ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 573
## Page 574

API reference Inputs Name Type Description n Element ULINT Single element to append to ip Container ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.1.39 F_VN_Append To Container_USINT F_VN_Append To Container_USINT n Element USINT HRESULT F_VN_Append To Container_USINT ip Container ITc Vn Container hr Prev HRESULT Append a single element of type USINT to a container. Syntax Definition: FUNCTION F_VN_Append To Container_USINT : HRESULT VAR_INPUT n Element : USINT; ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description n Element USINT Single element to append to ip Container ip Container ITc Vn Container [} 374] Container to which the element will be appended hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base 574 Version: 2.4.0 TF7000 - TF7810
## Page 575

API reference System Requirements 6.1.4.4.2 F_VN_Fill Container This chapter contains functions to fill a container with a special value according to the data type. This function is available for containers with basic elements. 6.1.4.4.2.1 F_VN_Fill Container_Tc Vn Rotated Rectangle F_VN_Fill Container_Tc Vn Rotated Rectangle ip Container ITc Vn Container HRESULT F_VN_Fill Container_Tc Vn Rotated Rectangle ↔ st Value Tc Vn Rotated Rectangle hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: FUNCTION F_VN_Fill Container_Tc Vn Rotated Rectangle : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT st Value : Tc Vn Rotated Rectangle; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Value Tc Vn Rotated Rectangle Value to set the container elements [} 251] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.2.2 F_VN_Fill Container_DINT F_VN_Fill Container_DINT ip Container ITc Vn Container HRESULT F_VN_Fill Container_DINT n Value DINT hr Prev HRESULT TF7000 - TF7810 Version: 2.4.0 575
## Page 576

API reference Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: FUNCTION F_VN_Fill Container_DINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; n Value : DINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Value DINT Value to set the container elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.2.3 F_VN_Fill Container_INT F_VN_Fill Container_INT ip Container ITc Vn Container HRESULT F_VN_Fill Container_INT n Value INT hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: FUNCTION F_VN_Fill Container_INT : HRESULT VAR_INPUT ip Container : ITc Vn Container; n Value : INT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Value INT Value to set the container elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 576 Version: 2.4.0 TF7000 - TF7810
## Page 577

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.2.4 F_VN_Fill Container_ITc Vn Image F_VN_Fill Container_ITc Vn Image ip Container ITc Vn Container HRESULT F_VN_Fill Container_ITc Vn Image ip Value ITc Vn Image hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: FUNCTION F_VN_Fill Container_ITc Vn Image : HRESULT VAR_INPUT ip Container : ITc Vn Container; ip Value : ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements ip Value ITc Vn Image [} 413] Value to set the container elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.2.5 F_VN_Fill Container_LREAL F_VN_Fill Container_LREAL ip Container ITc Vn Container HRESULT F_VN_Fill Container_LREAL f Value LREAL hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. TF7000 - TF7810 Version: 2.4.0 577
## Page 578

API reference Syntax Definition: FUNCTION F_VN_Fill Container_LREAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; f Value : LREAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements f Value LREAL Value to set the container elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.2.6 F_VN_Fill Container_REAL F_VN_Fill Container_REAL ip Container ITc Vn Container HRESULT F_VN_Fill Container_REAL f Value REAL hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: FUNCTION F_VN_Fill Container_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; f Value : REAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements f Value REAL Value to set the container elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] 578 Version: 2.4.0 TF7000 - TF7810
## Page 579

API reference Required License TC3 Vision Base System Requirements 6.1.4.4.2.7 F_VN_Fill Container_SINT F_VN_Fill Container_SINT ip Container ITc Vn Container HRESULT F_VN_Fill Container_SINT n Value SINT hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: FUNCTION F_VN_Fill Container_SINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; n Value : SINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Value SINT Value to set the container elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.2.8 F_VN_Fill Container_Tc Vn DMatch F_VN_Fill Container_Tc Vn DMatch ip Container ITc Vn Container HRESULT F_VN_Fill Container_Tc Vn DMatch ↔ st Value Tc Vn DMatch hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: FUNCTION F_VN_Fill Container_Tc Vn DMatch : HRESULT VAR_INPUT ip Container : ITc Vn Container; TF7000 - TF7810 Version: 2.4.0 579
## Page 580

API reference END_VAR VAR_IN_OUT st Value : Tc Vn DMatch; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Value Tc Vn DMatch [} 237] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.2.9 F_VN_Fill Container_Tc Vn Key Point F_VN_Fill Container_Tc Vn Key Point ip Container ITc Vn Container HRESULT F_VN_Fill Container_Tc Vn Key Point ↔ st Value Tc Vn Key Point hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: FUNCTION F_VN_Fill Container_Tc Vn Key Point : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT st Value : Tc Vn Key Point; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 580 Version: 2.4.0 TF7000 - TF7810
## Page 581

API reference In/Outputs Name Type Description st Value Tc Vn Key Point [} 237] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.2.10 F_VN_Fill Container_Tc Vn Point2_DINT F_VN_Fill Container_Tc Vn Point2_DINT ip Container ITc Vn Container HRESULT F_VN_Fill Container_Tc Vn Point2_DINT ↔ a Value Tc Vn Point2_DINT hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: FUNCTION F_VN_Fill Container_Tc Vn Point2_DINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Point2_DINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Point2_DINT [} 163] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 581
## Page 582

API reference System Requirements 6.1.4.4.2.11 F_VN_Fill Container_Tc Vn Point2_LREAL F_VN_Fill Container_Tc Vn Point2_LREAL ip Container ITc Vn Container HRESULT F_VN_Fill Container_Tc Vn Point2_LREAL ↔ a Value Tc Vn Point2_LREAL hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: FUNCTION F_VN_Fill Container_Tc Vn Point2_LREAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Point2_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Point2_LREAL [} 163] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.2.12 F_VN_Fill Container_Tc Vn Point2_REAL F_VN_Fill Container_Tc Vn Point2_REAL ip Container ITc Vn Container HRESULT F_VN_Fill Container_Tc Vn Point2_REAL ↔ a Value Tc Vn Point2_REAL hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: 582 Version: 2.4.0 TF7000 - TF7810
## Page 583

API reference FUNCTION F_VN_Fill Container_Tc Vn Point2_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Point2_REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Point2_REAL [} 163] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.2.13 F_VN_Fill Container_Tc Vn Point3_LREAL F_VN_Fill Container_Tc Vn Point3_LREAL ip Container ITc Vn Container HRESULT F_VN_Fill Container_Tc Vn Point3_LREAL ↔ a Value Tc Vn Point3_LREAL hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: FUNCTION F_VN_Fill Container_Tc Vn Point3_LREAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Point3_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 583
## Page 584

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Point3_LREAL [} 163] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.2.14 F_VN_Fill Container_Tc Vn Point3_REAL F_VN_Fill Container_Tc Vn Point3_REAL ip Container ITc Vn Container HRESULT F_VN_Fill Container_Tc Vn Point3_REAL ↔ a Value Tc Vn Point3_REAL hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: FUNCTION F_VN_Fill Container_Tc Vn Point3_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Point3_REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Point3_REAL [} 163] Value to set the container elements 584 Version: 2.4.0 TF7000 - TF7810
## Page 585

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.2.15 F_VN_Fill Container_Tc Vn Rectangle_DINT F_VN_Fill Container_Tc Vn Rectangle_DINT ip Container ITc Vn Container HRESULT F_VN_Fill Container_Tc Vn Rectangle_DINT ↔ st Value Tc Vn Rectangle_DINT hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: FUNCTION F_VN_Fill Container_Tc Vn Rectangle_DINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT st Value : Tc Vn Rectangle_DINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Value Tc Vn Rectangle_DINT Value to set the container elements [} 250] Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 585
## Page 586

API reference System Requirements 6.1.4.4.2.16 F_VN_Fill Container_Tc Vn Vector2_DINT F_VN_Fill Container_Tc Vn Vector2_DINT ip Container ITc Vn Container HRESULT F_VN_Fill Container_Tc Vn Vector2_DINT ↔ a Value Tc Vn Vector2_DINT hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: FUNCTION F_VN_Fill Container_Tc Vn Vector2_DINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector2_DINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector2_DINT [} 165] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.2.17 F_VN_Fill Container_Tc Vn Vector2_INT F_VN_Fill Container_Tc Vn Vector2_INT ip Container ITc Vn Container HRESULT F_VN_Fill Container_Tc Vn Vector2_INT ↔ a Value Tc Vn Vector2_INT hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: 586 Version: 2.4.0 TF7000 - TF7810
## Page 587

API reference FUNCTION F_VN_Fill Container_Tc Vn Vector2_INT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector2_INT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector2_INT [} 165] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.2.18 F_VN_Fill Container_Tc Vn Vector2_REAL F_VN_Fill Container_Tc Vn Vector2_REAL ip Container ITc Vn Container HRESULT F_VN_Fill Container_Tc Vn Vector2_REAL ↔ a Value Tc Vn Vector2_REAL hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: FUNCTION F_VN_Fill Container_Tc Vn Vector2_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector2_REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 587
## Page 588

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector2_REAL [} 165] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.2.19 F_VN_Fill Container_Tc Vn Vector2_SINT F_VN_Fill Container_Tc Vn Vector2_SINT ip Container ITc Vn Container HRESULT F_VN_Fill Container_Tc Vn Vector2_SINT ↔ a Value Tc Vn Vector2_SINT hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: FUNCTION F_VN_Fill Container_Tc Vn Vector2_SINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector2_SINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector2_SINT [} 165] Value to set the container elements 588 Version: 2.4.0 TF7000 - TF7810
## Page 589

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.2.20 F_VN_Fill Container_Tc Vn Vector2_UINT F_VN_Fill Container_Tc Vn Vector2_UINT ip Container ITc Vn Container HRESULT F_VN_Fill Container_Tc Vn Vector2_UINT ↔ a Value Tc Vn Vector2_UINT hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: FUNCTION F_VN_Fill Container_Tc Vn Vector2_UINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector2_UINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector2_UINT [} 165] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 589
## Page 590

API reference System Requirements 6.1.4.4.2.21 F_VN_Fill Container_Tc Vn Vector2_USINT F_VN_Fill Container_Tc Vn Vector2_USINT ip Container ITc Vn Container HRESULT F_VN_Fill Container_Tc Vn Vector2_USINT ↔ a Value Tc Vn Vector2_USINT hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: FUNCTION F_VN_Fill Container_Tc Vn Vector2_USINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector2_USINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector2_USINT Value to set the container elements [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.2.22 F_VN_Fill Container_Tc Vn Vector3_INT F_VN_Fill Container_Tc Vn Vector3_INT ip Container ITc Vn Container HRESULT F_VN_Fill Container_Tc Vn Vector3_INT ↔ a Value Tc Vn Vector3_INT hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. 590 Version: 2.4.0 TF7000 - TF7810
## Page 591

API reference Syntax Definition: FUNCTION F_VN_Fill Container_Tc Vn Vector3_INT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector3_INT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector3_INT [} 165] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.2.23 F_VN_Fill Container_Tc Vn Vector3_REAL F_VN_Fill Container_Tc Vn Vector3_REAL ip Container ITc Vn Container HRESULT F_VN_Fill Container_Tc Vn Vector3_REAL ↔ a Value Tc Vn Vector3_REAL hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: FUNCTION F_VN_Fill Container_Tc Vn Vector3_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector3_REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 591
## Page 592

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector3_REAL [} 165] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.2.24 F_VN_Fill Container_Tc Vn Vector3_SINT F_VN_Fill Container_Tc Vn Vector3_SINT ip Container ITc Vn Container HRESULT F_VN_Fill Container_Tc Vn Vector3_SINT ↔ a Value Tc Vn Vector3_SINT hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: FUNCTION F_VN_Fill Container_Tc Vn Vector3_SINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector3_SINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector3_SINT [} 165] Value to set the container elements 592 Version: 2.4.0 TF7000 - TF7810
## Page 593

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.2.25 F_VN_Fill Container_Tc Vn Vector3_UINT F_VN_Fill Container_Tc Vn Vector3_UINT ip Container ITc Vn Container HRESULT F_VN_Fill Container_Tc Vn Vector3_UINT ↔ a Value Tc Vn Vector3_UINT hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: FUNCTION F_VN_Fill Container_Tc Vn Vector3_UINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector3_UINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector3_UINT [} 165] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 593
## Page 594

API reference System Requirements 6.1.4.4.2.26 F_VN_Fill Container_Tc Vn Vector3_USINT F_VN_Fill Container_Tc Vn Vector3_USINT ip Container ITc Vn Container HRESULT F_VN_Fill Container_Tc Vn Vector3_USINT ↔ a Value Tc Vn Vector3_USINT hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: FUNCTION F_VN_Fill Container_Tc Vn Vector3_USINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector3_USINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector3_USINT Value to set the container elements [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.2.27 F_VN_Fill Container_Tc Vn Vector4_DINT F_VN_Fill Container_Tc Vn Vector4_DINT ip Container ITc Vn Container HRESULT F_VN_Fill Container_Tc Vn Vector4_DINT ↔ a Value Tc Vn Vector4_DINT hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. 594 Version: 2.4.0 TF7000 - TF7810
## Page 595

API reference Syntax Definition: FUNCTION F_VN_Fill Container_Tc Vn Vector4_DINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector4_DINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector4_DINT [} 165] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.2.28 F_VN_Fill Container_Tc Vn Vector4_INT F_VN_Fill Container_Tc Vn Vector4_INT ip Container ITc Vn Container HRESULT F_VN_Fill Container_Tc Vn Vector4_INT ↔ a Value Tc Vn Vector4_INT hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: FUNCTION F_VN_Fill Container_Tc Vn Vector4_INT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector4_INT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 595
## Page 596

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector4_INT [} 165] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.2.29 F_VN_Fill Container_Tc Vn Vector4_LREAL F_VN_Fill Container_Tc Vn Vector4_LREAL ip Container ITc Vn Container HRESULT F_VN_Fill Container_Tc Vn Vector4_LREAL ↔ a Value Tc Vn Vector4_LREAL hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: FUNCTION F_VN_Fill Container_Tc Vn Vector4_LREAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector4_LREAL Value to set the container elements [} 165] 596 Version: 2.4.0 TF7000 - TF7810
## Page 597

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.2.30 F_VN_Fill Container_Tc Vn Vector4_REAL F_VN_Fill Container_Tc Vn Vector4_REAL ip Container ITc Vn Container HRESULT F_VN_Fill Container_Tc Vn Vector4_REAL ↔ a Value Tc Vn Vector4_REAL hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: FUNCTION F_VN_Fill Container_Tc Vn Vector4_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector4_REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector4_REAL [} 165] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 597
## Page 598

API reference System Requirements 6.1.4.4.2.31 F_VN_Fill Container_Tc Vn Vector4_SINT F_VN_Fill Container_Tc Vn Vector4_SINT ip Container ITc Vn Container HRESULT F_VN_Fill Container_Tc Vn Vector4_SINT ↔ a Value Tc Vn Vector4_SINT hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: FUNCTION F_VN_Fill Container_Tc Vn Vector4_SINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector4_SINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector4_SINT [} 165] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.2.32 F_VN_Fill Container_Tc Vn Vector4_UINT F_VN_Fill Container_Tc Vn Vector4_UINT ip Container ITc Vn Container HRESULT F_VN_Fill Container_Tc Vn Vector4_UINT ↔ a Value Tc Vn Vector4_UINT hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: 598 Version: 2.4.0 TF7000 - TF7810
## Page 599

API reference FUNCTION F_VN_Fill Container_Tc Vn Vector4_UINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector4_UINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector4_UINT [} 165] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.2.33 F_VN_Fill Container_Tc Vn Vector4_USINT F_VN_Fill Container_Tc Vn Vector4_USINT ip Container ITc Vn Container HRESULT F_VN_Fill Container_Tc Vn Vector4_USINT ↔ a Value Tc Vn Vector4_USINT hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: FUNCTION F_VN_Fill Container_Tc Vn Vector4_USINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector4_USINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 599
## Page 600

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector4_USINT Value to set the container elements [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.2.34 F_VN_Fill Container_UDINT F_VN_Fill Container_UDINT ip Container ITc Vn Container HRESULT F_VN_Fill Container_UDINT n Value UDINT hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: FUNCTION F_VN_Fill Container_UDINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; n Value : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Value UDINT Value to set the container elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] 600 Version: 2.4.0 TF7000 - TF7810
## Page 601

API reference Required License TC3 Vision Base System Requirements 6.1.4.4.2.35 F_VN_Fill Container_UINT F_VN_Fill Container_UINT ip Container ITc Vn Container HRESULT F_VN_Fill Container_UINT n Value UINT hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: FUNCTION F_VN_Fill Container_UINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; n Value : UINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Value UINT Value to set the container elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.2.36 F_VN_Fill Container_ULINT F_VN_Fill Container_ULINT ip Container ITc Vn Container HRESULT F_VN_Fill Container_ULINT n Value ULINT hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: FUNCTION F_VN_Fill Container_ULINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; TF7000 - TF7810 Version: 2.4.0 601
## Page 602

API reference n Value : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Value ULINT Value to set the container elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.2.37 F_VN_Fill Container_USINT F_VN_Fill Container_USINT ip Container ITc Vn Container HRESULT F_VN_Fill Container_USINT n Value USINT hr Prev HRESULT Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: FUNCTION F_VN_Fill Container_USINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; n Value : USINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Value USINT Value to set the container elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base 602 Version: 2.4.0 TF7000 - TF7810
## Page 603

API reference System Requirements 6.1.4.4.3 F_VN_Fill Container Exp This chapter contains expert functions that can be used to fill a container with a specific value, even only partially, according to the data type. This function is available for containers with basic elements. 6.1.4.4.3.1 F_VN_Fill Container Exp_Tc Vn Rotated Rectangle F_VN_Fill Container Exp_Tc Vn Rotated Rectangle ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_Tc Vn Rotated Rectangle ↔ st Value Tc Vn Rotated Rectangle n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) Syntax Definition: FUNCTION F_VN_Fill Container Exp_Tc Vn Rotated Rectangle : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT st Value : Tc Vn Rotated Rectangle; END_VAR VAR_INPUT n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Value Tc Vn Rotated Rectangle Value to set the container elements [} 251] Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 603
## Page 604

API reference System Requirements 6.1.4.4.3.2 F_VN_Fill Container Exp_DINT F_VN_Fill Container Exp_DINT ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_DINT n Value DINT n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) Syntax Definition: FUNCTION F_VN_Fill Container Exp_DINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; n Value : DINT; n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Value DINT Value to set the container elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.3.3 F_VN_Fill Container Exp_INT F_VN_Fill Container Exp_INT ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_INT n Value INT n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) 604 Version: 2.4.0 TF7000 - TF7810
## Page 605

API reference Syntax Definition: FUNCTION F_VN_Fill Container Exp_INT : HRESULT VAR_INPUT ip Container : ITc Vn Container; n Value : INT; n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Value INT Value to set the container elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.3.4 F_VN_Fill Container Exp_ITc Vn Image F_VN_Fill Container Exp_ITc Vn Image ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_ITc Vn Image ip Value ITc Vn Image n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) Syntax Definition: FUNCTION F_VN_Fill Container Exp_ITc Vn Image : HRESULT VAR_INPUT ip Container : ITc Vn Container; ip Value : ITc Vn Image; n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 605
## Page 606

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements ip Value ITc Vn Image [} 413] Value to set the container elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.3.5 F_VN_Fill Container Exp_LREAL F_VN_Fill Container Exp_LREAL ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_LREAL f Value LREAL n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) Syntax Definition: FUNCTION F_VN_Fill Container Exp_LREAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; f Value : LREAL; n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements f Value LREAL Value to set the container elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 606 Version: 2.4.0 TF7000 - TF7810
## Page 607

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.3.6 F_VN_Fill Container Exp_REAL F_VN_Fill Container Exp_REAL ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_REAL f Value REAL n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) Syntax Definition: FUNCTION F_VN_Fill Container Exp_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; f Value : REAL; n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements f Value REAL Value to set the container elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 607
## Page 608

API reference System Requirements 6.1.4.4.3.7 F_VN_Fill Container Exp_SINT F_VN_Fill Container Exp_SINT ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_SINT n Value SINT n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) Syntax Definition: FUNCTION F_VN_Fill Container Exp_SINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; n Value : SINT; n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Value SINT Value to set the container elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.3.8 F_VN_Fill Container Exp_Tc Vn DMatch F_VN_Fill Container Exp_Tc Vn DMatch ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_Tc Vn DMatch ↔ st Value Tc Vn DMatch n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) 608 Version: 2.4.0 TF7000 - TF7810
## Page 609

API reference Syntax Definition: FUNCTION F_VN_Fill Container Exp_Tc Vn DMatch : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT st Value : Tc Vn DMatch; END_VAR VAR_INPUT n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Value Tc Vn DMatch [} 237] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.3.9 F_VN_Fill Container Exp_Tc Vn Key Point F_VN_Fill Container Exp_Tc Vn Key Point ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_Tc Vn Key Point ↔ st Value Tc Vn Key Point n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) Syntax Definition: FUNCTION F_VN_Fill Container Exp_Tc Vn Key Point : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT st Value : Tc Vn Key Point; TF7000 - TF7810 Version: 2.4.0 609
## Page 610

API reference END_VAR VAR_INPUT n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Value Tc Vn Key Point [} 237] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.3.10 F_VN_Fill Container Exp_Tc Vn Point2_DINT F_VN_Fill Container Exp_Tc Vn Point2_DINT ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_Tc Vn Point2_DINT ↔ a Value Tc Vn Point2_DINT n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) Syntax Definition: FUNCTION F_VN_Fill Container Exp_Tc Vn Point2_DINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Point2_DINT; END_VAR VAR_INPUT n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR 610 Version: 2.4.0 TF7000 - TF7810
## Page 611

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Point2_DINT [} 163] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.3.11 F_VN_Fill Container Exp_Tc Vn Point2_LREAL F_VN_Fill Container Exp_Tc Vn Point2_LREAL ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_Tc Vn Point2_LREAL ↔ a Value Tc Vn Point2_LREAL n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) Syntax Definition: FUNCTION F_VN_Fill Container Exp_Tc Vn Point2_LREAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Point2_LREAL; END_VAR VAR_INPUT n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 611
## Page 612

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Point2_LREAL [} 163] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.3.12 F_VN_Fill Container Exp_Tc Vn Point2_REAL F_VN_Fill Container Exp_Tc Vn Point2_REAL ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_Tc Vn Point2_REAL ↔ a Value Tc Vn Point2_REAL n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) Syntax Definition: FUNCTION F_VN_Fill Container Exp_Tc Vn Point2_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Point2_REAL; END_VAR VAR_INPUT n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR 612 Version: 2.4.0 TF7000 - TF7810
## Page 613

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Point2_REAL [} 163] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.3.13 F_VN_Fill Container Exp_Tc Vn Point3_LREAL F_VN_Fill Container Exp_Tc Vn Point3_LREAL ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_Tc Vn Point3_LREAL ↔ a Value Tc Vn Point3_LREAL n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) Syntax Definition: FUNCTION F_VN_Fill Container Exp_Tc Vn Point3_LREAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Point3_LREAL; END_VAR VAR_INPUT n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 613
## Page 614

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Point3_LREAL [} 163] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.3.14 F_VN_Fill Container Exp_Tc Vn Point3_REAL F_VN_Fill Container Exp_Tc Vn Point3_REAL ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_Tc Vn Point3_REAL ↔ a Value Tc Vn Point3_REAL n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) Syntax Definition: FUNCTION F_VN_Fill Container Exp_Tc Vn Point3_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Point3_REAL; END_VAR VAR_INPUT n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR 614 Version: 2.4.0 TF7000 - TF7810
## Page 615

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Point3_REAL [} 163] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.3.15 F_VN_Fill Container Exp_Tc Vn Rectangle_DINT F_VN_Fill Container Exp_Tc Vn Rectangle_DINT ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_Tc Vn Rectangle_DINT ↔ st Value Tc Vn Rectangle_DINT n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) Syntax Definition: FUNCTION F_VN_Fill Container Exp_Tc Vn Rectangle_DINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT st Value : Tc Vn Rectangle_DINT; END_VAR VAR_INPUT n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 615
## Page 616

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Value Tc Vn Rectangle_DINT Value to set the container elements [} 250] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.3.16 F_VN_Fill Container Exp_Tc Vn Vector2_DINT F_VN_Fill Container Exp_Tc Vn Vector2_DINT ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_Tc Vn Vector2_DINT ↔ a Value Tc Vn Vector2_DINT n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) Syntax Definition: FUNCTION F_VN_Fill Container Exp_Tc Vn Vector2_DINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector2_DINT; END_VAR VAR_INPUT n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR 616 Version: 2.4.0 TF7000 - TF7810
## Page 617

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector2_DINT [} 165] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.3.17 F_VN_Fill Container Exp_Tc Vn Vector2_INT F_VN_Fill Container Exp_Tc Vn Vector2_INT ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_Tc Vn Vector2_INT ↔ a Value Tc Vn Vector2_INT n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) Syntax Definition: FUNCTION F_VN_Fill Container Exp_Tc Vn Vector2_INT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector2_INT; END_VAR VAR_INPUT n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 617
## Page 618

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector2_INT [} 165] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.3.18 F_VN_Fill Container Exp_Tc Vn Vector2_REAL F_VN_Fill Container Exp_Tc Vn Vector2_REAL ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_Tc Vn Vector2_REAL ↔ a Value Tc Vn Vector2_REAL n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) Syntax Definition: FUNCTION F_VN_Fill Container Exp_Tc Vn Vector2_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector2_REAL; END_VAR VAR_INPUT n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR 618 Version: 2.4.0 TF7000 - TF7810
## Page 619

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector2_REAL [} 165] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.3.19 F_VN_Fill Container Exp_Tc Vn Vector2_SINT F_VN_Fill Container Exp_Tc Vn Vector2_SINT ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_Tc Vn Vector2_SINT ↔ a Value Tc Vn Vector2_SINT n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) Syntax Definition: FUNCTION F_VN_Fill Container Exp_Tc Vn Vector2_SINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector2_SINT; END_VAR VAR_INPUT n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 619
## Page 620

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector2_SINT [} 165] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.3.20 F_VN_Fill Container Exp_Tc Vn Vector2_UINT F_VN_Fill Container Exp_Tc Vn Vector2_UINT ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_Tc Vn Vector2_UINT ↔ a Value Tc Vn Vector2_UINT n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) Syntax Definition: FUNCTION F_VN_Fill Container Exp_Tc Vn Vector2_UINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector2_UINT; END_VAR VAR_INPUT n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR 620 Version: 2.4.0 TF7000 - TF7810
## Page 621

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector2_UINT [} 165] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.3.21 F_VN_Fill Container Exp_Tc Vn Vector2_USINT F_VN_Fill Container Exp_Tc Vn Vector2_USINT ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_Tc Vn Vector2_USINT ↔ a Value Tc Vn Vector2_USINT n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) Syntax Definition: FUNCTION F_VN_Fill Container Exp_Tc Vn Vector2_USINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector2_USINT; END_VAR VAR_INPUT n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 621
## Page 622

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector2_USINT Value to set the container elements [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.3.22 F_VN_Fill Container Exp_Tc Vn Vector3_INT F_VN_Fill Container Exp_Tc Vn Vector3_INT ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_Tc Vn Vector3_INT ↔ a Value Tc Vn Vector3_INT n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) Syntax Definition: FUNCTION F_VN_Fill Container Exp_Tc Vn Vector3_INT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector3_INT; END_VAR VAR_INPUT n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR 622 Version: 2.4.0 TF7000 - TF7810
## Page 623

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector3_INT [} 165] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.3.23 F_VN_Fill Container Exp_Tc Vn Vector3_REAL F_VN_Fill Container Exp_Tc Vn Vector3_REAL ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_Tc Vn Vector3_REAL ↔ a Value Tc Vn Vector3_REAL n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) Syntax Definition: FUNCTION F_VN_Fill Container Exp_Tc Vn Vector3_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector3_REAL; END_VAR VAR_INPUT n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 623
## Page 624

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector3_REAL [} 165] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.3.24 F_VN_Fill Container Exp_Tc Vn Vector3_SINT F_VN_Fill Container Exp_Tc Vn Vector3_SINT ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_Tc Vn Vector3_SINT ↔ a Value Tc Vn Vector3_SINT n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) Syntax Definition: FUNCTION F_VN_Fill Container Exp_Tc Vn Vector3_SINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector3_SINT; END_VAR VAR_INPUT n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR 624 Version: 2.4.0 TF7000 - TF7810
## Page 625

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector3_SINT [} 165] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.3.25 F_VN_Fill Container Exp_Tc Vn Vector3_UINT F_VN_Fill Container Exp_Tc Vn Vector3_UINT ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_Tc Vn Vector3_UINT ↔ a Value Tc Vn Vector3_UINT n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) Syntax Definition: FUNCTION F_VN_Fill Container Exp_Tc Vn Vector3_UINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector3_UINT; END_VAR VAR_INPUT n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 625
## Page 626

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector3_UINT [} 165] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.3.26 F_VN_Fill Container Exp_Tc Vn Vector3_USINT F_VN_Fill Container Exp_Tc Vn Vector3_USINT ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_Tc Vn Vector3_USINT ↔ a Value Tc Vn Vector3_USINT n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) Syntax Definition: FUNCTION F_VN_Fill Container Exp_Tc Vn Vector3_USINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector3_USINT; END_VAR VAR_INPUT n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR 626 Version: 2.4.0 TF7000 - TF7810
## Page 627

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector3_USINT Value to set the container elements [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.3.27 F_VN_Fill Container Exp_Tc Vn Vector4_DINT F_VN_Fill Container Exp_Tc Vn Vector4_DINT ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_Tc Vn Vector4_DINT ↔ a Value Tc Vn Vector4_DINT n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) Syntax Definition: FUNCTION F_VN_Fill Container Exp_Tc Vn Vector4_DINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector4_DINT; END_VAR VAR_INPUT n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 627
## Page 628

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector4_DINT [} 165] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.3.28 F_VN_Fill Container Exp_Tc Vn Vector4_INT F_VN_Fill Container Exp_Tc Vn Vector4_INT ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_Tc Vn Vector4_INT ↔ a Value Tc Vn Vector4_INT n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) Syntax Definition: FUNCTION F_VN_Fill Container Exp_Tc Vn Vector4_INT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector4_INT; END_VAR VAR_INPUT n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR 628 Version: 2.4.0 TF7000 - TF7810
## Page 629

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector4_INT [} 165] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.3.29 F_VN_Fill Container Exp_Tc Vn Vector4_LREAL F_VN_Fill Container Exp_Tc Vn Vector4_LREAL ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_Tc Vn Vector4_LREAL ↔ a Value Tc Vn Vector4_LREAL n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) Syntax Definition: FUNCTION F_VN_Fill Container Exp_Tc Vn Vector4_LREAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 629
## Page 630

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector4_LREAL Value to set the container elements [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.3.30 F_VN_Fill Container Exp_Tc Vn Vector4_REAL F_VN_Fill Container Exp_Tc Vn Vector4_REAL ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_Tc Vn Vector4_REAL ↔ a Value Tc Vn Vector4_REAL n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) Syntax Definition: FUNCTION F_VN_Fill Container Exp_Tc Vn Vector4_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector4_REAL; END_VAR VAR_INPUT n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR 630 Version: 2.4.0 TF7000 - TF7810
## Page 631

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector4_REAL [} 165] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.3.31 F_VN_Fill Container Exp_Tc Vn Vector4_SINT F_VN_Fill Container Exp_Tc Vn Vector4_SINT ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_Tc Vn Vector4_SINT ↔ a Value Tc Vn Vector4_SINT n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) Syntax Definition: FUNCTION F_VN_Fill Container Exp_Tc Vn Vector4_SINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector4_SINT; END_VAR VAR_INPUT n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 631
## Page 632

API reference In/Outputs Name Type Description a Value Tc Vn Vector4_SINT [} 165] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.3.32 F_VN_Fill Container Exp_Tc Vn Vector4_UINT F_VN_Fill Container Exp_Tc Vn Vector4_UINT ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_Tc Vn Vector4_UINT ↔ a Value Tc Vn Vector4_UINT n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) Syntax Definition: FUNCTION F_VN_Fill Container Exp_Tc Vn Vector4_UINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector4_UINT; END_VAR VAR_INPUT n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector4_UINT [} 165] Value to set the container elements 632 Version: 2.4.0 TF7000 - TF7810
## Page 633

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.3.33 F_VN_Fill Container Exp_Tc Vn Vector4_USINT F_VN_Fill Container Exp_Tc Vn Vector4_USINT ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_Tc Vn Vector4_USINT ↔ a Value Tc Vn Vector4_USINT n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) Syntax Definition: FUNCTION F_VN_Fill Container Exp_Tc Vn Vector4_USINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Value : Tc Vn Vector4_USINT; END_VAR VAR_INPUT n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector4_USINT Value to set the container elements [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 633
## Page 634

API reference System Requirements 6.1.4.4.3.34 F_VN_Fill Container Exp_UDINT F_VN_Fill Container Exp_UDINT ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_UDINT n Value UDINT n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) Syntax Definition: FUNCTION F_VN_Fill Container Exp_UDINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; n Value : UDINT; n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Value UDINT Value to set the container elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.3.35 F_VN_Fill Container Exp_UINT F_VN_Fill Container Exp_UINT ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_UINT n Value UINT n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) 634 Version: 2.4.0 TF7000 - TF7810
## Page 635

API reference Syntax Definition: FUNCTION F_VN_Fill Container Exp_UINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; n Value : UINT; n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Value UINT Value to set the container elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.3.36 F_VN_Fill Container Exp_ULINT F_VN_Fill Container Exp_ULINT ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_ULINT n Value ULINT n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) Syntax Definition: FUNCTION F_VN_Fill Container Exp_ULINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; n Value : ULINT; n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 635
## Page 636

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Value ULINT Value to set the container elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.3.37 F_VN_Fill Container Exp_USINT F_VN_Fill Container Exp_USINT ip Container ITc Vn Container HRESULT F_VN_Fill Container Exp_USINT n Value USINT n Start Idx ULINT n Count ULINT hr Prev HRESULT Partially fill the container with the specified value. Only possible for containers with basic elements. (expert function) Syntax Definition: FUNCTION F_VN_Fill Container Exp_USINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; n Value : USINT; n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Value USINT Value to set the container elements n Start Idx ULINT Start index n Count ULINT Number of elements to set hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 636 Version: 2.4.0 TF7000 - TF7810
## Page 637

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.4 F_VN_Get At The F_VN_Get At functions should be used if individual elements in a container have to be accessed. If all elements in a container are to be processed in succession, it is much better to use an iterator [} 750]. 6.1.4.4.4.1 F_VN_Get At_Tc Vn Rotated Rectangle F_VN_Get At_Tc Vn Rotated Rectangle ip Container ITc Vn Container HRESULT F_VN_Get At_Tc Vn Rotated Rectangle ↔ st Element Tc Vn Rotated Rectangle n Index ULINT hr Prev HRESULT Gets the Tc Vn Rotated Rectangle element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_Tc Vn Rotated Rectangle : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT st Element : Tc Vn Rotated Rectangle; END_VAR VAR_INPUT n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Rotated Rectangle elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Element Tc Vn Rotated Rectangle Returns the element at the specified index [} 251] Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 637
## Page 638

API reference Required License TC3 Vision Base System Requirements 6.1.4.4.4.2 F_VN_Get At_DINT F_VN_Get At_DINT ip Container ITc Vn Container HRESULT F_VN_Get At_DINT ↔ n Element DINT n Index ULINT hr Prev HRESULT Gets the DINT element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_DINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT n Element : DINT; END_VAR VAR_INPUT n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with DINT elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Element DINT Returns the element at the specified index Return value HRESULT [} 144] Required License TC3 Vision Base 638 Version: 2.4.0 TF7000 - TF7810
## Page 639

API reference System Requirements 6.1.4.4.4.3 F_VN_Get At_INT F_VN_Get At_INT ip Container ITc Vn Container HRESULT F_VN_Get At_INT ↔ n Element INT n Index ULINT hr Prev HRESULT Gets the INT element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_INT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT n Element : INT; END_VAR VAR_INPUT n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with INT elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Element INT Returns the element at the specified index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.4.4 F_VN_Get At_ITc Vn Container F_VN_Get At_ITc Vn Container ip Src Container ITc Vn Container HRESULT F_VN_Get At_ITc Vn Container ip Dest Container Reference To ITc Vn Container n Index ULINT hr Prev HRESULT TF7000 - TF7810 Version: 2.4.0 639
## Page 640

API reference Gets the ITc Vn Container element at the specified index of the source container. (Alternatively use interface method . Get At.) Syntax Definition: FUNCTION F_VN_Get At_ITc Vn Container : HRESULT VAR_INPUT ip Src Container : ITc Vn Container; ip Dest Container : Reference To ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Container ITc Vn Container [} 374] Container with ITc Vn Container elements ip Dest Containe Reference To Returns the container at the specified index r ITc Vn Container [} 374] n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.4.5 F_VN_Get At_ITc Vn Image F_VN_Get At_ITc Vn Image ip Container ITc Vn Container HRESULT F_VN_Get At_ITc Vn Image ip Element Reference To ITc Vn Image n Index ULINT hr Prev HRESULT Gets the ITc Vn Image element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_ITc Vn Image : HRESULT VAR_INPUT ip Container : ITc Vn Container; ip Element : Reference To ITc Vn Image; n Index : ULINT; hr Prev : HRESULT; END_VAR 640 Version: 2.4.0 TF7000 - TF7810
## Page 641

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with ITc Vn Image elements ip Element Reference To Returns the element at the specified index ITc Vn Image [} 413] n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.4.6 F_VN_Get At_LREAL F_VN_Get At_LREAL ip Container ITc Vn Container HRESULT F_VN_Get At_LREAL ↔ f Element LREAL n Index ULINT hr Prev HRESULT Gets the LREAL element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_LREAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT f Element : LREAL; END_VAR VAR_INPUT n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with LREAL elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description f Element LREAL Returns the element at the specified index TF7000 - TF7810 Version: 2.4.0 641
## Page 642

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.4.7 F_VN_Get At_REAL F_VN_Get At_REAL ip Container ITc Vn Container HRESULT F_VN_Get At_REAL ↔ f Element REAL n Index ULINT hr Prev HRESULT Gets the REAL element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT f Element : REAL; END_VAR VAR_INPUT n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with REAL elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description f Element REAL Returns the element at the specified index Return value HRESULT [} 144] Required License TC3 Vision Base 642 Version: 2.4.0 TF7000 - TF7810
## Page 643

API reference System Requirements 6.1.4.4.4.8 F_VN_Get At_SINT F_VN_Get At_SINT ip Container ITc Vn Container HRESULT F_VN_Get At_SINT ↔ n Element SINT n Index ULINT hr Prev HRESULT Gets the SINT element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_SINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT n Element : SINT; END_VAR VAR_INPUT n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with SINT elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Element SINT Returns the element at the specified index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.4.9 F_VN_Get At_Tc Vn DMatch F_VN_Get At_Tc Vn DMatch ip Container ITc Vn Container HRESULT F_VN_Get At_Tc Vn DMatch ↔ st Element Tc Vn DMatch n Index ULINT hr Prev HRESULT TF7000 - TF7810 Version: 2.4.0 643
## Page 644

API reference Gets the Tc Vn DMatch element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_Tc Vn DMatch : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT st Element : Tc Vn DMatch; END_VAR VAR_INPUT n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn DMatch elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Element Tc Vn DMatch [} 237] Returns the element at the specified index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.4.10 F_VN_Get At_Tc Vn Key Point F_VN_Get At_Tc Vn Key Point ip Container ITc Vn Container HRESULT F_VN_Get At_Tc Vn Key Point ↔ st Element Tc Vn Key Point n Index ULINT hr Prev HRESULT Gets the Tc Vn Key Point element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_Tc Vn Key Point : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT st Element : Tc Vn Key Point; END_VAR 644 Version: 2.4.0 TF7000 - TF7810
## Page 645

API reference VAR_INPUT n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Key Point elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Element Tc Vn Key Point [} 237] Returns the element at the specified index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.4.11 F_VN_Get At_Tc Vn Point2_DINT F_VN_Get At_Tc Vn Point2_DINT ip Container ITc Vn Container HRESULT F_VN_Get At_Tc Vn Point2_DINT ↔ a Element Tc Vn Point2_DINT n Index ULINT hr Prev HRESULT Gets the Tc Vn Point2_DINT element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_Tc Vn Point2_DINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Element : Tc Vn Point2_DINT; END_VAR VAR_INPUT n Index : ULINT; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 645
## Page 646

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Point2_DINT elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Point2_DINT [} 163] Returns the element at the specified index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.4.12 F_VN_Get At_Tc Vn Point2_LREAL F_VN_Get At_Tc Vn Point2_LREAL ip Container ITc Vn Container HRESULT F_VN_Get At_Tc Vn Point2_LREAL ↔ a Element Tc Vn Point2_LREAL n Index ULINT hr Prev HRESULT Gets the Tc Vn Point2_LREAL element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_Tc Vn Point2_LREAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Element : Tc Vn Point2_LREAL; END_VAR VAR_INPUT n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Point2_LREAL elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 646 Version: 2.4.0 TF7000 - TF7810
## Page 647

API reference In/Outputs Name Type Description a Element Tc Vn Point2_LREAL [} 163] Returns the element at the specified index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.4.13 F_VN_Get At_Tc Vn Point2_REAL F_VN_Get At_Tc Vn Point2_REAL ip Container ITc Vn Container HRESULT F_VN_Get At_Tc Vn Point2_REAL ↔ a Element Tc Vn Point2_REAL n Index ULINT hr Prev HRESULT Gets the Tc Vn Point2_REAL element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_Tc Vn Point2_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Element : Tc Vn Point2_REAL; END_VAR VAR_INPUT n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Point2_REAL elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Point2_REAL [} 163] Returns the element at the specified index Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 647
## Page 648

API reference Required License TC3 Vision Base System Requirements 6.1.4.4.4.14 F_VN_Get At_Tc Vn Point3_LREAL F_VN_Get At_Tc Vn Point3_LREAL ip Container ITc Vn Container HRESULT F_VN_Get At_Tc Vn Point3_LREAL ↔ a Element Tc Vn Point3_LREAL n Index ULINT hr Prev HRESULT Gets the Tc Vn Point3_LREAL element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_Tc Vn Point3_LREAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Element : Tc Vn Point3_LREAL; END_VAR VAR_INPUT n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Point3_LREAL elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Point3_LREAL [} 163] Returns the element at the specified index Return value HRESULT [} 144] Required License TC3 Vision Base 648 Version: 2.4.0 TF7000 - TF7810
## Page 649

API reference System Requirements 6.1.4.4.4.15 F_VN_Get At_Tc Vn Point3_REAL F_VN_Get At_Tc Vn Point3_REAL ip Container ITc Vn Container HRESULT F_VN_Get At_Tc Vn Point3_REAL ↔ a Element Tc Vn Point3_REAL n Index ULINT hr Prev HRESULT Gets the Tc Vn Point3_REAL element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_Tc Vn Point3_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Element : Tc Vn Point3_REAL; END_VAR VAR_INPUT n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Point3_REAL elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Point3_REAL [} 163] Returns the element at the specified index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.4.16 F_VN_Get At_Tc Vn Rectangle_DINT F_VN_Get At_Tc Vn Rectangle_DINT ip Container ITc Vn Container HRESULT F_VN_Get At_Tc Vn Rectangle_DINT ↔ st Element Tc Vn Rectangle_DINT n Index ULINT hr Prev HRESULT TF7000 - TF7810 Version: 2.4.0 649
## Page 650

API reference Gets the Tc Vn Rectangle_DINT element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_Tc Vn Rectangle_DINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT st Element : Tc Vn Rectangle_DINT; END_VAR VAR_INPUT n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Rectangle_DINT elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Element Tc Vn Rectangle_DINT Returns the element at the specified index [} 250] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.4.17 F_VN_Get At_Tc Vn Vector2_DINT F_VN_Get At_Tc Vn Vector2_DINT ip Container ITc Vn Container HRESULT F_VN_Get At_Tc Vn Vector2_DINT ↔ a Element Tc Vn Vector2_DINT n Index ULINT hr Prev HRESULT Gets the Tc Vn Vector2_DINT element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_Tc Vn Vector2_DINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Element : Tc Vn Vector2_DINT; 650 Version: 2.4.0 TF7000 - TF7810
## Page 651

API reference END_VAR VAR_INPUT n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector2_DINT elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector2_DINT [} 165] Returns the element at the specified index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.4.18 F_VN_Get At_Tc Vn Vector2_INT F_VN_Get At_Tc Vn Vector2_INT ip Container ITc Vn Container HRESULT F_VN_Get At_Tc Vn Vector2_INT ↔ a Element Tc Vn Vector2_INT n Index ULINT hr Prev HRESULT Gets the Tc Vn Vector2_INT element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_Tc Vn Vector2_INT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Element : Tc Vn Vector2_INT; END_VAR VAR_INPUT n Index : ULINT; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 651
## Page 652

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector2_INT elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector2_INT [} 165] Returns the element at the specified index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.4.19 F_VN_Get At_Tc Vn Vector2_REAL F_VN_Get At_Tc Vn Vector2_REAL ip Container ITc Vn Container HRESULT F_VN_Get At_Tc Vn Vector2_REAL ↔ a Element Tc Vn Vector2_REAL n Index ULINT hr Prev HRESULT Gets the Tc Vn Vector2_REAL element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_Tc Vn Vector2_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Element : Tc Vn Vector2_REAL; END_VAR VAR_INPUT n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector2_REAL elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 652 Version: 2.4.0 TF7000 - TF7810
## Page 653

API reference In/Outputs Name Type Description a Element Tc Vn Vector2_REAL [} 165] Returns the element at the specified index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.4.20 F_VN_Get At_Tc Vn Vector2_SINT F_VN_Get At_Tc Vn Vector2_SINT ip Container ITc Vn Container HRESULT F_VN_Get At_Tc Vn Vector2_SINT ↔ a Element Tc Vn Vector2_SINT n Index ULINT hr Prev HRESULT Gets the Tc Vn Vector2_SINT element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_Tc Vn Vector2_SINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Element : Tc Vn Vector2_SINT; END_VAR VAR_INPUT n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector2_SINT elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector2_SINT [} 165] Returns the element at the specified index Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 653
## Page 654

API reference Required License TC3 Vision Base System Requirements 6.1.4.4.4.21 F_VN_Get At_Tc Vn Vector2_UINT F_VN_Get At_Tc Vn Vector2_UINT ip Container ITc Vn Container HRESULT F_VN_Get At_Tc Vn Vector2_UINT ↔ a Element Tc Vn Vector2_UINT n Index ULINT hr Prev HRESULT Gets the Tc Vn Vector2_UINT element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_Tc Vn Vector2_UINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Element : Tc Vn Vector2_UINT; END_VAR VAR_INPUT n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector2_UINT elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector2_UINT [} 165] Returns the element at the specified index Return value HRESULT [} 144] Required License TC3 Vision Base 654 Version: 2.4.0 TF7000 - TF7810
## Page 655

API reference System Requirements 6.1.4.4.4.22 F_VN_Get At_Tc Vn Vector2_USINT F_VN_Get At_Tc Vn Vector2_USINT ip Container ITc Vn Container HRESULT F_VN_Get At_Tc Vn Vector2_USINT ↔ a Element Tc Vn Vector2_USINT n Index ULINT hr Prev HRESULT Gets the Tc Vn Vector2_USINT element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_Tc Vn Vector2_USINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Element : Tc Vn Vector2_USINT; END_VAR VAR_INPUT n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector2_USINT elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector2_USINT Returns the element at the specified index [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 655
## Page 656

API reference System Requirements 6.1.4.4.4.23 F_VN_Get At_Tc Vn Vector3_INT F_VN_Get At_Tc Vn Vector3_INT ip Container ITc Vn Container HRESULT F_VN_Get At_Tc Vn Vector3_INT ↔ a Element Tc Vn Vector3_INT n Index ULINT hr Prev HRESULT Gets the Tc Vn Vector3_INT element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_Tc Vn Vector3_INT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Element : Tc Vn Vector3_INT; END_VAR VAR_INPUT n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector3_INT elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector3_INT [} 165] Returns the element at the specified index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.4.24 F_VN_Get At_Tc Vn Vector3_REAL F_VN_Get At_Tc Vn Vector3_REAL ip Container ITc Vn Container HRESULT F_VN_Get At_Tc Vn Vector3_REAL ↔ a Element Tc Vn Vector3_REAL n Index ULINT hr Prev HRESULT 656 Version: 2.4.0 TF7000 - TF7810
## Page 657

API reference Gets the Tc Vn Vector3_REAL element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_Tc Vn Vector3_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Element : Tc Vn Vector3_REAL; END_VAR VAR_INPUT n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector3_REAL elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector3_REAL [} 165] Returns the element at the specified index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.4.25 F_VN_Get At_Tc Vn Vector3_SINT F_VN_Get At_Tc Vn Vector3_SINT ip Container ITc Vn Container HRESULT F_VN_Get At_Tc Vn Vector3_SINT ↔ a Element Tc Vn Vector3_SINT n Index ULINT hr Prev HRESULT Gets the Tc Vn Vector3_SINT element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_Tc Vn Vector3_SINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Element : Tc Vn Vector3_SINT; END_VAR TF7000 - TF7810 Version: 2.4.0 657
## Page 658

API reference VAR_INPUT n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector3_SINT elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector3_SINT [} 165] Returns the element at the specified index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.4.26 F_VN_Get At_Tc Vn Vector3_UINT F_VN_Get At_Tc Vn Vector3_UINT ip Container ITc Vn Container HRESULT F_VN_Get At_Tc Vn Vector3_UINT ↔ a Element Tc Vn Vector3_UINT n Index ULINT hr Prev HRESULT Gets the Tc Vn Vector3_UINT element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_Tc Vn Vector3_UINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Element : Tc Vn Vector3_UINT; END_VAR VAR_INPUT n Index : ULINT; hr Prev : HRESULT; END_VAR 658 Version: 2.4.0 TF7000 - TF7810
## Page 659

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector3_UINT elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector3_UINT [} 165] Returns the element at the specified index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.4.27 F_VN_Get At_Tc Vn Vector3_USINT F_VN_Get At_Tc Vn Vector3_USINT ip Container ITc Vn Container HRESULT F_VN_Get At_Tc Vn Vector3_USINT ↔ a Element Tc Vn Vector3_USINT n Index ULINT hr Prev HRESULT Gets the Tc Vn Vector3_USINT element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_Tc Vn Vector3_USINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Element : Tc Vn Vector3_USINT; END_VAR VAR_INPUT n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector3_USINT elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 659
## Page 660

API reference In/Outputs Name Type Description a Element Tc Vn Vector3_USINT Returns the element at the specified index [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.4.28 F_VN_Get At_Tc Vn Vector4_DINT F_VN_Get At_Tc Vn Vector4_DINT ip Container ITc Vn Container HRESULT F_VN_Get At_Tc Vn Vector4_DINT ↔ a Element Tc Vn Vector4_DINT n Index ULINT hr Prev HRESULT Gets the Tc Vn Vector4_DINT element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_Tc Vn Vector4_DINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Element : Tc Vn Vector4_DINT; END_VAR VAR_INPUT n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector4_DINT elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector4_DINT [} 165] Returns the element at the specified index Return value HRESULT [} 144] 660 Version: 2.4.0 TF7000 - TF7810
## Page 661

API reference Required License TC3 Vision Base System Requirements 6.1.4.4.4.29 F_VN_Get At_Tc Vn Vector4_INT F_VN_Get At_Tc Vn Vector4_INT ip Container ITc Vn Container HRESULT F_VN_Get At_Tc Vn Vector4_INT ↔ a Element Tc Vn Vector4_INT n Index ULINT hr Prev HRESULT Gets the Tc Vn Vector4_INT element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_Tc Vn Vector4_INT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Element : Tc Vn Vector4_INT; END_VAR VAR_INPUT n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector4_INT elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector4_INT [} 165] Returns the element at the specified index Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 661
## Page 662

API reference System Requirements 6.1.4.4.4.30 F_VN_Get At_Tc Vn Vector4_LREAL F_VN_Get At_Tc Vn Vector4_LREAL ip Container ITc Vn Container HRESULT F_VN_Get At_Tc Vn Vector4_LREAL ↔ a Element Tc Vn Vector4_LREAL n Index ULINT hr Prev HRESULT Gets the Tc Vn Vector4_LREAL element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_Tc Vn Vector4_LREAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Element : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector4_LREAL elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector4_LREAL Returns the element at the specified index [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base 662 Version: 2.4.0 TF7000 - TF7810
## Page 663

API reference System Requirements 6.1.4.4.4.31 F_VN_Get At_Tc Vn Vector4_REAL F_VN_Get At_Tc Vn Vector4_REAL ip Container ITc Vn Container HRESULT F_VN_Get At_Tc Vn Vector4_REAL ↔ a Element Tc Vn Vector4_REAL n Index ULINT hr Prev HRESULT Gets the Tc Vn Vector4_REAL element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_Tc Vn Vector4_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Element : Tc Vn Vector4_REAL; END_VAR VAR_INPUT n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector4_REAL elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector4_REAL [} 165] Returns the element at the specified index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.4.32 F_VN_Get At_Tc Vn Vector4_SINT F_VN_Get At_Tc Vn Vector4_SINT ip Container ITc Vn Container HRESULT F_VN_Get At_Tc Vn Vector4_SINT ↔ a Element Tc Vn Vector4_SINT n Index ULINT hr Prev HRESULT Gets the Tc Vn Vector4_SINT element at the specified index of the container. TF7000 - TF7810 Version: 2.4.0 663
## Page 664

API reference Syntax Definition: FUNCTION F_VN_Get At_Tc Vn Vector4_SINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Element : Tc Vn Vector4_SINT; END_VAR VAR_INPUT n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector4_SINT elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector4_SINT [} 165] Returns the element at the specified index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.4.33 F_VN_Get At_Tc Vn Vector4_UINT F_VN_Get At_Tc Vn Vector4_UINT ip Container ITc Vn Container HRESULT F_VN_Get At_Tc Vn Vector4_UINT ↔ a Element Tc Vn Vector4_UINT n Index ULINT hr Prev HRESULT Gets the Tc Vn Vector4_UINT element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_Tc Vn Vector4_UINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Element : Tc Vn Vector4_UINT; END_VAR VAR_INPUT 664 Version: 2.4.0 TF7000 - TF7810
## Page 665

API reference n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector4_UINT elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector4_UINT [} 165] Returns the element at the specified index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.4.34 F_VN_Get At_Tc Vn Vector4_USINT F_VN_Get At_Tc Vn Vector4_USINT ip Container ITc Vn Container HRESULT F_VN_Get At_Tc Vn Vector4_USINT ↔ a Element Tc Vn Vector4_USINT n Index ULINT hr Prev HRESULT Gets the Tc Vn Vector4_USINT element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_Tc Vn Vector4_USINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Element : Tc Vn Vector4_USINT; END_VAR VAR_INPUT n Index : ULINT; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 665
## Page 666

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector4_USINT elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector4_USINT Returns the element at the specified index [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.4.35 F_VN_Get At_UDINT F_VN_Get At_UDINT ip Container ITc Vn Container HRESULT F_VN_Get At_UDINT ↔ n Element UDINT n Index ULINT hr Prev HRESULT Gets the UDINT element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_UDINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT n Element : UDINT; END_VAR VAR_INPUT n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with UDINT elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 666 Version: 2.4.0 TF7000 - TF7810
## Page 667

API reference In/Outputs Name Type Description n Element UDINT Returns the element at the specified index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.4.36 F_VN_Get At_UINT F_VN_Get At_UINT ip Container ITc Vn Container HRESULT F_VN_Get At_UINT ↔ n Element UINT n Index ULINT hr Prev HRESULT Gets the UINT element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_UINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT n Element : UINT; END_VAR VAR_INPUT n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with UINT elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Element UINT Returns the element at the specified index Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 667
## Page 668

API reference Required License TC3 Vision Base System Requirements 6.1.4.4.4.37 F_VN_Get At_ULINT F_VN_Get At_ULINT ip Container ITc Vn Container HRESULT F_VN_Get At_ULINT ↔ n Element ULINT n Index ULINT hr Prev HRESULT Gets the ULINT element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_ULINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT n Element : ULINT; END_VAR VAR_INPUT n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with ULINT elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Element ULINT Returns the element at the specified index Return value HRESULT [} 144] Required License TC3 Vision Base 668 Version: 2.4.0 TF7000 - TF7810
## Page 669

API reference System Requirements 6.1.4.4.4.38 F_VN_Get At_USINT F_VN_Get At_USINT ip Container ITc Vn Container HRESULT F_VN_Get At_USINT ↔ n Element USINT n Index ULINT hr Prev HRESULT Gets the USINT element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Get At_USINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT n Element : USINT; END_VAR VAR_INPUT n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with USINT elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Element USINT Returns the element at the specified index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.5 F_VN_Insert Into Container This chapter contains functions to insert an element at a specific container position according to the data type. TF7000 - TF7810 Version: 2.4.0 669
## Page 670

API reference 6.1.4.4.5.1 F_VN_Insert Into Container_DINT F_VN_Insert Into Container_DINT n Element DINT HRESULT F_VN_Insert Into Container_DINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element of type DINT into a container before the specified position. Syntax Definition: FUNCTION F_VN_Insert Into Container_DINT : HRESULT VAR_INPUT n Element : DINT; ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description n Element DINT Single element to insert into ip Container ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.5.2 F_VN_Insert Into Container_INT F_VN_Insert Into Container_INT n Element INT HRESULT F_VN_Insert Into Container_INT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element of type INT into a container before the specified position. Syntax Definition: FUNCTION F_VN_Insert Into Container_INT : HRESULT VAR_INPUT n Element : INT; ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR 670 Version: 2.4.0 TF7000 - TF7810
## Page 671

API reference Inputs Name Type Description n Element INT Single element to insert into ip Container ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.5.3 F_VN_Insert Into Container_ITc Vn Container F_VN_Insert Into Container_ITc Vn Container ip Element ITc Vn Container HRESULT F_VN_Insert Into Container_ITc Vn Container ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element (or a range of elements) into a container before the specified position. Syntax Definition: FUNCTION F_VN_Insert Into Container_ITc Vn Container : HRESULT VAR_INPUT ip Element : ITc Vn Container; ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Element ITc Vn Container [} 374] Single element to insert into ip Container or container with several elements ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 671
## Page 672

API reference System Requirements 6.1.4.4.5.4 F_VN_Insert Into Container_ITc Vn Forward Iterator F_VN_Insert Into Container_ITc Vn Forward Iterator ip Element ITc Vn Forward Iterator HRESULT F_VN_Insert Into Container_ITc Vn Forward Iterator ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element (represented by an iterator) into a container before the specified position. Syntax Definition: FUNCTION F_VN_Insert Into Container_ITc Vn Forward Iterator : HRESULT VAR_INPUT ip Element : ITc Vn Forward Iterator; ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Element ITc Vn Forward Iterator Single element to insert into ip Container [} 365] ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.5.5 F_VN_Insert Into Container_ITc Vn Image F_VN_Insert Into Container_ITc Vn Image ip Element ITc Vn Image HRESULT F_VN_Insert Into Container_ITc Vn Image ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element of type ITc Vn Image into a container before the specified position. Syntax Definition: FUNCTION F_VN_Insert Into Container_ITc Vn Image : HRESULT VAR_INPUT ip Element : ITc Vn Image; ip Container : ITc Vn Container; 672 Version: 2.4.0 TF7000 - TF7810
## Page 673

API reference n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Element ITc Vn Image [} 413] Single element to insert into ip Container ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.5.6 F_VN_Insert Into Container_LREAL F_VN_Insert Into Container_LREAL f Element LREAL HRESULT F_VN_Insert Into Container_LREAL ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element of type LREAL into a container before the specified position. Syntax Definition: FUNCTION F_VN_Insert Into Container_LREAL : HRESULT VAR_INPUT f Element : LREAL; ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description f Element LREAL Single element to insert into ip Container ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 673
## Page 674

API reference Required License TC3 Vision Base System Requirements 6.1.4.4.5.7 F_VN_Insert Into Container_REAL F_VN_Insert Into Container_REAL f Element REAL HRESULT F_VN_Insert Into Container_REAL ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element of type REAL into a container before the specified position. Syntax Definition: FUNCTION F_VN_Insert Into Container_REAL : HRESULT VAR_INPUT f Element : REAL; ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description f Element REAL Single element to insert into ip Container ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.5.8 F_VN_Insert Into Container_SINT F_VN_Insert Into Container_SINT n Element SINT HRESULT F_VN_Insert Into Container_SINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element of type SINT into a container before the specified position. 674 Version: 2.4.0 TF7000 - TF7810
## Page 675

API reference Syntax Definition: FUNCTION F_VN_Insert Into Container_SINT : HRESULT VAR_INPUT n Element : SINT; ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description n Element SINT Single element to insert into ip Container ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.5.9 F_VN_Insert Into Container_Tc Vn DMatch F_VN_Insert Into Container_Tc Vn DMatch ↔ st Element Tc Vn DMatch HRESULT F_VN_Insert Into Container_Tc Vn DMatch ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element of type Tc Vn DMatch into a container before the specified position. Syntax Definition: FUNCTION F_VN_Insert Into Container_Tc Vn DMatch : HRESULT VAR_IN_OUT st Element : Tc Vn DMatch; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 675
## Page 676

API reference In/Outputs Name Type Description st Element Tc Vn DMatch [} 237] Single element to insert into ip Container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.5.10 F_VN_Insert Into Container_Tc Vn Key Point F_VN_Insert Into Container_Tc Vn Key Point ↔ st Element Tc Vn Key Point HRESULT F_VN_Insert Into Container_Tc Vn Key Point ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element of type Tc Vn Key Point into a container before the specified position. Syntax Definition: FUNCTION F_VN_Insert Into Container_Tc Vn Key Point : HRESULT VAR_IN_OUT st Element : Tc Vn Key Point; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Element Tc Vn Key Point [} 237] Single element to insert into ip Container Return value HRESULT [} 144] Required License TC3 Vision Base 676 Version: 2.4.0 TF7000 - TF7810
## Page 677

API reference System Requirements 6.1.4.4.5.11 F_VN_Insert Into Container_Tc Vn Point2_DINT F_VN_Insert Into Container_Tc Vn Point2_DINT ↔ a Element Tc Vn Point2_DINT HRESULT F_VN_Insert Into Container_Tc Vn Point2_DINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element of type Tc Vn Point2_DINT into a container before the specified position. Syntax Definition: FUNCTION F_VN_Insert Into Container_Tc Vn Point2_DINT : HRESULT VAR_IN_OUT a Element : Tc Vn Point2_DINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Point2_DINT [} 163] Single element to insert into ip Container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.5.12 F_VN_Insert Into Container_Tc Vn Point2_LREAL F_VN_Insert Into Container_Tc Vn Point2_LREAL ↔ a Element Tc Vn Point2_LREAL HRESULT F_VN_Insert Into Container_Tc Vn Point2_LREAL ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element of type Tc Vn Point2_LREAL into a container before the specified position. TF7000 - TF7810 Version: 2.4.0 677
## Page 678

API reference Syntax Definition: FUNCTION F_VN_Insert Into Container_Tc Vn Point2_LREAL : HRESULT VAR_IN_OUT a Element : Tc Vn Point2_LREAL; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Point2_LREAL [} 163] Single element to insert into ip Container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.5.13 F_VN_Insert Into Container_Tc Vn Point2_REAL F_VN_Insert Into Container_Tc Vn Point2_REAL ↔ a Element Tc Vn Point2_REAL HRESULT F_VN_Insert Into Container_Tc Vn Point2_REAL ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element of type Tc Vn Point2_REAL into a container before the specified position. Syntax Definition: FUNCTION F_VN_Insert Into Container_Tc Vn Point2_REAL : HRESULT VAR_IN_OUT a Element : Tc Vn Point2_REAL; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR 678 Version: 2.4.0 TF7000 - TF7810
## Page 679

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Point2_REAL [} 163] Single element to insert into ip Container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.5.14 F_VN_Insert Into Container_Tc Vn Point3_LREAL F_VN_Insert Into Container_Tc Vn Point3_LREAL ↔ a Element Tc Vn Point3_LREAL HRESULT F_VN_Insert Into Container_Tc Vn Point3_LREAL ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element of type Tc Vn Point3_LREAL into a container before the specified position. Syntax Definition: FUNCTION F_VN_Insert Into Container_Tc Vn Point3_LREAL : HRESULT VAR_IN_OUT a Element : Tc Vn Point3_LREAL; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 679
## Page 680

API reference In/Outputs Name Type Description a Element Tc Vn Point3_LREAL [} 163] Single element to insert into ip Container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.5.15 F_VN_Insert Into Container_Tc Vn Point3_REAL F_VN_Insert Into Container_Tc Vn Point3_REAL ↔ a Element Tc Vn Point3_REAL HRESULT F_VN_Insert Into Container_Tc Vn Point3_REAL ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element of type Tc Vn Point3_REAL into a container before the specified position. Syntax Definition: FUNCTION F_VN_Insert Into Container_Tc Vn Point3_REAL : HRESULT VAR_IN_OUT a Element : Tc Vn Point3_REAL; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Point3_REAL [} 163] Single element to insert into ip Container Return value HRESULT [} 144] Required License TC3 Vision Base 680 Version: 2.4.0 TF7000 - TF7810
## Page 681

API reference System Requirements 6.1.4.4.5.16 F_VN_Insert Into Container_Tc Vn Rectangle_DINT F_VN_Insert Into Container_Tc Vn Rectangle_DINT ↔ st Element Tc Vn Rectangle_DINT HRESULT F_VN_Insert Into Container_Tc Vn Rectangle_DINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element of type Tc Vn Rectangle_DINT into a container before the specified position. Syntax Definition: FUNCTION F_VN_Insert Into Container_Tc Vn Rectangle_DINT : HRESULT VAR_IN_OUT st Element : Tc Vn Rectangle_DINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Element Tc Vn Rectangle_DINT Single element to insert into ip Container [} 250] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.5.17 F_VN_Insert Into Container_Tc Vn Vector2_DINT F_VN_Insert Into Container_Tc Vn Vector2_DINT ↔ a Element Tc Vn Vector2_DINT HRESULT F_VN_Insert Into Container_Tc Vn Vector2_DINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element of type Tc Vn Vector2_DINT into a container before the specified position. TF7000 - TF7810 Version: 2.4.0 681
## Page 682

API reference Syntax Definition: FUNCTION F_VN_Insert Into Container_Tc Vn Vector2_DINT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector2_DINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector2_DINT [} 165] Single element to insert into ip Container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.5.18 F_VN_Insert Into Container_Tc Vn Vector2_INT F_VN_Insert Into Container_Tc Vn Vector2_INT ↔ a Element Tc Vn Vector2_INT HRESULT F_VN_Insert Into Container_Tc Vn Vector2_INT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element of type Tc Vn Vector2_INT into a container before the specified position. Syntax Definition: FUNCTION F_VN_Insert Into Container_Tc Vn Vector2_INT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector2_INT; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR 682 Version: 2.4.0 TF7000 - TF7810
## Page 683

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector2_INT [} 165] Single element to insert into ip Container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.5.19 F_VN_Insert Into Container_Tc Vn Vector2_REAL F_VN_Insert Into Container_Tc Vn Vector2_REAL ↔ a Element Tc Vn Vector2_REAL HRESULT F_VN_Insert Into Container_Tc Vn Vector2_REAL ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element of type Tc Vn Vector2_REAL into a container before the specified position. Syntax Definition: FUNCTION F_VN_Insert Into Container_Tc Vn Vector2_REAL : HRESULT VAR_IN_OUT a Element : Tc Vn Vector2_REAL; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 683
## Page 684

API reference In/Outputs Name Type Description a Element Tc Vn Vector2_REAL [} 165] Single element to insert into ip Container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.5.20 F_VN_Insert Into Container_Tc Vn Vector2_SINT F_VN_Insert Into Container_Tc Vn Vector2_SINT ↔ a Element Tc Vn Vector2_SINT HRESULT F_VN_Insert Into Container_Tc Vn Vector2_SINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element of type Tc Vn Vector2_SINT into a container before the specified position. Syntax Definition: FUNCTION F_VN_Insert Into Container_Tc Vn Vector2_SINT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector2_SINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector2_SINT [} 165] Single element to insert into ip Container Return value HRESULT [} 144] Required License TC3 Vision Base 684 Version: 2.4.0 TF7000 - TF7810
## Page 685

API reference System Requirements 6.1.4.4.5.21 F_VN_Insert Into Container_Tc Vn Vector2_UINT F_VN_Insert Into Container_Tc Vn Vector2_UINT ↔ a Element Tc Vn Vector2_UINT HRESULT F_VN_Insert Into Container_Tc Vn Vector2_UINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element of type Tc Vn Vector2_UINT into a container before the specified position. Syntax Definition: FUNCTION F_VN_Insert Into Container_Tc Vn Vector2_UINT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector2_UINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector2_UINT [} 165] Single element to insert into ip Container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.5.22 F_VN_Insert Into Container_Tc Vn Vector2_USINT F_VN_Insert Into Container_Tc Vn Vector2_USINT ↔ a Element Tc Vn Vector2_USINT HRESULT F_VN_Insert Into Container_Tc Vn Vector2_USINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element of type Tc Vn Vector2_USINT into a container before the specified position. TF7000 - TF7810 Version: 2.4.0 685
## Page 686

API reference Syntax Definition: FUNCTION F_VN_Insert Into Container_Tc Vn Vector2_USINT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector2_USINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector2_USINT Single element to insert into ip Container [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.5.23 F_VN_Insert Into Container_Tc Vn Vector3_INT F_VN_Insert Into Container_Tc Vn Vector3_INT ↔ a Element Tc Vn Vector3_INT HRESULT F_VN_Insert Into Container_Tc Vn Vector3_INT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element of type Tc Vn Vector3_INT into a container before the specified position. Syntax Definition: FUNCTION F_VN_Insert Into Container_Tc Vn Vector3_INT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector3_INT; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR 686 Version: 2.4.0 TF7000 - TF7810
## Page 687

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector3_INT [} 165] Single element to insert into ip Container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.5.24 F_VN_Insert Into Container_Tc Vn Vector3_REAL F_VN_Insert Into Container_Tc Vn Vector3_REAL ↔ a Element Tc Vn Vector3_REAL HRESULT F_VN_Insert Into Container_Tc Vn Vector3_REAL ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element of type Tc Vn Vector3_REAL into a container before the specified position. Syntax Definition: FUNCTION F_VN_Insert Into Container_Tc Vn Vector3_REAL : HRESULT VAR_IN_OUT a Element : Tc Vn Vector3_REAL; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 687
## Page 688

API reference In/Outputs Name Type Description a Element Tc Vn Vector3_REAL [} 165] Single element to insert into ip Container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.5.25 F_VN_Insert Into Container_Tc Vn Vector3_SINT F_VN_Insert Into Container_Tc Vn Vector3_SINT ↔ a Element Tc Vn Vector3_SINT HRESULT F_VN_Insert Into Container_Tc Vn Vector3_SINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element of type Tc Vn Vector3_SINT into a container before the specified position. Syntax Definition: FUNCTION F_VN_Insert Into Container_Tc Vn Vector3_SINT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector3_SINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector3_SINT [} 165] Single element to insert into ip Container Return value HRESULT [} 144] Required License TC3 Vision Base 688 Version: 2.4.0 TF7000 - TF7810
## Page 689

API reference System Requirements 6.1.4.4.5.26 F_VN_Insert Into Container_Tc Vn Vector3_UINT F_VN_Insert Into Container_Tc Vn Vector3_UINT ↔ a Element Tc Vn Vector3_UINT HRESULT F_VN_Insert Into Container_Tc Vn Vector3_UINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element of type Tc Vn Vector3_UINT into a container before the specified position. Syntax Definition: FUNCTION F_VN_Insert Into Container_Tc Vn Vector3_UINT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector3_UINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector3_UINT [} 165] Single element to insert into ip Container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.5.27 F_VN_Insert Into Container_Tc Vn Vector3_USINT F_VN_Insert Into Container_Tc Vn Vector3_USINT ↔ a Element Tc Vn Vector3_USINT HRESULT F_VN_Insert Into Container_Tc Vn Vector3_USINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element of type Tc Vn Vector3_USINT into a container before the specified position. TF7000 - TF7810 Version: 2.4.0 689
## Page 690

API reference Syntax Definition: FUNCTION F_VN_Insert Into Container_Tc Vn Vector3_USINT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector3_USINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector3_USINT Single element to insert into ip Container [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.5.28 F_VN_Insert Into Container_Tc Vn Vector4_DINT F_VN_Insert Into Container_Tc Vn Vector4_DINT ↔ a Element Tc Vn Vector4_DINT HRESULT F_VN_Insert Into Container_Tc Vn Vector4_DINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element of type Tc Vn Vector4_DINT into a container before the specified position. Syntax Definition: FUNCTION F_VN_Insert Into Container_Tc Vn Vector4_DINT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector4_DINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR 690 Version: 2.4.0 TF7000 - TF7810
## Page 691

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector4_DINT [} 165] Single element to insert into ip Container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.5.29 F_VN_Insert Into Container_Tc Vn Vector4_INT F_VN_Insert Into Container_Tc Vn Vector4_INT ↔ a Element Tc Vn Vector4_INT HRESULT F_VN_Insert Into Container_Tc Vn Vector4_INT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element of type Tc Vn Vector4_INT into a container before the specified position. Syntax Definition: FUNCTION F_VN_Insert Into Container_Tc Vn Vector4_INT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector4_INT; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 691
## Page 692

API reference In/Outputs Name Type Description a Element Tc Vn Vector4_INT [} 165] Single element to insert into ip Container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.5.30 F_VN_Insert Into Container_Tc Vn Vector4_LREAL F_VN_Insert Into Container_Tc Vn Vector4_LREAL ↔ a Element Tc Vn Vector4_LREAL HRESULT F_VN_Insert Into Container_Tc Vn Vector4_LREAL ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element of type Tc Vn Vector4_LREAL into a container before the specified position. Syntax Definition: FUNCTION F_VN_Insert Into Container_Tc Vn Vector4_LREAL : HRESULT VAR_IN_OUT a Element : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector4_LREAL Single element to insert into ip Container [} 165] Return value HRESULT [} 144] 692 Version: 2.4.0 TF7000 - TF7810
## Page 693

API reference Required License TC3 Vision Base System Requirements 6.1.4.4.5.31 F_VN_Insert Into Container_Tc Vn Vector4_SINT F_VN_Insert Into Container_Tc Vn Vector4_SINT ↔ a Element Tc Vn Vector4_SINT HRESULT F_VN_Insert Into Container_Tc Vn Vector4_SINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element of type Tc Vn Vector4_SINT into a container before the specified position. Syntax Definition: FUNCTION F_VN_Insert Into Container_Tc Vn Vector4_SINT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector4_SINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector4_SINT [} 165] Single element to insert into ip Container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.5.32 F_VN_Insert Into Container_Tc Vn Vector4_UINT F_VN_Insert Into Container_Tc Vn Vector4_UINT ↔ a Element Tc Vn Vector4_UINT HRESULT F_VN_Insert Into Container_Tc Vn Vector4_UINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT TF7000 - TF7810 Version: 2.4.0 693
## Page 694

API reference Insert an element of type Tc Vn Vector4_UINT into a container before the specified position. Syntax Definition: FUNCTION F_VN_Insert Into Container_Tc Vn Vector4_UINT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector4_UINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector4_UINT [} 165] Single element to insert into ip Container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.5.33 F_VN_Insert Into Container_Tc Vn Vector4_USINT F_VN_Insert Into Container_Tc Vn Vector4_USINT ↔ a Element Tc Vn Vector4_USINT HRESULT F_VN_Insert Into Container_Tc Vn Vector4_USINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element of type Tc Vn Vector4_USINT into a container before the specified position. Syntax Definition: FUNCTION F_VN_Insert Into Container_Tc Vn Vector4_USINT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector4_USINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR 694 Version: 2.4.0 TF7000 - TF7810
## Page 695

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector4_USINT Single element to insert into ip Container [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.5.34 F_VN_Insert Into Container_UDINT F_VN_Insert Into Container_UDINT n Element UDINT HRESULT F_VN_Insert Into Container_UDINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element of type UDINT into a container before the specified position. Syntax Definition: FUNCTION F_VN_Insert Into Container_UDINT : HRESULT VAR_INPUT n Element : UDINT; ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description n Element UDINT Single element to insert into ip Container ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 695
## Page 696

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.5.35 F_VN_Insert Into Container_UINT F_VN_Insert Into Container_UINT n Element UINT HRESULT F_VN_Insert Into Container_UINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element of type UINT into a container before the specified position. Syntax Definition: FUNCTION F_VN_Insert Into Container_UINT : HRESULT VAR_INPUT n Element : UINT; ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description n Element UINT Single element to insert into ip Container ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.5.36 F_VN_Insert Into Container_ULINT F_VN_Insert Into Container_ULINT n Element ULINT HRESULT F_VN_Insert Into Container_ULINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT 696 Version: 2.4.0 TF7000 - TF7810
## Page 697

API reference Insert an element of type ULINT into a container before the specified position. Syntax Definition: FUNCTION F_VN_Insert Into Container_ULINT : HRESULT VAR_INPUT n Element : ULINT; ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description n Element ULINT Single element to insert into ip Container ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.5.37 F_VN_Insert Into Container_USINT F_VN_Insert Into Container_USINT n Element USINT HRESULT F_VN_Insert Into Container_USINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element of type USINT into a container before the specified position. Syntax Definition: FUNCTION F_VN_Insert Into Container_USINT : HRESULT VAR_INPUT n Element : USINT; ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 697
## Page 698

API reference Inputs Name Type Description n Element USINT Single element to insert into ip Container ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.5.38 F_VN_Insert Into Container_Tc Vn Vector4_REAL F_VN_Insert Into Container_Tc Vn Vector4_REAL ↔ a Element Tc Vn Vector4_REAL HRESULT F_VN_Insert Into Container_Tc Vn Vector4_REAL ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element of type Tc Vn Vector4_REAL into a container before the specified position. Syntax Definition: FUNCTION F_VN_Insert Into Container_Tc Vn Vector4_REAL : HRESULT VAR_IN_OUT a Element : Tc Vn Vector4_REAL; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector4_REAL [} 165] Single element to insert into ip Container Return value HRESULT [} 144] 698 Version: 2.4.0 TF7000 - TF7810
## Page 699

API reference Required License TC3 Vision Base System Requirements 6.1.4.4.5.39 F_VN_Insert Into Container_Tc Vn Rotated Rectangle F_VN_Insert Into Container_Tc Vn Rotated Rectangle ↔st Element Tc Vn Rotated Rectangle HRESULT F_VN_Insert Into Container_Tc Vn Rotated Rectangle ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Insert an element of type Tc Vn Rotated Rectangle into a container before the specified position. Syntax Definition: FUNCTION F_VN_Insert Into Container_Tc Vn Rotated Rectangle : HRESULT VAR_IN_OUT st Element : Tc Vn Rotated Rectangle; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container in which to insert the element n Index ULINT Position, before which the element will be inserted hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Element Tc Vn Rotated Rectangle Single element to insert into ip Container [} 251] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.6 F_VN_Set At The F_VN_Set At functions should be used if individual elements in a container have to be accessed. If all elements in a container are to be processed in succession, it is much better to use an iterator [} 750]. TF7000 - TF7810 Version: 2.4.0 699
## Page 700

API reference 6.1.4.4.6.1 F_VN_Set At_Tc Vn Rotated Rectangle F_VN_Set At_Tc Vn Rotated Rectangle ↔ st Element Tc Vn Rotated Rectangle HRESULT F_VN_Set At_Tc Vn Rotated Rectangle ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Sets the element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Set At_Tc Vn Rotated Rectangle : HRESULT VAR_IN_OUT st Element : Tc Vn Rotated Rectangle; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Rotated Rectangle elements, in which the element at position n Index is replaced by st Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Element Tc Vn Rotated Rectangle Element to set at the specified container position [} 251] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.6.2 F_VN_Set At_DINT F_VN_Set At_DINT n Element DINT HRESULT F_VN_Set At_DINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Sets the element at the specified index of the container. 700 Version: 2.4.0 TF7000 - TF7810
## Page 701

API reference Syntax Definition: FUNCTION F_VN_Set At_DINT : HRESULT VAR_INPUT n Element : DINT; ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description n Element DINT Element to set at the specified container position ip Container ITc Vn Container [} 374] Container with DINT elements, in which the element at position n Index is replaced by n Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.6.3 F_VN_Set At_INT F_VN_Set At_INT n Element INT HRESULT F_VN_Set At_INT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Sets the element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Set At_INT : HRESULT VAR_INPUT n Element : INT; ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 701
## Page 702

API reference Inputs Name Type Description n Element INT Element to set at the specified container position ip Container ITc Vn Container [} 374] Container with INT elements, in which the element at position n Index is replaced by n Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.6.4 F_VN_Set At_ITc Vn Container F_VN_Set At_ITc Vn Container ip Element ITc Vn Container HRESULT F_VN_Set At_ITc Vn Container ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Sets the element at the specified index of the container. (Alternatively use interface method . Set At.) Syntax Definition: FUNCTION F_VN_Set At_ITc Vn Container : HRESULT VAR_INPUT ip Element : ITc Vn Container; ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Element ITc Vn Container [} 374] Element to set at the specified container position ip Container ITc Vn Container [} 374] Container with ITc Vn Container elements, in which the element at position n Index is replaced by ip Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] 702 Version: 2.4.0 TF7000 - TF7810
## Page 703

API reference Required License TC3 Vision Base System Requirements 6.1.4.4.6.5 F_VN_Set At_ITc Vn Image F_VN_Set At_ITc Vn Image ip Element ITc Vn Image HRESULT F_VN_Set At_ITc Vn Image ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Sets the element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Set At_ITc Vn Image : HRESULT VAR_INPUT ip Element : ITc Vn Image; ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Element ITc Vn Image [} 413] Element to set at the specified container position ip Container ITc Vn Container [} 374] Container with ITc Vn Image elements, in which the element at position n Index is replaced by ip Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.6.6 F_VN_Set At_LREAL F_VN_Set At_LREAL f Element LREAL HRESULT F_VN_Set At_LREAL ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Sets the element at the specified index of the container. TF7000 - TF7810 Version: 2.4.0 703
## Page 704

API reference Syntax Definition: FUNCTION F_VN_Set At_LREAL : HRESULT VAR_INPUT f Element : LREAL; ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description f Element LREAL Element to set at the specified container position ip Container ITc Vn Container [} 374] Container with LREAL elements, in which the element at position n Index is replaced by f Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.6.7 F_VN_Set At_REAL F_VN_Set At_REAL f Element REAL HRESULT F_VN_Set At_REAL ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Sets the element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Set At_REAL : HRESULT VAR_INPUT f Element : REAL; ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR 704 Version: 2.4.0 TF7000 - TF7810
## Page 705

API reference Inputs Name Type Description f Element REAL Element to set at the specified container position ip Container ITc Vn Container [} 374] Container with REAL elements, in which the element at position n Index is replaced by f Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.6.8 F_VN_Set At_SINT F_VN_Set At_SINT n Element SINT HRESULT F_VN_Set At_SINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Sets the element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Set At_SINT : HRESULT VAR_INPUT n Element : SINT; ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description n Element SINT Element to set at the specified container position ip Container ITc Vn Container [} 374] Container with SINT elements, in which the element at position n Index is replaced by n Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 705
## Page 706

API reference Required License TC3 Vision Base System Requirements 6.1.4.4.6.9 F_VN_Set At_Tc Vn DMatch F_VN_Set At_Tc Vn DMatch ↔ st Element Tc Vn DMatch HRESULT F_VN_Set At_Tc Vn DMatch ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Sets the element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Set At_Tc Vn DMatch : HRESULT VAR_IN_OUT st Element : Tc Vn DMatch; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn DMatch elements, in which the element at position n Index is replaced by st Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Element Tc Vn DMatch [} 237] Element to set at the specified container position Return value HRESULT [} 144] Required License TC3 Vision Base 706 Version: 2.4.0 TF7000 - TF7810
## Page 707

API reference System Requirements 6.1.4.4.6.10 F_VN_Set At_Tc Vn Key Point F_VN_Set At_Tc Vn Key Point ↔ st Element Tc Vn Key Point HRESULT F_VN_Set At_Tc Vn Key Point ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Sets the element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Set At_Tc Vn Key Point : HRESULT VAR_IN_OUT st Element : Tc Vn Key Point; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Key Point elements, in which the element at position n Index is replaced by st Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Element Tc Vn Key Point [} 237] Element to set at the specified container position Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.6.11 F_VN_Set At_Tc Vn Point2_DINT F_VN_Set At_Tc Vn Point2_DINT ↔ a Element Tc Vn Point2_DINT HRESULT F_VN_Set At_Tc Vn Point2_DINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT TF7000 - TF7810 Version: 2.4.0 707
## Page 708

API reference Sets the element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Set At_Tc Vn Point2_DINT : HRESULT VAR_IN_OUT a Element : Tc Vn Point2_DINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Point2_DINT elements, in which the element at position n Index is replaced by a Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Point2_DINT [} 163] Element to set at the specified container position Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.6.12 F_VN_Set At_Tc Vn Point2_LREAL F_VN_Set At_Tc Vn Point2_LREAL ↔ a Element Tc Vn Point2_LREAL HRESULT F_VN_Set At_Tc Vn Point2_LREAL ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Sets the element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Set At_Tc Vn Point2_LREAL : HRESULT VAR_IN_OUT a Element : Tc Vn Point2_LREAL; END_VAR VAR_INPUT ip Container : ITc Vn Container; 708 Version: 2.4.0 TF7000 - TF7810
## Page 709

API reference n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Point2_LREAL elements, in which the element at position n Index is replaced by a Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Point2_LREAL [} 163] Element to set at the specified container position Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.6.13 F_VN_Set At_Tc Vn Point2_REAL F_VN_Set At_Tc Vn Point2_REAL ↔ a Element Tc Vn Point2_REAL HRESULT F_VN_Set At_Tc Vn Point2_REAL ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Sets the element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Set At_Tc Vn Point2_REAL : HRESULT VAR_IN_OUT a Element : Tc Vn Point2_REAL; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 709
## Page 710

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Point2_REAL elements, in which the element at position n Index is replaced by a Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Point2_REAL [} 163] Element to set at the specified container position Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.6.14 F_VN_Set At_Tc Vn Point3_LREAL F_VN_Set At_Tc Vn Point3_LREAL ↔ a Element Tc Vn Point3_LREAL HRESULT F_VN_Set At_Tc Vn Point3_LREAL ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Sets the element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Set At_Tc Vn Point3_LREAL : HRESULT VAR_IN_OUT a Element : Tc Vn Point3_LREAL; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Point3_LREAL elements, in which the element at position n Index is replaced by a Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 710 Version: 2.4.0 TF7000 - TF7810
## Page 711

API reference In/Outputs Name Type Description a Element Tc Vn Point3_LREAL [} 163] Element to set at the specified container position Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.6.15 F_VN_Set At_Tc Vn Point3_REAL F_VN_Set At_Tc Vn Point3_REAL ↔ a Element Tc Vn Point3_REAL HRESULT F_VN_Set At_Tc Vn Point3_REAL ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Sets the element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Set At_Tc Vn Point3_REAL : HRESULT VAR_IN_OUT a Element : Tc Vn Point3_REAL; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Point3_REAL elements, in which the element at position n Index is replaced by a Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Point3_REAL [} 163] Element to set at the specified container position Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 711
## Page 712

API reference Required License TC3 Vision Base System Requirements 6.1.4.4.6.16 F_VN_Set At_Tc Vn Rectangle_DINT F_VN_Set At_Tc Vn Rectangle_DINT ↔ st Element Tc Vn Rectangle_DINT HRESULT F_VN_Set At_Tc Vn Rectangle_DINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Sets the element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Set At_Tc Vn Rectangle_DINT : HRESULT VAR_IN_OUT st Element : Tc Vn Rectangle_DINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Rectangle_DINT elements, in which the element at position n Index is replaced by st Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Element Tc Vn Rectangle_DINT Element to set at the specified container position [} 250] Return value HRESULT [} 144] Required License TC3 Vision Base 712 Version: 2.4.0 TF7000 - TF7810
## Page 713

API reference System Requirements 6.1.4.4.6.17 F_VN_Set At_Tc Vn Vector2_DINT F_VN_Set At_Tc Vn Vector2_DINT ↔ a Element Tc Vn Vector2_DINT HRESULT F_VN_Set At_Tc Vn Vector2_DINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Sets the element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Set At_Tc Vn Vector2_DINT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector2_DINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector2_DINT elements, in which the element at position n Index is replaced by a Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector2_DINT [} 165] Element to set at the specified container position Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.6.18 F_VN_Set At_Tc Vn Vector2_INT F_VN_Set At_Tc Vn Vector2_INT ↔ a Element Tc Vn Vector2_INT HRESULT F_VN_Set At_Tc Vn Vector2_INT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT TF7000 - TF7810 Version: 2.4.0 713
## Page 714

API reference Sets the element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Set At_Tc Vn Vector2_INT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector2_INT; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector2_INT elements, in which the element at position n Index is replaced by a Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector2_INT [} 165] Element to set at the specified container position Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.6.19 F_VN_Set At_Tc Vn Vector2_REAL F_VN_Set At_Tc Vn Vector2_REAL ↔ a Element Tc Vn Vector2_REAL HRESULT F_VN_Set At_Tc Vn Vector2_REAL ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Sets the element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Set At_Tc Vn Vector2_REAL : HRESULT VAR_IN_OUT a Element : Tc Vn Vector2_REAL; END_VAR VAR_INPUT ip Container : ITc Vn Container; 714 Version: 2.4.0 TF7000 - TF7810
## Page 715

API reference n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector2_REAL elements, in which the element at position n Index is replaced by a Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector2_REAL [} 165] Element to set at the specified container position Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.6.20 F_VN_Set At_Tc Vn Vector2_SINT F_VN_Set At_Tc Vn Vector2_SINT ↔ a Element Tc Vn Vector2_SINT HRESULT F_VN_Set At_Tc Vn Vector2_SINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Sets the element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Set At_Tc Vn Vector2_SINT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector2_SINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 715
## Page 716

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector2_SINT elements, in which the element at position n Index is replaced by a Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector2_SINT [} 165] Element to set at the specified container position Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.6.21 F_VN_Set At_Tc Vn Vector2_UINT F_VN_Set At_Tc Vn Vector2_UINT ↔ a Element Tc Vn Vector2_UINT HRESULT F_VN_Set At_Tc Vn Vector2_UINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Sets the element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Set At_Tc Vn Vector2_UINT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector2_UINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector2_UINT elements, in which the element at position n Index is replaced by a Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 716 Version: 2.4.0 TF7000 - TF7810
## Page 717

API reference In/Outputs Name Type Description a Element Tc Vn Vector2_UINT [} 165] Element to set at the specified container position Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.6.22 F_VN_Set At_Tc Vn Vector2_USINT F_VN_Set At_Tc Vn Vector2_USINT ↔ a Element Tc Vn Vector2_USINT HRESULT F_VN_Set At_Tc Vn Vector2_USINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Sets the element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Set At_Tc Vn Vector2_USINT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector2_USINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector2_USINT elements, in which the element at position n Index is replaced by a Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector2_USINT Element to set at the specified container position [} 165] Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 717
## Page 718

API reference Required License TC3 Vision Base System Requirements 6.1.4.4.6.23 F_VN_Set At_Tc Vn Vector3_INT F_VN_Set At_Tc Vn Vector3_INT ↔ a Element Tc Vn Vector3_INT HRESULT F_VN_Set At_Tc Vn Vector3_INT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Sets the element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Set At_Tc Vn Vector3_INT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector3_INT; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector3_INT elements, in which the element at position n Index is replaced by a Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector3_INT [} 165] Element to set at the specified container position Return value HRESULT [} 144] Required License TC3 Vision Base 718 Version: 2.4.0 TF7000 - TF7810
## Page 719

API reference System Requirements 6.1.4.4.6.24 F_VN_Set At_Tc Vn Vector3_REAL F_VN_Set At_Tc Vn Vector3_REAL ↔ a Element Tc Vn Vector3_REAL HRESULT F_VN_Set At_Tc Vn Vector3_REAL ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Sets the element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Set At_Tc Vn Vector3_REAL : HRESULT VAR_IN_OUT a Element : Tc Vn Vector3_REAL; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector3_REAL elements, in which the element at position n Index is replaced by a Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector3_REAL [} 165] Element to set at the specified container position Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.6.25 F_VN_Set At_Tc Vn Vector3_SINT F_VN_Set At_Tc Vn Vector3_SINT ↔ a Element Tc Vn Vector3_SINT HRESULT F_VN_Set At_Tc Vn Vector3_SINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT TF7000 - TF7810 Version: 2.4.0 719
## Page 720

API reference Sets the element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Set At_Tc Vn Vector3_SINT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector3_SINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector3_SINT elements, in which the element at position n Index is replaced by a Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector3_SINT [} 165] Element to set at the specified container position Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.6.26 F_VN_Set At_Tc Vn Vector3_UINT F_VN_Set At_Tc Vn Vector3_UINT ↔ a Element Tc Vn Vector3_UINT HRESULT F_VN_Set At_Tc Vn Vector3_UINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Sets the element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Set At_Tc Vn Vector3_UINT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector3_UINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; 720 Version: 2.4.0 TF7000 - TF7810
## Page 721

API reference n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector3_UINT elements, in which the element at position n Index is replaced by a Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector3_UINT [} 165] Element to set at the specified container position Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.6.27 F_VN_Set At_Tc Vn Vector3_USINT F_VN_Set At_Tc Vn Vector3_USINT ↔ a Element Tc Vn Vector3_USINT HRESULT F_VN_Set At_Tc Vn Vector3_USINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Sets the element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Set At_Tc Vn Vector3_USINT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector3_USINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 721
## Page 722

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector3_USINT elements, in which the element at position n Index is replaced by a Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector3_USINT Element to set at the specified container position [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.6.28 F_VN_Set At_Tc Vn Vector4_DINT F_VN_Set At_Tc Vn Vector4_DINT ↔ a Element Tc Vn Vector4_DINT HRESULT F_VN_Set At_Tc Vn Vector4_DINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Sets the element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Set At_Tc Vn Vector4_DINT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector4_DINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector4_DINT elements, in which the element at position n Index is replaced by a Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 722 Version: 2.4.0 TF7000 - TF7810
## Page 723

API reference In/Outputs Name Type Description a Element Tc Vn Vector4_DINT [} 165] Element to set at the specified container position Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.6.29 F_VN_Set At_Tc Vn Vector4_INT F_VN_Set At_Tc Vn Vector4_INT ↔ a Element Tc Vn Vector4_INT HRESULT F_VN_Set At_Tc Vn Vector4_INT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Sets the element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Set At_Tc Vn Vector4_INT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector4_INT; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector4_INT elements, in which the element at position n Index is replaced by a Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector4_INT [} 165] Element to set at the specified container position Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 723
## Page 724

API reference Required License TC3 Vision Base System Requirements 6.1.4.4.6.30 F_VN_Set At_Tc Vn Vector4_LREAL F_VN_Set At_Tc Vn Vector4_LREAL ↔ a Element Tc Vn Vector4_LREAL HRESULT F_VN_Set At_Tc Vn Vector4_LREAL ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Sets the element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Set At_Tc Vn Vector4_LREAL : HRESULT VAR_IN_OUT a Element : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector4_LREAL elements, in which the element at position n Index is replaced by a Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector4_LREAL Element to set at the specified container position [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base 724 Version: 2.4.0 TF7000 - TF7810
## Page 725

API reference System Requirements 6.1.4.4.6.31 F_VN_Set At_Tc Vn Vector4_REAL F_VN_Set At_Tc Vn Vector4_REAL ↔ a Element Tc Vn Vector4_REAL HRESULT F_VN_Set At_Tc Vn Vector4_REAL ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Sets the element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Set At_Tc Vn Vector4_REAL : HRESULT VAR_IN_OUT a Element : Tc Vn Vector4_REAL; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector4_REAL elements, in which the element at position n Index is replaced by a Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector4_REAL [} 165] Element to set at the specified container position Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.6.32 F_VN_Set At_Tc Vn Vector4_SINT F_VN_Set At_Tc Vn Vector4_SINT ↔ a Element Tc Vn Vector4_SINT HRESULT F_VN_Set At_Tc Vn Vector4_SINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Sets the element at the specified index of the container. TF7000 - TF7810 Version: 2.4.0 725
## Page 726

API reference Syntax Definition: FUNCTION F_VN_Set At_Tc Vn Vector4_SINT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector4_SINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector4_SINT elements, in which the element at position n Index is replaced by a Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector4_SINT [} 165] Element to set at the specified container position Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.6.33 F_VN_Set At_Tc Vn Vector4_UINT F_VN_Set At_Tc Vn Vector4_UINT ↔ a Element Tc Vn Vector4_UINT HRESULT F_VN_Set At_Tc Vn Vector4_UINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Sets the element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Set At_Tc Vn Vector4_UINT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector4_UINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR 726 Version: 2.4.0 TF7000 - TF7810
## Page 727

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector4_UINT elements, in which the element at position n Index is replaced by a Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Element Tc Vn Vector4_UINT [} 165] Element to set at the specified container position Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.6.34 F_VN_Set At_Tc Vn Vector4_USINT F_VN_Set At_Tc Vn Vector4_USINT ↔ a Element Tc Vn Vector4_USINT HRESULT F_VN_Set At_Tc Vn Vector4_USINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Sets the element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Set At_Tc Vn Vector4_USINT : HRESULT VAR_IN_OUT a Element : Tc Vn Vector4_USINT; END_VAR VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with Tc Vn Vector4_USINT elements, in which the element at position n Index is replaced by a Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 727
## Page 728

API reference In/Outputs Name Type Description a Element Tc Vn Vector4_USINT Element to set at the specified container position [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.6.35 F_VN_Set At_UDINT F_VN_Set At_UDINT n Element UDINT HRESULT F_VN_Set At_UDINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Sets the element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Set At_UDINT : HRESULT VAR_INPUT n Element : UDINT; ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description n Element UDINT Element to set at the specified container position ip Container ITc Vn Container [} 374] Container with UDINT elements, in which the element at position n Index is replaced by n Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base 728 Version: 2.4.0 TF7000 - TF7810
## Page 729

API reference System Requirements 6.1.4.4.6.36 F_VN_Set At_UINT F_VN_Set At_UINT n Element UINT HRESULT F_VN_Set At_UINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Sets the element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Set At_UINT : HRESULT VAR_INPUT n Element : UINT; ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description n Element UINT Element to set at the specified container position ip Container ITc Vn Container [} 374] Container with UINT elements, in which the element at position n Index is replaced by n Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.6.37 F_VN_Set At_ULINT F_VN_Set At_ULINT n Element ULINT HRESULT F_VN_Set At_ULINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Sets the element at the specified index of the container. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 729
## Page 730

API reference FUNCTION F_VN_Set At_ULINT : HRESULT VAR_INPUT n Element : ULINT; ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description n Element ULINT Element to set at the specified container position ip Container ITc Vn Container [} 374] Container with ULINT elements, in which the element at position n Index is replaced by n Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.6.38 F_VN_Set At_USINT F_VN_Set At_USINT n Element USINT HRESULT F_VN_Set At_USINT ip Container ITc Vn Container n Index ULINT hr Prev HRESULT Sets the element at the specified index of the container. Syntax Definition: FUNCTION F_VN_Set At_USINT : HRESULT VAR_INPUT n Element : USINT; ip Container : ITc Vn Container; n Index : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description n Element USINT Element to set at the specified container position ip Container ITc Vn Container [} 374] Container with USINT elements, in which the element at position n Index is replaced by n Element n Index ULINT Index hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 730 Version: 2.4.0 TF7000 - TF7810
## Page 731

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.7 F_VN_Advance Iterator F_VN_Advance Iterator ip Iterator ITc Vn Forward Iterator HRESULT F_VN_Advance Iterator n Offset LINT hr Prev HRESULT Advance an iterator by the specified offset. Syntax Definition: FUNCTION F_VN_Advance Iterator : HRESULT VAR_INPUT ip Iterator : ITc Vn Forward Iterator; n Offset : LINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Iterator ITc Vn Forward Iterator Iterator to be advanced [} 365] n Offset LINT Offset, by which ip Iterator is advanced hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Advance Iterator increments or decrements an iterator [} 364] by a certain offset n Offset. If the offset n Offset is always to be 1, the simpler function F_VN_Increment Iterator [} 752] can also be used. Parameter Iterator The parameter ip Iterator is of the type ITc Vn Forward Iterator. Since ITc Vn Bidirectional Iterator and ITc Vn Random Access Iterator inherit from it, these can also be transferred to the function. If a forward iterator is to be decremented, an internal attempt is made to transform it into a bidirectional iterator and to decrement it. TF7000 - TF7810 Version: 2.4.0 731
## Page 732

API reference Offset The offset n Offset defines by how much the iterator ip Iterator is to be incremented or decremented. If n Offset > 0 it is incremented; if n Offset < 0 it is decremented. Related functions • F_VN_Increment Iterator [} 752] • F_VN_Advance Iterator [} 731] Required License TC3 Vision Base System Requirements 6.1.4.4.8 F_VN_Check If Empty F_VN_Check If Empty ip Container ITc Vn Container HRESULT F_VN_Check If Empty hr Prev HRESULT Checks if the container is empty. (Alternatively use interface method . Check If Empty.) Syntax Definition: FUNCTION F_VN_Check If Empty : HRESULT VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.9 F_VN_Check If Iterator Is At End F_VN_Check If Iterator Is At End ip Iterator ITc Vn Forward Iterator HRESULT F_VN_Check If Iterator Is At End hr Prev HRESULT Checks if the iterator points to the past-the-end element. (Alternatively use interface method . Check If End.) 732 Version: 2.4.0 TF7000 - TF7810
## Page 733

API reference Syntax Definition: FUNCTION F_VN_Check If Iterator Is At End : HRESULT VAR_INPUT ip Iterator : ITc Vn Forward Iterator; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Iterator ITc Vn Forward Iterator Iterator [} 365] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.10 F_VN_Convert Container Type F_VN_Convert Container Type ip Src Container ITc Vn Container HRESULT F_VN_Convert Container Type ip Dest Container Reference To ITc Vn Container n Dest Type Guid GUID hr Prev HRESULT Converts a container to another type (Struct element types are not supported). Syntax Definition: FUNCTION F_VN_Convert Container Type : HRESULT VAR_INPUT ip Src Container : ITc Vn Container; ip Dest Container : Reference To ITc Vn Container; n Dest Type Guid : GUID; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Container ITc Vn Container [} 374] Source container ip Dest Containe Reference To Returns the converted container r ITc Vn Container [} 374] n Dest Type Gui GUID Specifies the destination container type for the conversion d hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 733
## Page 734

API reference Return value HRESULT [} 144] Further information The function F_VN_Convert Container Type converts a container into a container type [} 163]that is to be specified. The global Container Type [} 163] constants can be used to determine the container type via the parameter n Type Guid. HRESULT 70E INCOMPATIBLE The same interface pointer is used as the input container and result container, or a container that has specified a different type to that in n Dest Type Guid is used as an interface pointer. Application A typical use case, for example, is the conversion of a container so that it can be drawn in an image. A contour of the type Container Type_Vector_Tc Vn Point2_REAL, as is returned among others by the function F_VN_Locate Ellipse Exp [} 1480], can be converted into the type Container Type_Vector_Tc Vn Point2_DINT in order to be able to draw it in an image using the function F_VN_Draw Contours [} 991]: hr := F_VN_Locate Ellipse Exp(ip Image, st Ellipse, […], ip Contour Points, hr); hr := F_VN_Convert Container Type( ip Src Container := ip Contour Points, ip Dest Container := ip Contour To Draw, n Dest Type Guid := Container Type_Vector_Tc Vn Point2_DINT, hr ); hr := F_VN_Draw Contours(ip Contour To Draw, -1, ip Image Disp, a Blue, 5, hr); Required License TC3 Vision Base System Requirements 6.1.4.4.11 F_VN_Copy Container F_VN_Copy Container ip Src Container ITc Vn Container HRESULT F_VN_Copy Container ip Dest Container Reference To ITc Vn Container hr Prev HRESULT Copys a container. Syntax Definition: FUNCTION F_VN_Copy Container : HRESULT VAR_INPUT ip Src Container : ITc Vn Container; ip Dest Container : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR 734 Version: 2.4.0 TF7000 - TF7810
## Page 735

API reference Inputs Name Type Description ip Src Container ITc Vn Container [} 374] Source container ip Dest Containe Reference To Destination container (same type ID as ip Src Container; Non- r ITc Vn Container [} 374] zero interface pointers are reused.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Copy Container not only copies the interface pointer [} 140] of the container [} 155], it also makes a deep copy of the container. Required License TC3 Vision Base System Requirements 6.1.4.4.12 F_VN_Copy Container Elements Conditional_ITc Vn Container F_VN_Copy Container Elements Conditional_ITc Vn Container ip Src Container ITc Vn Container HRESULT F_VN_Copy Container Elements Conditional_ITc Vn Container ip Dest Container Reference To ITc Vn Container ip Condition FB ITc Vn Custom Element Condition_ITc Vn Container hr Prev HRESULT Copys container elements to a new container, depending on a custom condition. Syntax Definition: FUNCTION F_VN_Copy Container Elements Conditional_ITc Vn Container : HRESULT VAR_INPUT ip Src Container : ITc Vn Container; ip Dest Container : Reference To ITc Vn Container; ip Condition FB : ITc Vn Custom Element Condition_ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Container ITc Vn Container [} 374] Source container ip Dest Containe Reference To Returns a container with elements, that match the condition r ITc Vn Container [} 374] ip Condition FB Custom condition ITc Vn Custom Element Con dition_ITc Vn Container [} 254] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 735
## Page 736

API reference Return value HRESULT [} 144] Further information The function F_VN_Copy Container Elements Conditional filters elements of multi-dimensional containers [} 155]. The filter condition is to be specified by a function block with the interface ITc Vn Custom Element Condition_ITc Vn Container [} 254]. Parameter Input container The input container ip Src Container must be a multi-dimensional container; i.e. the container must contain sub-containers as elements. Thus all containers of the type Container Type_Vector_Vector_<… > can be used. Result container The result container ip Dest Container contains all sub-containers that satisfy the condition in ip Condition FB. Filter condition The filter condition must be defined as the method Condition of a function block. So that this function block can be transferred to the function as the parameter ip Condition FB, it must implement the interface ITc Vn Custom Element Condition_ITc Vn Container [} 254]. Samples • Selections of container elements [} 2734] Related functions • F_VN_Copy Container Elements Conditional_ITc Vn Container [} 735] • F_VN_Copy Container Elements Conditional_ITc Vn Forward Iterator [} 736] Required License TC3 Vision Base System Requirements 6.1.4.4.13 F_VN_Copy Container Elements Conditional_ITc Vn Forward Iterator F_VN_Copy Container Elements Conditional_ITc Vn Forward Iterator ip Src Container ITc Vn Container HRESULT F_VN_Copy Container Elements Conditional_ITc Vn Forward Iterator ip Dest Container Reference To ITc Vn Container ip Condition FB ITc Vn Custom Element Condition_ITc Vn Forward Iterator hr Prev HRESULT Copys container elements to a new container, depending on a custom condition. Syntax Definition: FUNCTION F_VN_Copy Container Elements Conditional_ITc Vn Forward Iterator : HRESULT VAR_INPUT ip Src Container : ITc Vn Container; ip Dest Container : Reference To ITc Vn Container; ip Condition FB : ITc Vn Custom Element Condition_ITc Vn Forward Iterator; hr Prev : HRESULT; END_VAR 736 Version: 2.4.0 TF7000 - TF7810
## Page 737

API reference Inputs Name Type Description ip Src Container ITc Vn Container [} 374] Source container ip Dest Containe Reference To Returns a container with elements, that match the condition r ITc Vn Container [} 374] ip Condition FB Custom condition ITc Vn Custom Element Con dition_ITc Vn Forward Iterat or [} 255] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Copy Container Elements Conditional_ITc Vn Forward Iterator filters elements of multi-dimensional containers [} 155]. The filter condition is to be specified by a function block with the interface ITc Vn Custom Element Condition_ITc Vn Forward Iterator [} 255]. Unlike F_VN_Copy Container Elements Conditional_ITc Vn Container [} 735], sub-containers are not transferred to the conditional method Condition, but iterators, which each point to the first element of the sub- container. Parameter Input container The input container ip Src Container must be a multi-dimensional container; i.e. the container must contain sub-containers as elements. Thus all containers of the type Container Type_Vector_Vector_<… > can be used. Result container The result container ip Dest Container contains all sub-containers that satisfy the condition in ip Condition FB. Filter condition The filter condition must be defined as the method Condition of a function block. So that this function block can be transferred to the function as the parameter ip Condition FB, it must implement the interface ITc Vn Custom Element Condition_ITc Vn Forward Iterator [} 255]. Samples • Selections of container elements [} 2734] Related functions • F_VN_Copy Container Elements Conditional_ITc Vn Container [} 735] • F_VN_Copy Container Elements Conditional_ITc Vn Forward Iterator [} 736] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 737
## Page 738

API reference System Requirements 6.1.4.4.14 F_VN_Create Container F_VN_Create Container ip Container Reference To ITc Vn Container HRESULT F_VN_Create Container n Type Guid GUID n Element Num ULINT hr Prev HRESULT Creates a container with type GUID n Type Guid and return its container interface. Syntax Definition: FUNCTION F_VN_Create Container : HRESULT VAR_INPUT ip Container : Reference To ITc Vn Container; n Type Guid : GUID; n Element Num : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container Reference To Returns the created container ITc Vn Container [} 374] n Type Guid GUID Type GUID of the container to be created n Element Num ULINT Number of elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The global Container Type [} 163] constants can be used to determine the container type via the parameter n Type Guid. Required License TC3 Vision Base System Requirements 6.1.4.4.15 F_VN_Create Container From Array F_VN_Create Container From Array p Data PVOID HRESULT F_VN_Create Container From Array ip Container Reference To ITc Vn Container n Type Guid GUID n Element Num ULINT hr Prev HRESULT Creates a container with type GUID n Type Guid, initialize it with provided data and return its container interface. Only supported for basic container types, i.e. not for containers of containers. 738 Version: 2.4.0 TF7000 - TF7810
## Page 739

API reference Syntax Definition: FUNCTION F_VN_Create Container From Array : HRESULT VAR_INPUT p Data : PVOID; ip Container : Reference To ITc Vn Container; n Type Guid : GUID; n Element Num : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description p Data PVOID Pointer to the data array. Make sure that the array contains at least n Element Num elements and that the array element type matches the container element type. ip Container Reference To Returns the created container ITc Vn Container [} 374] n Type Guid GUID Type GUID of the container to be created n Element Num ULINT Number of elements to copy from p Data hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The global Container Type [} 163] constants can be used to determine the container type via the parameter n Type Guid. Since the array data is only specified via a pointer, a type check within the function is not possible. Therefore, please note the following warning: NOTICE Memory access It must be ensured that the type and length of the container correspond to the size of the memory area at the pointer. Otherwise, this can lead to a system crash or invalid data. Required License TC3 Vision Base System Requirements 6.1.4.4.16 F_VN_Erase From Container F_VN_Erase From Container ip Container ITc Vn Container HRESULT F_VN_Erase From Container n Start Idx ULINT n Count ULINT hr Prev HRESULT Erase elements from a container. TF7000 - TF7810 Version: 2.4.0 739
## Page 740

API reference Syntax Definition: FUNCTION F_VN_Erase From Container : HRESULT VAR_INPUT ip Container : ITc Vn Container; n Start Idx : ULINT; n Count : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container from which to erase elements n Start Idx ULINT Index of the first element to erase n Count ULINT Number of elements to erase hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.17 F_VN_Export Container F_VN_Export Container ip Container ITc Vn Container HRESULT F_VN_Export Container p Buffer PVOID n Buffer Size ULINT hr Prev HRESULT Export the container elements into a buffer (e.g. an array). Only possible for containers with basic elements. Syntax Definition: FUNCTION F_VN_Export Container : HRESULT VAR_INPUT ip Container : ITc Vn Container; p Buffer : PVOID; n Buffer Size : ULINT; hr Prev : HRESULT; END_VAR 740 Version: 2.4.0 TF7000 - TF7810
## Page 741

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements p Buffer PVOID Buffer to store the container elements (Make sure to allocate enough memory! The required size in bytes can be determined using the function F_VN_Export Container Size) n Buffer Size ULINT Size of the buffer memory in bytes hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Export Container exports a container to a data buffer. Make sure that sufficient memory is allocated at the place of the pointer in order to write the container data to it! The required size in bytes can be determined with the function F_VN_Export Container Size [} 743]. You can allocate the memory, for example, by creating an array of the appropriate size. Application The export of a container of the type Vector_REAL with 10 elements looks like this, for example: VAR a Array: ARRAY [0..9] OF REAL; ip Container: ITc Vn Container; n Buffer Size: ULINT; END_VAR hr := F_VN_Export Container Size(ip Container, n Buffer Size, hr); IF n Buffer Size = SIZEOF(a Array) THEN hr := F_VN_Export Container( ip Container:=ip Container, p Buffer:=ADR(a Array), n Buffer Size:=n Buffer Size, hr ); END_IF NOTICE Memory access It must be ensured that the type and length of the container correspond to the size of the memory area at the pointer. Otherwise, this can lead to a system crash or invalid data. Related functions • F_VN_Export Container [} 740] • F_VN_Export Sub Container [} 744] • F_VN_Export Container_String [} 742] • F_VN_Export Sub Container_String [} 745] • F_VN_Export Container Size [} 743] • F_VN_Export Sub Container Size [} 746] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 741
## Page 742

API reference System Requirements 6.1.4.4.18 F_VN_Export Container_String F_VN_Export Container_String ip Container ITc Vn Container HRESULT F_VN_Export Container_String s Text STRING n Max Length ULINT hr Prev HRESULT Export the container elements into a string. Only possible for containers of type Container Type_String_SINT. Syntax Definition: FUNCTION F_VN_Export Container_String : HRESULT VAR_INPUT ip Container : ITc Vn Container; s Text : STRING; n Max Length : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container of type Container Type_String_SINT s Text STRING Make sure to choose a sufficient STRING size! The required size can be determined using the function Vn Export Container Size. n Max Length ULINT Maximum string length to export (including 0 termination). If the container content is longer, the string is cut off at n Max Length - 1 and 0 termination is appended. In this case, S_FALSE is returned. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Related functions • F_VN_Export Container [} 740] • F_VN_Export Sub Container [} 744] • F_VN_Export Container_String [} 742] • F_VN_Export Sub Container_String [} 745] • F_VN_Export Container Size [} 743] • F_VN_Export Sub Container Size [} 746] Required License TC3 Vision Base 742 Version: 2.4.0 TF7000 - TF7810
## Page 743

API reference System Requirements 6.1.4.4.19 F_VN_Export Container Size F_VN_Export Container Size ip Container ITc Vn Container HRESULT F_VN_Export Container Size ↔ n Buffer Size ULINT hr Prev HRESULT Determine the required buffer size in bytes to store all container elements (number_of_Elements * size_per_Element). Only possible for containers with basic elements. Syntax Definition: FUNCTION F_VN_Export Container Size : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT n Buffer Size : ULINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Buffer Size ULINT Output parameter containing the required buffer size Return value HRESULT [} 144] Related functions • F_VN_Export Container [} 740] • F_VN_Export Sub Container [} 744] • F_VN_Export Container_String [} 742] • F_VN_Export Sub Container_String [} 745] • F_VN_Export Container Size [} 743] • F_VN_Export Sub Container Size [} 746] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 743
## Page 744

API reference System Requirements 6.1.4.4.20 F_VN_Export Sub Container F_VN_Export Sub Container ip Container ITc Vn Container HRESULT F_VN_Export Sub Container n Index ULINT p Buffer PVOID n Buffer Size ULINT hr Prev HRESULT Export the container elements of a sub-container into a buffer (e.g. an array). Only possible for 2- dimensional containers with basic elements. Syntax Definition: FUNCTION F_VN_Export Sub Container : HRESULT VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; p Buffer : PVOID; n Buffer Size : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Index ULINT Index of the requested element p Buffer PVOID Buffer to store the container elements (Make sure to allocate enough memory! The required size in bytes can be determined using the function F_VN_Export Sub Container Size) n Buffer Size ULINT Size of the buffer memory in bytes hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Related functions • F_VN_Export Container [} 740] • F_VN_Export Sub Container [} 744] • F_VN_Export Container_String [} 742] • F_VN_Export Sub Container_String [} 745] • F_VN_Export Container Size [} 743] • F_VN_Export Sub Container Size [} 746] Required License TC3 Vision Base 744 Version: 2.4.0 TF7000 - TF7810
## Page 745

API reference System Requirements 6.1.4.4.21 F_VN_Export Sub Container_String F_VN_Export Sub Container_String ip Container ITc Vn Container HRESULT F_VN_Export Sub Container_String n Index ULINT s Text STRING n Max Length ULINT hr Prev HRESULT Export the container elements of a sub-container into a string. Only possible for 2-dimensional containers of type Container Type_Vector_String_SINT. Syntax Definition: FUNCTION F_VN_Export Sub Container_String : HRESULT VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; s Text : STRING; n Max Length : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container of type Container Type_Vector_String_SINT n Index ULINT Index of the requested element s Text STRING Make sure to choose a sufficient STRING size! The required size can be determined using the function Vn Export Sub Container Size. n Max Length ULINT Maximum string length to export (including 0 termination). If the container content is longer, the string is cut off at n Max Length - 1 and 0 termination is appended. In this case, S_FALSE is returned. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Application The function F_VN_Export Sub Container is used, for example, to obtain the result text in the case of Code Reading [} 820]: hr := F_VN_Read Pharma Code(ip Image, ip Decoded Text, hr); IF hr = S_OK THEN hr := F_VN_Export Sub Container_String(ip Decoded Text, 0, s Code As String, 255, hr); // s Code As String contains the result END_IF Related functions • F_VN_Export Container [} 740] • F_VN_Export Sub Container [} 744] TF7000 - TF7810 Version: 2.4.0 745
## Page 746

API reference • F_VN_Export Container_String [} 742] • F_VN_Export Sub Container_String [} 745] • F_VN_Export Container Size [} 743] • F_VN_Export Sub Container Size [} 746] Required License TC3 Vision Base System Requirements 6.1.4.4.22 F_VN_Export Sub Container Size F_VN_Export Sub Container Size ip Container ITc Vn Container HRESULT F_VN_Export Sub Container Size n Index ULINT ↔ n Buffer Size ULINT hr Prev HRESULT Determine the required buffer size in bytes to store all container elements of a sub-container (number_of_Elements * size_per_Element). Only possible for 2-dimensional containers with basic elements. Syntax Definition: FUNCTION F_VN_Export Sub Container Size : HRESULT VAR_INPUT ip Container : ITc Vn Container; n Index : ULINT; END_VAR VAR_IN_OUT n Buffer Size : ULINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container with basic elements n Index ULINT Index of the requested element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Buffer Size ULINT Output parameter containing the required buffer size Return value HRESULT [} 144] Related functions • F_VN_Export Container [} 740] 746 Version: 2.4.0 TF7000 - TF7810
## Page 747

API reference • F_VN_Export Sub Container [} 744] • F_VN_Export Container_String [} 742] • F_VN_Export Sub Container_String [} 745] • F_VN_Export Container Size [} 743] • F_VN_Export Sub Container Size [} 746] Required License TC3 Vision Base System Requirements 6.1.4.4.23 F_VN_Extract Container Range F_VN_Extract Container Range ip Src Container ITc Vn Container HRESULT F_VN_Extract Container Range ip Dest Container Reference To ITc Vn Container n First Idx ULINT n Last Idx ULINT hr Prev HRESULT Copy the specified range of the source container into the destination container. (If the destination container already contains elements, they will be removed.) Syntax Definition: FUNCTION F_VN_Extract Container Range : HRESULT VAR_INPUT ip Src Container : ITc Vn Container; ip Dest Container : Reference To ITc Vn Container; n First Idx : ULINT; n Last Idx : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Container ITc Vn Container [} 374] Source container ip Dest Containe Reference To Destination container r ITc Vn Container [} 374] n First Idx ULINT Index of the first element to copy n Last Idx ULINT Index of the last element to copy hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 747
## Page 748

API reference System Requirements 6.1.4.4.24 F_VN_Get Container F_VN_Get Container ip Iterator ITc Vn Forward Iterator HRESULT F_VN_Get Container ip Container Reference To ITc Vn Container hr Prev HRESULT Gets a pointer to the current element converted into an ITc Vn Container interface and increment its reference counter (only possible for container types). (Alternatively use interface method . Get Container.) Syntax Definition: FUNCTION F_VN_Get Container : HRESULT VAR_INPUT ip Iterator : ITc Vn Forward Iterator; ip Container : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Iterator ITc Vn Forward Iterator Iterator [} 365] ip Container Reference To Returns the container interface ITc Vn Container [} 374] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information Deep copy This function creates a deep copy of the container element. This means that if you wish to change the element in the container, you must write the changes back to the container separately. If you wish to increment the iterator at the same time as accessing the container element, the expert version F_VN_Get Container Exp [} 749] is available for this. Required License TC3 Vision Base 748 Version: 2.4.0 TF7000 - TF7810
## Page 749

API reference System Requirements 6.1.4.4.25 F_VN_Get Container Exp F_VN_Get Container Exp ip Iterator ITc Vn Forward Iterator HRESULT F_VN_Get Container Exp ip Container Reference To ITc Vn Container n Offset DINT hr Prev HRESULT Gets a pointer to the current element converted into an ITc Vn Container interface and increment its reference counter (only possible for container types). Additionally, an offset to increment or decrement the iterator afterwards can be provided. (expert function) Syntax Definition: FUNCTION F_VN_Get Container Exp : HRESULT VAR_INPUT ip Iterator : ITc Vn Forward Iterator; ip Container : Reference To ITc Vn Container; n Offset : DINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Iterator ITc Vn Forward Iterator Iterator [} 365] ip Container Reference To Returns the container interface ITc Vn Container [} 374] n Offset DINT Offset to increment (>0) or decrement (<0) the iterator afterwards hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Get Container Exp is the expert version of F_VN_Get Container [} 748]. It helps you if, at the same time as accessing a container element by means of an iterator, you also wish to increment this iterator. Set the parameter n Offset to the value 1 for a normal, sequential incrementation: hr := F_VN_Get Container Exp(ip Iterator, ip Element, 1, hr); With the standard function you would need two function calls for this: hr := F_VN_Get Container(ip Iterator, ip Element, hr); hr := F_VN_Increment Iterator(ip Iterator, hr); Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 749
## Page 750

API reference System Requirements 6.1.4.4.26 F_VN_Get Forward Iterator F_VN_Get Forward Iterator ip Container ITc Vn Container HRESULT F_VN_Get Forward Iterator ip Iterator Reference To ITc Vn Forward Iterator hr Prev HRESULT Gets a forward iterator for the container. (Alternatively use interface method . Get Forward Iterator.) Syntax Definition: FUNCTION F_VN_Get Forward Iterator : HRESULT VAR_INPUT ip Container : ITc Vn Container; ip Iterator : Reference To ITc Vn Forward Iterator; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container ip Iterator Reference To Returns the iterator interface ITc Vn Forward Iterator [} 365] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.27 F_VN_Get Number Of Elements F_VN_Get Number Of Elements ip Container ITc Vn Container HRESULT F_VN_Get Number Of Elements ↔ n Number Of Elements ULINT hr Prev HRESULT Gets the number of elements in the container. (Alternatively use interface method .get Element Num.) Syntax Definition: FUNCTION F_VN_Get Number Of Elements : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT n Number Of Elements : ULINT; 750 Version: 2.4.0 TF7000 - TF7810
## Page 751

API reference END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Number Of Ele ULINT Returns the number of elements in ip Container ments Return value HRESULT [} 144] Further information This function should not be used to iterate over the elements of a container. Use iterators to access the elements [} 156] instead. In particular, the following code construct is not recommended: hr := F_VN_Get Number Of Elements(ip Container, ip Number, hr); FOR i:=0 TO (ip Number-1) DO // access container elements END_FOR Since ip Number is a UDINT (natural integer), a return value of ip Number = 0 would cause an underflow. Required License TC3 Vision Base System Requirements 6.1.4.4.28 F_VN_Get Random Access Iterator F_VN_Get Random Access Iterator ip Container ITc Vn Container HRESULT F_VN_Get Random Access Iterator ip Iterator Reference To ITc Vn Random Access Iterator hr Prev HRESULT Gets a random access iterator for the container. (Alternatively use interface method . Get Random Access Iterator.) Syntax Definition: FUNCTION F_VN_Get Random Access Iterator : HRESULT VAR_INPUT ip Container : ITc Vn Container; ip Iterator : Reference To ITc Vn Random Access Iterator; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 751
## Page 752

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Container ip Iterator Reference To Returns the iterator interface ITc Vn Random Access Iterat or [} 371] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.29 F_VN_Increment Iterator F_VN_Increment Iterator ip Iterator ITc Vn Forward Iterator HRESULT F_VN_Increment Iterator hr Prev HRESULT Increment the iterator. (Alternatively use interface method . Increment.) Syntax Definition: FUNCTION F_VN_Increment Iterator : HRESULT VAR_INPUT ip Iterator : ITc Vn Forward Iterator; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Iterator ITc Vn Forward Iterator Iterator [} 365] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Increment Iterator increments an iterator [} 364] by one element. If instead of that you wish to decrement the iterator or to increment it by several positions, use the function F_VN_Advance Iterator [} 731]. 752 Version: 2.4.0 TF7000 - TF7810
## Page 753

API reference Parameter Iterator The parameter ip Iterator is of the type ITc Vn Forward Iterator. Since ITc Vn Bidirectional Iterator and ITc Vn Random Access Iterator inherit from it, these can also be transferred to the function. If a forward iterator is to be decremented, an internal attempt is made to transform it into a bidirectional iterator and to decrement it. Related functions • F_VN_Increment Iterator [} 752] • F_VN_Advance Iterator [} 731] Required License TC3 Vision Base System Requirements 6.1.4.4.30 F_VN_Iterator Distance F_VN_Iterator Distance ip Iterator First ITc Vn Forward Iterator HRESULT F_VN_Iterator Distance ip Iterator Last ITc Vn Forward Iterator ↔ n Distance LINT hr Prev HRESULT Computes the distance between 2 iterators. Syntax Definition: FUNCTION F_VN_Iterator Distance : HRESULT VAR_INPUT ip Iterator First : ITc Vn Forward Iterator; ip Iterator Last : ITc Vn Forward Iterator; END_VAR VAR_IN_OUT n Distance : LINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Iterator First ITc Vn Forward Iterator First iterator [} 365] ip Iterator Last ITc Vn Forward Iterator Last iterator [} 365] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Distance LINT Returns the computed distance TF7000 - TF7810 Version: 2.4.0 753
## Page 754

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.31 F_VN_Reserve Container Memory F_VN_Reserve Container Memory ip Container ITc Vn Container HRESULT F_VN_Reserve Container Memory n Elements ULINT hr Prev HRESULT Reserve container memory (call with maximum required number of elements before manually appending elements for better performance) Syntax Definition: FUNCTION F_VN_Reserve Container Memory : HRESULT VAR_INPUT ip Container : ITc Vn Container; n Elements : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container for which to reserve the memory n Elements ULINT Number of elements for which the container should reserve memory hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.32 F_VN_Reverse Container F_VN_Reverse Container ip Container ITc Vn Container HRESULT F_VN_Reverse Container hr Prev HRESULT Reverse the container elements. 754 Version: 2.4.0 TF7000 - TF7810
## Page 755

API reference Syntax Definition: FUNCTION F_VN_Reverse Container : HRESULT VAR_INPUT ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Container to be reversed hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.33 F_VN_Set Container F_VN_Set Container ip Iterator ITc Vn Forward Iterator HRESULT F_VN_Set Container ip Container ITc Vn Container hr Prev HRESULT Sets the current element using an ITc Vn Container interface (only possible for container types). (Alternatively use interface method . Set Container.) Syntax Definition: FUNCTION F_VN_Set Container : HRESULT VAR_INPUT ip Iterator : ITc Vn Forward Iterator; ip Container : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Iterator ITc Vn Forward Iterator Iterator [} 365] ip Container ITc Vn Container [} 374] Container interface of which the content is to be assigned to the current element hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 755
## Page 756

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.4.34 F_VN_Set Iterator To Begin F_VN_Set Iterator To Begin ip Iterator ITc Vn Forward Iterator HRESULT F_VN_Set Iterator To Begin hr Prev HRESULT Sets the iterator to the first element of the container. (Alternatively use interface method . Set To Begin.) Syntax Definition: FUNCTION F_VN_Set Iterator To Begin : HRESULT VAR_INPUT ip Iterator : ITc Vn Forward Iterator; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Iterator ITc Vn Forward Iterator Iterator [} 365] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.5 Basic Image Operations The group contains functions for handling images [} 152]. Functions Creation of images • F_VN_Convert Element Type(Exp) [} 759] • F_VN_Create Associated Image [} 765] • F_VN_Create Empty Image [} 766] • F_VN_Create Image [} 766] 756 Version: 2.4.0 TF7000 - TF7810
## Page 757

API reference • F_VN_Create Image And Set Pixels [} 767] • F_VN_Create Image From Array [} 768] • F_VN_Create NDimensional Image [} 795] • F_VN_Create NDimensional Image And Set Pixels [} 796] • F_VN_Create NDimensional Image From Array [} 797] Image information • F_VN_Get Image Height [} 778] • F_VN_Get Image Info [} 779] • F_VN_Get Image Width [} 780] • F_VN_Get Layout Info [} 798] • F_VN_Get Pixel Format [} 782] Copying images • F_VN_Copy Image [} 760] • F_VN_Copy Image Region [} 761] • F_VN_Copy Image Region To Region [} 763] Pixel manipulation • F_VN_Get Pixel [} 781] • F_VN_Set Pixel [} 786] • F_VN_Set Pixels(Exp) [} 787] Region of Interest • F_VN_Get Roi [} 782] • F_VN_Reset Roi [} 784] • F_VN_Set Roi [} 789] • F_VN_Set Roi_Tc Vn Rectangle_DINT [} 790] • F_VN_Set Roi_Tc Vn Rectangle_UDINT [} 791] Exporting image content to memory area • F_VN_Export Image [} 769] • F_VN_Export Image As Bmp(Exp) [} 770] • F_VN_Export Image Size [} 774] • F_VN_Export Image As Bmp Size(Exp) [} 772] Fusing images • F_VN_Fuse Images [} 774] • F_VN_Fuse Images Array [} 776] Handling image channels • F_VN_Combine Image Channels [} 758] • F_VN_Get Image Channel [} 778] • F_VN_Mix Image Channels [} 784] • F_VN_Set Image Channel [} 785] • F_VN_Split Image Channels [} 792] Displaying images TF7000 - TF7810 Version: 2.4.0 757
## Page 758

API reference • F_VN_Copy Into Displayable Image [} 764] • F_VN_Transform Into Displayable Image(Exp) [} 793] Miscellaneous • F_VN_Pad Image Border [} 798] • F_VN_Reinterpret Unsupported Image [} 800] Samples Basic Image Operations [} 2736] 6.1.4.5.1 F_VN_Combine Image Channels F_VN_Combine Image Channels p Src Images PVOID HRESULT F_VN_Combine Image Channels ip Dest Image Reference To ITc Vn Image n Src Array Size UINT hr Prev HRESULT Combines several single-channel images into one multi-channel image. Syntax Definition: FUNCTION F_VN_Combine Image Channels : HRESULT VAR_INPUT p Src Images : PVOID; ip Dest Image : Reference To ITc Vn Image; n Src Array Size : UINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description p Src Images PVOID Pointer to an array of single-channel source images ip Dest Image Reference To Multi-channel destination image (An appropriate destination ITc Vn Image [} 413] image will be created if required.) n Src Array Size UINT p Src Images array size hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base 758 Version: 2.4.0 TF7000 - TF7810
## Page 759

API reference System Requirements 6.1.4.5.2 F_VN_Convert Element Type F_VN_Convert Element Type ip Src Image ITc Vn Image HRESULT F_VN_Convert Element Type ip Dest Image Reference To ITc Vn Image e Element Type ETc Vn Element Type hr Prev HRESULT Converts an image to another element type. Syntax Definition: FUNCTION F_VN_Convert Element Type : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; e Element Type : ETc Vn Element Type; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) e Element Type ETc Vn Element Type [} 203] Desired element type of the destination image hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.5.3 F_VN_Convert Element Type Exp F_VN_Convert Element Type Exp ip Src Image ITc Vn Image HRESULT F_VN_Convert Element Type Exp ip Dest Image Reference To ITc Vn Image e Element Type ETc Vn Element Type f Scale Factor LREAL f Delta LREAL hr Prev HRESULT Converts an image to another element type. (expert function) Syntax Definition: TF7000 - TF7810 Version: 2.4.0 759
## Page 760

API reference FUNCTION F_VN_Convert Element Type Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; e Element Type : ETc Vn Element Type; f Scale Factor : LREAL; f Delta : LREAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) e Element Type ETc Vn Element Type [} 203] Desired element type of the destination image f Scale Factor LREAL Scale factor for the pixel values f Delta LREAL Value that is added to the scaled pixel values hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.5.4 F_VN_Copy Image F_VN_Copy Image ip Src Image ITc Vn Image HRESULT F_VN_Copy Image ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Creates a deep copy of an image. Syntax Definition: FUNCTION F_VN_Copy Image : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR 760 Version: 2.4.0 TF7000 - TF7810
## Page 761

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Copy Image creates a deep copy of the input image ip Src Image. Alternatively, the function F_VN_Copy Image Region [} 761] can be used to create a copy of an image region. Computing time optimization With regard to computing time optimization, check each image copy for its necessity. Related functions • F_VN_Copy Image [} 760] for copying the entire image • F_VN_Copy Image Region [} 761] for copying an image region • F_VN_Copy Image Region To Region [} 763] for copying an image region to a certain position Required License TC3 Vision Base System Requirements 6.1.4.5.5 F_VN_Copy Image Region F_VN_Copy Image Region ip Src Image ITc Vn Image HRESULT F_VN_Copy Image Region n X UDINT n Y UDINT n Width UDINT n Height UDINT ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Deep copy the specified region of interest into a new image. Syntax Definition: FUNCTION F_VN_Copy Image Region : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; n X : UDINT; n Y : UDINT; n Width : UDINT; n Height : UDINT; TF7000 - TF7810 Version: 2.4.0 761
## Page 762

API reference ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image n X UDINT Left boundary (inclusive 0-based index) n Y UDINT Upper boundary (inclusive 0-based index) n Width UDINT ROI width n Height UDINT ROI height ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Copy Image Region creates a deep copy of an image region of the input image ip Src Image. The image region is specified by a rectangle with position and size, as with an ROI [} 161]. Computing time optimization With regard to computing time optimization, check each image copy for its necessity. If a copy is not required, but instead only the image region is to be reduced in size, a Region of Interest [} 161] can be set instead. Application The copying of an image region of the size [240, 120] with the top left corner at the position [50, 50] looks like this, for example: hr := F_VN_Copy Image Region( ip Src Image := ip Image In, n X := 50, n Y := 50, n Width := 240, n Height := 120, ip Dest Image := ip Image Work, hr Prev := hr, ); Related functions • F_VN_Copy Image [} 760] for copying the entire image • F_VN_Copy Image Region [} 761] for copying an image region • F_VN_Copy Image Region To Region [} 763] for copying an image region to a certain position Required License TC3 Vision Base 762 Version: 2.4.0 TF7000 - TF7810
## Page 763

API reference System Requirements 6.1.4.5.6 F_VN_Copy Image Region To Region F_VN_Copy Image Region To Region ip Src Image ITc Vn Image HRESULT F_VN_Copy Image Region To Region n XSrc UDINT n YSrc UDINT n Width UDINT n Height UDINT ip Dest Image ITc Vn Image n XDest UDINT n YDest UDINT hr Prev HRESULT Copy an image region into another image region. Syntax Definition: FUNCTION F_VN_Copy Image Region To Region : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; n XSrc : UDINT; n YSrc : UDINT; n Width : UDINT; n Height : UDINT; ip Dest Image : ITc Vn Image; n XDest : UDINT; n YDest : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image n XSrc UDINT Left boundary in ip Src Image (inclusive 0-based index) n YSrc UDINT Upper boundary in ip Src Image (inclusive 0-based index) n Width UDINT ROI width n Height UDINT ROI height ip Dest Image ITc Vn Image [} 413] Destination image (same type as ip Src Image) n XDest UDINT Left boundary in ip Dest Image (inclusive 0-based index) n YDest UDINT Upper boundary in ip Dest Image (inclusive 0-based index) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Copy Image Region To Region copies an image region of the input image ip Src Image to a place in the destination image ip Dest Image. The image region is specified by a rectangle with position and size, as with an ROI [} 161]. TF7000 - TF7810 Version: 2.4.0 763
## Page 764

API reference Application The copying of an image area with a size [100, 100] at the position a Position in the top left corner of the result image ip Image Res looks like this, for example: hr := F_VN_Copy Image Region To Region( ip Src Image := ip Image Work, n XSrc := a Position[0], n YSrc := a Position[1], n Width := 100, n Height := 100, ip Dest Image := ip Image Res, n XDest := 0, n YDest := 0, hr Prev := hr ); Samples • Copy image areas [} 2737] Related functions • F_VN_Copy Image [} 760] for copying the entire image • F_VN_Copy Image Region [} 761] for copying an image region • F_VN_Copy Image Region To Region [} 763] for copying an image region to a certain position Required License TC3 Vision Base System Requirements 6.1.4.5.7 F_VN_Copy Into Displayable Image F_VN_Copy Into Displayable Image ip Src Image ITc Vn Image HRESULT F_VN_Copy Into Displayable Image ip Dest Image Reference To ITc Vn Displayable Image hr Prev HRESULT Copys an image into a displayable image. If you do not want to use ip Src Image after this function call, you might want to use F_VN_Transform Into Displayable Image instead for better performance. Syntax Definition: FUNCTION F_VN_Copy Into Displayable Image : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Displayable Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Returns the displayable image ITc Vn Displayable Image [} 413] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 764 Version: 2.4.0 TF7000 - TF7810
## Page 765

API reference Return value HRESULT [} 144] Further information For further details, see Displayable images [} 154]. Related functions • F_VN_Transform Into Displayable Image [} 793] • F_VN_Transform Into Displayable Image Exp [} 794] Required License TC3 Vision Base System Requirements 6.1.4.5.8 F_VN_Create Associated Image F_VN_Create Associated Image ip Src Image ITc Vn Image HRESULT F_VN_Create Associated Image ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Creates a new image that shares its data with the source image. E.g. useful to work on different (disjoint) ROIs in parallel. Syntax Definition: FUNCTION F_VN_Create Associated Image : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Returns the created image (Non-zero interface pointers are ITc Vn Image [} 413] reused.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 765
## Page 766

API reference System Requirements 6.1.4.5.9 F_VN_Create Empty Image F_VN_Create Empty Image ip Image Reference To ITc Vn Image HRESULT F_VN_Create Empty Image hr Prev HRESULT Creates an empty image without allocating any data buffer. The initial reference count is set to one if a new image interface is created and kept, otherwise. Syntax Definition: FUNCTION F_VN_Create Empty Image : HRESULT VAR_INPUT ip Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Image Reference To Returns the created image ITc Vn Image [} 413] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.5.10 F_VN_Create Image F_VN_Create Image ip Image Reference To ITc Vn Image HRESULT F_VN_Create Image n Width UDINT n Height UDINT e Pixel Type ETc Vn Element Type n Channel Num UDINT hr Prev HRESULT Creates an image and allocate an appropriate data buffer. The initial reference count is set to one if a new image interface is created and kept, otherwise. Syntax Definition: FUNCTION F_VN_Create Image : HRESULT VAR_INPUT ip Image : Reference To ITc Vn Image; n Width : UDINT; 766 Version: 2.4.0 TF7000 - TF7810
## Page 767

API reference n Height : UDINT; e Pixel Type : ETc Vn Element Type; n Channel Num : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Image Reference To Returns the created image (Non-zero interface pointers are ITc Vn Image [} 413] reused.) n Width UDINT Image width n Height UDINT Image height e Pixel Type ETc Vn Element Type [} 203] Pixel type n Channel Num UDINT Number of channels (1 to 255) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.5.11 F_VN_Create Image And Set Pixels F_VN_Create Image And Set Pixels ip Image Reference To ITc Vn Image HRESULT F_VN_Create Image And Set Pixels n Width UDINT n Height UDINT e Pixel Type ETc Vn Element Type n Channel Num UDINT ↔ a Value Tc Vn Vector4_LREAL hr Prev HRESULT Creates an image, allocates an appropriate data buffer and sets all pixels to the specified value. The initial reference count is set to one if a new image interface is created and kept, otherwise. Syntax Definition: FUNCTION F_VN_Create Image And Set Pixels : HRESULT VAR_INPUT ip Image : Reference To ITc Vn Image; n Width : UDINT; n Height : UDINT; e Pixel Type : ETc Vn Element Type; n Channel Num : UDINT; END_VAR VAR_IN_OUT a Value : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 767
## Page 768

API reference Inputs Name Type Description ip Image Reference To Returns the created image (Non-zero interface pointers are ITc Vn Image [} 413] reused.) n Width UDINT Image width n Height UDINT Image height e Pixel Type ETc Vn Element Type [} 203] Pixel type n Channel Num UDINT Number of channels (1 to 4) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector4_LREAL Pixel value [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.5.12 F_VN_Create Image From Array F_VN_Create Image From Array p Data PVOID HRESULT F_VN_Create Image From Array ip Image Reference To ITc Vn Image n Width UDINT n Height UDINT e Pixel Type ETc Vn Element Type n Channel Num UDINT hr Prev HRESULT Creates an image and initialize it with the provided data. The initial reference count is set to one if a new image interface is created and kept, otherwise. Syntax Definition: FUNCTION F_VN_Create Image From Array : HRESULT VAR_INPUT p Data : PVOID; ip Image : Reference To ITc Vn Image; n Width : UDINT; n Height : UDINT; e Pixel Type : ETc Vn Element Type; n Channel Num : UDINT; hr Prev : HRESULT; END_VAR 768 Version: 2.4.0 TF7000 - TF7810
## Page 769

API reference Inputs Name Type Description p Data PVOID Pointer to the 1D data array. Make sure that the array contains at least n Width * n Height * n Channel Num elements and that the array element type matches e Pixel Type. ip Image Reference To Returns the created image (Non-zero interface pointers are ITc Vn Image [} 413] reused.) n Width UDINT Image width n Height UDINT Image height e Pixel Type ETc Vn Element Type [} 203] Pixel type n Channel Num UDINT Number of channels (1 to 255) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.5.13 F_VN_Export Image F_VN_Export Image ip Image ITc Vn Image HRESULT F_VN_Export Image p Buffer PVOID n Buffer Size ULINT hr Prev HRESULT Exports the image data into a given buffer (e.g. an array). F_VN_Export Image Size should be called before to get the required buffer size. Syntax Definition: FUNCTION F_VN_Export Image : HRESULT VAR_INPUT ip Image : ITc Vn Image; p Buffer : PVOID; n Buffer Size : ULINT; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 769
## Page 770

API reference Inputs Name Type Description ip Image ITc Vn Image [} 413] Image p Buffer PVOID Pointer to a buffer to store the image data (Make sure to allocate enough memory! The required size in bytes can be determined using the function F_VN_Export Image Size) n Buffer Size ULINT Size of the buffer memory in bytes hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.5.14 F_VN_Export Image As Bmp F_VN_Export Image As Bmp ip Image ITc Vn Image HRESULT F_VN_Export Image As Bmp p Buffer PVOID n Buffer Size ULINT hr Prev HRESULT Exports the image as bitmap into a given buffer (e.g. an array). F_VN_Export Image As Bmp Size should be called before to get the required buffer size. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Export Image As Bmp : HRESULT VAR_INPUT ip Image : ITc Vn Image; p Buffer : PVOID; n Buffer Size : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Image ITc Vn Image [} 413] Image p Buffer PVOID Pointer to a buffer to store the bitmap image (Make sure to allocate enough memory! The required size in bytes can be determined using the function F_VN_Export Image As Bmp Size) n Buffer Size ULINT Size of the buffer memory in bytes hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 770 Version: 2.4.0 TF7000 - TF7810
## Page 771

API reference Return value HRESULT [} 144] Further information Note the conversion properties of the interface ITc Vn Bitmap Export [} 397]. Required License TC3 Vision Base System Requirements 6.1.4.5.15 F_VN_Export Image As Bmp Exp F_VN_Export Image As Bmp Exp ip Image ITc Vn Image HRESULT F_VN_Export Image As Bmp Exp p Buffer PVOID n Buffer Size ULINT n Width UDINT n Height UDINT hr Prev HRESULT Exports the image as bitmap into a given buffer (e.g. an array). F_VN_Export Image As Bmp Size Exp should be called before to get the required buffer size. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Export Image As Bmp Exp : HRESULT VAR_INPUT ip Image : ITc Vn Image; p Buffer : PVOID; n Buffer Size : ULINT; n Width : UDINT; n Height : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Image ITc Vn Image [} 413] Image p Buffer PVOID Pointer to a buffer to store the bitmap image (Make sure to allocate enough memory! The required size in bytes can be determined using the function F_VN_Export Image As Bmp Size Exp) n Buffer Size ULINT Size of the buffer memory in bytes n Width UDINT Desired width (or 0 to keep the original width) n Height UDINT Desired height (or 0 to keep the original height) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 771
## Page 772

API reference Required License TC3 Vision Base System Requirements 6.1.4.5.16 F_VN_Export Image As Bmp Size F_VN_Export Image As Bmp Size ip Image ITc Vn Image HRESULT F_VN_Export Image As Bmp Size ↔ n Buffer Size ULINT hr Prev HRESULT Get the required buffer size (in bytes) to store the image as bitmap. Syntax Definition: FUNCTION F_VN_Export Image As Bmp Size : HRESULT VAR_INPUT ip Image : ITc Vn Image; END_VAR VAR_IN_OUT n Buffer Size : ULINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Image ITc Vn Image [} 413] Image hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Buffer Size ULINT Returns the required buffer size in bytes Return value HRESULT [} 144] Required License TC3 Vision Base 772 Version: 2.4.0 TF7000 - TF7810
## Page 773

API reference System Requirements 6.1.4.5.17 F_VN_Export Image As Bmp Size Exp F_VN_Export Image As Bmp Size Exp ip Image ITc Vn Image HRESULT F_VN_Export Image As Bmp Size Exp ↔ n Buffer Size ULINT n Width UDINT n Height UDINT hr Prev HRESULT Get the required buffer size (in bytes) to store the image as bitmap. (expert function) Syntax Definition: FUNCTION F_VN_Export Image As Bmp Size Exp : HRESULT VAR_INPUT ip Image : ITc Vn Image; END_VAR VAR_IN_OUT n Buffer Size : ULINT; END_VAR VAR_INPUT n Width : UDINT; n Height : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Image ITc Vn Image [} 413] Image n Width UDINT Desired width (or 0 to keep the original width) n Height UDINT Desired height (or 0 to keep the original height) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Buffer Size ULINT Returns the required buffer size in bytes Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 773
## Page 774

API reference System Requirements 6.1.4.5.18 F_VN_Export Image Size F_VN_Export Image Size ip Image ITc Vn Image HRESULT F_VN_Export Image Size ↔ n Buffer Size ULINT hr Prev HRESULT Get the required buffer size (in bytes) to store the image data. Syntax Definition: FUNCTION F_VN_Export Image Size : HRESULT VAR_INPUT ip Image : ITc Vn Image; END_VAR VAR_IN_OUT n Buffer Size : ULINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Image ITc Vn Image [} 413] Image hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Buffer Size ULINT Returns the required buffer size in bytes Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.5.19 F_VN_Fuse Images F_VN_Fuse Images ip Src Image1 ITc Vn Image HRESULT F_VN_Fuse Images ip Src Image2 ITc Vn Image ip Dest Image Reference To ITc Vn Image n First Line UDINT n Num Lines UDINT hr Prev HRESULT Fuse 2 images vertically (intended for line scan cameras). 774 Version: 2.4.0 TF7000 - TF7810
## Page 775

API reference Syntax Definition: FUNCTION F_VN_Fuse Images : HRESULT VAR_INPUT ip Src Image1 : ITc Vn Image; ip Src Image2 : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; n First Line : UDINT; n Num Lines : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image1 ITc Vn Image [} 413] Source image 1 ip Src Image2 ITc Vn Image [} 413] Source image 2 ip Dest Image Reference To Destination image ITc Vn Image [} 413] n First Line UDINT Line index in ip Src Image1, which is the first line in ip Dest Image n Num Lines UDINT The number of lines that should be copied to ip Dest Image, starting with n First Line in ip Src Image1. Once the last line of ip Src Image1 was copied, the remaining lines are copied from ip Src Image2, starting at line index 0. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Fuse Images joins two images to form a new contiguous image. This is of particular interest for line scan cameras. The function F_VN_Fuse Images Array [} 776] can be used to fuse up to 10 images. Application Line scan cameras usually return a given number of successively captured lines as a 2D image. This 2D image can contain an entire object of interest (shown in green in the figure below), or it can contain part of an object (shown in red in the figure). TF7000 - TF7810 Version: 2.4.0 775
## Page 776

API reference To analyze the red object, the function F_VN_Fuse Images can be used to fuse the two object parts to form an complete image. If it is known which lines relate to the object, the linking can be limited to the relevant lines. F_VN_Fuse Images(ip Image1, ip Image2, ip Fused Image, 6, 7, S_OK); Samples • Fusing several images [} 2736] Related functions • F_VN_Fuse Images [} 774] for fusing two images • F_VN_Fuse Images Array [} 776] for fusing up to 10 images Required License TC3 Vision Base System Requirements 6.1.4.5.20 F_VN_Fuse Images Array F_VN_Fuse Images Array ↔ a Src Image Array Tc Vn Array10_ITc Vn Image HRESULT F_VN_Fuse Images Array n Valid Images UDINT ip Dest Image Reference To ITc Vn Image n First Line UDINT n Num Lines UDINT hr Prev HRESULT Fuse up to 10 images vertically (intended for line scan cameras). Syntax Definition: FUNCTION F_VN_Fuse Images Array : HRESULT VAR_IN_OUT a Src Image Array : Tc Vn Array10_ITc Vn Image; END_VAR VAR_INPUT 776 Version: 2.4.0 TF7000 - TF7810
## Page 777

API reference n Valid Images : UDINT; ip Dest Image : Reference To ITc Vn Image; n First Line : UDINT; n Num Lines : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description n Valid Images UDINT Number of valid images in a Src Image Array ip Dest Image Reference To Destination image ITc Vn Image [} 413] n First Line UDINT Line index in ip Src Image1, which is the first line in ip Dest Image n Num Lines UDINT The number of lines that should be copied to ip Dest Image, starting with n First Line in a Src Image Array[0]. Once the last line of a Src Image Array[0] was copied, the remaining lines are copied from a Src Image Array[1] (starting at line index 0) and so on. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Src Image Arra Tc Vn Array10_ITc Vn Image Ten-element source image array (not all elements need to be y filled, n Valid Images specifies the actual amount of images) [} 165] Return value HRESULT [} 144] Further information The function F_VN_Fuse Image Array is a modified version of the function F_VN_Fuse Images [} 774] and can fuse up to 10 images instead of two images. Samples • Fusing several images [} 2736] Related functions • F_VN_Fuse Images [} 774] for fusing two images • F_VN_Fuse Images Array [} 776] for fusing up to 10 images Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 777
## Page 778

API reference System Requirements 6.1.4.5.21 F_VN_Get Image Channel F_VN_Get Image Channel ip Src Image ITc Vn Image HRESULT F_VN_Get Image Channel ip Dest Image Reference To ITc Vn Image n Channel Index UINT hr Prev HRESULT Return the specified source image channel as a single-channel image. Syntax Definition: FUNCTION F_VN_Get Image Channel : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; n Channel Index : UINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate image will be created if ITc Vn Image [} 413] required.) n Channel Index UINT Index of the requested source image channel hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.5.22 F_VN_Get Image Height F_VN_Get Image Height ip Image ITc Vn Image HRESULT F_VN_Get Image Height ↔ n Height UDINT hr Prev HRESULT Return the height of an image. (Alternatively use interface method . Get Height.) Syntax Definition: FUNCTION F_VN_Get Image Height : HRESULT VAR_INPUT ip Image : ITc Vn Image; 778 Version: 2.4.0 TF7000 - TF7810
## Page 779

API reference END_VAR VAR_IN_OUT n Height : UDINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Image ITc Vn Image [} 413] Image hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Height UDINT Return the height of ip Image Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.5.23 F_VN_Get Image Info F_VN_Get Image Info ip Image ITc Vn Image HRESULT F_VN_Get Image Info ↔ st Image Info Tc Vn Image Info hr Prev HRESULT Gets a struct containing all common meta infos of the image. (Alternatively use interface method . Get Image Info.) Syntax Definition: FUNCTION F_VN_Get Image Info : HRESULT VAR_INPUT ip Image : ITc Vn Image; END_VAR VAR_IN_OUT st Image Info : Tc Vn Image Info; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 779
## Page 780

API reference Inputs Name Type Description ip Image ITc Vn Image [} 413] Image hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Image Info Tc Vn Image Info [} 237] Returns a struct describing the image Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.5.24 F_VN_Get Image Width F_VN_Get Image Width ip Image ITc Vn Image HRESULT F_VN_Get Image Width ↔ n Width UDINT hr Prev HRESULT Return the width of an image. (Alternatively use interface method . Get Width.) Syntax Definition: FUNCTION F_VN_Get Image Width : HRESULT VAR_INPUT ip Image : ITc Vn Image; END_VAR VAR_IN_OUT n Width : UDINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Image ITc Vn Image [} 413] Image hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Width UDINT Return the width of ip Image 780 Version: 2.4.0 TF7000 - TF7810
## Page 781

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.5.25 F_VN_Get Pixel F_VN_Get Pixel ip Src Image ITc Vn Image HRESULT F_VN_Get Pixel ↔ a Value Tc Vn Vector4_LREAL n X UDINT n Y UDINT hr Prev HRESULT Gets a specific pixel. Syntax Definition: FUNCTION F_VN_Get Pixel : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR VAR_IN_OUT a Value : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT n X : UDINT; n Y : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image n X UDINT x coordinate of the pixel n Y UDINT y coordinate of the pixel hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector4_LREAL Returns the pixel value (Unused channels are set to 0.) [} 165] Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 781
## Page 782

API reference Required License TC3 Vision Base System Requirements 6.1.4.5.26 F_VN_Get Pixel Format F_VN_Get Pixel Format ip Image ITc Vn Image HRESULT F_VN_Get Pixel Format ↔ st Pixel Format Tc Vn Pixel Format hr Prev HRESULT Gets the pixel format of an image. (Alternatively use interface method . Get Pixel Format.) Syntax Definition: FUNCTION F_VN_Get Pixel Format : HRESULT VAR_INPUT ip Image : ITc Vn Image; END_VAR VAR_IN_OUT st Pixel Format : Tc Vn Pixel Format; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Image ITc Vn Image [} 413] Image hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Pixel Format Tc Vn Pixel Format [} 249] Returns a struct describing the pixel format Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.5.27 F_VN_Get Roi F_VN_Get Roi ip Src Image ITc Vn Image HRESULT F_VN_Get Roi ↔ st Roi Tc Vn Rectangle_UDINT hr Prev HRESULT 782 Version: 2.4.0 TF7000 - TF7810
## Page 783

API reference Gets the coordinates of the region of interest (ROI) within the image. Syntax Definition: FUNCTION F_VN_Get Roi : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR VAR_IN_OUT st Roi : Tc Vn Rectangle_UDINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Roi Tc Vn Rectangle_UDINT Returns the coordinates of the region of interest [} 251] Return value HRESULT [} 144] Further information The function F_VN_Get Roi indicates which Region Of Interest [} 161] is currently set on the input image ip Src Image. The information is required, for example, if points in the image are to be specified in relation to the total image or if the ROI is to be dynamically enlarged. Application The referencing of a point to the coordinates of the original image looks like this, for example: hr := F_VN_Contour Center Of Mass(ip Contour, a Center, hr); hr := F_VN_Get Roi(ip Image Work, st Roi, hr); a Center[0] := a Center[0] + st Roi.n X; a Center[1] := a Center[1] + st Roi.n Y; Related functions • F_VN_Set Roi [} 789] for setting a Region of Interest • F_VN_Get Roi [} 782] for retrieving the set Region of Interest • F_VN_Reset Roi [} 784] for resetting the Region of Interest on the entire image • F_VN_Copy Image Region [} 762] for copying an image region Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 783
## Page 784

API reference System Requirements 6.1.4.5.28 F_VN_Mix Image Channels F_VN_Mix Image Channels ip Src Image ITc Vn Image HRESULT F_VN_Mix Image Channels ip Dest Image Reference To ITc Vn Image ip Indices From To ITc Vn Container hr Prev HRESULT Mix image channels by copying the specified channels of the source image into the specified channels of the destination image. Syntax Definition: FUNCTION F_VN_Mix Image Channels : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; ip Indices From To : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate image will be created if ITc Vn Image [} 413] required.) ip Indices From T ITc Vn Container [} 374] Index pairs (Container Type_Vector_Tc Vn Vector2_DINT), o specifying which source channel (Tc Vn Vector2_DINT [0]) should be copied to which destination channel (Tc Vn Vector2_DINT [1]). hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.5.29 F_VN_Reset Roi F_VN_Reset Roi ip Image ITc Vn Image HRESULT F_VN_Reset Roi hr Prev HRESULT Reset the region of interest (ROI) of an image. (After this operation, the ROI is set to the entire image.) Syntax Definition: 784 Version: 2.4.0 TF7000 - TF7810
## Page 785

API reference FUNCTION F_VN_Reset Roi : HRESULT VAR_INPUT ip Image : ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Image ITc Vn Image [} 413] Image hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Reset Roi resets the Region of Interest [} 161] of an image. After executing the function, the ROI of the image is at the position [0, 0] and has the size [Image Width, Image Height]. Application The resetting of an ROI looks like this, for example: Hr:= F_VN_Reset Roi(ip Image Work, hr); Related functions • F_VN_Set Roi [} 789] for setting a Region of Interest • F_VN_Get Roi [} 782] for retrieving the set Region of Interest • F_VN_Reset Roi [} 784] for resetting the Region of Interest on the entire image • F_VN_Copy Image Region [} 762] for copying an image region Required License TC3 Vision Base System Requirements 6.1.4.5.30 F_VN_Set Image Channel F_VN_Set Image Channel ip Src Image ITc Vn Image HRESULT F_VN_Set Image Channel ip Dest Image Reference To ITc Vn Image n Src Channel Index UINT n Dest Channel Index UINT hr Prev HRESULT Sets the specified destination image channel to the values of the specified source image channel. Syntax Definition: FUNCTION F_VN_Set Image Channel : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; n Src Channel Index : UINT; TF7000 - TF7810 Version: 2.4.0 785
## Page 786

API reference n Dest Channel Index : UINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate image will be created if ITc Vn Image [} 413] required.) n Src Channel In UINT Index of the source image channel dex n Dest Channel I UINT Index of the destination image channel, which will be replaced ndex by the specified source image channel hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.5.31 F_VN_Set Pixel F_VN_Set Pixel ip Src Image ITc Vn Image HRESULT F_VN_Set Pixel ↔ a Value Tc Vn Vector4_LREAL n X UDINT n Y UDINT hr Prev HRESULT Sets a specific pixel. Syntax Definition: FUNCTION F_VN_Set Pixel : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR VAR_IN_OUT a Value : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT n X : UDINT; n Y : UDINT; hr Prev : HRESULT; END_VAR 786 Version: 2.4.0 TF7000 - TF7810
## Page 787

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image n X UDINT x coordinate of the pixel n Y UDINT y coordinate of the pixel hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector4_LREAL The pixel value to set (additional channels are ignored.) [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.5.32 F_VN_Set Pixels F_VN_Set Pixels ip Dest Image ITc Vn Image HRESULT F_VN_Set Pixels ↔ a Value Tc Vn Vector4_LREAL hr Prev HRESULT Sets all pixels of an image to a given value. Syntax Definition: FUNCTION F_VN_Set Pixels : HRESULT VAR_INPUT ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Value : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Dest Image ITc Vn Image [} 413] Destination image hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 787
## Page 788

API reference In/Outputs Name Type Description a Value Tc Vn Vector4_LREAL Pixel value [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.5.33 F_VN_Set Pixels Exp F_VN_Set Pixels Exp ip Dest Image ITc Vn Image HRESULT F_VN_Set Pixels Exp ↔ a Value Tc Vn Vector4_LREAL ip Mask ITc Vn Image hr Prev HRESULT Sets all pixels of an image to a given value. (expert function) Syntax Definition: FUNCTION F_VN_Set Pixels Exp : HRESULT VAR_INPUT ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Value : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT ip Mask : ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Dest Image ITc Vn Image [} 413] Destination image ip Mask ITc Vn Image [} 413] Mask image hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Value Tc Vn Vector4_LREAL Pixel value [} 165] 788 Version: 2.4.0 TF7000 - TF7810
## Page 789

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.5.34 F_VN_Set Roi F_VN_Set Roi n X UDINT HRESULT F_VN_Set Roi n Y UDINT n Width UDINT n Height UDINT ip Dest Image ITc Vn Image hr Prev HRESULT Sets a region of interest (ROI) within an image. Syntax Definition: FUNCTION F_VN_Set Roi : HRESULT VAR_INPUT n X : UDINT; n Y : UDINT; n Width : UDINT; n Height : UDINT; ip Dest Image : ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description n X UDINT Left boundary (inclusive 0-based index) n Y UDINT Upper boundary (inclusive 0-based index) n Width UDINT ROI width n Height UDINT ROI height ip Dest Image ITc Vn Image [} 413] Destination image hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Set Roi sets the Region of Interest [} 161] of an image. The function F_VN_Set Roi_Tc Vn Rectangle_UDINT [} 791] can be used if the rectangle parameters are not to be transferred individually, but as a structure of the type Tc Vn Rectangle_UDINT [} 251]. TF7000 - TF7810 Version: 2.4.0 789
## Page 790

API reference Application The setting of an ROI with the size [240, 120] at the position [50, 50] looks like this, for example: hr := F_VN_Set Roi(50, 50, 240, 120, ip Image Work, hr); Related functions • F_VN_Set Roi [} 789] for setting a Region of Interest • F_VN_Get Roi [} 782] for retrieving the set Region of Interest • F_VN_Reset Roi [} 784] for resetting the Region of Interest on the entire image • F_VN_Copy Image Region [} 762] for copying an image region Required License TC3 Vision Base System Requirements 6.1.4.5.35 F_VN_Set Roi_Tc Vn Rectangle_DINT F_VN_Set Roi_Tc Vn Rectangle_DINT ↔ st Roi Tc Vn Rectangle_DINT HRESULT F_VN_Set Roi_Tc Vn Rectangle_DINT ip Dest Image ITc Vn Image hr Prev HRESULT Sets a region of interest (ROI) within an image. Syntax Definition: FUNCTION F_VN_Set Roi_Tc Vn Rectangle_DINT : HRESULT VAR_IN_OUT st Roi : Tc Vn Rectangle_DINT; END_VAR VAR_INPUT ip Dest Image : ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Dest Image ITc Vn Image [} 413] Destination image hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Roi Tc Vn Rectangle_DINT Region of interest [} 250] Return value HRESULT [} 144] 790 Version: 2.4.0 TF7000 - TF7810
## Page 791

API reference Required License TC3 Vision Base System Requirements 6.1.4.5.36 F_VN_Set Roi_Tc Vn Rectangle_UDINT F_VN_Set Roi_Tc Vn Rectangle_UDINT ↔ st Roi Tc Vn Rectangle_UDINT HRESULT F_VN_Set Roi_Tc Vn Rectangle_UDINT ip Dest Image ITc Vn Image hr Prev HRESULT Sets a region of interest (ROI) within an image. Syntax Definition: FUNCTION F_VN_Set Roi_Tc Vn Rectangle_UDINT : HRESULT VAR_IN_OUT st Roi : Tc Vn Rectangle_UDINT; END_VAR VAR_INPUT ip Dest Image : ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Dest Image ITc Vn Image [} 413] Destination image hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Roi Tc Vn Rectangle_UDINT Region of interest [} 251] Return value HRESULT [} 144] Further information Like the function F_VN_Set Roi [} 789], the function F_VN_Set Roi_Tc Vn Rectangle_UDINT sets a Region of Interest [} 161]. However, it doesn't accept the rectangle parameters individually, but as a structure of the type Tc Vn Rectangle_UDINT [} 251]. This makes it possible, for example, to set the ROI directly with the result of the function F_VN_Upright Bounding Rectangle [} 971]. Application The setting of an ROI around a found contour [} 158] looks like this: hr := F_VN_Upright Bounding Rectangle(ip Contour, st Roi, hr); hr := F_VN_Set Roi_Tc Vn Rectangle_UDINT(st Roi, ip Image Work, hr); TF7000 - TF7810 Version: 2.4.0 791
## Page 792

API reference Related functions • F_VN_Set Roi [} 789] for setting a Region of Interest • F_VN_Get Roi [} 782] for retrieving the set Region of Interest • F_VN_Reset Roi [} 784] for resetting the Region of Interest on the entire image • F_VN_Copy Image Region [} 762] for copying an image region Required License TC3 Vision Base System Requirements 6.1.4.5.37 F_VN_Split Image Channels F_VN_Split Image Channels ip Src Image ITc Vn Image UINT n Image Channels p Dest Images PVOID HRESULT F_VN_Split Image Channels n Array Size UINT hr Prev HRESULT Split a multi-channel image into multiple single channel images (1 for each source image channel). Syntax Definition: FUNCTION F_VN_Split Image Channels : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; p Dest Images : PVOID; n Array Size : UINT; hr Prev : HRESULT; END_VAR VAR_OUTPUT n Image Channels : UINT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image with multiple channels p Dest Images PVOID Pointer to an array of ITc Vn Image (appropriate destination images will be created if required) n Array Size UINT Number of p Dest Images array elements (array must be >= ip Source Image channels) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Outputs Name Type Description n Image Channe UINT Actual source image channels ls Return value HRESULT [} 144] 792 Version: 2.4.0 TF7000 - TF7810
## Page 793

API reference Required License TC3 Vision Base System Requirements 6.1.4.5.38 F_VN_Transform Into Displayable Image F_VN_Transform Into Displayable Image ip Src Image Reference To ITc Vn Image HRESULT F_VN_Transform Into Displayable Image ip Dest Image Reference To ITc Vn Displayable Image hr Prev HRESULT Transform an image into a displayable image. The source image will be released and zeroed while existing destination images will be released and overwritten with the function result. The source image must not be used anywhere else and the transformation is very fast. If you want to use ip Src Image after this function call, use F_VN_Copy Into Displayable Image instead. Syntax Definition: FUNCTION F_VN_Transform Into Displayable Image : HRESULT VAR_INPUT ip Src Image : Reference To ITc Vn Image; ip Dest Image : Reference To ITc Vn Displayable Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image Reference To Source image ITc Vn Image [} 413] ip Dest Image Reference To Returns the displayable image ITc Vn Displayable Image [} 413] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information For further details, see Displayable images [} 154]. NOTICE Use with Ads Communicator object Note the case where the image to be transformed originates from a camera object whose Ads Communicator object is active! It may then be the case that the image is not internally released in the object and therefore cannot be transformed into a displayable image. In this case, use F_VN_Copy Into Displayable Image [} 764] or F_VN_Transform Into Displayable Image Exp [} 794] with b Allow Deep Copy := TRUE. Related functions • F_VN_Copy Into Displayable Image [} 764] • F_VN_Transform Into Displayable Image Exp [} 794] TF7000 - TF7810 Version: 2.4.0 793
## Page 794

API reference Required License TC3 Vision Base System Requirements 6.1.4.5.39 F_VN_Transform Into Displayable Image Exp F_VN_Transform Into Displayable Image Exp ip Src Image Reference To ITc Vn Image HRESULT F_VN_Transform Into Displayable Image Exp ip Dest Image Reference To ITc Vn Displayable Image b Allow Deep Copy BOOL hr Prev HRESULT Transform an image into a displayable image. The source image will be released and zeroed while existing destination images will be released and overwritten with the function result. If b Allow Deep Copy equals false, the source image must not be used anywhere else and the transformation is always very fast. Otherwise, if b Allow Deep Copy equals true, a deep copy of the source image might be created if required, which will result in a longer execution time. If you want to use ip Src Image after this function call, use F_VN_Copy Into Displayable Image instead. (expert function) Syntax Definition: FUNCTION F_VN_Transform Into Displayable Image Exp : HRESULT VAR_INPUT ip Src Image : Reference To ITc Vn Image; ip Dest Image : Reference To ITc Vn Displayable Image; b Allow Deep Copy : BOOL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image Reference To Source image ITc Vn Image [} 413] ip Dest Image Reference To Returns the displayable image ITc Vn Displayable Image [} 413] b Allow Deep Co BOOL Allow deep image copies, if required py hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information For further details, see Displayable images [} 154]. Parameter Permission for deep copy The permission (TRUE) for a deep copy can be given with the parameter b Allow Deep Copy. This is relevant if the image to be transformed originates from a camera object whose Ads Communicator object [} 127] is activated and the image therefore can be internally referenced. 794 Version: 2.4.0 TF7000 - TF7810
## Page 795

API reference The standard version F_VN_Transform Into Displayable Image [} 793] can also be used if no permission is to be given (FALSE). Related functions • F_VN_Copy Into Displayable Image [} 764] • F_VN_Transform Into Displayable Image [} 793] Required License TC3 Vision Base System Requirements 6.1.4.5.40 F_VN_Create NDimensional Image F_VN_Create NDimensional Image ip Image Reference To ITc Vn Image HRESULT F_VN_Create NDimensional Image ↔ a Shape Tc Vn Array33_UDINT e Pixel Type ETc Vn Element Type hr Prev HRESULT Creates an N-dimensional image and allocates an appropriate data buffer. The initial reference count is set to one if a new image interface is created and kept, otherwise. Syntax Definition: FUNCTION F_VN_Create NDimensional Image : HRESULT VAR_INPUT ip Image : Reference To ITc Vn Image; END_VAR VAR_IN_OUT a Shape : Tc Vn Array33_UDINT; END_VAR VAR_INPUT e Pixel Type : ETc Vn Element Type; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Image Reference To Returns the created image (Non-zero interface pointers are ITc Vn Image [} 413] reused.) e Pixel Type ETc Vn Element Type [} 203] Pixel type hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Shape Tc Vn Array33_UDINT Specifies the shape of ip Dest Image. First entry is the number of dimensions of ip Image (max. 32), followed by the sizes of each [} 165] dimension. Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 795
## Page 796

API reference Required License TC3 Vision Base System Requirements 6.1.4.5.41 F_VN_Create NDimensional Image And Set Pixels F_VN_Create NDimensional Image And Set Pixels ip Image Reference To ITc Vn Image HRESULT F_VN_Create NDimensional Image And Set Pixels ↔ a Shape Tc Vn Array33_UDINT e Pixel Type ETc Vn Element Type f Value LREAL hr Prev HRESULT Creates an N-dimensional image, allocates an appropriate data buffer and sets all pixels to the specified value. The initial reference count is set to one if a new image interface is created and kept, otherwise. Syntax Definition: FUNCTION F_VN_Create NDimensional Image And Set Pixels : HRESULT VAR_INPUT ip Image : Reference To ITc Vn Image; END_VAR VAR_IN_OUT a Shape : Tc Vn Array33_UDINT; END_VAR VAR_INPUT e Pixel Type : ETc Vn Element Type; f Value : LREAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Image Reference To Returns the created image (Non-zero interface pointers are ITc Vn Image [} 413] reused.) e Pixel Type ETc Vn Element Type [} 203] Pixel type f Value LREAL Pixel value hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Shape Tc Vn Array33_UDINT Specifies the shape of ip Dest Image. First entry is the number of dimensions of ip Image (max. 32), followed by the sizes of each [} 165] dimension. Return value HRESULT [} 144] Required License TC3 Vision Base 796 Version: 2.4.0 TF7000 - TF7810
## Page 797

API reference System Requirements 6.1.4.5.42 F_VN_Create NDimensional Image From Array F_VN_Create NDimensional Image From Array p Data PVOID HRESULT F_VN_Create NDimensional Image From Array ip Image Reference To ITc Vn Image ↔ a Shape Tc Vn Array33_UDINT e Pixel Type ETc Vn Element Type hr Prev HRESULT Creates an N-dimensional image and initialize it with the provided data. The initial reference count is set to one if a new image interface is created and kept, otherwise. Syntax Definition: FUNCTION F_VN_Create NDimensional Image From Array : HRESULT VAR_INPUT p Data : PVOID; ip Image : Reference To ITc Vn Image; END_VAR VAR_IN_OUT a Shape : Tc Vn Array33_UDINT; END_VAR VAR_INPUT e Pixel Type : ETc Vn Element Type; hr Prev : HRESULT; END_VAR Inputs Name Type Description p Data PVOID Pointer to the 1D data array. Ensure that the array contains at least the number of elements equal to the product of all dimensions in a Shape and that the array element type matches e Pixel Type. ip Image Reference To Returns the created image (Non-zero interface pointers are ITc Vn Image [} 413] reused.) e Pixel Type ETc Vn Element Type [} 203] Pixel type hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Shape Tc Vn Array33_UDINT Specifies the shape of ip Dest Image. First entry is the number of dimensions of ip Image (max. 32), followed by the sizes of each [} 165] dimension. Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 797
## Page 798

API reference System Requirements 6.1.4.5.43 F_VN_Get Layout Info F_VN_Get Layout Info ip Image ITc Vn Image HRESULT F_VN_Get Layout Info ↔ a Layout Info Tc Vn Array33_UDINT hr Prev HRESULT Return the layout information of an image Syntax Definition: FUNCTION F_VN_Get Layout Info : HRESULT VAR_INPUT ip Image : ITc Vn Image; END_VAR VAR_IN_OUT a Layout Info : Tc Vn Array33_UDINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Image ITc Vn Image [} 413] Source image hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Layout Info Tc Vn Array33_UDINT Contains layout information of ip Image. First entry of the a Layout Info is the number of dimensions of ip Image (max. 32), [} 165] followed by the sizes of each dimension. Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.5.44 F_VN_Pad Image Border F_VN_Pad Image Border ip Src Image ITc Vn Image HRESULT F_VN_Pad Image Border ip Padded Image Reference To ITc Vn Image n Top Border UDINT n Bottom Border UDINT n Left Border UDINT n Right Border UDINT hr Prev HRESULT 798 Version: 2.4.0 TF7000 - TF7810
## Page 799

API reference Add padding (zeros) around the original image borders. Syntax Definition: FUNCTION F_VN_Pad Image Border : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Padded Image : Reference To ITc Vn Image; n Top Border : UDINT; n Bottom Border : UDINT; n Left Border : UDINT; n Right Border : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Padded Imag Reference To ITc Vn Image Padded destination image (Same type as ip Src Image, an e appropriate destination image will be created if required.) [} 413] n Top Border UDINT Padding height in pixels above top border n Bottom Border UDINT Padding height in pixels below bottom border n Left Border UDINT Padding width in pixels before left border n Right Border UDINT Padding width in pixels after right border hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.5.45 F_VN_Pad Image Border Exp F_VN_Pad Image Border Exp ip Src Image ITc Vn Image HRESULT F_VN_Pad Image Border Exp ip Padded Image Reference To ITc Vn Image n Top Border UDINT n Bottom Border UDINT n Left Border UDINT n Right Border UDINT e Padding Type ETc Vn Border Interpolation Method ↔ a Padding Value Tc Vn Vector4_LREAL hr Prev HRESULT Add padding around the original image borders. (expert function) Syntax Definition: FUNCTION F_VN_Pad Image Border Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Padded Image : Reference To ITc Vn Image; TF7000 - TF7810 Version: 2.4.0 799
## Page 800

API reference n Top Border : UDINT; n Bottom Border : UDINT; n Left Border : UDINT; n Right Border : UDINT; e Padding Type : ETc Vn Border Interpolation Method; END_VAR VAR_IN_OUT a Padding Value : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Padded Imag Reference To ITc Vn Image Padded destination image (Same type as ip Src Image, an e appropriate destination image will be created if required.) [} 413] n Top Border UDINT Padding height in pixels above top border n Bottom Border UDINT Padding height in pixels below bottom border n Left Border UDINT Padding width in pixels before left border n Right Border UDINT Padding width in pixels after right border e Padding Type ETc Vn Border Interpolation Specifies how the pixel values of the padding area are determined Method [} 169] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Padding Value Tc Vn Vector4_LREAL Specifies the padding value if CONSTANT is used [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.5.46 F_VN_Reinterpret Unsupported Image F_VN_Reinterpret Unsupported Image ip Image ITc Vn Image HRESULT F_VN_Reinterpret Unsupported Image e Pixel Type ETc Vn Element Type hr Prev HRESULT Reinterpret an unsupported image using additional information. If successful, the image will be of a supported type. Syntax Definition: FUNCTION F_VN_Reinterpret Unsupported Image : HRESULT VAR_INPUT ip Image : ITc Vn Image; 800 Version: 2.4.0 TF7000 - TF7810
## Page 801

API reference e Pixel Type : ETc Vn Element Type; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Image ITc Vn Image [} 413] Image to be reinterpreted e Pixel Type ETc Vn Element Type [} 203] Pixel element type to be used for reinterpreting the image data hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.6 Code Quality This group contains functions for quality assessment of various 1D and 2D codes. The assessment is based on international standards. The code quality check is intended to ensure that the corresponding code can be reliably decoded at the time of use. In order to obtain comparable results, the standards define methods for measuring and evaluating specific attributes and for deriving an overall assessment of code quality. The aim is to predict, as far as possible, the expected readability of the codes, using different types of readers, in different applications, environments and under different conditions. A minimum acceptable quality level is therefore usually defined for each individual application. On the one hand, the standards describe requirements that must be met by the systems used in order to obtain usable results. On the other hand, the standards provide recommendations such as illumination, lens settings and geometric structure in order to be able to compare the ratings with other systems. In order to set up a system that conforms to the standard, it is advisable to obtain the relevant quality assessment specifications and the codes to be tested. The functions can also be used with non-standard systems. The only consequence of this is that the quality determined is not comparable with other systems. In general, minor differences in the individual evaluation categories are to be expected for different systems. In accordance with the ISO/IEC 15416:2016 standard, the print quality of barcodes for the code types Code 39, Code 128, EAN 8, EAN 13, ITF, UPC-A, UPC-E can be determined using the following functions: • F_VN_Grade Barcode(Exp) [} 802] In accordance with the ISO/IEC 15415:2011 standard, the print quality of two-dimensional matrix symbols of the ECC200 Data Matrix code and QR code types can be determined using the following functions: • F_VN_Grade Data Matrix Code(Exp) [} 808] • F_VN_Grade QRCode(Exp) [} 814] Interpretation of the HRESULT For the Code Grading functions the HRESULT [} 144] return values are used as follows: TF7000 - TF7810 Version: 2.4.0 801
## Page 802

API reference Code Name Description 16#000 S_OK Function was executed successfully and all evaluations were carried out in accordance with the standard. 16#001 S_FALSE Function was executed successfully, not all scan lines could be decoded for 1D codes and not all checks could be performed according to the standard for 2D codes. The overall score was therefore set to 0, but the individual results can be evaluated. 16#256 S_WATCHDOGTIMEOUT Function was aborted by the watchdog. Individual results can be evaluated depending on the time of termination 16#70C NOTFOUND Function was not executed successfully, no scan line could be decoded for 1D codes and the code was not found or could not be decoded for 2D codes. 16#7xx All error codes Function was not executed successfully. See: ADS Return Codes [} 2864] 6.1.4.6.1 F_VN_Grade Barcode F_VN_Grade Barcode ip Src Image ITc Vn Image REAL f Angle Deg ip Decoded Data Reference To ITc Vn Container HRESULT F_VN_Grade Barcode ↔ st Code Grades Tc Vn Code Grades1D e Barcode Type ETc Vn Barcode Type hr Prev HRESULT Grades a 1D barcode according to ISO / IEC 15416:2016. Requires uniform illumination, good focus and the image sensor plane parallel to the code plane to achieve meaningful results. Syntax Definition: FUNCTION F_VN_Grade Barcode : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Decoded Data : Reference To ITc Vn Container; END_VAR VAR_IN_OUT st Code Grades : Tc Vn Code Grades1D; END_VAR VAR_INPUT e Barcode Type : ETc Vn Barcode Type; hr Prev : HRESULT; END_VAR VAR_OUTPUT f Angle Deg : REAL; END_VAR 802 Version: 2.4.0 TF7000 - TF7810
## Page 803

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image, only containing the horizontally aligned barcode region (USINT, 1 channel, including quiet zones on left and right, excluding Text or empty space on more than 10% total height on top or bottom) ip Decoded Data Reference To Returns the decoded data (Container Type_String_SINT) ITc Vn Container [} 374] e Barcode Type ETc Vn Barcode Type [} 167] Type of the barcode (supported: CODE39, CODE128, EAN8, EAN13, ITF, UPCA, UPCE) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Code Grades Tc Vn Code Grades1D Returns the code grades in the range from 0 (very bad) to 4 (very good) [} 235] Outputs Name Type Description f Angle Deg REAL Returns the approximate clockwise rotation angle in degree Return value HRESULT [} 144] Further information The F_VN_Grade Barcode function determines the print quality of barcodes in accordance with the ISO/IEC 15416:2016 standard. Algorithm The function first searches for horizontally aligned codes and then for vertically aligned codes in the image. Parameter Input image The input image ip Src Image must be an 1-channel image with element type USINT (8 bits). The input image may only contain the code to be checked, including the corresponding quiet zones. The barcode must be aligned horizontally or vertically and must not have any text or blank space more than 10% of the total height above or below it. The quiet zones are located to the left and right of the code when aligned horizontally. To achieve meaningful results, uniform illumination, not underexposed or overexposed, good focusing on the code plane and an image sensor plane aligned parallel to it are required. Furthermore, the image resolution must be high enough to match the line width. For barcodes, the minimum bar width should be covered by at least 3 pixels in order to achieve good results. TF7000 - TF7810 Version: 2.4.0 803
## Page 804

API reference Read data The data read from the code are returned as a string in the container ip Decoded Data. The container is of the type Container Type_String_SINT. Once the code has been successfully found and decoded, the content can be exported to a string using the function F_VN_Export Container_String. hr := F_VN_Export Sub Container_String(ip Decoded Data, s Text, n Max Length, hr); Different decoding results Decoding with the respective reference algorithm can lead to deviating results. It is therefore possible that the code content can be read by other devices or functions, but the reference algorithm fails. Return of the quality assessment The return value st Code Grades of type Tc Vn Code Grades1D contains the determined individual results and an overall total result f Overall. The quality grades ranges from 0 (very poor) to 4 (very good). The results are averaged over several scan lines. Parameter Description f Decode Evaluates whether the code could be decoded with the reference algorithm. f Symbol Contrast Evaluates the global symbol contrast, i.e. the difference between the brightest and darkest value on the entire scan line. f Min Reflectance Evaluates the ratio of the darkest to the brightest value of the scan lines. f Min Edge Contrast Evaluates the minimum local contrast of neighboring elements of the scan lines. f Modulation Evaluates the ratio between the minimum local contrast and the global symbol contrast. f Defects Evaluates irregularities within elements and quiet zones. f Decodability Evaluates how reliably the code can be decoded with the reference algorithm. f Overall The overall score of the code is the lowest score achieved in the individual tests, averaged over all scan lines. If different scan lines lead to different decoded data, the overall score is 0. Barcode type The parameter e Barcode Type defines the barcode type whose print quality is to be assessed. The following barcode types from the enum ETc Vn Barcode Type [} 167] are supported: • TCVN_BT_CODE39 • TCVN_BT_CODE128 • TCVN_BT_EAN8 • TCVN_BT_EAN13 • TCVN_BT_ITF • TCVN_BT_UPCA • TCVN_BT_UPCE Rotation angle (return value) f Angle Deg returns the clockwise rotation angle in 90° steps. Expert parameters The expert variant F_VN_Grade Barcode Exp [} 805] contains additional parameters. 804 Version: 2.4.0 TF7000 - TF7810
## Page 805

API reference Application The print quality of a barcode can be determined in this way, for example: hr := F_VN_Grade Barcode( ip Src Image := ip Src Image, ip Decoded Data := ip Decoded Data, st Code Grades := st Code Grades, e Barcode Type := e Barcode Type, hr Prev := hr, f Angle Deg => f Angle Deg); Required License TC3 Vision Code Quality System Requirements 6.1.4.6.2 F_VN_Grade Barcode Exp F_VN_Grade Barcode Exp ip Src Image ITc Vn Image REAL f Angle Deg ip Decoded Data Reference To ITc Vn Container HRESULT F_VN_Grade Barcode Exp ↔ st Code Grades Tc Vn Code Grades1D e Barcode Type ETc Vn Barcode Type e Search Direction ETc Vn Barcode Search Direction ip Result Visualization Reference To ITc Vn Image ip Scan Line Info Reference To ITc Vn Container ip Contour Reference To ITc Vn Container hr Prev HRESULT Grades a 1D barcode according to ISO / IEC 15416:2016. Requires uniform illumination, good focus and the image sensor plane parallel to the code plane to achieve meaningful results. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Grade Barcode Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Decoded Data : Reference To ITc Vn Container; END_VAR VAR_IN_OUT st Code Grades : Tc Vn Code Grades1D; END_VAR VAR_INPUT e Barcode Type : ETc Vn Barcode Type; e Search Direction : ETc Vn Barcode Search Direction; ip Result Visualization : Reference To ITc Vn Image; ip Scan Line Info : Reference To ITc Vn Container; ip Contour : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR VAR_OUTPUT f Angle Deg : REAL; END_VAR TF7000 - TF7810 Version: 2.4.0 805
## Page 806

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image, only containing the horizontally aligned barcode region (USINT, 1 channel, including quiet zones on left and right, excluding Text or empty space on more than 10% total height on top or bottom) ip Decoded Data Reference To Returns the decoded data (Container Type_String_SINT) ITc Vn Container [} 374] e Barcode Type ETc Vn Barcode Type [} 167] Type of the barcode (supported: CODE39, CODE128, EAN8, EAN13, ITF, UPCA, UPCE) e Search Directi Barcode search direction (BSD_ANY first tries horizontal, then on ETc Vn Barcode Search Direc vertical) tion [} 167] ip Result Visuali Reference To Returns a visualization of the scan lines (optional, set to 0 if not zation ITc Vn Image [} 413] required). Grades are color coded: >= 3 as green, >= 2 as light blue, >= 1 as orange, < 1 as red ip Scan Line Info Reference To Returns additional scan line info for further evaluation, e.g. to ITc Vn Container [} 374] use Plot Intensity Profile for visualization (optional, set to 0 if not required; Container Type_Vector_Tc Vn Vector3_REAL, containing [row index, overall grade, threshold]) ip Contour Reference To Returns the 4 approximate code corner points, including the ITc Vn Container [} 374] quiet zone (optional, set to 0 if not required; Container Type_Vector_Tc Vn Point2_DINT) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Code Grades Tc Vn Code Grades1D Returns the code grades in the range from 0 (very bad) to 4 (very good) [} 235] Outputs Name Type Description f Angle Deg REAL Returns the approximate clockwise rotation angle in degree Return value HRESULT [} 144] Further information The function F_VN_Grade Barcode Exp is an expert variant of F_VN_Grade Barcode [} 802]. It contains additional parameters. Parameter Input image The input image ip Src Image must be an 1-channel image with element type USINT (8 bits). The input image may only contain the code to be checked, including the corresponding quiet zones. The barcode must be aligned horizontally or vertically and must not have any text or blank space more than 10% of the total height above or below it. The quiet zones are located to the left and right of the code when aligned horizontally. 806 Version: 2.4.0 TF7000 - TF7810
## Page 807

API reference To achieve meaningful results, uniform illumination, not underexposed or overexposed, good focusing on the code plane and an image sensor plane aligned parallel to it are required. Furthermore, the image resolution must be high enough to match the line width. For barcodes, the minimum bar width should be covered by at least 3 pixels in order to achieve good results. Read data The data read from the code are returned as a string in the container ip Decoded Data. The container is of the type Container Type_String_SINT. Once the code has been successfully found and decoded, the content can be exported to a string using the function F_VN_Export Container_String. hr := F_VN_Export Sub Container_String(ip Decoded Data, s Text, n Max Length, hr); Different decoding results Decoding with the respective reference algorithm can lead to deviating results. It is therefore possible that the code content can be read by other devices or functions, but the reference algorithm fails. Return of the quality assessment The return value st Code Grades of type Tc Vn Code Grades1D contains the determined individual results and an overall total result f Overall. The quality grades ranges from 0 (very poor) to 4 (very good). The results are averaged over several scan lines. Parameter Description f Decode Evaluates whether the code could be decoded with the reference algorithm. f Symbol Contrast Evaluates the global symbol contrast, i.e. the difference between the brightest and darkest value on the entire scan line. f Min Reflectance Evaluates the ratio of the darkest to the brightest value of the scan lines. f Min Edge Contrast Evaluates the minimum local contrast of neighboring elements of the scan lines. f Modulation Evaluates the ratio between the minimum local contrast and the global symbol contrast. f Defects Evaluates irregularities within elements and quiet zones. f Decodability Evaluates how reliably the code can be decoded with the reference algorithm. f Overall The overall score of the code is the lowest score achieved in the individual tests, averaged over all scan lines. If different scan lines lead to different decoded data, the overall score is 0. Barcode type The parameter e Barcode Type defines the barcode type whose print quality is to be assessed. The following barcode types from the enum ETc Vn Barcode Type [} 167] are supported: • TCVN_BT_CODE39 • TCVN_BT_CODE128 • TCVN_BT_EAN8 • TCVN_BT_EAN13 • TCVN_BT_ITF • TCVN_BT_UPCA • TCVN_BT_UPCE Search direction The search direction can be specified via e Search Direction: TF7000 - TF7810 Version: 2.4.0 807
## Page 808

API reference • With TCVN_BSD_ANY, the search is first carried out in the horizontal direction and then in the vertical direction. • With TCVN_BSD_HORIZONTAL, the search is only carried out in a horizontal direction. • With TCVN_BSD_VERTICAL, the search is only carried out in the vertical direction. Presentation of results ip Result Visualization returns an image with the visualization of the scan lines and the respective evaluation results. The lines are color-coded according to the individual grades: >= 3 as green, >= 2 as light blue, >= 1 as orange, < 1 as red. This parameter is optional and can be set to 0 if it is not required. Scan line information ip Scan Line Info returns additional information about the individual scan lines for a more detailed evaluation. The return values are of the type Container Type_Vector_Tc Vn Vector3_REAL and specify the index of the image row or image column, the total score and the global threshold determined for each scan line, depending on the orientation. The individual lines can be visualized with F_VN_Plot Intensity Profile [} 1029], for example. This parameter is optional and can be set to 0 if it is not required. Position of the code The parameter ip Contour returns the code corner points, including the quiet zone, as four contour points of the type Container Type_Vector_Tc Vn Point2_DINT. The calculation is based only on the scan lines that could be decoded. The contour can be drawn directly with F_VN_Draw Contours [} 991], for example, or further analyzed with the Contour Analysis [} 941] functions. This parameter is optional and can be set to 0 if it is not required. Rotation angle (return value) f Angle Deg returns the clockwise rotation angle in 90° steps. Application The print quality of a barcode can be determined in this way, for example: hr := F_VN_Grade Barcode Exp( ip Src Image := ip Src Image, ip Decoded Data := ip Decoded Data, st Code Grades := st Code Grades, e Barcode Type := e Barcode Type, e Search Direction := e Search Direction, ip Result Visualization := ip Result Visualization, ip Scan Line Info := ip Scan Line Info, ip Contour := ip Contour, hr Prev := hr, f Angle Deg => f Angle Deg); Required License TC3 Vision Code Quality System Requirements 6.1.4.6.3 F_VN_Grade Data Matrix Code F_VN_Grade Data Matrix Code ip Src Image ITc Vn Image REAL f Angle Deg ip Decoded Data Reference To ITc Vn Container HRESULT F_VN_Grade Data Matrix Code ↔ st Code Grades Tc Vn Code Grades DM f Module Width REAL hr Prev HRESULT 808 Version: 2.4.0 TF7000 - TF7810
## Page 809

API reference Grades a Data Matrix code (ECC200) according to ISO / IEC 15415:2011. Requires uniform illumination, good focus and the image sensor plane parallel to the code plane to achieve meaningful results. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Grade Data Matrix Code : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Decoded Data : Reference To ITc Vn Container; END_VAR VAR_IN_OUT st Code Grades : Tc Vn Code Grades DM; END_VAR VAR_INPUT f Module Width : REAL; hr Prev : HRESULT; END_VAR VAR_OUTPUT f Angle Deg : REAL; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image, only containing the Data Matrix code region (USINT, 1 channel, including quiet zone) ip Decoded Data Reference To Returns the decoded data (Container Type_String_SINT) ITc Vn Container [} 374] f Module Width REAL Minimum module width of the code in the image (in pixels). Must be at least 3, preferably 5 - 8. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Code Grades Tc Vn Code Grades DM Returns the code grades in the range from 0 (very bad) to 4 (very good) [} 235] Outputs Name Type Description f Angle Deg REAL Returns the clockwise rotation angle in degree Return value HRESULT [} 144] Further information The function F_VN_Grade Data Matrix Code determines the print quality of ECC200 Data Matrix Codes in accordance with the ISO/IEC 15415:2011 standard. TF7000 - TF7810 Version: 2.4.0 809
## Page 810

API reference Parameter Input image The input image ip Src Image must be an 1-channel image with element type USINT (8 bits). The input image may only contain the code to be checked, including the corresponding quiet zones. To achieve meaningful results, uniform illumination, not underexposed or overexposed, good focusing on the code plane and an image sensor plane aligned parallel to it are required. Furthermore, the image resolution must be high enough for the module size. For 2D codes, the smallest module should be covered with at least 5 pixels in order to achieve good results. Read data The data read from the code are returned as a string in the container ip Decoded Data. The container is of the type Container Type_String_SINT. Once the code has been successfully found and decoded, the content can be exported to a string using the function F_VN_Export Container_String. hr := F_VN_Export Sub Container_String(ip Decoded Data, s Text, n Max Length, hr); Different decoding results Decoding with the respective reference algorithm can lead to deviating results. It is therefore possible that the code content can be read by other devices or functions, but the reference algorithm fails. Return of the quality assessment The return value st Code Grades of type Tc Vn Code Grades DM contains the determined individual results and an overall total result n Overall. The quality grades ranges from 0 (very poor) to 4 (very good). Parameter Description n Decode Evaluates whether the code could be decoded with the reference algorithm. n Symbol Contrast Evaluates the global symbol contrast, i.e. the difference between the brightest and darkest value in the test area. n Modulation Evaluates the uniformity of the dark or bright modules. n Reflectance Margin Evaluates how well each module can be correctly distinguished as bright or dark compared to the global threshold. n Fixed Pattern Damage Evaluates the various fixed code components such as the finder or alignment pattern. n Axial Nonuniformity Evaluates the uniform scaling of the code. n Grid Nonuniformity Evaluates deviations of the code grid. n Unused Error Correction Evaluates the remaining capacity of the error correction. n Overall The overall grade of the code is the lowest grade achieved in the individual examinations. Minimum module width The expected minimum module width of the code in pixels is specified with f Module Width. If the module size in the image differs significantly from this, this can lead to inaccurate or no results and increased computing time. Rotation angle (return value) f Angle Deg returns the clockwise rotation angle in degrees. Expert parameters The expert variant F_VN_Grade Data Matrix Code Exp [} 811] contains additional parameters. 810 Version: 2.4.0 TF7000 - TF7810
## Page 811

API reference Application The print quality of a Data Matrix Code can be determined in this way, for example: hr := F_VN_Grade Data Matrix Code( ip Src Image := ip Src Image, ip Decoded Data := ip Decoded Data, st Code Grades := st Code Grades, f Module Width := f Module Width, hr Prev := hr, f Angle Deg => f Angle Deg); Required License TC3 Vision Code Quality System Requirements 6.1.4.6.4 F_VN_Grade Data Matrix Code Exp F_VN_Grade Data Matrix Code Exp ip Src Image ITc Vn Image REAL f Angle Deg ip Decoded Data Reference To ITc Vn Container HRESULT F_VN_Grade Data Matrix Code Exp ↔ st Code Grades Tc Vn Code Grades DM f Module Width REAL ip Result Visualization Reference To ITc Vn Image ip Margin Grades Reference To ITc Vn Container ip Contour Reference To ITc Vn Container hr Prev HRESULT Grades a Data Matrix code (ECC200) according to ISO / IEC 15415:2011. Requires uniform illumination, good focus and the image sensor plane parallel to the code plane to achieve meaningful results. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Grade Data Matrix Code Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Decoded Data : Reference To ITc Vn Container; END_VAR VAR_IN_OUT st Code Grades : Tc Vn Code Grades DM; END_VAR VAR_INPUT f Module Width : REAL; ip Result Visualization : Reference To ITc Vn Image; ip Margin Grades : Reference To ITc Vn Container; ip Contour : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR VAR_OUTPUT f Angle Deg : REAL; END_VAR TF7000 - TF7810 Version: 2.4.0 811
## Page 812

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image, only containing the Data Matrix code region (USINT, 1 channel, including quiet zone) ip Decoded Data Reference To Returns the decoded data (Container Type_String_SINT) ITc Vn Container [} 374] f Module Width REAL Minimum module width of the code in the image (in pixels). Must be at least 3, preferably 5 - 8. ip Result Visuali Reference To Returns a visualization of the scan grid (optional, set to 0 if not zation ITc Vn Image [} 413] required). Module margin grades are color coded: >= 3 as green, >= 2 as light blue, >= 1 as orange, < 1 as red ip Margin Grade Reference To Returns the individual margin grade for each module, e.g. to s ITc Vn Container [} 374] create a custom visualization (optional, set to 0 if not required; Container Type_Vector_Tc Vn Vector3_REAL, containing [x- position, y-position, grade]) ip Contour Reference To Returns the 4 code corner points, excluding the quiet zone ITc Vn Container [} 374] (optional, set to 0 if not required; Container Type_Vector_Tc Vn Point2_DINT) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Code Grades Tc Vn Code Grades DM Returns the code grades in the range from 0 (very bad) to 4 (very good) [} 235] Outputs Name Type Description f Angle Deg REAL Returns the clockwise rotation angle in degree Return value HRESULT [} 144] Further information The function F_VN_Grade Data Matrix Code Exp is an expert variant of F_VN_Grade Data Matrix Code [} 808]. It contains additional parameters. Parameter Input image The input image ip Src Image must be an 1-channel image with element type USINT (8 bits). The input image may only contain the code to be checked, including the corresponding quiet zones. To achieve meaningful results, uniform illumination, not underexposed or overexposed, good focusing on the code plane and an image sensor plane aligned parallel to it are required. Furthermore, the image resolution must be high enough for the module size. For 2D codes, the smallest module should be covered with at least 5 pixels in order to achieve good results. 812 Version: 2.4.0 TF7000 - TF7810
## Page 813

API reference Read data The data read from the code are returned as a string in the container ip Decoded Data. The container is of the type Container Type_String_SINT. Once the code has been successfully found and decoded, the content can be exported to a string using the function F_VN_Export Container_String. hr := F_VN_Export Sub Container_String(ip Decoded Data, s Text, n Max Length, hr); Different decoding results Decoding with the respective reference algorithm can lead to deviating results. It is therefore possible that the code content can be read by other devices or functions, but the reference algorithm fails. Return of the quality assessment The return value st Code Grades of type Tc Vn Code Grades DM contains the determined individual results and an overall total result n Overall. The quality grades ranges from 0 (very poor) to 4 (very good). Parameter Description n Decode Evaluates whether the code could be decoded with the reference algorithm. n Symbol Contrast Evaluates the global symbol contrast, i.e. the difference between the brightest and darkest value in the test area. n Modulation Evaluates the uniformity of the dark or bright modules. n Reflectance Margin Evaluates how well each module can be correctly distinguished as bright or dark compared to the global threshold. n Fixed Pattern Damage Evaluates the various fixed code components such as the finder or alignment pattern. n Axial Nonuniformity Evaluates the uniform scaling of the code. n Grid Nonuniformity Evaluates deviations of the code grid. n Unused Error Correction Evaluates the remaining capacity of the error correction. n Overall The overall grade of the code is the lowest grade achieved in the individual examinations. Minimum module width The expected minimum module width of the code in pixels is specified with f Module Width. If the module size in the image differs significantly from this, this can lead to inaccurate or no results and increased computing time. Presentation of results ip Result Visualization returns an image with the visualization of the scan grid and the respective evaluation results. The modules are color-coded according to the individual grades: >= 3 as green, >= 2 as light blue, >= 1 as orange, < 1 as red. This parameter is optional and can be set to 0 if it is not required. Margin information ip Margin Grades returns additional information on the individual margin ratings of each module for a more detailed evaluation. The return vector of the type Container Type_Vector_Tc Vn Vector3_REAL contains the X and Y position of the center points and the grade for each module. This parameter is optional and can be set to 0 if it is not required. Position of the code The parameter ip Contour returns the code corner points as four contour points of the type Container Type_Vector_Tc Vn Point2_DINT. The corner points are at the edge of the outer modules. The contour can be drawn directly with F_VN_Draw Contours [} 991], for example, or further analyzed with the Contour Analysis [} 941] functions. This parameter is optional and can be set to 0 if it is not required. TF7000 - TF7810 Version: 2.4.0 813
## Page 814

API reference Rotation angle (return value) f Angle Deg returns the clockwise rotation angle in degrees. Application The print quality of a Data Matrix Code can be determined in this way, for example: hr := F_VN_Grade Data Matrix Code Exp( ip Src Image := ip Src Image, ip Decoded Data := ip Decoded Data, st Code Grades := st Code Grades, f Module Width := f Module Width, ip Result Visualization := ip Result Visualization, ip Margin Grades := ip Margin Grades, ip Contour := ip Contour, hr Prev := hr, f Angle Deg => f Angle Deg); Required License TC3 Vision Code Quality System Requirements 6.1.4.6.5 F_VN_Grade QRCode F_VN_Grade QRCode ip Src Image ITc Vn Image REAL f Angle Deg ip Decoded Data Reference To ITc Vn Container HRESULT F_VN_Grade QRCode ↔ st Code Grades Tc Vn Code Grades QR f Module Width REAL hr Prev HRESULT Grades a QR code according to ISO / IEC 15415:2011. Requires uniform illumination, good focus and the image sensor plane parallel to the code plane to achieve meaningful results. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Grade QRCode : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Decoded Data : Reference To ITc Vn Container; END_VAR VAR_IN_OUT st Code Grades : Tc Vn Code Grades QR; END_VAR VAR_INPUT f Module Width : REAL; hr Prev : HRESULT; END_VAR VAR_OUTPUT f Angle Deg : REAL; END_VAR 814 Version: 2.4.0 TF7000 - TF7810
## Page 815

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image, only containing the QR code region (USINT, 1 channel, including quiet zone) ip Decoded Data Reference To Returns the decoded data (Container Type_String_SINT) ITc Vn Container [} 374] f Module Width REAL Minimum module width of the code in the image (in pixels). Must be at least 3, preferably 5 - 8. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Code Grades Tc Vn Code Grades QR Returns the code grades in the range from 0 (very bad) to 4 (very good) [} 236] Outputs Name Type Description f Angle Deg REAL Returns the clockwise rotation angle in degree Return value HRESULT [} 144] Further information The F_VN_Grade QRCode function determines the print quality of QR codes in accordance with the ISO/IEC 15415:2011 standard. Parameter Input image The input image ip Src Image must be an 1-channel image with element type USINT (8 bits). The input image may only contain the code to be checked, including the corresponding quiet zones. To achieve meaningful results, uniform illumination, not underexposed or overexposed, good focusing on the code plane and an image sensor plane aligned parallel to it are required. Furthermore, the image resolution must be high enough for the module size. For 2D codes, the smallest module should be covered with at least 5 pixels in order to achieve good results. Read data The data read from the code are returned as a string in the container ip Decoded Data. The container is of the type Container Type_String_SINT. Once the code has been successfully found and decoded, the content can be exported to a string using the function F_VN_Export Container_String. hr := F_VN_Export Sub Container_String(ip Decoded Data, s Text, n Max Length, hr); Different decoding results Decoding with the respective reference algorithm can lead to deviating results. It is therefore possible that the code content can be read by other devices or functions, but the reference algorithm fails. TF7000 - TF7810 Version: 2.4.0 815
## Page 816

API reference Return of the quality assessment The return value st Code Grades of type Tc Vn Code Grades QR contains the determined individual results and an overall total result n Overall. The quality grades ranges from 0 (very poor) to 4 (very good). Parameter Description n Decode Evaluates whether the code could be decoded with the reference algorithm. n Symbol Contrast Evaluates the global symbol contrast, i.e. the difference between the brightest and darkest value in the test area. n Modulation Evaluates the uniformity of the dark or bright modules. n Reflectance Margin Evaluates how well each module can be correctly distinguished as bright or dark compared to the global threshold. n Fixed Pattern Damage Evaluates the various fixed code components such as the finder or alignment pattern. n Axial Nonuniformity Evaluates the uniform scaling of the code. n Grid Nonuniformity Evaluates deviations of the code grid. n Unused Error Correction Evaluates the remaining capacity of the error correction. n Format Info Evaluates the format information encoded around the finder pattern. n Version Info Evaluates the version information contained in the code from version 7 onwards. n Overall The overall grade of the code is the lowest grade achieved in the individual examinations. Minimum module width The expected minimum module width of the code in pixels is specified with f Module Width. If the module size in the image differs significantly from this, this can lead to inaccurate or no results and increased computing time. Rotation angle (return value) f Angle Deg returns the clockwise rotation angle in degrees. Expert parameters The expert variant F_VN_Grade QRCode Exp [} 817] contains additional parameters. Application The print quality of a QR code can be determined in this way, for example: hr := F_VN_Grade QRCode( ip Src Image := ip Src Image, ip Decoded Data := ip Decoded Data, st Code Grades := st Code Grades, f Module Width := f Module Width, hr Prev := hr, f Angle Deg => f Angle Deg); Required License TC3 Vision Code Quality 816 Version: 2.4.0 TF7000 - TF7810
## Page 817

API reference System Requirements 6.1.4.6.6 F_VN_Grade QRCode Exp F_VN_Grade QRCode Exp ip Src Image ITc Vn Image REAL f Angle Deg ip Decoded Data Reference To ITc Vn Container HRESULT F_VN_Grade QRCode Exp ↔ st Code Grades Tc Vn Code Grades QR f Module Width REAL ip Result Visualization Reference To ITc Vn Image ip Margin Grades Reference To ITc Vn Container ip Contour Reference To ITc Vn Container hr Prev HRESULT Grades a QR code according to ISO / IEC 15415:2011. Requires uniform illumination, good focus and the image sensor plane parallel to the code plane to achieve meaningful results. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Grade QRCode Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Decoded Data : Reference To ITc Vn Container; END_VAR VAR_IN_OUT st Code Grades : Tc Vn Code Grades QR; END_VAR VAR_INPUT f Module Width : REAL; ip Result Visualization : Reference To ITc Vn Image; ip Margin Grades : Reference To ITc Vn Container; ip Contour : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR VAR_OUTPUT f Angle Deg : REAL; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image, only containing the QR code region (USINT, 1 channel, including quiet zone) ip Decoded Data Reference To Returns the decoded data (Container Type_String_SINT) ITc Vn Container [} 374] f Module Width REAL Minimum module width of the code in the image (in pixels). Must be at least 3, preferably 5 - 8. ip Result Visuali Reference To Returns a visualization of the scan grid (optional, set to 0 if not zation ITc Vn Image [} 413] required). Module margin grades are color coded: >= 3 as green, >= 2 as light blue, >= 1 as orange, < 1 as red ip Margin Grade Reference To Returns the individual margin grade for each module, e.g. to s ITc Vn Container [} 374] create a custom visualization (optional, set to 0 if not required; Container Type_Vector_Tc Vn Vector3_REAL, containing [x- position, y-position, grade]) ip Contour Reference To Returns the 4 code corner points, excluding the quiet zone ITc Vn Container [} 374] (optional, set to 0 if not required; Container Type_Vector_Tc Vn Point2_DINT) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 817
## Page 818

API reference In/Outputs Name Type Description st Code Grades Tc Vn Code Grades QR Returns the code grades in the range from 0 (very bad) to 4 (very good) [} 236] Outputs Name Type Description f Angle Deg REAL Returns the clockwise rotation angle in degree Return value HRESULT [} 144] Further information The function F_VN_Grade QRCode Exp is an expert variant of F_VN_Grade QRCode [} 814]. It contains additional parameters. Parameter Input image The input image ip Src Image must be an 1-channel image with element type USINT (8 bits). The input image may only contain the code to be checked, including the corresponding quiet zones. To achieve meaningful results, uniform illumination, not underexposed or overexposed, good focusing on the code plane and an image sensor plane aligned parallel to it are required. Furthermore, the image resolution must be high enough for the module size. For 2D codes, the smallest module should be covered with at least 5 pixels in order to achieve good results. Read data The data read from the code are returned as a string in the container ip Decoded Data. The container is of the type Container Type_String_SINT. Once the code has been successfully found and decoded, the content can be exported to a string using the function F_VN_Export Container_String. hr := F_VN_Export Sub Container_String(ip Decoded Data, s Text, n Max Length, hr); Different decoding results Decoding with the respective reference algorithm can lead to deviating results. It is therefore possible that the code content can be read by other devices or functions, but the reference algorithm fails. Return of the quality assessment The return value st Code Grades of type Tc Vn Code Grades QR contains the determined individual results and an overall total result n Overall. The quality grades ranges from 0 (very poor) to 4 (very good). 818 Version: 2.4.0 TF7000 - TF7810
## Page 819

API reference Parameter Description n Decode Evaluates whether the code could be decoded with the reference algorithm. n Symbol Contrast Evaluates the global symbol contrast, i.e. the difference between the brightest and darkest value in the test area. n Modulation Evaluates the uniformity of the dark or bright modules. n Reflectance Margin Evaluates how well each module can be correctly distinguished as bright or dark compared to the global threshold. n Fixed Pattern Damage Evaluates the various fixed code components such as the finder or alignment pattern. n Axial Nonuniformity Evaluates the uniform scaling of the code. n Grid Nonuniformity Evaluates deviations of the code grid. n Unused Error Correction Evaluates the remaining capacity of the error correction. n Format Info Evaluates the format information encoded around the finder pattern. n Version Info Evaluates the version information contained in the code from version 7 onwards. n Overall The overall grade of the code is the lowest grade achieved in the individual examinations. Minimum module width The expected minimum module width of the code in pixels is specified with f Module Width. If the module size in the image differs significantly from this, this can lead to inaccurate or no results and increased computing time. Presentation of results ip Result Visualization returns an image with the visualization of the scan grid and the respective evaluation results. The modules are color-coded according to the individual grades: >= 3 as green, >= 2 as light blue, >= 1 as orange, < 1 as red. This parameter is optional and can be set to 0 if it is not required. Margin information ip Margin Grades returns additional information on the individual margin ratings of each module for a more detailed evaluation. The return vector of the type Container Type_Vector_Tc Vn Vector3_REAL contains the X and Y position of the center points and the grade for each module. This parameter is optional and can be set to 0 if it is not required. Position of the code The parameter ip Contour returns the code corner points as four contour points of the type Container Type_Vector_Tc Vn Point2_DINT. The corner points are in the middle of the outer modules. The contour can be drawn directly with F_VN_Draw Contours [} 991], for example, or further analyzed with the Contour Analysis [} 941] functions. This parameter is optional and can be set to 0 if it is not required. Rotation angle (return value) f Angle Deg returns the clockwise rotation angle in degrees. Application The print quality of a QR code can be determined in this way, for example: hr := F_VN_Grade QRCode Exp( ip Src Image := ip Src Image, ip Decoded Data := ip Decoded Data, st Code Grades := st Code Grades, f Module Width := f Module Width, ip Result Visualization := ip Result Visualization, ip Margin Grades := ip Margin Grades, TF7000 - TF7810 Version: 2.4.0 819
## Page 820

API reference ip Contour := ip Contour, hr Prev := hr, f Angle Deg => f Angle Deg); Required License TC3 Vision Code Quality System Requirements 6.1.4.7 Code Reading This group contains functions for detecting and reading 1D and 2D codes. Functions 1D codes • F_VN_Read Barcode(Exp) [} 832] ◦ Coda Bar ◦ Code39 ◦ Code93 ◦ Code128 ◦ EAN8 ◦ EAN13 ◦ ITF ◦ UPCA ◦ UPCE ◦ Code39Extended • F_VN_Read Barcode Roi(Exp) [} 825] ◦ Code39 ◦ Code128 ◦ EAN8 ◦ EAN13 ◦ ITF ◦ UPCA ◦ UPCE • F_VN_Read Pharma Code(Exp) [} 843] 2D codes • F_VN_Read Data Matrix Code(Exp) [} 838] • F_VN_Read Data Matrix Code Roi [} 822] • F_VN_Read QRCode(Exp) [} 848] Code requirements In general, a module size of at least three pixels is required; more than three pixels are recommended for more stable results. The image should be sharp and have a high contrast. In addition, for 1D codes, a code orientation of approx. 0° or 90° is recommended so that the code is parallel to an image axis. Interpretation of the HRESULT For the Code Reading functions the HRESULT [} 144] return values are used as follows: 820 Version: 2.4.0 TF7000 - TF7810
## Page 821

API reference Code Name Description 16#000 S_OK Function was successfully executed and all expected codes were found (at least one code for the standard functions and n Code Number for the expert functions). 16#001 S_FALSE Function was executed successfully, not all scan lines could be decoded for 1D codes and not all checks could be performed according to the standard for 2D codes. The overall score was therefore set to 0, but the individual results can be evaluated. 16#256 S_WATCHDOGTIMEOUT Function was aborted by the watchdog. Some Code Reading functions can return partial results (see individual function descriptions). 16#7xx All error codes Function was not executed successfully. See also: ADS Return Codes [} 2864] Therefore, the usual check with SUCCEEDED() is not sufficient to deduce a found code and thus existing data in ip Decoded Data. The following query can be used for this purpose: IF hr = S_OK THEN // Export Code into String hr := F_VN_Export Sub Container_String(ip Decoded Code, 0, s Code As String, 255, hr); // Use s Code As String ELSIF SUCCEEDED(hr) THEN // Process partial results ELSE // Error handling END_IF Search strategies for 2D codes For 2D codes the search algorithms are applied to different variants of the input image in order to recognize as many codes as possible. Both inversion and mirroring of the image are used to generate various variants. The decision as to which variant is tested is called the search strategy. So that you have greater control over the runtime of the functions, this search strategy can be configured. The ETc Vn2d Code Search Strategy [} 165] enum is available for this purpose. With this you can specify for each possible image transformation (inversion and mirroring) whether it is to be applied and whether the original image or the transformed image should be checked first for codes. The e Search Strategy function parameter defines precisely this search strategy for corresponding code reading expert functions. The tables below show the different combinations: Table 1: Inversion e Search Strategy Original image Inverted image TCVN_CSS_ONLY_NOT_INVERTED 1. - TCVN_CSS_FIRST_NOT_INVERTE 1. 2. D TCVN_CSS_ONLY_INVERTED - 1. TCVN_CSS_FIRST_INVERTED 2. 1. TF7000 - TF7810 Version: 2.4.0 821
## Page 822

API reference Table 2: Mirroring e Search Strategy Original image Mirrored image TCVN_CSS_ONLY_NOT_FLIPPED 1. - TCVN_CSS_FIRST_NOT_FLIPPED 1. 2. TCVN_CSS_ONLY_FLIPPED - 1. TCVN_CSS_FIRST_FLIPPED 2. 1. A search strategy can be defined for each type of transformation. The search strategies of the different search strategies can be linked as follows: e Search Strategy := TCVN_CSS_ONLY_FLIPPED + TCVN_CSS_FIRST_INVERTED; The TCVN_CSS_DEFAULT option can be used to select a default setting that varies depending on the code type. Linking of search strategies not possible The linking of several search strategies for the same transformation type is not permissible. Only one strategy for inversion and one for mirroring can be linked to each other. 6.1.4.7.1 F_VN_Read Data Matrix Code Roi F_VN_Read Data Matrix Code Roi ip Src Image ITc Vn Image REAL f Angle Deg ip Decoded Data Reference To ITc Vn Container HRESULT F_VN_Read Data Matrix Code Roi f Module Width REAL hr Prev HRESULT Detect and interpret a data matrix code (ECC200) within the provided image. The code should be in the image center. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Read Data Matrix Code Roi : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Decoded Data : Reference To ITc Vn Container; f Module Width : REAL; hr Prev : HRESULT; END_VAR VAR_OUTPUT f Angle Deg : REAL; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT elements, 1 channel) ip Decoded Data Reference To Returns the decoded code (Container Type_String_SINT) ITc Vn Container [} 374] f Module Width REAL Minimum module width of the code in the image (in pixels). Must be at least 3, preferably 5 - 8. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Outputs Name Type Description f Angle Deg REAL Returns the clockwise rotation angle in degree 822 Version: 2.4.0 TF7000 - TF7810
## Page 823

API reference Return value HRESULT [} 144] Further information The F_VN_Read Data Matrix Code Roi function is optimized for the detection of a single Data Matrix code (ECC200) within a defined image area. To do this, the function uses a customized algorithm that requires the code to be centered in the transferred image. f Module Width The f Module Width parameter defines the minimum expected module width of the Data Matrix code to be read in pixels. A module corresponds to a black or white square of the code. If the module size in the image differs more from this, this may result in longer calculation time or no result. Required License TC3 Vision Code Reading System Requirements 6.1.4.7.2 F_VN_Read Data Matrix Code Roi Exp F_VN_Read Data Matrix Code Roi Exp ip Src Image ITc Vn Image REAL f Angle Deg ip Decoded Data Reference To ITc Vn Container HRESULT F_VN_Read Data Matrix Code Roi Exp f Module Width REAL ip Contour Reference To ITc Vn Container e Options ULINT n Rows USINT n Cols USINT b Extensive Search BOOL hr Prev HRESULT Detect and interpret a data matrix code (ECC200) within the provided image. The code should be in the image center. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Read Data Matrix Code Roi Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Decoded Data : Reference To ITc Vn Container; f Module Width : REAL; ip Contour : Reference To ITc Vn Container; e Options : ULINT; n Rows : USINT; n Cols : USINT; b Extensive Search : BOOL; hr Prev : HRESULT; END_VAR VAR_OUTPUT f Angle Deg : REAL; END_VAR TF7000 - TF7810 Version: 2.4.0 823
## Page 824

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT elements, 1 channel) ip Decoded Data Reference To Returns the decoded code (Container Type_String_SINT) ITc Vn Container [} 374] f Module Width REAL Minimum module width of the code in the image (in pixels). Must be at least 3, preferably 5 - 8. ip Contour Reference To Returns the contour of the detected code ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Point2_DINT; optional, set to 0 if not required) e Options ULINT Specifies a combination of one or more ETc Vn Data Matrix Options n Rows USINT Specifies the number of code module rows, including the finder and clock pattern, excluding the quiet zone (8 - 144; set to 0 to search for any size) n Cols USINT Specifies the number of code module columns, including the finder and clock pattern, excluding the quiet zone (10 - 144; set to 0 to search for any size) b Extensive Sea BOOL If true, tries different approaches if the specified options fail rch hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Outputs Name Type Description f Angle Deg REAL Returns the clockwise rotation angle in degree Return value HRESULT [} 144] Further information The F_VN_Read Data Matrix Code Roi Exp function is the expert variant of F_VN_Read Data Matrix Code Roi [} 822] and contains additional parameters. ip Contour The ip Contour parameter returns the code corner points as four contour points of the type Container Type_Vector_Tc Vn Point2_DINT. The corner points are at the edge of the outer modules. The contour can be drawn directly with F_VN_Draw Contours [} 991], for example, or further analyzed with the Contour Analysis [} 941] functions. This parameter is optional and can be set to 0 if it is not required. e Options The e Options parameter defines which detection strategies are to be used. There are three groups with mutually exclusive options, of which only one option per group can be selected: 1. Image pre-processing: ◦ TCVN_DMO_BINARY_INPUT ◦ TCVN_DMO_GLOBAL_THRESHOLD 2. Grid detection: ◦ TCVN_DMO_BINARY_GRID ◦ TCVN_DMO_STATIC_GRID 3. Code color mode: 824 Version: 2.4.0 TF7000 - TF7810
## Page 825

API reference ◦ TCVN_DMO_REGULAR_COLOR ◦ TCVN_DMO_INVERTED_COLOR Each group can be configured individually, e.g. TCVN_DMO_GLOBAL_THRESHOLD OR TCVN_DMO_STATIC_GRID OR TCVN_DMO_REGULAR_COLOR. Invalid combinations such as TCVN_DMO_BINARY_GRID OR TCVN_DMO_STATIC_GRID lead to the error ADS_E_INVALIDPARM. The default setting TCVN_DMO_DEFAULT uses an adaptive local threshold, a dynamic grid (based on a grayscale image) and detects both color modes. To optimize the computing time, it is recommended to always specify the colour mode explicitly. A description of the recognition strategies can be found under ETc Vn Data Matrix Options [} 229]. n Rows and n Cols The parameters n Rows and n Cols fix the expected number of modules in the vertical (height) or horizontal (width) direction, based on a non-rotated code with the corner point of the L-pattern at the bottom left. Both the finder pattern and the clock pattern of the Data Matrix code must be included in the count. It is recommended that you always set these values in order to reduce the maximum computing time required. b Extensive Search The b Extensive Search parameter activates an advanced search routine that automatically applies alternative decoding strategies if the initial analysis fails. Required License TC3 Vision Code Reading System Requirements 6.1.4.7.3 F_VN_Read Barcode Roi F_VN_Read Barcode Roi ip Src Image ITc Vn Image REAL f Angle Deg ip Decoded Data Reference To ITc Vn Container HRESULT F_VN_Read Barcode Roi e Barcode Type ETc Vn Barcode Type hr Prev HRESULT Detect and interpret a 1d barcode within the provided image. For best performance, the code should be horizontally aligned and in the image center. Syntax Definition: FUNCTION F_VN_Read Barcode Roi : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Decoded Data : Reference To ITc Vn Container; e Barcode Type : ETc Vn Barcode Type; hr Prev : HRESULT; END_VAR VAR_OUTPUT f Angle Deg : REAL; END_VAR TF7000 - TF7810 Version: 2.4.0 825
## Page 826

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT, 1 channel) ip Decoded Data Reference To Returns the decoded data (Container Type_String_SINT) ITc Vn Container [} 374] e Barcode Type ETc Vn Barcode Type [} 167] Type of the barcode (supported: CODE39, CODE128, EAN8, EAN13, ITF, UPCA, UPCE) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Outputs Name Type Description f Angle Deg REAL Returns the approximate clockwise rotation angle in degree Return value HRESULT [} 144] Further information The F_VN_Read Barcode Roi function is optimized for the detection of a single barcode within a defined image area (ROI). Algorithm To do this, the function uses a customized algorithm that requires the code to be centered in the transferred image. The function first searches for horizontally aligned codes and then for vertically aligned codes in the image. Parameter Input image The ip Src Image input image must be an 1-channel image with USINT element type (8 bits). The code must be aligned horizontally or vertically in the center of the image. Read data The data read from the code are returned as a string in the ip Decoded Data container. The container is of the type Container Type_String_SINT. Once the code has been successfully found and decoded, the content can be exported to a string using the F_VN_Export Container_String [} 742] function. hr := F_VN_Export Container_String(ip Decoded Data, s Text, n Max Length, hr); Barcode type The e Barcode Type parameter defines the barcode type to be read. Only one barcode type can be transferred per function call. The following barcode types from the ETc Vn Barcode Type [} 167] enum are supported: • TCVN_BT_CODE39 • TCVN_BT_CODE128 • TCVN_BT_EAN8 • TCVN_BT_EAN13 • TCVN_BT_ITF • TCVN_BT_UPCA • TCVN_BT_UPCE 826 Version: 2.4.0 TF7000 - TF7810
## Page 827

API reference Rotation angle (Return value) The f Angle Deg return value returns the clockwise rotation angle in 90° steps. Expert parameters The expert version F_VN_Read Barcode Roi Exp [} 827] contains additional parameters. Samples • EAN-13 Barcode Reading [} 2739] • Result evaluation during Code Reading [} 2747] Related functions • F_VN_Grade Barcode [} 802] • F_VN_Grade Data Matrix Code [} 808] • F_VN_Grade QRCode [} 814] • F_VN_Read Barcode [} 830] • F_VN_Read Barcode Roi [} 825] • F_VN_Read Pharma Code [} 841] • F_VN_Read Data Matrix Code [} 836] • F_VN_Read Data Matrix Code Roi [} 822] • F_VN_Read QRCode [} 846] Required License TC3 Vision Code Reading System Requirements 6.1.4.7.4 F_VN_Read Barcode Roi Exp F_VN_Read Barcode Roi Exp ip Src Image ITc Vn Image REAL f Angle Deg ip Decoded Data Reference To ITc Vn Container HRESULT F_VN_Read Barcode Roi Exp e Barcode Type ETc Vn Barcode Type e Search Direction ETc Vn Barcode Search Direction ip Contour Reference To ITc Vn Container n Max Scans DINT hr Prev HRESULT Detect and interpret a 1d barcode within the provided image. For best performance, the code should be horizontally aligned and in the image center. (expert function) Syntax Definition: FUNCTION F_VN_Read Barcode Roi Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Decoded Data : Reference To ITc Vn Container; e Barcode Type : ETc Vn Barcode Type; e Search Direction : ETc Vn Barcode Search Direction; ip Contour : Reference To ITc Vn Container; n Max Scans : DINT; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 827
## Page 828

API reference VAR_OUTPUT f Angle Deg : REAL; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT, 1 channel) ip Decoded Data Reference To Returns the decoded data (Container Type_String_SINT) ITc Vn Container [} 374] e Barcode Type ETc Vn Barcode Type [} 167] Type of the barcode (supported: CODE39, CODE128, EAN8, EAN13, ITF, UPCA, UPCE) e Search Directi Barcode search direction (BSD_ANY first tries horizontal, then on ETc Vn Barcode Search Direc vertical) tion [} 167] ip Contour Reference To Returns 4 approximate code corner points, including the quiet ITc Vn Container [} 374] zone. The width is accurate, but the actual height is not measured for performance reasons. Instead, it is statically set to 10% of the width, centered around the scan line that was decoded. (optional, set to 0 if not required; Container Type_Vector_Tc Vn Point2_DINT) n Max Scans DINT Maximum number of scan lines that are evaluated to find the barcode. The scan always starts at the image center and then alternates up- and downwards with increasing distance, using steps of (ip Src Image height / n Max Scans). hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Outputs Name Type Description f Angle Deg REAL Returns the approximate clockwise rotation angle in degree Return value HRESULT [} 144] Further information The F_VN_Read Barcode Roi Exp function is the expert version of F_VN_Read Barcode Roi [} 825]. It contains additional parameters. Parameter Input image The ip Src Image input image must be an 1-channel image with USINT element type (8 bits). The code must be aligned horizontally or vertically in the center of the image. Read data The data read from the code are returned as a string in the ip Decoded Data container. The container is of the type Container Type_String_SINT. Once the code has been successfully found and decoded, the content can be exported to a string using the F_VN_Export Container_String [} 742] function. hr := F_VN_Export Container_String(ip Decoded Data, s Text, n Max Length, hr); 828 Version: 2.4.0 TF7000 - TF7810
## Page 829

API reference Barcode type The e Barcode Type parameter defines the barcode type to be read. Only one barcode type can be transferred per function call. The following barcode types from the ETc Vn Barcode Type [} 167] enum are supported: • TCVN_BT_CODE39 • TCVN_BT_CODE128 • TCVN_BT_EAN8 • TCVN_BT_EAN13 • TCVN_BT_ITF • TCVN_BT_UPCA • TCVN_BT_UPCE Search direction The search direction can be specified via e Search Direction: • With TCVN_BSD_ANY, the search is first carried out in the horizontal direction and then in the vertical direction. • With TCVN_BSD_HORIZONTAL, the search is only carried out in a horizontal direction. • With TCVN_BSD_VERTICAL, the search is only carried out in the vertical direction. Position of the code The ip Contour parameter returns the code corner points, including the quiet zone, as four contour points of the type Container Type_Vector_Tc Vn Point2_DINT. The position is based on the first scan line that could be decoded. The height is set statically to 10% of the width and centered around the scan line. The contour can be drawn directly with F_VN_Draw Contours [} 991], for example, or further analyzed with the Contour Analysis [} 941] functions. This parameter is optional and can be set to 0 if it is not required. Maximum number of scan lines The maximum number of scan lines that are evaluated to find the barcode is defined with n Max Scans. The scan always starts in the center of the image and then moves up and down in steps of ip Src Image height / n Max Scans as the distance increases. Rotation angle (Return value) The f Angle Deg return value returns the clockwise rotation angle in 90° steps. Samples • EAN-13 Barcode Reading [} 2739] • Result evaluation during Code Reading [} 2747] Related functions • F_VN_Grade Barcode [} 802] • F_VN_Grade Data Matrix Code [} 808] • F_VN_Grade QRCode [} 814] • F_VN_Read Barcode [} 830] • F_VN_Read Barcode Roi [} 825] • F_VN_Read Pharma Code [} 841] • F_VN_Read Data Matrix Code [} 836] • F_VN_Read Data Matrix Code Roi [} 822] TF7000 - TF7810 Version: 2.4.0 829
## Page 830

API reference • F_VN_Read QRCode [} 846] Required License TC3 Vision Code Reading System Requirements 6.1.4.7.5 F_VN_Read Barcode F_VN_Read Barcode ip Src Image ITc Vn Image HRESULT F_VN_Read Barcode ip Decoded Data Reference To ITc Vn Container e Barcode Type UDINT hr Prev HRESULT Detect and interpret a 1d barcode within the provided image. Can be canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Read Barcode : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Decoded Data : Reference To ITc Vn Container; e Barcode Type : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT elements, 1 channel or 3 channel (3 channel input is expected to be RGB and internally converted to Gray)) ip Decoded Data Reference To Returns the decoded code ITc Vn Container [} 374] (Container Type_Vector_String_SINT) e Barcode Type UDINT Types of barcode to search for (ETc Vn Barcode Type) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Read Barcode detects a barcode in the image and reads it. Algorithm The function first searches for horizontally aligned codes and then for vertically aligned codes in the image. Parameter Input image The input image ip Src Image must be a 1-channel or 3-channel image with the element type USINT (8-bit). 3-channel images will be interpreted as RGB and converted internally into grayscale images. 830 Version: 2.4.0 TF7000 - TF7810
## Page 831

API reference Read data The data read from the code are returned as a string in the container ip Decoded Data. The container is of the type Container Type_Vector_String_SINT. Barcode type The parameter e Barcode Type defines the barcode types to be searched for in the image. All barcode types in the enum ETc Vn Barcode Type [} 167] are supported. It is possible to select more than one type. It is recommended to restrict the selection to the types actually occurring in the end application in order to improve the runtime. e Barcode Type := TCVN_BT_EAN13 + TCVN_BT_CODE128; Use TCVN_BT_ANY to search for all available barcode types. Expert parameters The expert version F_VN_Read Barcode Exp [} 832] contains additional parameters. Read data from container If the code was successfully found and decoded, the code content is returned in the container ip Decoded Data and can be exported to a string using the function F_VN_Export Sub Container_String [} 745]. hr := F_VN_Export Sub Container_String( ip Decoded Data, 0, s Text, n Max Length, hr); Samples • EAN-13 Barcode Reading [} 2739] • Result evaluation during Code Reading [} 2747] Related functions • F_VN_Grade Barcode [} 802] • F_VN_Grade Data Matrix Code [} 808] • F_VN_Grade QRCode [} 814] • F_VN_Read Barcode [} 830] • F_VN_Read Barcode Roi [} 825] • F_VN_Read Pharma Code [} 841] • F_VN_Read Data Matrix Code [} 836] • F_VN_Read Data Matrix Code Roi [} 822] • F_VN_Read QRCode [} 846] Required License TC3 Vision Code Reading TF7000 - TF7810 Version: 2.4.0 831
## Page 832

API reference System Requirements 6.1.4.7.6 F_VN_Read Barcode Exp F_VN_Read Barcode Exp ip Src Image ITc Vn Image HRESULT F_VN_Read Barcode Exp ip Decoded Data Reference To ITc Vn Container ip Contours Reference To ITc Vn Container e Barcode Type UDINT n Code Number DINT e Search Direction ETc Vn Barcode Search Direction hr Prev HRESULT Detect and interpret a 1d barcode within the provided image. Can be canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Read Barcode Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Decoded Data : Reference To ITc Vn Container; ip Contours : Reference To ITc Vn Container; e Barcode Type : UDINT; n Code Number : DINT; e Search Direction : ETc Vn Barcode Search Direction; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT elements, 1 channel or 3 channel (3 channel input is expected to be RGB and internally converted to Gray)) ip Decoded Data Reference To Returns the decoded code ITc Vn Container [} 374] (Container Type_Vector_String_SINT) ip Contours Reference To Returns the code positions as contours (optional, set to 0 if not ITc Vn Container [} 374] required; Container Type_Vector_Vector_Tc Vn Point2_DINT) e Barcode Type UDINT Types of barcode to search for (ETc Vn Barcode Type) n Code Number DINT Number of 1d barcode that should be detected within the provided image (currently only 1 supported). e Search Directi Barcode search direction. on ETc Vn Barcode Search Direc tion [} 167] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Read Barcode Exp is the expert version of F_VN_Read Barcode [} 830]. It contains additional parameters for returning the code position and for setting the search direction. 832 Version: 2.4.0 TF7000 - TF7810
## Page 833

API reference Parameter Input image The input image ip Src Image must be a 1-channel or 3-channel image with the element type USINT (8-bit). 3-channel images will be interpreted as RGB and converted internally into grayscale images. Read data The data read from the code are returned as a string in the container ip Decoded Data. The container is of the type Container Type_Vector_String_SINT. Barcode type The parameter e Barcode Type defines the barcode types to be searched for in the image. All barcode types in the enum ETc Vn Barcode Type [} 167] are supported. It is possible to select more than one type. It is recommended to restrict the selection to the types actually occurring in the end application in order to improve the runtime. e Barcode Type := TCVN_BT_EAN13 + TCVN_BT_CODE128; Use TCVN_BT_ANY to search for all available barcode types. Position of the code The parameter ip Contour returns the code position that is found as a contour. Number of codes The parameter n Code Number defines how many codes to search for. Search for more than one barcode not supported Searching for several barcodes in one image is currently not supported. The parameter n Code Number therefore has to be set to 1. Search direction The search direction can be specified via e Search Direction: • TCVN_BSD_ANY first searches in horizontal direction, then in vertical direction. • TCVN_BSD_HORIZONTAL only searches in horizontal direction. • TCVN_BSD_VERTICAL only searches in vertical direction. Samples • EAN-13 Barcode Reading [} 2739] • Result evaluation during Code Reading [} 2747] Related functions • F_VN_Grade Barcode [} 802] • F_VN_Grade Data Matrix Code [} 808] • F_VN_Grade QRCode [} 814] • F_VN_Read Barcode [} 830] • F_VN_Read Barcode Roi [} 825] • F_VN_Read Pharma Code [} 841] • F_VN_Read Data Matrix Code [} 836] • F_VN_Read Data Matrix Code Roi [} 822] TF7000 - TF7810 Version: 2.4.0 833
## Page 834

API reference • F_VN_Read QRCode [} 846] Required License TC3 Vision Code Reading System Requirements 6.1.4.7.7 F_VN_Read Barcode Exp2 F_VN_Read Barcode Exp2 ip Src Image ITc Vn Image HRESULT F_VN_Read Barcode Exp2 ip Decoded Data Reference To ITc Vn Container ip Contours Reference To ITc Vn Container e Barcode Type UDINT n Code Number DINT e Search Direction ETc Vn Barcode Search Direction ip Angles Reference To ITc Vn Container hr Prev HRESULT Detect and interpret a 1d barcode within the provided image. Can be canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Read Barcode Exp2 : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Decoded Data : Reference To ITc Vn Container; ip Contours : Reference To ITc Vn Container; e Barcode Type : UDINT; n Code Number : DINT; e Search Direction : ETc Vn Barcode Search Direction; ip Angles : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT elements, 1 channel or 3 channel (3 channel input is expected to be RGB and internally converted to Gray)) ip Decoded Data Reference To Returns the decoded code ITc Vn Container [} 374] (Container Type_Vector_String_SINT) ip Contours Reference To Returns the code positions as contours (optional, set to 0 if not ITc Vn Container [} 374] required; Container Type_Vector_Vector_Tc Vn Point2_DINT) e Barcode Type UDINT Types of barcode to search for (ETc Vn Barcode Type) n Code Number DINT Number of 1d barcode that should be detected within the provided image (currently only 1 supported). e Search Directi Barcode search direction. on ETc Vn Barcode Search Direc tion [} 167] ip Angles Reference To Returns the clockwise code rotation angles (optional, set to 0 if ITc Vn Container [} 374] not required; Container Type_Vector_REAL) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 834 Version: 2.4.0 TF7000 - TF7810
## Page 835

API reference Return value HRESULT [} 144] Further information The function F_VN_Read Barcode Exp is the expert variant of F_VN_Read Barcode [} 830]. It contains additional parameters for returning the code position and for setting the search direction. Parameter Input image The input image ip Src Image must be a 1-channel or 3-channel image with the element type USINT (8-bit). 3-channel images will be interpreted as RGB and converted internally into grayscale images. Read data The data read from the code are returned as a string in the container ip Decoded Data. The container is of the type Container Type_Vector_String_SINT. Barcode type The parameter e Barcode Type defines the barcode types to be searched for in the image. All barcode types in the enum ETc Vn Barcode Type [} 167] are supported. It is possible to select more than one type. It is recommended to restrict the selection to the types actually occurring in the end application in order to improve the runtime. e Barcode Type := TCVN_BT_EAN13 + TCVN_BT_CODE128; Use TCVN_BT_ANY to search for all available barcode types. Position of the code The parameter ip Contour returns the code position that is found as a contour. Number of codes The parameter n Code Number defines how many codes are to be searched for. Search for more than one barcode not supported Searching for several barcodes in one image is currently not supported. The parameter n Code Number := 1 must therefore be set. Search direction The search direction can be specified via e Search Direction: • With TCVN_BSD_ANY, the search is first carried out in the horizontal direction and then in the vertical direction. • With TCVN_BSD_HORIZONTAL, the search is only carried out in a horizontal direction. • With TCVN_BSD_VERTICAL, the search is only carried out in the vertical direction. Angle of rotation The parameter ip Angles returns the rotation angle of the codes found in a clockwise direction in 90° steps. The container is of the type Container Type_Vector_REAL. This parameter is optional and can be set to 0 if it is not required. Samples • EAN-13 Barcode Reading [} 2739] TF7000 - TF7810 Version: 2.4.0 835
## Page 836

API reference • Result evaluation during Code Reading [} 2747] Related functions • F_VN_Grade Barcode [} 802] • F_VN_Grade Data Matrix Code [} 808] • F_VN_Grade QRCode [} 814] • F_VN_Read Barcode [} 830] • F_VN_Read Barcode Roi [} 825] • F_VN_Read Pharma Code [} 841] • F_VN_Read Data Matrix Code [} 836] • F_VN_Read Data Matrix Code Roi [} 822] • F_VN_Read QRCode [} 846] Required License TC3 Vision Code Reading System Requirements 6.1.4.7.8 F_VN_Read Data Matrix Code F_VN_Read Data Matrix Code ip Src Image ITc Vn Image HRESULT F_VN_Read Data Matrix Code ip Decoded Data Reference To ITc Vn Container hr Prev HRESULT Detect and interpret a data matrix code (ECC200) within the provided image. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Read Data Matrix Code : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Decoded Data : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT elements, 1 or 3 channels) ip Decoded Data Reference To Returns the decoded code ITc Vn Container [} 374] (Container Type_Vector_String_SINT) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] 836 Version: 2.4.0 TF7000 - TF7810
## Page 837

API reference Further information The data matrix barcode according to IEC 16022 is a 2D code that facilitates storage of large data quantities with minimum space requirements. It is therefore often used for component and product marking. The function F_VN_Read Data Matrix Code can only recognize and decode ECC 200 code types in the image. This is based on one code per image. If several Data Matrix Codes are to be recognized and decoded in one image, the function F_VN_Read Data Matrix Code Exp [} 838] must be used. Data Matrix Code structure The Data Matrix Code consists of rectangles or dots that make up a square or rectangular symbol, which in turn can be divided into three areas: 1. Finder Pattern The solid-line locator (L) is used to locate and align the code, while the pattern-line locator (P) is used to determine the cell size and arrangement. 2. Data area The data area is surrounded by the Finder Pattern. 3. Quiet zone The quiet zone is an area at least 1.5 cells wide around the Finder Pattern in the background color of the code. Flaws / damage in the Finder Pattern or in the quiet zone can prevent detection of the code. Error correction Data Matrix Code ECC 200 (ECC = Error Correction Code) is the generally accepted version due to its better error correction. In addition to the actual data, they are coded redundantly based on the Reed-Solomon code. Data matrix codes of this version can be decoded by the function. In case of damage an error correction can be performed. Code search The function F_VN_Read Data Matrix Code searches for a Data Matrix Code in the image, starting from the center line of the image. Read data from container If the code was successfully found and decoded, the code content is returned in the container ip Decoded Data and can be exported to a string using the function F_VN_Export Sub Container_String [} 745]. hr := F_VN_Export Sub Container_String( ip Decoded Data, 0, s Text, n Max Length, hr); HRESULT Like all Twin CAT Vision API functions, this function also returns an HRESULT [} 144] to indicate whether the execution was successful or not. In the event of success, a distinction can be made between the following success codes in the subsequent handling of the results. To distinguish between these cases, the HRESULT variable can be compared directly with S_OK or S_FALSE. TF7000 - TF7810 Version: 2.4.0 837
## Page 838

API reference Code Name Description 16#000 S_OK The function was executed successfully. The specified number of codes was found in the image. 16#001 S_FALSE The function was executed successfully. Fewer codes than indicated in the image were found. 16#256 S_WATCHDOG The function was aborted by the watchdog [} 149]. TIMEOUT Examples • Data Matrix Code Reading [} 2742] • Result evaluation during Code Reading [} 2747] Related functions • F_VN_Read Data Matrix Code Exp [} 838] • F_VN_Read Barcode [} 830] or F_VN_Read Barcode Exp [} 832] • F_VN_Read Pharma Code [} 841] or F_VN_Read Pharma Code Exp [} 843] • F_VN_Read QRCode [} 846] or F_VN_Read QRCode Exp [} 848] Required License TC3 Vision Code Reading System Requirements 6.1.4.7.9 F_VN_Read Data Matrix Code Exp F_VN_Read Data Matrix Code Exp ip Src Image ITc Vn Image HRESULT F_VN_Read Data Matrix Code Exp ip Decoded Data Reference To ITc Vn Container ip Contours Reference To ITc Vn Container n Code Number DINT e Search Strategy UDINT hr Prev HRESULT Detect and interpret a data matrix code (ECC200) within the provided image. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Read Data Matrix Code Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Decoded Data : Reference To ITc Vn Container; ip Contours : Reference To ITc Vn Container; n Code Number : DINT; e Search Strategy : UDINT; hr Prev : HRESULT; END_VAR 838 Version: 2.4.0 TF7000 - TF7810
## Page 839

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT elements, 1 or 3 channels) ip Decoded Data Reference To Returns the decoded code ITc Vn Container [} 374] (Container Type_Vector_String_SINT) ip Contours Reference To Returns the code positions as contours (optional, set to 0 if not ITc Vn Container [} 374] required; Container Type_Vector_Vector_Tc Vn Point2_DINT) n Code Number DINT Number of data matrix codes that should be detected within the provided image. (If set to -1, it tries to detect all data matrix codes.) e Search Strate UDINT Used search strategy (ETc Vn2d Code Search Strategy) gy hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Read Data Matrix Code Exp corresponds to the function F_VN_Read Data Matrix Code [} 836] extended by the following parameters. ip Contours The parameter ip Contour returns the code positions that are found as a contour. n Code Number The parameter n Code Number defines how many codes to search for. At -1 the search continues until no further code is found in the image or a watchdog aborts the function. e Search Strategy The parameter e Search Strategy defines the search strategies for the code search. The standard option TCVN_CSS_DEFAULT leads to the search strategy TCVN_CSS_FIRST_NOT_FLIPPED. For a description of the search strategies see Code Reading search strategies [} 821]. Search strategies Currently, this function only supports the settings of the search strategy for mirroring. Inversion is always performed automatically if not all expected codes are found in the original image. Samples • Data Matrix Code Reading [} 2742] • Result evaluation during Code Reading [} 2747] Related functions • F_VN_Read Data Matrix Code [} 836] • F_VN_Read Barcode [} 830] or F_VN_Read Barcode Exp [} 832] • F_VN_Read Pharma Code [} 841] or F_VN_Read Pharma Code Exp [} 843] • F_VN_Read QRCode [} 846] or F_VN_Read QRCode Exp [} 848] TF7000 - TF7810 Version: 2.4.0 839
## Page 840

API reference Required License TC3 Vision Code Reading System Requirements 6.1.4.7.10 F_VN_Read Data Matrix Code Exp2 F_VN_Read Data Matrix Code Exp2 ip Src Image ITc Vn Image HRESULT F_VN_Read Data Matrix Code Exp2 ip Decoded Data Reference To ITc Vn Container ip Contours Reference To ITc Vn Container n Code Number DINT e Search Strategy UDINT ip Angles Reference To ITc Vn Container hr Prev HRESULT Detect and interpret a data matrix code (ECC200) within the provided image. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Read Data Matrix Code Exp2 : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Decoded Data : Reference To ITc Vn Container; ip Contours : Reference To ITc Vn Container; n Code Number : DINT; e Search Strategy : UDINT; ip Angles : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT elements, 1 or 3 channels) ip Decoded Data Reference To Returns the decoded code ITc Vn Container [} 374] (Container Type_Vector_String_SINT) ip Contours Reference To Returns the code positions as contours (optional, set to 0 if not ITc Vn Container [} 374] required; Container Type_Vector_Vector_Tc Vn Point2_DINT) n Code Number DINT Number of data matrix codes that should be detected within the provided image. (If set to -1, it tries to detect all data matrix codes.) e Search Strate UDINT Used search strategy (ETc Vn2d Code Search Strategy) gy ip Angles Reference To Returns the clockwise code rotation angles (optional, set to 0 if ITc Vn Container [} 374] not required; Container Type_Vector_REAL) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Read Data Matrix Code Exp corresponds to the function F_VN_Read Data Matrix Code [} 836] extended by the following parameters. 840 Version: 2.4.0 TF7000 - TF7810
## Page 841

API reference ip Contours The parameter ip Contour returns the code positions that are found as a contour. n Code Number The parameter n Code Number defines how many codes are to be searched for. At -1 the search continues until no further code is found in the image or a watchdog aborts the function. e Search Strategy The parameter e Search Strategy defines the search strategies for the code search. The standard option TCVN_CSS_DEFAULT leads to the search strategy TCVN_CSS_FIRST_NOT_FLIPPED. For a description of the search strategies see Code Reading search strategies [} 821]. Search strategies Currently, this function only supports the settings of the search strategy for mirroring. Inversion is always performed automatically if not all expected codes are found in the original image. Angle of rotation The parameter ip Angles returns the clockwise rotation angle of the codes found in degree steps. The container is of the type Container Type_Vector_REAL. This parameter is optional and can be set to 0 if it is not required. Examples • Data Matrix Code Reading [} 2742] • Result evaluation during Code Reading [} 2747] Related functions • F_VN_Read Data Matrix Code [} 836] • F_VN_Read Barcode [} 830] or F_VN_Read Barcode Exp [} 832] • F_VN_Read Pharma Code [} 841] or F_VN_Read Pharma Code Exp [} 843] • F_VN_Read QRCode [} 846] or F_VN_Read QRCode Exp [} 848] Required License TC3 Vision Code Reading System Requirements 6.1.4.7.11 F_VN_Read Pharma Code F_VN_Read Pharma Code ip Src Image ITc Vn Image HRESULT F_VN_Read Pharma Code ip Decoded Data Reference To ITc Vn Container hr Prev HRESULT Detect and interpret a pharma code within the provided image. Can be canceled by Watchdog. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Read Pharma Code : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; TF7000 - TF7810 Version: 2.4.0 841
## Page 842

API reference ip Decoded Data : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 channel (all element types) or 3 channel with elements of type TCVN_ET_USINT, TCVN_ET_UINT or TCVN_ET_REAL (3 channel input is expected to be RGB and internally converted to Gray)) ip Decoded Data Reference To Returns the decoded code ITc Vn Container [} 374] (Container Type_Vector_String_SINT) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Read Pharma Code detects and reads a pharmacode in the input image ip Src Image. The Pharmacode is a barcode standard. It is designed for good legibility but can only encode integers in the range 3 to 131070. The aim of this standard is high reading speed with few misreadings. Do not mix up pharmacodes The Pharmacode Standard should not be confused with the Italian or Swiss pharmacodes. These only designate drug identification numbers with a Code39 representation. Structure of Pharmacodes A Pharmacode consists of thick and thin bars (dark) and gaps between them (light). For good legibility, sufficient size and contrast of the code in the image are recommended. Decoding is based on the following table: Position 7 6 5 4 3 2 1 0 Thin line 128 64 32 16 8 4 2 1 Thick line 256 128 64 32 16 8 4 2 Detailed information on the specification of Pharmacodes can be found online: Pharmacode Guide from Laetus Parameter Input image The input image ip Src Image must have 1 or 3 channels. 3-channel images must be of the type USINT, UINT or REAL and must be in the RGB color space. They are converted internally into a grayscale image. Read data (Return value) The data read from the code are returned as a string in the container ip Decoded Data. The container is of the type Container Type_Vector_String_SINT. Expert parameters The expert version F_VN_Read Pharma Code Exp [} 843] contains additional parameters. 842 Version: 2.4.0 TF7000 - TF7810
## Page 843

API reference Read data from container If the code was successfully found and decoded, the code content is returned in the container ip Decoded Data and can be exported to a string using the function F_VN_Export Sub Container_String [} 745]. hr := F_VN_Export Sub Container_String( ip Decoded Data, 0, s Text, n Max Length, hr); Samples • Pharma-Code Reading [} 2743] • Result evaluation during Code Reading [} 2747] Related functions • F_VN_Read Pharma Code [} 841] for reading pharmacodes • F_VN_Read Barcode [} 830] for reading barcodes • F_VN_Read Data Matrix Code [} 836] for reading data matrix codes • F_VN_Read QRCode [} 846] for reading QR codes Required License TC3 Vision Code Reading System Requirements 6.1.4.7.12 F_VN_Read Pharma Code Exp F_VN_Read Pharma Code Exp ip Src Image ITc Vn Image HRESULT F_VN_Read Pharma Code Exp ip Decoded Data Reference To ITc Vn Container ip Contours Reference To ITc Vn Container n Code Number DINT n Min Bar Number INT hr Prev HRESULT Detect and interpret a pharma code within the provided image. Can be canceled by Watchdog. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Read Pharma Code Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Decoded Data : Reference To ITc Vn Container; ip Contours : Reference To ITc Vn Container; n Code Number : DINT; n Min Bar Number : INT; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 843
## Page 844

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 channel (all element types) or 3 channel with elements of type TCVN_ET_USINT, TCVN_ET_UINT or TCVN_ET_REAL (3 channel input is expected to be RGB and internally converted to Gray)) ip Decoded Data Reference To Returns the decoded code ITc Vn Container [} 374] (Container Type_Vector_String_SINT) ip Contours Reference To Returns the code positions as contours (optional, set to 0 if not ITc Vn Container [} 374] required; Container Type_Vector_Vector_Tc Vn Point2_DINT) n Code Number DINT Number of pharma codes that should be detected within the provided image (currently only 1 supported). n Min Bar Numb INT Minimal number of (dark) bars that codes must have. er hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information This Expert function extends the F_VN_Read Pharma Code [} 841] function as follows: • Return of the position of found codes via the parameter ip Contours • Specifies the number of codes to be found in the image. The search is terminated once n Code Number or more codes have been found in the image. If less than n Code Number codes are found, the function returns S_FALSE. • Minimum number of dark bars that the code must have to be found by the function via the parameter n Min Bar Number. Samples • Pharma-Code Reading [} 2743] • Result evaluation during Code Reading [} 2747] Related functions • F_VN_Read Pharma Code [} 841] • F_VN_Read Barcode [} 830] or F_VN_Read Barcode Exp [} 832] • F_VN_Read Data Matrix Code [} 836] or F_VN_Read Data Matrix Code Exp [} 838] • F_VN_Read QRCode [} 846] or F_VN_Read QRCode Exp [} 848] Required License TC3 Vision Code Reading 844 Version: 2.4.0 TF7000 - TF7810
## Page 845

API reference System Requirements 6.1.4.7.13 F_VN_Read Pharma Code Exp2 F_VN_Read Pharma Code Exp2 ip Src Image ITc Vn Image HRESULT F_VN_Read Pharma Code Exp2 ip Decoded Data Reference To ITc Vn Container ip Contours Reference To ITc Vn Container n Code Number DINT n Min Bar Number INT ip Angles Reference To ITc Vn Container hr Prev HRESULT Detect and interpret a pharma code within the provided image. Can be canceled by Watchdog. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Read Pharma Code Exp2 : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Decoded Data : Reference To ITc Vn Container; ip Contours : Reference To ITc Vn Container; n Code Number : DINT; n Min Bar Number : INT; ip Angles : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 channel (all element types) or 3 channel with elements of type TCVN_ET_USINT, TCVN_ET_UINT or TCVN_ET_REAL (3 channel input is expected to be RGB and internally converted to Gray)) ip Decoded Data Reference To Returns the decoded code ITc Vn Container [} 374] (Container Type_Vector_String_SINT) ip Contours Reference To Returns the code positions as contours (optional, set to 0 if not ITc Vn Container [} 374] required; Container Type_Vector_Vector_Tc Vn Point2_DINT) n Code Number DINT Number of pharma codes that should be detected within the provided image (currently only 1 supported). n Min Bar Numb INT Minimal number of (dark) bars that codes must have. er ip Angles Reference To Returns the clockwise code rotation angles (optional, set to 0 if ITc Vn Container [} 374] not required; Container Type_Vector_REAL) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information This Expert function extends the function F_VN_Read Pharma Code [} 841] as follows: • Return of the position of found codes via the parameter ip Contours TF7000 - TF7810 Version: 2.4.0 845
## Page 846

API reference • Specifies the number of codes to be found in the image. The search is terminated once n Code Number or more codes have been found in the image. If less than n Code Number codes are found, the function returns S_FALSE. • Minimum number of dark bars that the code must have to be found by the function via the parameter n Min Bar Number. Angle of rotation The parameter ip Angles returns the approximate rotation angle of the codes found in a clockwise direction from -90° to +90° in degrees. The container is of the type Container Type_Vector_REAL. This parameter is optional and can be set to 0 if it is not required. Differences in the reading direction As a Pharmacode does not contain a start or stop identifier, the result varies depending on the reading direction. Therefore, whether the code has been rotated 180° cannot be determined from the rotation angle. To ensure that the code is in the expected orientation, the image must be rotated by 180° and the code read again. Both read results can then be compared with an expected value in order to clearly determine the orientation. Examples • Pharma-Code Reading [} 2743] • Result evaluation during Code Reading [} 2747] Related functions • F_VN_Read Pharma Code [} 841] • F_VN_Read Barcode [} 830] or F_VN_Read Barcode Exp [} 832] • F_VN_Read Data Matrix Code [} 836] or VN_Read Data Matrix Code Exp [} 838] • F_VN_Read QRCode [} 846] or F_VN_Read QRCode Exp [} 848] Required License TC3 Vision Code Reading System Requirements 6.1.4.7.14 F_VN_Read QRCode F_VN_Read QRCode ip Src Image ITc Vn Image HRESULT F_VN_Read QRCode ip Decoded Data Reference To ITc Vn Container hr Prev HRESULT Detect and interpret a QR code within the provided image. Can be canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Read QRCode : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Decoded Data : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR 846 Version: 2.4.0 TF7000 - TF7810
## Page 847

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT elements, 1 channel or 3 channel (3 channel input is expected to be RGB and internally converted to Gray)) ip Decoded Data Reference To Returns the decoded code ITc Vn Container [} 374] (Container Type_Vector_String_SINT) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The QR code (Quick-Response code) according to IEC 18004 is a 2D code, which is particularly common in Germany in the field of mobile tagging. Thanks to the option to encode Kanji/Kana characters, the QR code has also become established in the industry in Asia. The F_VN_Read QRCode function can recognize and decode this code type in the image. This is based on one code per image. QR code structure 1. Position markings 2. Alignment mark 3. Timing rows 4. Version information 5. Data format 6. Data field 7. Quiet zone, at least 4 cells wide TF7000 - TF7810 Version: 2.4.0 847
## Page 848

API reference Flaws / damage can prevent detection and decoding. Code search The function F_VN_Read QRCode searches line by line for a QR code in the image from top left to bottom right. Read data from container If the code was successfully found and decoded, the code content is returned in the container ip Decoded Data and can be exported to a string using the function F_VN_Export Sub Container_String [} 745]. hr := F_VN_Export Sub Container_String( ip Decoded Data, 0, s Text, n Max Length, hr); HRESULT Like all Twin CAT Vision API functions, this function also returns an HRESULT [} 144] to indicate whether the execution was successful or not. In the event of success, a distinction can be made between the following success codes in the subsequent handling of the results. To distinguish between these cases, the HRESULT variable can be compared directly with S_OK or S_FALSE. Code Name Description 16#000 S_OK The function was executed successfully. The specified number of codes was found in the image. 16#001 S_FALSE The function was executed successfully. Fewer codes than indicated in the image were found. 16#256 S_WATCHDOG The function was aborted by the watchdog [} 149]. TIMEOUT Samples • QR-Code Reading [} 2745] • Result evaluation during Code Reading [} 2747] Related functions • F_VN_Read QRCode Exp [} 848] • F_VN_Read Barcode [} 830] or F_VN_Read Barcode Exp [} 832] • F_VN_Read Data Matrix Code [} 836] or F_VN_Read Data Matrix Code Exp [} 838] • F_VN_Read Pharma Code [} 841] or F_VN_Read Pharma Code Exp [} 843] Required License TC3 Vision Code Reading System Requirements 6.1.4.7.15 F_VN_Read QRCode Exp F_VN_Read QRCode Exp ip Src Image ITc Vn Image HRESULT F_VN_Read QRCode Exp ip Decoded Data Reference To ITc Vn Container ip Contours Reference To ITc Vn Container n Code Number DINT e Search Strategy UDINT hr Prev HRESULT Detect and interpret a QR code within the provided image. Can be canceled by Watchdog. 848 Version: 2.4.0 TF7000 - TF7810
## Page 849

API reference Syntax Definition: FUNCTION F_VN_Read QRCode Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Decoded Data : Reference To ITc Vn Container; ip Contours : Reference To ITc Vn Container; n Code Number : DINT; e Search Strategy : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT elements, 1 channel or 3 channel (3 channel input is expected to be RGB and internally converted to Gray)) ip Decoded Data Reference To Returns the decoded code ITc Vn Container [} 374] (Container Type_Vector_String_SINT) ip Contours Reference To Returns the code positions as contours (optional, set to 0 if not ITc Vn Container [} 374] required; Container Type_Vector_Vector_Tc Vn Point2_DINT) n Code Number DINT Number of QR codes that should be detected within the provided image (currently only 1 supported). e Search Strate UDINT Used search strategy (ETc Vn2d Code Search Strategy) gy hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information NOTICE Floating point exceptions This function can cause errors if the option Floating point exceptions of the executing PLC task [} 62] is active. Therefore, deactivate this option. The function F_VN_Read QRCode Exp corresponds to the function F_VN_Read QRCode [} 846], extended by the following parameters. ip Contour The parameter ip Contour returns the code position that is found as a contour. n Code Number The parameter n Code Number defines how many codes to search for. Searching for more than one QR code not currently supported Searching for several QR codes in one image is currently not supported. The parameter n Code Number therefore has to be set to 1. e Search Strategy TF7000 - TF7810 Version: 2.4.0 849
## Page 850

API reference The parameter e Search Strategy defines the search strategies for the code search. The standard option TCVN_CSS_DEFAULT leads to the search strategies TCVN_CSS_FIRST_NOT_INVERTED and TCVN_CSS_FIRST_NOT_FLIPPED. For a description of the search strategies see Code Reading search strategies [} 821]. Samples • QR-Code Reading [} 2745] • Result evaluation during Code Reading [} 2747] Related functions • F_VN_Read QRCode [} 846] • F_VN_Read Barcode [} 830] or F_VN_Read Barcode Exp [} 832] • F_VN_Read Data Matrix Code [} 836] or F_VN_Read Data Matrix Code Exp [} 838] • F_VN_Read Pharma Code [} 841] or F_VN_Read Pharma Code Exp [} 843] Required License TC3 Vision Code Reading System Requirements 6.1.4.7.16 F_VN_Read QRCode Exp2 F_VN_Read QRCode Exp2 ip Src Image ITc Vn Image HRESULT F_VN_Read QRCode Exp2 ip Decoded Data Reference To ITc Vn Container ip Contours Reference To ITc Vn Container n Code Number DINT e Search Strategy UDINT ip Angles Reference To ITc Vn Container hr Prev HRESULT Detect and interpret a QR code within the provided image. Can be canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Read QRCode Exp2 : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Decoded Data : Reference To ITc Vn Container; ip Contours : Reference To ITc Vn Container; n Code Number : DINT; e Search Strategy : UDINT; ip Angles : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR 850 Version: 2.4.0 TF7000 - TF7810
## Page 851

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT elements, 1 channel or 3 channel (3 channel input is expected to be RGB and internally converted to Gray)) ip Decoded Data Reference To Returns the decoded code ITc Vn Container [} 374] (Container Type_Vector_String_SINT) ip Contours Reference To Returns the code positions as contours (optional, set to 0 if not ITc Vn Container [} 374] required; Container Type_Vector_Vector_Tc Vn Point2_DINT) n Code Number DINT Number of QR codes that should be detected within the provided image (currently only 1 supported). e Search Strate UDINT Used search strategy (ETc Vn2d Code Search Strategy) gy ip Angles Reference To Returns the clockwise code rotation angles (optional, set to 0 if ITc Vn Container [} 374] not required; Container Type_Vector_REAL) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information NOTICE Floating point exceptions This function can cause errors if the option Floating point exceptions of the executing PLC task [} 62] is active. Therefore, deactivate this option. The function F_VN_Read QRCode Exp corresponds to the function F_VN_Read QRCode [} 846], extended by the following parameters. ip Contour The parameter ip Contour returns the code position that is found as a contour. n Code Number The parameter n Code Number defines how many codes are to be searched for. Searching for several QR codes not currently supported Searching for several QR codes in one image is currently not supported. The parameter n Code Number := 1 must therefore be set. e Search Strategy The parameter e Search Strategy defines the search strategies for the code search. The standard option TCVN_CSS_DEFAULT leads to the search strategies TCVN_CSS_FIRST_NOT_INVERTED and TCVN_CSS_FIRST_NOT_FLIPPED. For a description of the search strategies see Code Reading search strategies [} 821]. Angle of rotation The parameter ip Angles returns the clockwise rotation angle of the codes found in degrees. The container is of the type Container Type_Vector_REAL. This parameter is optional and can be set to 0 if it is not required. TF7000 - TF7810 Version: 2.4.0 851
## Page 852

API reference Examples • QR-Code Reading [} 2745] • Result evaluation during Code Reading [} 2747] Related functions • F_VN_Read QRCode [} 846] • F_VN_Read Barcode [} 830] or F_VN_Read Barcode Exp [} 832] • F_VN_Read Data Matrix Code [} 836] or VN_Read Data Matrix Code Exp [} 838] • F_VN_Read Pharma Code [} 841] or F_VN_Read Pharma Code Exp [} 843] Required License TC3 Vision Code Reading System Requirements 6.1.4.8 Container Statistics This group contains functions for statistical analysis of containers [} 155]. Functions With Euclidean norm • F_VN_Container Average [} 929] • F_VN_Container Average Variance [} 934] • F_VN_Max Element [} 938] • F_VN_Median Element [} 939] • F_VN_Min Element [} 940] Element-wise • F_VN_Container Average Elementwise [} 930] • F_VN_Container Average Variance Elementwise [} 935] • F_VN_Max Element Elementwise [} 852] • F_VN_Median Element Elementwise [} 878] • F_VN_Min Element Elementwise [} 903] 6.1.4.8.1 F_VN_Max Element Elementwise This chapter contains functions with which the max value is determined according to the data type for each element. This function is available for containers with basic elements. For example, with a Tc Vn Point2_DINT, the maximum X-value and the maximum Y-value are determined independently of each other, so the values do not have to come from the same point. 6.1.4.8.1.1 F_VN_Max Element Elementwise_DINT F_VN_Max Element Elementwise_DINT ip Container ITc Vn Container HRESULT F_VN_Max Element Elementwise_DINT ↔ n Max DINT hr Prev HRESULT Gets the element wise maximum container element. 852 Version: 2.4.0 TF7000 - TF7810
## Page 853

API reference Syntax Definition: FUNCTION F_VN_Max Element Elementwise_DINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT n Max : DINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Max DINT Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.1.2 F_VN_Max Element Elementwise_INT F_VN_Max Element Elementwise_INT ip Container ITc Vn Container HRESULT F_VN_Max Element Elementwise_INT ↔ n Max INT hr Prev HRESULT Gets the element wise maximum container element. Syntax Definition: FUNCTION F_VN_Max Element Elementwise_INT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT n Max : INT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 853
## Page 854

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Max INT Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.1.3 F_VN_Max Element Elementwise_LREAL F_VN_Max Element Elementwise_LREAL ip Container ITc Vn Container HRESULT F_VN_Max Element Elementwise_LREAL ↔ f Max LREAL hr Prev HRESULT Gets the element wise maximum container element. Syntax Definition: FUNCTION F_VN_Max Element Elementwise_LREAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT f Max : LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description f Max LREAL Returns the requested element 854 Version: 2.4.0 TF7000 - TF7810
## Page 855

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.1.4 F_VN_Max Element Elementwise_REAL F_VN_Max Element Elementwise_REAL ip Container ITc Vn Container HRESULT F_VN_Max Element Elementwise_REAL ↔ f Max REAL hr Prev HRESULT Gets the element wise maximum container element. Syntax Definition: FUNCTION F_VN_Max Element Elementwise_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT f Max : REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description f Max REAL Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 855
## Page 856

API reference System Requirements 6.1.4.8.1.5 F_VN_Max Element Elementwise_SINT F_VN_Max Element Elementwise_SINT ip Container ITc Vn Container HRESULT F_VN_Max Element Elementwise_SINT ↔ n Max SINT hr Prev HRESULT Gets the element wise maximum container element. Syntax Definition: FUNCTION F_VN_Max Element Elementwise_SINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT n Max : SINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Max SINT Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.1.6 F_VN_Max Element Elementwise_Tc Vn Point2_DINT F_VN_Max Element Elementwise_Tc Vn Point2_DINT ip Container ITc Vn Container HRESULT F_VN_Max Element Elementwise_Tc Vn Point2_DINT ↔ a Max Tc Vn Point2_DINT hr Prev HRESULT Gets the element wise maximum container element. Syntax Definition: 856 Version: 2.4.0 TF7000 - TF7810
## Page 857

API reference FUNCTION F_VN_Max Element Elementwise_Tc Vn Point2_DINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Max : Tc Vn Point2_DINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Max Tc Vn Point2_DINT [} 163] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.1.7 F_VN_Max Element Elementwise_Tc Vn Point2_LREAL F_VN_Max Element Elementwise_Tc Vn Point2_LREAL ip Container ITc Vn Container HRESULT F_VN_Max Element Elementwise_Tc Vn Point2_LREAL ↔ a Max Tc Vn Point2_LREAL hr Prev HRESULT Gets the element wise maximum container element. Syntax Definition: FUNCTION F_VN_Max Element Elementwise_Tc Vn Point2_LREAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Max : Tc Vn Point2_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 857
## Page 858

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Max Tc Vn Point2_LREAL [} 163] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.1.8 F_VN_Max Element Elementwise_Tc Vn Point2_REAL F_VN_Max Element Elementwise_Tc Vn Point2_REAL ip Container ITc Vn Container HRESULT F_VN_Max Element Elementwise_Tc Vn Point2_REAL ↔ a Max Tc Vn Point2_REAL hr Prev HRESULT Gets the element wise maximum container element. Syntax Definition: FUNCTION F_VN_Max Element Elementwise_Tc Vn Point2_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Max : Tc Vn Point2_REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Max Tc Vn Point2_REAL [} 163] Returns the requested element 858 Version: 2.4.0 TF7000 - TF7810
## Page 859

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.1.9 F_VN_Max Element Elementwise_Tc Vn Point3_LREAL F_VN_Max Element Elementwise_Tc Vn Point3_LREAL ip Container ITc Vn Container HRESULT F_VN_Max Element Elementwise_Tc Vn Point3_LREAL ↔ a Max Tc Vn Point3_LREAL hr Prev HRESULT Gets the element wise maximum container element. Syntax Definition: FUNCTION F_VN_Max Element Elementwise_Tc Vn Point3_LREAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Max : Tc Vn Point3_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Max Tc Vn Point3_LREAL [} 163] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 859
## Page 860

API reference System Requirements 6.1.4.8.1.10 F_VN_Max Element Elementwise_Tc Vn Point3_REAL F_VN_Max Element Elementwise_Tc Vn Point3_REAL ip Container ITc Vn Container HRESULT F_VN_Max Element Elementwise_Tc Vn Point3_REAL ↔ a Max Tc Vn Point3_REAL hr Prev HRESULT Gets the element wise maximum container element. Syntax Definition: FUNCTION F_VN_Max Element Elementwise_Tc Vn Point3_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Max : Tc Vn Point3_REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Max Tc Vn Point3_REAL [} 163] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.1.11 F_VN_Max Element Elementwise_Tc Vn Vector2_DINT F_VN_Max Element Elementwise_Tc Vn Vector2_DINT ip Container ITc Vn Container HRESULT F_VN_Max Element Elementwise_Tc Vn Vector2_DINT ↔ a Max Tc Vn Vector2_DINT hr Prev HRESULT Gets the element wise maximum container element. Syntax Definition: 860 Version: 2.4.0 TF7000 - TF7810
## Page 861

API reference FUNCTION F_VN_Max Element Elementwise_Tc Vn Vector2_DINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Max : Tc Vn Vector2_DINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Max Tc Vn Vector2_DINT [} 165] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.1.12 F_VN_Max Element Elementwise_Tc Vn Vector2_INT F_VN_Max Element Elementwise_Tc Vn Vector2_INT ip Container ITc Vn Container HRESULT F_VN_Max Element Elementwise_Tc Vn Vector2_INT ↔ a Max Tc Vn Vector2_INT hr Prev HRESULT Gets the element wise maximum container element. Syntax Definition: FUNCTION F_VN_Max Element Elementwise_Tc Vn Vector2_INT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Max : Tc Vn Vector2_INT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 861
## Page 862

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Max Tc Vn Vector2_INT [} 165] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.1.13 F_VN_Max Element Elementwise_Tc Vn Vector2_REAL F_VN_Max Element Elementwise_Tc Vn Vector2_REAL ip Container ITc Vn Container HRESULT F_VN_Max Element Elementwise_Tc Vn Vector2_REAL ↔ a Max Tc Vn Vector2_REAL hr Prev HRESULT Gets the element wise maximum container element. Syntax Definition: FUNCTION F_VN_Max Element Elementwise_Tc Vn Vector2_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Max : Tc Vn Vector2_REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Max Tc Vn Vector2_REAL [} 165] Returns the requested element 862 Version: 2.4.0 TF7000 - TF7810
## Page 863

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.1.14 F_VN_Max Element Elementwise_Tc Vn Vector2_SINT F_VN_Max Element Elementwise_Tc Vn Vector2_SINT ip Container ITc Vn Container HRESULT F_VN_Max Element Elementwise_Tc Vn Vector2_SINT ↔ a Max Tc Vn Vector2_SINT hr Prev HRESULT Gets the element wise maximum container element. Syntax Definition: FUNCTION F_VN_Max Element Elementwise_Tc Vn Vector2_SINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Max : Tc Vn Vector2_SINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Max Tc Vn Vector2_SINT [} 165] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 863
## Page 864

API reference System Requirements 6.1.4.8.1.15 F_VN_Max Element Elementwise_Tc Vn Vector2_UINT F_VN_Max Element Elementwise_Tc Vn Vector2_UINT ip Container ITc Vn Container HRESULT F_VN_Max Element Elementwise_Tc Vn Vector2_UINT ↔ a Max Tc Vn Vector2_UINT hr Prev HRESULT Gets the element wise maximum container element. Syntax Definition: FUNCTION F_VN_Max Element Elementwise_Tc Vn Vector2_UINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Max : Tc Vn Vector2_UINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Max Tc Vn Vector2_UINT [} 165] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.1.16 F_VN_Max Element Elementwise_Tc Vn Vector2_USINT F_VN_Max Element Elementwise_Tc Vn Vector2_USINT ip Container ITc Vn Container HRESULT F_VN_Max Element Elementwise_Tc Vn Vector2_USINT ↔ a Max Tc Vn Vector2_USINT hr Prev HRESULT Gets the element wise maximum container element. Syntax Definition: 864 Version: 2.4.0 TF7000 - TF7810
## Page 865

API reference FUNCTION F_VN_Max Element Elementwise_Tc Vn Vector2_USINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Max : Tc Vn Vector2_USINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Max Tc Vn Vector2_USINT Returns the requested element [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.1.17 F_VN_Max Element Elementwise_Tc Vn Vector3_INT F_VN_Max Element Elementwise_Tc Vn Vector3_INT ip Container ITc Vn Container HRESULT F_VN_Max Element Elementwise_Tc Vn Vector3_INT ↔ a Max Tc Vn Vector3_INT hr Prev HRESULT Gets the element wise maximum container element. Syntax Definition: FUNCTION F_VN_Max Element Elementwise_Tc Vn Vector3_INT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Max : Tc Vn Vector3_INT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 865
## Page 866

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Max Tc Vn Vector3_INT [} 165] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.1.18 F_VN_Max Element Elementwise_Tc Vn Vector3_REAL F_VN_Max Element Elementwise_Tc Vn Vector3_REAL ip Container ITc Vn Container HRESULT F_VN_Max Element Elementwise_Tc Vn Vector3_REAL ↔ a Max Tc Vn Vector3_REAL hr Prev HRESULT Gets the element wise maximum container element. Syntax Definition: FUNCTION F_VN_Max Element Elementwise_Tc Vn Vector3_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Max : Tc Vn Vector3_REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Max Tc Vn Vector3_REAL [} 165] Returns the requested element 866 Version: 2.4.0 TF7000 - TF7810
## Page 867

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.1.19 F_VN_Max Element Elementwise_Tc Vn Vector3_SINT F_VN_Max Element Elementwise_Tc Vn Vector3_SINT ip Container ITc Vn Container HRESULT F_VN_Max Element Elementwise_Tc Vn Vector3_SINT ↔ a Max Tc Vn Vector3_SINT hr Prev HRESULT Gets the element wise maximum container element. Syntax Definition: FUNCTION F_VN_Max Element Elementwise_Tc Vn Vector3_SINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Max : Tc Vn Vector3_SINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Max Tc Vn Vector3_SINT [} 165] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 867
## Page 868

API reference System Requirements 6.1.4.8.1.20 F_VN_Max Element Elementwise_Tc Vn Vector3_UINT F_VN_Max Element Elementwise_Tc Vn Vector3_UINT ip Container ITc Vn Container HRESULT F_VN_Max Element Elementwise_Tc Vn Vector3_UINT ↔ a Max Tc Vn Vector3_UINT hr Prev HRESULT Gets the element wise maximum container element. Syntax Definition: FUNCTION F_VN_Max Element Elementwise_Tc Vn Vector3_UINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Max : Tc Vn Vector3_UINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Max Tc Vn Vector3_UINT [} 165] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.1.21 F_VN_Max Element Elementwise_Tc Vn Vector3_USINT F_VN_Max Element Elementwise_Tc Vn Vector3_USINT ip Container ITc Vn Container HRESULT F_VN_Max Element Elementwise_Tc Vn Vector3_USINT ↔ a Max Tc Vn Vector3_USINT hr Prev HRESULT Gets the element wise maximum container element. Syntax Definition: 868 Version: 2.4.0 TF7000 - TF7810
## Page 869

API reference FUNCTION F_VN_Max Element Elementwise_Tc Vn Vector3_USINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Max : Tc Vn Vector3_USINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Max Tc Vn Vector3_USINT Returns the requested element [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.1.22 F_VN_Max Element Elementwise_Tc Vn Vector4_DINT F_VN_Max Element Elementwise_Tc Vn Vector4_DINT ip Container ITc Vn Container HRESULT F_VN_Max Element Elementwise_Tc Vn Vector4_DINT ↔ a Max Tc Vn Vector4_DINT hr Prev HRESULT Gets the element wise maximum container element. Syntax Definition: FUNCTION F_VN_Max Element Elementwise_Tc Vn Vector4_DINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Max : Tc Vn Vector4_DINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 869
## Page 870

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Max Tc Vn Vector4_DINT [} 165] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.1.23 F_VN_Max Element Elementwise_Tc Vn Vector4_INT F_VN_Max Element Elementwise_Tc Vn Vector4_INT ip Container ITc Vn Container HRESULT F_VN_Max Element Elementwise_Tc Vn Vector4_INT ↔ a Max Tc Vn Vector4_INT hr Prev HRESULT Gets the element wise maximum container element. Syntax Definition: FUNCTION F_VN_Max Element Elementwise_Tc Vn Vector4_INT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Max : Tc Vn Vector4_INT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Max Tc Vn Vector4_INT [} 165] Returns the requested element 870 Version: 2.4.0 TF7000 - TF7810
## Page 871

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.1.24 F_VN_Max Element Elementwise_Tc Vn Vector4_LREAL F_VN_Max Element Elementwise_Tc Vn Vector4_LREAL ip Container ITc Vn Container HRESULT F_VN_Max Element Elementwise_Tc Vn Vector4_LREAL ↔ a Max Tc Vn Vector4_LREAL hr Prev HRESULT Gets the element wise maximum container element. Syntax Definition: FUNCTION F_VN_Max Element Elementwise_Tc Vn Vector4_LREAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Max : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Max Tc Vn Vector4_LREAL Returns the requested element [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 871
## Page 872

API reference System Requirements 6.1.4.8.1.25 F_VN_Max Element Elementwise_Tc Vn Vector4_SINT F_VN_Max Element Elementwise_Tc Vn Vector4_SINT ip Container ITc Vn Container HRESULT F_VN_Max Element Elementwise_Tc Vn Vector4_SINT ↔ a Max Tc Vn Vector4_SINT hr Prev HRESULT Gets the element wise maximum container element. Syntax Definition: FUNCTION F_VN_Max Element Elementwise_Tc Vn Vector4_SINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Max : Tc Vn Vector4_SINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Max Tc Vn Vector4_SINT [} 165] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.1.26 F_VN_Max Element Elementwise_Tc Vn Vector4_UINT F_VN_Max Element Elementwise_Tc Vn Vector4_UINT ip Container ITc Vn Container HRESULT F_VN_Max Element Elementwise_Tc Vn Vector4_UINT ↔ a Max Tc Vn Vector4_UINT hr Prev HRESULT Gets the element wise maximum container element. Syntax Definition: 872 Version: 2.4.0 TF7000 - TF7810
## Page 873

API reference FUNCTION F_VN_Max Element Elementwise_Tc Vn Vector4_UINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Max : Tc Vn Vector4_UINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Max Tc Vn Vector4_UINT [} 165] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.1.27 F_VN_Max Element Elementwise_Tc Vn Vector4_USINT F_VN_Max Element Elementwise_Tc Vn Vector4_USINT ip Container ITc Vn Container HRESULT F_VN_Max Element Elementwise_Tc Vn Vector4_USINT ↔ a Max Tc Vn Vector4_USINT hr Prev HRESULT Gets the element wise maximum container element. Syntax Definition: FUNCTION F_VN_Max Element Elementwise_Tc Vn Vector4_USINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Max : Tc Vn Vector4_USINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 873
## Page 874

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Max Tc Vn Vector4_USINT Returns the requested element [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.1.28 F_VN_Max Element Elementwise_UDINT F_VN_Max Element Elementwise_UDINT ip Container ITc Vn Container HRESULT F_VN_Max Element Elementwise_UDINT ↔ n Max UDINT hr Prev HRESULT Gets the element wise maximum container element. Syntax Definition: FUNCTION F_VN_Max Element Elementwise_UDINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT n Max : UDINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Max UDINT Returns the requested element 874 Version: 2.4.0 TF7000 - TF7810
## Page 875

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.1.29 F_VN_Max Element Elementwise_UINT F_VN_Max Element Elementwise_UINT ip Container ITc Vn Container HRESULT F_VN_Max Element Elementwise_UINT ↔ n Max UINT hr Prev HRESULT Gets the element wise maximum container element. Syntax Definition: FUNCTION F_VN_Max Element Elementwise_UINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT n Max : UINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Max UINT Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 875
## Page 876

API reference System Requirements 6.1.4.8.1.30 F_VN_Max Element Elementwise_ULINT F_VN_Max Element Elementwise_ULINT ip Container ITc Vn Container HRESULT F_VN_Max Element Elementwise_ULINT ↔ n Max ULINT hr Prev HRESULT Gets the element wise maximum container element. Syntax Definition: FUNCTION F_VN_Max Element Elementwise_ULINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT n Max : ULINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Max ULINT Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.1.31 F_VN_Max Element Elementwise_USINT F_VN_Max Element Elementwise_USINT ip Container ITc Vn Container HRESULT F_VN_Max Element Elementwise_USINT ↔ n Max USINT hr Prev HRESULT Gets the element wise maximum container element. Syntax Definition: 876 Version: 2.4.0 TF7000 - TF7810
## Page 877

API reference FUNCTION F_VN_Max Element Elementwise_USINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT n Max : USINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Max USINT Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.1.32 F_VN_Max Element Elementwise_Tc Vn Vector4_REAL F_VN_Max Element Elementwise_Tc Vn Vector4_REAL ip Container ITc Vn Container HRESULT F_VN_Max Element Elementwise_Tc Vn Vector4_REAL ↔ a Max Tc Vn Vector4_REAL hr Prev HRESULT Gets the element wise maximum container element. Syntax Definition: FUNCTION F_VN_Max Element Elementwise_Tc Vn Vector4_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Max : Tc Vn Vector4_REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 877
## Page 878

API reference In/Outputs Name Type Description a Max Tc Vn Vector4_REAL [} 165] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.2 F_VN_Median Element Elementwise This chapter contains functions to determine the median value according to the data type for each element. This function is available for containers with basic elements. For example, for a Tc Vn Point2_DINT, the median X-value and the median Y-value are determined independently of each other, so the values do not have to come from the same point. 6.1.4.8.2.1 F_VN_Median Element Elementwise_DINT F_VN_Median Element Elementwise_DINT ip Container ITc Vn Container HRESULT F_VN_Median Element Elementwise_DINT ↔ n Median DINT hr Prev HRESULT Gets the element wise median container element. Syntax Definition: FUNCTION F_VN_Median Element Elementwise_DINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT n Median : DINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Median DINT Returns the requested element 878 Version: 2.4.0 TF7000 - TF7810
## Page 879

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.2.2 F_VN_Median Element Elementwise_INT F_VN_Median Element Elementwise_INT ip Container ITc Vn Container HRESULT F_VN_Median Element Elementwise_INT ↔ n Median INT hr Prev HRESULT Gets the element wise median container element. Syntax Definition: FUNCTION F_VN_Median Element Elementwise_INT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT n Median : INT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Median INT Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 879
## Page 880

API reference System Requirements 6.1.4.8.2.3 F_VN_Median Element Elementwise_LREAL F_VN_Median Element Elementwise_LREAL ip Container ITc Vn Container HRESULT F_VN_Median Element Elementwise_LREAL ↔ f Median LREAL hr Prev HRESULT Gets the element wise median container element. Syntax Definition: FUNCTION F_VN_Median Element Elementwise_LREAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT f Median : LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description f Median LREAL Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.2.4 F_VN_Median Element Elementwise_REAL F_VN_Median Element Elementwise_REAL ip Container ITc Vn Container HRESULT F_VN_Median Element Elementwise_REAL ↔ f Median REAL hr Prev HRESULT Gets the element wise median container element. Syntax Definition: 880 Version: 2.4.0 TF7000 - TF7810
## Page 881

API reference FUNCTION F_VN_Median Element Elementwise_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT f Median : REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description f Median REAL Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.2.5 F_VN_Median Element Elementwise_SINT F_VN_Median Element Elementwise_SINT ip Container ITc Vn Container HRESULT F_VN_Median Element Elementwise_SINT ↔ n Median SINT hr Prev HRESULT Gets the element wise median container element. Syntax Definition: FUNCTION F_VN_Median Element Elementwise_SINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT n Median : SINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 881
## Page 882

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Median SINT Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.2.6 F_VN_Median Element Elementwise_Tc Vn Point2_DINT F_VN_Median Element Elementwise_Tc Vn Point2_DINT ip Container ITc Vn Container HRESULT F_VN_Median Element Elementwise_Tc Vn Point2_DINT ↔ a Median Tc Vn Point2_DINT hr Prev HRESULT Gets the element wise median container element. Syntax Definition: FUNCTION F_VN_Median Element Elementwise_Tc Vn Point2_DINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Median : Tc Vn Point2_DINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Median Tc Vn Point2_DINT [} 163] Returns the requested element 882 Version: 2.4.0 TF7000 - TF7810
## Page 883

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.2.7 F_VN_Median Element Elementwise_Tc Vn Point2_LREAL F_VN_Median Element Elementwise_Tc Vn Point2_LREAL ip Container ITc Vn Container HRESULT F_VN_Median Element Elementwise_Tc Vn Point2_LREAL ↔ a Median Tc Vn Point2_LREAL hr Prev HRESULT Gets the element wise median container element. Syntax Definition: FUNCTION F_VN_Median Element Elementwise_Tc Vn Point2_LREAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Median : Tc Vn Point2_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Median Tc Vn Point2_LREAL [} 163] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 883
## Page 884

API reference System Requirements 6.1.4.8.2.8 F_VN_Median Element Elementwise_Tc Vn Point2_REAL F_VN_Median Element Elementwise_Tc Vn Point2_REAL ip Container ITc Vn Container HRESULT F_VN_Median Element Elementwise_Tc Vn Point2_REAL ↔ a Median Tc Vn Point2_REAL hr Prev HRESULT Gets the element wise median container element. Syntax Definition: FUNCTION F_VN_Median Element Elementwise_Tc Vn Point2_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Median : Tc Vn Point2_REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Median Tc Vn Point2_REAL [} 163] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.2.9 F_VN_Median Element Elementwise_Tc Vn Point3_LREAL F_VN_Median Element Elementwise_Tc Vn Point3_LREAL ip Container ITc Vn Container HRESULT F_VN_Median Element Elementwise_Tc Vn Point3_LREAL ↔ a Median Tc Vn Point3_LREAL hr Prev HRESULT Gets the element wise median container element. Syntax Definition: 884 Version: 2.4.0 TF7000 - TF7810
## Page 885

API reference FUNCTION F_VN_Median Element Elementwise_Tc Vn Point3_LREAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Median : Tc Vn Point3_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Median Tc Vn Point3_LREAL [} 163] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.2.10 F_VN_Median Element Elementwise_Tc Vn Point3_REAL F_VN_Median Element Elementwise_Tc Vn Point3_REAL ip Container ITc Vn Container HRESULT F_VN_Median Element Elementwise_Tc Vn Point3_REAL ↔ a Median Tc Vn Point3_REAL hr Prev HRESULT Gets the element wise median container element. Syntax Definition: FUNCTION F_VN_Median Element Elementwise_Tc Vn Point3_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Median : Tc Vn Point3_REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 885
## Page 886

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Median Tc Vn Point3_REAL [} 163] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.2.11 F_VN_Median Element Elementwise_Tc Vn Vector2_DINT F_VN_Median Element Elementwise_Tc Vn Vector2_DINT ip Container ITc Vn Container HRESULT F_VN_Median Element Elementwise_Tc Vn Vector2_DINT ↔ a Median Tc Vn Vector2_DINT hr Prev HRESULT Gets the element wise median container element. Syntax Definition: FUNCTION F_VN_Median Element Elementwise_Tc Vn Vector2_DINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Median : Tc Vn Vector2_DINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Median Tc Vn Vector2_DINT [} 165] Returns the requested element 886 Version: 2.4.0 TF7000 - TF7810
## Page 887

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.2.12 F_VN_Median Element Elementwise_Tc Vn Vector2_INT F_VN_Median Element Elementwise_Tc Vn Vector2_INT ip Container ITc Vn Container HRESULT F_VN_Median Element Elementwise_Tc Vn Vector2_INT ↔ a Median Tc Vn Vector2_INT hr Prev HRESULT Gets the element wise median container element. Syntax Definition: FUNCTION F_VN_Median Element Elementwise_Tc Vn Vector2_INT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Median : Tc Vn Vector2_INT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Median Tc Vn Vector2_INT [} 165] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 887
## Page 888

API reference System Requirements 6.1.4.8.2.13 F_VN_Median Element Elementwise_Tc Vn Vector2_REAL F_VN_Median Element Elementwise_Tc Vn Vector2_REAL ip Container ITc Vn Container HRESULT F_VN_Median Element Elementwise_Tc Vn Vector2_REAL ↔ a Median Tc Vn Vector2_REAL hr Prev HRESULT Gets the element wise median container element. Syntax Definition: FUNCTION F_VN_Median Element Elementwise_Tc Vn Vector2_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Median : Tc Vn Vector2_REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Median Tc Vn Vector2_REAL [} 165] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.2.14 F_VN_Median Element Elementwise_Tc Vn Vector2_SINT F_VN_Median Element Elementwise_Tc Vn Vector2_SINT ip Container ITc Vn Container HRESULT F_VN_Median Element Elementwise_Tc Vn Vector2_SINT ↔ a Median Tc Vn Vector2_SINT hr Prev HRESULT Gets the element wise median container element. Syntax Definition: 888 Version: 2.4.0 TF7000 - TF7810
## Page 889

API reference FUNCTION F_VN_Median Element Elementwise_Tc Vn Vector2_SINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Median : Tc Vn Vector2_SINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Median Tc Vn Vector2_SINT [} 165] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.2.15 F_VN_Median Element Elementwise_Tc Vn Vector2_UINT F_VN_Median Element Elementwise_Tc Vn Vector2_UINT ip Container ITc Vn Container HRESULT F_VN_Median Element Elementwise_Tc Vn Vector2_UINT ↔ a Median Tc Vn Vector2_UINT hr Prev HRESULT Gets the element wise median container element. Syntax Definition: FUNCTION F_VN_Median Element Elementwise_Tc Vn Vector2_UINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Median : Tc Vn Vector2_UINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 889
## Page 890

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Median Tc Vn Vector2_UINT [} 165] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.2.16 F_VN_Median Element Elementwise_Tc Vn Vector2_USINT F_VN_Median Element Elementwise_Tc Vn Vector2_USINT ip Container ITc Vn Container HRESULT F_VN_Median Element Elementwise_Tc Vn Vector2_USINT ↔a Median Tc Vn Vector2_USINT hr Prev HRESULT Gets the element wise median container element. Syntax Definition: FUNCTION F_VN_Median Element Elementwise_Tc Vn Vector2_USINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Median : Tc Vn Vector2_USINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Median Tc Vn Vector2_USINT Returns the requested element [} 165] 890 Version: 2.4.0 TF7000 - TF7810
## Page 891

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.2.17 F_VN_Median Element Elementwise_Tc Vn Vector3_INT F_VN_Median Element Elementwise_Tc Vn Vector3_INT ip Container ITc Vn Container HRESULT F_VN_Median Element Elementwise_Tc Vn Vector3_INT ↔ a Median Tc Vn Vector3_INT hr Prev HRESULT Gets the element wise median container element. Syntax Definition: FUNCTION F_VN_Median Element Elementwise_Tc Vn Vector3_INT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Median : Tc Vn Vector3_INT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Median Tc Vn Vector3_INT [} 165] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 891
## Page 892

API reference System Requirements 6.1.4.8.2.18 F_VN_Median Element Elementwise_Tc Vn Vector3_REAL F_VN_Median Element Elementwise_Tc Vn Vector3_REAL ip Container ITc Vn Container HRESULT F_VN_Median Element Elementwise_Tc Vn Vector3_REAL ↔ a Median Tc Vn Vector3_REAL hr Prev HRESULT Gets the element wise median container element. Syntax Definition: FUNCTION F_VN_Median Element Elementwise_Tc Vn Vector3_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Median : Tc Vn Vector3_REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Median Tc Vn Vector3_REAL [} 165] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.2.19 F_VN_Median Element Elementwise_Tc Vn Vector3_SINT F_VN_Median Element Elementwise_Tc Vn Vector3_SINT ip Container ITc Vn Container HRESULT F_VN_Median Element Elementwise_Tc Vn Vector3_SINT ↔ a Median Tc Vn Vector3_SINT hr Prev HRESULT Gets the element wise median container element. Syntax Definition: 892 Version: 2.4.0 TF7000 - TF7810
## Page 893

API reference FUNCTION F_VN_Median Element Elementwise_Tc Vn Vector3_SINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Median : Tc Vn Vector3_SINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Median Tc Vn Vector3_SINT [} 165] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.2.20 F_VN_Median Element Elementwise_Tc Vn Vector3_UINT F_VN_Median Element Elementwise_Tc Vn Vector3_UINT ip Container ITc Vn Container HRESULT F_VN_Median Element Elementwise_Tc Vn Vector3_UINT ↔ a Median Tc Vn Vector3_UINT hr Prev HRESULT Gets the element wise median container element. Syntax Definition: FUNCTION F_VN_Median Element Elementwise_Tc Vn Vector3_UINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Median : Tc Vn Vector3_UINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 893
## Page 894

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Median Tc Vn Vector3_UINT [} 165] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.2.21 F_VN_Median Element Elementwise_Tc Vn Vector3_USINT F_VN_Median Element Elementwise_Tc Vn Vector3_USINT ip Container ITc Vn Container HRESULT F_VN_Median Element Elementwise_Tc Vn Vector3_USINT ↔a Median Tc Vn Vector3_USINT hr Prev HRESULT Gets the element wise median container element. Syntax Definition: FUNCTION F_VN_Median Element Elementwise_Tc Vn Vector3_USINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Median : Tc Vn Vector3_USINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Median Tc Vn Vector3_USINT Returns the requested element [} 165] 894 Version: 2.4.0 TF7000 - TF7810
## Page 895

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.2.22 F_VN_Median Element Elementwise_Tc Vn Vector4_DINT F_VN_Median Element Elementwise_Tc Vn Vector4_DINT ip Container ITc Vn Container HRESULT F_VN_Median Element Elementwise_Tc Vn Vector4_DINT ↔ a Median Tc Vn Vector4_DINT hr Prev HRESULT Gets the element wise median container element. Syntax Definition: FUNCTION F_VN_Median Element Elementwise_Tc Vn Vector4_DINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Median : Tc Vn Vector4_DINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Median Tc Vn Vector4_DINT [} 165] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 895
## Page 896

API reference System Requirements 6.1.4.8.2.23 F_VN_Median Element Elementwise_Tc Vn Vector4_INT F_VN_Median Element Elementwise_Tc Vn Vector4_INT ip Container ITc Vn Container HRESULT F_VN_Median Element Elementwise_Tc Vn Vector4_INT ↔ a Median Tc Vn Vector4_INT hr Prev HRESULT Gets the element wise median container element. Syntax Definition: FUNCTION F_VN_Median Element Elementwise_Tc Vn Vector4_INT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Median : Tc Vn Vector4_INT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Median Tc Vn Vector4_INT [} 165] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.2.24 F_VN_Median Element Elementwise_Tc Vn Vector4_LREAL F_VN_Median Element Elementwise_Tc Vn Vector4_LREAL ip Container ITc Vn Container HRESULT F_VN_Median Element Elementwise_Tc Vn Vector4_LREAL ↔a Median Tc Vn Vector4_LREAL hr Prev HRESULT Gets the element wise median container element. Syntax Definition: 896 Version: 2.4.0 TF7000 - TF7810
## Page 897

API reference FUNCTION F_VN_Median Element Elementwise_Tc Vn Vector4_LREAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Median : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Median Tc Vn Vector4_LREAL Returns the requested element [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.2.25 F_VN_Median Element Elementwise_Tc Vn Vector4_SINT F_VN_Median Element Elementwise_Tc Vn Vector4_SINT ip Container ITc Vn Container HRESULT F_VN_Median Element Elementwise_Tc Vn Vector4_SINT ↔ a Median Tc Vn Vector4_SINT hr Prev HRESULT Gets the element wise median container element. Syntax Definition: FUNCTION F_VN_Median Element Elementwise_Tc Vn Vector4_SINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Median : Tc Vn Vector4_SINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 897
## Page 898

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Median Tc Vn Vector4_SINT [} 165] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.2.26 F_VN_Median Element Elementwise_Tc Vn Vector4_UINT F_VN_Median Element Elementwise_Tc Vn Vector4_UINT ip Container ITc Vn Container HRESULT F_VN_Median Element Elementwise_Tc Vn Vector4_UINT ↔ a Median Tc Vn Vector4_UINT hr Prev HRESULT Gets the element wise median container element. Syntax Definition: FUNCTION F_VN_Median Element Elementwise_Tc Vn Vector4_UINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Median : Tc Vn Vector4_UINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Median Tc Vn Vector4_UINT [} 165] Returns the requested element 898 Version: 2.4.0 TF7000 - TF7810
## Page 899

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.2.27 F_VN_Median Element Elementwise_Tc Vn Vector4_USINT F_VN_Median Element Elementwise_Tc Vn Vector4_USINT ip Container ITc Vn Container HRESULT F_VN_Median Element Elementwise_Tc Vn Vector4_USINT ↔a Median Tc Vn Vector4_USINT hr Prev HRESULT Gets the element wise median container element. Syntax Definition: FUNCTION F_VN_Median Element Elementwise_Tc Vn Vector4_USINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Median : Tc Vn Vector4_USINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Median Tc Vn Vector4_USINT Returns the requested element [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 899
## Page 900

API reference System Requirements 6.1.4.8.2.28 F_VN_Median Element Elementwise_UDINT F_VN_Median Element Elementwise_UDINT ip Container ITc Vn Container HRESULT F_VN_Median Element Elementwise_UDINT ↔ n Median UDINT hr Prev HRESULT Gets the element wise median container element. Syntax Definition: FUNCTION F_VN_Median Element Elementwise_UDINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT n Median : UDINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Median UDINT Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.2.29 F_VN_Median Element Elementwise_UINT F_VN_Median Element Elementwise_UINT ip Container ITc Vn Container HRESULT F_VN_Median Element Elementwise_UINT ↔ n Median UINT hr Prev HRESULT Gets the element wise median container element. Syntax Definition: 900 Version: 2.4.0 TF7000 - TF7810
## Page 901

API reference FUNCTION F_VN_Median Element Elementwise_UINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT n Median : UINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Median UINT Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.2.30 F_VN_Median Element Elementwise_ULINT F_VN_Median Element Elementwise_ULINT ip Container ITc Vn Container HRESULT F_VN_Median Element Elementwise_ULINT ↔ n Median ULINT hr Prev HRESULT Gets the element wise median container element. Syntax Definition: FUNCTION F_VN_Median Element Elementwise_ULINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT n Median : ULINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 901
## Page 902

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Median ULINT Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.2.31 F_VN_Median Element Elementwise_USINT F_VN_Median Element Elementwise_USINT ip Container ITc Vn Container HRESULT F_VN_Median Element Elementwise_USINT ↔ n Median USINT hr Prev HRESULT Gets the element wise median container element. Syntax Definition: FUNCTION F_VN_Median Element Elementwise_USINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT n Median : USINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Median USINT Returns the requested element 902 Version: 2.4.0 TF7000 - TF7810
## Page 903

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.2.32 F_VN_Median Element Elementwise_Tc Vn Vector4_REAL F_VN_Median Element Elementwise_Tc Vn Vector4_REAL ip Container ITc Vn Container HRESULT F_VN_Median Element Elementwise_Tc Vn Vector4_REAL ↔ a Median Tc Vn Vector4_REAL hr Prev HRESULT Gets the element wise median container element. Syntax Definition: FUNCTION F_VN_Median Element Elementwise_Tc Vn Vector4_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Median : Tc Vn Vector4_REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Median Tc Vn Vector4_REAL [} 165] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.3 F_VN_Min Element Elementwise This chapter contains functions to determine the min value according to the data type for each element. This function is available for containers with basic elements. TF7000 - TF7810 Version: 2.4.0 903
## Page 904

API reference For example, with a Tc Vn Point2_DINT, the minimum X-value and the minimum Y-value are determined independently of each other, so the values do not have to come from the same point. 6.1.4.8.3.1 F_VN_Min Element Elementwise_DINT F_VN_Min Element Elementwise_DINT ip Container ITc Vn Container HRESULT F_VN_Min Element Elementwise_DINT ↔ n Min DINT hr Prev HRESULT Gets the element wise minimum container element. Syntax Definition: FUNCTION F_VN_Min Element Elementwise_DINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT n Min : DINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Min DINT Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.3.2 F_VN_Min Element Elementwise_INT F_VN_Min Element Elementwise_INT ip Container ITc Vn Container HRESULT F_VN_Min Element Elementwise_INT ↔ n Min INT hr Prev HRESULT Gets the element wise minimum container element. 904 Version: 2.4.0 TF7000 - TF7810
## Page 905

API reference Syntax Definition: FUNCTION F_VN_Min Element Elementwise_INT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT n Min : INT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Min INT Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.3.3 F_VN_Min Element Elementwise_LREAL F_VN_Min Element Elementwise_LREAL ip Container ITc Vn Container HRESULT F_VN_Min Element Elementwise_LREAL ↔ f Min LREAL hr Prev HRESULT Gets the element wise minimum container element. Syntax Definition: FUNCTION F_VN_Min Element Elementwise_LREAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT f Min : LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 905
## Page 906

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description f Min LREAL Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.3.4 F_VN_Min Element Elementwise_REAL F_VN_Min Element Elementwise_REAL ip Container ITc Vn Container HRESULT F_VN_Min Element Elementwise_REAL ↔ f Min REAL hr Prev HRESULT Gets the element wise minimum container element. Syntax Definition: FUNCTION F_VN_Min Element Elementwise_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT f Min : REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description f Min REAL Returns the requested element 906 Version: 2.4.0 TF7000 - TF7810
## Page 907

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.3.5 F_VN_Min Element Elementwise_SINT F_VN_Min Element Elementwise_SINT ip Container ITc Vn Container HRESULT F_VN_Min Element Elementwise_SINT ↔ n Min SINT hr Prev HRESULT Gets the element wise minimum container element. Syntax Definition: FUNCTION F_VN_Min Element Elementwise_SINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT n Min : SINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Min SINT Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 907
## Page 908

API reference System Requirements 6.1.4.8.3.6 F_VN_Min Element Elementwise_Tc Vn Point2_DINT F_VN_Min Element Elementwise_Tc Vn Point2_DINT ip Container ITc Vn Container HRESULT F_VN_Min Element Elementwise_Tc Vn Point2_DINT ↔ a Min Tc Vn Point2_DINT hr Prev HRESULT Gets the element wise minimum container element. Syntax Definition: FUNCTION F_VN_Min Element Elementwise_Tc Vn Point2_DINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Min : Tc Vn Point2_DINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Min Tc Vn Point2_DINT [} 163] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.3.7 F_VN_Min Element Elementwise_Tc Vn Point2_LREAL F_VN_Min Element Elementwise_Tc Vn Point2_LREAL ip Container ITc Vn Container HRESULT F_VN_Min Element Elementwise_Tc Vn Point2_LREAL ↔ a Min Tc Vn Point2_LREAL hr Prev HRESULT Gets the element wise minimum container element. Syntax Definition: 908 Version: 2.4.0 TF7000 - TF7810
## Page 909

API reference FUNCTION F_VN_Min Element Elementwise_Tc Vn Point2_LREAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Min : Tc Vn Point2_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Min Tc Vn Point2_LREAL [} 163] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.3.8 F_VN_Min Element Elementwise_Tc Vn Point2_REAL F_VN_Min Element Elementwise_Tc Vn Point2_REAL ip Container ITc Vn Container HRESULT F_VN_Min Element Elementwise_Tc Vn Point2_REAL ↔ a Min Tc Vn Point2_REAL hr Prev HRESULT Gets the element wise minimum container element. Syntax Definition: FUNCTION F_VN_Min Element Elementwise_Tc Vn Point2_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Min : Tc Vn Point2_REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 909
## Page 910

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Min Tc Vn Point2_REAL [} 163] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.3.9 F_VN_Min Element Elementwise_Tc Vn Point3_LREAL F_VN_Min Element Elementwise_Tc Vn Point3_LREAL ip Container ITc Vn Container HRESULT F_VN_Min Element Elementwise_Tc Vn Point3_LREAL ↔ a Min Tc Vn Point3_LREAL hr Prev HRESULT Gets the element wise minimum container element. Syntax Definition: FUNCTION F_VN_Min Element Elementwise_Tc Vn Point3_LREAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Min : Tc Vn Point3_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Min Tc Vn Point3_LREAL [} 163] Returns the requested element 910 Version: 2.4.0 TF7000 - TF7810
## Page 911

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.3.10 F_VN_Min Element Elementwise_Tc Vn Point3_REAL F_VN_Min Element Elementwise_Tc Vn Point3_REAL ip Container ITc Vn Container HRESULT F_VN_Min Element Elementwise_Tc Vn Point3_REAL ↔ a Min Tc Vn Point3_REAL hr Prev HRESULT Gets the element wise minimum container element. Syntax Definition: FUNCTION F_VN_Min Element Elementwise_Tc Vn Point3_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Min : Tc Vn Point3_REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Min Tc Vn Point3_REAL [} 163] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 911
## Page 912

API reference System Requirements 6.1.4.8.3.11 F_VN_Min Element Elementwise_Tc Vn Vector2_DINT F_VN_Min Element Elementwise_Tc Vn Vector2_DINT ip Container ITc Vn Container HRESULT F_VN_Min Element Elementwise_Tc Vn Vector2_DINT ↔ a Min Tc Vn Vector2_DINT hr Prev HRESULT Gets the element wise minimum container element. Syntax Definition: FUNCTION F_VN_Min Element Elementwise_Tc Vn Vector2_DINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Min : Tc Vn Vector2_DINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Min Tc Vn Vector2_DINT [} 165] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.3.12 F_VN_Min Element Elementwise_Tc Vn Vector2_INT F_VN_Min Element Elementwise_Tc Vn Vector2_INT ip Container ITc Vn Container HRESULT F_VN_Min Element Elementwise_Tc Vn Vector2_INT ↔ a Min Tc Vn Vector2_INT hr Prev HRESULT Gets the element wise minimum container element. Syntax Definition: 912 Version: 2.4.0 TF7000 - TF7810
## Page 913

API reference FUNCTION F_VN_Min Element Elementwise_Tc Vn Vector2_INT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Min : Tc Vn Vector2_INT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Min Tc Vn Vector2_INT [} 165] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.3.13 F_VN_Min Element Elementwise_Tc Vn Vector2_REAL F_VN_Min Element Elementwise_Tc Vn Vector2_REAL ip Container ITc Vn Container HRESULT F_VN_Min Element Elementwise_Tc Vn Vector2_REAL ↔ a Min Tc Vn Vector2_REAL hr Prev HRESULT Gets the element wise minimum container element. Syntax Definition: FUNCTION F_VN_Min Element Elementwise_Tc Vn Vector2_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Min : Tc Vn Vector2_REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 913
## Page 914

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Min Tc Vn Vector2_REAL [} 165] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.3.14 F_VN_Min Element Elementwise_Tc Vn Vector2_SINT F_VN_Min Element Elementwise_Tc Vn Vector2_SINT ip Container ITc Vn Container HRESULT F_VN_Min Element Elementwise_Tc Vn Vector2_SINT ↔ a Min Tc Vn Vector2_SINT hr Prev HRESULT Gets the element wise minimum container element. Syntax Definition: FUNCTION F_VN_Min Element Elementwise_Tc Vn Vector2_SINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Min : Tc Vn Vector2_SINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Min Tc Vn Vector2_SINT [} 165] Returns the requested element 914 Version: 2.4.0 TF7000 - TF7810
## Page 915

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.3.15 F_VN_Min Element Elementwise_Tc Vn Vector2_UINT F_VN_Min Element Elementwise_Tc Vn Vector2_UINT ip Container ITc Vn Container HRESULT F_VN_Min Element Elementwise_Tc Vn Vector2_UINT ↔ a Min Tc Vn Vector2_UINT hr Prev HRESULT Gets the element wise minimum container element. Syntax Definition: FUNCTION F_VN_Min Element Elementwise_Tc Vn Vector2_UINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Min : Tc Vn Vector2_UINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Min Tc Vn Vector2_UINT [} 165] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 915
## Page 916

API reference System Requirements 6.1.4.8.3.16 F_VN_Min Element Elementwise_Tc Vn Vector2_USINT F_VN_Min Element Elementwise_Tc Vn Vector2_USINT ip Container ITc Vn Container HRESULT F_VN_Min Element Elementwise_Tc Vn Vector2_USINT ↔ a Min Tc Vn Vector2_USINT hr Prev HRESULT Gets the element wise minimum container element. Syntax Definition: FUNCTION F_VN_Min Element Elementwise_Tc Vn Vector2_USINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Min : Tc Vn Vector2_USINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Min Tc Vn Vector2_USINT Returns the requested element [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.3.17 F_VN_Min Element Elementwise_Tc Vn Vector3_INT F_VN_Min Element Elementwise_Tc Vn Vector3_INT ip Container ITc Vn Container HRESULT F_VN_Min Element Elementwise_Tc Vn Vector3_INT ↔ a Min Tc Vn Vector3_INT hr Prev HRESULT Gets the element wise minimum container element. Syntax Definition: 916 Version: 2.4.0 TF7000 - TF7810
## Page 917

API reference FUNCTION F_VN_Min Element Elementwise_Tc Vn Vector3_INT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Min : Tc Vn Vector3_INT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Min Tc Vn Vector3_INT [} 165] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.3.18 F_VN_Min Element Elementwise_Tc Vn Vector3_REAL F_VN_Min Element Elementwise_Tc Vn Vector3_REAL ip Container ITc Vn Container HRESULT F_VN_Min Element Elementwise_Tc Vn Vector3_REAL ↔ a Min Tc Vn Vector3_REAL hr Prev HRESULT Gets the element wise minimum container element. Syntax Definition: FUNCTION F_VN_Min Element Elementwise_Tc Vn Vector3_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Min : Tc Vn Vector3_REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 917
## Page 918

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Min Tc Vn Vector3_REAL [} 165] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.3.19 F_VN_Min Element Elementwise_Tc Vn Vector3_SINT F_VN_Min Element Elementwise_Tc Vn Vector3_SINT ip Container ITc Vn Container HRESULT F_VN_Min Element Elementwise_Tc Vn Vector3_SINT ↔ a Min Tc Vn Vector3_SINT hr Prev HRESULT Gets the element wise minimum container element. Syntax Definition: FUNCTION F_VN_Min Element Elementwise_Tc Vn Vector3_SINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Min : Tc Vn Vector3_SINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Min Tc Vn Vector3_SINT [} 165] Returns the requested element 918 Version: 2.4.0 TF7000 - TF7810
## Page 919

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.3.20 F_VN_Min Element Elementwise_Tc Vn Vector3_UINT F_VN_Min Element Elementwise_Tc Vn Vector3_UINT ip Container ITc Vn Container HRESULT F_VN_Min Element Elementwise_Tc Vn Vector3_UINT ↔ a Min Tc Vn Vector3_UINT hr Prev HRESULT Gets the element wise minimum container element. Syntax Definition: FUNCTION F_VN_Min Element Elementwise_Tc Vn Vector3_UINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Min : Tc Vn Vector3_UINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Min Tc Vn Vector3_UINT [} 165] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 919
## Page 920

API reference System Requirements 6.1.4.8.3.21 F_VN_Min Element Elementwise_Tc Vn Vector3_USINT F_VN_Min Element Elementwise_Tc Vn Vector3_USINT ip Container ITc Vn Container HRESULT F_VN_Min Element Elementwise_Tc Vn Vector3_USINT ↔ a Min Tc Vn Vector3_USINT hr Prev HRESULT Gets the element wise minimum container element. Syntax Definition: FUNCTION F_VN_Min Element Elementwise_Tc Vn Vector3_USINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Min : Tc Vn Vector3_USINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Min Tc Vn Vector3_USINT Returns the requested element [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.3.22 F_VN_Min Element Elementwise_Tc Vn Vector4_DINT F_VN_Min Element Elementwise_Tc Vn Vector4_DINT ip Container ITc Vn Container HRESULT F_VN_Min Element Elementwise_Tc Vn Vector4_DINT ↔ a Min Tc Vn Vector4_DINT hr Prev HRESULT Gets the element wise minimum container element. Syntax Definition: 920 Version: 2.4.0 TF7000 - TF7810
## Page 921

API reference FUNCTION F_VN_Min Element Elementwise_Tc Vn Vector4_DINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Min : Tc Vn Vector4_DINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Min Tc Vn Vector4_DINT [} 165] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.3.23 F_VN_Min Element Elementwise_Tc Vn Vector4_INT F_VN_Min Element Elementwise_Tc Vn Vector4_INT ip Container ITc Vn Container HRESULT F_VN_Min Element Elementwise_Tc Vn Vector4_INT ↔ a Min Tc Vn Vector4_INT hr Prev HRESULT Gets the element wise minimum container element. Syntax Definition: FUNCTION F_VN_Min Element Elementwise_Tc Vn Vector4_INT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Min : Tc Vn Vector4_INT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 921
## Page 922

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Min Tc Vn Vector4_INT [} 165] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.3.24 F_VN_Min Element Elementwise_Tc Vn Vector4_LREAL F_VN_Min Element Elementwise_Tc Vn Vector4_LREAL ip Container ITc Vn Container HRESULT F_VN_Min Element Elementwise_Tc Vn Vector4_LREAL ↔ a Min Tc Vn Vector4_LREAL hr Prev HRESULT Gets the element wise minimum container element. Syntax Definition: FUNCTION F_VN_Min Element Elementwise_Tc Vn Vector4_LREAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Min : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Min Tc Vn Vector4_LREAL Returns the requested element [} 165] 922 Version: 2.4.0 TF7000 - TF7810
## Page 923

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.3.25 F_VN_Min Element Elementwise_Tc Vn Vector4_SINT F_VN_Min Element Elementwise_Tc Vn Vector4_SINT ip Container ITc Vn Container HRESULT F_VN_Min Element Elementwise_Tc Vn Vector4_SINT ↔ a Min Tc Vn Vector4_SINT hr Prev HRESULT Gets the element wise minimum container element. Syntax Definition: FUNCTION F_VN_Min Element Elementwise_Tc Vn Vector4_SINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Min : Tc Vn Vector4_SINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Min Tc Vn Vector4_SINT [} 165] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 923
## Page 924

API reference System Requirements 6.1.4.8.3.26 F_VN_Min Element Elementwise_Tc Vn Vector4_UINT F_VN_Min Element Elementwise_Tc Vn Vector4_UINT ip Container ITc Vn Container HRESULT F_VN_Min Element Elementwise_Tc Vn Vector4_UINT ↔ a Min Tc Vn Vector4_UINT hr Prev HRESULT Gets the element wise minimum container element. Syntax Definition: FUNCTION F_VN_Min Element Elementwise_Tc Vn Vector4_UINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Min : Tc Vn Vector4_UINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Min Tc Vn Vector4_UINT [} 165] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.3.27 F_VN_Min Element Elementwise_Tc Vn Vector4_USINT F_VN_Min Element Elementwise_Tc Vn Vector4_USINT ip Container ITc Vn Container HRESULT F_VN_Min Element Elementwise_Tc Vn Vector4_USINT ↔ a Min Tc Vn Vector4_USINT hr Prev HRESULT Gets the element wise minimum container element. Syntax Definition: 924 Version: 2.4.0 TF7000 - TF7810
## Page 925

API reference FUNCTION F_VN_Min Element Elementwise_Tc Vn Vector4_USINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Min : Tc Vn Vector4_USINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Min Tc Vn Vector4_USINT Returns the requested element [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.3.28 F_VN_Min Element Elementwise_UDINT F_VN_Min Element Elementwise_UDINT ip Container ITc Vn Container HRESULT F_VN_Min Element Elementwise_UDINT ↔ n Min UDINT hr Prev HRESULT Gets the element wise minimum container element. Syntax Definition: FUNCTION F_VN_Min Element Elementwise_UDINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT n Min : UDINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 925
## Page 926

API reference Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Min UDINT Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.3.29 F_VN_Min Element Elementwise_UINT F_VN_Min Element Elementwise_UINT ip Container ITc Vn Container HRESULT F_VN_Min Element Elementwise_UINT ↔ n Min UINT hr Prev HRESULT Gets the element wise minimum container element. Syntax Definition: FUNCTION F_VN_Min Element Elementwise_UINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT n Min : UINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Min UINT Returns the requested element 926 Version: 2.4.0 TF7000 - TF7810
## Page 927

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.3.30 F_VN_Min Element Elementwise_ULINT F_VN_Min Element Elementwise_ULINT ip Container ITc Vn Container HRESULT F_VN_Min Element Elementwise_ULINT ↔ n Min ULINT hr Prev HRESULT Gets the element wise minimum container element. Syntax Definition: FUNCTION F_VN_Min Element Elementwise_ULINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT n Min : ULINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Min ULINT Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 927
## Page 928

API reference System Requirements 6.1.4.8.3.31 F_VN_Min Element Elementwise_USINT F_VN_Min Element Elementwise_USINT ip Container ITc Vn Container HRESULT F_VN_Min Element Elementwise_USINT ↔ n Min USINT hr Prev HRESULT Gets the element wise minimum container element. Syntax Definition: FUNCTION F_VN_Min Element Elementwise_USINT : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT n Min : USINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Min USINT Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.3.32 F_VN_Min Element Elementwise_Tc Vn Vector4_REAL F_VN_Min Element Elementwise_Tc Vn Vector4_REAL ip Container ITc Vn Container HRESULT F_VN_Min Element Elementwise_Tc Vn Vector4_REAL ↔ a Min Tc Vn Vector4_REAL hr Prev HRESULT Gets the element wise minimum container element. Syntax Definition: 928 Version: 2.4.0 TF7000 - TF7810
## Page 929

API reference FUNCTION F_VN_Min Element Elementwise_Tc Vn Vector4_REAL : HRESULT VAR_INPUT ip Container : ITc Vn Container; END_VAR VAR_IN_OUT a Min : Tc Vn Vector4_REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container ITc Vn Container [} 374] Source container hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Min Tc Vn Vector4_REAL [} 165] Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.4 F_VN_Container Average F_VN_Container Average ip Src Container ITc Vn Container HRESULT F_VN_Container Average ↔ f Average LREAL hr Prev HRESULT Calculate the average of elements in a container. Syntax Definition: FUNCTION F_VN_Container Average : HRESULT VAR_INPUT ip Src Container : ITc Vn Container; END_VAR VAR_IN_OUT f Average : LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 929
## Page 930

API reference Inputs Name Type Description ip Src Container ITc Vn Container [} 374] Source container (Arithmetic, point and vector element types are supported. For points and vectors, the euclidean norm is used.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description f Average LREAL Returns the calculated average value Return value HRESULT [} 144] Further information The table below shows which functions can be used for which container type: Types of containers Usable functions Containers of elements F_VN_Container Average [} 929] F_VN_Container Average Variance [} 934] Containers of vectors, each with 2 elements F_VN_Container Average Elementwise2 [} 930] F_VN_Container Average Variance Elementwise2 [} 935] Containers of vectors, each with 3 elements F_VN_Container Average Elementwise3 [} 931] F_VN_Container Average Variance Elementwise3 [} 936] Containers of vectors, each with 4 elements F_VN_Container Average Elementwise4 [} 933] F_VN_Container Average Variance Elementwise4 [} 937] Required License TC3 Vision Base System Requirements 6.1.4.8.5 F_VN_Container Average Elementwise2 F_VN_Container Average Elementwise2 ip Src Container ITc Vn Container HRESULT F_VN_Container Average Elementwise2 ↔ a Average Tc Vn Vector2_LREAL hr Prev HRESULT Calculate the elementwise average of 2D elements in a container. Syntax Definition: FUNCTION F_VN_Container Average Elementwise2 : HRESULT VAR_INPUT ip Src Container : ITc Vn Container; END_VAR VAR_IN_OUT a Average : Tc Vn Vector2_LREAL; END_VAR 930 Version: 2.4.0 TF7000 - TF7810
## Page 931

API reference VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Container ITc Vn Container [} 374] Source container with 2D points or vectors hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Average Tc Vn Vector2_LREAL Returns the calculated average values [} 165] Return value HRESULT [} 144] Further information This function calculates the average values element by element for a container with two elementary sub- elements per container element. The table below shows which functions can be used for which container type: Types of containers Usable functions Containers of elements F_VN_Container Average [} 929] F_VN_Container Average Variance [} 934] Containers of vectors, each with 2 elements F_VN_Container Average Elementwise2 [} 930] F_VN_Container Average Variance Elementwise2 [} 935] Containers of vectors, each with 3 elements F_VN_Container Average Elementwise3 [} 931] F_VN_Container Average Variance Elementwise3 [} 936] Containers of vectors, each with 4 elements F_VN_Container Average Elementwise4 [} 933] F_VN_Container Average Variance Elementwise4 [} 937] Required License TC3 Vision Base System Requirements 6.1.4.8.6 F_VN_Container Average Elementwise3 F_VN_Container Average Elementwise3 ip Src Container ITc Vn Container HRESULT F_VN_Container Average Elementwise3 ↔ a Average Tc Vn Vector3_LREAL hr Prev HRESULT Calculate the elementwise average of 3D elements in a container. TF7000 - TF7810 Version: 2.4.0 931
## Page 932

API reference Syntax Definition: FUNCTION F_VN_Container Average Elementwise3 : HRESULT VAR_INPUT ip Src Container : ITc Vn Container; END_VAR VAR_IN_OUT a Average : Tc Vn Vector3_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Container ITc Vn Container [} 374] Source container with 3D points or vectors hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Average Tc Vn Vector3_LREAL Returns the calculated average values [} 165] Return value HRESULT [} 144] Further information The table below shows which functions can be used for which container type: Types of containers Usable functions Containers of elements F_VN_Container Average [} 929] F_VN_Container Average Variance [} 934] Containers of vectors, each with 2 elements F_VN_Container Average Elementwise2 [} 930] F_VN_Container Average Variance Elementwise2 [} 935] Containers of vectors, each with 3 elements F_VN_Container Average Elementwise3 [} 931] F_VN_Container Average Variance Elementwise3 [} 936] Containers of vectors, each with 4 elements F_VN_Container Average Elementwise4 [} 933] F_VN_Container Average Variance Elementwise4 [} 937] Required License TC3 Vision Base 932 Version: 2.4.0 TF7000 - TF7810
## Page 933

API reference System Requirements 6.1.4.8.7 F_VN_Container Average Elementwise4 F_VN_Container Average Elementwise4 ip Src Container ITc Vn Container HRESULT F_VN_Container Average Elementwise4 ↔ a Average Tc Vn Vector4_LREAL hr Prev HRESULT Calculate the elementwise average of 4D elements in a container. Syntax Definition: FUNCTION F_VN_Container Average Elementwise4 : HRESULT VAR_INPUT ip Src Container : ITc Vn Container; END_VAR VAR_IN_OUT a Average : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Container ITc Vn Container [} 374] Source container with 4D vectors hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Average Tc Vn Vector4_LREAL Returns the calculated average values [} 165] Return value HRESULT [} 144] Further information The table below shows which functions can be used for which container type: Types of containers Usable functions Containers of elements F_VN_Container Average [} 929] F_VN_Container Average Variance [} 934] Containers of vectors, each with 2 elements F_VN_Container Average Elementwise2 [} 930] F_VN_Container Average Variance Elementwise2 [} 935] Containers of vectors, each with 3 elements F_VN_Container Average Elementwise3 [} 931] F_VN_Container Average Variance Elementwise3 [} 936] Containers of vectors, each with 4 elements F_VN_Container Average Elementwise4 [} 933] F_VN_Container Average Variance Elementwise4 [} 937] TF7000 - TF7810 Version: 2.4.0 933
## Page 934

API reference Required License TC3 Vision Base System Requirements 6.1.4.8.8 F_VN_Container Average Variance F_VN_Container Average Variance ip Src Container ITc Vn Container HRESULT F_VN_Container Average Variance ↔ f Average LREAL ↔ f Variance LREAL hr Prev HRESULT Calculate the average and variance of elements in a container. Syntax Definition: FUNCTION F_VN_Container Average Variance : HRESULT VAR_INPUT ip Src Container : ITc Vn Container; END_VAR VAR_IN_OUT f Average : LREAL; f Variance : LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Container ITc Vn Container [} 374] Source container (Arithmetic, point and vector element types are supported. For points and vectors, the euclidean norm is used.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description f Average LREAL Returns the calculated average value f Variance LREAL Returns the calculated variance value Return value HRESULT [} 144] Further information The table below shows which functions can be used for which container type: 934 Version: 2.4.0 TF7000 - TF7810
## Page 935

API reference Types of containers Usable functions Containers of elements F_VN_Container Average [} 929] F_VN_Container Average Variance [} 934] Containers of vectors, each with 2 elements F_VN_Container Average Elementwise2 [} 930] F_VN_Container Average Variance Elementwise2 [} 935] Containers of vectors, each with 3 elements F_VN_Container Average Elementwise3 [} 931] F_VN_Container Average Variance Elementwise3 [} 936] Containers of vectors, each with 4 elements F_VN_Container Average Elementwise4 [} 933] F_VN_Container Average Variance Elementwise4 [} 937] Required License TC3 Vision Base System Requirements 6.1.4.8.9 F_VN_Container Average Variance Elementwise2 F_VN_Container Average Variance Elementwise2 ip Src Container ITc Vn Container HRESULT F_VN_Container Average Variance Elementwise2 ↔ a Average Tc Vn Vector2_LREAL ↔ a Variance Tc Vn Vector2_LREAL hr Prev HRESULT Calculate the elementwise average and variance of 2D elements in a container. Syntax Definition: FUNCTION F_VN_Container Average Variance Elementwise2 : HRESULT VAR_INPUT ip Src Container : ITc Vn Container; END_VAR VAR_IN_OUT a Average : Tc Vn Vector2_LREAL; a Variance : Tc Vn Vector2_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Container ITc Vn Container [} 374] Source container with 2D points or vectors hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Average Tc Vn Vector2_LREAL Returns the calculated average values [} 165] a Variance Tc Vn Vector2_LREAL Returns the calculated variance values [} 165] TF7000 - TF7810 Version: 2.4.0 935
## Page 936

API reference Return value HRESULT [} 144] Further information The table below shows which functions can be used for which container type: Types of containers Usable functions Containers of elements F_VN_Container Average [} 929] F_VN_Container Average Variance [} 934] Containers of vectors, each with 2 elements F_VN_Container Average Elementwise2 [} 930] F_VN_Container Average Variance Elementwise2 [} 935] Containers of vectors, each with 3 elements F_VN_Container Average Elementwise3 [} 931] F_VN_Container Average Variance Elementwise3 [} 936] Containers of vectors, each with 4 elements F_VN_Container Average Elementwise4 [} 933] F_VN_Container Average Variance Elementwise4 [} 937] Required License TC3 Vision Base System Requirements 6.1.4.8.10 F_VN_Container Average Variance Elementwise3 F_VN_Container Average Variance Elementwise3 ip Src Container ITc Vn Container HRESULT F_VN_Container Average Variance Elementwise3 ↔ a Average Tc Vn Vector3_LREAL ↔ a Variance Tc Vn Vector3_LREAL hr Prev HRESULT Calculate the elementwise average and variance of 3D elements in a container. Syntax Definition: FUNCTION F_VN_Container Average Variance Elementwise3 : HRESULT VAR_INPUT ip Src Container : ITc Vn Container; END_VAR VAR_IN_OUT a Average : Tc Vn Vector3_LREAL; a Variance : Tc Vn Vector3_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Container ITc Vn Container [} 374] Source container with 3D points or vectors hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 936 Version: 2.4.0 TF7000 - TF7810
## Page 937

API reference In/Outputs Name Type Description a Average Tc Vn Vector3_LREAL Returns the calculated average values [} 165] a Variance Tc Vn Vector3_LREAL Returns the calculated variance values [} 165] Return value HRESULT [} 144] Further information The table below shows which functions can be used for which container type: Types of containers Usable functions Containers of elements F_VN_Container Average [} 929] F_VN_Container Average Variance [} 934] Containers of vectors, each with 2 elements F_VN_Container Average Elementwise2 [} 930] F_VN_Container Average Variance Elementwise2 [} 935] Containers of vectors, each with 3 elements F_VN_Container Average Elementwise3 [} 931] F_VN_Container Average Variance Elementwise3 [} 936] Containers of vectors, each with 4 elements F_VN_Container Average Elementwise4 [} 933] F_VN_Container Average Variance Elementwise4 [} 937] Required License TC3 Vision Base System Requirements 6.1.4.8.11 F_VN_Container Average Variance Elementwise4 F_VN_Container Average Variance Elementwise4 ip Src Container ITc Vn Container HRESULT F_VN_Container Average Variance Elementwise4 ↔ a Average Tc Vn Vector4_LREAL ↔ a Variance Tc Vn Vector4_LREAL hr Prev HRESULT Calculate the elementwise average and variance of 4D elements in a container. Syntax Definition: FUNCTION F_VN_Container Average Variance Elementwise4 : HRESULT VAR_INPUT ip Src Container : ITc Vn Container; END_VAR VAR_IN_OUT a Average : Tc Vn Vector4_LREAL; a Variance : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 937
## Page 938

API reference Inputs Name Type Description ip Src Container ITc Vn Container [} 374] Source container with 4D vectors hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Average Tc Vn Vector4_LREAL Returns the calculated average values [} 165] a Variance Tc Vn Vector4_LREAL Returns the calculated variance values [} 165] Return value HRESULT [} 144] Further information The table below shows which functions can be used for which container type: Types of containers Usable functions Containers of elements F_VN_Container Average [} 929] F_VN_Container Average Variance [} 934] Containers of vectors, each with 2 elements F_VN_Container Average Elementwise2 [} 930] F_VN_Container Average Variance Elementwise2 [} 935] Containers of vectors, each with 3 elements F_VN_Container Average Elementwise3 [} 931] F_VN_Container Average Variance Elementwise3 [} 936] Containers of vectors, each with 4 elements F_VN_Container Average Elementwise4 [} 933] F_VN_Container Average Variance Elementwise4 [} 937] Required License TC3 Vision Base System Requirements 6.1.4.8.12 F_VN_Max Element F_VN_Max Element ip Src Container ITc Vn Container HRESULT F_VN_Max Element ip Dest Iterator Reference To ITc Vn Bidirectional Iterator ↔ n Index ULINT hr Prev HRESULT Gets the maximum element of a container. Syntax Definition: 938 Version: 2.4.0 TF7000 - TF7810
## Page 939

API reference FUNCTION F_VN_Max Element : HRESULT VAR_INPUT ip Src Container : ITc Vn Container; ip Dest Iterator : Reference To ITc Vn Bidirectional Iterator; END_VAR VAR_IN_OUT n Index : ULINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Container ITc Vn Container [} 374] Source container (Arithmetic, point and vector element types are supported. For points and vectors, the euclidean norm is used.) ip Dest Iterator Reference To Returns an iterator to the requested element ITc Vn Bidirectional Iterator [} 364] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Index ULINT Returns the position of the requested element within the container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.13 F_VN_Median Element F_VN_Median Element ip Src Container ITc Vn Container HRESULT F_VN_Median Element ip Dest Iterator Reference To ITc Vn Bidirectional Iterator ↔ n Index ULINT hr Prev HRESULT Gets the median element of a container. Syntax Definition: FUNCTION F_VN_Median Element : HRESULT VAR_INPUT ip Src Container : ITc Vn Container; ip Dest Iterator : Reference To ITc Vn Bidirectional Iterator; END_VAR VAR_IN_OUT n Index : ULINT; END_VAR TF7000 - TF7810 Version: 2.4.0 939
## Page 940

API reference VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Container ITc Vn Container [} 374] Source container (Arithmetic, point and vector element types are supported. For points and vectors, the euclidean norm is used.) ip Dest Iterator Reference To Returns an iterator to the requested element ITc Vn Bidirectional Iterator [} 364] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Index ULINT Returns the position of the requested element within the container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.8.14 F_VN_Min Element F_VN_Min Element ip Src Container ITc Vn Container HRESULT F_VN_Min Element ip Dest Iterator Reference To ITc Vn Bidirectional Iterator ↔ n Index ULINT hr Prev HRESULT Gets the minimum element of a container. Syntax Definition: FUNCTION F_VN_Min Element : HRESULT VAR_INPUT ip Src Container : ITc Vn Container; ip Dest Iterator : Reference To ITc Vn Bidirectional Iterator; END_VAR VAR_IN_OUT n Index : ULINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR 940 Version: 2.4.0 TF7000 - TF7810
## Page 941

API reference Inputs Name Type Description ip Src Container ITc Vn Container [} 374] Source container (Arithmetic, point and vector element types are supported. For points and vectors, the euclidean norm is used.) ip Dest Iterator Reference To Returns an iterator to the requested element ITc Vn Bidirectional Iterator [} 364] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Index ULINT Returns the position of the requested element within the container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.9 Contour Analysis The group contains functions for the analysis of contours [} 158]: Functions Shape approximation • F_VN_Approximate Polygon [} 942] • F_VN_Convex Hull Points(Exp) [} 955] • F_VN_Enclosing Circle [} 959] • F_VN_Enclosing Rectangle [} 960] • F_VN_Enclosing Triangle [} 961] • F_VN_Fit Ellipse [} 962] • F_VN_Fit Line(Exp) [} 964] • F_VN_Upright Bounding Rectangle [} 971] Points • F_VN_Check If Point Is Inside Contour [} 943] • F_VN_Contour Extreme Point [} 949] • F_VN_Convexity Defects [} 957] Geometrical features • F_VN_Contour Area [} 944] • F_VN_Contour Center Of Mass [} 945] TF7000 - TF7810 Version: 2.4.0 941
## Page 942

API reference • F_VN_Contour Circularity [} 946] • F_VN_Contour Convexity [} 947] • F_VN_Contour Eccentricity [} 948] • F_VN_Contour Elongation [} 948] • F_VN_Contour Inertia Ratio [} 950] • F_VN_Contour Moments [} 951] • F_VN_Contour Orientation(Exp) [} 952] • F_VN_Contour Perimeter [} 954] • F_VN_Contour Roundness [} 955] • F_VN_Fourier Descriptors [} 965] Matching • F_VN_Match Contours(Exp) [} 970] • F_VN_Match Contours1vs N(Exp) [} 968] User-defined operations • F_VN_Custom Element Wise Container Operation_ITc Vn Container [} 958] • F_VN_Custom Element Wise Container Operation_ITc Vn Forward Iterator [} 959] 6.1.4.9.1 F_VN_Approximate Polygon F_VN_Approximate Polygon ip Src Contour ITc Vn Container HRESULT F_VN_Approximate Polygon ip Dest Contour Reference To ITc Vn Container f Max Dist LREAL b Closed BOOL hr Prev HRESULT Approximate a contour to a simplified polygon (using the Douglas-Peucker algorithm). Syntax Definition: FUNCTION F_VN_Approximate Polygon : HRESULT VAR_INPUT ip Src Contour : ITc Vn Container; ip Dest Contour : Reference To ITc Vn Container; f Max Dist : LREAL; b Closed : BOOL; hr Prev : HRESULT; END_VAR 942 Version: 2.4.0 TF7000 - TF7810
## Page 943

API reference Inputs Name Type Description ip Src Contour ITc Vn Container [} 374] Single contour (Container Type_Vector_Tc Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL; The elements of this container are the points of the contour.) ip Dest Contour Reference To Returns a container which is filled with the approximated ITc Vn Container [} 374] polygon points (same type ID as ip Src Contour; Non-zero interface pointers are reused.) f Max Dist LREAL Maximum distance between the original contour and its approximation b Closed BOOL Specify, if the contour is closed (first and last points connected) or not hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.9.2 F_VN_Check If Point Is Inside Contour F_VN_Check If Point Is Inside Contour ip Contour ITc Vn Container HRESULT F_VN_Check If Point Is Inside Contour ↔ a Point Tc Vn Point2_REAL ↔ f Dist LREAL b Measure Distance BOOL hr Prev HRESULT Checks if a point is inside a contour (and optionally return the distance to it). Syntax Definition: FUNCTION F_VN_Check If Point Is Inside Contour : HRESULT VAR_INPUT ip Contour : ITc Vn Container; END_VAR VAR_IN_OUT a Point : Tc Vn Point2_REAL; f Dist : LREAL; END_VAR VAR_INPUT b Measure Distance : BOOL; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 943
## Page 944

API reference Inputs Name Type Description ip Contour ITc Vn Container [} 374] Single contour (Container Type_Vector_Tc Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL) b Measure Dista BOOL If true, f Dist returns the distance to the nearest contour edge. nce Otherwise, f Dist only returns -1, 0 or +1 (recommended to set to false if the distance is not required, as this is faster). hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Point Tc Vn Point2_REAL [} 163] Point position to check f Dist LREAL Returns the result (> 0: the point is inside the contour; 0: the point is on the contour; < 0: the point is outside the contour) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.9.3 F_VN_Contour Area F_VN_Contour Area ip Contour ITc Vn Container HRESULT F_VN_Contour Area ↔ f Area LREAL hr Prev HRESULT Estimate the contour area using Green's formula. Syntax Definition: FUNCTION F_VN_Contour Area : HRESULT VAR_INPUT ip Contour : ITc Vn Container; END_VAR VAR_IN_OUT f Area : LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR 944 Version: 2.4.0 TF7000 - TF7810
## Page 945

API reference Inputs Name Type Description ip Contour ITc Vn Container [} 374] Single contour (Container Type_Vector_Tc Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL; The elements of this container are the points of the contour.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description f Area LREAL Returns the estimated contour area (The actual contour area may differ depending on the shape of the contour.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.9.4 F_VN_Contour Center Of Mass F_VN_Contour Center Of Mass ip Contour ITc Vn Container HRESULT F_VN_Contour Center Of Mass ↔ a Center Of Mass Tc Vn Point2_LREAL hr Prev HRESULT Computes the center of mass of a contour. Syntax Definition: FUNCTION F_VN_Contour Center Of Mass : HRESULT VAR_INPUT ip Contour : ITc Vn Container; END_VAR VAR_IN_OUT a Center Of Mass : Tc Vn Point2_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Contour ITc Vn Container [} 374] Single contour (Container Type_Vector_Tc Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL; The elements of this container are the points of the contour.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 945
## Page 946

API reference In/Outputs Name Type Description a Center Of Mas Tc Vn Point2_LREAL [} 163] Returns the center of mass of the contour s Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.9.5 F_VN_Contour Circularity F_VN_Contour Circularity ip Contour ITc Vn Container HRESULT F_VN_Contour Circularity ↔ f Circularity LREAL hr Prev HRESULT Computes the circularity of a contour (1.0: ideal circle, 0.0: straight line). Syntax Definition: FUNCTION F_VN_Contour Circularity : HRESULT VAR_INPUT ip Contour : ITc Vn Container; END_VAR VAR_IN_OUT f Circularity : LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Contour ITc Vn Container [} 374] Single contour (Container Type_Vector_Tc Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL; The elements of this container are the points of the contour.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description f Circularity LREAL Returns the circularity of the contour [0..1] Return value HRESULT [} 144] 946 Version: 2.4.0 TF7000 - TF7810
## Page 947

API reference Required License TC3 Vision Base System Requirements 6.1.4.9.6 F_VN_Contour Convexity F_VN_Contour Convexity ip Contour ITc Vn Container HRESULT F_VN_Contour Convexity ↔ f Convexity LREAL hr Prev HRESULT Computes the convexity of a contour as the ratio between the contour's area and the area of the convex hull (1.0: convex shapes (i.e. rectangle, circle, ..., etc.), 0.0: zero area (i.e. a line or an empty contour)). Syntax Definition: FUNCTION F_VN_Contour Convexity : HRESULT VAR_INPUT ip Contour : ITc Vn Container; END_VAR VAR_IN_OUT f Convexity : LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Contour ITc Vn Container [} 374] Single contour (Container Type_Vector_Tc Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL; The elements of this container are the points of the contour.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description f Convexity LREAL Returns the convexity of the contour [0..1] Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 947
## Page 948

API reference System Requirements 6.1.4.9.7 F_VN_Contour Eccentricity F_VN_Contour Eccentricity ip Contour ITc Vn Container HRESULT F_VN_Contour Eccentricity ↔ f Eccentricity LREAL hr Prev HRESULT Computes the eccentricity of a contour (0.0: circular, 1.0: linear). Syntax Definition: FUNCTION F_VN_Contour Eccentricity : HRESULT VAR_INPUT ip Contour : ITc Vn Container; END_VAR VAR_IN_OUT f Eccentricity : LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Contour ITc Vn Container [} 374] Single contour (Container Type_Vector_Tc Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL; The elements of this container are the points of the contour.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description f Eccentricity LREAL Returns the eccentricity of the contour [0..1] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.9.8 F_VN_Contour Elongation F_VN_Contour Elongation ip Contour ITc Vn Container HRESULT F_VN_Contour Elongation ↔ f Elongation LREAL hr Prev HRESULT Computes the elongation factor of a contour. 948 Version: 2.4.0 TF7000 - TF7810
## Page 949

API reference Syntax Definition: FUNCTION F_VN_Contour Elongation : HRESULT VAR_INPUT ip Contour : ITc Vn Container; END_VAR VAR_IN_OUT f Elongation : LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Contour ITc Vn Container [} 374] Single contour (Container Type_Vector_Tc Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL; The elements of this container are the points of the contour.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description f Elongation LREAL Returns the elongation of the contour Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.9.9 F_VN_Contour Extreme Point F_VN_Contour Extreme Point ip Contour ITc Vn Container HRESULT F_VN_Contour Extreme Point e Direction ETc Vn Extreme Point Direction ↔ a Extreme Point Tc Vn Point2_LREAL hr Prev HRESULT Finds the contour extreme point. Syntax Definition: FUNCTION F_VN_Contour Extreme Point : HRESULT VAR_INPUT ip Contour : ITc Vn Container; e Direction : ETc Vn Extreme Point Direction; END_VAR VAR_IN_OUT a Extreme Point : Tc Vn Point2_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 949
## Page 950

API reference Inputs Name Type Description ip Contour ITc Vn Container [} 374] Source container with 2D points (Tc Vn Point2_DINT or Tc Vn Point2_REAL or Tc Vn Point2_LREAL) e Direction Selects the search direction for the extreme point ETc Vn Extreme Point Directi on [} 204] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Extreme Point Tc Vn Point2_LREAL [} 163] Returns the extreme point of the contour, according to e Direction Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.9.10 F_VN_Contour Inertia Ratio F_VN_Contour Inertia Ratio ip Contour ITc Vn Container HRESULT F_VN_Contour Inertia Ratio ↔ f Inertia Ratio LREAL hr Prev HRESULT Computes the inertia ratio of a contour which reflects how a contour/shape is elongated (i.e. circle: 1.0, line: 0.0). Syntax Definition: FUNCTION F_VN_Contour Inertia Ratio : HRESULT VAR_INPUT ip Contour : ITc Vn Container; END_VAR VAR_IN_OUT f Inertia Ratio : LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR 950 Version: 2.4.0 TF7000 - TF7810
## Page 951

API reference Inputs Name Type Description ip Contour ITc Vn Container [} 374] Single contour (Container Type_Vector_Tc Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL; The elements of this container are the points of the contour.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description f Inertia Ratio LREAL Returns the inertia raio of the contour [0..1] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.9.11 F_VN_Contour Moments F_VN_Contour Moments ip Contour ITc Vn Container HRESULT F_VN_Contour Moments ↔ st Moments Tc Vn Moments hr Prev HRESULT Computes the spatial moments, the central moments, and the central normalized moments of a contour up to the third order. Syntax Definition: FUNCTION F_VN_Contour Moments : HRESULT VAR_INPUT ip Contour : ITc Vn Container; END_VAR VAR_IN_OUT st Moments : Tc Vn Moments; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Contour ITc Vn Container [} 374] Single contour (Container Type_Vector_Tc Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL; The elements of this container are the points of the contour.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 951
## Page 952

API reference In/Outputs Name Type Description st Moments Tc Vn Moments [} 238] Returns a struct containing the moments Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.9.12 F_VN_Contour Orientation F_VN_Contour Orientation ip Contour ITc Vn Container HRESULT F_VN_Contour Orientation ↔ st Orientation Tc Vn Rotated Rectangle hr Prev HRESULT Calculate the orientation of a contour or a set of points. Syntax Definition: FUNCTION F_VN_Contour Orientation : HRESULT VAR_INPUT ip Contour : ITc Vn Container; END_VAR VAR_IN_OUT st Orientation : Tc Vn Rotated Rectangle; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Contour ITc Vn Container [} 374] Source point set (Container Type_Vector_Tc Vn Point2_DINT, Container Type_Vector_Tc Vn Point2_REAL, or Container Type_Vector_Tc Vn Point2_LREAL. The elements of this container are the individual points.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Orientation Tc Vn Rotated Rectangle Resulting rotated rectangle, containig center of mass, lenghts of axes, and rotation angle of the contour in clockwise direction. [} 251] Return value HRESULT [} 144] 952 Version: 2.4.0 TF7000 - TF7810
## Page 953

API reference Required License TC3 Vision Base System Requirements 6.1.4.9.13 F_VN_Contour Orientation Exp F_VN_Contour Orientation Exp ip Contour ITc Vn Container HRESULT F_VN_Contour Orientation Exp ↔ st Orientation Tc Vn Rotated Rectangle e Method ETc Vn Orientation Method hr Prev HRESULT Calculate the orientation of a contour or a set of points. (expert function) Syntax Definition: FUNCTION F_VN_Contour Orientation Exp : HRESULT VAR_INPUT ip Contour : ITc Vn Container; END_VAR VAR_IN_OUT st Orientation : Tc Vn Rotated Rectangle; END_VAR VAR_INPUT e Method : ETc Vn Orientation Method; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Contour ITc Vn Container [} 374] Source point set (Container Type_Vector_Tc Vn Point2_DINT, Container Type_Vector_Tc Vn Point2_REAL, or Container Type_Vector_Tc Vn Point2_LREAL. The elements of this container are the individual points.) e Method ETc Vn Orientation Method Method for calculating the orientation. [} 215] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Orientation Tc Vn Rotated Rectangle Resulting rotated rectangle, containig center of mass, lenghts of axes, and rotation angle of the contour in clockwise direction. [} 251] Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 953
## Page 954

API reference System Requirements 6.1.4.9.14 F_VN_Contour Perimeter F_VN_Contour Perimeter ip Contour ITc Vn Container HRESULT F_VN_Contour Perimeter ↔ f Perimeter LREAL b Closed BOOL hr Prev HRESULT Computes the perimeter of a contour (curve length if the contour is not closed). Syntax Definition: FUNCTION F_VN_Contour Perimeter : HRESULT VAR_INPUT ip Contour : ITc Vn Container; END_VAR VAR_IN_OUT f Perimeter : LREAL; END_VAR VAR_INPUT b Closed : BOOL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Contour ITc Vn Container [} 374] Single contour (Container Type_Vector_Tc Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL; The elements of this container are the points of the contour.) b Closed BOOL Specifys, if the contour is closed (first and last points connected) or not hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description f Perimeter LREAL Returns the perimeter of the contour Return value HRESULT [} 144] Required License TC3 Vision Base 954 Version: 2.4.0 TF7000 - TF7810
## Page 955

API reference System Requirements 6.1.4.9.15 F_VN_Contour Roundness F_VN_Contour Roundness ip Contour ITc Vn Container HRESULT F_VN_Contour Roundness ↔ f Roundness LREAL hr Prev HRESULT Computes the roundness of a contour (perimeter^2 / area). Syntax Definition: FUNCTION F_VN_Contour Roundness : HRESULT VAR_INPUT ip Contour : ITc Vn Container; END_VAR VAR_IN_OUT f Roundness : LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Contour ITc Vn Container [} 374] Single contour (Container Type_Vector_Tc Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL; The elements of this container are the points of the contour.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description f Roundness LREAL Returns the roundness of the contour Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.9.16 F_VN_Convex Hull Points F_VN_Convex Hull Points ip Point Set ITc Vn Container HRESULT F_VN_Convex Hull Points ip Convex Hull Reference To ITc Vn Container hr Prev HRESULT Determines the convex hull of a point set. TF7000 - TF7810 Version: 2.4.0 955
## Page 956

API reference Syntax Definition: FUNCTION F_VN_Convex Hull Points : HRESULT VAR_INPUT ip Point Set : ITc Vn Container; ip Convex Hull : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Point Set ITc Vn Container [} 374] Source point set (Container Type_Vector_Tc Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL; The elements of this container are the individual points.) ip Convex Hull Reference To Returns a container which is filled with the sorted convex hull ITc Vn Container [} 374] points (same type ID as ip Point Set; Non-zero interface pointers are reused.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.9.17 F_VN_Convex Hull Points Exp F_VN_Convex Hull Points Exp ip Point Set ITc Vn Container HRESULT F_VN_Convex Hull Points Exp ip Convex Hull Reference To ITc Vn Container b Clockwise BOOL hr Prev HRESULT Determines the convex hull of a point set. (expert function) Syntax Definition: FUNCTION F_VN_Convex Hull Points Exp : HRESULT VAR_INPUT ip Point Set : ITc Vn Container; ip Convex Hull : Reference To ITc Vn Container; b Clockwise : BOOL; hr Prev : HRESULT; END_VAR 956 Version: 2.4.0 TF7000 - TF7810
## Page 957

API reference Inputs Name Type Description ip Point Set ITc Vn Container [} 374] Source point set (Container Type_Vector_Tc Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL; The elements of this container are the individual points.) ip Convex Hull Reference To Returns a container which is filled with the sorted convex hull ITc Vn Container [} 374] points (same type ID as ip Point Set; Non-zero interface pointers are reused.) b Clockwise BOOL Selects the sorting direction of the hull points, assuming cartesian coordinates. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.9.18 F_VN_Convexity Defects F_VN_Convexity Defects ip Contour ITc Vn Container HRESULT F_VN_Convexity Defects ip Convexity Defects Reference To ITc Vn Container hr Prev HRESULT Finds the convexity defects of a point set. Syntax Definition: FUNCTION F_VN_Convexity Defects : HRESULT VAR_INPUT ip Contour : ITc Vn Container; ip Convexity Defects : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Contour ITc Vn Container [} 374] Source contour (Container Type_Vector_Tc Vn Point2_DINT; The elements of this container are the individual points.) ip Convexity Def Reference To Returns a container which is filled with the convexity defects ects ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Vector4_DINT with [start Index, end Index, furthest Point Index, fixed Point Distance (8 fraction bits, i.e. divide by 256 to get the distance in pixels)]; Non-zero interface pointers are reused.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 957
## Page 958

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.9.19 F_VN_Custom Element Wise Container Operation_ITc Vn Container F_VN_Custom Element Wise Container Operation_ITc Vn Container ip Container1 ITc Vn Container HRESULT F_VN_Custom Element Wise Container Operation_ITc Vn Container ip Container2 ITc Vn Container ip Container3 ITc Vn Container ip Operation FB ITc Vn Custom Container Operation_ITc Vn Container hr Prev HRESULT Performs a custom, element wise operation on a set of up to 3 containers. Syntax Definition: FUNCTION F_VN_Custom Element Wise Container Operation_ITc Vn Container : HRESULT VAR_INPUT ip Container1 : ITc Vn Container; ip Container2 : ITc Vn Container; ip Container3 : ITc Vn Container; ip Operation FB : ITc Vn Custom Container Operation_ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container1 ITc Vn Container [} 374] Container 1 ip Container2 ITc Vn Container [} 374] Container 2 ip Container3 ITc Vn Container [} 374] Container 3 ip Operation FB Custom operation on the container elements ITc Vn Custom Container Op eration_ITc Vn Container [} 252] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base 958 Version: 2.4.0 TF7000 - TF7810
## Page 959

API reference System Requirements 6.1.4.9.20 F_VN_Custom Element Wise Container Operation_ITc Vn Forward Iterat or F_VN_Custom Element Wise Container Operation_ITc Vn Forward Iterator ip Container1 ITc Vn Container HRESULT F_VN_Custom Element Wise Container Operation_ITc Vn Forward Iterator ip Container2 ITc Vn Container ip Container3 ITc Vn Container ip Operation FB ITc Vn Custom Container Operation_ITc Vn Forward Iterator hr Prev HRESULT Performs a custom, element wise operation on a set of up to 3 containers. Syntax Definition: FUNCTION F_VN_Custom Element Wise Container Operation_ITc Vn Forward Iterator : HRESULT VAR_INPUT ip Container1 : ITc Vn Container; ip Container2 : ITc Vn Container; ip Container3 : ITc Vn Container; ip Operation FB : ITc Vn Custom Container Operation_ITc Vn Forward Iterator; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Container1 ITc Vn Container [} 374] Container 1 ip Container2 ITc Vn Container [} 374] Container 2 ip Container3 ITc Vn Container [} 374] Container 3 ip Operation FB Custom operation on the elements ITc Vn Custom Container Op eration_ITc Vn Forward Itera tor [} 253] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.9.21 F_VN_Enclosing Circle F_VN_Enclosing Circle ip Point Set ITc Vn Container HRESULT F_VN_Enclosing Circle ↔ a Center Tc Vn Point2_REAL ↔ f Radius REAL hr Prev HRESULT Searchs for a minimum area circle enclosing a set of points. TF7000 - TF7810 Version: 2.4.0 959
## Page 960

API reference Syntax Definition: FUNCTION F_VN_Enclosing Circle : HRESULT VAR_INPUT ip Point Set : ITc Vn Container; END_VAR VAR_IN_OUT a Center : Tc Vn Point2_REAL; f Radius : REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Point Set ITc Vn Container [} 374] Source point set (Container Type_Vector_Tc Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL; The elements of this container are the individual points.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Center Tc Vn Point2_REAL [} 163] Returns the center of the circle f Radius REAL Returns the radius of the circle Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.9.22 F_VN_Enclosing Rectangle F_VN_Enclosing Rectangle ip Point Set ITc Vn Container HRESULT F_VN_Enclosing Rectangle ↔ st Rectangle Tc Vn Rotated Rectangle hr Prev HRESULT Searches for a minimum area rectangle enclosing a set of points. Syntax Definition: FUNCTION F_VN_Enclosing Rectangle : HRESULT VAR_INPUT ip Point Set : ITc Vn Container; END_VAR VAR_IN_OUT st Rectangle : Tc Vn Rotated Rectangle; END_VAR 960 Version: 2.4.0 TF7000 - TF7810
## Page 961

API reference VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Point Set ITc Vn Container [} 374] Source point set (Container Type_Vector_Tc Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL; The elements of this container are the individual points.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Rectangle Tc Vn Rotated Rectangle Returns the determined rectangle [} 251] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.9.23 F_VN_Enclosing Triangle F_VN_Enclosing Triangle ip Point Set ITc Vn Container LREAL f Area ↔ a Triangle Vertices Tc Vn Array3_Point2_REAL HRESULT F_VN_Enclosing Triangle hr Prev HRESULT Searches for a minimum area triangle enclosing a set of points. Syntax Definition: FUNCTION F_VN_Enclosing Triangle : HRESULT VAR_INPUT ip Point Set : ITc Vn Container; END_VAR VAR_IN_OUT a Triangle Vertices : Tc Vn Array3_Point2_REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR VAR_OUTPUT f Area : LREAL; END_VAR TF7000 - TF7810 Version: 2.4.0 961
## Page 962

API reference Inputs Name Type Description ip Point Set ITc Vn Container [} 374] Source point set (Container Type_Vector_Tc Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL; The elements of this container are the individual points.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Triangle Vertic Tc Vn Array3_Point2_REAL Returns the 3 triangle vertices es [} 165] Outputs Name Type Description f Area LREAL Returns the triangle area Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.9.24 F_VN_Fit Ellipse F_VN_Fit Ellipse ip Point Set ITc Vn Container HRESULT F_VN_Fit Ellipse ↔ st Ellipse Tc Vn Rotated Rectangle hr Prev HRESULT Fit an ellipse in a point set. Syntax Definition: FUNCTION F_VN_Fit Ellipse : HRESULT VAR_INPUT ip Point Set : ITc Vn Container; END_VAR VAR_IN_OUT st Ellipse : Tc Vn Rotated Rectangle; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR 962 Version: 2.4.0 TF7000 - TF7810
## Page 963

API reference Inputs Name Type Description ip Point Set ITc Vn Container [} 374] Source point set (Container Type_Vector_Tc Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL; At least 5 reasonable points are required! The elements of this container are the individual points.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Ellipse Tc Vn Rotated Rectangle Resulting ellipse, described by a rotated rectangle. [} 251] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.9.25 F_VN_Fit Line F_VN_Fit Line ip Point Set ITc Vn Container HRESULT F_VN_Fit Line ↔ a Fit Line Tc Vn Vector4_LREAL hr Prev HRESULT Fit a line into a point set. Syntax Definition: FUNCTION F_VN_Fit Line : HRESULT VAR_INPUT ip Point Set : ITc Vn Container; END_VAR VAR_IN_OUT a Fit Line : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Point Set ITc Vn Container [} 374] Source point set (Container Type_Vector_Tc Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL; The elements of this container are the individual points.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 963
## Page 964

API reference In/Outputs Name Type Description a Fit Line Tc Vn Vector4_LREAL Resulting line. The first and second element describe the x and y component of a vector collinear to the line. The third and fourth [} 165] element describe the x and y component of a point on the line. Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.9.26 F_VN_Fit Line Exp F_VN_Fit Line Exp ip Point Set ITc Vn Container HRESULT F_VN_Fit Line Exp ↔ a Fit Line Tc Vn Vector4_LREAL e Distance Type ETc Vn Distance Type f Param LREAL f Eps Radius LREAL f Eps Angle LREAL hr Prev HRESULT Fit a line into a point set. (expert function) Syntax Definition: FUNCTION F_VN_Fit Line Exp : HRESULT VAR_INPUT ip Point Set : ITc Vn Container; END_VAR VAR_IN_OUT a Fit Line : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT e Distance Type : ETc Vn Distance Type; f Param : LREAL; f Eps Radius : LREAL; f Eps Angle : LREAL; hr Prev : HRESULT; END_VAR 964 Version: 2.4.0 TF7000 - TF7810
## Page 965

API reference Inputs Name Type Description ip Point Set ITc Vn Container [} 374] Source point set (Container Type_Vector_Tc Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL; The elements of this container are the individual points.) e Distance Type ETc Vn Distance Type Distance computation method (supported: L1, L2, L12, FAIR, WELSCH, HUBER) [} 199] f Param LREAL Numerical parameter (c) for some e Distance Type (should be >= 0). If 0, an optimal value is chosen internally. f Eps Radius LREAL Accuracy of the radius (distance of the line from the coordinate origin, should be > 0). A smaller value means higher accuracy. f Eps Angle LREAL Accuracy of the angle (should be > 0). A smaller value means higher accuracy. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Fit Line Tc Vn Vector4_LREAL Resulting line. The first and second element describe the x and y component of a vector collinear to the line. The third and fourth [} 165] element describe the x and y component of a point on the line. Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.9.27 F_VN_Fourier Descriptors F_VN_Fourier Descriptors ip Contour ITc Vn Container HRESULT F_VN_Fourier Descriptors ip Descriptors Reference To ITc Vn Container n Descriptors DINT hr Prev HRESULT Computes the fourier descriptors for a closed contour. Syntax Definition: FUNCTION F_VN_Fourier Descriptors : HRESULT VAR_INPUT ip Contour : ITc Vn Container; ip Descriptors : Reference To ITc Vn Container; n Descriptors : DINT; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 965
## Page 966

API reference Inputs Name Type Description ip Contour ITc Vn Container [} 374] Closed contour (Container Type_Vector_Tc Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL or Container Type_Vector_Tc Vn Point2_LREAL. Providing the full contour is strongly recommended, i.e. use TCVN_CAM_NONE for contour detection algorithms.) ip Descriptors Reference To Returns the fourier descriptors for ip Contour (Re0, Im0, Re1, ITc Vn Container [} 374] Im1, ...; Container Type_Vector_LREAL if ip Contour is of type Container Type_Vector_Tc Vn Point2_LREAL, else Container Type_Vector_REAL.) n Descriptors DINT Specifies how many descriptors should be returned (set to -1 to return all computed descriptors, i.e. at least as many as the number of contour points) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.9.28 F_VN_Match Contours F_VN_Match Contours ip Contour1 ITc Vn Container HRESULT F_VN_Match Contours ip Contour2 ITc Vn Container e Comparison Method ETc Vn Contours Match Comparison Method ↔ f Dissimilarity LREAL hr Prev HRESULT Compare contours using the Hu moment invariants. In case of multiple contours in each container, the best matches are found and the average dissimilarity over all matched contours is returned. Syntax Definition: FUNCTION F_VN_Match Contours : HRESULT VAR_INPUT ip Contour1 : ITc Vn Container; ip Contour2 : ITc Vn Container; e Comparison Method : ETc Vn Contours Match Comparison Method; END_VAR VAR_IN_OUT f Dissimilarity : LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR 966 Version: 2.4.0 TF7000 - TF7810
## Page 967

API reference Inputs Name Type Description ip Contour1 ITc Vn Container [} 374] First contour (Container Type_Vector_Tc Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL; The elements of this container are the points of the contour) or collection of multiple contours (Container Type_Vector_Vector_Tc Vn Point2_DINT) ip Contour2 ITc Vn Container [} 374] Second contour (same type as ip Contour1) e Comparison M Method used for comparing the Hu moment invariants of the ethod ETc Vn Contours Match Com contours parison Method [} 197] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description f Dissimilarity LREAL Returns the dissimilarity of the contours depending on the chosen comparison method Return value HRESULT [} 144] Samples • Match Contours 1vs N (manual shapes) [} 2750] • Match Contours (extracted shapes) [} 2753] Related functions • F_VN_Contour Moments [} 951] • F_VN_Hu Moment Invariants [} 1524] • F_VN_Match Contours [} 966] • F_VN_Match Contours1vs N [} 967] Required License TC3 Vision Matching System Requirements 6.1.4.9.29 F_VN_Match Contours1vs N F_VN_Match Contours1vs N ip Ref Contour ITc Vn Container HRESULT F_VN_Match Contours1vs N ip Contours ITc Vn Container ip Match Indexes Reference To ITc Vn Container ip Dissimilarities Reference To ITc Vn Container f Dissimilarity Threshold LREAL e Comparison Method ETc Vn Contours Match Comparison Method hr Prev HRESULT Compare a reference contour with multiple other contours using the Hu moment invariants. Returns a sorted list of best matches. TF7000 - TF7810 Version: 2.4.0 967
## Page 968

API reference Syntax Definition: FUNCTION F_VN_Match Contours1vs N : HRESULT VAR_INPUT ip Ref Contour : ITc Vn Container; ip Contours : ITc Vn Container; ip Match Indexes : Reference To ITc Vn Container; ip Dissimilarities : Reference To ITc Vn Container; f Dissimilarity Threshold : LREAL; e Comparison Method : ETc Vn Contours Match Comparison Method; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Ref Contour ITc Vn Container [} 374] Reference contour (Container Type_Vector_Tc Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL; The elements of this container are the points of the contour) ip Contours ITc Vn Container [} 374] Collection of multiple contours (CTc Vn Container_Vector_Vector_Tc Vn Point2_DINT) ip Match Indexe Reference To Returns the indexes of the best matches s ITc Vn Container [} 374] (CTc Vn Container_Vector_ULINT; sorted, first element is best match, i.e. has lowest dissimilarity) ip Dissimilarities Reference To Returns the computed dissimilarities of the best matches ITc Vn Container [} 374] (CTc Vn Container_Vector_LREAL; Optional, set to 0 if not required; sorted corresponding to ip Match Indexes) f Dissimilarity Th LREAL Neglect irrelevant matches, i.e. dissimilarity > reshold f Dissimilarity Threshold e Comparison M Method used for comparing the Hu moment invariants of the ethod ETc Vn Contours Match Com contours parison Method [} 197] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.9.30 F_VN_Match Contours1vs NExp F_VN_Match Contours1vs NExp ip Ref Contour ITc Vn Container HRESULT F_VN_Match Contours1vs NExp ip Contours ITc Vn Container ip Match Indexes Reference To ITc Vn Container ip Dissimilarities Reference To ITc Vn Container f Dissimilarity Threshold LREAL e Comparison Method ETc Vn Contours Match Comparison Method f Area Factor LREAL f Abs Position Factor LREAL hr Prev HRESULT Compare a reference contour with multiple other contours using the Hu moment invariants (and optionally further aspects). Returns a sorted list of best matches. (expert function) 968 Version: 2.4.0 TF7000 - TF7810
## Page 969

API reference Syntax Definition: FUNCTION F_VN_Match Contours1vs NExp : HRESULT VAR_INPUT ip Ref Contour : ITc Vn Container; ip Contours : ITc Vn Container; ip Match Indexes : Reference To ITc Vn Container; ip Dissimilarities : Reference To ITc Vn Container; f Dissimilarity Threshold : LREAL; e Comparison Method : ETc Vn Contours Match Comparison Method; f Area Factor : LREAL; f Abs Position Factor : LREAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Ref Contour ITc Vn Container [} 374] Reference contour (Container Type_Vector_Tc Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL; The elements of this container are the points of the contour) ip Contours ITc Vn Container [} 374] Collection of multiple contours (CTc Vn Container_Vector_Vector_Tc Vn Point2_DINT) ip Match Indexe Reference To Returns the indexes of the best matches s ITc Vn Container [} 374] (CTc Vn Container_Vector_ULINT; sorted, first element is best match, i.e. has lowest dissimilarity) ip Dissimilarities Reference To Returns the computed dissimilarities of the best matches ITc Vn Container [} 374] (CTc Vn Container_Vector_LREAL; Optional, set to 0 if not required; sorted corresponding to ip Match Indexes) f Dissimilarity Th LREAL Neglect irrelevant matches, i.e. dissimilarity > reshold f Dissimilarity Threshold e Comparison M Method used for comparing the Hu moment invariants of the ethod ETc Vn Contours Match Com contours parison Method [} 197] f Area Factor LREAL If > 0, the relative area difference between contours is scaled by this factor and added to the computed dissimilarity f Abs Position Fa LREAL If > 0, the absolute position difference between contours (i.e. the ctor coordinates of the geometric contour centers) is scaled by this factor and added to the computed dissimilarity hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Matching TF7000 - TF7810 Version: 2.4.0 969
## Page 970

API reference System Requirements 6.1.4.9.31 F_VN_Match Contours Exp F_VN_Match Contours Exp ip Contour1 ITc Vn Container HRESULT F_VN_Match Contours Exp ip Contour2 ITc Vn Container e Comparison Method ETc Vn Contours Match Comparison Method ↔ f Dissimilarity LREAL f Area Factor LREAL f Abs Position Factor LREAL f Rel Position Factor LREAL f Num Diff Factor LREAL hr Prev HRESULT Compare contours using the Hu moment invariants (and optionally further aspects). In case of multiple contours in each container, the best matches are found and the average dissimilarity over all matched contours is returned. (expert function) Syntax Definition: FUNCTION F_VN_Match Contours Exp : HRESULT VAR_INPUT ip Contour1 : ITc Vn Container; ip Contour2 : ITc Vn Container; e Comparison Method : ETc Vn Contours Match Comparison Method; END_VAR VAR_IN_OUT f Dissimilarity : LREAL; END_VAR VAR_INPUT f Area Factor : LREAL; f Abs Position Factor : LREAL; f Rel Position Factor : LREAL; f Num Diff Factor : LREAL; hr Prev : HRESULT; END_VAR 970 Version: 2.4.0 TF7000 - TF7810
## Page 971

API reference Inputs Name Type Description ip Contour1 ITc Vn Container [} 374] First contour (Container Type_Vector_Tc Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL; The elements of this container are the points of the contour) or collection of multiple contours (Container Type_Vector_Vector_Tc Vn Point2_DINT) ip Contour2 ITc Vn Container [} 374] Second contour (same type as ip Contour1) e Comparison M Method used for comparing the Hu moment invariants of the ethod ETc Vn Contours Match Com contours parison Method [} 197] f Area Factor LREAL If > 0, the relative area difference between contours is scaled by this factor and added to the computed dissimilarity f Abs Position Fa LREAL If > 0, the absolute position difference between contours (i.e. the ctor coordinates of the geometric contour centers) is scaled by this factor and added to the computed dissimilarity f Rel Position Fa LREAL If > 0, the relative position difference between contours is scaled ctor by this factor and added to the computed dissimilarity (only used if matching multiple contours) f Num Diff Factor LREAL If > 0, the difference between the number of contours in both containers is scaled by this factor and added to the computed dissimilarity (only used if matching multiple contours) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description f Dissimilarity LREAL Returns the dissimilarity of the contours depending on the chosen comparison method Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.9.32 F_VN_Upright Bounding Rectangle F_VN_Upright Bounding Rectangle ip Point Set ITc Vn Container HRESULT F_VN_Upright Bounding Rectangle ↔ st Rectangle Tc Vn Rectangle_UDINT hr Prev HRESULT Determines the upright bounding rectangle of a set of points. Syntax Definition: FUNCTION F_VN_Upright Bounding Rectangle : HRESULT VAR_INPUT ip Point Set : ITc Vn Container; END_VAR TF7000 - TF7810 Version: 2.4.0 971
## Page 972

API reference VAR_IN_OUT st Rectangle : Tc Vn Rectangle_UDINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Point Set ITc Vn Container [} 374] Source point set (Container Type_Vector_Tc Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL; The elements of this container are the individual points.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Rectangle Tc Vn Rectangle_UDINT Returns the determined rectangle [} 251] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.9.33 F_VN_Contour Circularity Exp F_VN_Contour Circularity Exp ip Contour ITc Vn Container HRESULT F_VN_Contour Circularity Exp ↔ f Circularity LREAL e Method ETc Vn Circularity Calculation Method hr Prev HRESULT Computes the circularity of a contour (1.0: ideal circle, 0.0: straight line). (expert function) Syntax Definition: FUNCTION F_VN_Contour Circularity Exp : HRESULT VAR_INPUT ip Contour : ITc Vn Container; END_VAR VAR_IN_OUT f Circularity : LREAL; END_VAR VAR_INPUT e Method : ETc Vn Circularity Calculation Method; hr Prev : HRESULT; END_VAR 972 Version: 2.4.0 TF7000 - TF7810
## Page 973

API reference Inputs Name Type Description ip Contour ITc Vn Container [} 374] Single contour (Container Type_Vector_Tc Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL; The elements of this container are the points of the contour.) e Method ETc Vn Circularity Calculatio Method used for computing the circularity n Method [} 230] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description f Circularity LREAL Returns the circularity of the contour [0..1] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.10 Control Functions This group contains functions for sequential control, e.g. for the handling of watchdogs [} 149]. Functions Watchdogs • F_VN_Start Abs Watchdog(Exp) [} 974] • F_VN_Start Rel Watchdog(Exp) [} 975] • F_VN_Stop Watchdog [} 976] 6.1.4.10.1 F_VN_Start Abs Watchdog F_VN_Start Abs Watchdog t Stop DINT HRESULT F_VN_Start Abs Watchdog hr Prev HRESULT Starts a cooperative watchdog given an absolute stop time. Syntax Definition: FUNCTION F_VN_Start Abs Watchdog : HRESULT VAR_INPUT t Stop : DINT; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 973
## Page 974

API reference Inputs Name Type Description t Stop DINT Stop time in us hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information Further information can be found in the chapter Watchdogs [} 149]. t Stop time exceeded Note that the t Stop time is slightly exceeded (by a few µs) when the watchdog is triggered. Required License TC3 Vision Base System Requirements 6.1.4.10.2 F_VN_Start Abs Watchdog Exp F_VN_Start Abs Watchdog Exp t Stop DINT HRESULT F_VN_Start Abs Watchdog Exp e Watchdog Acc Type ETc Watchdog Accumulation Type hr Prev HRESULT Start a cooperative watchdog given an absolute stop time. (expert function) Syntax Definition: FUNCTION F_VN_Start Abs Watchdog Exp : HRESULT VAR_INPUT t Stop : DINT; e Watchdog Acc Type : ETc Watchdog Accumulation Type; hr Prev : HRESULT; END_VAR Inputs Name Type Description t Stop DINT Stop time in us e Watchdog Acc Accumalation method used for combining the results of multiple Type ETc Watchdog Accumulatio functions enclosed by this watchdog n Type [} 227] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] 974 Version: 2.4.0 TF7000 - TF7810
## Page 975

API reference Required License TC3 Vision Base System Requirements 6.1.4.10.3 F_VN_Start Rel Watchdog F_VN_Start Rel Watchdog t Stop DINT HRESULT F_VN_Start Rel Watchdog hr Prev HRESULT Starts a cooperative watchdog given a stop time relative to the current time. Syntax Definition: FUNCTION F_VN_Start Rel Watchdog : HRESULT VAR_INPUT t Stop : DINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description t Stop DINT Stop time in us hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information Further information can be found in the chapter Watchdogs [} 149]. t Stop time exceeded Note that the t Stop time is slightly exceeded (by a few µs) when the watchdog is triggered. Required License TC3 Vision Base System Requirements 6.1.4.10.4 F_VN_Start Rel Watchdog Exp F_VN_Start Rel Watchdog Exp t Stop DINT HRESULT F_VN_Start Rel Watchdog Exp e Watchdog Acc Type ETc Watchdog Accumulation Type hr Prev HRESULT Start a cooperative watchdog given a stop time relative to the current time. (expert function) TF7000 - TF7810 Version: 2.4.0 975
## Page 976

API reference Syntax Definition: FUNCTION F_VN_Start Rel Watchdog Exp : HRESULT VAR_INPUT t Stop : DINT; e Watchdog Acc Type : ETc Watchdog Accumulation Type; hr Prev : HRESULT; END_VAR Inputs Name Type Description t Stop DINT Stop time in us e Watchdog Acc Accumalation method used for combining the results of multiple Type ETc Watchdog Accumulatio functions enclosed by this watchdog n Type [} 227] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.10.5 F_VN_Stop Watchdog F_VN_Stop Watchdog hr Start Watchdog HRESULT ULINT n Functions Monitored UDINT n Fraction Processed DINT t Rest HRESULT F_VN_Stop Watchdog Stops a watchdog and provide runtime information. Syntax Definition: FUNCTION F_VN_Stop Watchdog : HRESULT VAR_INPUT hr Start Watchdog : HRESULT; END_VAR VAR_OUTPUT n Functions Monitored : ULINT; n Fraction Processed : UDINT; t Rest : DINT; END_VAR Inputs Name Type Description hr Start Watchd HRESULT [} 144] HRESULT indicating the result of the function used to start the og watchdog (If SUCCEEDED(hr Start Watchdog) equals false, no operation is executed.) 976 Version: 2.4.0 TF7000 - TF7810
## Page 977

API reference Outputs Name Type Description n Functions Mon ULINT Returns the number of functions monitored itored n Fraction Proce UDINT Returns the fraction processed accumulated over the monitored ssed functions in percent t Rest DINT Returns the remaining computation time in us (may be negative) Return value HRESULT [} 144] Further information The output n Fraction Processed must be interpreted differently depending on the parameterization of the watchdog. This is set with ETc Watchdog Accumulation Type [} 227] when starting the watchdog. Further information can be found under Watchdogs [} 149]. Required License TC3 Vision Base System Requirements 6.1.4.11 Drawing This group contains functions for painting and describing images. Handling 4-channel colors 4-channel colors are accepted directly into the result image. No alpha blending or similar takes place. Functions Arrow • F_VN_Draw Arrow(Exp) [} 979] • F_VN_Draw Arrow(Exp)_Tc Vn Vector4_DINT [} 980] Circles and Arcs • F_VN_Draw Circle(Exp) [} 983] • F_VN_Draw Circles(Exp) [} 985] • F_VN_Draw Circular Arc(Exp) [} 987] • F_VN_Fill Circle [} 1023] Components • F_VN_Draw Components(Exp) [} 989] Contours • F_VN_Draw Contours(Exp) [} 991] • F_VN_Fill Contours [} 1024] Ellipse • F_VN_Draw Ellipse(Exp) [} 994] TF7000 - TF7810 Version: 2.4.0 977
## Page 978

API reference • F_VN_Fill Ellipse [} 1025] Keypoints and Matches • F_VN_Draw Keypoints(Exp) [} 996] • F_VN_Draw Matches(Exp) [} 1007] Lines • F_VN_Draw Line(Exp) [} 998] • F_VN_Draw Lines(Exp) [} 1005] • F_VN_Draw Line(Exp)_Tc Vn Vector4_DINT [} 999] • F_VN_Draw Line(Exp)_Tc Vn Vector4_LREAL [} 1000] Orientation • F_VN_Draw Orientation(Exp) [} 1010] Points • F_VN_Draw Point(Exp) [} 1012] • F_VN_Draw Points(Exp) [} 1014] Polygon • F_VN_Draw Polygon(Exp) [} 1016] • F_VN_Fill Polygon [} 1026] Rectangle • F_VN_Draw Rectangle [} 1018] • F_VN_Draw Rectangle_Tc Vn Rectangle_DINT [} 1019] • F_VN_Draw Rectangle_Tc Vn Rectangle_UDINT [} 1020] • F_VN_Draw Rotated Rectangle(Exp) [} 1021] • F_VN_Fill Rectangle [} 1027] • F_VN_Fill Rotated Rectangle [} 1028] Intensity Profile • F_VN_Plot Intensity Profile(Exp) [} 1029] Text • F_VN_Put Label(Exp) [} 1031] • F_VN_Put Text(Exp) [} 1033] Painting and filling For many shapes there is an option to paint both the outline of the shape and the filled shape. Two functions are available for this: (F_VN_Draw and F_VN_Fill respectively). In addition, setting the outline thickness n Thickness to -1 leads to the shape being filled. 978 Version: 2.4.0 TF7000 - TF7810
## Page 979

API reference 6.1.4.11.1 F_VN_Draw Arrow F_VN_Draw Arrow n X1 UDINT HRESULT F_VN_Draw Arrow n Y1 UDINT n X2 UDINT n Y2 UDINT ip Dest Image ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL n Thickness DINT b Double Head BOOL hr Prev HRESULT Draw an arrowed line. Syntax Definition: FUNCTION F_VN_Draw Arrow : HRESULT VAR_INPUT n X1 : UDINT; n Y1 : UDINT; n X2 : UDINT; n Y2 : UDINT; ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT n Thickness : DINT; b Double Head : BOOL; hr Prev : HRESULT; END_VAR Inputs Name Type Description n X1 UDINT x coordinate of the start point n Y1 UDINT y coordinate of the start point n X2 UDINT x coordinate of the end point n Y2 UDINT y coordinate of the end point ip Dest Image ITc Vn Image [} 413] Destination image n Thickness DINT Line thickness b Double Head BOOL To draw an arrow on each side of the line. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Color Tc Vn Vector4_LREAL Color [} 165] Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 979
## Page 980

API reference Required License TC3 Vision Base System Requirements 6.1.4.11.2 F_VN_Draw Arrow_Tc Vn Vector4_DINT F_VN_Draw Arrow_Tc Vn Vector4_DINT ↔ a Line Tc Vn Vector4_DINT HRESULT F_VN_Draw Arrow_Tc Vn Vector4_DINT ip Dest Image ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL n Thickness DINT b Double Head BOOL hr Prev HRESULT Draw an arrowed line. Syntax Definition: FUNCTION F_VN_Draw Arrow_Tc Vn Vector4_DINT : HRESULT VAR_IN_OUT a Line : Tc Vn Vector4_DINT; END_VAR VAR_INPUT ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT n Thickness : DINT; b Double Head : BOOL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Dest Image ITc Vn Image [} 413] Destination image n Thickness DINT Line thickness b Double Head BOOL To draw an arrow on each side of the line. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Line Tc Vn Vector4_DINT [} 165] The start and end point of a line segment [x1, y1, x2, y2] a Color Tc Vn Vector4_LREAL Color [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base 980 Version: 2.4.0 TF7000 - TF7810
## Page 981

API reference System Requirements 6.1.4.11.3 F_VN_Draw Arrow Exp F_VN_Draw Arrow Exp n X1 UDINT HRESULT F_VN_Draw Arrow Exp n Y1 UDINT n X2 UDINT n Y2 UDINT ip Dest Image ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL n Thickness DINT b Double Head BOOL e Line Type ETc Vn Line Type n Shift UDINT f Tip Lenght LREAL hr Prev HRESULT Draws an arrowed line. (expert function) Syntax Definition: FUNCTION F_VN_Draw Arrow Exp : HRESULT VAR_INPUT n X1 : UDINT; n Y1 : UDINT; n X2 : UDINT; n Y2 : UDINT; ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT n Thickness : DINT; b Double Head : BOOL; e Line Type : ETc Vn Line Type; n Shift : UDINT; f Tip Lenght : LREAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description n X1 UDINT x coordinate of the start point n Y1 UDINT y coordinate of the start point n X2 UDINT x coordinate of the end point n Y2 UDINT y coordinate of the end point ip Dest Image ITc Vn Image [} 413] Destination image n Thickness DINT Line thickness b Double Head BOOL To draw an arrow on each side of the line. e Line Type ETc Vn Line Type [} 211] Line type n Shift UDINT Fractional bits of the coordinates (bit shift) f Tip Lenght LREAL Lenght of the arrow's tip as a fraction of the line's lenght hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 981
## Page 982

API reference In/Outputs Name Type Description a Color Tc Vn Vector4_LREAL Color [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.11.4 F_VN_Draw Arrow Exp_Tc Vn Vector4_DINT F_VN_Draw Arrow Exp_Tc Vn Vector4_DINT ↔ a Line Tc Vn Vector4_DINT HRESULT F_VN_Draw Arrow Exp_Tc Vn Vector4_DINT ip Dest Image ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL n Thickness DINT b Double Head BOOL e Line Type ETc Vn Line Type n Shift UDINT f Tip Lenght LREAL hr Prev HRESULT Draws an arrowed line. (expert function) Syntax Definition: FUNCTION F_VN_Draw Arrow Exp_Tc Vn Vector4_DINT : HRESULT VAR_IN_OUT a Line : Tc Vn Vector4_DINT; END_VAR VAR_INPUT ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT n Thickness : DINT; b Double Head : BOOL; e Line Type : ETc Vn Line Type; n Shift : UDINT; f Tip Lenght : LREAL; hr Prev : HRESULT; END_VAR 982 Version: 2.4.0 TF7000 - TF7810
## Page 983

API reference Inputs Name Type Description ip Dest Image ITc Vn Image [} 413] Destination image n Thickness DINT Line thickness b Double Head BOOL To draw an arrow on each side of the line. e Line Type ETc Vn Line Type [} 211] Line type n Shift UDINT Fractional bits of the coordinates (bit shift) f Tip Lenght LREAL Lenght of the arrow's tip as a fraction of the line's lenght hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Line Tc Vn Vector4_DINT [} 165] The start and end point of a line segment [x1, y1, x2, y2] a Color Tc Vn Vector4_LREAL Color [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.11.5 F_VN_Draw Circle F_VN_Draw Circle n Center X UDINT HRESULT F_VN_Draw Circle n Center Y UDINT n Radius UDINT ip Dest Image ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL n Thickness DINT hr Prev HRESULT Draws a circle. Syntax Definition: FUNCTION F_VN_Draw Circle : HRESULT VAR_INPUT n Center X : UDINT; n Center Y : UDINT; n Radius : UDINT; ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT TF7000 - TF7810 Version: 2.4.0 983
## Page 984

API reference n Thickness : DINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description n Center X UDINT x coordinate of the center n Center Y UDINT y coordinate of the center n Radius UDINT Radius ip Dest Image ITc Vn Image [} 413] Destination image n Thickness DINT Line thickness (if negative, the circle is filled) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Color Tc Vn Vector4_LREAL Color [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.11.6 F_VN_Draw Circle Exp F_VN_Draw Circle Exp n Center X UDINT HRESULT F_VN_Draw Circle Exp n Center Y UDINT n Radius UDINT ip Dest Image ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL n Thickness DINT e Line Type ETc Vn Line Type hr Prev HRESULT Draws a circle. Syntax Definition: FUNCTION F_VN_Draw Circle Exp : HRESULT VAR_INPUT n Center X : UDINT; n Center Y : UDINT; n Radius : UDINT; ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT 984 Version: 2.4.0 TF7000 - TF7810
## Page 985

API reference n Thickness : DINT; e Line Type : ETc Vn Line Type; hr Prev : HRESULT; END_VAR Inputs Name Type Description n Center X UDINT x coordinate of the center n Center Y UDINT y coordinate of the center n Radius UDINT Radius ip Dest Image ITc Vn Image [} 413] Destination image n Thickness DINT Line thickness (if negative, the circle is filled) e Line Type ETc Vn Line Type [} 211] Line type hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Color Tc Vn Vector4_LREAL Color [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.11.7 F_VN_Draw Circles F_VN_Draw Circles ip Circles ITc Vn Container HRESULT F_VN_Draw Circles n Circle Index DINT ip Dest Image ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL n Thickness DINT hr Prev HRESULT Draws circles. Syntax Definition: FUNCTION F_VN_Draw Circles : HRESULT VAR_INPUT ip Circles : ITc Vn Container; n Circle Index : DINT; ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT TF7000 - TF7810 Version: 2.4.0 985
## Page 986

API reference n Thickness : DINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Circles ITc Vn Container [} 374] Container with circles (Container Type_Vector_Tc Vn Vector3_REAL; Each container element contains the x coordinate of the circle center [0], the y coordinate of the circle center [1], and the radius [2].) n Circle Index DINT Index of a specific circle to be drawn (if negative, all circles within the container are drawn) ip Dest Image ITc Vn Image [} 413] Destination image n Thickness DINT Line thickness (if negative, the circle is filled) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Color Tc Vn Vector4_LREAL Color [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.11.8 F_VN_Draw Circles Exp F_VN_Draw Circles Exp ip Circles ITc Vn Container HRESULT F_VN_Draw Circles Exp n Circle Index DINT ip Dest Image ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL n Thickness DINT e Line Type ETc Vn Line Type hr Prev HRESULT Draws circles. (expert function) Syntax Definition: FUNCTION F_VN_Draw Circles Exp : HRESULT VAR_INPUT ip Circles : ITc Vn Container; n Circle Index : DINT; ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; 986 Version: 2.4.0 TF7000 - TF7810
## Page 987

API reference END_VAR VAR_INPUT n Thickness : DINT; e Line Type : ETc Vn Line Type; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Circles ITc Vn Container [} 374] Container with circles (Container Type_Vector_Tc Vn Vector3_REAL; Each container element contains the x coordinate of the circle center [0], the y coordinate of the circle center [1], and the radius [2].) n Circle Index DINT Index of a specific circle to be drawn (if negative, all circles within the container are drawn) ip Dest Image ITc Vn Image [} 413] Destination image n Thickness DINT Line thickness (if negative, the circle is filled) e Line Type ETc Vn Line Type [} 211] Line type hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Color Tc Vn Vector4_LREAL Color [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.11.9 F_VN_Draw Circular Arc F_VN_Draw Circular Arc ↔ st Circular Arc Tc Vn Circular Arc HRESULT F_VN_Draw Circular Arc ip Dest Image ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL n Thickness DINT hr Prev HRESULT Draws a circular arc. Syntax Definition: FUNCTION F_VN_Draw Circular Arc : HRESULT VAR_IN_OUT st Circular Arc : Tc Vn Circular Arc; END_VAR VAR_INPUT ip Dest Image : ITc Vn Image; TF7000 - TF7810 Version: 2.4.0 987
## Page 988

API reference END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT n Thickness : DINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Dest Image ITc Vn Image [} 413] Destination image n Thickness DINT Line thickness (if negative, the arc is filled) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Circular Arc Tc Vn Circular Arc [} 234] Circular arc definition a Color Tc Vn Vector4_LREAL Color [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.11.10 F_VN_Draw Circular Arc Exp F_VN_Draw Circular Arc Exp ↔ st Circular Arc Tc Vn Circular Arc HRESULT F_VN_Draw Circular Arc Exp ip Dest Image ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL n Thickness DINT e Line Type ETc Vn Line Type hr Prev HRESULT Draws a circular arc. (expert function) Syntax Definition: FUNCTION F_VN_Draw Circular Arc Exp : HRESULT VAR_IN_OUT st Circular Arc : Tc Vn Circular Arc; END_VAR VAR_INPUT ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT 988 Version: 2.4.0 TF7000 - TF7810
## Page 989

API reference n Thickness : DINT; e Line Type : ETc Vn Line Type; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Dest Image ITc Vn Image [} 413] Destination image n Thickness DINT Line thickness (if negative, the arc is filled) e Line Type ETc Vn Line Type [} 211] Line type hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Circular Arc Tc Vn Circular Arc [} 234] Circular arc definition a Color Tc Vn Vector4_LREAL Color [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.11.11 F_VN_Draw Components F_VN_Draw Components ip Label Image ITc Vn Image HRESULT F_VN_Draw Components n Label ID DINT ip Dest Image Reference To ITc Vn Image b Show Label ID BOOL hr Prev HRESULT Draw the results of connected component function. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Draw Components : HRESULT VAR_INPUT ip Label Image : ITc Vn Image; n Label ID : DINT; ip Dest Image : Reference To ITc Vn Image; b Show Label ID : BOOL; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 989
## Page 990

API reference Inputs Name Type Description ip Label Image ITc Vn Image [} 413] Image contains labels for each pixel (1 channel DINT or UINT). n Label ID DINT Value of a specific label to be drawn (if negative, all components within the image are drawn) ip Dest Image Reference To Destination image (An appropriate image will be created if ITc Vn Image [} 413] required. The output image is 1 or 3 channels USINT). b Show Label ID BOOL Show label ID in the center of the component on the destination image hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.11.12 F_VN_Draw Components Exp F_VN_Draw Components Exp ip Label Image ITc Vn Image HRESULT F_VN_Draw Components Exp n Label ID DINT ip Dest Image Reference To ITc Vn Image b Show Label ID BOOL ↔ a Color Tc Vn Vector4_LREAL n Thickness DINT f Font Scale LREAL hr Prev HRESULT Draw the results of connected component function. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Draw Components Exp : HRESULT VAR_INPUT ip Label Image : ITc Vn Image; n Label ID : DINT; ip Dest Image : Reference To ITc Vn Image; b Show Label ID : BOOL; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT n Thickness : DINT; f Font Scale : LREAL; hr Prev : HRESULT; END_VAR 990 Version: 2.4.0 TF7000 - TF7810
## Page 991

API reference Inputs Name Type Description ip Label Image ITc Vn Image [} 413] Image contains labels for each pixel (1 channel DINT or UINT). n Label ID DINT Value of a specific label to be drawn (if negative, all components within the image are drawn) ip Dest Image Reference To Destination image (An appropriate image will be created if ITc Vn Image [} 413] required. The output image is 1 or 3 channels USINT). b Show Label ID BOOL Show lable ID in the center of the component on the destination image n Thickness DINT Text line thickness f Font Scale LREAL Scaling factor for the text hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Color Tc Vn Vector4_LREAL Color to draw the components (for {-1, -1, -1, -1}, a random color is chosen for each component) [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.11.13 F_VN_Draw Contours F_VN_Draw Contours ip Contours ITc Vn Container HRESULT F_VN_Draw Contours n Contour Index DINT ip Dest Image ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL n Thickness DINT hr Prev HRESULT Draws a single point set or multiple point sets that are interpreted as contours. Syntax Definition: FUNCTION F_VN_Draw Contours : HRESULT VAR_INPUT ip Contours : ITc Vn Container; n Contour Index : DINT; ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT TF7000 - TF7810 Version: 2.4.0 991
## Page 992

API reference n Thickness : DINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Contours ITc Vn Container [} 374] Single contour (Container Type_Vector_Tc Vn Point2_DINT) or multiple contours (Container Type_Vector_Vector_Tc Vn Point2_DINT) n Contour Index DINT Index of a specific contour to be drawn (if negative, all contours within the container are drawn) ip Dest Image ITc Vn Image [} 413] Destination image n Thickness DINT Line thickness (if negative, the contours are filled) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Color Tc Vn Vector4_LREAL Color [} 165] Return value HRESULT [} 144] Further information The function F_VN_Draw Contours draws contours in the destination image. A contour is described based on a set of points that are stored in a container. Please note that only integer contour points can be drawn, so that the container must be of type Container Type_Vector_Tc Vn Point2_DINT. If the points are described using floating point numbers, F_VN_Convert Container Type [} 734] can be used to convert the points. In addition to a container with one contour, a container with several contours can be transferred to the function. This is of type Container Type_Vector_Vector_Tc Vn Point2_DINT. The input variable n Contour Index indicates which contour is to be drawn. If all contours are to be drawn, n Contour Index must be set to a negative value. It is more efficient to draw an entire container of contours at once (set n Contour Index to a negative value) than to draw them one after the other by repeatedly calling the function within a loop. Expert parameters The expert version F_VN_Draw Contours Exp [} 993] contains additional parameters. Application The painting of all contours in a contour list ip Contours with a red line of 5 px in thickness looks like this, for example: hr := F_VN_Draw Contours( ip Contours := ip Contours, n Contour Index := -1, ip Dest Image := ip Image Res, a Color := a Color Red, n Thickness := 5, hr Prev := hr ); Typical functions that return contours of type Container Type_Vector_Vector_Tc Vn Point2_DINT • F_VN_Detect Blobs [} 1150] 992 Version: 2.4.0 TF7000 - TF7810
## Page 993

API reference • F_VN_Find Contours [} 1158] or F_VN_Find Contours Exp [} 1161] • F_VN_Find Contour Hierarchy Exp [} 1155] Samples • Blob Detection with watchdog monitoring [} 2759] Required License TC3 Vision Base System Requirements 6.1.4.11.14 F_VN_Draw Contours Exp F_VN_Draw Contours Exp ip Contours ITc Vn Container HRESULT F_VN_Draw Contours Exp n Contour Index DINT ip Dest Image ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL n Thickness DINT e Line Type ETc Vn Line Type ip Hierarchy ITc Vn Container n Max Level DINT ↔ a Offset Tc Vn Point hr Prev HRESULT Draws a single point set or multiple point sets that are interpreted as contours. (expert function) Syntax Definition: FUNCTION F_VN_Draw Contours Exp : HRESULT VAR_INPUT ip Contours : ITc Vn Container; n Contour Index : DINT; ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT n Thickness : DINT; e Line Type : ETc Vn Line Type; ip Hierarchy : ITc Vn Container; n Max Level : DINT; END_VAR VAR_IN_OUT a Offset : Tc Vn Point; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 993
## Page 994

API reference Inputs Name Type Description ip Contours ITc Vn Container [} 374] Single contour (Container Type_Vector_Tc Vn Point2_DINT) or multiple contours (Container Type_Vector_Vector_Tc Vn Point2_DINT) n Contour Index DINT Index of a specific contour to be drawn (if negative, all contours within the container are drawn) ip Dest Image ITc Vn Image [} 413] Destination image n Thickness DINT Line thickness (if negative, the contours are filled) e Line Type ETc Vn Line Type [} 211] Line type ip Hierarchy ITc Vn Container [} 374] Contour hierarchy (Container Type_Vector_Tc Vn Vector4_DINT) n Max Level DINT Maximum level of contours to be drawn hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Color Tc Vn Vector4_LREAL Color [} 165] a Offset Tc Vn Point [} 163] Offset by which every contour point is shifted Return value HRESULT [} 144] Further information The function F_VN_Draw Contours Exp corresponds to the function F_VN_Draw Contours [} 991], extended by additional input variables. Thus, the hierarchy description, which is returned by the function F_VN_Find Contour Hierarchy Exp [} 1154] in addition to the found contours, can also be taken into account. The hierarchy level up to which the contours are to be drawn is specified via ip Hierarchy and via the input variable n Max Level. If 0 is transferred for ip Hierarchy, the hierarchy is ignored. a Offset can be used to draw all contour points with a uniform offset in x and y direction. This is of interest, for example, if the contours were searched in a ROI but are to be drawn into the original image. Required License TC3 Vision Base System Requirements 6.1.4.11.15 F_VN_Draw Ellipse F_VN_Draw Ellipse ↔ st Ellipse Tc Vn Rotated Rectangle HRESULT F_VN_Draw Ellipse ip Dest Image ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL n Thickness DINT hr Prev HRESULT 994 Version: 2.4.0 TF7000 - TF7810
## Page 995

API reference Draws an ellipse. Syntax Definition: FUNCTION F_VN_Draw Ellipse : HRESULT VAR_IN_OUT st Ellipse : Tc Vn Rotated Rectangle; END_VAR VAR_INPUT ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT n Thickness : DINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Dest Image ITc Vn Image [} 413] Destination image n Thickness DINT Line thickness (if negative, the ellipse is filled) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Ellipse Tc Vn Rotated Rectangle Ellipse to be drawn (rotation angle in degrees) [} 251] a Color Tc Vn Vector4_LREAL Color [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.11.16 F_VN_Draw Ellipse Exp F_VN_Draw Ellipse Exp ↔ st Ellipse Tc Vn Rotated Rectangle HRESULT F_VN_Draw Ellipse Exp ip Dest Image ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL n Thickness DINT e Line Type ETc Vn Line Type hr Prev HRESULT Draws an ellipse. (expert function) TF7000 - TF7810 Version: 2.4.0 995
## Page 996

API reference Syntax Definition: FUNCTION F_VN_Draw Ellipse Exp : HRESULT VAR_IN_OUT st Ellipse : Tc Vn Rotated Rectangle; END_VAR VAR_INPUT ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT n Thickness : DINT; e Line Type : ETc Vn Line Type; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Dest Image ITc Vn Image [} 413] Destination image n Thickness DINT Line thickness (if negative, the ellipse is filled) e Line Type ETc Vn Line Type [} 211] Line type hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Ellipse Tc Vn Rotated Rectangle Ellipse to be drawn (rotation angle in degrees) [} 251] a Color Tc Vn Vector4_LREAL Color [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.11.17 F_VN_Draw Keypoints F_VN_Draw Keypoints ip Src Image ITc Vn Image HRESULT F_VN_Draw Keypoints ip Key Points ITc Vn Container ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Draws the keypoints for visualization purpose. Can use available Twin CAT Job Tasks for executing parallel code regions. 996 Version: 2.4.0 TF7000 - TF7810
## Page 997

API reference Syntax Definition: FUNCTION F_VN_Draw Keypoints : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Key Points : ITc Vn Container; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (elements of type USINT) ip Key Points ITc Vn Container [} 374] Container with the keypoints (Container Type_Vector_Tc Vn Key Point) ip Dest Image Reference To Destination image (An appropriate color image will be created if ITc Vn Image [} 413] required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.11.18 F_VN_Draw Keypoints Exp F_VN_Draw Keypoints Exp ip Src Image ITc Vn Image HRESULT F_VN_Draw Keypoints Exp ip Key Points ITc Vn Container ip Dest Image Reference To ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL e Flags ETc Vn Draw Matches Flags hr Prev HRESULT Draws the keypoints for visualization purpose. (expert function) Syntax Definition: FUNCTION F_VN_Draw Keypoints Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Key Points : ITc Vn Container; ip Dest Image : Reference To ITc Vn Image; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT e Flags : ETc Vn Draw Matches Flags; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 997
## Page 998

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (elements of type USINT) ip Key Points ITc Vn Container [} 374] Container with the keypoints (Container Type_Vector_Tc Vn Key Point) ip Dest Image Reference To Destination image (An appropriate color image will be created if ITc Vn Image [} 413] required.) e Flags ETc Vn Draw Matches Flags A combination of flags to support overdrawing an existing destination image and/or drawing additional (Rich-)Keypoint [} 200] information (size and orientation) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Color Tc Vn Vector4_LREAL Color to draw the keypoints (for {-1, -1, -1, -1}, a random color is chosen for each point) [} 165] Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.11.19 F_VN_Draw Line F_VN_Draw Line n X1 UDINT HRESULT F_VN_Draw Line n Y1 UDINT n X2 UDINT n Y2 UDINT ip Dest Image ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL n Thickness DINT hr Prev HRESULT Draws a line. Syntax Definition: FUNCTION F_VN_Draw Line : HRESULT VAR_INPUT n X1 : UDINT; n Y1 : UDINT; n X2 : UDINT; n Y2 : UDINT; ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR 998 Version: 2.4.0 TF7000 - TF7810
## Page 999

API reference VAR_INPUT n Thickness : DINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description n X1 UDINT x coordinate of the start point n Y1 UDINT y coordinate of the start point n X2 UDINT x coordinate of the end point n Y2 UDINT y coordinate of the end point ip Dest Image ITc Vn Image [} 413] Destination image n Thickness DINT Line thickness hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Color Tc Vn Vector4_LREAL Color [} 165] Return value HRESULT [} 144] HRESULT 16#734 OUTOFRANGE Part of the line lies outside of the image area. Use the function F_VN_Clip Line To Boundary_ITc Vn Image [} 1517] to ensure that the specified line fits in the image area. Required License TC3 Vision Base System Requirements 6.1.4.11.20 F_VN_Draw Line_Tc Vn Vector4_DINT F_VN_Draw Line_Tc Vn Vector4_DINT ↔ a Line Tc Vn Vector4_DINT HRESULT F_VN_Draw Line_Tc Vn Vector4_DINT ip Dest Image ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL n Thickness DINT hr Prev HRESULT Draws a line. Syntax Definition: FUNCTION F_VN_Draw Line_Tc Vn Vector4_DINT : HRESULT VAR_IN_OUT a Line : Tc Vn Vector4_DINT; END_VAR TF7000 - TF7810 Version: 2.4.0 999
## Page 1000

API reference VAR_INPUT ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT n Thickness : DINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Dest Image ITc Vn Image [} 413] Destination image n Thickness DINT Line thickness hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Line Tc Vn Vector4_DINT [} 165] The start and end point of a line segment [x1, y1, x2, y2] a Color Tc Vn Vector4_LREAL Color [} 165] Return value HRESULT [} 144] HRESULT 16#734 OUTOFRANGE Part of the line lies outside of the image area. Use the function F_VN_Clip Line To Boundary_ITc Vn Image [} 1517] to ensure that the specified line fits in the image area. Required License TC3 Vision Base System Requirements 6.1.4.11.21 F_VN_Draw Line_Tc Vn Vector4_LREAL F_VN_Draw Line_Tc Vn Vector4_LREAL ↔ a Line Tc Vn Vector4_LREAL HRESULT F_VN_Draw Line_Tc Vn Vector4_LREAL ip Dest Image ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL n Thickness DINT hr Prev HRESULT Draws a line. Syntax Definition: FUNCTION F_VN_Draw Line_Tc Vn Vector4_LREAL : HRESULT VAR_IN_OUT a Line : Tc Vn Vector4_LREAL; 1000 Version: 2.4.0 TF7000 - TF7810
## Page 1001

API reference END_VAR VAR_INPUT ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT n Thickness : DINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Dest Image ITc Vn Image [} 413] Destination image n Thickness DINT Line thickness hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Line Tc Vn Vector4_LREAL The first and second element describe the x and y component of the direction vector. The third and fourth element describe the x [} 165] and y component of the position vector. a Color Tc Vn Vector4_LREAL Color [} 165] Return value HRESULT [} 144] NOTICE Floating point exceptions This function can cause errors if the option Floating point exceptions of the executing PLC task [} 62] is active. Therefore, deactivate this option. Required License TC3 Vision Base System Requirements 6.1.4.11.22 F_VN_Draw Line Exp F_VN_Draw Line Exp n X1 UDINT HRESULT F_VN_Draw Line Exp n Y1 UDINT n X2 UDINT n Y2 UDINT ip Dest Image ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL n Thickness DINT e Line Type ETc Vn Line Type n Shift UDINT hr Prev HRESULT TF7000 - TF7810 Version: 2.4.0 1001
## Page 1002

API reference Draws a line. (expert function) Syntax Definition: FUNCTION F_VN_Draw Line Exp : HRESULT VAR_INPUT n X1 : UDINT; n Y1 : UDINT; n X2 : UDINT; n Y2 : UDINT; ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT n Thickness : DINT; e Line Type : ETc Vn Line Type; n Shift : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description n X1 UDINT x coordinate of the start point n Y1 UDINT y coordinate of the start point n X2 UDINT x coordinate of the end point n Y2 UDINT y coordinate of the end point ip Dest Image ITc Vn Image [} 413] Destination image n Thickness DINT Line thickness e Line Type ETc Vn Line Type [} 211] Line type n Shift UDINT Fractional bits of the coordinates (bit shift) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Color Tc Vn Vector4_LREAL Color [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base 1002 Version: 2.4.0 TF7000 - TF7810
## Page 1003

API reference System Requirements 6.1.4.11.23 F_VN_Draw Line Exp_Tc Vn Vector4_DINT F_VN_Draw Line Exp_Tc Vn Vector4_DINT ↔ a Line Tc Vn Vector4_DINT HRESULT F_VN_Draw Line Exp_Tc Vn Vector4_DINT ip Dest Image ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL n Thickness DINT e Line Type ETc Vn Line Type n Shift UDINT hr Prev HRESULT Draws a line. (expert function) Syntax Definition: FUNCTION F_VN_Draw Line Exp_Tc Vn Vector4_DINT : HRESULT VAR_IN_OUT a Line : Tc Vn Vector4_DINT; END_VAR VAR_INPUT ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT n Thickness : DINT; e Line Type : ETc Vn Line Type; n Shift : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Dest Image ITc Vn Image [} 413] Destination image n Thickness DINT Line thickness e Line Type ETc Vn Line Type [} 211] Line type n Shift UDINT Fractional bits of the coordinates (bit shift) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Line Tc Vn Vector4_DINT [} 165] The start and end point of a line segment [x1, y1, x2, y2] a Color Tc Vn Vector4_LREAL Color [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1003
## Page 1004

API reference System Requirements 6.1.4.11.24 F_VN_Draw Line Exp_Tc Vn Vector4_LREAL F_VN_Draw Line Exp_Tc Vn Vector4_LREAL ↔ a Line Tc Vn Vector4_LREAL HRESULT F_VN_Draw Line Exp_Tc Vn Vector4_LREAL ip Dest Image ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL n Thickness DINT e Line Type ETc Vn Line Type n Shift UDINT hr Prev HRESULT Draws a line. (expert function) Syntax Definition: FUNCTION F_VN_Draw Line Exp_Tc Vn Vector4_LREAL : HRESULT VAR_IN_OUT a Line : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT n Thickness : DINT; e Line Type : ETc Vn Line Type; n Shift : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Dest Image ITc Vn Image [} 413] Destination image n Thickness DINT Line thickness e Line Type ETc Vn Line Type [} 211] Line type n Shift UDINT Fractional bits of the coordinates (bit shift) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Line Tc Vn Vector4_LREAL The first and second element describe the x and y component of the direction vector. The third and fourth element describe the x [} 165] and y component of the position vector. a Color Tc Vn Vector4_LREAL Color [} 165] Return value HRESULT [} 144] 1004 Version: 2.4.0 TF7000 - TF7810
## Page 1005

API reference Required License TC3 Vision Base System Requirements 6.1.4.11.25 F_VN_Draw Lines F_VN_Draw Lines ip Lines ITc Vn Container HRESULT F_VN_Draw Lines n Line Index DINT ip Dest Image ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL n Thickness DINT hr Prev HRESULT Draws lines. Syntax Definition: FUNCTION F_VN_Draw Lines : HRESULT VAR_INPUT ip Lines : ITc Vn Container; n Line Index : DINT; ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT n Thickness : DINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Lines ITc Vn Container [} 374] Container with line descriptions (Container Type_Vector_Tc Vn Vector2_REAL: the distance from the origin [0] in pixels and the rotation angle [1] in radians. Container Type_Vector_Tc Vn Vector4_LREAL: the first and second element describe the x and y component of a vector collinear to the line. The third and fourth element describe the x and y component of a point on the line. Container Type_Vector_Tc Vn Vector4_DINT: start and end point [x1, y1, x2, y2]) n Line Index DINT Index of a specific line to be drawn (if negative, all lines within the container are drawn) ip Dest Image ITc Vn Image [} 413] Destination image n Thickness DINT Line thickness hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Color Tc Vn Vector4_LREAL Color [} 165] TF7000 - TF7810 Version: 2.4.0 1005
## Page 1006

API reference Return value HRESULT [} 144] HRESULT 16#734 OUTOFRANGE Part of the line lies outside of the image area. Use the function F_VN_Clip Line To Boundary_ITc Vn Image [} 1517] to ensure that the specified line fits in the image area. Required License TC3 Vision Base System Requirements 6.1.4.11.26 F_VN_Draw Lines Exp F_VN_Draw Lines Exp ip Lines ITc Vn Container HRESULT F_VN_Draw Lines Exp n Line Index DINT ip Dest Image ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL n Thickness DINT e Line Type ETc Vn Line Type n Shift UDINT hr Prev HRESULT Draws lines. (expert function) Syntax Definition: FUNCTION F_VN_Draw Lines Exp : HRESULT VAR_INPUT ip Lines : ITc Vn Container; n Line Index : DINT; ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT n Thickness : DINT; e Line Type : ETc Vn Line Type; n Shift : UDINT; hr Prev : HRESULT; END_VAR 1006 Version: 2.4.0 TF7000 - TF7810
## Page 1007

API reference Inputs Name Type Description ip Lines ITc Vn Container [} 374] Container with line descriptions (Container Type_Vector_Tc Vn Vector2_REAL: the distance from the origin [0] in pixels and the rotation angle [1] in radians. Container Type_Vector_Tc Vn Vector4_LREAL: the first and second element describe the x and y component of a vector collinear to the line. The third and fourth element describe the x and y component of a point on the line. Container Type_Vector_Tc Vn Vector4_DINT: start and end point [x1, y1, x2, y2]) n Line Index DINT Index of a specific line to be drawn (if negative, all lines within the container are drawn) ip Dest Image ITc Vn Image [} 413] Destination image n Thickness DINT Line thickness e Line Type ETc Vn Line Type [} 211] Line type n Shift UDINT Fractional bits of the coordinates (bit shift) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Color Tc Vn Vector4_LREAL Color [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.11.27 F_VN_Draw Matches F_VN_Draw Matches ip Src Image1 ITc Vn Image HRESULT F_VN_Draw Matches ip Key Points1 ITc Vn Container ip Src Image2 ITc Vn Image ip Key Points2 ITc Vn Container ip Matches1To2 ITc Vn Container ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Draws the keypoints and matches for visualization purpose. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 1007
## Page 1008

API reference FUNCTION F_VN_Draw Matches : HRESULT VAR_INPUT ip Src Image1 : ITc Vn Image; ip Key Points1 : ITc Vn Container; ip Src Image2 : ITc Vn Image; ip Key Points2 : ITc Vn Container; ip Matches1To2 : ITc Vn Container; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image1 ITc Vn Image [} 413] Source image 1 (elements of type USINT) ip Key Points1 ITc Vn Container [} 374] Container with the keypoints 1 (Container Type_Vector_Tc Vn Key Point) ip Src Image2 ITc Vn Image [} 413] Source image 2 (elements of type USINT, must have the same number of channels as ip Src Image1) ip Key Points2 ITc Vn Container [} 374] Container with the keypoints 2 (Container Type_Vector_Tc Vn Key Point) ip Matches1To2 ITc Vn Container [} 374] Container with the descriptor matches (Container Type_Vector_Tc Vn DMatch) ip Dest Image Reference To Destination image (An appropriate color image will be created if ITc Vn Image [} 413] required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.11.28 F_VN_Draw Matches Exp F_VN_Draw Matches Exp ip Src Image1 ITc Vn Image HRESULT F_VN_Draw Matches Exp ip Key Points1 ITc Vn Container ip Src Image2 ITc Vn Image ip Key Points2 ITc Vn Container ip Matches1To2 ITc Vn Container ip Dest Image Reference To ITc Vn Image ↔ a Match Color Tc Vn Vector4_LREAL ↔ a Single Color Tc Vn Vector4_LREAL ip Matches Mask ITc Vn Container e Flags ETc Vn Draw Matches Flags hr Prev HRESULT Draws the keypoints and matches for visualization purpose. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: 1008 Version: 2.4.0 TF7000 - TF7810
## Page 1009

API reference FUNCTION F_VN_Draw Matches Exp : HRESULT VAR_INPUT ip Src Image1 : ITc Vn Image; ip Key Points1 : ITc Vn Container; ip Src Image2 : ITc Vn Image; ip Key Points2 : ITc Vn Container; ip Matches1To2 : ITc Vn Container; ip Dest Image : Reference To ITc Vn Image; END_VAR VAR_IN_OUT a Match Color : Tc Vn Vector4_LREAL; a Single Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT ip Matches Mask : ITc Vn Container; e Flags : ETc Vn Draw Matches Flags; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image1 ITc Vn Image [} 413] Source image 1 (elements of type USINT) ip Key Points1 ITc Vn Container [} 374] Container with the keypoints 1 (Container Type_Vector_Tc Vn Key Point) ip Src Image2 ITc Vn Image [} 413] Source image 2 (elements of type USINT, must have the same number of channels as ip Src Image1) ip Key Points2 ITc Vn Container [} 374] Container with the keypoints 2 (Container Type_Vector_Tc Vn Key Point) ip Matches1To2 ITc Vn Container [} 374] Container with the descriptor matches (Container Type_Vector_Tc Vn DMatch) ip Dest Image Reference To Destination image (An appropriate color image will be created if ITc Vn Image [} 413] required.) ip Matches Mas ITc Vn Container [} 374] Mask to select the matches to be drawn k (Container Type_Vector_SINT; Set to 0 if all matches should be drawn.) e Flags ETc Vn Draw Matches Flags A combination of flags to support overdrawing an existing destination image and/or drawing additional (Rich-)Keypoint [} 200] information (size and orientation) and/or skipping single keypoints hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Match Color Tc Vn Vector4_LREAL Color to draw the matches (for {-1, -1, -1, -1}, a random color is chosen for each point and line) [} 165] a Single Color Tc Vn Vector4_LREAL Color to draw the single keypoints (for {-1, -1, -1, -1}, a random color is chosen for each point) [} 165] Return value HRESULT [} 144] Required License TC3 Vision Matching TF7000 - TF7810 Version: 2.4.0 1009
## Page 1010

API reference System Requirements 6.1.4.11.29 F_VN_Draw Orientation F_VN_Draw Orientation ↔ st Orientation Tc Vn Rotated Rectangle HRESULT F_VN_Draw Orientation ip Dest Image ITc Vn Image ↔ a Color Main Axis Tc Vn Vector4_LREAL n Thickness DINT hr Prev HRESULT Draw the main axis of a set of points/contour based on a rotated rectangle. Syntax Definition: FUNCTION F_VN_Draw Orientation : HRESULT VAR_IN_OUT st Orientation : Tc Vn Rotated Rectangle; END_VAR VAR_INPUT ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color Main Axis : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT n Thickness : DINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Dest Image ITc Vn Image [} 413] Destination image n Thickness DINT Line thickness hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Orientation Tc Vn Rotated Rectangle Rotated rectangle, containig center of mass, lenghts of axes, and rotation angle in clockwise direction [} 251] a Color Main Axi Tc Vn Vector4_LREAL Color of the major axis s [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base 1010 Version: 2.4.0 TF7000 - TF7810
## Page 1011

API reference System Requirements 6.1.4.11.30 F_VN_Draw Orientation Exp F_VN_Draw Orientation Exp ↔ st Orientation Tc Vn Rotated Rectangle HRESULT F_VN_Draw Orientation Exp ip Dest Image ITc Vn Image ↔ a Color Main Axis Tc Vn Vector4_LREAL n Thickness DINT ↔ a Color Horizontal Axis Tc Vn Vector4_LREAL f Font Scale LREAL hr Prev HRESULT Draw the main axis, the horizontal axis and the angle of a set of points/contour based on a rotated rectangle. (expert function) Syntax Definition: FUNCTION F_VN_Draw Orientation Exp : HRESULT VAR_IN_OUT st Orientation : Tc Vn Rotated Rectangle; END_VAR VAR_INPUT ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color Main Axis : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT n Thickness : DINT; END_VAR VAR_IN_OUT a Color Horizontal Axis : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT f Font Scale : LREAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Dest Image ITc Vn Image [} 413] Destination image n Thickness DINT Line thickness f Font Scale LREAL Scaling factor for the text hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Orientation Tc Vn Rotated Rectangle Rotated rectangle, containig center of mass, lenghts of axes, and rotation angle in clockwise direction [} 251] a Color Main Axi Tc Vn Vector4_LREAL Color of the major axis s [} 165] a Color Horizont Tc Vn Vector4_LREAL Color of the horizontal axis al Axis [} 165] TF7000 - TF7810 Version: 2.4.0 1011
## Page 1012

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.11.31 F_VN_Draw Point F_VN_Draw Point n X UDINT HRESULT F_VN_Draw Point n Y UDINT ip Dest Image ITc Vn Image e Shape ETc Vn Draw Shape ↔ a Color Tc Vn Vector4_LREAL hr Prev HRESULT Draws a point. Syntax Definition: FUNCTION F_VN_Draw Point : HRESULT VAR_INPUT n X : UDINT; n Y : UDINT; ip Dest Image : ITc Vn Image; e Shape : ETc Vn Draw Shape; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description n X UDINT x coordinate of the point n Y UDINT y coordinate of the point ip Dest Image ITc Vn Image [} 413] Destination image e Shape ETc Vn Draw Shape [} 201] Point shape hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Color Tc Vn Vector4_LREAL Color (for {-1, -1, -1, -1}, a random color is chosen) [} 165] Return value HRESULT [} 144] 1012 Version: 2.4.0 TF7000 - TF7810
## Page 1013

API reference Required License TC3 Vision Base System Requirements 6.1.4.11.32 F_VN_Draw Point Exp F_VN_Draw Point Exp n X UDINT HRESULT F_VN_Draw Point Exp n Y UDINT ip Dest Image ITc Vn Image e Shape ETc Vn Draw Shape ↔ a Color Tc Vn Vector4_LREAL n Size UDINT n Thickness DINT e Line Type ETc Vn Line Type hr Prev HRESULT Draw a point. (expert function) Syntax Definition: FUNCTION F_VN_Draw Point Exp : HRESULT VAR_INPUT n X : UDINT; n Y : UDINT; ip Dest Image : ITc Vn Image; e Shape : ETc Vn Draw Shape; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT n Size : UDINT; n Thickness : DINT; e Line Type : ETc Vn Line Type; hr Prev : HRESULT; END_VAR Inputs Name Type Description n X UDINT x coordinate of the point n Y UDINT y coordinate of the point ip Dest Image ITc Vn Image [} 413] Destination image e Shape ETc Vn Draw Shape [} 201] Point shape n Size UDINT Size of the shape (half width) n Thickness DINT Line thickness (if negative, the shape is filled if it is closed) e Line Type ETc Vn Line Type [} 211] Line type hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Color Tc Vn Vector4_LREAL Color (for {-1, -1, -1, -1}, a random color is chosen) [} 165] TF7000 - TF7810 Version: 2.4.0 1013
## Page 1014

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.11.33 F_VN_Draw Points F_VN_Draw Points ip Points ITc Vn Container HRESULT F_VN_Draw Points ip Dest Image ITc Vn Image e Shape ETc Vn Draw Shape ↔ a Color Tc Vn Vector4_LREAL hr Prev HRESULT Draw a collection of points. Syntax Definition: FUNCTION F_VN_Draw Points : HRESULT VAR_INPUT ip Points : ITc Vn Container; ip Dest Image : ITc Vn Image; e Shape : ETc Vn Draw Shape; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Points ITc Vn Container [} 374] Container with Tc Vn Point2_DINT or Tc Vn Point2_REAL elements ip Dest Image ITc Vn Image [} 413] Destination image e Shape ETc Vn Draw Shape [} 201] Point shape hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Color Tc Vn Vector4_LREAL Color (for {-1, -1, -1, -1}, a random color is chosen for each point) [} 165] Return value HRESULT [} 144] 1014 Version: 2.4.0 TF7000 - TF7810
## Page 1015

API reference Required License TC3 Vision Base System Requirements 6.1.4.11.34 F_VN_Draw Points Exp F_VN_Draw Points Exp ip Points ITc Vn Container HRESULT F_VN_Draw Points Exp ip Dest Image ITc Vn Image e Shape ETc Vn Draw Shape ↔ a Color Tc Vn Vector4_LREAL n Size UDINT n Thickness DINT e Line Type ETc Vn Line Type hr Prev HRESULT Draw a collection of points. (expert function) Syntax Definition: FUNCTION F_VN_Draw Points Exp : HRESULT VAR_INPUT ip Points : ITc Vn Container; ip Dest Image : ITc Vn Image; e Shape : ETc Vn Draw Shape; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT n Size : UDINT; n Thickness : DINT; e Line Type : ETc Vn Line Type; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Points ITc Vn Container [} 374] Container with Tc Vn Point2_DINT or Tc Vn Point2_REAL elements ip Dest Image ITc Vn Image [} 413] Destination image e Shape ETc Vn Draw Shape [} 201] Point shape n Size UDINT Size of the shape (half width) n Thickness DINT Line thickness (if negative, the shape is filled if it is closed) e Line Type ETc Vn Line Type [} 211] Line type hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Color Tc Vn Vector4_LREAL Color (for {-1, -1, -1, -1}, a random color is chosen for each point) [} 165] TF7000 - TF7810 Version: 2.4.0 1015
## Page 1016

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.11.35 F_VN_Draw Polygon F_VN_Draw Polygon ip Points ITc Vn Container HRESULT F_VN_Draw Polygon ip Dest Image ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL n Thickness DINT hr Prev HRESULT Draw a pologon using collection of points. Syntax Definition: FUNCTION F_VN_Draw Polygon : HRESULT VAR_INPUT ip Points : ITc Vn Container; ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT n Thickness : DINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Points ITc Vn Container [} 374] Container with Tc Vn Point2_DINT, Tc Vn Point2_REAL, or Tc Vn Point2_LREAL elements ip Dest Image ITc Vn Image [} 413] Destination image n Thickness DINT Line thickness (if negative, the polygon is filled) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Color Tc Vn Vector4_LREAL Color [} 165] Return value HRESULT [} 144] 1016 Version: 2.4.0 TF7000 - TF7810
## Page 1017

API reference Required License TC3 Vision Base System Requirements 6.1.4.11.36 F_VN_Draw Polygon Exp F_VN_Draw Polygon Exp ip Points ITc Vn Container HRESULT F_VN_Draw Polygon Exp ip Dest Image ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL n Thickness DINT b Is Closed BOOL e Line Type ETc Vn Line Type n Shift UDINT hr Prev HRESULT Draw a pologon using collection of points. (expert function) Syntax Definition: FUNCTION F_VN_Draw Polygon Exp : HRESULT VAR_INPUT ip Points : ITc Vn Container; ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT n Thickness : DINT; b Is Closed : BOOL; e Line Type : ETc Vn Line Type; n Shift : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Points ITc Vn Container [} 374] Container with Tc Vn Point2_DINT, Tc Vn Point2_REAL, or Tc Vn Point2_LREAL elements ip Dest Image ITc Vn Image [} 413] Destination image n Thickness DINT Line thickness (if negative, the shape is filled) b Is Closed BOOL If it is true, the function draws a line from the last point to the first point to close the polygon. e Line Type ETc Vn Line Type [} 211] Line type n Shift UDINT Fractional bits of the coordinates (bit shift) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Color Tc Vn Vector4_LREAL Color [} 165] TF7000 - TF7810 Version: 2.4.0 1017
## Page 1018

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.11.37 F_VN_Draw Rectangle F_VN_Draw Rectangle n Top Left X UDINT HRESULT F_VN_Draw Rectangle n Top Left Y UDINT n Bottom Right X UDINT n Bottom Right Y UDINT ip Dest Image ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL n Thickness DINT hr Prev HRESULT Draw a rectangle. Syntax Definition: FUNCTION F_VN_Draw Rectangle : HRESULT VAR_INPUT n Top Left X : UDINT; n Top Left Y : UDINT; n Bottom Right X : UDINT; n Bottom Right Y : UDINT; ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT n Thickness : DINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description n Top Left X UDINT x coordinate of the top left corner n Top Left Y UDINT y coordinate of the top left corner n Bottom Right X UDINT x coordinate of the bottom right corner n Bottom Right Y UDINT y coordinate of the bottom right corner ip Dest Image ITc Vn Image [} 413] Destination image n Thickness DINT Line thickness (if negative, the rectangle is filled) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 1018 Version: 2.4.0 TF7000 - TF7810
## Page 1019

API reference In/Outputs Name Type Description a Color Tc Vn Vector4_LREAL Color [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.11.38 F_VN_Draw Rectangle_Tc Vn Rectangle_DINT F_VN_Draw Rectangle_Tc Vn Rectangle_DINT ↔ st Rectangle Tc Vn Rectangle_DINT HRESULT F_VN_Draw Rectangle_Tc Vn Rectangle_DINT ip Dest Image ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL n Thickness DINT hr Prev HRESULT Draw a rectangle. Syntax Definition: FUNCTION F_VN_Draw Rectangle_Tc Vn Rectangle_DINT : HRESULT VAR_IN_OUT st Rectangle : Tc Vn Rectangle_DINT; END_VAR VAR_INPUT ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT n Thickness : DINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Dest Image ITc Vn Image [} 413] Destination image n Thickness DINT Line thickness (if negative, the rectangle is filled) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 1019
## Page 1020

API reference In/Outputs Name Type Description st Rectangle Tc Vn Rectangle_DINT Rectangle to be drawn [} 250] a Color Tc Vn Vector4_LREAL Color [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.11.39 F_VN_Draw Rectangle_Tc Vn Rectangle_UDINT F_VN_Draw Rectangle_Tc Vn Rectangle_UDINT ↔ st Rectangle Tc Vn Rectangle_UDINT HRESULT F_VN_Draw Rectangle_Tc Vn Rectangle_UDINT ip Dest Image ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL n Thickness DINT hr Prev HRESULT Draw a rectangle. Syntax Definition: FUNCTION F_VN_Draw Rectangle_Tc Vn Rectangle_UDINT : HRESULT VAR_IN_OUT st Rectangle : Tc Vn Rectangle_UDINT; END_VAR VAR_INPUT ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT n Thickness : DINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Dest Image ITc Vn Image [} 413] Destination image n Thickness DINT Line thickness (if negative, the rectangle is filled) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 1020 Version: 2.4.0 TF7000 - TF7810
## Page 1021

API reference In/Outputs Name Type Description st Rectangle Tc Vn Rectangle_UDINT Rectangle to be drawn [} 251] a Color Tc Vn Vector4_LREAL Color [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.11.40 F_VN_Draw Rotated Rectangle F_VN_Draw Rotated Rectangle ↔ st Rectangle Tc Vn Rotated Rectangle HRESULT F_VN_Draw Rotated Rectangle ip Dest Image ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL n Thickness DINT hr Prev HRESULT Draw a rectangle. Syntax Definition: FUNCTION F_VN_Draw Rotated Rectangle : HRESULT VAR_IN_OUT st Rectangle : Tc Vn Rotated Rectangle; END_VAR VAR_INPUT ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT n Thickness : DINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Dest Image ITc Vn Image [} 413] Destination image n Thickness DINT Line thickness (if negative, the rectangle is filled) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 1021
## Page 1022

API reference In/Outputs Name Type Description st Rectangle Tc Vn Rotated Rectangle Rectangle to be drawn (rotation angle in degrees) [} 251] a Color Tc Vn Vector4_LREAL Color [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.11.41 F_VN_Draw Rotated Rectangle Exp F_VN_Draw Rotated Rectangle Exp ↔ st Rectangle Tc Vn Rotated Rectangle HRESULT F_VN_Draw Rotated Rectangle Exp ip Dest Image ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL n Thickness DINT e Line Type ETc Vn Line Type hr Prev HRESULT Draw a rectangle. (expert function) Syntax Definition: FUNCTION F_VN_Draw Rotated Rectangle Exp : HRESULT VAR_IN_OUT st Rectangle : Tc Vn Rotated Rectangle; END_VAR VAR_INPUT ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT n Thickness : DINT; e Line Type : ETc Vn Line Type; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Dest Image ITc Vn Image [} 413] Destination image n Thickness DINT Line thickness (if negative, the rectangle is filled) e Line Type ETc Vn Line Type [} 211] Line type hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 1022 Version: 2.4.0 TF7000 - TF7810
## Page 1023

API reference In/Outputs Name Type Description st Rectangle Tc Vn Rotated Rectangle Rectangle to be drawn (rotation angle in degrees) [} 251] a Color Tc Vn Vector4_LREAL Color [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.11.42 F_VN_Fill Circle F_VN_Fill Circle n Center X UDINT HRESULT F_VN_Fill Circle n Center Y UDINT n Radius UDINT ip Dest Image ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL hr Prev HRESULT Paint a filled circle. Syntax Definition: FUNCTION F_VN_Fill Circle : HRESULT VAR_INPUT n Center X : UDINT; n Center Y : UDINT; n Radius : UDINT; ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description n Center X UDINT x coordinate of the center n Center Y UDINT y coordinate of the center n Radius UDINT Radius ip Dest Image ITc Vn Image [} 413] Destination image hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 1023
## Page 1024

API reference In/Outputs Name Type Description a Color Tc Vn Vector4_LREAL Color [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.11.43 F_VN_Fill Contours F_VN_Fill Contours ip Contours ITc Vn Container HRESULT F_VN_Fill Contours n Contour Index DINT ip Dest Image ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL hr Prev HRESULT Paint a single point set or multiple point sets that are interpreted as contours. Syntax Definition: FUNCTION F_VN_Fill Contours : HRESULT VAR_INPUT ip Contours : ITc Vn Container; n Contour Index : DINT; ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Contours ITc Vn Container [} 374] Single contour (Container Type_Vector_Tc Vn Point2_DINT) or multiple contours (Container Type_Vector_Vector_Tc Vn Point2_DINT) n Contour Index DINT Index of a specific contour to be drawn (if negative, all contours within the container are drawn) ip Dest Image ITc Vn Image [} 413] Destination image hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 1024 Version: 2.4.0 TF7000 - TF7810
## Page 1025

API reference In/Outputs Name Type Description a Color Tc Vn Vector4_LREAL Color [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.11.44 F_VN_Fill Ellipse F_VN_Fill Ellipse ↔ st Ellipse Tc Vn Rotated Rectangle HRESULT F_VN_Fill Ellipse ip Dest Image ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL hr Prev HRESULT Paint a filled ellipse. Syntax Definition: FUNCTION F_VN_Fill Ellipse : HRESULT VAR_IN_OUT st Ellipse : Tc Vn Rotated Rectangle; END_VAR VAR_INPUT ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Dest Image ITc Vn Image [} 413] Destination image hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Ellipse Tc Vn Rotated Rectangle Ellipse to be painted (rotation angle in degrees) [} 251] a Color Tc Vn Vector4_LREAL Color [} 165] TF7000 - TF7810 Version: 2.4.0 1025
## Page 1026

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.11.45 F_VN_Fill Polygon F_VN_Fill Polygon ip Points ITc Vn Container HRESULT F_VN_Fill Polygon ip Dest Image ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL hr Prev HRESULT Paint a filled pologon using a set of points. Syntax Definition: FUNCTION F_VN_Fill Polygon : HRESULT VAR_INPUT ip Points : ITc Vn Container; ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Points ITc Vn Container [} 374] Container with Tc Vn Point2_DINT, Tc Vn Point2_REAL, or Tc Vn Point2_LREAL elements ip Dest Image ITc Vn Image [} 413] Destination image hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Color Tc Vn Vector4_LREAL Color [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base 1026 Version: 2.4.0 TF7000 - TF7810
## Page 1027

API reference System Requirements 6.1.4.11.46 F_VN_Fill Rectangle F_VN_Fill Rectangle n Top Left X UDINT HRESULT F_VN_Fill Rectangle n Top Left Y UDINT n Bottom Right X UDINT n Bottom Right Y UDINT ip Dest Image ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL hr Prev HRESULT Paint a filled rectangle. Syntax Definition: FUNCTION F_VN_Fill Rectangle : HRESULT VAR_INPUT n Top Left X : UDINT; n Top Left Y : UDINT; n Bottom Right X : UDINT; n Bottom Right Y : UDINT; ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description n Top Left X UDINT x coordinate of the top left corner n Top Left Y UDINT y coordinate of the top left corner n Bottom Right X UDINT x coordinate of the bottom right corner n Bottom Right Y UDINT y coordinate of the bottom right corner ip Dest Image ITc Vn Image [} 413] Destination image hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Color Tc Vn Vector4_LREAL Color [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1027
## Page 1028

API reference System Requirements 6.1.4.11.47 F_VN_Fill Rotated Rectangle F_VN_Fill Rotated Rectangle ↔ st Rectangle Tc Vn Rotated Rectangle HRESULT F_VN_Fill Rotated Rectangle ip Dest Image ITc Vn Image ↔ a Color Tc Vn Vector4_LREAL hr Prev HRESULT Paint a filled rectangle. Syntax Definition: FUNCTION F_VN_Fill Rotated Rectangle : HRESULT VAR_IN_OUT st Rectangle : Tc Vn Rotated Rectangle; END_VAR VAR_INPUT ip Dest Image : ITc Vn Image; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Dest Image ITc Vn Image [} 413] Destination image hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Rectangle Tc Vn Rotated Rectangle Rectangle to be painted (rotation angle in degrees) [} 251] a Color Tc Vn Vector4_LREAL Color [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base 1028 Version: 2.4.0 TF7000 - TF7810
## Page 1029

API reference System Requirements 6.1.4.11.48 F_VN_Plot Intensity Profile F_VN_Plot Intensity Profile ip Src Image ITc Vn Image HRESULT F_VN_Plot Intensity Profile ip Dest Image Reference To ITc Vn Image ↔ a Start Point Tc Vn Point2_REAL ↔ a End Point Tc Vn Point2_REAL hr Prev HRESULT Plots the pixel intensity profile along a line segment in an image. Syntax Definition: FUNCTION F_VN_Plot Intensity Profile : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; END_VAR VAR_IN_OUT a Start Point : Tc Vn Point2_REAL; a End Point : Tc Vn Point2_REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT, 1 channel) ip Dest Image Reference To Destination image (USINT, 1 channel. x: position, y: intensity, ITc Vn Image [} 413] origin: bottom left. An appropriate destination image will be created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Start Point Tc Vn Point2_REAL [} 163] Start point of the line segment a End Point Tc Vn Point2_REAL [} 163] End point of the line segment Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1029
## Page 1030

API reference System Requirements 6.1.4.11.49 F_VN_Plot Intensity Profile Exp F_VN_Plot Intensity Profile Exp ip Src Image ITc Vn Image HRESULT F_VN_Plot Intensity Profile Exp ip Dest Image Reference To ITc Vn Image ↔ a Start Point Tc Vn Point2_REAL ↔ a End Point Tc Vn Point2_REAL ↔ a Background Color Tc Vn Vector4_LREAL ↔ a Line Color Tc Vn Vector4_LREAL ↔ a Grid Color Tc Vn Vector4_LREAL n Scale X DINT n Scale Y DINT n Thickness DINT n Dest Channels DINT hr Prev HRESULT Plots the pixel intensity profile along a line segment in an image. (expert function) Syntax Definition: FUNCTION F_VN_Plot Intensity Profile Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; END_VAR VAR_IN_OUT a Start Point : Tc Vn Point2_REAL; a End Point : Tc Vn Point2_REAL; a Background Color : Tc Vn Vector4_LREAL; a Line Color : Tc Vn Vector4_LREAL; a Grid Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT n Scale X : DINT; n Scale Y : DINT; n Thickness : DINT; n Dest Channels : DINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT, 1 channel) ip Dest Image Reference To Destination image (USINT, 1 channel. x: position, y: intensity, ITc Vn Image [} 413] origin: bottom left. An appropriate destination image will be created if required.) n Scale X DINT Scale in x direction (ip Dest Image will have a width of n Scale X * (ip Src Image width - 1) + 1) n Scale Y DINT Scale in y direction (ip Dest Image will have a height of n Scale Y * 255 + 1) n Thickness DINT Line thickness n Dest Channels DINT ip Dest Image channels (1 or 3) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 1030 Version: 2.4.0 TF7000 - TF7810
## Page 1031

API reference In/Outputs Name Type Description a Start Point Tc Vn Point2_REAL [} 163] Start point of the line segment a End Point Tc Vn Point2_REAL [} 163] End point of the line segment a Background C Tc Vn Vector4_LREAL Background color olor [} 165] a Line Color Tc Vn Vector4_LREAL Line color [} 165] a Grid Color Tc Vn Vector4_LREAL Grid color [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.11.50 F_VN_Put Label F_VN_Put Label s Text STRING HRESULT F_VN_Put Label ip Dest Image ITc Vn Image n X UDINT n Y UDINT f Font Scale LREAL hr Prev HRESULT Write a label (black text on white background) into an image. Syntax Definition: FUNCTION F_VN_Put Label : HRESULT VAR_INPUT s Text : STRING; ip Dest Image : ITc Vn Image; n X : UDINT; n Y : UDINT; f Font Scale : LREAL; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1031
## Page 1032

API reference Inputs Name Type Description s Text STRING Text ip Dest Image ITc Vn Image [} 413] Destination image n X UDINT x coordinate (bottom left) n Y UDINT y coordinate (bottom left) f Font Scale LREAL Scaling factor hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.11.51 F_VN_Put Label Exp F_VN_Put Label Exp s Text STRING HRESULT F_VN_Put Label Exp ip Dest Image ITc Vn Image n X UDINT n Y UDINT f Font Scale LREAL n Thickness UDINT e Font Type ETc Vn Font Type ↔ a Font Color Tc Vn Vector4_LREAL ↔ a Background Color Tc Vn Vector4_LREAL e Line Type ETc Vn Line Type hr Prev HRESULT Write a label (text on unified background) into an image. (expert function) Syntax Definition: FUNCTION F_VN_Put Label Exp : HRESULT VAR_INPUT s Text : STRING; ip Dest Image : ITc Vn Image; n X : UDINT; n Y : UDINT; f Font Scale : LREAL; n Thickness : UDINT; e Font Type : ETc Vn Font Type; END_VAR VAR_IN_OUT a Font Color : Tc Vn Vector4_LREAL; a Background Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT e Line Type : ETc Vn Line Type; hr Prev : HRESULT; END_VAR 1032 Version: 2.4.0 TF7000 - TF7810
## Page 1033

API reference Inputs Name Type Description s Text STRING Text ip Dest Image ITc Vn Image [} 413] Destination image n X UDINT x coordinate (bottom left) n Y UDINT y coordinate (bottom left) f Font Scale LREAL Scaling factor n Thickness UDINT Line thickness e Font Type ETc Vn Font Type [} 207] Font type e Line Type ETc Vn Line Type [} 211] Line type hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Font Color Tc Vn Vector4_LREAL Font color [} 165] a Background C Tc Vn Vector4_LREAL Background color olor [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.11.52 F_VN_Put Text F_VN_Put Text s Text STRING HRESULT F_VN_Put Text ip Dest Image ITc Vn Image n X UDINT n Y UDINT e Font Type ETc Vn Font Type f Font Scale LREAL ↔ a Color Tc Vn Vector4_LREAL hr Prev HRESULT Write text into an image. Syntax Definition: FUNCTION F_VN_Put Text : HRESULT VAR_INPUT s Text : STRING; ip Dest Image : ITc Vn Image; n X : UDINT; n Y : UDINT; e Font Type : ETc Vn Font Type; TF7000 - TF7810 Version: 2.4.0 1033
## Page 1034

API reference f Font Scale : LREAL; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description s Text STRING Text ip Dest Image ITc Vn Image [} 413] Destination image n X UDINT x coordinate (bottom left) n Y UDINT y coordinate (bottom left) e Font Type ETc Vn Font Type [} 207] Font type f Font Scale LREAL Scaling factor hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Color Tc Vn Vector4_LREAL Text color [} 165] Return value HRESULT [} 144] Further information The following fonts are available: 1034 Version: 2.4.0 TF7000 - TF7810
## Page 1035

API reference Related functions • F_VN_Put Label Exp [} 1032] • F_VN_Put Text(Exp) [} 1033] Required License TC3 Vision Base System Requirements 6.1.4.11.53 F_VN_Put Text Exp F_VN_Put Text Exp s Text STRING HRESULT F_VN_Put Text Exp ip Dest Image ITc Vn Image n X UDINT n Y UDINT e Font Type ETc Vn Font Type f Font Scale LREAL ↔ a Color Tc Vn Vector4_LREAL n Thickness DINT e Line Type ETc Vn Line Type b Bottom Left Origin BOOL hr Prev HRESULT Write text into an image. (expert function) Syntax Definition: FUNCTION F_VN_Put Text Exp : HRESULT VAR_INPUT s Text : STRING; ip Dest Image : ITc Vn Image; n X : UDINT; n Y : UDINT; e Font Type : ETc Vn Font Type; f Font Scale : LREAL; END_VAR VAR_IN_OUT a Color : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT n Thickness : DINT; e Line Type : ETc Vn Line Type; b Bottom Left Origin : BOOL; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1035
## Page 1036

API reference Inputs Name Type Description s Text STRING Text ip Dest Image ITc Vn Image [} 413] Destination image n X UDINT x coordinate (bottom left) n Y UDINT y coordinate (bottom left) e Font Type ETc Vn Font Type [} 207] Font type f Font Scale LREAL Scaling factor n Thickness DINT Line thickness e Line Type ETc Vn Line Type [} 211] Line type b Bottom Left Ori BOOL Sets the image origin to the bottom left corner, if true gin hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Color Tc Vn Vector4_LREAL Text color [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.12 Fourier Analysis This group contains functions for frequency analysis and frequency filtering in images. Functions Butterworth filter • F_VN_Create Bandpass Butterworth Filter [} 1037] • F_VN_Create Bandreject Butterworth Filter [} 1039] • F_VN_Create Highpass Butterworth Filter [} 1041] • F_VN_Create Lowpass Butterworth Filter [} 1043] Gaussian filter • F_VN_Create Bandpass Gaussian Filter [} 1038] • F_VN_Create Bandreject Gaussian Filter [} 1040] • F_VN_Create Highpass Gaussian Filter [} 1042] • F_VN_Create Lowpass Gaussian Filter [} 1044] Discrete Fourier transform 1036 Version: 2.4.0 TF7000 - TF7810
## Page 1037

API reference • F_VN_Dft [} 1045] • F_VN_Inverse Dft [} 1046] • F_VN_Optimal Dft Size [} 1047] 6.1.4.12.1 F_VN_Create Bandpass Butterworth Filter F_VN_Create Bandpass Butterworth Filter ip Filter Reference To ITc Vn Image HRESULT F_VN_Create Bandpass Butterworth Filter n Width UDINT n Height UDINT b Double Precision BOOL b Origin At Center BOOL f Cutoff Distance LREAL f Band Width LREAL n Order UDINT f Scale LREAL hr Prev HRESULT Creates a bandpass Butterworth filter, which can be applied to a frequency domain image by element-wise multiplication. Syntax Definition: FUNCTION F_VN_Create Bandpass Butterworth Filter : HRESULT VAR_INPUT ip Filter : Reference To ITc Vn Image; n Width : UDINT; n Height : UDINT; b Double Precision : BOOL; b Origin At Center : BOOL; f Cutoff Distance : LREAL; f Band Width : LREAL; n Order : UDINT; f Scale : LREAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Filter Reference To Returns the created filter (1 channel of type REAL or LREAL, ITc Vn Image [} 413] depending on b Double Precision. Non-zero interface pointers are reused.). n Width UDINT Filter width (even, >= 2, must match the width of the image it is applied to) n Height UDINT Filter height (even, >= 2, must match the height of the image it is applied to) b Double Precisi BOOL If true, the filter is generated with double precision (LREAL) on instead of single precision (REAL). b Origin At Cente BOOL If true, the filter origin is shifted to the image center. r f Cutoff Distance LREAL The cutoff distance of the Butterworth filter (> 0). f Band Width LREAL The band width of the Butterworth filter (> 0). n Order UDINT The order of the Butterworth filter (> 0). f Scale LREAL The scale factor of the Butterworth filter denominator term (> 0, e.g. 0.414 or 1.0). hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 1037
## Page 1038

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.12.2 F_VN_Create Bandpass Gaussian Filter F_VN_Create Bandpass Gaussian Filter ip Filter Reference To ITc Vn Image HRESULT F_VN_Create Bandpass Gaussian Filter n Width UDINT n Height UDINT b Double Precision BOOL b Origin At Center BOOL f Cutoff Distance LREAL f Band Width LREAL hr Prev HRESULT Creates a bandpass Gaussian filter, which can be applied to a frequency domain image by element-wise multiplication. Syntax Definition: FUNCTION F_VN_Create Bandpass Gaussian Filter : HRESULT VAR_INPUT ip Filter : Reference To ITc Vn Image; n Width : UDINT; n Height : UDINT; b Double Precision : BOOL; b Origin At Center : BOOL; f Cutoff Distance : LREAL; f Band Width : LREAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Filter Reference To Returns the created filter (1 channel of type REAL or LREAL, ITc Vn Image [} 413] depending on b Double Precision. Non-zero interface pointers are reused.). n Width UDINT Filter width (even, >= 2, must match the width of the image it is applied to) n Height UDINT Filter height (even, >= 2, must match the height of the image it is applied to) b Double Precisi BOOL If true, the filter is generated with double precision (LREAL) on instead of single precision (REAL). b Origin At Cente BOOL If true, the filter origin is shifted to the image center. r f Cutoff Distance LREAL The cutoff distance of the Gaussian filter (> 0). f Band Width LREAL The band width of the Gaussian filter (> 0). hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 1038 Version: 2.4.0 TF7000 - TF7810
## Page 1039

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.12.3 F_VN_Create Bandreject Butterworth Filter F_VN_Create Bandreject Butterworth Filter ip Filter Reference To ITc Vn Image HRESULT F_VN_Create Bandreject Butterworth Filter n Width UDINT n Height UDINT b Double Precision BOOL b Origin At Center BOOL f Cutoff Distance LREAL f Band Width LREAL n Order UDINT f Scale LREAL hr Prev HRESULT Creates a bandreject Butterworth filter, which can be applied to a frequency domain image by element-wise multiplication. Syntax Definition: FUNCTION F_VN_Create Bandreject Butterworth Filter : HRESULT VAR_INPUT ip Filter : Reference To ITc Vn Image; n Width : UDINT; n Height : UDINT; b Double Precision : BOOL; b Origin At Center : BOOL; f Cutoff Distance : LREAL; f Band Width : LREAL; n Order : UDINT; f Scale : LREAL; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1039
## Page 1040

API reference Inputs Name Type Description ip Filter Reference To Returns the created filter (1 channel of type REAL or LREAL, ITc Vn Image [} 413] depending on b Double Precision. Non-zero interface pointers are reused.). n Width UDINT Filter width (even, >= 2, must match the width of the image it is applied to) n Height UDINT Filter height (even, >= 2, must match the height of the image it is applied to) b Double Precisi BOOL If true, the filter is generated with double precision (LREAL) on instead of single precision (REAL). b Origin At Cente BOOL If true, the filter origin is shifted to the image center. r f Cutoff Distance LREAL The cutoff distance of the Butterworth filter (> 0). f Band Width LREAL The band width of the Butterworth filter (> 0). n Order UDINT The order of the Butterworth filter (> 0). f Scale LREAL The scale factor of the Butterworth filter denominator term (> 0, e.g. 0.414 or 1.0). hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.12.4 F_VN_Create Bandreject Gaussian Filter F_VN_Create Bandreject Gaussian Filter ip Filter Reference To ITc Vn Image HRESULT F_VN_Create Bandreject Gaussian Filter n Width UDINT n Height UDINT b Double Precision BOOL b Origin At Center BOOL f Cutoff Distance LREAL f Band Width LREAL hr Prev HRESULT Creates a bandreject Gaussian filter, which can be applied to a frequency domain image by element-wise multiplication. Syntax Definition: FUNCTION F_VN_Create Bandreject Gaussian Filter : HRESULT VAR_INPUT ip Filter : Reference To ITc Vn Image; n Width : UDINT; n Height : UDINT; b Double Precision : BOOL; b Origin At Center : BOOL; f Cutoff Distance : LREAL; 1040 Version: 2.4.0 TF7000 - TF7810
## Page 1041

API reference f Band Width : LREAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Filter Reference To Returns the created filter (1 channel of type REAL or LREAL, ITc Vn Image [} 413] depending on b Double Precision. Non-zero interface pointers are reused.). n Width UDINT Filter width (even, >= 2, must match the width of the image it is applied to) n Height UDINT Filter height (even, >= 2, must match the height of the image it is applied to) b Double Precisi BOOL If true, the filter is generated with double precision (LREAL) on instead of single precision (REAL). b Origin At Cente BOOL If true, the filter origin is shifted to the image center. r f Cutoff Distance LREAL The cutoff distance of the Gaussian filter (> 0). f Band Width LREAL The band width of the Gaussian filter (> 0). hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.12.5 F_VN_Create Highpass Butterworth Filter F_VN_Create Highpass Butterworth Filter ip Filter Reference To ITc Vn Image HRESULT F_VN_Create Highpass Butterworth Filter n Width UDINT n Height UDINT b Double Precision BOOL b Origin At Center BOOL f Cutoff Distance LREAL n Order UDINT f Scale LREAL hr Prev HRESULT Creates a highpass Butterworth filter, which can be applied to a frequency domain image by element-wise multiplication. Syntax Definition: FUNCTION F_VN_Create Highpass Butterworth Filter : HRESULT VAR_INPUT ip Filter : Reference To ITc Vn Image; n Width : UDINT; n Height : UDINT; b Double Precision : BOOL; b Origin At Center : BOOL; f Cutoff Distance : LREAL; n Order : UDINT; TF7000 - TF7810 Version: 2.4.0 1041
## Page 1042

API reference f Scale : LREAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Filter Reference To Returns the created filter (1 channel of type REAL or LREAL, ITc Vn Image [} 413] depending on b Double Precision. Non-zero interface pointers are reused.). n Width UDINT Filter width (even, >= 2, must match the width of the image it is applied to) n Height UDINT Filter height (even, >= 2, must match the height of the image it is applied to) b Double Precisi BOOL If true, the filter is generated with double precision (LREAL) on instead of single precision (REAL). b Origin At Cente BOOL If true, the filter origin is shifted to the image center. r f Cutoff Distance LREAL The cutoff distance of the Butterworth filter (> 0). n Order UDINT The order of the Butterworth filter (> 0). f Scale LREAL The scale factor of the Butterworth filter denominator term (> 0, e.g. 0.414 or 1.0). hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.12.6 F_VN_Create Highpass Gaussian Filter F_VN_Create Highpass Gaussian Filter ip Filter Reference To ITc Vn Image HRESULT F_VN_Create Highpass Gaussian Filter n Width UDINT n Height UDINT b Double Precision BOOL b Origin At Center BOOL f Cutoff Distance LREAL hr Prev HRESULT Creates a highpass Gaussian filter, which can be applied to a frequency domain image by element-wise multiplication. Syntax Definition: FUNCTION F_VN_Create Highpass Gaussian Filter : HRESULT VAR_INPUT ip Filter : Reference To ITc Vn Image; n Width : UDINT; n Height : UDINT; b Double Precision : BOOL; b Origin At Center : BOOL; 1042 Version: 2.4.0 TF7000 - TF7810
## Page 1043

API reference f Cutoff Distance : LREAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Filter Reference To Returns the created filter (1 channel of type REAL or LREAL, ITc Vn Image [} 413] depending on b Double Precision. Non-zero interface pointers are reused.). n Width UDINT Filter width (even, >= 2, must match the width of the image it is applied to) n Height UDINT Filter height (even, >= 2, must match the height of the image it is applied to) b Double Precisi BOOL If true, the filter is generated with double precision (LREAL) on instead of single precision (REAL). b Origin At Cente BOOL If true, the filter origin is shifted to the image center. r f Cutoff Distance LREAL The cutoff distance of the Gaussian filter (> 0). hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.12.7 F_VN_Create Lowpass Butterworth Filter F_VN_Create Lowpass Butterworth Filter ip Filter Reference To ITc Vn Image HRESULT F_VN_Create Lowpass Butterworth Filter n Width UDINT n Height UDINT b Double Precision BOOL b Origin At Center BOOL f Cutoff Distance LREAL n Order UDINT f Scale LREAL hr Prev HRESULT Creates a lowpass Butterworth filter, which can be applied to a frequency domain image by element-wise multiplication. Syntax Definition: FUNCTION F_VN_Create Lowpass Butterworth Filter : HRESULT VAR_INPUT ip Filter : Reference To ITc Vn Image; n Width : UDINT; n Height : UDINT; b Double Precision : BOOL; b Origin At Center : BOOL; f Cutoff Distance : LREAL; n Order : UDINT; TF7000 - TF7810 Version: 2.4.0 1043
## Page 1044

API reference f Scale : LREAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Filter Reference To Returns the created filter (1 channel of type REAL or LREAL, ITc Vn Image [} 413] depending on b Double Precision. Non-zero interface pointers are reused.). n Width UDINT Filter width (even, >= 2, must match the width of the image it is applied to) n Height UDINT Filter height (even, >= 2, must match the height of the image it is applied to) b Double Precisi BOOL If true, the filter is generated with double precision (LREAL) on instead of single precision (REAL). b Origin At Cente BOOL If true, the filter origin is shifted to the image center. r f Cutoff Distance LREAL The cutoff distance of the Butterworth filter (> 0). n Order UDINT The order of the Butterworth filter (> 0). f Scale LREAL The scale factor of the Butterworth filter denominator term (> 0, e.g. 0.414 or 1.0). hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.12.8 F_VN_Create Lowpass Gaussian Filter F_VN_Create Lowpass Gaussian Filter ip Filter Reference To ITc Vn Image HRESULT F_VN_Create Lowpass Gaussian Filter n Width UDINT n Height UDINT b Double Precision BOOL b Origin At Center BOOL f Cutoff Distance LREAL hr Prev HRESULT Creates a lowpass Gaussian filter, which can be applied to a frequency domain image by element-wise multiplication. Syntax Definition: FUNCTION F_VN_Create Lowpass Gaussian Filter : HRESULT VAR_INPUT ip Filter : Reference To ITc Vn Image; n Width : UDINT; n Height : UDINT; b Double Precision : BOOL; b Origin At Center : BOOL; 1044 Version: 2.4.0 TF7000 - TF7810
## Page 1045

API reference f Cutoff Distance : LREAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Filter Reference To Returns the created filter (1 channel of type REAL or LREAL, ITc Vn Image [} 413] depending on b Double Precision. Non-zero interface pointers are reused.). n Width UDINT Filter width (even, >= 2, must match the width of the image it is applied to) n Height UDINT Filter height (even, >= 2, must match the height of the image it is applied to) b Double Precisi BOOL If true, the filter is generated with double precision (LREAL) on instead of single precision (REAL). b Origin At Cente BOOL If true, the filter origin is shifted to the image center. r f Cutoff Distance LREAL The cutoff distance of the Gaussian filter (> 0). hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.12.9 F_VN_Dft F_VN_Dft ip Spatial Image ITc Vn Image HRESULT F_VN_Dft ip Frequency Image Reference To ITc Vn Image b Packed CCS BOOL b Auto Padding BOOL hr Prev HRESULT Computes the DFT for a given image. Syntax Definition: FUNCTION F_VN_Dft : HRESULT VAR_INPUT ip Spatial Image : ITc Vn Image; ip Frequency Image : Reference To ITc Vn Image; b Packed CCS : BOOL; b Auto Padding : BOOL; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1045
## Page 1046

API reference Inputs Name Type Description ip Spatial Image ITc Vn Image [} 413] Source image (elements of type REAL or LREAL, 1 (Re) or 2 (Re + Im) channels) ip Frequency Im Reference To Destination image (same type as ip Spatial Image, but number of age ITc Vn Image [} 413] channels and size can vary depending on b Packed CCS and b Auto Padding. b Packed CCS BOOL If true and ip Spatial Image has only 1 channel, the result image will have 1 channel with packed complex-conjugate-symmetrical format results. Otherwise, the result image will have 2 separate channels (Re + Im), containing the full spectrum. b Auto Padding BOOL If true, the input image is automatically padded (with 0s) to optimal size if required, to speed up dft (Creates a temporary copy so that ip Spatial Image content stays unchanged, which also requires some additional computation power. Therefore, it is recommended to compare execution times with and without padding.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.12.10 F_VN_Inverse Dft F_VN_Inverse Dft ip Frequency Image ITc Vn Image HRESULT F_VN_Inverse Dft ip Spatial Image Reference To ITc Vn Image b Real Output BOOL hr Prev HRESULT Compute the inverse DFT for a given frequency image. Syntax Definition: FUNCTION F_VN_Inverse Dft : HRESULT VAR_INPUT ip Frequency Image : ITc Vn Image; ip Spatial Image : Reference To ITc Vn Image; b Real Output : BOOL; hr Prev : HRESULT; END_VAR 1046 Version: 2.4.0 TF7000 - TF7810
## Page 1047

API reference Inputs Name Type Description ip Frequency Im ITc Vn Image [} 413] Source frequency image (elements of type REAL or LREAL, 1 age (packed CCS) or 2 (Re + Im) channels) ip Spatial Image Reference To Destination image (Same type as ip Frequency Image, but ITc Vn Image [} 413] number of channels can vary depending on b Real Output. An appropriate image will be created if required.) b Real Output BOOL Only relevant if ip Frequency Image has 2 channels. If true, the result image will have only 1 channel. Otherwise, the result image will have 2 separate channels (Re + Im). If ip Frequency Image has only 1 channel, packed CCS format is assumed and the result image will always have only 1 channel. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.12.11 F_VN_Optimal Dft Size F_VN_Optimal Dft Size ip Image ITc Vn Image HRESULT F_VN_Optimal Dft Size ↔ n Opt Width UDINT ↔ n Opt Height UDINT hr Prev HRESULT Computes the optimal image size for applying a dft (can lead to better performance). Syntax Definition: FUNCTION F_VN_Optimal Dft Size : HRESULT VAR_INPUT ip Image : ITc Vn Image; END_VAR VAR_IN_OUT n Opt Width : UDINT; n Opt Height : UDINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Image ITc Vn Image [} 413] Source image for which to compute the optimal width and height hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 1047
## Page 1048

API reference In/Outputs Name Type Description n Opt Width UDINT Returns the optimal width of the image n Opt Height UDINT Returns the optimal height of the image Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13 Geometric and Coordinate Transformations This group contains functions for transforming images and pixels. Functions Calibration [} 1049] • Intrinsic and extrinsic calibration • Compensation of optical distortions • Transformation between image and world coordinates Affine Transformation • F_VN_Apply Rotation To Affine Transformation(Exp) [} 1091] • F_VN_Apply Scaling To Affine Transformation(Exp) [} 1093] • F_VN_Apply Translation To Affine Transformation(Exp) [} 1095] • F_VN_Apply YAxis Inversion To Affine Transformation(Exp) [} 1096] • F_VN_Decompose Affine Transformation(Exp) [} 1110] • F_VN_Generate Affine Transformation Unit Matrix2D [} 1116] • F_VN_Get Affine Transformation [} 1116] • F_VN_Get Affine Transformation2D(Exp) [} 1117] • F_VN_Invert Affine Transformation [} 1122] • F_VN_Warp Affine(Exp) [} 1137] • F_VN_Warp Affine_Container [} 1138] • F_VN_Warp Affine_Point [} 1139] • F_VN_Warp Affine_Rectangle [} 1140] Transformation between cartesian and polar coordinates • F_VN_Convert Cartesian To Polar Angle Image(Exp) [} 1098] • F_VN_Convert Cartesian To Polar Angles(Exp) [} 1099] • F_VN_Convert Cartesian To Polar Images(Exp) [} 1101] • F_VN_Convert Cartesian To Polar Magnitude Image [} 1103] • F_VN_Convert Cartesian To Polar Magnitudes [} 1104] • F_VN_Convert Cartesian To Polar Points(Exp) [} 1105] 1048 Version: 2.4.0 TF7000 - TF7810
## Page 1049

API reference • F_VN_Convert Polar To Cartesian Images(Exp) [} 1106] • F_VN_Convert Polar To Cartesian Points(Exp) [} 1108] • F_VN_Remap Image To Log Polar Space(Exp) [} 1126] • F_VN_Remap Image To Polar Space(Exp) [} 1129] Simple image operations • F_VN_Flip Image [} 1115] • F_VN_Pyramid Down [} 1124] • F_VN_Pyramid Up [} 1125] • F_VN_Resize Image [} 1132] Image alignment and rotation • F_VN_Align Rotated Image Region(Exp) [} 1089] • F_VN_Rotate Image(Exp) [} 1134] Perspective transformation • F_VN_Decompose Homography(Exp) [} 1112] • F_VN_Get Perspective Transformation [} 1119] • F_VN_Homography(Exp) [} 1120] • F_VN_Perspective Transformation [} 1123] • F_VN_Warp Perspective(Exp) [} 1142] • F_VN_Warp Perspective_Container [} 1143] • F_VN_Warp Perspective_Point [} 1144] • F_VN_Warp Perspective_Rectangle [} 1144] 6.1.4.13.1 Calibration This subgroup contains functions for the correlation between pixels and real world pixels. They are usually used together with the measurement functions [} 1440]. Functions Calibration • F_VN_Calibrate Camera(Exp) [} 1050] • F_VN_Calibrate Camera Manually(Exp) [} 1060] • F_VN_Calibrate Camera Planar(Exp) [} 1063] • F_VN_Calibrate Linescan Camera(Exp) [} 1065] • F_VN_Detect Pattern Points(Exp) [} 1075] • F_VN_Generate Calibration Pattern Reference Points [} 1078] • F_VN_Sort Detected Pattern Points [} 1082] • F_VN_Solve Pn P(Exp) [} 1080] Compensation of lens distortion • F_VN_Compensate Lens Distortion(Exp) [} 1069] • F_VN_Compensate Lens Distortion For Points(Exp) [} 1072] TF7000 - TF7810 Version: 2.4.0 1049
## Page 1050

API reference Transformation between image and world coordinates • F_VN_Transform Coordinates Image To World [} 1084] • F_VN_Transform Coordinates World To Image [} 1088] • F_VN_Transform Coordinates Planar [} 1086] • F_VN_Image Points World Distance [} 1079] Requirements for the input images The input images should not be used in a packed or filtered format, such as Bayer format. In the case of the calibration functions, this has the consequence that the recognition of the patterns is disturbed, which can lead to poorer calibration results or no calibration results at all. Since an interpolation takes place during the compensation functions, in which the original arrangement of the pixels is changed, the image can no longer be converted correctly afterwards. Therefore, it is recommended to always perform a conversion first before using a function from this subgroup. Requirements for the camera matrix éf x 0 c xù ê ú Camera Matrix = 0 f c ê y yú ê0 0 1ú ë û The camera matrix is made up of the focal lengths fx and fy and the principal point (cx,cy), which are expressed in pixel units. The principal point, which is the intersection of the optical axis with the image, is normally located near the center of the image. The following conditions must be met: • 0 < fx and fy • cx >= 0 and <= image width -1 • cy >= 0 and <= image height -1 • The other positions in the matrix must be filled with 0 or 1, as shown in the figure. Other values are not permissible. 6.1.4.13.1.1 F_VN_Calibrate Camera F_VN_Calibrate Camera ip Src Image ITc Vn Image HRESULT F_VN_Calibrate Camera ip Reference Points ITc Vn Container ↔ a Camera Matrix Tc Vn Matrix3x3_LREAL ↔ a Distortion Coefficients Tc Vn Array8_LREAL ↔ a Rotation Matrix Tc Vn Matrix3x3_LREAL ↔ a Translation Vector Tc Vn Vector3_LREAL ↔ f Reproj Error LREAL ↔ st Blob Detection Params Tc Vn Params Blob Detection ↔ st Calibration Options Tc Vn Camera Calibration Options hr Prev HRESULT Compute the camera parameters (intrinsic + extrinsic) by evaluating an image containing a calibration pattern (circles). Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Calibrate Camera : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Reference Points : ITc Vn Container; END_VAR VAR_IN_OUT a Camera Matrix : Tc Vn Matrix3x3_LREAL; a Distortion Coefficients : Tc Vn Array8_LREAL; 1050 Version: 2.4.0 TF7000 - TF7810
## Page 1051

API reference a Rotation Matrix : Tc Vn Matrix3x3_LREAL; a Translation Vector : Tc Vn Vector3_LREAL; f Reproj Error : LREAL; st Blob Detection Params : Tc Vn Params Blob Detection; st Calibration Options : Tc Vn Camera Calibration Options; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image containing a calibration pattern (1 channel, USINT elements) ip Reference Poi ITc Vn Container [} 374] Reference calibration pattern point positions nts (Container Type_Vector_Tc Vn Point3_REAL) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Camera Matrix Tc Vn Matrix3x3_LREAL Returns the camera matrix [} 165] a Distortion Coef Tc Vn Array8_LREAL [} 165] Returns the lens distortion coefficients [k1, k2, p1, p2, k3, k4, k5, ficients k6] a Rotation Matri Tc Vn Matrix3x3_LREAL Returns the rotation matrix x [} 165] a Translation Ve Tc Vn Vector3_LREAL Returns the translation vector ctor [} 165] f Reproj Error LREAL Returns the reprojection error st Blob Detectio Tc Vn Params Blob Detection Parameters for the internally used F_VN_Detect Blobs function n Params [} 240] st Calibration Op Calibration options tions Tc Vn Camera Calibration Op tions [} 233] Return value HRESULT [} 144] Further information The function F_VN_Calibrate Camera calculates the intrinsic and extrinsic camera parameters on the basis of an input image containing a calibration pattern. The elements of the calibration pattern must be detectable as a blob. Input image The input image ip Src Image must be a 1-channel grayscale image with a bit depth of 8 bits. This image must contain a calibration pattern with circles that matches the reference points ip Reference Points. The function expects black filled circles on a white background. To invert the image, the ETc Vn Threshold Type = TCVN_TT_BINARY_INV of the Blob function can be used. The expert version F_VN_Calibrate Camera Exp [} 1053] is required for a calibration with several input images. TF7000 - TF7810 Version: 2.4.0 1051
## Page 1052

API reference Reference points The container ip Reference Points must contain the reference points that are illustrated on the input image ip Src Image as the calibration pattern. The points must be specified as 3-dimensional points of the type REAL so that the container is of the type Container Type_Vector_Tc Vn Point3_REAL. The reference points can be generated as follows: • Manual creation of an XML file and reading with the function block FB_VN_Read Calibration Pattern [} 1593]. • Configuration in the calibration assistants [} 110], saving in the Tc COM object by clicking Write Results and reading with the method Get Calib Pattern Ref [} 1630] of the function block FB_VN_Gev Camera Control [} 1622]. The set center point is taken into account. • Inserting reference points individually into a container. Matrices of the camera parameters These matrices return the calculated parameters of the camera model. They can then be used for the compensation of the objective distortions and for the conversion between pixel coordinates and world coordinates. • Camera matrix • Distortion coefficients • Rotation matrix • Translation vector Rounding errors On account of rounding errors, the calculated parameter values can deviate slightly from the values calculated in the calibration assistants. Reprojection errors Parameters for blob detection No chessboard pattern As the reference points are detected as a blob structure, the use of chessboard patterns is not possible. Options for calibration Default settings To get the default settings from the calibration wizard [} 110], the bits b Fix Aspect Ratio, b Fix Principal Point, b Fix K5, b Fix K6 and b Rational Model must be set to TRUE. b Fix Principal Point = „Fix Center Point“ The bit b Fix Principal Point corresponds to the option "Fix Center Point" in the camera calibration assistant. Samples • Calibration Assistant [} 2823] Required License TC3 Vision Metrology 2D 1052 Version: 2.4.0 TF7000 - TF7810
## Page 1053

API reference System Requirements 6.1.4.13.1.2 F_VN_Calibrate Camera Exp F_VN_Calibrate Camera Exp p Src Images PVOID HRESULT F_VN_Calibrate Camera Exp n Src Array Size UINT ip Reference Points ITc Vn Container ↔ a Camera Matrix Tc Vn Matrix3x3_LREAL ↔ a Distortion Coefficients Tc Vn Array8_LREAL ↔ a Rotation Matrix Tc Vn Matrix3x3_LREAL ↔ a Translation Vector Tc Vn Vector3_LREAL ↔ f Reproj Error LREAL ↔ st Blob Detection Params Tc Vn Params Blob Detection ↔ st Calibration Options Tc Vn Camera Calibration Options hr Prev HRESULT Compute the camera parameters (intrinsic + extrinsic) by evaluating images containing a calibration pattern (circles). The extrinsic parameters are computed for the first image in the array. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Calibrate Camera Exp : HRESULT VAR_INPUT p Src Images : PVOID; n Src Array Size : UINT; ip Reference Points : ITc Vn Container; END_VAR VAR_IN_OUT a Camera Matrix : Tc Vn Matrix3x3_LREAL; a Distortion Coefficients : Tc Vn Array8_LREAL; a Rotation Matrix : Tc Vn Matrix3x3_LREAL; a Translation Vector : Tc Vn Vector3_LREAL; f Reproj Error : LREAL; st Blob Detection Params : Tc Vn Params Blob Detection; st Calibration Options : Tc Vn Camera Calibration Options; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description p Src Images PVOID Pointer to an array of source images, each containing the same calibration pattern (1 channel, USINT elements) n Src Array Size UINT p Src Images array size ip Reference Poi ITc Vn Container [} 374] Reference calibration pattern point positions nts (Container Type_Vector_Tc Vn Point3_REAL) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 1053
## Page 1054

API reference In/Outputs Name Type Description a Camera Matrix Tc Vn Matrix3x3_LREAL Returns the camera matrix [} 165] a Distortion Coef Tc Vn Array8_LREAL [} 165] Returns the lens distortion coefficients [k1, k2, p1, p2, k3, k4, k5, ficients k6] a Rotation Matri Tc Vn Matrix3x3_LREAL Returns the rotation matrix x [} 165] a Translation Ve Tc Vn Vector3_LREAL Returns the translation vector ctor [} 165] f Reproj Error LREAL Returns the reprojection error st Blob Detectio Tc Vn Params Blob Detection Parameters for the internally used F_VN_Detect Blobs function n Params [} 240] st Calibration Op Calibration options tions Tc Vn Camera Calibration Op tions [} 233] Return value HRESULT [} 144] Further information The function F_VN_Calibrate Camera Exp is the Expert version of F_VN_Calibrate Camera [} 1050]. It enables the use of several input images for the calibration of the camera. Parameter Input images The input images for the camera calibration are transferred to the function with the help of the pointer p Src Images and the number of images n Src Array Size. The individual images must otherwise meet the same requirements as for the standard function. NOTICE Pointer handling Make sure that the specification of the pointer and the array size match the actual data. Otherwise an impermissible memory access may occur, resulting in a system crash. Reference points The container ip Reference Points must contain the reference points that are illustrated on the input image ip Src Image as the calibration pattern. The points must be specified as 3-dimensional points of the type REAL so that the container is of the type Container Type_Vector_Tc Vn Point3_REAL. The reference points can be generated as follows: • Manual creation of an XML file and reading with the function block FB_VN_Read Calibration Pattern [} 1593]. • Configuration in the calibration assistants [} 110], saving in the Tc COM object by clicking Write Results and reading with the method Get Calib Pattern Ref [} 1630] of the function block FB_VN_Gev Camera Control [} 1622]. The set center point is taken into account. • Inserting reference points individually into a container. 1054 Version: 2.4.0 TF7000 - TF7810
## Page 1055

API reference Matrices of the camera parameters These matrices return the calculated parameters of the camera model. They can then be used for the compensation of the objective distortions and for the conversion between pixel coordinates and world coordinates. • Camera matrix • Distortion coefficients • Rotation matrix • Translation vector Rounding errors On account of rounding errors, the calculated parameter values can deviate slightly from the values calculated in the calibration assistants. Reprojection errors Parameters for blob detection No chessboard pattern As the reference points are detected as a blob structure, the use of chessboard patterns is not possible. Options for calibration Default settings To get the default settings from the calibration wizard [} 110], the bits b Fix Aspect Ratio, b Fix Principal Point, b Fix K5, b Fix K6 and b Rational Model must be set to TRUE. b Fix Principal Point = „Fix Center Point“ The bit b Fix Principal Point corresponds to the option "Fix Center Point" in the camera calibration assistant. Application Samples • Calibration Assistant [} 2823] Required License TC3 Vision Metrology 2D TF7000 - TF7810 Version: 2.4.0 1055
## Page 1056

API reference System Requirements 6.1.4.13.1.3 F_VN_Calibrate Camera Exp2 F_VN_Calibrate Camera Exp2 p Src Images PVOID HRESULT F_VN_Calibrate Camera Exp2 n Src Array Size UINT ip Reference Points ITc Vn Container ↔ a Camera Matrix Tc Vn Matrix3x3_LREAL ↔ a Distortion Coefficients Tc Vn Array8_LREAL ↔ a Rotation Matrix Tc Vn Matrix3x3_LREAL ↔ a Translation Vector Tc Vn Vector3_LREAL ↔ f Reproj Error LREAL ↔ st Blob Detection Params Tc Vn Params Blob Detection ↔ st Calibration Options Tc Vn Camera Calibration Options b Subpixel Accuracy BOOL e Edge Direction ETc Vn Edge Direction f Min Strength REAL n Max Thickness UDINT n Subpixels Iterations UDINT n Search Lines UDINT f Approx Precision REAL e Algorithm ETc Vn Edge Detection Algorithm hr Prev HRESULT Compute the camera parameters (intrinsic + extrinsic) by evaluating images containing a calibration pattern (circles). The extrinsic parameters are computed for the first image in the array. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Calibrate Camera Exp2 : HRESULT VAR_INPUT p Src Images : PVOID; n Src Array Size : UINT; ip Reference Points : ITc Vn Container; END_VAR VAR_IN_OUT a Camera Matrix : Tc Vn Matrix3x3_LREAL; a Distortion Coefficients : Tc Vn Array8_LREAL; a Rotation Matrix : Tc Vn Matrix3x3_LREAL; a Translation Vector : Tc Vn Vector3_LREAL; f Reproj Error : LREAL; st Blob Detection Params : Tc Vn Params Blob Detection; st Calibration Options : Tc Vn Camera Calibration Options; END_VAR VAR_INPUT b Subpixel Accuracy : BOOL; e Edge Direction : ETc Vn Edge Direction; f Min Strength : REAL; n Max Thickness : UDINT; n Subpixels Iterations : UDINT; n Search Lines : UDINT; f Approx Precision : REAL; e Algorithm : ETc Vn Edge Detection Algorithm; hr Prev : HRESULT; END_VAR 1056 Version: 2.4.0 TF7000 - TF7810
## Page 1057

API reference Inputs Name Type Description p Src Images PVOID Pointer to an array of source images, each containing the same calibration pattern (1 channel, USINT elements) n Src Array Size UINT p Src Images array size ip Reference Poi ITc Vn Container [} 374] Reference calibration pattern point positions nts (Container Type_Vector_Tc Vn Point3_REAL) b Subpixel Accu BOOL If true, the pattern points are detected with subpixel accuracy racy e Edge Direction ETc Vn Edge Direction Specification of the edge direction to search for (from center to outside ellipse) [} 202] f Min Strength REAL Specification of the minimum strength (intensity difference) of the edge to search for n Max Thicknes UDINT Specification of the maximum thickness of the edge to search s for, which means f Min Strength must be reached within n Max Thickness pixels n Subpixels Itera UDINT Specifies the number of subpixels (for INTERPOLATION, 10 - tions 20 usually is sufficient) or maximum number of iterations for optimizing the parameters (for APPROX_ERF and APPROX_GAUSSIAN, 50 - 100 usually is sufficient) n Search Lines UDINT Specifies the amount of search lines, which are equally distributed in all directions (must be >= 8 and a multiple of 4) f Approx Precisi REAL Specifies the approximation precision for APPROX_ERF and on APPROX_GAUSSIAN (0.001 usually is sufficient, unused for INTERPOLATION) e Algorithm Selection of the edge detection algorithm ETc Vn Edge Detection Algor ithm [} 202] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Camera Matrix Tc Vn Matrix3x3_LREAL Returns the camera matrix [} 165] a Distortion Coef Tc Vn Array8_LREAL [} 165] Returns the lens distortion coefficients [k1, k2, p1, p2, k3, k4, k5, ficients k6] a Rotation Matri Tc Vn Matrix3x3_LREAL Returns the rotation matrix x [} 165] a Translation Ve Tc Vn Vector3_LREAL Returns the translation vector ctor [} 165] f Reproj Error LREAL Returns the reprojection error st Blob Detectio Tc Vn Params Blob Detection Parameters for the internally used F_VN_Detect Blobs function n Params [} 240] st Calibration Op Calibration options tions Tc Vn Camera Calibration Op tions [} 233] Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 1057
## Page 1058

API reference Required License TC3 Vision Metrology 2D System Requirements 6.1.4.13.1.4 F_VN_Calibrate Camera Exp3 F_VN_Calibrate Camera Exp3 p Src Images PVOID HRESULT F_VN_Calibrate Camera Exp3 n Src Array Size UINT ip Reference Points ITc Vn Container ↔ a Camera Matrix Tc Vn Matrix3x3_LREAL ↔ a Distortion Coefficients Tc Vn Array8_LREAL ↔ a Rotation Matrix Tc Vn Matrix3x3_LREAL ↔ a Translation Vector Tc Vn Vector3_LREAL ↔ f Reproj Error LREAL ↔ st Blob Detection Params Tc Vn Params Blob Detection ↔ st Calibration Options Tc Vn Camera Calibration Options b Subpixel Accuracy BOOL e Edge Direction ETc Vn Edge Direction f Min Strength REAL n Max Thickness UDINT n Subpixels Iterations UDINT n Search Lines UDINT f Approx Precision REAL e Algorithm ETc Vn Edge Detection Algorithm e World System ETc Vn World Coordinate System hr Prev HRESULT Compute the camera parameters (intrinsic + extrinsic) by evaluating images containing a calibration pattern (circles). The extrinsic parameters are computed for the first image in the array. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Calibrate Camera Exp3 : HRESULT VAR_INPUT p Src Images : PVOID; n Src Array Size : UINT; ip Reference Points : ITc Vn Container; END_VAR VAR_IN_OUT a Camera Matrix : Tc Vn Matrix3x3_LREAL; a Distortion Coefficients : Tc Vn Array8_LREAL; a Rotation Matrix : Tc Vn Matrix3x3_LREAL; a Translation Vector : Tc Vn Vector3_LREAL; f Reproj Error : LREAL; st Blob Detection Params : Tc Vn Params Blob Detection; st Calibration Options : Tc Vn Camera Calibration Options; END_VAR VAR_INPUT b Subpixel Accuracy : BOOL; e Edge Direction : ETc Vn Edge Direction; f Min Strength : REAL; n Max Thickness : UDINT; n Subpixels Iterations : UDINT; n Search Lines : UDINT; f Approx Precision : REAL; e Algorithm : ETc Vn Edge Detection Algorithm; e World System : ETc Vn World Coordinate System; hr Prev : HRESULT; END_VAR 1058 Version: 2.4.0 TF7000 - TF7810
## Page 1059

API reference Inputs Name Type Description p Src Images PVOID Pointer to an array of source images, each containing the same calibration pattern (1 channel, USINT elements) n Src Array Size UINT p Src Images array size ip Reference Poi ITc Vn Container [} 374] Reference calibration pattern point positions nts (Container Type_Vector_Tc Vn Point3_REAL) b Subpixel Accu BOOL If true, the pattern points are detected with subpixel accuracy racy e Edge Direction ETc Vn Edge Direction Specification of the edge direction to search for (from center to outside ellipse) [} 202] f Min Strength REAL Specification of the minimum strength (intensity difference) of the edge to search for n Max Thicknes UDINT Specification of the maximum thickness of the edge to search s for, which means f Min Strength must be reached within n Max Thickness pixels n Subpixels Itera UDINT Specifies the number of subpixels (for INTERPOLATION, 10 - tions 20 usually is sufficient) or maximum number of iterations for optimizing the parameters (for APPROX_ERF and APPROX_GAUSSIAN, 50 - 100 usually is sufficient) n Search Lines UDINT Specifies the amount of search lines, which are equally distributed in all directions (must be >= 8 and a multiple of 4) f Approx Precisi REAL Specifies the approximation precision for APPROX_ERF and on APPROX_GAUSSIAN (0.001 usually is sufficient, unused for INTERPOLATION) e Algorithm Selection of the edge detection algorithm ETc Vn Edge Detection Algor ithm [} 202] e World System World coordinate system orientation ETc Vn World Coordinate Sys tem [} 226] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Camera Matrix Tc Vn Matrix3x3_LREAL Returns the camera matrix [} 165] a Distortion Coef Tc Vn Array8_LREAL [} 165] Returns the lens distortion coefficients [k1, k2, p1, p2, k3, k4, k5, ficients k6] a Rotation Matri Tc Vn Matrix3x3_LREAL Returns the rotation matrix x [} 165] a Translation Ve Tc Vn Vector3_LREAL Returns the translation vector ctor [} 165] f Reproj Error LREAL Returns the reprojection error st Blob Detectio Tc Vn Params Blob Detection Parameters for the internally used F_VN_Detect Blobs function n Params [} 240] st Calibration Op Calibration options tions Tc Vn Camera Calibration Op tions [} 233] TF7000 - TF7810 Version: 2.4.0 1059
## Page 1060

API reference Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D System Requirements 6.1.4.13.1.5 F_VN_Calibrate Camera Manually F_VN_Calibrate Camera Manually ip Image Points ITc Vn Container HRESULT F_VN_Calibrate Camera Manually n Image Width UDINT n Image Height UDINT ip Reference Points ITc Vn Container ↔ a Camera Matrix Tc Vn Matrix3x3_LREAL ↔ a Distortion Coefficients Tc Vn Array8_LREAL ↔ a Rotation Matrix Tc Vn Matrix3x3_LREAL ↔ a Translation Vector Tc Vn Vector3_LREAL ↔ f Reproj Error LREAL ↔ st Calibration Options Tc Vn Camera Calibration Options hr Prev HRESULT Compute the camera parameters (intrinsic + extrinsic). The extrinsic parameters are computed for the first inner container. Syntax Definition: FUNCTION F_VN_Calibrate Camera Manually : HRESULT VAR_INPUT ip Image Points : ITc Vn Container; n Image Width : UDINT; n Image Height : UDINT; ip Reference Points : ITc Vn Container; END_VAR VAR_IN_OUT a Camera Matrix : Tc Vn Matrix3x3_LREAL; a Distortion Coefficients : Tc Vn Array8_LREAL; a Rotation Matrix : Tc Vn Matrix3x3_LREAL; a Translation Vector : Tc Vn Vector3_LREAL; f Reproj Error : LREAL; st Calibration Options : Tc Vn Camera Calibration Options; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR 1060 Version: 2.4.0 TF7000 - TF7810
## Page 1061

API reference Inputs Name Type Description ip Image Points ITc Vn Container [} 374] Provided image points of multiple images (Container Type_Vector_Vector_Tc Vn Point2_REAL, each inner container with at least 6 points). The container and point order must match ip Reference Points. n Image Width UDINT Image width n Image Height UDINT Image height ip Reference Poi ITc Vn Container [} 374] Reference world points nts (Container Type_Vector_Vector_Tc Vn Point3_REAL). The number of inner containers and their amount of points must match ip Image Points. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Camera Matrix Tc Vn Matrix3x3_LREAL Returns the camera matrix [} 165] a Distortion Coef Tc Vn Array8_LREAL [} 165] Returns the lens distortion coefficients [k1, k2, p1, p2, k3, k4, k5, ficients k6] a Rotation Matri Tc Vn Matrix3x3_LREAL Returns the rotation matrix (for the first inner container) x [} 165] a Translation Ve Tc Vn Vector3_LREAL Returns the translation vector (for the first inner container) ctor [} 165] f Reproj Error LREAL Returns the reprojection error st Calibration Op Calibration options tions Tc Vn Camera Calibration Op tions [} 233] Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D System Requirements 6.1.4.13.1.6 F_VN_Calibrate Camera Manually Exp F_VN_Calibrate Camera Manually Exp ip Image Points ITc Vn Container HRESULT F_VN_Calibrate Camera Manually Exp n Image Width UDINT n Image Height UDINT ip Reference Points ITc Vn Container ↔ a Camera Matrix Tc Vn Matrix3x3_LREAL ↔ a Distortion Coefficients Tc Vn Array8_LREAL ↔ a Rotation Matrix Tc Vn Matrix3x3_LREAL ↔ a Translation Vector Tc Vn Vector3_LREAL ↔ f Reproj Error LREAL ↔ st Calibration Options Tc Vn Camera Calibration Options e World System ETc Vn World Coordinate System hr Prev HRESULT TF7000 - TF7810 Version: 2.4.0 1061
## Page 1062

API reference Compute the camera parameters (intrinsic + extrinsic). The extrinsic parameters are computed for the first inner container. (expert function) Syntax Definition: FUNCTION F_VN_Calibrate Camera Manually Exp : HRESULT VAR_INPUT ip Image Points : ITc Vn Container; n Image Width : UDINT; n Image Height : UDINT; ip Reference Points : ITc Vn Container; END_VAR VAR_IN_OUT a Camera Matrix : Tc Vn Matrix3x3_LREAL; a Distortion Coefficients : Tc Vn Array8_LREAL; a Rotation Matrix : Tc Vn Matrix3x3_LREAL; a Translation Vector : Tc Vn Vector3_LREAL; f Reproj Error : LREAL; st Calibration Options : Tc Vn Camera Calibration Options; END_VAR VAR_INPUT e World System : ETc Vn World Coordinate System; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Image Points ITc Vn Container [} 374] Provided image points of multiple images (Container Type_Vector_Vector_Tc Vn Point2_REAL, each inner container with at least 6 points). The container and point order must match ip Reference Points. n Image Width UDINT Image width n Image Height UDINT Image height ip Reference Poi ITc Vn Container [} 374] Reference world points nts (Container Type_Vector_Vector_Tc Vn Point3_REAL). The number of inner containers and their amount of points must match ip Image Points. e World System World coordinate system orientation ETc Vn World Coordinate Sys tem [} 226] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Camera Matrix Tc Vn Matrix3x3_LREAL Returns the camera matrix [} 165] a Distortion Coef Tc Vn Array8_LREAL [} 165] Returns the lens distortion coefficients [k1, k2, p1, p2, k3, k4, k5, ficients k6] a Rotation Matri Tc Vn Matrix3x3_LREAL Returns the rotation matrix (for the first inner container) x [} 165] a Translation Ve Tc Vn Vector3_LREAL Returns the translation vector (for the first inner container) ctor [} 165] f Reproj Error LREAL Returns the reprojection error st Calibration Op Calibration options tions Tc Vn Camera Calibration Op tions [} 233] 1062 Version: 2.4.0 TF7000 - TF7810
## Page 1063

API reference Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D System Requirements 6.1.4.13.1.7 F_VN_Calibrate Camera Planar F_VN_Calibrate Camera Planar ip Src Image ITc Vn Image HRESULT F_VN_Calibrate Camera Planar ↔ a Marker Positions Tc Vn Array4_Point2_REAL ↔ a Transformation Matrix Tc Vn Matrix3x3_LREAL hr Prev HRESULT Calibrate camera using a planar calibration pattern comprised of four circles marking the corners of a rectangle. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Calibrate Camera Planar : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR VAR_IN_OUT a Marker Positions : Tc Vn Array4_Point2_REAL; a Transformation Matrix : Tc Vn Matrix3x3_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Binary source image (background zero, markers non-zero) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Marker Positio Tc Vn Array4_Point2_REAL Marker positions within their plane using world units (right- ns handed coordinate system) [} 165] a Transformatio Tc Vn Matrix3x3_LREAL Returns a 3-by-3 matrix for the transformation from image n Matrix coordinates into the reference coordinate system [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1063
## Page 1064

API reference System Requirements 6.1.4.13.1.8 F_VN_Calibrate Camera Planar Exp F_VN_Calibrate Camera Planar Exp ip Src Image ITc Vn Image HRESULT F_VN_Calibrate Camera Planar Exp ↔ a Marker Positions Tc Vn Array4_Point2_REAL ↔ a Transformation Matrix Tc Vn Matrix3x3_LREAL ↔ a Marker Image Positions Tc Vn Array4_Point2_REAL n Min Marker Area UDINT n Max Marker Area UDINT f Max Marker Eccentricity LREAL hr Prev HRESULT Calibrate camera using a planar calibration pattern comprised of four circles marking the corners of a rectangle. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Calibrate Camera Planar Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR VAR_IN_OUT a Marker Positions : Tc Vn Array4_Point2_REAL; a Transformation Matrix : Tc Vn Matrix3x3_LREAL; a Marker Image Positions : Tc Vn Array4_Point2_REAL; END_VAR VAR_INPUT n Min Marker Area : UDINT; n Max Marker Area : UDINT; f Max Marker Eccentricity : LREAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Binary source image (background zero, markers non-zero) n Min Marker Are UDINT Minimum area for the detection of markers (Smaller markers are a ignored.) n Max Marker Ar UDINT Maximum area for the detection of markers (Larger markers are ea ignored.) f Max Marker Ec LREAL Maximum eccenticity for the detection of markers (The centricity eccentricity measures deviations from a round shape (eccentricity = 0: round object; eccentricity = 1.0: linear object).) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Marker Positio Tc Vn Array4_Point2_REAL Marker positions within their plane using world units (right- ns handed coordinate system) [} 165] a Transformatio Tc Vn Matrix3x3_LREAL Returns a 3-by-3 matrix for the transformation from image n Matrix coordinates into the reference coordinate system [} 165] a Marker Image Tc Vn Array4_Point2_REAL Returns the marker positions in image coordinates (left-handed Positions coordinate system) [} 165] 1064 Version: 2.4.0 TF7000 - TF7810
## Page 1065

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.1.9 F_VN_Calibrate Linescan Camera F_VN_Calibrate Linescan Camera p Src Images PVOID HRESULT F_VN_Calibrate Linescan Camera n Src Array Size UINT ip Pattern Line Origins ITc Vn Container f Slope Rad LREAL ↔ a Camera Matrix Tc Vn Matrix3x3_LREAL ↔ a Distortion Coefficients Tc Vn Array8_LREAL ↔ a Rotation Matrix Tc Vn Matrix3x3_LREAL ↔ a Translation Vector Tc Vn Vector3_LREAL ↔ f Reproj Error LREAL ↔ st Calibration Options Tc Vn Camera Calibration Options e Edge Direction ETc Vn Edge Direction hr Prev HRESULT Compute the camera parameters (intrinsic + extrinsic) by evaluating images containing a line calibration pattern. The pattern must consist of alternating vertical and diagonal lines, with each diagonal having the same constant slope: |\|\|...\|. The results are only valid for the x-direction of a line scan image. To get accurate x-values for a transformation into world coordinates, the y-coordinate must be set to half the sensor width and so equal to the cy-value of the camera matrix. For other y-values, the results are approximated and can be inaccurate. The extrinsic parameters are computed for the first image in the array. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Calibrate Linescan Camera : HRESULT VAR_INPUT p Src Images : PVOID; n Src Array Size : UINT; ip Pattern Line Origins : ITc Vn Container; f Slope Rad : LREAL; END_VAR VAR_IN_OUT a Camera Matrix : Tc Vn Matrix3x3_LREAL; a Distortion Coefficients : Tc Vn Array8_LREAL; a Rotation Matrix : Tc Vn Matrix3x3_LREAL; a Translation Vector : Tc Vn Vector3_LREAL; f Reproj Error : LREAL; st Calibration Options : Tc Vn Camera Calibration Options; END_VAR VAR_INPUT e Edge Direction : ETc Vn Edge Direction; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1065
## Page 1066

API reference Inputs Name Type Description p Src Images PVOID Pointer to an array of 1 or more source images (1 channel). If the images have more than 1 row, each row must contain an image of the same pattern position. n Src Array Size UINT p Src Images array size ip Pattern Line O ITc Vn Container [} 374] X position of the pattern line origins rigins (Container Type_Vector_REAL, usually same origin for vertical and following diagonal line) f Slope Rad LREAL Slope of the diagonal line in rad (> 0, < PI/2), relative to the vertical line (i.e., 0 would be a vertical line, PI/2 a horizontal line) e Edge Direction ETc Vn Edge Direction Specification of the edge direction to search for [} 202] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Camera Matrix Tc Vn Matrix3x3_LREAL Returns the camera matrix [} 165] a Distortion Coef Tc Vn Array8_LREAL [} 165] Returns the lens distortion coefficients [k1, k2, p1, p2, k3, k4, k5, ficients k6] a Rotation Matri Tc Vn Matrix3x3_LREAL Returns the rotation matrix x [} 165] a Translation Ve Tc Vn Vector3_LREAL Returns the translation vector ctor [} 165] f Reproj Error LREAL Returns the reprojection error st Calibration Op Calibration options (recommended to set b Fix Aspect Ratio, tions Tc Vn Camera Calibration Op b Fix Principal Point, b Zero Tangent Dist) tions [} 233] Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D 1066 Version: 2.4.0 TF7000 - TF7810
## Page 1067

API reference System Requirements 6.1.4.13.1.10 F_VN_Calibrate Linescan Camera Exp F_VN_Calibrate Linescan Camera Exp p Src Images PVOID HRESULT F_VN_Calibrate Linescan Camera Exp n Src Array Size UINT ip Pattern Line Origins ITc Vn Container f Slope Rad LREAL ↔ a Camera Matrix Tc Vn Matrix3x3_LREAL ↔ a Distortion Coefficients Tc Vn Array8_LREAL ↔ a Rotation Matrix Tc Vn Matrix3x3_LREAL ↔ a Translation Vector Tc Vn Vector3_LREAL ↔ f Reproj Error LREAL ↔ st Calibration Options Tc Vn Camera Calibration Options e Edge Direction ETc Vn Edge Direction f Min Strength REAL n Max Search Lines UDINT n Max Thickness UDINT n Subpixels Iterations UDINT f Approx Precision REAL e Algorithm ETc Vn Edge Detection Algorithm hr Prev HRESULT Compute the camera parameters (intrinsic + extrinsic) by evaluating images containing a line calibration pattern. The pattern must consist of alternating vertical and diagonal lines, with each diagonal having the same constant slope: |\|\|...\|. The results are only valid for the x-direction of a line scan image. To get accurate x-values for a transformation into world coordinates, the y-coordinate must be set to half the sensor width and so equal to the cy-value of the camera matrix. For other y-values, the results are approximated and can be inaccurate. The extrinsic parameters are computed for the first image in the array. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Calibrate Linescan Camera Exp : HRESULT VAR_INPUT p Src Images : PVOID; n Src Array Size : UINT; ip Pattern Line Origins : ITc Vn Container; f Slope Rad : LREAL; END_VAR VAR_IN_OUT a Camera Matrix : Tc Vn Matrix3x3_LREAL; a Distortion Coefficients : Tc Vn Array8_LREAL; a Rotation Matrix : Tc Vn Matrix3x3_LREAL; a Translation Vector : Tc Vn Vector3_LREAL; f Reproj Error : LREAL; st Calibration Options : Tc Vn Camera Calibration Options; END_VAR VAR_INPUT e Edge Direction : ETc Vn Edge Direction; f Min Strength : REAL; n Max Search Lines : UDINT; n Max Thickness : UDINT; n Subpixels Iterations : UDINT; f Approx Precision : REAL; e Algorithm : ETc Vn Edge Detection Algorithm; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1067
## Page 1068

API reference Inputs Name Type Description p Src Images PVOID Pointer to an array of 1 or more source images (1 channel). If the images have more than 1 row, each row must contain an image of the same pattern position. n Src Array Size UINT p Src Images array size ip Pattern Line O ITc Vn Container [} 374] X position of the pattern line origins rigins (Container Type_Vector_REAL, usually same origin for vertical and following diagonal line) f Slope Rad LREAL Slope of the diagonal line in rad (> 0, < PI/2), relative to the vertical line (i.e., 0 would be a vertical line, PI/2 a horizontal line) e Edge Direction ETc Vn Edge Direction Specification of the edge direction to search for [} 202] f Min Strength REAL Specification of the minimum strength (intensity difference) of the edge to search for n Max Search Li UDINT Maximum number of search lines (equally distributed over the nes image height, at most 1 searchline per image row) n Max Thicknes UDINT Specification of the maximum thickness of the edge to search s for, which means f Min Strength must be reached within n Max Thickness pixels n Subpixels Itera UDINT Specifies the number of subpixels (for INTERPOLATION, 10 - tions 20 usually is sufficient) or maximum number of iterations for optimizing the parameters (for APPROX_ERF and APPROX_GAUSSIAN, 50 - 100 usually is sufficient) f Approx Precisi REAL Specifies the approximation precision for APPROX_ERF and on APPROX_GAUSSIAN (0.001 usually is sufficient, unused for INTERPOLATION) e Algorithm Selection of the edge detection algorithm ETc Vn Edge Detection Algor ithm [} 202] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Camera Matrix Tc Vn Matrix3x3_LREAL Returns the camera matrix [} 165] a Distortion Coef Tc Vn Array8_LREAL [} 165] Returns the lens distortion coefficients [k1, k2, p1, p2, k3, k4, k5, ficients k6] a Rotation Matri Tc Vn Matrix3x3_LREAL Returns the rotation matrix x [} 165] a Translation Ve Tc Vn Vector3_LREAL Returns the translation vector ctor [} 165] f Reproj Error LREAL Returns the reprojection error st Calibration Op Calibration options (recommended to set b Fix Aspect Ratio, tions Tc Vn Camera Calibration Op b Fix Principal Point, b Zero Tangent Dist) tions [} 233] Return value HRESULT [} 144] 1068 Version: 2.4.0 TF7000 - TF7810
## Page 1069

API reference Required License TC3 Vision Metrology 2D System Requirements 6.1.4.13.1.11 F_VN_Compensate Lens Distortion F_VN_Compensate Lens Distortion ip Src Image ITc Vn Image HRESULT F_VN_Compensate Lens Distortion ip Dest Image Reference To ITc Vn Image ↔ a Camera Matrix Tc Vn Matrix3x3_LREAL ↔ a Distortion Coefficients Tc Vn Array4_LREAL hr Prev HRESULT Transforms an image to compensate the lens distortion. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Compensate Lens Distortion : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; END_VAR VAR_IN_OUT a Camera Matrix : Tc Vn Matrix3x3_LREAL; a Distortion Coefficients : Tc Vn Array4_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (Must be different from ip Src Image! An ITc Vn Image [} 413] appropriate destination image will be created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Camera Matrix Tc Vn Matrix3x3_LREAL Camera matrix containing the intrinsic parameters [} 165] a Distortion Coef Tc Vn Array4_LREAL [} 165] Lens distortion coefficients [k1, k2, p1, p2] ficients Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D TF7000 - TF7810 Version: 2.4.0 1069
## Page 1070

API reference System Requirements 6.1.4.13.1.12 F_VN_Compensate Lens Distortion Exp1 F_VN_Compensate Lens Distortion Exp1 ip Src Image ITc Vn Image HRESULT F_VN_Compensate Lens Distortion Exp1 ip Dest Image Reference To ITc Vn Image ↔ a Camera Matrix Tc Vn Matrix3x3_LREAL ↔ a Distortion Coefficients Tc Vn Array8_LREAL hr Prev HRESULT Transforms an image to compensate the lens distortion. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Compensate Lens Distortion Exp1 : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; END_VAR VAR_IN_OUT a Camera Matrix : Tc Vn Matrix3x3_LREAL; a Distortion Coefficients : Tc Vn Array8_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (Must be different from ip Src Image! An ITc Vn Image [} 413] appropriate destination image will be created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Camera Matrix Tc Vn Matrix3x3_LREAL Camera matrix containing the intrinsic parameters [} 165] a Distortion Coef Tc Vn Array8_LREAL [} 165] Lens distortion coefficients [k1, k2, p1, p2, k3, k4, k5, k6] ficients Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D 1070 Version: 2.4.0 TF7000 - TF7810
## Page 1071

API reference System Requirements 6.1.4.13.1.13 F_VN_Compensate Lens Distortion Exp2 F_VN_Compensate Lens Distortion Exp2 ip Src Image ITc Vn Image HRESULT F_VN_Compensate Lens Distortion Exp2 ip Dest Image Reference To ITc Vn Image ↔ a Camera Matrix Tc Vn Matrix3x3_LREAL ↔ a Distortion Coefficients Tc Vn Array8_LREAL ↔ a New Camera Matrix Tc Vn Matrix3x3_LREAL hr Prev HRESULT Transforms an image to compensate the lens distortion. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Compensate Lens Distortion Exp2 : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; END_VAR VAR_IN_OUT a Camera Matrix : Tc Vn Matrix3x3_LREAL; a Distortion Coefficients : Tc Vn Array8_LREAL; a New Camera Matrix : Tc Vn Matrix3x3_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (Must be different from ip Src Image! An ITc Vn Image [} 413] appropriate destination image will be created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Camera Matrix Tc Vn Matrix3x3_LREAL Camera matrix containing the intrinsic parameters [} 165] a Distortion Coef Tc Vn Array8_LREAL [} 165] Lens distortion coefficients [k1, k2, p1, p2, k3, k4, k5, k6] ficients a New Camera Tc Vn Matrix3x3_LREAL Allows additional scaling and shifting of the result image Matrix [} 165] Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D TF7000 - TF7810 Version: 2.4.0 1071
## Page 1072

API reference System Requirements 6.1.4.13.1.14 F_VN_Compensate Lens Distortion For Points F_VN_Compensate Lens Distortion For Points ip Src Points ITc Vn Container HRESULT F_VN_Compensate Lens Distortion For Points ip Dest Points Reference To ITc Vn Container ↔ a Camera Matrix Tc Vn Matrix3x3_LREAL ↔ a Distortion Coefficients Tc Vn Array4_LREAL hr Prev HRESULT Transforms point coordinates to compensate the lens distortion. Syntax Definition: FUNCTION F_VN_Compensate Lens Distortion For Points : HRESULT VAR_INPUT ip Src Points : ITc Vn Container; ip Dest Points : Reference To ITc Vn Container; END_VAR VAR_IN_OUT a Camera Matrix : Tc Vn Matrix3x3_LREAL; a Distortion Coefficients : Tc Vn Array4_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Points ITc Vn Container [} 374] Container with source point coordinates (Container Type_Vector_Tc Vn Point2_REAL or Container Type_Vector_Tc Vn Point2_DINT) ip Dest Points Reference To Returns a container with the transformed point coordinates ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Point2_REAL) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Camera Matrix Tc Vn Matrix3x3_LREAL Camera matrix containing the intrinsic parameters [} 165] a Distortion Coef Tc Vn Array4_LREAL [} 165] Lens distortion coefficients [k1, k2, p1, p2] ficients Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D 1072 Version: 2.4.0 TF7000 - TF7810
## Page 1073

API reference System Requirements 6.1.4.13.1.15 F_VN_Compensate Lens Distortion For Points Exp1 F_VN_Compensate Lens Distortion For Points Exp1 ip Src Points ITc Vn Container HRESULT F_VN_Compensate Lens Distortion For Points Exp1 ip Dest Points Reference To ITc Vn Container ↔a Camera Matrix Tc Vn Matrix3x3_LREAL ↔a Distortion Coefficients Tc Vn Array8_LREAL hr Prev HRESULT Transforms point coordinates to compensate the lens distortion. (expert function) Syntax Definition: FUNCTION F_VN_Compensate Lens Distortion For Points Exp1 : HRESULT VAR_INPUT ip Src Points : ITc Vn Container; ip Dest Points : Reference To ITc Vn Container; END_VAR VAR_IN_OUT a Camera Matrix : Tc Vn Matrix3x3_LREAL; a Distortion Coefficients : Tc Vn Array8_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Points ITc Vn Container [} 374] Container with source point coordinates (Container Type_Vector_Tc Vn Point2_REAL or Container Type_Vector_Tc Vn Point2_DINT) ip Dest Points Reference To Returns a container with the transformed point coordinates ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Point2_REAL) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Camera Matrix Tc Vn Matrix3x3_LREAL Camera matrix containing the intrinsic parameters [} 165] a Distortion Coef Tc Vn Array8_LREAL [} 165] Lens distortion coefficients [k1, k2, p1, p2, k3, k4, k5, k6] ficients Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D TF7000 - TF7810 Version: 2.4.0 1073
## Page 1074

API reference System Requirements 6.1.4.13.1.16 F_VN_Compensate Lens Distortion For Points Exp2 F_VN_Compensate Lens Distortion For Points Exp2 ip Src Points ITc Vn Container HRESULT F_VN_Compensate Lens Distortion For Points Exp2 ip Dest Points Reference To ITc Vn Container ↔a Camera Matrix Tc Vn Matrix3x3_LREAL ↔a Distortion Coefficients Tc Vn Array8_LREAL ↔a New Camera Matrix Tc Vn Matrix3x3_LREAL hr Prev HRESULT Transforms point coordinates to compensate the lens distortion. (expert function) Syntax Definition: FUNCTION F_VN_Compensate Lens Distortion For Points Exp2 : HRESULT VAR_INPUT ip Src Points : ITc Vn Container; ip Dest Points : Reference To ITc Vn Container; END_VAR VAR_IN_OUT a Camera Matrix : Tc Vn Matrix3x3_LREAL; a Distortion Coefficients : Tc Vn Array8_LREAL; a New Camera Matrix : Tc Vn Matrix3x3_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Points ITc Vn Container [} 374] Container with source point coordinates (Container Type_Vector_Tc Vn Point2_REAL or Container Type_Vector_Tc Vn Point2_DINT) ip Dest Points Reference To Returns a container with the transformed point coordinates ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Point2_REAL) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Camera Matrix Tc Vn Matrix3x3_LREAL Camera matrix containing the intrinsic parameters [} 165] a Distortion Coef Tc Vn Array8_LREAL [} 165] Lens distortion coefficients [k1, k2, p1, p2, k3, k4, k5, k6] ficients a New Camera Tc Vn Matrix3x3_LREAL Allows additional shifting of the result point coordinates Matrix [} 165] Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D 1074 Version: 2.4.0 TF7000 - TF7810
## Page 1075

API reference System Requirements 6.1.4.13.1.17 F_VN_Detect Pattern Points F_VN_Detect Pattern Points ip Src Image ITc Vn Image HRESULT F_VN_Detect Pattern Points ip Pattern Points Reference To ITc Vn Container ↔ st Blob Detection Params Tc Vn Params Blob Detection n Number Of Points UDINT hr Prev HRESULT Detects calibration pattern points (circles) within the provided image. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Detect Pattern Points : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Pattern Points : Reference To ITc Vn Container; END_VAR VAR_IN_OUT st Blob Detection Params : Tc Vn Params Blob Detection; END_VAR VAR_INPUT n Number Of Points : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT, 1 channel) ip Pattern Points Reference To Returns the pattern point positions ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Point2_REAL; Non-zero interface pointers are reused.) n Number Of Poi UDINT Expected number of pattern points nts hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Blob Detectio Tc Vn Params Blob Detection Parameters to detect and filter contours. n Params [} 240] Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D TF7000 - TF7810 Version: 2.4.0 1075
## Page 1076

API reference System Requirements 6.1.4.13.1.18 F_VN_Detect Pattern Points Exp F_VN_Detect Pattern Points Exp ip Src Image ITc Vn Image HRESULT F_VN_Detect Pattern Points Exp ip Pattern Points Reference To ITc Vn Container ↔ st Blob Detection Params Tc Vn Params Blob Detection n Number Of Points UDINT f Size Diff Thres Factor REAL b Subpixel Accuracy BOOL e Edge Direction ETc Vn Edge Direction f Min Strength REAL n Max Thickness UDINT n Subpixels Iterations UDINT n Search Lines UDINT f Approx Precision REAL e Algorithm ETc Vn Edge Detection Algorithm hr Prev HRESULT Detects calibration pattern points (circles) within the provided image. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Detect Pattern Points Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Pattern Points : Reference To ITc Vn Container; END_VAR VAR_IN_OUT st Blob Detection Params : Tc Vn Params Blob Detection; END_VAR VAR_INPUT n Number Of Points : UDINT; f Size Diff Thres Factor : REAL; b Subpixel Accuracy : BOOL; e Edge Direction : ETc Vn Edge Direction; f Min Strength : REAL; n Max Thickness : UDINT; n Subpixels Iterations : UDINT; n Search Lines : UDINT; f Approx Precision : REAL; e Algorithm : ETc Vn Edge Detection Algorithm; hr Prev : HRESULT; END_VAR 1076 Version: 2.4.0 TF7000 - TF7810
## Page 1077

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT, 1 channel) ip Pattern Points Reference To Returns the pattern point positions ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Point2_REAL; Non-zero interface pointers are reused.) n Number Of Poi UDINT Expected number of pattern points nts f Size Diff Thres F REAL Threshold for filtering contours whose area differs from the actor average contour area by more than (average * f Size Diff Thres Factor) b Subpixel Accu BOOL If true, the pattern points are detected with subpixel accuracy racy e Edge Direction ETc Vn Edge Direction Specification of the edge direction to search for (from center to outside circle) [} 202] f Min Strength REAL Specification of the minimum strength (intensity difference) of the edge to search for n Max Thicknes UDINT Specification of the maximum thickness of the edge to search s for, which means f Min Strength must be reached within n Max Thickness pixels n Subpixels Itera UDINT Specifies the number of subpixels (for INTERPOLATION, 10 - tions 20 usually is sufficient) or maximum number of iterations for optimizing the parameters (for APPROX_ERF and APPROX_GAUSSIAN, 50 - 100 usually is sufficient) n Search Lines UDINT Specifies the amount of search lines, which are equally distributed in all directions (must be >= 8 and a multiple of 4) f Approx Precisi REAL Specifies the approximation precision for APPROX_ERF and on APPROX_GAUSSIAN (0.001 usually is sufficient, unused for INTERPOLATION) e Algorithm Selection of the edge detection algorithm ETc Vn Edge Detection Algor ithm [} 202] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Blob Detectio Tc Vn Params Blob Detection Parameters to detect and filter contours. n Params [} 240] Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D TF7000 - TF7810 Version: 2.4.0 1077
## Page 1078

API reference System Requirements 6.1.4.13.1.19 F_VN_Generate Calibration Pattern Reference Points F_VN_Generate Calibration Pattern Reference Points ip Reference Points Reference To ITc Vn Container HRESULT F_VN_Generate Calibration Pattern Reference Points e Pattern ETc Vn Calibration Pattern e Origin ETc Vn Calibration Pattern Origin n Width UDINT n Height UDINT f Dist X REAL f Dist Y REAL hr Prev HRESULT Generate reference points for common calibration patterns. Syntax Definition: FUNCTION F_VN_Generate Calibration Pattern Reference Points : HRESULT VAR_INPUT ip Reference Points : Reference To ITc Vn Container; e Pattern : ETc Vn Calibration Pattern; e Origin : ETc Vn Calibration Pattern Origin; n Width : UDINT; n Height : UDINT; f Dist X : REAL; f Dist Y : REAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Reference Poi Reference To Returns the generated reference points nts ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Point3_REAL) e Pattern ETc Vn Calibration Pattern Calibration pattern type [} 170] e Origin Calibration pattern origin ETc Vn Calibration Pattern O rigin [} 171] n Width UDINT Pattern width, i.e. number of pattern points in x direction n Height UDINT Pattern height, i.e. number of pattern points in y direction f Dist X REAL Distance between pattern points in x direction f Dist Y REAL Distance between pattern points in y direction hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D 1078 Version: 2.4.0 TF7000 - TF7810
## Page 1079

API reference System Requirements 6.1.4.13.1.20 F_VN_Image Points World Distance F_VN_Image Points World Distance ↔ a Image Point1 Tc Vn Point2_REAL HRESULT F_VN_Image Points World Distance ↔ a Image Point2 Tc Vn Point2_REAL ↔ f World Distance LREAL ↔ a Camera Matrix Tc Vn Matrix3x3_LREAL ↔ a Distortion Coefficients Tc Vn Array8_LREAL ↔ a Rotation Matrix Tc Vn Matrix3x3_LREAL ↔ a Translation Vector Tc Vn Vector3_LREAL f Z LREAL hr Prev HRESULT Computes the distance in the world coordinate system between two points (in the same world coordinate z layer) given in image coordinates. Syntax Definition: FUNCTION F_VN_Image Points World Distance : HRESULT VAR_IN_OUT a Image Point1 : Tc Vn Point2_REAL; a Image Point2 : Tc Vn Point2_REAL; f World Distance : LREAL; a Camera Matrix : Tc Vn Matrix3x3_LREAL; a Distortion Coefficients : Tc Vn Array8_LREAL; a Rotation Matrix : Tc Vn Matrix3x3_LREAL; a Translation Vector : Tc Vn Vector3_LREAL; END_VAR VAR_INPUT f Z : LREAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description f Z LREAL z coordinate (world coordinate system) of the given points (0 would be at (toplevel) calibration pattern) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Image Point1 Tc Vn Point2_REAL [} 163] First point in the image coordinate system a Image Point2 Tc Vn Point2_REAL [} 163] Second point in the image coordinate system f World Distance LREAL Returns the distance between a Image Point1 and a Image Point2 in the world coordinate system a Camera Matrix Tc Vn Matrix3x3_LREAL 3x3 camera matrix containing the intrinsic parameters [} 165] a Distortion Coef Tc Vn Array8_LREAL [} 165] Lens distortion coefficients [k1, k2, p1, p2, k3, k4, k5, k6] ficients a Rotation Matri Tc Vn Matrix3x3_LREAL 3x3 rotation matrix x [} 165] a Translation Ve Tc Vn Vector3_LREAL Translation vector ctor [} 165] TF7000 - TF7810 Version: 2.4.0 1079
## Page 1080

API reference Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D System Requirements 6.1.4.13.1.21 F_VN_Solve Pn P F_VN_Solve Pn P ip Image Points ITc Vn Container HRESULT F_VN_Solve Pn P ip Reference Points ITc Vn Container ↔ a Camera Matrix Tc Vn Matrix3x3_LREAL ↔ a Distortion Coefficients Tc Vn Array8_LREAL ↔ a Rotation Matrix Tc Vn Matrix3x3_LREAL ↔ a Translation Vector Tc Vn Vector3_LREAL ↔ f Reproj Error LREAL hr Prev HRESULT Computes the rotation matrix and translation vector from 3D-2D point correspondences. Syntax Definition: FUNCTION F_VN_Solve Pn P : HRESULT VAR_INPUT ip Image Points : ITc Vn Container; ip Reference Points : ITc Vn Container; END_VAR VAR_IN_OUT a Camera Matrix : Tc Vn Matrix3x3_LREAL; a Distortion Coefficients : Tc Vn Array8_LREAL; a Rotation Matrix : Tc Vn Matrix3x3_LREAL; a Translation Vector : Tc Vn Vector3_LREAL; f Reproj Error : LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Image Points ITc Vn Container [} 374] Image points (Container Type_Vector_Tc Vn Point2_REAL, requires at least 4 points in the same order as in ip Reference Points) ip Reference Poi ITc Vn Container [} 374] Reference world points nts (Container Type_Vector_Tc Vn Point3_REAL, same number of points as in ip Image Points) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 1080 Version: 2.4.0 TF7000 - TF7810
## Page 1081

API reference In/Outputs Name Type Description a Camera Matrix Tc Vn Matrix3x3_LREAL Camera matrix (e.g. computed with one of the Calibrate Camera functions) [} 165] a Distortion Coef Tc Vn Array8_LREAL [} 165] Lens distortion coefficients [k1, k2, p1, p2, k3, k4, k5, k6] (e.g. ficients computed with one of the Calibrate Camera functions) a Rotation Matri Tc Vn Matrix3x3_LREAL Returns the rotation matrix x [} 165] a Translation Ve Tc Vn Vector3_LREAL Returns the translation vector ctor [} 165] f Reproj Error LREAL Returns the reprojection error Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D System Requirements 6.1.4.13.1.22 F_VN_Solve Pn PExp F_VN_Solve Pn PExp ip Image Points ITc Vn Container HRESULT F_VN_Solve Pn PExp ip Reference Points ITc Vn Container ↔ a Camera Matrix Tc Vn Matrix3x3_LREAL ↔ a Distortion Coefficients Tc Vn Array8_LREAL ↔ a Rotation Matrix Tc Vn Matrix3x3_LREAL ↔ a Translation Vector Tc Vn Vector3_LREAL ↔ f Reproj Error LREAL e Method ETc Vn Solve Pn PMethod b Use Extrinsic Guess BOOL hr Prev HRESULT Computes the rotation matrix and translation vector from 3D-2D point correspondences. (expert function) Syntax Definition: FUNCTION F_VN_Solve Pn PExp : HRESULT VAR_INPUT ip Image Points : ITc Vn Container; ip Reference Points : ITc Vn Container; END_VAR VAR_IN_OUT a Camera Matrix : Tc Vn Matrix3x3_LREAL; a Distortion Coefficients : Tc Vn Array8_LREAL; a Rotation Matrix : Tc Vn Matrix3x3_LREAL; a Translation Vector : Tc Vn Vector3_LREAL; f Reproj Error : LREAL; END_VAR VAR_INPUT e Method : ETc Vn Solve Pn PMethod; b Use Extrinsic Guess : BOOL; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1081
## Page 1082

API reference Inputs Name Type Description ip Image Points ITc Vn Container [} 374] Image points (Container Type_Vector_Tc Vn Point2_REAL, requires at least 4 points in the same order as in ip Reference Points) ip Reference Poi ITc Vn Container [} 374] Reference world points nts (Container Type_Vector_Tc Vn Point3_REAL, same number of points as in ip Image Points) e Method ETc Vn Solve Pn PMethod Solve Pn P method [} 220] b Use Extrinsic G BOOL If true, the provided rotation matrix and translation vector are uess used as an initial guess for further optimization (only supported for the SPM_ITERATIVE method). hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Camera Matrix Tc Vn Matrix3x3_LREAL Camera matrix (e.g. computed with one of the Calibrate Camera functions) [} 165] a Distortion Coef Tc Vn Array8_LREAL [} 165] Lens distortion coefficients [k1, k2, p1, p2, k3, k4, k5, k6] (e.g. ficients computed with one of the Calibrate Camera functions) a Rotation Matri Tc Vn Matrix3x3_LREAL Returns the rotation matrix x [} 165] a Translation Ve Tc Vn Vector3_LREAL Returns the translation vector ctor [} 165] f Reproj Error LREAL Returns the reprojection error Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D System Requirements 6.1.4.13.1.23 F_VN_Sort Detected Pattern Points F_VN_Sort Detected Pattern Points ip Image Points ITc Vn Container HRESULT F_VN_Sort Detected Pattern Points ip Pattern Points ITc Vn Container hr Prev HRESULT Sort the detected pattern points according to the relative positions of the calibration pattern points. Syntax Definition: FUNCTION F_VN_Sort Detected Pattern Points : HRESULT VAR_INPUT ip Image Points : ITc Vn Container; 1082 Version: 2.4.0 TF7000 - TF7810
## Page 1083

API reference ip Pattern Points : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Image Points ITc Vn Container [} 374] Detected pattern point positions in the image coordinate system (will be sorted by this function, Container Type_Vector_Tc Vn Point2_REAL) ip Pattern Points ITc Vn Container [} 374] The pattern points in the calibration pattern coordinate system, used as a reference to sort ip Image Points (Container Type_Vector_Tc Vn Point3_REAL) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D System Requirements 6.1.4.13.1.24 F_VN_Transform Coordinates Image To World_Container F_VN_Transform Coordinates Image To World_Container ip Src Points2D ITc Vn Container HRESULT F_VN_Transform Coordinates Image To World_Container ip Dest Points3D Reference To ITc Vn Container ↔a Camera Matrix Tc Vn Matrix3x3_LREAL ↔a Distortion Coefficients Tc Vn Array8_LREAL ↔a Rotation Matrix Tc Vn Matrix3x3_LREAL ↔a Translation Vector Tc Vn Vector3_LREAL f Z LREAL hr Prev HRESULT Transform 2D image point coordinates to 3D world coordinates (using intrinsic + extrinsic calibration results). Syntax Definition: FUNCTION F_VN_Transform Coordinates Image To World_Container : HRESULT VAR_INPUT ip Src Points2D : ITc Vn Container; ip Dest Points3D : Reference To ITc Vn Container; END_VAR VAR_IN_OUT a Camera Matrix : Tc Vn Matrix3x3_LREAL; a Distortion Coefficients : Tc Vn Array8_LREAL; a Rotation Matrix : Tc Vn Matrix3x3_LREAL; a Translation Vector : Tc Vn Vector3_LREAL; END_VAR VAR_INPUT f Z : LREAL; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1083
## Page 1084

API reference Inputs Name Type Description ip Src Points2D ITc Vn Container [} 374] Container with 2D source points (Tc Vn Point2_DINT or Tc Vn Point2_REAL or Tc Vn Point2_LREAL) ip Dest Points3D Reference To Returns the transformed 3D points (Tc Vn Point3_LREAL) ITc Vn Container [} 374] f Z LREAL z coordinate (world coordinate system) of the transformed points (0 would be at (toplevel) calibration pattern) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Camera Matrix Tc Vn Matrix3x3_LREAL 3x3 camera matrix containing the intrinsic parameters [} 165] a Distortion Coef Tc Vn Array8_LREAL [} 165] Lens distortion coefficients [k1, k2, p1, p2, k3, k4, k5, k6] ficients a Rotation Matri Tc Vn Matrix3x3_LREAL 3x3 rotation matrix x [} 165] a Translation Ve Tc Vn Vector3_LREAL Translation vector ctor [} 165] Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D System Requirements 6.1.4.13.1.25 F_VN_Transform Coordinates Image To World_Point F_VN_Transform Coordinates Image To World_Point ↔a Src Point Tc Vn Point2_LREAL HRESULT F_VN_Transform Coordinates Image To World_Point ↔a Dest Point Tc Vn Point3_LREAL ↔a Camera Matrix Tc Vn Matrix3x3_LREAL ↔a Distortion Coefficients Tc Vn Array8_LREAL ↔a Rotation Matrix Tc Vn Matrix3x3_LREAL ↔a Translation Vector Tc Vn Vector3_LREAL f Z LREAL hr Prev HRESULT Transform 2D image point coordinate to 3D world coordinate (using intrinsic + extrinsic calibration results). Syntax Definition: FUNCTION F_VN_Transform Coordinates Image To World_Point : HRESULT VAR_IN_OUT a Src Point : Tc Vn Point2_LREAL; a Dest Point : Tc Vn Point3_LREAL; a Camera Matrix : Tc Vn Matrix3x3_LREAL; a Distortion Coefficients : Tc Vn Array8_LREAL; a Rotation Matrix : Tc Vn Matrix3x3_LREAL; a Translation Vector : Tc Vn Vector3_LREAL; END_VAR 1084 Version: 2.4.0 TF7000 - TF7810
## Page 1085

API reference VAR_INPUT f Z : LREAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description f Z LREAL z coordinate (world coordinate system) of the transformed points (0 would be at (toplevel) calibration pattern) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Src Point Tc Vn Point2_LREAL [} 163] Point in the image coordinate system a Dest Point Tc Vn Point3_LREAL [} 163] Returns the point in the world coordinate system a Camera Matrix Tc Vn Matrix3x3_LREAL 3x3 camera matrix containing the intrinsic parameters [} 165] a Distortion Coef Tc Vn Array8_LREAL [} 165] Lens distortion coefficients [k1, k2, p1, p2, k3, k4, k5, k6] ficients a Rotation Matri Tc Vn Matrix3x3_LREAL 3x3 rotation matrix x [} 165] a Translation Ve Tc Vn Vector3_LREAL Translation vector ctor [} 165] Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D System Requirements 6.1.4.13.1.26 F_VN_Transform Coordinates Planar_Container F_VN_Transform Coordinates Planar_Container ip Src Points ITc Vn Container HRESULT F_VN_Transform Coordinates Planar_Container ip Dest Points Reference To ITc Vn Container ↔a Transformation Matrix Tc Vn Matrix3x3_LREAL hr Prev HRESULT Compute real-world coordinates for given image points or vice versa. Syntax Definition: FUNCTION F_VN_Transform Coordinates Planar_Container : HRESULT VAR_INPUT ip Src Points : ITc Vn Container; ip Dest Points : Reference To ITc Vn Container; END_VAR VAR_IN_OUT a Transformation Matrix : Tc Vn Matrix3x3_LREAL; END_VAR TF7000 - TF7810 Version: 2.4.0 1085
## Page 1086

API reference VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Points ITc Vn Container [} 374] Container with 2D source points (Tc Vn Point2_DINT or Tc Vn Point2_REAL or Tc Vn Point2_LREAL) ip Dest Points Reference To Returns the transformed 2D points (Tc Vn Point2_LREAL) ITc Vn Container [} 374] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Transformatio Tc Vn Matrix3x3_LREAL Transformation matrix obtained with Vn Calibrate Camera Planar() n Matrix or its inverse matrix obtained with Vn Invert Matrix3x3() [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.1.27 F_VN_Transform Coordinates Planar_Point F_VN_Transform Coordinates Planar_Point ↔ a Src Point Tc Vn Point2_LREAL HRESULT F_VN_Transform Coordinates Planar_Point ↔ a Dest Point Tc Vn Point2_LREAL ↔ a Transformation Matrix Tc Vn Matrix3x3_LREAL hr Prev HRESULT Compute real-world coordinates for a given image point or vice versa. Syntax Definition: FUNCTION F_VN_Transform Coordinates Planar_Point : HRESULT VAR_IN_OUT a Src Point : Tc Vn Point2_LREAL; a Dest Point : Tc Vn Point2_LREAL; a Transformation Matrix : Tc Vn Matrix3x3_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 1086 Version: 2.4.0 TF7000 - TF7810
## Page 1087

API reference In/Outputs Name Type Description a Src Point Tc Vn Point2_LREAL [} 163] Point in the source coordinate system a Dest Point Tc Vn Point2_LREAL [} 163] Returns point in the destination coordinate system a Transformatio Tc Vn Matrix3x3_LREAL Transformation matrix obtained with Vn Calibrate Camera Planar() n Matrix or its inverse matrix obtained with Vn Invert Matrix3x3() [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.1.28 F_VN_Transform Coordinates World To Image_Container F_VN_Transform Coordinates World To Image_Container ip Src Points3D ITc Vn Container HRESULT F_VN_Transform Coordinates World To Image_Container ip Dest Points2D Reference To ITc Vn Container ↔a Camera Matrix Tc Vn Matrix3x3_LREAL ↔a Distortion Coefficients Tc Vn Array8_LREAL ↔a Rotation Matrix Tc Vn Matrix3x3_LREAL ↔a Translation Vector Tc Vn Vector3_LREAL b Integer BOOL hr Prev HRESULT Transform 3D world coordinates to 2D image coordinates (using intrinsic + extrinsic calibration results). Syntax Definition: FUNCTION F_VN_Transform Coordinates World To Image_Container : HRESULT VAR_INPUT ip Src Points3D : ITc Vn Container; ip Dest Points2D : Reference To ITc Vn Container; END_VAR VAR_IN_OUT a Camera Matrix : Tc Vn Matrix3x3_LREAL; a Distortion Coefficients : Tc Vn Array8_LREAL; a Rotation Matrix : Tc Vn Matrix3x3_LREAL; a Translation Vector : Tc Vn Vector3_LREAL; END_VAR VAR_INPUT b Integer : BOOL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Points3D ITc Vn Container [} 374] Container with 3D source points (Tc Vn Point3_LREAL) ip Dest Points2D Reference To Returns the transformed 2D points (Tc Vn Point2_REAL or ITc Vn Container [} 374] Tc Vn Point2_DINT, depending on b Integer) b Integer BOOL Selects whether the function returns a container of Tc Vn Point2_DINT or Tc Vn Point2_REAL hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 1087
## Page 1088

API reference In/Outputs Name Type Description a Camera Matrix Tc Vn Matrix3x3_LREAL 3x3 camera matrix containing the intrinsic parameters [} 165] a Distortion Coef Tc Vn Array8_LREAL [} 165] Lens distortion coefficients [k1, k2, p1, p2, k3, k4, k5, k6] ficients a Rotation Matri Tc Vn Matrix3x3_LREAL 3x3 rotation matrix x [} 165] a Translation Ve Tc Vn Vector3_LREAL Translation vector ctor [} 165] Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D System Requirements 6.1.4.13.1.29 F_VN_Transform Coordinates World To Image_Point F_VN_Transform Coordinates World To Image_Point ↔a Src Point Tc Vn Point3_LREAL HRESULT F_VN_Transform Coordinates World To Image_Point ↔a Dest Point Tc Vn Point2_REAL ↔a Camera Matrix Tc Vn Matrix3x3_LREAL ↔a Distortion Coefficients Tc Vn Array8_LREAL ↔a Rotation Matrix Tc Vn Matrix3x3_LREAL ↔a Translation Vector Tc Vn Vector3_LREAL hr Prev HRESULT Transform 3D world coordinates to 2D image coordinates (using intrinsic + extrinsic calibration results). Syntax Definition: FUNCTION F_VN_Transform Coordinates World To Image_Point : HRESULT VAR_IN_OUT a Src Point : Tc Vn Point3_LREAL; a Dest Point : Tc Vn Point2_REAL; a Camera Matrix : Tc Vn Matrix3x3_LREAL; a Distortion Coefficients : Tc Vn Array8_LREAL; a Rotation Matrix : Tc Vn Matrix3x3_LREAL; a Translation Vector : Tc Vn Vector3_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 1088 Version: 2.4.0 TF7000 - TF7810
## Page 1089

API reference In/Outputs Name Type Description a Src Point Tc Vn Point3_LREAL [} 163] 3D source point (world coordinate system) a Dest Point Tc Vn Point2_REAL [} 163] Returns the transformed 2D point (image coordinate system) a Camera Matrix Tc Vn Matrix3x3_LREAL 3x3 camera matrix containing the intrinsic parameters [} 165] a Distortion Coef Tc Vn Array8_LREAL [} 165] Lens distortion coefficients [k1, k2, p1, p2, k3, k4, k5, k6] ficients a Rotation Matri Tc Vn Matrix3x3_LREAL 3x3 rotation matrix x [} 165] a Translation Ve Tc Vn Vector3_LREAL Translation vector ctor [} 165] Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D System Requirements 6.1.4.13.2 F_VN_Align Rotated Image Region F_VN_Align Rotated Image Region ip Src Image ITc Vn Image HRESULT F_VN_Align Rotated Image Region ip Dest Image Reference To ITc Vn Image ↔ st Region Tc Vn Rotated Rectangle hr Prev HRESULT Copies the provided image region and aligns it to the image axes. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Align Rotated Image Region : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; END_VAR VAR_IN_OUT st Region : Tc Vn Rotated Rectangle; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1089
## Page 1090

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate image will be created if ITc Vn Image [} 413] required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Region Tc Vn Rotated Rectangle Image region to be aligned [} 251] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.3 F_VN_Align Rotated Image Region Exp F_VN_Align Rotated Image Region Exp ip Src Image ITc Vn Image HRESULT F_VN_Align Rotated Image Region Exp ip Dest Image Reference To ITc Vn Image ↔ st Region Tc Vn Rotated Rectangle e Interpolation Type ETc Vn Interpolation Type e Border Interpolation ETc Vn Border Interpolation Method ↔ a Border Value Tc Vn Vector4_LREAL hr Prev HRESULT Copies the provided image region and aligns it to the image axes. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Align Rotated Image Region Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; END_VAR VAR_IN_OUT st Region : Tc Vn Rotated Rectangle; END_VAR VAR_INPUT e Interpolation Type : ETc Vn Interpolation Type; e Border Interpolation : ETc Vn Border Interpolation Method; END_VAR VAR_IN_OUT a Border Value : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR 1090 Version: 2.4.0 TF7000 - TF7810
## Page 1091

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate image will be created if ITc Vn Image [} 413] required.) e Interpolation T ETc Vn Interpolation Type Interpolation method ype [} 209] e Border Interpol Border interpolation method (ISOLATED not supported) ation ETc Vn Border Interpolation Method [} 169] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Region Tc Vn Rotated Rectangle Image region to be aligned [} 251] a Border Value Tc Vn Vector4_LREAL Border value, if CONSTANT is used [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.4 F_VN_Apply Rotation To Affine Transformation F_VN_Apply Rotation To Affine Transformation ↔a Transformation Matrix Tc Vn Matrix2x3_LREAL HRESULT F_VN_Apply Rotation To Affine Transformation f Angle LREAL hr Prev HRESULT Apply a rotation to an existing 2D affine transformation matrix. Syntax Definition: FUNCTION F_VN_Apply Rotation To Affine Transformation : HRESULT VAR_IN_OUT a Transformation Matrix : Tc Vn Matrix2x3_LREAL; END_VAR VAR_INPUT f Angle : LREAL; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1091
## Page 1092

API reference Inputs Name Type Description f Angle LREAL Angle in radians (positive means counter-clockwise) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Transformatio Tc Vn Matrix2x3_LREAL Affine transformation matrix to which the rotation is applied n Matrix [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.5 F_VN_Apply Rotation To Affine Transformation Exp F_VN_Apply Rotation To Affine Transformation Exp ↔a Transformation Matrix Tc Vn Matrix2x3_LREAL HRESULT F_VN_Apply Rotation To Affine Transformation Exp f Angle LREAL b Use Pre Multiplication BOOL hr Prev HRESULT Apply a rotation to an existing 2D affine transformation matrix. (expert function) Syntax Definition: FUNCTION F_VN_Apply Rotation To Affine Transformation Exp : HRESULT VAR_IN_OUT a Transformation Matrix : Tc Vn Matrix2x3_LREAL; END_VAR VAR_INPUT f Angle : LREAL; b Use Pre Multiplication : BOOL; hr Prev : HRESULT; END_VAR Inputs Name Type Description f Angle LREAL Angle in radians (positive means counter-clockwise) b Use Pre Multipl BOOL Select if pre- or post-multiplication should be used ication hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 1092 Version: 2.4.0 TF7000 - TF7810
## Page 1093

API reference In/Outputs Name Type Description a Transformatio Tc Vn Matrix2x3_LREAL Affine transformation matrix to which the rotation is applied n Matrix [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.6 F_VN_Apply Scaling To Affine Transformation F_VN_Apply Scaling To Affine Transformation ↔a Transformation Matrix Tc Vn Matrix2x3_LREAL HRESULT F_VN_Apply Scaling To Affine Transformation f Scale X LREAL f Scale Y LREAL hr Prev HRESULT Apply a scaling to an existing 2D affine transformation matrix. Syntax Definition: FUNCTION F_VN_Apply Scaling To Affine Transformation : HRESULT VAR_IN_OUT a Transformation Matrix : Tc Vn Matrix2x3_LREAL; END_VAR VAR_INPUT f Scale X : LREAL; f Scale Y : LREAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description f Scale X LREAL Scaling factor in x direction f Scale Y LREAL Scaling factor in y direction hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Transformatio Tc Vn Matrix2x3_LREAL Affine transformation matrix to which the scaling is applied n Matrix [} 165] Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 1093
## Page 1094

API reference Required License TC3 Vision Base System Requirements 6.1.4.13.7 F_VN_Apply Scaling To Affine Transformation Exp F_VN_Apply Scaling To Affine Transformation Exp ↔a Transformation Matrix Tc Vn Matrix2x3_LREAL HRESULT F_VN_Apply Scaling To Affine Transformation Exp f Scale X LREAL f Scale Y LREAL b Use Pre Multiplication BOOL hr Prev HRESULT Apply a scaling to an existing 2D affine transformation matrix. (expert function) Syntax Definition: FUNCTION F_VN_Apply Scaling To Affine Transformation Exp : HRESULT VAR_IN_OUT a Transformation Matrix : Tc Vn Matrix2x3_LREAL; END_VAR VAR_INPUT f Scale X : LREAL; f Scale Y : LREAL; b Use Pre Multiplication : BOOL; hr Prev : HRESULT; END_VAR Inputs Name Type Description f Scale X LREAL Scaling factor in x direction f Scale Y LREAL Scaling factor in y direction b Use Pre Multipl BOOL Select if pre- or post-multiplication should be used ication hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Transformatio Tc Vn Matrix2x3_LREAL Affine transformation matrix to which the scaling is applied n Matrix [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base 1094 Version: 2.4.0 TF7000 - TF7810
## Page 1095

API reference System Requirements 6.1.4.13.8 F_VN_Apply Translation To Affine Transformation F_VN_Apply Translation To Affine Transformation ↔a Transformation Matrix Tc Vn Matrix2x3_LREAL HRESULT F_VN_Apply Translation To Affine Transformation f Delta X LREAL f Delta Y LREAL hr Prev HRESULT Apply a translation to an existing 2D affine transformation matrix. Syntax Definition: FUNCTION F_VN_Apply Translation To Affine Transformation : HRESULT VAR_IN_OUT a Transformation Matrix : Tc Vn Matrix2x3_LREAL; END_VAR VAR_INPUT f Delta X : LREAL; f Delta Y : LREAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description f Delta X LREAL Translation in x direction f Delta Y LREAL Translation in y direction hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Transformatio Tc Vn Matrix2x3_LREAL Affine transformation matrix to which the translation is applied n Matrix [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.9 F_VN_Apply Translation To Affine Transformation Exp F_VN_Apply Translation To Affine Transformation Exp ↔a Transformation Matrix Tc Vn Matrix2x3_LREAL HRESULT F_VN_Apply Translation To Affine Transformation Exp f Delta X LREAL f Delta Y LREAL b Use Pre Multiplication BOOL hr Prev HRESULT Apply a translation to an existing 2D affine transformation matrix. (expert function) TF7000 - TF7810 Version: 2.4.0 1095
## Page 1096

API reference Syntax Definition: FUNCTION F_VN_Apply Translation To Affine Transformation Exp : HRESULT VAR_IN_OUT a Transformation Matrix : Tc Vn Matrix2x3_LREAL; END_VAR VAR_INPUT f Delta X : LREAL; f Delta Y : LREAL; b Use Pre Multiplication : BOOL; hr Prev : HRESULT; END_VAR Inputs Name Type Description f Delta X LREAL Translation in x direction f Delta Y LREAL Translation in y direction b Use Pre Multipl BOOL Select if pre- or post-multiplication should be used ication hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Transformatio Tc Vn Matrix2x3_LREAL Affine transformation matrix to which the translation is applied n Matrix [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.10 F_VN_Apply YAxis Inversion To Affine Transformation F_VN_Apply YAxis Inversion To Affine Transformation ↔a Transformation Matrix Tc Vn Matrix2x3_LREAL HRESULT F_VN_Apply YAxis Inversion To Affine Transformation hr Prev HRESULT Apply an inversion of the y-axis direction to an existing 2D affine transformation matrix. Syntax Definition: FUNCTION F_VN_Apply YAxis Inversion To Affine Transformation : HRESULT VAR_IN_OUT a Transformation Matrix : Tc Vn Matrix2x3_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR 1096 Version: 2.4.0 TF7000 - TF7810
## Page 1097

API reference Inputs Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Transformatio Tc Vn Matrix2x3_LREAL Affine transformation matrix to which the inversion of the y-axis n Matrix direction is applied [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.11 F_VN_Apply YAxis Inversion To Affine Transformation Exp F_VN_Apply YAxis Inversion To Affine Transformation Exp ↔a Transformation Matrix Tc Vn Matrix2x3_LREAL HRESULT F_VN_Apply YAxis Inversion To Affine Transformation Exp b Use Pre Multiplication BOOL hr Prev HRESULT Apply an inversion of the y-axis direction to an existing 2D affine transformation matrix. (expert function) Syntax Definition: FUNCTION F_VN_Apply YAxis Inversion To Affine Transformation Exp : HRESULT VAR_IN_OUT a Transformation Matrix : Tc Vn Matrix2x3_LREAL; END_VAR VAR_INPUT b Use Pre Multiplication : BOOL; hr Prev : HRESULT; END_VAR Inputs Name Type Description b Use Pre Multipl BOOL Select if pre- or post-multiplication should be used ication hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Transformatio Tc Vn Matrix2x3_LREAL Affine transformation matrix to which the inversion of the y-axis n Matrix direction is applied [} 165] TF7000 - TF7810 Version: 2.4.0 1097
## Page 1098

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.12 F_VN_Convert Cartesian To Polar Angle Image F_VN_Convert Cartesian To Polar Angle Image ip Src Image X ITc Vn Image HRESULT F_VN_Convert Cartesian To Polar Angle Image ip Src Image Y ITc Vn Image ip Dest Image Ang Reference To ITc Vn Image hr Prev HRESULT Converts cartesian coordinates (x, y) to polar angle. Syntax Definition: FUNCTION F_VN_Convert Cartesian To Polar Angle Image : HRESULT VAR_INPUT ip Src Image X : ITc Vn Image; ip Src Image Y : ITc Vn Image; ip Dest Image Ang : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image X ITc Vn Image [} 413] Source image containing the x values (elements of type REAL or LREAL) ip Src Image Y ITc Vn Image [} 413] Source image containing the y values (Same element type as ip Src Image X) ip Dest Image An Reference To Destination image containing the angles (Same element type as g ITc Vn Image [} 413] source images. An appropriate destination image will be created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base 1098 Version: 2.4.0 TF7000 - TF7810
## Page 1099

API reference System Requirements 6.1.4.13.13 F_VN_Convert Cartesian To Polar Angle Image Exp F_VN_Convert Cartesian To Polar Angle Image Exp ip Src Image X ITc Vn Image HRESULT F_VN_Convert Cartesian To Polar Angle Image Exp ip Src Image Y ITc Vn Image ip Dest Image Ang Reference To ITc Vn Image b Angle In Degrees BOOL hr Prev HRESULT Converts cartesian coordinates (x, y) to polar angle. (expert function) Syntax Definition: FUNCTION F_VN_Convert Cartesian To Polar Angle Image Exp : HRESULT VAR_INPUT ip Src Image X : ITc Vn Image; ip Src Image Y : ITc Vn Image; ip Dest Image Ang : Reference To ITc Vn Image; b Angle In Degrees : BOOL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image X ITc Vn Image [} 413] Source image containing the x values (elements of type REAL or LREAL) ip Src Image Y ITc Vn Image [} 413] Source image containing the y values (Same element type as ip Src Image X) ip Dest Image An Reference To Destination image containing the angles (Same element type as g ITc Vn Image [} 413] source images. An appropriate destination image will be created if required.) b Angle In Degre BOOL Specifys, if the angles should be in degrees or radians es hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.14 F_VN_Convert Cartesian To Polar Angles F_VN_Convert Cartesian To Polar Angles ip Src Points Cart ITc Vn Container HRESULT F_VN_Convert Cartesian To Polar Angles ip Dest Angles Reference To ITc Vn Container hr Prev HRESULT Converts cartesian coordinates (x, y) to polar angle. TF7000 - TF7810 Version: 2.4.0 1099
## Page 1100

API reference Syntax Definition: FUNCTION F_VN_Convert Cartesian To Polar Angles : HRESULT VAR_INPUT ip Src Points Cart : ITc Vn Container; ip Dest Angles : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Points Car ITc Vn Container [} 374] Container with cartesian points t (Container Type_Vector_Tc Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL or Container Type_Vector_Tc Vn Point2_LREAL) ip Dest Angles Reference To Returns a container which is filled with the angles ITc Vn Container [} 374] (Container Type_Vector_REAL, if source points are of type Tc Vn Point2_DINT or Tc Vn Point2_REAL; else Container Type_Vector_LREAL. Non-zero interface pointers are reused.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.15 F_VN_Convert Cartesian To Polar Angles Exp F_VN_Convert Cartesian To Polar Angles Exp ip Src Points Cart ITc Vn Container HRESULT F_VN_Convert Cartesian To Polar Angles Exp ip Dest Angles Reference To ITc Vn Container b Angle In Degrees BOOL hr Prev HRESULT Converts cartesian coordinates (x, y) to polar angle. (expert function) Syntax Definition: FUNCTION F_VN_Convert Cartesian To Polar Angles Exp : HRESULT VAR_INPUT ip Src Points Cart : ITc Vn Container; ip Dest Angles : Reference To ITc Vn Container; b Angle In Degrees : BOOL; hr Prev : HRESULT; END_VAR 1100 Version: 2.4.0 TF7000 - TF7810
## Page 1101

API reference Inputs Name Type Description ip Src Points Car ITc Vn Container [} 374] Container with cartesian points t (Container Type_Vector_Tc Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL or Container Type_Vector_Tc Vn Point2_LREAL) ip Dest Angles Reference To Returns a container which is filled with the angles ITc Vn Container [} 374] (Container Type_Vector_REAL, if source points are of type Tc Vn Point2_DINT or Tc Vn Point2_REAL; else Container Type_Vector_LREAL. Non-zero interface pointers are reused.) b Angle In Degre BOOL Specify, if the angles should be in degrees or radians es hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.16 F_VN_Convert Cartesian To Polar Images F_VN_Convert Cartesian To Polar Images ip Src Image X ITc Vn Image HRESULT F_VN_Convert Cartesian To Polar Images ip Src Image Y ITc Vn Image ip Dest Image Mag Reference To ITc Vn Image ip Dest Image Ang Reference To ITc Vn Image hr Prev HRESULT Converts cartesian coordinates (x, y) to polar coordinates (magnitude, angle). Syntax Definition: FUNCTION F_VN_Convert Cartesian To Polar Images : HRESULT VAR_INPUT ip Src Image X : ITc Vn Image; ip Src Image Y : ITc Vn Image; ip Dest Image Mag : Reference To ITc Vn Image; ip Dest Image Ang : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1101
## Page 1102

API reference Inputs Name Type Description ip Src Image X ITc Vn Image [} 413] Source image containing the x values (elements of type REAL or LREAL) ip Src Image Y ITc Vn Image [} 413] Source image containing the y values (Same element type as ip Src Image X) ip Dest Image M Reference To Destination image containing the magnitudes (Same element ag ITc Vn Image [} 413] type as source images. An appropriate destination image will be created if required.) ip Dest Image An Reference To Destination image containing the angles (Same element type as g ITc Vn Image [} 413] source images. An appropriate destination image will be created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.17 F_VN_Convert Cartesian To Polar Images Exp F_VN_Convert Cartesian To Polar Images Exp ip Src Image X ITc Vn Image HRESULT F_VN_Convert Cartesian To Polar Images Exp ip Src Image Y ITc Vn Image ip Dest Image Mag Reference To ITc Vn Image ip Dest Image Ang Reference To ITc Vn Image b Angle In Degrees BOOL hr Prev HRESULT Converts cartesian coordinates (x, y) to polar coordinates (magnitude, angle). (expert function) Syntax Definition: FUNCTION F_VN_Convert Cartesian To Polar Images Exp : HRESULT VAR_INPUT ip Src Image X : ITc Vn Image; ip Src Image Y : ITc Vn Image; ip Dest Image Mag : Reference To ITc Vn Image; ip Dest Image Ang : Reference To ITc Vn Image; b Angle In Degrees : BOOL; hr Prev : HRESULT; END_VAR 1102 Version: 2.4.0 TF7000 - TF7810
## Page 1103

API reference Inputs Name Type Description ip Src Image X ITc Vn Image [} 413] Source image containing the x values (elements of type REAL or LREAL) ip Src Image Y ITc Vn Image [} 413] Source image containing the y values (Same element type as ip Src Image X) ip Dest Image M Reference To Destination image containing the magnitudes (Same element ag ITc Vn Image [} 413] type as source images. An appropriate destination image will be created if required.) ip Dest Image An Reference To Destination image containing the angles (Same element type as g ITc Vn Image [} 413] source images. An appropriate destination image will be created if required.) b Angle In Degre BOOL Specifys, if the angles should be in degrees or radians es hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.18 F_VN_Convert Cartesian To Polar Magnitude Image F_VN_Convert Cartesian To Polar Magnitude Image ip Src Image X ITc Vn Image HRESULT F_VN_Convert Cartesian To Polar Magnitude Image ip Src Image Y ITc Vn Image ip Dest Image Mag Reference To ITc Vn Image hr Prev HRESULT Converts cartesian coordinates (x, y) to polar magnitude. Syntax Definition: FUNCTION F_VN_Convert Cartesian To Polar Magnitude Image : HRESULT VAR_INPUT ip Src Image X : ITc Vn Image; ip Src Image Y : ITc Vn Image; ip Dest Image Mag : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1103
## Page 1104

API reference Inputs Name Type Description ip Src Image X ITc Vn Image [} 413] Source image containing the x values (elements of type REAL or LREAL) ip Src Image Y ITc Vn Image [} 413] Source image containing the y values (Same element type as ip Src Image X) ip Dest Image M Reference To Destination image containing the magnitudes (Same element ag ITc Vn Image [} 413] type as source images. An appropriate destination image will be created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.19 F_VN_Convert Cartesian To Polar Magnitudes F_VN_Convert Cartesian To Polar Magnitudes ip Src Points Cart ITc Vn Container HRESULT F_VN_Convert Cartesian To Polar Magnitudes ip Dest Mags Reference To ITc Vn Container hr Prev HRESULT Converts cartesian coordinates (x, y) to polar magnitude. Syntax Definition: FUNCTION F_VN_Convert Cartesian To Polar Magnitudes : HRESULT VAR_INPUT ip Src Points Cart : ITc Vn Container; ip Dest Mags : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Points Car ITc Vn Container [} 374] Container with cartesian points t (Container Type_Vector_Tc Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL or Container Type_Vector_Tc Vn Point2_LREAL) ip Dest Mags Reference To Returns a container which is filled with the magnitudes ITc Vn Container [} 374] (Container Type_Vector_REAL, if source points are of type Tc Vn Point2_DINT or Tc Vn Point2_REAL; else Container Type_Vector_LREAL. Non-zero interface pointers are reused.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 1104 Version: 2.4.0 TF7000 - TF7810
## Page 1105

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.20 F_VN_Convert Cartesian To Polar Points F_VN_Convert Cartesian To Polar Points ip Src Points Cart ITc Vn Container HRESULT F_VN_Convert Cartesian To Polar Points ip Dest Points Polar Reference To ITc Vn Container hr Prev HRESULT Converts cartesian coordinates (x, y) to polar coordinates (magnitude, angle). Syntax Definition: FUNCTION F_VN_Convert Cartesian To Polar Points : HRESULT VAR_INPUT ip Src Points Cart : ITc Vn Container; ip Dest Points Polar : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Points Car ITc Vn Container [} 374] Container with cartesian points t (Container Type_Vector_Tc Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL or Container Type_Vector_Tc Vn Point2_LREAL) ip Dest Points Po Reference To Returns a container which is filled with the converted points in lar ITc Vn Container [} 374] polar coordinates (Container Type_Vector_Tc Vn Point2_REAL, if source points are of type Tc Vn Point2_DINT or Tc Vn Point2_REAL; else Container Type_Vector_Tc Vn Point2_LREAL. Non-zero interface pointers are reused.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1105
## Page 1106

API reference System Requirements 6.1.4.13.21 F_VN_Convert Cartesian To Polar Points Exp F_VN_Convert Cartesian To Polar Points Exp ip Src Points Cart ITc Vn Container HRESULT F_VN_Convert Cartesian To Polar Points Exp ip Dest Points Polar Reference To ITc Vn Container b Angle In Degrees BOOL hr Prev HRESULT Converts cartesian coordinates (x, y) to polar coordinates (magnitude, angle). (expert function) Syntax Definition: FUNCTION F_VN_Convert Cartesian To Polar Points Exp : HRESULT VAR_INPUT ip Src Points Cart : ITc Vn Container; ip Dest Points Polar : Reference To ITc Vn Container; b Angle In Degrees : BOOL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Points Car ITc Vn Container [} 374] Container with cartesian points t (Container Type_Vector_Tc Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL or Container Type_Vector_Tc Vn Point2_LREAL) ip Dest Points Po Reference To Returns a container which is filled with the converted points in lar ITc Vn Container [} 374] polar coordinates (Container Type_Vector_Tc Vn Point2_REAL, if source points are of type Tc Vn Point2_DINT or Tc Vn Point2_REAL; else Container Type_Vector_Tc Vn Point2_LREAL. Non-zero interface pointers are reused.) b Angle In Degre BOOL Specifys, if the angles should be in degrees or radians es hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.22 F_VN_Convert Polar To Cartesian Images F_VN_Convert Polar To Cartesian Images ip Src Image Mag ITc Vn Image HRESULT F_VN_Convert Polar To Cartesian Images ip Src Image Ang ITc Vn Image ip Dest Image X Reference To ITc Vn Image ip Dest Image Y Reference To ITc Vn Image hr Prev HRESULT Converts polar coordinates (magnitude, angle) to cartesian coordinates (x, y). 1106 Version: 2.4.0 TF7000 - TF7810
## Page 1107

API reference Syntax Definition: FUNCTION F_VN_Convert Polar To Cartesian Images : HRESULT VAR_INPUT ip Src Image Mag : ITc Vn Image; ip Src Image Ang : ITc Vn Image; ip Dest Image X : Reference To ITc Vn Image; ip Dest Image Y : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image Ma ITc Vn Image [} 413] Source image containing the magnitudes (elements of type g REAL or LREAL) ip Src Image Ang ITc Vn Image [} 413] Source image containing the angles (Same element type as ip Src Image Mag) ip Dest Image X Reference To Destination image containing the x values (Same element type ITc Vn Image [} 413] as source images. An appropriate destination image will be created if required.) ip Dest Image Y Reference To Destination image containing the y values (Same element type ITc Vn Image [} 413] as source images. An appropriate destination image will be created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.23 F_VN_Convert Polar To Cartesian Images Exp F_VN_Convert Polar To Cartesian Images Exp ip Src Image Mag ITc Vn Image HRESULT F_VN_Convert Polar To Cartesian Images Exp ip Src Image Ang ITc Vn Image ip Dest Image X Reference To ITc Vn Image ip Dest Image Y Reference To ITc Vn Image b Angle In Degrees BOOL hr Prev HRESULT Converts polar coordinates (magnitude, angle) to cartesian coordinates (x, y). (expert function) Syntax Definition: FUNCTION F_VN_Convert Polar To Cartesian Images Exp : HRESULT VAR_INPUT ip Src Image Mag : ITc Vn Image; ip Src Image Ang : ITc Vn Image; ip Dest Image X : Reference To ITc Vn Image; ip Dest Image Y : Reference To ITc Vn Image; b Angle In Degrees : BOOL; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1107
## Page 1108

API reference Inputs Name Type Description ip Src Image Ma ITc Vn Image [} 413] Source image containing the magnitudes (elements of type g REAL or LREAL) ip Src Image Ang ITc Vn Image [} 413] Source image containing the angles (Same element type as ip Src Image Mag) ip Dest Image X Reference To Destination image containing the x values (Same element type ITc Vn Image [} 413] as source images. An appropriate destination image will be created if required.) ip Dest Image Y Reference To Destination image containing the y values (Same element type ITc Vn Image [} 413] as source images. An appropriate destination image will be created if required.) b Angle In Degre BOOL Specifys, if the angles are in degrees or radians es hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.24 F_VN_Convert Polar To Cartesian Points F_VN_Convert Polar To Cartesian Points ip Src Points Polar ITc Vn Container HRESULT F_VN_Convert Polar To Cartesian Points ip Dest Points Cart Reference To ITc Vn Container hr Prev HRESULT Converts polar coordinates (magnitude, angle) to cartesian coordinates (x, y). Syntax Definition: FUNCTION F_VN_Convert Polar To Cartesian Points : HRESULT VAR_INPUT ip Src Points Polar : ITc Vn Container; ip Dest Points Cart : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Points Pol ITc Vn Container [} 374] Container with polar coordinates ar (Container Type_Vector_Tc Vn Point2_REAL or Container Type_Vector_Tc Vn Point2_LREAL) ip Dest Points Ca Reference To Returns a container which is filled with the converted points in rt ITc Vn Container [} 374] cartesian coordinates (same type ID as ip Src Points Polar. Non- zero interface pointers are reused.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 1108 Version: 2.4.0 TF7000 - TF7810
## Page 1109

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.25 F_VN_Convert Polar To Cartesian Points Exp F_VN_Convert Polar To Cartesian Points Exp ip Src Points Polar ITc Vn Container HRESULT F_VN_Convert Polar To Cartesian Points Exp ip Dest Points Cart Reference To ITc Vn Container b Angle In Degrees BOOL hr Prev HRESULT Converts polar coordinates (magnitude, angle) to cartesian coordinates (x, y). (expert function) Syntax Definition: FUNCTION F_VN_Convert Polar To Cartesian Points Exp : HRESULT VAR_INPUT ip Src Points Polar : ITc Vn Container; ip Dest Points Cart : Reference To ITc Vn Container; b Angle In Degrees : BOOL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Points Pol ITc Vn Container [} 374] Container with polar coordinates ar (Container Type_Vector_Tc Vn Point2_REAL or Container Type_Vector_Tc Vn Point2_LREAL) ip Dest Points Ca Reference To Returns a container which is filled with the converted points in rt ITc Vn Container [} 374] cartesian coordinates (same type ID as ip Src Points Polar. Non- zero interface pointers are reused.) b Angle In Degre BOOL Specifys, if the angles are in degrees or radians es hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1109
## Page 1110

API reference System Requirements 6.1.4.13.26 F_VN_Decompose Affine Transformation F_VN_Decompose Affine Transformation ↔ a Affine Transform Tc Vn Matrix2x3_LREAL HRESULT F_VN_Decompose Affine Transformation ↔ f Rotation Angle LREAL hr Prev HRESULT Decompose an affine transformation matrix and return the rotation angle (clockwise) in radian. The decomposition method assumes the following order of transformation: Translation, Rotation, Scale, and Skew. Syntax Definition: FUNCTION F_VN_Decompose Affine Transformation : HRESULT VAR_IN_OUT a Affine Transform : Tc Vn Matrix2x3_LREAL; f Rotation Angle : LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Affine Transfor Tc Vn Matrix2x3_LREAL Affine transformation matrix m [} 165] f Rotation Angle LREAL Rotation angle (radian) in the clockwise direction. The rotation center is the origin point (0,0) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.27 F_VN_Decompose Affine Transformation Exp F_VN_Decompose Affine Transformation Exp ↔ a Affine Transform Tc Vn Matrix2x3_LREAL HRESULT F_VN_Decompose Affine Transformation Exp ↔ f Rotation Angle LREAL ↔ a Translation Vector Tc Vn Vector2_LREAL ↔ a Scale Vector Tc Vn Vector2_LREAL ↔ a Skew Vector Tc Vn Vector2_LREAL hr Prev HRESULT 1110 Version: 2.4.0 TF7000 - TF7810
## Page 1111

API reference Decompose an affine transformation matrix and return the rotation angle (clockwise) in radian, translation vector (pixels), scale, and skew vectors (angle in radian). The decomposition method assumes the following order of transformation: Translation, Rotation, Scale, and Skew. Syntax Definition: FUNCTION F_VN_Decompose Affine Transformation Exp : HRESULT VAR_IN_OUT a Affine Transform : Tc Vn Matrix2x3_LREAL; f Rotation Angle : LREAL; a Translation Vector : Tc Vn Vector2_LREAL; a Scale Vector : Tc Vn Vector2_LREAL; a Skew Vector : Tc Vn Vector2_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Affine Transfor Tc Vn Matrix2x3_LREAL Affine transformation matrix m [} 165] f Rotation Angle LREAL Rotation angle (radian) in the clockwise direction. The rotation center is the origin point (0,0) a Translation Ve Tc Vn Vector2_LREAL 2D translation vector. The values are in pixels ctor [} 165] a Scale Vector Tc Vn Vector2_LREAL 2D scale vector [} 165] a Skew Vector Tc Vn Vector2_LREAL 2D skew vector. The values are the skew angles in x and y directions in radian [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1111
## Page 1112

API reference System Requirements 6.1.4.13.28 F_VN_Decompose Homography F_VN_Decompose Homography ↔ a Homography Tc Vn Matrix3x3_LREAL UDINT n Solutions ↔ a Camera Matrix Tc Vn Matrix3x3_LREAL HRESULT F_VN_Decompose Homography ↔ a Rotation Matrix A Tc Vn Matrix3x3_LREAL ↔ a Translation Vector A Tc Vn Vector3_LREAL ↔ a Norm Vector A Tc Vn Vector3_LREAL ↔ a Rotation Matrix B Tc Vn Matrix3x3_LREAL ↔ a Translation Vector B Tc Vn Vector3_LREAL ↔ a Norm Vector B Tc Vn Vector3_LREAL hr Prev HRESULT Decompose a homography matrix into four solutions of rotation, translation, and plane normal. It returns two solutions (Ra, Ta, Nb) and (Rb, Tb, Nb). The third and the fourth solutions can be calculated as follows: (Ra, -Ta, -Na) and (Rb, -Tb, -Nb). Syntax Definition: FUNCTION F_VN_Decompose Homography : HRESULT VAR_IN_OUT a Homography : Tc Vn Matrix3x3_LREAL; a Camera Matrix : Tc Vn Matrix3x3_LREAL; a Rotation Matrix A : Tc Vn Matrix3x3_LREAL; a Translation Vector A : Tc Vn Vector3_LREAL; a Norm Vector A : Tc Vn Vector3_LREAL; a Rotation Matrix B : Tc Vn Matrix3x3_LREAL; a Translation Vector B : Tc Vn Vector3_LREAL; a Norm Vector B : Tc Vn Vector3_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR VAR_OUTPUT n Solutions : UDINT; END_VAR Inputs Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 1112 Version: 2.4.0 TF7000 - TF7810
## Page 1113

API reference In/Outputs Name Type Description a Homography Tc Vn Matrix3x3_LREAL Homography matrix (a perspective transformation between two planes) [} 165] a Camera Matrix Tc Vn Matrix3x3_LREAL Camera matrix [} 165] a Rotation Matri Tc Vn Matrix3x3_LREAL Rotation matrix of the first solution (Ra) x A [} 165] a Translation Ve Tc Vn Vector3_LREAL Translation vector of the first solution (Ta) ctor A [} 165] a Norm Vector A Tc Vn Vector3_LREAL Norm vector of the first solution (Na) [} 165] a Rotation Matri Tc Vn Matrix3x3_LREAL Rotation matrix of the second solution (Rb) x B [} 165] a Translation Ve Tc Vn Vector3_LREAL Translation vector of the second solution (Tb) ctor B [} 165] a Norm Vector B Tc Vn Vector3_LREAL Norm vector of the second solution Nb [} 165] Outputs Name Type Description n Solutions UDINT Returns the number of solutions. In normal cases, it is equal four. Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.29 F_VN_Decompose Homography Exp F_VN_Decompose Homography Exp ↔ a Homography Tc Vn Matrix3x3_LREAL UDINT n Solutions ↔ a Camera Matrix Tc Vn Matrix3x3_LREAL HRESULT F_VN_Decompose Homography Exp ↔ a Rotation Matrix A Tc Vn Matrix3x3_LREAL ↔ a Translation Vector A Tc Vn Vector3_LREAL ↔ a Norm Vector A Tc Vn Vector3_LREAL ↔ a Rotation Matrix B Tc Vn Matrix3x3_LREAL ↔ a Translation Vector B Tc Vn Vector3_LREAL ↔ a Norm Vector B Tc Vn Vector3_LREAL ip Points Src ITc Vn Container ip Points Des ITc Vn Container ip Inlier Mask ITc Vn Container hr Prev HRESULT Decompose a homography matrix and verify four solutions of rotation, translation, and plane normal. It uses visible reference points being in front of the camera to confirm which solution(s) of the four solutions (maximum two solutions) are consistent with all reference points. TF7000 - TF7810 Version: 2.4.0 1113
## Page 1114

API reference Syntax Definition: FUNCTION F_VN_Decompose Homography Exp : HRESULT VAR_IN_OUT a Homography : Tc Vn Matrix3x3_LREAL; a Camera Matrix : Tc Vn Matrix3x3_LREAL; a Rotation Matrix A : Tc Vn Matrix3x3_LREAL; a Translation Vector A : Tc Vn Vector3_LREAL; a Norm Vector A : Tc Vn Vector3_LREAL; a Rotation Matrix B : Tc Vn Matrix3x3_LREAL; a Translation Vector B : Tc Vn Vector3_LREAL; a Norm Vector B : Tc Vn Vector3_LREAL; END_VAR VAR_INPUT ip Points Src : ITc Vn Container; ip Points Des : ITc Vn Container; ip Inlier Mask : ITc Vn Container; hr Prev : HRESULT; END_VAR VAR_OUTPUT n Solutions : UDINT; END_VAR Inputs Name Type Description ip Points Src ITc Vn Container [} 374] Container with source points (Container Type_Vector_Tc Vn Point2_REAL) ip Points Des ITc Vn Container [} 374] Container with destination points (same number as ip Points1, Container Type_Vector_Tc Vn Point2_REAL) ip Inlier Mask ITc Vn Container [} 374] A mask marking the inliers (optional, set to 0 if not available; Container Type_Vector_SINT or Container Type_Vector_USINT) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Homography Tc Vn Matrix3x3_LREAL Homography matrix (a perspective transformation between two planes) [} 165] a Camera Matrix Tc Vn Matrix3x3_LREAL Camera matrix [} 165] a Rotation Matri Tc Vn Matrix3x3_LREAL Rotation matrix of the first solution (Ra) x A [} 165] a Translation Ve Tc Vn Vector3_LREAL Translation vector of the first solution (Ta) ctor A [} 165] a Norm Vector A Tc Vn Vector3_LREAL Norm vector of the first solution (Na) [} 165] a Rotation Matri Tc Vn Matrix3x3_LREAL Rotation matrix of the second solution (Rb) x B [} 165] a Translation Ve Tc Vn Vector3_LREAL Translation vector of the second solution (Tb) ctor B [} 165] a Norm Vector B Tc Vn Vector3_LREAL Norm vector of the second solution (Nb) [} 165] 1114 Version: 2.4.0 TF7000 - TF7810
## Page 1115

API reference Outputs Name Type Description n Solutions UDINT Return the number of true potential solutions [0,1, or 2]. 0: no true potential solutions for the given corresponding points are confirmed. 1: the solution (Ra, Ta, Na) is confirmed. 2: both solution (Ra, Ta, Na) and (Rb, Tb, Nb) are confirmed. In all cases the function returns two solutions (Ra, Ta, Nb) and (Rb, Tb, Nb). The third and the fourth solutions can be calculated as follows: (Ra, -Ta, -Na) and (Rb, -Tb, -Nb). Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.30 F_VN_Flip Image F_VN_Flip Image ip Src Image ITc Vn Image HRESULT F_VN_Flip Image ip Dest Image Reference To ITc Vn Image e Flip Axis ETc Vn Flip Axis hr Prev HRESULT Flip an image (mirror and shift back to prior coordinates). Syntax Definition: FUNCTION F_VN_Flip Image : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; e Flip Axis : ETc Vn Flip Axis; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) e Flip Axis ETc Vn Flip Axis [} 207] Selects the axis around which to flip the image hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 1115
## Page 1116

API reference Required License TC3 Vision Base System Requirements 6.1.4.13.31 F_VN_Generate Affine Transformation Unit Matrix2D F_VN_Generate Affine Transformation Unit Matrix2D ↔a Transformation Matrix Tc Vn Matrix2x3_LREAL HRESULT F_VN_Generate Affine Transformation Unit Matrix2D hr Prev HRESULT Generate an affine transformation 2D unit matrix. Syntax Definition: FUNCTION F_VN_Generate Affine Transformation Unit Matrix2D : HRESULT VAR_IN_OUT a Transformation Matrix : Tc Vn Matrix2x3_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Transformatio Tc Vn Matrix2x3_LREAL Resulting affine transformation unit matrix n Matrix [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.32 F_VN_Get Affine Transformation F_VN_Get Affine Transformation ↔ a Src Points Tc Vn Array3_Point2_REAL HRESULT F_VN_Get Affine Transformation ↔ a Dest Points Tc Vn Array3_Point2_REAL ↔ a Transformation Matrix Tc Vn Matrix2x3_LREAL hr Prev HRESULT Calculate the affine transformation between three corresponding point pairs. The points mark the corners of the corresponding triangles. 1116 Version: 2.4.0 TF7000 - TF7810
## Page 1117

API reference Syntax Definition: FUNCTION F_VN_Get Affine Transformation : HRESULT VAR_IN_OUT a Src Points : Tc Vn Array3_Point2_REAL; a Dest Points : Tc Vn Array3_Point2_REAL; a Transformation Matrix : Tc Vn Matrix2x3_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Src Points Tc Vn Array3_Point2_REAL Source points [} 165] a Dest Points Tc Vn Array3_Point2_REAL Destination points [} 165] a Transformatio Tc Vn Matrix2x3_LREAL Resulting transformation matrix n Matrix [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.33 F_VN_Get Affine Transformation2D F_VN_Get Affine Transformation2D ip Src Points ITc Vn Container HRESULT F_VN_Get Affine Transformation2D ip Dest Points ITc Vn Container ↔ a Affine Transform Tc Vn Matrix2x3_LREAL hr Prev HRESULT Estimate the 2D affine transformation between two planar point sets using RANSAC algorithm. Syntax Definition: FUNCTION F_VN_Get Affine Transformation2D : HRESULT VAR_INPUT ip Src Points : ITc Vn Container; ip Dest Points : ITc Vn Container; END_VAR VAR_IN_OUT a Affine Transform : Tc Vn Matrix2x3_LREAL; END_VAR TF7000 - TF7810 Version: 2.4.0 1117
## Page 1118

API reference VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Points ITc Vn Container [} 374] Container with at least 3 source points (Container Type_Vector_Tc Vn Point2_REAL) ip Dest Points ITc Vn Container [} 374] Container with destination points (same number as ip Src Points, Container Type_Vector_Tc Vn Point2_REAL) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Affine Transfor Tc Vn Matrix2x3_LREAL Returns the affine transformation matrix, which transforms the m source points to the destination points [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.34 F_VN_Get Affine Transformation2DExp F_VN_Get Affine Transformation2DExp ip Src Points ITc Vn Container HRESULT F_VN_Get Affine Transformation2DExp ip Dest Points ITc Vn Container ↔ a Affine Transform Tc Vn Matrix2x3_LREAL e Algorithm ETc Vn Estimation Algorithm f Reproj Threshold LREAL ip Inlier Mask Reference To ITc Vn Container n Max Iterations UDINT f Confidence LREAL n Refine Iters UDINT hr Prev HRESULT Estimate the affine transformation between two planar point sets. (expert function) Syntax Definition: FUNCTION F_VN_Get Affine Transformation2DExp : HRESULT VAR_INPUT ip Src Points : ITc Vn Container; ip Dest Points : ITc Vn Container; END_VAR VAR_IN_OUT a Affine Transform : Tc Vn Matrix2x3_LREAL; END_VAR VAR_INPUT e Algorithm : ETc Vn Estimation Algorithm; f Reproj Threshold : LREAL; ip Inlier Mask : Reference To ITc Vn Container; n Max Iterations : UDINT; 1118 Version: 2.4.0 TF7000 - TF7810
## Page 1119

API reference f Confidence : LREAL; n Refine Iters : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Points ITc Vn Container [} 374] Container with at least 3 source points (Container Type_Vector_Tc Vn Point2_REAL) ip Dest Points ITc Vn Container [} 374] Container with destination points (same number as ip Src Points, Container Type_Vector_Tc Vn Point2_REAL) e Algorithm ETc Vn Estimation Algorithm Estimation algorithm (only RANSAC and LMEDS are supported) [} 204] f Reproj Thresho LREAL Maximum allowed reprojection error to treat a point pair as an ld inlier ip Inlier Mask Reference To Returns a mask marking the inliers (optional, set to 0 if not ITc Vn Container [} 374] required; Container Type_Vector_USINT) n Max Iterations UDINT Maximum number of iterations f Confidence LREAL Confidence (0..1) n Refine Iters UDINT Maximum number of iterations of Levenberg-Marquardt algorithm to refine further the affine transform (using only inliers). Set to 0 to disable refining. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Affine Transfor Tc Vn Matrix2x3_LREAL Returns the affine transformation matrix, which transforms the m source points to the destination points [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.35 F_VN_Get Perspective Transformation F_VN_Get Perspective Transformation ↔ a Src Points Tc Vn Array4_Point2_REAL HRESULT F_VN_Get Perspective Transformation ↔ a Dest Points Tc Vn Array4_Point2_REAL ↔ a Transformation Matrix Tc Vn Matrix3x3_LREAL hr Prev HRESULT Calculate the perspective transformation between four corresponding point pairs. The points mark the corners of the corresponding rectangles. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 1119
## Page 1120

API reference FUNCTION F_VN_Get Perspective Transformation : HRESULT VAR_IN_OUT a Src Points : Tc Vn Array4_Point2_REAL; a Dest Points : Tc Vn Array4_Point2_REAL; a Transformation Matrix : Tc Vn Matrix3x3_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Src Points Tc Vn Array4_Point2_REAL Source points [} 165] a Dest Points Tc Vn Array4_Point2_REAL Destination points [} 165] a Transformatio Tc Vn Matrix3x3_LREAL Resulting transformation matrix n Matrix [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.36 F_VN_Homography F_VN_Homography ip Src Points ITc Vn Container HRESULT F_VN_Homography ip Dest Points ITc Vn Container ↔ a Perspective Transform Tc Vn Matrix3x3_LREAL hr Prev HRESULT Find the homography (perspective transformation) between two planar point sets using RANSAC algorithm. Syntax Definition: FUNCTION F_VN_Homography : HRESULT VAR_INPUT ip Src Points : ITc Vn Container; ip Dest Points : ITc Vn Container; END_VAR VAR_IN_OUT a Perspective Transform : Tc Vn Matrix3x3_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR 1120 Version: 2.4.0 TF7000 - TF7810
## Page 1121

API reference Inputs Name Type Description ip Src Points ITc Vn Container [} 374] Container with at least 4 source points (Container Type_Vector_Tc Vn Point2_REAL) ip Dest Points ITc Vn Container [} 374] Container with destination points (same number as ip Src Points, Container Type_Vector_Tc Vn Point2_REAL) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Perspective Tr Tc Vn Matrix3x3_LREAL Returns the perspective transformation matrix, which transforms ansform the source points to the destination points [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.37 F_VN_Homography Exp F_VN_Homography Exp ip Src Points ITc Vn Container HRESULT F_VN_Homography Exp ip Dest Points ITc Vn Container ↔ a Perspective Transform Tc Vn Matrix3x3_LREAL e Algorithm ETc Vn Estimation Algorithm f Reproj Threshold LREAL ip Inlier Mask Reference To ITc Vn Container n Max Iterations UDINT f Confidence LREAL hr Prev HRESULT Find the homography (perspective transformation) between two planar point sets. (expert function) Syntax Definition: FUNCTION F_VN_Homography Exp : HRESULT VAR_INPUT ip Src Points : ITc Vn Container; ip Dest Points : ITc Vn Container; END_VAR VAR_IN_OUT a Perspective Transform : Tc Vn Matrix3x3_LREAL; END_VAR VAR_INPUT e Algorithm : ETc Vn Estimation Algorithm; f Reproj Threshold : LREAL; ip Inlier Mask : Reference To ITc Vn Container; n Max Iterations : UDINT; f Confidence : LREAL; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1121
## Page 1122

API reference Inputs Name Type Description ip Src Points ITc Vn Container [} 374] Container with at least 4 source points (Container Type_Vector_Tc Vn Point2_REAL) ip Dest Points ITc Vn Container [} 374] Container with destination points (same number as ip Src Points, Container Type_Vector_Tc Vn Point2_REAL) e Algorithm ETc Vn Estimation Algorithm Estimation algorithm [} 204] f Reproj Thresho LREAL Maximum allowed reprojection error to treat a point pair as an ld inlier (only for RANSAC, RHO) ip Inlier Mask Reference To Returns a mask marking the inliers (optional, set to 0 if not ITc Vn Container [} 374] required; Container Type_Vector_SINT; only for RANSAC, LMEDS) n Max Iterations UDINT Maximum number of RANSAC iterations f Confidence LREAL Confidence (0..1) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Perspective Tr Tc Vn Matrix3x3_LREAL Returns the perspective transformation matrix, which transforms ansform the source points to the destination points [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.38 F_VN_Invert Affine Transformation F_VN_Invert Affine Transformation ↔ a Transformation Matrix Tc Vn Matrix2x3_LREAL HRESULT F_VN_Invert Affine Transformation ↔ a Inverted Transformation Matrix Tc Vn Matrix2x3_LREAL hr Prev HRESULT Invert a 2D affine transformation matrix. The inverted transformation compensates the affine transformation on an image if it is used in the F_VN_Warp Affine function. Syntax Definition: FUNCTION F_VN_Invert Affine Transformation : HRESULT VAR_IN_OUT a Transformation Matrix : Tc Vn Matrix2x3_LREAL; a Inverted Transformation Matrix : Tc Vn Matrix2x3_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR 1122 Version: 2.4.0 TF7000 - TF7810
## Page 1123

API reference Inputs Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Transformatio Tc Vn Matrix2x3_LREAL Source affine transformation matrix n Matrix [} 165] a Inverted Trans Tc Vn Matrix2x3_LREAL Resulting inverted affine transformation matrix formation Matrix [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.39 F_VN_Perspective Transformation F_VN_Perspective Transformation ip Src Points ITc Vn Container HRESULT F_VN_Perspective Transformation ip Dest Points Reference To ITc Vn Container ↔ a Rotation Matrix Tc Vn Matrix3x3_LREAL ↔ a Translation Vector Tc Vn Vector3_LREAL hr Prev HRESULT Apply a perspective transformation (rotation + translation, e.g. from extrinsic calibration) to 3D point coordinates. Syntax Definition: FUNCTION F_VN_Perspective Transformation : HRESULT VAR_INPUT ip Src Points : ITc Vn Container; ip Dest Points : Reference To ITc Vn Container; END_VAR VAR_IN_OUT a Rotation Matrix : Tc Vn Matrix3x3_LREAL; a Translation Vector : Tc Vn Vector3_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1123
## Page 1124

API reference Inputs Name Type Description ip Src Points ITc Vn Container [} 374] Container with 3D source points (Tc Vn Point3_REAL or Tc Vn Point3_LREAL) ip Dest Points Reference To Returns the transformed points (same type as ip Src Points) ITc Vn Container [} 374] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Rotation Matri Tc Vn Matrix3x3_LREAL 3x3 rotation matrix x [} 165] a Translation Ve Tc Vn Vector3_LREAL Translation vector ctor [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.40 F_VN_Pyramid Down F_VN_Pyramid Down ip Src Image ITc Vn Image HRESULT F_VN_Pyramid Down ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Downsamples an image to half width and height. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Pyramid Down : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR 1124 Version: 2.4.0 TF7000 - TF7810
## Page 1125

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.41 F_VN_Pyramid Up F_VN_Pyramid Up ip Src Image ITc Vn Image HRESULT F_VN_Pyramid Up ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Upsamples an image to double width and height. Syntax Definition: FUNCTION F_VN_Pyramid Up : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1125
## Page 1126

API reference System Requirements 6.1.4.13.42 F_VN_Remap Image To Log Polar Space F_VN_Remap Image To Log Polar Space ip Src Image ITc Vn Image HRESULT F_VN_Remap Image To Log Polar Space ip Dest Image Reference To ITc Vn Image ↔ a Center Tc Vn Point2_REAL hr Prev HRESULT Remap an image to log-polar space. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Remap Image To Log Polar Space : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; END_VAR VAR_IN_OUT a Center : Tc Vn Point2_REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (Must not be the same as ip Src Image! An ITc Vn Image [} 413] appropriate destination image will be created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Center Tc Vn Point2_REAL [} 163] Center point for the transformation Return value HRESULT [} 144] Required License TC3 Vision Base 1126 Version: 2.4.0 TF7000 - TF7810
## Page 1127

API reference System Requirements 6.1.4.13.43 F_VN_Remap Image To Log Polar Space Exp F_VN_Remap Image To Log Polar Space Exp ip Src Image ITc Vn Image HRESULT F_VN_Remap Image To Log Polar Space Exp ip Dest Image Reference To ITc Vn Image ↔ a Center Tc Vn Point2_REAL f Scale LREAL e Interpolation Type ETc Vn Interpolation Type hr Prev HRESULT Remap an image to log-polar space. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Remap Image To Log Polar Space Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; END_VAR VAR_IN_OUT a Center : Tc Vn Point2_REAL; END_VAR VAR_INPUT f Scale : LREAL; e Interpolation Type : ETc Vn Interpolation Type; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (Must not be the same as ip Src Image! An ITc Vn Image [} 413] appropriate destination image will be created if required.) f Scale LREAL Magnitude scale parameter, i.e. image width / ln(radius) (set to 0 for auto select) e Interpolation T ETc Vn Interpolation Type Interpolation type ype [} 209] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Center Tc Vn Point2_REAL [} 163] Center point for the transformation Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1127
## Page 1128

API reference System Requirements 6.1.4.13.44 F_VN_Remap Image To Log Polar Space Exp2 F_VN_Remap Image To Log Polar Space Exp2 ip Src Image ITc Vn Image HRESULT F_VN_Remap Image To Log Polar Space Exp2 ip Dest Image Reference To ITc Vn Image ↔ a Center Tc Vn Point2_REAL f Scale LREAL e Interpolation Type ETc Vn Interpolation Type n Dest Width DINT n Dest Height DINT hr Prev HRESULT Remap an image to log-polar space. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Remap Image To Log Polar Space Exp2 : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; END_VAR VAR_IN_OUT a Center : Tc Vn Point2_REAL; END_VAR VAR_INPUT f Scale : LREAL; e Interpolation Type : ETc Vn Interpolation Type; n Dest Width : DINT; n Dest Height : DINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (Must not be the same as ip Src Image! An ITc Vn Image [} 413] appropriate destination image will be created if required.) f Scale LREAL Magnitude scale parameter, i.e. image width / ln(radius) (set to 0 for auto select) e Interpolation T ETc Vn Interpolation Type Interpolation type ype [} 209] n Dest Width DINT Destination image width (set to -1 for source image width, 0 to auto scale to transformed radius, > 0 for a user defined width) n Dest Height DINT destination image height (set to -1 for source image height, 0 to auto scale to transformed radius * PI, > 0 for a user defined height) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Center Tc Vn Point2_REAL [} 163] Center point for the transformation 1128 Version: 2.4.0 TF7000 - TF7810
## Page 1129

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.45 F_VN_Remap Image To Polar Space F_VN_Remap Image To Polar Space ip Src Image ITc Vn Image HRESULT F_VN_Remap Image To Polar Space ip Dest Image Reference To ITc Vn Image ↔ a Center Tc Vn Point2_REAL hr Prev HRESULT Remap an image to polar space. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Remap Image To Polar Space : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; END_VAR VAR_IN_OUT a Center : Tc Vn Point2_REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (Must not be the same as ip Src Image! An ITc Vn Image [} 413] appropriate destination image will be created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Center Tc Vn Point2_REAL [} 163] Center point for the transformation Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1129
## Page 1130

API reference System Requirements 6.1.4.13.46 F_VN_Remap Image To Polar Space Exp F_VN_Remap Image To Polar Space Exp ip Src Image ITc Vn Image HRESULT F_VN_Remap Image To Polar Space Exp ip Dest Image Reference To ITc Vn Image ↔ a Center Tc Vn Point2_REAL f Max Radius LREAL e Interpolation Type ETc Vn Interpolation Type hr Prev HRESULT Remap an image to polar space. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Remap Image To Polar Space Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; END_VAR VAR_IN_OUT a Center : Tc Vn Point2_REAL; END_VAR VAR_INPUT f Max Radius : LREAL; e Interpolation Type : ETc Vn Interpolation Type; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (Must not be the same as ip Src Image! An ITc Vn Image [} 413] appropriate destination image will be created if required.) f Max Radius LREAL Maximum radius for the transformation (set to 0 for auto select) e Interpolation T ETc Vn Interpolation Type Interpolation type ype [} 209] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Center Tc Vn Point2_REAL [} 163] Center point for the transformation Return value HRESULT [} 144] Required License TC3 Vision Base 1130 Version: 2.4.0 TF7000 - TF7810
## Page 1131

API reference System Requirements 6.1.4.13.47 F_VN_Remap Image To Polar Space Exp2 F_VN_Remap Image To Polar Space Exp2 ip Src Image ITc Vn Image HRESULT F_VN_Remap Image To Polar Space Exp2 ip Dest Image Reference To ITc Vn Image ↔ a Center Tc Vn Point2_REAL f Max Radius LREAL e Interpolation Type ETc Vn Interpolation Type n Dest Width DINT n Dest Height DINT hr Prev HRESULT Remap an image to polar space. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Remap Image To Polar Space Exp2 : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; END_VAR VAR_IN_OUT a Center : Tc Vn Point2_REAL; END_VAR VAR_INPUT f Max Radius : LREAL; e Interpolation Type : ETc Vn Interpolation Type; n Dest Width : DINT; n Dest Height : DINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (Must not be the same as ip Src Image! An ITc Vn Image [} 413] appropriate destination image will be created if required.) f Max Radius LREAL Maximum radius for the transformation (set to 0 for auto select) e Interpolation T ETc Vn Interpolation Type Interpolation type ype [} 209] n Dest Width DINT Destination image width (set to -1 for source image width, 0 to auto scale to transformed radius, > 0 for a user defined width) n Dest Height DINT destination image height (set to -1 for source image height, 0 to auto scale to transformed radius * PI, > 0 for a user defined height) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Center Tc Vn Point2_REAL [} 163] Center point for the transformation TF7000 - TF7810 Version: 2.4.0 1131
## Page 1132

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.48 F_VN_Resize Image F_VN_Resize Image ip Src Image ITc Vn Image HRESULT F_VN_Resize Image ip Dest Image Reference To ITc Vn Image n Width UDINT n Height UDINT e Interpolation Type ETc Vn Interpolation Type hr Prev HRESULT Resize an image using a specific interpolation type. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Resize Image : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; n Width : UDINT; n Height : UDINT; e Interpolation Type : ETc Vn Interpolation Type; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate image will be created if ITc Vn Image [} 413] required.) n Width UDINT New width n Height UDINT New height e Interpolation T ETc Vn Interpolation Type Interpolation type ype [} 209] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base 1132 Version: 2.4.0 TF7000 - TF7810
## Page 1133

API reference System Requirements 6.1.4.13.49 F_VN_Resize Image Exp F_VN_Resize Image Exp ip Src Image ITc Vn Image HRESULT F_VN_Resize Image Exp ip Dest Image Reference To ITc Vn Image n Width UDINT n Height UDINT e Interpolation Type ETc Vn Interpolation Type e Padding Mode ETc Vn Padding Mode ↔ a Border Value Tc Vn Vector4_LREAL hr Prev HRESULT Resize an image using a specific interpolation type while maintaining its aspect ratio. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Resize Image Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; n Width : UDINT; n Height : UDINT; e Interpolation Type : ETc Vn Interpolation Type; e Padding Mode : ETc Vn Padding Mode; END_VAR VAR_IN_OUT a Border Value : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate image will be created if ITc Vn Image [} 413] required.) n Width UDINT New width n Height UDINT New height e Interpolation T ETc Vn Interpolation Type Interpolation type ype [} 209] e Padding Mode ETc Vn Padding Mode Image padding mode [} 216] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Border Value Tc Vn Vector4_LREAL Border value, if TCVN_PM_LETTERBOX is used [} 165] TF7000 - TF7810 Version: 2.4.0 1133
## Page 1134

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.50 F_VN_Rotate Image F_VN_Rotate Image ip Src Image ITc Vn Image HRESULT F_VN_Rotate Image ip Dest Image Reference To ITc Vn Image e Angle ETc Vn Rotation Angle hr Prev HRESULT Rotate an image by 90, 180, or 270 degrees in clockwise direction. Syntax Definition: FUNCTION F_VN_Rotate Image : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; e Angle : ETc Vn Rotation Angle; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate image will be created if ITc Vn Image [} 413] required.) e Angle ETc Vn Rotation Angle Rotation angle [} 219] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base 1134 Version: 2.4.0 TF7000 - TF7810
## Page 1135

API reference System Requirements 6.1.4.13.51 F_VN_Rotate Image Exp F_VN_Rotate Image Exp ip Src Image ITc Vn Image HRESULT F_VN_Rotate Image Exp ip Dest Image Reference To ITc Vn Image f Angle Deg LREAL b Adjust Dest Size BOOL hr Prev HRESULT Rotate an image by an individual rotation angle in degrees. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Rotate Image Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; f Angle Deg : LREAL; b Adjust Dest Size : BOOL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate image will be created if ITc Vn Image [} 413] required.) f Angle Deg LREAL Rotation angle in degree (positive: counter-clockwise, negative: clockwise) b Adjust Dest Siz BOOL If true, ip Dest Image size is adjusted so that the whole rotated e ip Src Image is contained. Otherwise, ip Dest Image size is set to ip Src Image size. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1135
## Page 1136

API reference System Requirements 6.1.4.13.52 F_VN_Rotate Image Exp2 F_VN_Rotate Image Exp2 ip Src Image ITc Vn Image HRESULT F_VN_Rotate Image Exp2 ip Dest Image Reference To ITc Vn Image f Angle Deg LREAL b Adjust Dest Size BOOL e Interpolation Type ETc Vn Interpolation Type e Border Interpolation ETc Vn Border Interpolation Method ↔ a Border Value Tc Vn Vector4_LREAL hr Prev HRESULT Rotate an image by an individual rotation angle in degrees. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Rotate Image Exp2 : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; f Angle Deg : LREAL; b Adjust Dest Size : BOOL; e Interpolation Type : ETc Vn Interpolation Type; e Border Interpolation : ETc Vn Border Interpolation Method; END_VAR VAR_IN_OUT a Border Value : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate image will be created if ITc Vn Image [} 413] required.) f Angle Deg LREAL Rotation angle in degree (positive: counter-clockwise, negative: clockwise) b Adjust Dest Siz BOOL If true, ip Dest Image size is adjusted so that the whole rotated e ip Src Image is contained. Otherwise, ip Dest Image size is set to ip Src Image size. e Interpolation T ETc Vn Interpolation Type Interpolation method ype [} 209] e Border Interpol Border interpolation method (ISOLATED not supported) ation ETc Vn Border Interpolation Method [} 169] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 1136 Version: 2.4.0 TF7000 - TF7810
## Page 1137

API reference In/Outputs Name Type Description a Border Value Tc Vn Vector4_LREAL Border value, if CONSTANT is used [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.53 F_VN_Warp Affine F_VN_Warp Affine ip Src Image ITc Vn Image HRESULT F_VN_Warp Affine ip Dest Image Reference To ITc Vn Image ↔ a Transformation Matrix Tc Vn Matrix2x3_LREAL hr Prev HRESULT Apply an affine transformation to an image. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Warp Affine : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; END_VAR VAR_IN_OUT a Transformation Matrix : Tc Vn Matrix2x3_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate image will be created if ITc Vn Image [} 413] required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Transformatio Tc Vn Matrix2x3_LREAL Affine transformation matrix n Matrix [} 165] TF7000 - TF7810 Version: 2.4.0 1137
## Page 1138

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.54 F_VN_Warp Affine_Container F_VN_Warp Affine_Container ip Src Points ITc Vn Container HRESULT F_VN_Warp Affine_Container ip Dest Points Reference To ITc Vn Container ↔ a Transformation Matrix Tc Vn Matrix2x3_LREAL hr Prev HRESULT Apply an affine transformation to a container of 2D points. Syntax Definition: FUNCTION F_VN_Warp Affine_Container : HRESULT VAR_INPUT ip Src Points : ITc Vn Container; ip Dest Points : Reference To ITc Vn Container; END_VAR VAR_IN_OUT a Transformation Matrix : Tc Vn Matrix2x3_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Points ITc Vn Container [} 374] Source points (Container Type_Vector_Tc Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL or Container Type_Vector_Tc Vn Point2_LREAL) ip Dest Points Reference To Returns the transformed points (same type ID as ip Src Points; ITc Vn Container [} 374] Non-zero interface pointers are reused.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Transformatio Tc Vn Matrix2x3_LREAL Affine transformation matrix n Matrix [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base 1138 Version: 2.4.0 TF7000 - TF7810
## Page 1139

API reference System Requirements 6.1.4.13.55 F_VN_Warp Affine_Point F_VN_Warp Affine_Point ↔ a Src Point Tc Vn Point2_LREAL HRESULT F_VN_Warp Affine_Point ↔ a Dest Point Tc Vn Point2_LREAL ↔ a Transformation Matrix Tc Vn Matrix2x3_LREAL hr Prev HRESULT Apply an affine transformation to a 2D point. Syntax Definition: FUNCTION F_VN_Warp Affine_Point : HRESULT VAR_IN_OUT a Src Point : Tc Vn Point2_LREAL; a Dest Point : Tc Vn Point2_LREAL; a Transformation Matrix : Tc Vn Matrix2x3_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Src Point Tc Vn Point2_LREAL [} 163] Source point a Dest Point Tc Vn Point2_LREAL [} 163] Destination point a Transformatio Tc Vn Matrix2x3_LREAL Affine transformation matrix n Matrix [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1139
## Page 1140

API reference System Requirements 6.1.4.13.56 F_VN_Warp Affine_Rectangle F_VN_Warp Affine_Rectangle n Top Left X UDINT HRESULT F_VN_Warp Affine_Rectangle n Top Left Y UDINT n Bottom Right X UDINT n Bottom Right Y UDINT ip Dest Points Reference To ITc Vn Container ↔ a Transformation Matrix Tc Vn Matrix2x3_LREAL hr Prev HRESULT Use an affine transform to warp a rectangle. Syntax Definition: FUNCTION F_VN_Warp Affine_Rectangle : HRESULT VAR_INPUT n Top Left X : UDINT; n Top Left Y : UDINT; n Bottom Right X : UDINT; n Bottom Right Y : UDINT; ip Dest Points : Reference To ITc Vn Container; END_VAR VAR_IN_OUT a Transformation Matrix : Tc Vn Matrix2x3_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description n Top Left X UDINT x coordinate of the top left corner n Top Left Y UDINT y coordinate of the top left corner n Bottom Right X UDINT x coordinate of the bottom right corner n Bottom Right Y UDINT y coordinate of the bottom right corner ip Dest Points Reference To Returns the 4 transformed points ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Point2_REAL) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Transformatio Tc Vn Matrix2x3_LREAL Affine transformation matrix n Matrix [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base 1140 Version: 2.4.0 TF7000 - TF7810
## Page 1141

API reference System Requirements 6.1.4.13.57 F_VN_Warp Affine Exp F_VN_Warp Affine Exp ip Src Image ITc Vn Image HRESULT F_VN_Warp Affine Exp ip Dest Image Reference To ITc Vn Image ↔ a Transformation Matrix Tc Vn Matrix2x3_LREAL n Dest Width UDINT n Dest Height UDINT e Interpolation Type ETc Vn Interpolation Type b Warp Inverse BOOL e Border Interpolation ETc Vn Border Interpolation Method f Border Value LREAL hr Prev HRESULT Apply an affine transformation to an image. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Warp Affine Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; END_VAR VAR_IN_OUT a Transformation Matrix : Tc Vn Matrix2x3_LREAL; END_VAR VAR_INPUT n Dest Width : UDINT; n Dest Height : UDINT; e Interpolation Type : ETc Vn Interpolation Type; b Warp Inverse : BOOL; e Border Interpolation : ETc Vn Border Interpolation Method; f Border Value : LREAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate image will be created if ITc Vn Image [} 413] required.) n Dest Width UDINT Width of the destination image n Dest Height UDINT Height of the destination image e Interpolation T ETc Vn Interpolation Type Interpolation method ype [} 209] b Warp Inverse BOOL Handle a Transformation Matrix as the inverse transformation e Border Interpol Border interpolation method (ISOLATED not supported) ation ETc Vn Border Interpolation Method [} 169] f Border Value LREAL Border value, if CONSTANT is used hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 1141
## Page 1142

API reference In/Outputs Name Type Description a Transformatio Tc Vn Matrix2x3_LREAL Affine transformation matrix n Matrix [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.58 F_VN_Warp Perspective F_VN_Warp Perspective ip Src Image ITc Vn Image HRESULT F_VN_Warp Perspective ip Dest Image Reference To ITc Vn Image ↔ a Transformation Matrix Tc Vn Matrix3x3_LREAL hr Prev HRESULT Apply a perspective transformation to an image. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Warp Perspective : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; END_VAR VAR_IN_OUT a Transformation Matrix : Tc Vn Matrix3x3_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate image will be created if ITc Vn Image [} 413] required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Transformatio Tc Vn Matrix3x3_LREAL Perspective transformation matrix n Matrix [} 165] 1142 Version: 2.4.0 TF7000 - TF7810
## Page 1143

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.59 F_VN_Warp Perspective_Container F_VN_Warp Perspective_Container ip Src Points ITc Vn Container HRESULT F_VN_Warp Perspective_Container ip Dest Points Reference To ITc Vn Container ↔ a Transformation Matrix Tc Vn Matrix3x3_LREAL hr Prev HRESULT Apply a perspective transformation to a container of 2D points. Syntax Definition: FUNCTION F_VN_Warp Perspective_Container : HRESULT VAR_INPUT ip Src Points : ITc Vn Container; ip Dest Points : Reference To ITc Vn Container; END_VAR VAR_IN_OUT a Transformation Matrix : Tc Vn Matrix3x3_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Points ITc Vn Container [} 374] Source points (Container Type_Vector_Tc Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL or Container Type_Vector_Tc Vn Point2_LREAL) ip Dest Points Reference To Returns the transformed points (same type ID as ip Src Points; ITc Vn Container [} 374] Non-zero interface pointers are reused.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Transformatio Tc Vn Matrix3x3_LREAL Perspective transformation matrix n Matrix [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1143
## Page 1144

API reference System Requirements 6.1.4.13.60 F_VN_Warp Perspective_Point F_VN_Warp Perspective_Point ↔ a Src Point Tc Vn Point2_LREAL HRESULT F_VN_Warp Perspective_Point ↔ a Dest Point Tc Vn Point2_LREAL ↔ a Transformation Matrix Tc Vn Matrix3x3_LREAL hr Prev HRESULT Apply a perspective transformation to a 2D point. Syntax Definition: FUNCTION F_VN_Warp Perspective_Point : HRESULT VAR_IN_OUT a Src Point : Tc Vn Point2_LREAL; a Dest Point : Tc Vn Point2_LREAL; a Transformation Matrix : Tc Vn Matrix3x3_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Src Point Tc Vn Point2_LREAL [} 163] Source point a Dest Point Tc Vn Point2_LREAL [} 163] Destination point a Transformatio Tc Vn Matrix3x3_LREAL Perspective transformation matrix n Matrix [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.13.61 F_VN_Warp Perspective_Rectangle F_VN_Warp Perspective_Rectangle n Top Left X UDINT HRESULT F_VN_Warp Perspective_Rectangle n Top Left Y UDINT n Bottom Right X UDINT n Bottom Right Y UDINT ip Dest Points Reference To ITc Vn Container ↔ a Transformation Matrix Tc Vn Matrix3x3_LREAL hr Prev HRESULT 1144 Version: 2.4.0 TF7000 - TF7810
## Page 1145

API reference Use a perspective transform to warp a rectangle. Syntax Definition: FUNCTION F_VN_Warp Perspective_Rectangle : HRESULT VAR_INPUT n Top Left X : UDINT; n Top Left Y : UDINT; n Bottom Right X : UDINT; n Bottom Right Y : UDINT; ip Dest Points : Reference To ITc Vn Container; END_VAR VAR_IN_OUT a Transformation Matrix : Tc Vn Matrix3x3_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description n Top Left X UDINT x coordinate of the top left corner n Top Left Y UDINT y coordinate of the top left corner n Bottom Right X UDINT x coordinate of the bottom right corner n Bottom Right Y UDINT y coordinate of the bottom right corner ip Dest Points Reference To Returns the 4 transformed points ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Point2_REAL) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Transformatio Tc Vn Matrix3x3_LREAL Perspective transformation matrix n Matrix [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1145
## Page 1146

API reference System Requirements 6.1.4.13.62 F_VN_Warp Perspective Exp F_VN_Warp Perspective Exp ip Src Image ITc Vn Image HRESULT F_VN_Warp Perspective Exp ip Dest Image Reference To ITc Vn Image ↔ a Transformation Matrix Tc Vn Matrix3x3_LREAL n Dest Width UDINT n Dest Height UDINT e Interpolation Type ETc Vn Interpolation Type b Warp Inverse BOOL e Border Interpolation ETc Vn Border Interpolation Method f Border Value LREAL hr Prev HRESULT Apply a perspective transformation to an image. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Warp Perspective Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; END_VAR VAR_IN_OUT a Transformation Matrix : Tc Vn Matrix3x3_LREAL; END_VAR VAR_INPUT n Dest Width : UDINT; n Dest Height : UDINT; e Interpolation Type : ETc Vn Interpolation Type; b Warp Inverse : BOOL; e Border Interpolation : ETc Vn Border Interpolation Method; f Border Value : LREAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate image will be created if ITc Vn Image [} 413] required.) n Dest Width UDINT Width of the destination image n Dest Height UDINT Height of the destination image e Interpolation T ETc Vn Interpolation Type Interpolation method ype [} 209] b Warp Inverse BOOL Handle a Transformation Matrix as the inverse transformation e Border Interpol Border interpolation method (ISOLATED not supported) ation ETc Vn Border Interpolation Method [} 169] f Border Value LREAL Border value, if CONSTANT is used hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 1146 Version: 2.4.0 TF7000 - TF7810
## Page 1147

API reference In/Outputs Name Type Description a Transformatio Tc Vn Matrix3x3_LREAL Perspective transformation matrix n Matrix [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.14 Image Analysis This group contains functions for extracting information from images. Functions Object detection [} 1148] • Contour search • Object finding by Hough transformation • Matching by image comparison Statistical image features • F_VN_Image Average(Exp) [} 1187] • F_VN_Image Average Std Dev(Exp) [} 1189] • F_VN_Image Absolute Average [} 1201] • F_VN_Image Median(Exp) [} 1193] • F_VN_Max Pixel Value(Exp) [} 1195] • F_VN_Min Pixel Value(Exp) [} 1197] Edge detection • F_VN_Canny Edge Detection(Exp) [} 1173] Finding contiguous image regions • F_VN_Connected Components(Exp) [} 1177] • F_VN_Connected Components With Stats (Exp) [} 1180] • F_VN_Get Connected Component(Exp) [} 1185] Alignment of a region • F_VN_Region Orientation(Exp) [} 1199] • F_VN_Upright Inner Rectangle(Exp) [} 1202] Miscellaneous • F_VN_Count Non Zero Pixels [} 1181] • F_VN_Distance Transformation(Exp) [} 1182] TF7000 - TF7810 Version: 2.4.0 1147
## Page 1148

API reference • F_VN_Image Center Of Mass(Exp) [} 1191] • F_VN_Image Moments [} 1194] Samples Image analysis [} 2759] 6.1.4.14.1 Object Detection This subgroup contains functions for object recognition. Functions Object detection • F_VN_Detect Blobs(Exp) [} 1149] • F_VN_Find Contours(Exp) [} 1160] • F_VN_Find Contour Hierarchy Exp [} 1154] • F_VN_Hough Circles(Exp) [} 1163] • F_VN_Hough Lines(Exp) [} 1165] • F_VN_Hough Lines P(Exp) [} 1167] Matching • F_VN_Match Image Hu Moments [} 1168] • F_VN_Match Template(Exp) [} 1172] • F_VN_Match Template And Evaluate(Exp) [} 1171] Miscellaneous • F_VN_Adjust Active Contour [} 1148] Samples Object Detection [} 2759] 6.1.4.14.1.1 F_VN_Adjust Active Contour F_VN_Adjust Active Contour ip Image ITc Vn Image HRESULT F_VN_Adjust Active Contour ip Active Contour ITc Vn Container f Alpha REAL f Beta REAL f Gamma REAL n Window Width UDINT n Window Height UDINT n Max Iterations UDINT b Use Gradient BOOL hr Prev HRESULT Adjust active contour (snake) in order to minimize its cummulative (internal and external) energy. Syntax Definition: 1148 Version: 2.4.0 TF7000 - TF7810
## Page 1149

API reference FUNCTION F_VN_Adjust Active Contour : HRESULT VAR_INPUT ip Image : ITc Vn Image; ip Active Contour : ITc Vn Container; f Alpha : REAL; f Beta : REAL; f Gamma : REAL; n Window Width : UDINT; n Window Height : UDINT; n Max Iterations : UDINT; b Use Gradient : BOOL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Image ITc Vn Image [} 413] Source image (1 channel, USINT elements) ip Active Contou ITc Vn Container [} 374] Initial contour, which will be adjusted r f Alpha REAL Continuity energy coefficient f Beta REAL Curvature energy coefficient f Gamma REAL Image energy coefficient n Window Width UDINT Window width (3, 5, 7, ...) n Window Heigh UDINT Window height (3, 5, 7, ...) t n Max Iterations UDINT Maximum iterations b Use Gradient BOOL If true, the gradient magnitude is used as image energy (otherwise: pixel intensity) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.14.1.2 F_VN_Detect Blobs F_VN_Detect Blobs ip Src Image ITc Vn Image HRESULT F_VN_Detect Blobs ip Blob Contours Reference To ITc Vn Container ↔ st Params Tc Vn Params Blob Detection hr Prev HRESULT Detects blob-contours. Applies a threshold, a contour search and offers several options for filtering the found contours. Provides easy setup for multiple thresholds and combination of results. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 1149
## Page 1150

API reference FUNCTION F_VN_Detect Blobs : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Blob Contours : Reference To ITc Vn Container; END_VAR VAR_IN_OUT st Params : Tc Vn Params Blob Detection; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT or REAL, 1 channel or 3 channel (3 channel input is expected to be RGB and internally converted to Gray)) ip Blob Contours Reference To Returns a container which is filled with the found contours ITc Vn Container [} 374] (Container Type_Vector_Vector_Tc Vn Point2_DINT; The elements of this container are single contours. Non-zero interface pointers are reused.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Params Tc Vn Params Blob Detection Parameters to filter the detected contours. [} 240] Return value HRESULT [} 144] Further information The function F_VN_Detect Blobs detects blob contours on the basis of definable features in the input image. Internally, this takes place through contour finding analogous to F_VN_Find Contours [} 1158] and subsequent filtering of the contours found on the basis of contour features. Parameter Input image The input image ip Src Image must be a 1-channel or 3-channel image of the type USINT or REAL. 3- channel images are interpreted as RGB and converted internally into grayscale images. List of contours found (Return value) All contours found in the input image are returned in the container ip Blob Contours. Parameters for blob detection The parameters st Params of the structure Tc Vn Params Blob Detection [} 240] define which features a contour in the input image must have in order to be found and returned. Expert parameters The expert version F_VN_Detect Blobs Exp [} 1152] contains additional parameters. 1150 Version: 2.4.0 TF7000 - TF7810
## Page 1151

API reference Blobs parameters Threshold value In the first step, a contour search is carried out internally using one or more binary images. For this purpose, the input image is converted into binary images using one or more threshold values and the threshold value type. Setting a single threshold value corresponds to calling F_VN_Threshold [} 1298]. To do this, f Threshold Step must be set to 0. Only the value of f Min Threshold is used. Alternatively, several threshold values can be taken into account. The first threshold value is f Min Threshold. Starting from this value, f Threshold Step is added for the next threshold value until the threshold value is greater than f Max Threshold. If, for example, the three threshold values 100, 150 and 200 are to be taken into account, the parameterization is as follows: st Blob Params.f Min Threshold := 100; st Blob Params.f Max Threshold := 200; st Blob Params.f Threshold Step := 50; Same contours with different threshold values It may happen that the same contour is found at different threshold values. Identical contours are identified by means of a center point comparison. In this case f Min Blob Distance specifies the minimum center distance of different contours. If the distance is not reached, the contour is selected according to e Blob Combination (ETc Vn Blob Combination [} 168]). In addition, multiple finding of a contour at different threshold values can be a filter criterion. How often a contour has to be found in order to be considered is specified via n Min Repeatability. Filter In the second step, the contours found are filtered according to the defined parameters. The individual filter criteria can be activated via a Boolean variable. Area in pixels • Parameter: b Filter By Area, f Min Area, f Max Area • Alternatively, the area of a contour can be determined via F_VN_Contour Area [} 944]. Circularity • Parameter: b Filter By Circularity, f Min Cicularity, f Max Circularity • Value range from 0 to 1; a perfect circle has a circularity of 1. • Alternatively, the circularity of a contour can be determined via F_VN_Contour Circularity [} 946]. Convexity • Parameter: b Filter By Convexity, f Min Convexity, f Max Convexity • The value range is from 0 to 1. A perfectly convex shape has a convexity of 1. Eccentricity • Parameter: b Filter By Eccentricity, f Min Eccentricity, f Max Eccentricity • Value range from 0 to 1; a perfect circle has an eccentricity of 0. • Alternatively, the eccentricity of a contour can be determined via F_VN_Contour Eccentricity [} 948]. Inertia ratio • Parameter: b Filter By Inertia Ratio, f Min Inertia Ratio, f Max Inertia Ratio • Value range from 0 to 1; shapes with the same height and width have an inertia ratio of 1. TF7000 - TF7810 Version: 2.4.0 1151
## Page 1152

API reference Application VAR st Blob Params : Tc Vn Params Blob Detection; END_VAR st Blob Params.b Filter By Area := TRUE; st Blob Params.f Min Area := 100; st Blob Params.f Max Area := 100_000; hr := F_VN_Detect Blobs( ip Src Image := ip Image In, ip Blob Contours := ip Contours, st Params := st Blobs Params, hr Prev := hr ); Sample • Blob Detection with watchdog monitoring [} 2759] Related functions • F_VN_Find Contours(Exp) [} 1158] for general contour finding • F_VN_Find Contour Hierarchy Exp [} 1154] with return of the hierarchy • F_VN_Detect Blobs [} 1149] with integrated filtering of the contours Required License TC3 Vision Base System Requirements 6.1.4.14.1.3 F_VN_Detect Blobs Exp F_VN_Detect Blobs Exp ip Src Image ITc Vn Image HRESULT F_VN_Detect Blobs Exp ip Blob Contours Reference To ITc Vn Container ↔ st Params Tc Vn Params Blob Detection ↔ a Offset Tc Vn Point hr Prev HRESULT Detects blob-contours. Applies a threshold, a contour search and offers several options for filtering the found contours. Provides easy setup for multiple thresholds and combination of results. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Detect Blobs Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Blob Contours : Reference To ITc Vn Container; END_VAR VAR_IN_OUT st Params : Tc Vn Params Blob Detection; a Offset : Tc Vn Point; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR 1152 Version: 2.4.0 TF7000 - TF7810
## Page 1153

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT or REAL, 1 channel or 3 channel (3 channel input is expected to be RGB and internally converted to Gray)) ip Blob Contours Reference To Returns a container which is filled with the found contours ITc Vn Container [} 374] (Container Type_Vector_Vector_Tc Vn Point2_DINT; The elements of this container are single contours. Non-zero interface pointers are reused.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Params Tc Vn Params Blob Detection Parameters to filter the detected contours. [} 240] a Offset Tc Vn Point [} 163] Offset by which every contour point is shifted Return value HRESULT [} 144] Further information The function F_VN_Detect Blobs Exp is the expert version of F_VN_Detect Blobs [} 1149]. It contains additional parameters. Parameter Input image The input image ip Src Image must be a 1-channel or 3-channel image of the type USINT or REAL. 3- channel images are interpreted as RGB and converted internally into grayscale images. List of contours found (Return value) All contours found in the input image are returned in the container ip Blob Contours. Parameters for blob detection The parameters st Params of the structure Tc Vn Params Blob Detection [} 240] define which features a contour in the input image must have in order to be found and returned. Offset (Expert) The offset a Offset defines constant X/Y values by which all contour points are shifted. This can be helpful when contours are sought in an ROI and their positions should be referenced to the original image. Related functions • F_VN_Find Contours(Exp) [} 1158] for general contour finding • F_VN_Find Contour Hierarchy Exp [} 1154] with return of the hierarchy • F_VN_Detect Blobs [} 1149] with integrated filtering of the contours TF7000 - TF7810 Version: 2.4.0 1153
## Page 1154

API reference Required License TC3 Vision Base System Requirements 6.1.4.14.1.4 F_VN_Find Contour Hierarchy Exp F_VN_Find Contour Hierarchy Exp ip Src Image ITc Vn Image HRESULT F_VN_Find Contour Hierarchy Exp ip Contours Reference To ITc Vn Container ip Hierarchy Reference To ITc Vn Container e Retrieval Mode ETc Vn Contour Retrieval Mode e Approximation Method ETc Vn Contour Approximation Method ↔ a Offset Tc Vn Point hr Prev HRESULT Search for object contours in a binary image and determine their hierarchical relationship. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Find Contour Hierarchy Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Contours : Reference To ITc Vn Container; ip Hierarchy : Reference To ITc Vn Container; e Retrieval Mode : ETc Vn Contour Retrieval Mode; e Approximation Method : ETc Vn Contour Approximation Method; END_VAR VAR_IN_OUT a Offset : Tc Vn Point; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 channel, binary) ip Contours Reference To Returns a container which is filled with the found contours ITc Vn Container [} 374] (Container Type_Vector_Vector_Tc Vn Point2_DINT; The elements of this container are single contours. Non-zero interface pointers are reused.) ip Hierarchy Reference To Returns a container which is filled with information on the found ITc Vn Container [} 374] contours' hierarchy (Container Type_Vector_Tc Vn Vector4_DINT; The elements of this container are four-dimensional vectors containing the 0-based indices of the next [0] and the previous contour [1] at the same level, the first child [2], and the parent [3]. Non-zero interface pointers are reused.) e Retrieval Mod Specifies which contours are retrieved and how their relationship e ETc Vn Contour Retrieval Mo is encoded de [} 194] e Approximatio Contour encoding n Method ETc Vn Contour Approximati on Method [} 192] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 1154 Version: 2.4.0 TF7000 - TF7810
## Page 1155

API reference In/Outputs Name Type Description a Offset Tc Vn Point [} 163] Offset by which every contour point is shifted Return value HRESULT [} 144] Further information The function F_VN_Find Contour Hierarchy Exp is an extension of the function F_VN_Find Contours Exp [} 1160] by the return of the contour hierarchy. Parameter Input image The input image ip Src Image must have precisely 1 channel and should be a binary image. If the input is not a binary image, it will be converted internally to one by means of a threshold value of 1. Therefore, the input image should be manually pre-processed with a threshold value or a binary segmentation. List of contours found (Return value) All contours found in the input image are returned in the container ip Contours. The container is a two- dimensional array of points and therefore has the type Container Type_Vector_Vector_Tc Vn Point2_DINT. The contours that are found are returned in ip Contours. Each contour consists of a sum of points which are combined into a container [} 155]. Another higher-level container then consolidates all contours. Hierarchy (Expert, return value) The parameter ip Hierarchy returns the hierarchy of the contours found in a container [} 155] of the type Tc Vn Vector4_DINT. The vectors of the container have the following elements: [0] – NEXT - Index of the next contour on the same level [1] – PREVIOUS - Index of the previous contour on the same level [2] – CHILD - Index of the first child contour [3] – PARENT - Index of parent contour Search mode (Expert) The search mode e Retrieval Mode of the type ETc Vn Contour Retrieval Mode [} 194] defines which contours are to be sought: • TCVN_CRM_LIST: All contours • TCVN_CRM_EXTERNAL: Only outer contours (as with F_VN_Find Contours [} 1158]) • TCVN_CRM_CONNECTED_COMPONENTS: Contours with a two-layer hierarchy • TCVN_CRM_TREE: All contours; used in interaction with the function F_VN_Find Contour Hierarchy Exp [} 1154] in order to determine the hierarchy of the contours • TCVN_CRM_FLOODFILL: Returns the contours found with the help of a floodfill algorithm (available only for DINT images) TF7000 - TF7810 Version: 2.4.0 1155
## Page 1156

API reference Approximation method (Expert) The approximation method e Approximation Method of the type ETc Vn Contour Approximation Method [} 192] specifies whether the contours are to be described on the basis of all surrounding points (TCVN_CAM_NONE) or whether the number of describing points are to be reduced with the help of approximation. Offset (Expert) The offset a Offset defines constant X/Y values by which all contour points are shifted. This can be helpful when contours are sought in an ROI and their positions should be referenced to the original image. Examples of contour hierarchies Via e Retrieval Mode, not only is it possible to specify whether all contours or just the outer contours are to be found, but also how contours are to be sorted and how they are hierarchically related to one another. This can be read from the parameter ip Hierarchy: • TCVN_CRM_EXTERNAL Only the outer contours are returned as a sorted list. The Child [2] and Parent [3] relationships are not determined and are invalid with -1. • TCVN_CRM_LIST All contours are returned as a sorted list. The Child [2] and Parent [3] relationships are not determined and are invalid with -1. • TCVN_CRM_CONNECTED_COMPONENTS All contours are sorted according to a 2-step hierarchy. The outer contours are considered first, then in the second step the contour lying directly within them. If there are further contours within the second step, they are set to the first step like outer contours 1156 Version: 2.4.0 TF7000 - TF7810
## Page 1157

API reference In this sample, this means that the inner Child [2] contours (green in the image) cannot be Parent [3] contours (red in the image) at the same time. Therefore, contours that would lie in a tree structure at Level 3 are regarded again as outer contours and set to Level 1 (Parent [3] = -1), in this case contours 1 and 2. • TCVN_CRM_TREE All contours are set according to a tree structure. It is possible for contours to be both Child [2] and Parent [3] contours, depending on how they are nested within one another. Samples • Find Contour - Hierarchy & Retrieval Mode [} 2770], for the parameter ETc Vn Contour Retrieval Mode [} 194] • Find Contour - Approximation Method [} 2767], for parameter ETc Vn Contour Approximation Method [} 192] • Find contour instead of Blob Detection [} 2765], for comparison with function F_VN_Detect Blobs [} 1149] Related functions • F_VN_Find Contours(Exp) [} 1158] for general contour finding • F_VN_Find Contour Hierarchy Exp [} 1154] with return of the hierarchy • F_VN_Detect Blobs [} 1149] with integrated filtering of the contours Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1157
## Page 1158

API reference System Requirements 6.1.4.14.1.5 F_VN_Find Contours F_VN_Find Contours ip Src Image ITc Vn Image HRESULT F_VN_Find Contours ip Contours Reference To ITc Vn Container hr Prev HRESULT Search for object contours in a binary image. Returns only external contours. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Find Contours : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Contours : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 channel, binary) ip Contours Reference To Returns a container which is filled with the found contours ITc Vn Container [} 374] (Container Type_Vector_Vector_Tc Vn Point2_DINT; The elements of this container are single contours. Non-zero interface pointers are reused.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Find Contours detects outer contours in the input image. Parameter Input image The input image ip Src Image must have precisely 1 channel and should be a binary image. If the input is not a binary image, it will be converted internally to one by means of a threshold value of 1. Therefore, the input image should be manually pre-processed with a threshold value or a binary segmentation. List of contours found (Return value) All contours found in the input image are returned in the container ip Contours. The container is a two- dimensional array of points and therefore has the type Container Type_Vector_Vector_Tc Vn Point2_DINT. 1158 Version: 2.4.0 TF7000 - TF7810
## Page 1159

API reference The contours that are found are returned in ip Contours. Each contour consists of a sum of points which are combined into a container [} 155]. Another higher-level container then consolidates all contours. Expert parameters The expert version F_VN_Find Contours Exp [} 1160] contains additional parameters. This enables inner contours to be found too, for example. Application The finding and processing of contours looks like this, for example: Pre-processing As a binary image is to be used for the input image ip Src Image, a threshold value or binary segmentation should be applied to the image prior to the function call, e.g. using the function F_VN_Threshold [} 1298]: hr := F_VN_Threshold(ip Image In, ip Image Work, 128, 255, TCVN_TT_BINARY, hr); Function call Nothing further needs to be observed with regard to the function call. Parameter settings are only necessary with the expert version F_VN_Find Contours Exp [} 1160]. hr := F_VN_Find Contours( ip Src Image := ip Image In, ip Contours := ip Contours, hr Prev := hr ); Further processing F_VN_Get Forward Iterator [} 750] can be used to apply an iterator to the higher-level container, which makes it possible to retrieve the containers of the individual contours one after the other via F_VN_Get Container [} 748] in order to analyze them with the Contour Analysis functions, for example. Remember to increment the iterator with F_VN_Increment Iterator [} 752]. hr := F_VN_Get Forward Iterator(ip Contours, ip Iterator, hr); WHILE SUCCEEDED(hr) AND_THEN ip Iterator. Check If End() <> S_OK DO hr := F_VN_Get Container( ip Iterator, ip Contour, hr); hr := F_VN_Increment Iterator(ip Iterator, hr); // Analyse the single contour in ip Contours with the contour analysis functions END_WHILE Alternatively you can also retrieve a single contour from the container of all contours with F_VN_Get At_ITc Vn Container [} 639]. The number of contours found can be queried with F_VN_Get Number Of Elements [} 750]. Visualization Use the function F_VN_Draw Contours(Exp) [} 991] to draw the contours found. hr := F_VN_Draw Contours( ip Contours := ip Contours, n Contour Index := -1, ip Dest Image := ip Image Res, a Color := a Color Red, n Thickness := 5, hr Prev := hr ); All contours in the contour list ip Contours are drawn by setting n Contours Index to -1. Samples • Find contour instead of Blob Detection [} 2765] TF7000 - TF7810 Version: 2.4.0 1159
## Page 1160

API reference Related functions • F_VN_Find Contours(Exp) [} 1158] for general contour finding • F_VN_Find Contour Hierarchy Exp [} 1154] with return of the hierarchy • F_VN_Detect Blobs [} 1149] with integrated filtering of the contours Required License TC3 Vision Base System Requirements 6.1.4.14.1.6 F_VN_Find Contours Exp F_VN_Find Contours Exp ip Src Image ITc Vn Image HRESULT F_VN_Find Contours Exp ip Contours Reference To ITc Vn Container e Retrieval Mode ETc Vn Contour Retrieval Mode e Approximation Method ETc Vn Contour Approximation Method ↔ a Offset Tc Vn Point hr Prev HRESULT Search for object contours in a binary image. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Find Contours Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Contours : Reference To ITc Vn Container; e Retrieval Mode : ETc Vn Contour Retrieval Mode; e Approximation Method : ETc Vn Contour Approximation Method; END_VAR VAR_IN_OUT a Offset : Tc Vn Point; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 channel, binary) ip Contours Reference To Returns a container which is filled with the found contours ITc Vn Container [} 374] (Container Type_Vector_Vector_Tc Vn Point2_DINT; The elements of this container are single contours. Non-zero interface pointers are reused.) e Retrieval Mod Specifies which contours are retrieved and how their relationship e ETc Vn Contour Retrieval Mo is encoded de [} 194] e Approximatio Contour encoding n Method ETc Vn Contour Approximati on Method [} 192] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 1160 Version: 2.4.0 TF7000 - TF7810
## Page 1161

API reference In/Outputs Name Type Description a Offset Tc Vn Point [} 163] Offset by which every contour point is shifted Return value HRESULT [} 144] Further information The function F_VN_Find Contours Exp is the expert version of F_VN_Find Contours [} 1158]. It contains additional parameters. Parameter Input image The input image ip Src Image must have precisely 1 channel and should be a binary image. If the input is not a binary image, it will be converted internally to one by means of a threshold value of 1. Therefore, the input image should be manually pre-processed with a threshold value or a binary segmentation. List of contours found (Return value) All contours found in the input image are returned in the container ip Contours. The container is a two- dimensional array of points and therefore has the type Container Type_Vector_Vector_Tc Vn Point2_DINT. The contours that are found are returned in ip Contours. Each contour consists of a sum of points which are combined into a container [} 155]. Another higher-level container then consolidates all contours. Search mode (Expert) The search mode e Retrieval Mode of the type ETc Vn Contour Retrieval Mode [} 194] defines which contours are to be sought: • TCVN_CRM_LIST: All contours • TCVN_CRM_EXTERNAL: Only outer contours (as with F_VN_Find Contours [} 1158]) • TCVN_CRM_CONNECTED_COMPONENTS: Contours with a two-layer hierarchy • TCVN_CRM_TREE: All contours; used in interaction with the function F_VN_Find Contour Hierarchy Exp [} 1154] in order to determine the hierarchy of the contours • TCVN_CRM_FLOODFILL: Returns the contours found with the help of a floodfill algorithm (available only for DINT images) Approximation method (Expert) The approximation method e Approximation Method of the type ETc Vn Contour Approximation Method [} 192] specifies whether the contours are to be described on the basis of all surrounding points (TCVN_CAM_NONE) or whether the number of describing points are to be reduced with the help of approximation. Offset (Expert) The offset a Offset defines constant X/Y values by which all contour points are shifted. This can be helpful when contours are sought in an ROI and their positions should be referenced to the original image. TF7000 - TF7810 Version: 2.4.0 1161
## Page 1162

API reference Application The finding of all contours in the input image, where the contour points are not approximated, but shifted by 100 px in the x direction and by -50 px in the y direction, looks like this, for example: VAR a Offset : Tc Vn Point := [100, -50]; END_VAR hr := F_VN_Find Contours( ip Src Image := ip Image In, ip Contours := ip Contours, e Retrieval Mode := TCVN_CRM_LIST, e Approximation Method := TCVN_CAM_NONE, a Offset := a Offset, hr Prev := hr ); Samples • Find Contour - Hierarchy & Retrieval Mode [} 2770], for the parameter ETc Vn Contour Retrieval Mode [} 194] • Find Contour - Approximation Method [} 2767], for parameter ETc Vn Contour Approximation Method [} 192] • Find contour instead of Blob Detection [} 2765], for comparison with function F_VN_Detect Blobs [} 1149] Related functions • F_VN_Find Contours(Exp) [} 1158] for general contour finding • F_VN_Find Contour Hierarchy Exp [} 1154] with return of the hierarchy • F_VN_Detect Blobs [} 1149] with integrated filtering of the contours Required License TC3 Vision Base System Requirements 6.1.4.14.1.7 F_VN_Hough Circles F_VN_Hough Circles ip Src Image ITc Vn Image HRESULT F_VN_Hough Circles ip Circles Reference To ITc Vn Container f Inv Accu Ratio LREAL f Min Dist LREAL hr Prev HRESULT Search for circles using the Hough transform. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Hough Circles : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Circles : Reference To ITc Vn Container; f Inv Accu Ratio : LREAL; f Min Dist : LREAL; hr Prev : HRESULT; END_VAR 1162 Version: 2.4.0 TF7000 - TF7810
## Page 1163

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT, 1 channel, gray-level) ip Circles Reference To Returns a container which is filled with the found circles ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Vector3_REAL; Each container element contains the x coordinate of the circle center [0], the y coordinate of the circle center [1], and the radius [2], respectively. Non-zero interface pointers are reused.) f Inv Accu Ratio LREAL Inverted ratio of the accumulator size in relation to the source image's size (must be > 0. A value of 2 means that the size is halved in both directions.) f Min Dist LREAL Smallest allowed distance of two circles (must be > 0) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.14.1.8 F_VN_Hough Circles Exp F_VN_Hough Circles Exp ip Src Image ITc Vn Image HRESULT F_VN_Hough Circles Exp ip Circles Reference To ITc Vn Container f Inv Accu Ratio LREAL f Min Dist LREAL e Hough Method ETc Vn Hough Method f Param1 LREAL f Param2 LREAL n Min Radius UDINT n Max Radius UDINT hr Prev HRESULT Search for circles using the Hough transform. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Hough Circles Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Circles : Reference To ITc Vn Container; f Inv Accu Ratio : LREAL; f Min Dist : LREAL; e Hough Method : ETc Vn Hough Method; f Param1 : LREAL; f Param2 : LREAL; n Min Radius : UDINT; n Max Radius : UDINT; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1163
## Page 1164

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT, 1 channel, gray-level) ip Circles Reference To Returns a container which is filled with the found circles ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Vector3_REAL; Each container element contains the x coordinate of the circle center [0], the y coordinate of the circle center [1], and the radius [2], respectively. Non-zero interface pointers are reused.) f Inv Accu Ratio LREAL Inverted ratio of the accumulator size in relation to the source image's size (must be > 0. A value of 2 means that the size is halved in both directions.) f Min Dist LREAL Smallest allowed distance of two circles (must be > 0) e Hough Method ETc Vn Hough Method Hough method to use (GRADIENT or GRADIENT_ALT) [} 208] f Param1 LREAL First method specific parameter (GRADIENT, GRADIENT_ALT: upper threshold for canny edge detection, which must be > 0) f Param2 LREAL Second method specific parameter (GRADIENT: accumulator threshold for detecting circle centers, which must be > 0. GRADIENT_ALT: required circle perfectness, which must be > 0 and < 1, 1 would be a perfect circle) n Min Radius UDINT Minimum circle radius allowed n Max Radius UDINT Maximum circle radius allowed (if 0, the value is internally set to max(image rows, image columns)) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.14.1.9 F_VN_Hough Lines F_VN_Hough Lines ip Src Image ITc Vn Image HRESULT F_VN_Hough Lines ip Lines Reference To ITc Vn Container f Dist Res LREAL f Angle Res LREAL n Accu Threshold UDINT hr Prev HRESULT Search for lines using the standard Hough transform. Syntax Definition: FUNCTION F_VN_Hough Lines : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Lines : Reference To ITc Vn Container; f Dist Res : LREAL; 1164 Version: 2.4.0 TF7000 - TF7810
## Page 1165

API reference f Angle Res : LREAL; n Accu Threshold : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT, 1 channel, binary, may be modified by the function) ip Lines Reference To Returns a container which is filled with the found lines ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Vector2_REAL; Each container element contains the distance from the origin [0] in pixels and the rotation angle [1] in radians, respectively. Non-zero interface pointers are reused.) f Dist Res LREAL Distance resolution of the accumulator (in pixels, must be > 0) f Angle Res LREAL Angle resolution of the accumulator (in radians, must be > 0) n Accu Threshol UDINT Accumulator threshold d hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.14.1.10 F_VN_Hough Lines Exp F_VN_Hough Lines Exp ip Src Image ITc Vn Image HRESULT F_VN_Hough Lines Exp ip Lines Reference To ITc Vn Container f Dist Res LREAL f Angle Res LREAL n Accu Threshold UDINT f Dist Res Div LREAL f Angle Res Div LREAL hr Prev HRESULT Search for lines using the standard Hough transform. (expert function) Syntax Definition: FUNCTION F_VN_Hough Lines Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Lines : Reference To ITc Vn Container; f Dist Res : LREAL; f Angle Res : LREAL; n Accu Threshold : UDINT; f Dist Res Div : LREAL; f Angle Res Div : LREAL; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1165
## Page 1166

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT, 1 channel, binary, may be modified by the function) ip Lines Reference To Returns a container which is filled with the found lines ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Vector2_REAL; Each container element contains the distance from the origin [0] in pixels and the rotation angle [1] in radians, respectively. Non-zero interface pointers are reused.) f Dist Res LREAL Distance resolution of the accumulator (in pixels, must be > 0) f Angle Res LREAL Angle resolution of the accumulator (in radians, must be > 0) n Accu Threshol UDINT Accumulator threshold d f Dist Res Div LREAL Divisor of the distance resolution for the multi-scale Hough transform (>= 0, must be > 0 if f Angle Res Div is > 0) f Angle Res Div LREAL Divisor of the angle resolution for the multi-scale Hough transform (>= 0, must be > 0 if f Dist Res Div is > 0) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.14.1.11 F_VN_Hough Lines P F_VN_Hough Lines P ip Src Image ITc Vn Image HRESULT F_VN_Hough Lines P ip Lines Reference To ITc Vn Container f Dist Res LREAL f Angle Res LREAL n Accu Threshold UDINT hr Prev HRESULT Search for line segments using the probabilistic Hough transform. Syntax Definition: FUNCTION F_VN_Hough Lines P : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Lines : Reference To ITc Vn Container; f Dist Res : LREAL; f Angle Res : LREAL; n Accu Threshold : UDINT; hr Prev : HRESULT; END_VAR 1166 Version: 2.4.0 TF7000 - TF7810
## Page 1167

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT, 1 channel, binary, may be modified by the function) ip Lines Reference To Returns a container which is filled with the found line segments ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Vector4_DINT; Each container element contains the two ending points. Non-zero interface pointers are reused.) f Dist Res LREAL Distance resolution of the accumulator (in pixels, must be > 0) f Angle Res LREAL Angle resolution of the accumulator (in radians, must be > 0) n Accu Threshol UDINT Accumulator threshold d hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.14.1.12 F_VN_Hough Lines PExp F_VN_Hough Lines PExp ip Src Image ITc Vn Image HRESULT F_VN_Hough Lines PExp ip Lines Reference To ITc Vn Container f Dist Res LREAL f Angle Res LREAL n Accu Threshold UDINT f Min Line Length LREAL f Max Line Gap LREAL hr Prev HRESULT Search for line segments using the probabilistic Hough transform. (expert function) Syntax Definition: FUNCTION F_VN_Hough Lines PExp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Lines : Reference To ITc Vn Container; f Dist Res : LREAL; f Angle Res : LREAL; n Accu Threshold : UDINT; f Min Line Length : LREAL; f Max Line Gap : LREAL; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1167
## Page 1168

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT, 1 channel, binary, may be modified by the function) ip Lines Reference To Returns a container which is filled with the found line segments ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Vector4_DINT; Each container element contains the two ending points. Non-zero interface pointers are reused.) f Dist Res LREAL Distance resolution of the accumulator (in pixels, must be > 0) f Angle Res LREAL Angle resolution of the accumulator (in radians, must be > 0) n Accu Threshol UDINT Accumulator threshold d f Min Line Length LREAL Minimum line length to search for f Max Line Gap LREAL Maximum gap between points on the same line hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.14.1.13 F_VN_Match Image Hu Moments F_VN_Match Image Hu Moments ip Image1 ITc Vn Image HRESULT F_VN_Match Image Hu Moments ip Image2 ITc Vn Image e Comparison Method ETc Vn Contours Match Comparison Method ↔ f Dissimilarity LREAL hr Prev HRESULT Compare two images using the Hu moment invariants. Syntax Definition: FUNCTION F_VN_Match Image Hu Moments : HRESULT VAR_INPUT ip Image1 : ITc Vn Image; ip Image2 : ITc Vn Image; e Comparison Method : ETc Vn Contours Match Comparison Method; END_VAR VAR_IN_OUT f Dissimilarity : LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR 1168 Version: 2.4.0 TF7000 - TF7810
## Page 1169

API reference Inputs Name Type Description ip Image1 ITc Vn Image [} 413] First image (1 channel) ip Image2 ITc Vn Image [} 413] Second image (1 channel) e Comparison M Method used for comparing the Hu moment invariants of the ethod ETc Vn Contours Match Com images parison Method [} 197] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description f Dissimilarity LREAL Returns the dissimilarity of the image Hu moment invariants depending on the chosen comparison method Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.14.1.14 F_VN_Match Template F_VN_Match Template ip Src Image ITc Vn Image HRESULT F_VN_Match Template ip Template Image ITc Vn Image ip Result Image Reference To ITc Vn Image hr Prev HRESULT Match a template image with every location in the source image (using the TCVN_TMM_CCORR_NORMED method) and save the comparison results. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Match Template : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Template Image : ITc Vn Image; ip Result Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1169
## Page 1170

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT or REAL, 1 or 3 channels) ip Template Ima ITc Vn Image [} 413] Template image (same type as ip Src Image, smaller width and ge height) ip Result Image Reference To Returns the result image (REAL, normalized to [0..1], 1 channel, ITc Vn Image [} 413] dimensions: (ip Src Image.width - ip Template Image.width + 1) x (ip Src Image.height - ip Template Image.height + 1). The best match is the global maximum. The position in ip Result Image is the top-left corner of ip Template Image position in ip Src Image) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.14.1.15 F_VN_Match Template And Evaluate F_VN_Match Template And Evaluate ip Src Image ITc Vn Image HRESULT F_VN_Match Template And Evaluate ip Template Image ITc Vn Image ip Matches Reference To ITc Vn Container f Match Threshold REAL hr Prev HRESULT Match a template image with every location in the source image (using the TCVN_TMM_CCORR_NORMED method) and evaluate the comparison results. Returns a sorted list of possible matches (best match first). Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Match Template And Evaluate : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Template Image : ITc Vn Image; ip Matches : Reference To ITc Vn Container; f Match Threshold : REAL; hr Prev : HRESULT; END_VAR 1170 Version: 2.4.0 TF7000 - TF7810
## Page 1171

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT or REAL, 1 or 3 channels) ip Template Ima ITc Vn Image [} 413] Template image (same type as ip Src Image, smaller width and ge height) ip Matches Reference To Returns the matching positions ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Point2_DINT, where each element represents the top-left corner of ip Template Image) in ip Src Image, sorted by relevance (best match first) f Match Threshol REAL Threshold to separate relevant from irrelevant matches (0..1, 1.0 d would be a perfect match. To find a suitable value, you could evaluate some sample result images of F_VN_Match Template.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.14.1.16 F_VN_Match Template And Evaluate Exp F_VN_Match Template And Evaluate Exp ip Src Image ITc Vn Image HRESULT F_VN_Match Template And Evaluate Exp ip Template Image ITc Vn Image ip Matches Reference To ITc Vn Container f Match Threshold REAL e Match Method ETc Vn Template Match Method ip Template Mask ITc Vn Image f Scale Factor REAL e Interpolation Type ETc Vn Interpolation Type ip Match Values Reference To ITc Vn Container hr Prev HRESULT Match a template image with every location in the source image and evaluate the comparison results. Returns a sorted list of possible matches (best match first). (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Match Template And Evaluate Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Template Image : ITc Vn Image; ip Matches : Reference To ITc Vn Container; f Match Threshold : REAL; e Match Method : ETc Vn Template Match Method; ip Template Mask : ITc Vn Image; f Scale Factor : REAL; e Interpolation Type : ETc Vn Interpolation Type; ip Match Values : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1171
## Page 1172

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT or REAL, 1 or 3 channels) ip Template Ima ITc Vn Image [} 413] Template image (same type as ip Src Image, smaller width and ge height) ip Matches Reference To Returns the matching positions ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Point2_DINT, where each element represents the top-left corner of ip Template Image) in ip Src Image, sorted by relevance (best match first) f Match Threshol REAL Threshold to separate relevant from irrelevant matches (0..1 for d NORMED methods, otherwise dependent on template size and content. To find a suitable value, you could evaluate some sample result images of F_VN_Match Template Exp.) e Match Method Specifies the template match method ETc Vn Template Match Met hod [} 223] ip Template Mas ITc Vn Image [} 413] Optional mask for ip Template Image (same type and size as k ip Template Image) f Scale Factor REAL Factor (0..1] to reduce source and template image width and height for better performance (but less accuracy!) e Interpolation T ETc Vn Interpolation Type Image resize interpolation type (only used if f Scale Factor != 1, ype TCVN_IT_BILINEAR recommended for most cases) [} 209] ip Match Values Reference To Optionally returns the matching values ITc Vn Container [} 374] (Container Type_Vector_REAL, same size and sort order as ip Matches. Set to 0 if not required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.14.1.17 F_VN_Match Template Exp F_VN_Match Template Exp ip Src Image ITc Vn Image HRESULT F_VN_Match Template Exp ip Template Image ITc Vn Image ip Result Image Reference To ITc Vn Image e Match Method ETc Vn Template Match Method ip Template Mask ITc Vn Image hr Prev HRESULT Match a template image with every location in the source image and save the comparison results. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. 1172 Version: 2.4.0 TF7000 - TF7810
## Page 1173

API reference Syntax Definition: FUNCTION F_VN_Match Template Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Template Image : ITc Vn Image; ip Result Image : Reference To ITc Vn Image; e Match Method : ETc Vn Template Match Method; ip Template Mask : ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT or REAL, 1 or 3 channels) ip Template Ima ITc Vn Image [} 413] Template image (same type as ip Src Image, smaller width and ge height) ip Result Image Reference To Returns the result image (REAL, 1 channel, dimensions: ITc Vn Image [} 413] (ip Src Image.width - ip Template Image.width + 1) x (ip Src Image.height - ip Template Image.height + 1). The best match is the global minimum (SQDIFF(_NORMED)) or maximum (CCORR(_NORMED), CCOEFF(_NORMED)). The position in ip Result Image is the top-left corner of ip Template Image position in ip Src Image) e Match Method Specifies the template match method ETc Vn Template Match Met hod [} 223] ip Template Mas ITc Vn Image [} 413] Optional mask for ip Template Image (same type and size as k ip Template Image) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.14.2 F_VN_Canny Edge Detection F_VN_Canny Edge Detection ip Src Image ITc Vn Image HRESULT F_VN_Canny Edge Detection ip Dest Image Reference To ITc Vn Image f Threshold Low LREAL f Threshold High LREAL hr Prev HRESULT Find edges using the Canny edge detection algorithm. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 1173
## Page 1174

API reference FUNCTION F_VN_Canny Edge Detection : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; f Threshold Low : LREAL; f Threshold High : LREAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (elements of type USINT) ip Dest Image Reference To Destination image (elements of type USINT. An appropriate ITc Vn Image [} 413] destination image will be created if required.) f Threshold Low LREAL Low threshold f Threshold High LREAL High threshold hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information This function finds edges in an image and illustrates them by white lines on a black background. In addition, this expert version F_VN_Canny Edge Detection Exp [} 1175] exists with advanced parameterization options. Algorithm The Canny Edge edge detection is a multi-stage algorithm for the most robust edge detection possible. It consists of the following steps: 1. Reduction of noise by means of Gaussian filter. 2. Edge finding by means of Sobel operator. 3. Line thinning by means of non-maximum suppression, i.e. the resulting lines are 1 px thick. 4. Hysteresis, so that only thick lines remain (see Threshold parameters below). Parameter Original image A 1-channel 8-bit intensity image (pixel format TCVN_ET_USINT) is expected for the original image ip Src Image. You can therefore use a grayscale image or the individual channels of a color image. Result image The result image ip Dest Image has the same format. Threshold values The two thresholds f Threshold Low and f Threshold High determine which of the edges found are accepted: Pixels with a gradient higher than f Threshold High are accepted. Pixels with a color gradient below f Threshold Low are discarded. Pixels with gradients in between are only accepted if they are linked to already accepted pixels. The two thresholds make a flexible setting possible. A hard threshold is also realizable by setting both values the same. 1174 Version: 2.4.0 TF7000 - TF7810
## Page 1175

API reference Important edge information may be lost if you set the thresholds too high. If the thresholds are too low, noise and other irrelevant information might be interpreted as edges. Application hr := F_VN_Canny Edge Detection( ip Src Image := ip Image In, ip Dest Image := ip Image Work, f Threshold Low := 0, f Threshold High := 200, hr ); Required License TC3 Vision Base System Requirements 6.1.4.14.3 F_VN_Canny Edge Detection Exp F_VN_Canny Edge Detection Exp ip Src Image ITc Vn Image HRESULT F_VN_Canny Edge Detection Exp ip Dest Image Reference To ITc Vn Image f Threshold Low LREAL f Threshold High LREAL n Aperture Size UDINT b L2Gradient BOOL hr Prev HRESULT Find edges using the Canny edge detection algorithm. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Canny Edge Detection Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; f Threshold Low : LREAL; f Threshold High : LREAL; n Aperture Size : UDINT; b L2Gradient : BOOL; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1175
## Page 1176

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (elements of type USINT) ip Dest Image Reference To Destination image (elements of type USINT. An appropriate ITc Vn Image [} 413] destination image will be created if required.) f Threshold Low LREAL Low threshold f Threshold High LREAL High threshold n Aperture Size UDINT Aperture size for the Sobel operator (3, 5, 7) b L2Gradient BOOL If true, the more accurate (and slower) L2 norm is used instead of the L1 norm hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information This function is the expert version of F_VN_Canny Edge Detection [} 1173]. It contains advanced parameterization options. Parameter The following parameters are additionally available in this expert version: Aperture size Only odd values of 3 or more are valid for n Aperture Size. L1/L2 standard Two standards are available for the calculation of the gradients. The L1 standard is faster. The L2 standard, conversely, is more accurate. 2 2 dl dl æ dl ö æ dl ö L = + L = + 1 2 ç ÷ ç ÷ dx dy èdxø èdyø Set the parameter b L2Gradient to FALSE to use the L1 standard and to TRUE to use the L2 standard. Application An application of this function can look like this, for example: hr := F_VN_Canny Edge Detection Exp( ip Src Image := ip Image In, ip Dest Image := ip Image Work, f Threshold Low := 0, f Threshold High := 200, n Aperture Size := 5, b L2Gradient := TRUE, hr ); Required License TC3 Vision Base 1176 Version: 2.4.0 TF7000 - TF7810
## Page 1177

API reference System Requirements 6.1.4.14.4 F_VN_Connected Components F_VN_Connected Components ip Src Image ITc Vn Image HRESULT F_VN_Connected Components ip Label Image Reference To ITc Vn Image ↔ n Labels DINT hr Prev HRESULT Computes the connected components of an image. Syntax Definition: FUNCTION F_VN_Connected Components : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Label Image : Reference To ITc Vn Image; END_VAR VAR_IN_OUT n Labels : DINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT, 1 channel, binary) ip Label Image Reference To Returns the labels for each source image pixel (1 channel, ITc Vn Image [} 413] DINT. An appropriate destination image will be created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Labels DINT Returns the number of labels Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1177
## Page 1178

API reference System Requirements 6.1.4.14.5 F_VN_Connected Components Exp F_VN_Connected Components Exp ip Src Image ITc Vn Image HRESULT F_VN_Connected Components Exp ip Label Image Reference To ITc Vn Image ↔ n Labels DINT e Connectivity ETc Vn Pixel Connectivity e Label Type ETc Vn Element Type e Algorithm ETc Vn Connected Components Algorithm hr Prev HRESULT Computes the connected components of an image. (expert function) Syntax Definition: FUNCTION F_VN_Connected Components Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Label Image : Reference To ITc Vn Image; END_VAR VAR_IN_OUT n Labels : DINT; END_VAR VAR_INPUT e Connectivity : ETc Vn Pixel Connectivity; e Label Type : ETc Vn Element Type; e Algorithm : ETc Vn Connected Components Algorithm; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT, 1 channel, binary) ip Label Image Reference To Returns the labels for each source image pixel (1 channel, type ITc Vn Image [} 413] depends on e Label Type. An appropriate destination image will be created if required.) e Connectivity ETc Vn Pixel Connectivity Selects if 4- or 8-way pixel connectivity should be used [} 216] e Label Type ETc Vn Element Type [} 203] Selects the type of ip Label Image (only UINT or DINT supported) e Algorithm Selects the applied algorithm ETc Vn Connected Compon ents Algorithm [} 191] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Labels DINT Returns the number of labels Return value HRESULT [} 144] 1178 Version: 2.4.0 TF7000 - TF7810
## Page 1179

API reference Required License TC3 Vision Base System Requirements 6.1.4.14.6 F_VN_Connected Components With Stats F_VN_Connected Components With Stats ip Src Image ITc Vn Image HRESULT F_VN_Connected Components With Stats ip Label Image Reference To ITc Vn Image ip Bounding Boxes Reference To ITc Vn Container ip Num Pixels Reference To ITc Vn Container ip Centroids Reference To ITc Vn Container ↔ n Labels DINT hr Prev HRESULT Computes the connected components and corresponding statistics of an image. Syntax Definition: FUNCTION F_VN_Connected Components With Stats : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Label Image : Reference To ITc Vn Image; ip Bounding Boxes : Reference To ITc Vn Container; ip Num Pixels : Reference To ITc Vn Container; ip Centroids : Reference To ITc Vn Container; END_VAR VAR_IN_OUT n Labels : DINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT, 1 channel, binary) ip Label Image Reference To Returns the labels for each source image pixel (1 channel, ITc Vn Image [} 413] DINT. An appropriate destination image will be created if required.) ip Bounding Box Reference To Returns the bounding boxes for each labeled region. es ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Rectangle_DINT; Non-zero interface pointers are reused.) ip Num Pixels Reference To Returns the number of pixels for each labeled region. ITc Vn Container [} 374] (Container Type_Vector_DINT; Non-zero interface pointers are reused.) ip Centroids Reference To Returns the centroids for each labeled region. ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Point2_LREAL; Non-zero interface pointers are reused.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Labels DINT Returns the number of labels TF7000 - TF7810 Version: 2.4.0 1179
## Page 1180

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.14.7 F_VN_Connected Components With Stats Exp F_VN_Connected Components With Stats Exp ip Src Image ITc Vn Image HRESULT F_VN_Connected Components With Stats Exp ip Label Image Reference To ITc Vn Image ip Bounding Boxes Reference To ITc Vn Container ip Num Pixels Reference To ITc Vn Container ip Centroids Reference To ITc Vn Container ↔ n Labels DINT e Connectivity ETc Vn Pixel Connectivity e Label Type ETc Vn Element Type e Algorithm ETc Vn Connected Components Algorithm hr Prev HRESULT Computes the connected components and corresponding statistics of an image. (expert function) Syntax Definition: FUNCTION F_VN_Connected Components With Stats Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Label Image : Reference To ITc Vn Image; ip Bounding Boxes : Reference To ITc Vn Container; ip Num Pixels : Reference To ITc Vn Container; ip Centroids : Reference To ITc Vn Container; END_VAR VAR_IN_OUT n Labels : DINT; END_VAR VAR_INPUT e Connectivity : ETc Vn Pixel Connectivity; e Label Type : ETc Vn Element Type; e Algorithm : ETc Vn Connected Components Algorithm; hr Prev : HRESULT; END_VAR 1180 Version: 2.4.0 TF7000 - TF7810
## Page 1181

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT, 1 channel, binary) ip Label Image Reference To Returns the labels for each source image pixel (1 channel, ITc Vn Image [} 413] DINT. An appropriate destination image will be created if required.) ip Bounding Box Reference To Returns the bounding boxes for each labeled region. es ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Rectangle_DINT; Non-zero interface pointers are reused.) ip Num Pixels Reference To Returns the number of pixels for each labeled region. ITc Vn Container [} 374] (Container Type_Vector_DINT; Non-zero interface pointers are reused.) ip Centroids Reference To Returns the centroids for each labeled region. ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Point2_LREAL; Non-zero interface pointers are reused.) e Connectivity ETc Vn Pixel Connectivity Selects if 4- or 8-way pixel connectivity should be used [} 216] e Label Type ETc Vn Element Type [} 203] Selects the type of ip Label Image (only UINT or DINT supported) e Algorithm Selects the applied algorithm ETc Vn Connected Compon ents Algorithm [} 191] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Labels DINT Returns the number of labels Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.14.8 F_VN_Count Non Zero Pixels F_VN_Count Non Zero Pixels ip Src Image ITc Vn Image HRESULT F_VN_Count Non Zero Pixels ↔ n Non Zero ULINT hr Prev HRESULT Counts the non-zero pixels in a single-channel image (e.g. useful to analyze threshold results). Syntax Definition: FUNCTION F_VN_Count Non Zero Pixels : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR TF7000 - TF7810 Version: 2.4.0 1181
## Page 1182

API reference VAR_IN_OUT n Non Zero : ULINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 channel) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Non Zero ULINT Returns the number of non-zero pixels in ip Src Image Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.14.9 F_VN_Distance Transformation F_VN_Distance Transformation ip Src Image ITc Vn Image HRESULT F_VN_Distance Transformation ip Dest Image Reference To ITc Vn Image e Distance Type ETc Vn Distance Type e Mask Size ETc Vn Distance Transformation Mask hr Prev HRESULT Calculates the distance transformation, which is the distance to the closest zero pixel in a binary image. Syntax Definition: FUNCTION F_VN_Distance Transformation : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; e Distance Type : ETc Vn Distance Type; e Mask Size : ETc Vn Distance Transformation Mask; hr Prev : HRESULT; END_VAR 1182 Version: 2.4.0 TF7000 - TF7810
## Page 1183

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT, 1 channel) ip Dest Image Reference To Destination image (REAL, 1 channel. An appropriate destination ITc Vn Image [} 413] image will be created if required.) e Distance Type ETc Vn Distance Type Distance computation method (supported: L1, L2, C) [} 199] e Mask Size Size of the distance transformation mask ETc Vn Distance Transforma tion Mask [} 199] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information This function performs the distance transformation of an image. In addition, there is an expert version F_VN_Distance Transformation Exp [} 1184] with advanced parameterization options. Parameter The following parameters are available in the basic version: Original image A 1-channel 8-bit image (element type TCVN_ET_USINT) is expected for the original image ip Src Image. Other image formats must first be converted. Result image The result image ip Dest Image is returned with the element type TCVN_ET_REAL. The value of each pixel describes the distance between the respective pixel and the nearest 0-value pixel in the original image. Display in the ADS Image Watch In order to be able to display the result image in the ADS Image Watch, it must first be converted into a compatible image format. Depending on the use case, it may be useful to scale the pixel values. Distance type The distance type e Distance Type determines the equation with which the distance between a pixel and the nearest 0-value pixel is calculated. The following distance types from the enum ETc Vn Distance Type [} 199] are supported: • TCVN_DT_L1 • TCVN_DT_L2 • TCVN_DT_C Mask sizes The mask size e Mask Size describes the approximation of the Euclidean distance if the L2 standard is selected as the distance type. • TCVN_DTM_PRECISE: The Euclidean distance is calculated precisely. • TCVN_DTM_3: The Euclidean distance is approximated as the sum of distance elements within a 3x3 mask (horizontal, vertical and diagonal). TF7000 - TF7810 Version: 2.4.0 1183
## Page 1184

API reference • TCVN_DTM_5: The Euclidean distance is approximated as the sum of distance elements within a 5x5 mask (horizontal, vertical, diagonal and knight's move (as in chess)). The mask size has no effect with the distance types L1 and C. Instead, a 3x3 mask is always used internally. Application An application of this function can look like this, for example: // convert to binary image hr := F_VN_Threshold(ip Image In, ip Image Work, 128, 255, TCVN_TT_BINARY, hr); // apply distance transformation hr := F_VN_Distance Transformation( ip Src Image := ip Image Work, ip Dest Image := ip Image Work, e Distance Type := TCVN_DT_C, e Mask Size := TCVN_DTM_3, hr ); // convert image to display it in ADS Image Watch hr := F_VN_Convert Element Type(ip Image Work, ip Image Work, TCVN_ET_USINT, hr); Original image Binary image Result image Required License TC3 Vision Base System Requirements 6.1.4.14.10 F_VN_Distance Transformation Exp F_VN_Distance Transformation Exp ip Src Image ITc Vn Image HRESULT F_VN_Distance Transformation Exp ip Dest Image Reference To ITc Vn Image e Distance Type ETc Vn Distance Type e Mask Size ETc Vn Distance Transformation Mask ip Dest Labels Reference To ITc Vn Image e Label Type ETc Vn Distance Transformation Label hr Prev HRESULT Calculates the distance transformation, which is the distance to the closest zero pixel in a binary image. Additionally, an image with component labels is created (discrete Voronoi diagram). (expert function) Syntax Definition: FUNCTION F_VN_Distance Transformation Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; e Distance Type : ETc Vn Distance Type; e Mask Size : ETc Vn Distance Transformation Mask; ip Dest Labels : Reference To ITc Vn Image; e Label Type : ETc Vn Distance Transformation Label; hr Prev : HRESULT; END_VAR 1184 Version: 2.4.0 TF7000 - TF7810
## Page 1185

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT, 1 channel) ip Dest Image Reference To Destination image (REAL, 1 channel. An appropriate destination ITc Vn Image [} 413] image will be created if required.) e Distance Type ETc Vn Distance Type Distance computation method (supported: L1, L2, C) [} 199] e Mask Size Size of the distance transformation mask (PRECISE not ETc Vn Distance Transforma supported for label computation) tion Mask [} 199] ip Dest Labels Reference To Returns the component labels (Discrete Voronoi diagram; DINT, ITc Vn Image [} 413] 1 channel. An appropriate image will be created if required.) e Label Type Type of the labels ETc Vn Distance Transforma tion Label [} 199] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.14.11 F_VN_Get Connected Component F_VN_Get Connected Component ip Label Image ITc Vn Image HRESULT F_VN_Get Connected Component n Label ID DINT ip Mask Image Reference To ITc Vn Image hr Prev HRESULT Get the mask image of a connected component from a label image based on the label ID. Syntax Definition: FUNCTION F_VN_Get Connected Component : HRESULT VAR_INPUT ip Label Image : ITc Vn Image; n Label ID : DINT; ip Mask Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1185
## Page 1186

API reference Inputs Name Type Description ip Label Image ITc Vn Image [} 413] Image containing labels for each pixel (1 channel DINT or UINT). n Label ID DINT Value of the requested label ip Mask Image Reference To Returns a mask image marking the pixels that belong to the ITc Vn Image [} 413] component (1 channel USINT.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.14.12 F_VN_Get Connected Component Exp F_VN_Get Connected Component Exp ip Label Image ITc Vn Image HRESULT F_VN_Get Connected Component Exp n Label ID DINT ip Mask Image Reference To ITc Vn Image ip Contour Points Reference To ITc Vn Container hr Prev HRESULT Get the mask image (and optionally the outer contour) of a connected component from a label image based on the label ID. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Get Connected Component Exp : HRESULT VAR_INPUT ip Label Image : ITc Vn Image; n Label ID : DINT; ip Mask Image : Reference To ITc Vn Image; ip Contour Points : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR 1186 Version: 2.4.0 TF7000 - TF7810
## Page 1187

API reference Inputs Name Type Description ip Label Image ITc Vn Image [} 413] Image containing labels for each pixel (1 channel DINT or UINT). n Label ID DINT Value of the requested label ip Mask Image Reference To Returns a mask image marking the pixels that belong to the ITc Vn Image [} 413] component (1 channel USINT. Mask is optional, set to 0 if not required.) ip Contour Point Reference To Returns the outer contour of the s ITc Vn Container [} 374] component(Container Type_Vector_Tc Vn Point2_DINT. Contour is optional, set to 0 if not required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.14.13 F_VN_Image Average F_VN_Image Average ip Src Image ITc Vn Image HRESULT F_VN_Image Average ↔ a Average Tc Vn Vector4_LREAL hr Prev HRESULT Computes the (channel-wise) average pixel value of an image. Syntax Definition: FUNCTION F_VN_Image Average : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR VAR_IN_OUT a Average : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 - 4 channels) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 1187
## Page 1188

API reference In/Outputs Name Type Description a Average Tc Vn Vector4_LREAL Returns the (channel-wise) average pixel value of ip Src Image [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.14.14 F_VN_Image Average Exp F_VN_Image Average Exp ip Src Image ITc Vn Image HRESULT F_VN_Image Average Exp ↔ a Average Tc Vn Vector4_LREAL ip Mask ITc Vn Image hr Prev HRESULT Computes the (channel-wise) average pixel value of an image. (expert function) Syntax Definition: FUNCTION F_VN_Image Average Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR VAR_IN_OUT a Average : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT ip Mask : ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 - 4 channels) ip Mask ITc Vn Image [} 413] Mask of type USINT (1 channel) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Average Tc Vn Vector4_LREAL Returns the (channel-wise) average pixel value of ip Src Image [} 165] 1188 Version: 2.4.0 TF7000 - TF7810
## Page 1189

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.14.15 F_VN_Image Average Std Dev F_VN_Image Average Std Dev ip Src Image ITc Vn Image HRESULT F_VN_Image Average Std Dev ↔ a Average Tc Vn Vector4_LREAL ↔ a Std Dev Tc Vn Vector4_LREAL hr Prev HRESULT Computes the (channel-wise) average pixel value and the corresponding standard deviation of an image. Syntax Definition: FUNCTION F_VN_Image Average Std Dev : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR VAR_IN_OUT a Average : Tc Vn Vector4_LREAL; a Std Dev : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 - 4 channels) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Average Tc Vn Vector4_LREAL Returns the (channel-wise) average pixel value of ip Src Image [} 165] a Std Dev Tc Vn Vector4_LREAL Returns the (channel-wise) pixel value standard deviation of ip Src Image [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1189
## Page 1190

API reference System Requirements 6.1.4.14.16 F_VN_Image Average Std Dev Exp F_VN_Image Average Std Dev Exp ip Src Image ITc Vn Image HRESULT F_VN_Image Average Std Dev Exp ↔ a Average Tc Vn Vector4_LREAL ↔ a Std Dev Tc Vn Vector4_LREAL ip Mask ITc Vn Image hr Prev HRESULT Computes the (channel-wise) average pixel value and the corresponding standard deviation of an image. (expert function) Syntax Definition: FUNCTION F_VN_Image Average Std Dev Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR VAR_IN_OUT a Average : Tc Vn Vector4_LREAL; a Std Dev : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT ip Mask : ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 - 4 channels) ip Mask ITc Vn Image [} 413] Mask of type USINT (1 channel) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Average Tc Vn Vector4_LREAL Returns the (channel-wise) average pixel value of ip Src Image [} 165] a Std Dev Tc Vn Vector4_LREAL Returns the (channel-wise) pixel value standard deviation of ip Src Image [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base 1190 Version: 2.4.0 TF7000 - TF7810
## Page 1191

API reference System Requirements 6.1.4.14.17 F_VN_Image Center Of Mass F_VN_Image Center Of Mass ip Src Image ITc Vn Image HRESULT F_VN_Image Center Of Mass ↔ a Center Of Mass Tc Vn Point2_LREAL hr Prev HRESULT Computes the center of mass of an image. Syntax Definition: FUNCTION F_VN_Image Center Of Mass : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR VAR_IN_OUT a Center Of Mass : Tc Vn Point2_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 channel) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Center Of Mas Tc Vn Point2_LREAL [} 163] Returns the center of mass of the image s Return value HRESULT [} 144] Further information This function calculates the center of mass of the input image. The expert version F_VN_Image Center Of Mass Exp [} 1192] exists with advanced parameterization options. Parameter Input image The input image ip Src Image must be a 1-channel image. If you wish to calculate the center of mass of a multi-channel image, you have the following options: • You can split the multi-channel image into individual channels using F_VN_Split Image Channels [} 792] and calculate a center of mass for each channel. • You can convert the multi-channel image into a 1-channel image using F_VN_Convert Color Space [} 1208] and calculate a center of mass for it. TF7000 - TF7810 Version: 2.4.0 1191
## Page 1192

API reference Center of mass (return value) The calculated center of mass is returned via the reference a Center Of Mass. Required License TC3 Vision Base System Requirements 6.1.4.14.18 F_VN_Image Center Of Mass Exp F_VN_Image Center Of Mass Exp ip Src Image ITc Vn Image HRESULT F_VN_Image Center Of Mass Exp ↔ a Center Of Mass Tc Vn Point2_LREAL ip Mask ITc Vn Image hr Prev HRESULT Computes the center of mass of an image. Syntax Definition: FUNCTION F_VN_Image Center Of Mass Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR VAR_IN_OUT a Center Of Mass : Tc Vn Point2_LREAL; END_VAR VAR_INPUT ip Mask : ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 channel) ip Mask ITc Vn Image [} 413] Optional mask (1 channel of type USINT, same width and height as ip Src Image) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Center Of Mas Tc Vn Point2_LREAL [} 163] Returns the center of mass of the image s Return value HRESULT [} 144] Required License TC3 Vision Base 1192 Version: 2.4.0 TF7000 - TF7810
## Page 1193

API reference System Requirements 6.1.4.14.19 F_VN_Image Median F_VN_Image Median ip Src Image ITc Vn Image HRESULT F_VN_Image Median ↔ a Median Tc Vn Vector4_LREAL hr Prev HRESULT Computes the (approximated, channel-wise) median pixel value of an image. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Image Median : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR VAR_IN_OUT a Median : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 - 4 channels) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Median Tc Vn Vector4_LREAL Returns the (approximated, channel-wise) median pixel value of ip Src Image [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.14.20 F_VN_Image Median Exp F_VN_Image Median Exp ip Src Image ITc Vn Image HRESULT F_VN_Image Median Exp ↔ a Median Tc Vn Vector4_LREAL ip Mask ITc Vn Image hr Prev HRESULT TF7000 - TF7810 Version: 2.4.0 1193
## Page 1194

API reference Computes the (approximated, channel-wise) median pixel value of an image. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Image Median Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR VAR_IN_OUT a Median : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT ip Mask : ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 - 4 channels) ip Mask ITc Vn Image [} 413] Mask of type USINT (1 channel) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Median Tc Vn Vector4_LREAL Returns the (approximated, channel-wise) median pixel value of ip Src Image [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.14.21 F_VN_Image Moments F_VN_Image Moments ip Image ITc Vn Image HRESULT F_VN_Image Moments ↔ st Moments Tc Vn Moments b Binary Image BOOL hr Prev HRESULT Computes the spatial moments, the central moments, and the central normalized moments of an image up to the third order. Syntax Definition: FUNCTION F_VN_Image Moments : HRESULT VAR_INPUT ip Image : ITc Vn Image; 1194 Version: 2.4.0 TF7000 - TF7810
## Page 1195

API reference END_VAR VAR_IN_OUT st Moments : Tc Vn Moments; END_VAR VAR_INPUT b Binary Image : BOOL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Image ITc Vn Image [} 413] Source image (1 channel, elements of type USINT or REAL) b Binary Image BOOL If true, all non-zero pixels are treated as ones hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Moments Tc Vn Moments [} 238] Returns a struct containing the moments Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.14.22 F_VN_Max Pixel Value F_VN_Max Pixel Value ip Image ITc Vn Image HRESULT F_VN_Max Pixel Value ↔ a Max Value Tc Vn Vector4_LREAL ↔ a Position Tc Vn Point2_DINT hr Prev HRESULT Finds the maximum pixel value in an image (1 - 4 channels supported). Syntax Definition: FUNCTION F_VN_Max Pixel Value : HRESULT VAR_INPUT ip Image : ITc Vn Image; END_VAR VAR_IN_OUT a Max Value : Tc Vn Vector4_LREAL; a Position : Tc Vn Point2_DINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1195
## Page 1196

API reference Inputs Name Type Description ip Image ITc Vn Image [} 413] Source image hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Max Value Tc Vn Vector4_LREAL Returns the maximum pixel value [} 165] a Position Tc Vn Point2_DINT [} 163] Returns the first found position of a Max Value Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.14.23 F_VN_Max Pixel Value Exp F_VN_Max Pixel Value Exp ip Image ITc Vn Image HRESULT F_VN_Max Pixel Value Exp ↔ a Max Value Tc Vn Vector4_LREAL ↔ a Position Tc Vn Point2_DINT ip Mask ITc Vn Image e Vector Compare Method ETc Vn Vector Compare Method hr Prev HRESULT Finds the maximum pixel value in an image (1 - 4 channels supported). (expert function) Syntax Definition: FUNCTION F_VN_Max Pixel Value Exp : HRESULT VAR_INPUT ip Image : ITc Vn Image; END_VAR VAR_IN_OUT a Max Value : Tc Vn Vector4_LREAL; a Position : Tc Vn Point2_DINT; END_VAR VAR_INPUT ip Mask : ITc Vn Image; e Vector Compare Method : ETc Vn Vector Compare Method; hr Prev : HRESULT; END_VAR 1196 Version: 2.4.0 TF7000 - TF7810
## Page 1197

API reference Inputs Name Type Description ip Image ITc Vn Image [} 413] Source image ip Mask ITc Vn Image [} 413] Optional mask to specify which pixel positions are considered (USINT, set parameter to 0 if not required) e Vector Compa Select a vector compare method for multi-channel images re Method ETc Vn Vector Compare Met hod [} 226] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Max Value Tc Vn Vector4_LREAL Returns the maximum pixel value [} 165] a Position Tc Vn Point2_DINT [} 163] Returns the first found position of a Max Value (not supported for multi-channel images with ELEMENTWISE) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.14.24 F_VN_Min Pixel Value F_VN_Min Pixel Value ip Image ITc Vn Image HRESULT F_VN_Min Pixel Value ↔ a Min Value Tc Vn Vector4_LREAL ↔ a Position Tc Vn Point2_DINT hr Prev HRESULT Finds the minimum pixel value in an image (1 - 4 channels supported). Syntax Definition: FUNCTION F_VN_Min Pixel Value : HRESULT VAR_INPUT ip Image : ITc Vn Image; END_VAR VAR_IN_OUT a Min Value : Tc Vn Vector4_LREAL; a Position : Tc Vn Point2_DINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1197
## Page 1198

API reference Inputs Name Type Description ip Image ITc Vn Image [} 413] Source image hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Min Value Tc Vn Vector4_LREAL Returns the minimum pixel value [} 165] a Position Tc Vn Point2_DINT [} 163] Returns the first found position of a Min Value Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.14.25 F_VN_Min Pixel Value Exp F_VN_Min Pixel Value Exp ip Image ITc Vn Image HRESULT F_VN_Min Pixel Value Exp ↔ a Min Value Tc Vn Vector4_LREAL ↔ a Position Tc Vn Point2_DINT ip Mask ITc Vn Image e Vector Compare Method ETc Vn Vector Compare Method hr Prev HRESULT Finds the minimum pixel value in an image (1 - 4 channels supported). (expert function) Syntax Definition: FUNCTION F_VN_Min Pixel Value Exp : HRESULT VAR_INPUT ip Image : ITc Vn Image; END_VAR VAR_IN_OUT a Min Value : Tc Vn Vector4_LREAL; a Position : Tc Vn Point2_DINT; END_VAR VAR_INPUT ip Mask : ITc Vn Image; e Vector Compare Method : ETc Vn Vector Compare Method; hr Prev : HRESULT; END_VAR 1198 Version: 2.4.0 TF7000 - TF7810
## Page 1199

API reference Inputs Name Type Description ip Image ITc Vn Image [} 413] Source image ip Mask ITc Vn Image [} 413] Optional mask to specify which pixel positions are considered (USINT, set parameter to 0 if not required) e Vector Compa Select a vector compare method for multi-channel images re Method ETc Vn Vector Compare Met hod [} 226] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Min Value Tc Vn Vector4_LREAL Returns the minimum pixel value [} 165] a Position Tc Vn Point2_DINT [} 163] Returns the first found position of a Min Value (not supported for multi-channel images with ELEMENTWISE) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.14.26 F_VN_Region Orientation F_VN_Region Orientation ip Src Image ITc Vn Image HRESULT F_VN_Region Orientation ↔ st Orientation Tc Vn Rotated Rectangle hr Prev HRESULT Calculate the orientation of a region based on a binary image that contains a non zero value for every pixel in that region. Syntax Definition: FUNCTION F_VN_Region Orientation : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR VAR_IN_OUT st Orientation : Tc Vn Rotated Rectangle; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1199
## Page 1200

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 channel, binary). hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Orientation Tc Vn Rotated Rectangle Resulting rotated rectangle, containig center of mass, lenghts of axes, and rotation angle of the region in clockwise direction. [} 251] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.14.27 F_VN_Region Orientation Exp F_VN_Region Orientation Exp ip Src Image ITc Vn Image HRESULT F_VN_Region Orientation Exp ↔ st Orientation Tc Vn Rotated Rectangle e Method ETc Vn Orientation Method hr Prev HRESULT Calculate the orientation of a region based on a binary image that contains a non zero value for every pixel in that region. (expert function) Syntax Definition: FUNCTION F_VN_Region Orientation Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR VAR_IN_OUT st Orientation : Tc Vn Rotated Rectangle; END_VAR VAR_INPUT e Method : ETc Vn Orientation Method; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 channel, binary) e Method ETc Vn Orientation Method Method for calculating the orientation. [} 215] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 1200 Version: 2.4.0 TF7000 - TF7810
## Page 1201

API reference In/Outputs Name Type Description st Orientation Tc Vn Rotated Rectangle Resulting rotated rectangle, containig center of mass, lenghts of axes, and rotation angle of the region in clockwise direction. [} 251] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.14.28 F_VN_Image Absolute Average F_VN_Image Absolute Average ip Src Image ITc Vn Image HRESULT F_VN_Image Absolute Average ↔ f Average LREAL hr Prev HRESULT Computes the average absolute pixel value of an image. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Image Absolute Average : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR VAR_IN_OUT f Average : LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description f Average LREAL Returns the average absolute pixel value Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 1201
## Page 1202

API reference Required License TC3 Vision Base System Requirements 6.1.4.14.29 F_VN_Upright Inner Rectangle F_VN_Upright Inner Rectangle ip Src Image ITc Vn Image HRESULT F_VN_Upright Inner Rectangle ↔ st Rectangle Tc Vn Rectangle_DINT hr Prev HRESULT Computes the maximum area upright inner rectangle inside an area. If the valid area contains very small invalid areas or the performance is too slow, use the expert variant of this function and manually choose a suitable n Down Scale Factor. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Upright Inner Rectangle : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR VAR_IN_OUT st Rectangle : Tc Vn Rectangle_DINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT, 1 channel, binary, values > 0 mark valid area) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Rectangle Tc Vn Rectangle_DINT Returns the maximum area upright inner rectangle [} 250] Return value HRESULT [} 144] Required License TC3 Vision Base 1202 Version: 2.4.0 TF7000 - TF7810
## Page 1203

API reference System Requirements 6.1.4.14.30 F_VN_Upright Inner Rectangle Exp F_VN_Upright Inner Rectangle Exp ip Src Image ITc Vn Image HRESULT F_VN_Upright Inner Rectangle Exp ↔ st Rectangle Tc Vn Rectangle_DINT n Down Scale Factor DINT hr Prev HRESULT Computes the maximum area upright inner rectangle inside an area. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Upright Inner Rectangle Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR VAR_IN_OUT st Rectangle : Tc Vn Rectangle_DINT; END_VAR VAR_INPUT n Down Scale Factor : DINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT, 1 channel, binary, values > 0 mark valid area) n Down Scale Fa DINT To tradeoff performance vs. accuracy, a factor can be provided, ctor to reduce the internally used image resolution. As long as invalid areas enclosed in the valid area are larger than n Down Scale Factor, the result usually still is the optimal one. Use -1 to auto select depending on ip Src Image resolution, 0 to always use full resolution (slower but always optimal result). hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Rectangle Tc Vn Rectangle_DINT Returns the maximum area upright inner rectangle [} 250] Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1203
## Page 1204

API reference System Requirements 6.1.4.15 Image Color and Contrast Processing This group contains functions for color and contrast processing. Functions Frequency distribution, intensity and contrast Adjustment of an image • F_VN_Clahe(Exp) [} 1207] • F_VN_Histogram(Exp) [} 1211] • F_VN_Histogram Equalization(Exp) [} 1213] • F_VN_Normalize Image(Exp) [} 1218] • F_VN_Normalize Image For Display [} 1220] Look-Up Table and Color Maps • F_VN_Apply Color Map [} 1204] • F_VN_Apply Lut [} 1206] • F_VN_Generate Color Map [} 1209] • F_VN_Generate Custom Color Map [} 1210] Color Matching • F_VN_Reference Color Similarity(Exp) [} 1221] • F_VN_Train Image Color(Exp) [} 1227] • F_VN_Train Image Color(Exp)_ITc Vn Ml Model [} 1229] White balance • F_VN_White Balance [} 1241] Miscellaneous • F_VN_Convert Color Space [} 1208] • F_VN_Invert Image Color(Exp) [} 1217] Samples Image Color and Contrast Processing [} 2780] 6.1.4.15.1 F_VN_Apply Color Map F_VN_Apply Color Map ip Src Image ITc Vn Image HRESULT F_VN_Apply Color Map ip Dest Image Reference To ITc Vn Image ip Color Map ITc Vn Container hr Prev HRESULT Apply a color map to a gray-level image. Syntax Definition: FUNCTION F_VN_Apply Color Map : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; 1204 Version: 2.4.0 TF7000 - TF7810
## Page 1205

API reference ip Color Map : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (TCVN_ET_USINT or TCVN_ET_UINT, 1 channel) ip Dest Image Reference To Returns the colored image (TCVN_ET_USINT, 3 channel. An ITc Vn Image [} 413] appropriate image will be created if required.) ip Color Map ITc Vn Container [} 374] Color map to be applied to ip Src Image (Container Type_Vector_Tc Vn Vector3_REAL with 256 or 65536 elements, dependent on ip Src Image type). Can be either custom or created with F_VN_Generate Color Map. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Apply Color Map applies a color table to the input image. Parameter Input image The input image ip Src Image must be a 1-channel grayscale image and have an element type of USINT (8- bit) or UINT (16-bit). Result image The result image ip Dest Image returns the 3-channel RGB color image with the element type USINT (8-bit) that was transformed with the color table. Color table The color table ip Color Map defines how the input image is transformed. The color table is a container that can be created either manually or with one of the following two functions: • F_VN_Generate Color Map [} 1209] • F_VN_Generate Custom Color Map [} 1210] The container must contain 256 elements (for 8-bit) or 65,536 elements (for 16-bit), depending on the element type of the input image, and must be of the type Container Type_Vector_Tc Vn Vector3_REAL. Application The application of a typical heat map to an 8-bit image looks like this, for example: hr := F_VN_Generate Color Map(ip Color Map, TCVN_CMM_HOT, TCVN_CMS_256, hr); hr := F_VN_Apply Color Map( ip Src Image := ip Image In, ip Dest Image := ip Image Res, ip Color Map := ip Color Map, hr Prev := hr ); Samples • Display with color tables [} 2783] TF7000 - TF7810 Version: 2.4.0 1205
## Page 1206

API reference Related functions • F_VN_Generate Color Map [} 1209] • F_VN_Generate Custom Color Map [} 1210] • F_VN_Apply Color Map [} 1204] Required License TC3 Vision Base System Requirements 6.1.4.15.2 F_VN_Apply Lut F_VN_Apply Lut ip Src Image ITc Vn Image HRESULT F_VN_Apply Lut ip Dest Image Reference To ITc Vn Image ip Lut ITc Vn Container hr Prev HRESULT Apply a lookup table to an image to manipulate its colors. Syntax Definition: FUNCTION F_VN_Apply Lut : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; ip Lut : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1-4 channels of 8 or 16 bit types SINT, USINT, INT, UINT) ip Dest Image Reference To Returns the result image (same size, type and channels as ITc Vn Image [} 413] ip Src Image. An appropriate image will be created if required.) ip Lut ITc Vn Container [} 374] Lookup table with elements matching ip Src Image type and either 256 (8 bit images) or 65536 (16 bit images) elements. E.g. Container Type_Vector_USINT for 1-4 channel USINT image (in this case, the same lookup values are used for each channel) or Container Type_Vector_Tc Vn Vector3_USINT for a 3 channel USINT image (in this case, each channel uses an individual lookup value). hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base 1206 Version: 2.4.0 TF7000 - TF7810
## Page 1207

API reference System Requirements 6.1.4.15.3 F_VN_Clahe F_VN_Clahe ip Src Image ITc Vn Image HRESULT F_VN_Clahe ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Apply Constrast Limited Adaptive Histogram Equalization. This applies local histogram equalization to individual tiles. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Clahe : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (TCVN_ET_USINT or TCVN_ET_UINT, 1 channel) ip Dest Image Reference To Returns the resulting image (An appropriate image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.15.4 F_VN_Clahe Exp F_VN_Clahe Exp ip Src Image ITc Vn Image HRESULT F_VN_Clahe Exp ip Dest Image Reference To ITc Vn Image f Clip Limit LREAL n Tiles X UDINT n Tiles Y UDINT hr Prev HRESULT Apply Constrast Limited Adaptive Histogram Equalization. This applies local histogram equalization to individual tiles. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. TF7000 - TF7810 Version: 2.4.0 1207
## Page 1208

API reference Syntax Definition: FUNCTION F_VN_Clahe Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; f Clip Limit : LREAL; n Tiles X : UDINT; n Tiles Y : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (TCVN_ET_USINT or TCVN_ET_UINT, 1 channel) ip Dest Image Reference To Returns the resulting image (An appropriate image will be ITc Vn Image [} 413] created if required.) f Clip Limit LREAL Threshold for contrast limit (set to <= 0 to disable clipping) n Tiles X UDINT Number of tiles in x direction n Tiles Y UDINT Number of tiles in y direction hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.15.5 F_VN_Convert Color Space F_VN_Convert Color Space ip Src Image ITc Vn Image HRESULT F_VN_Convert Color Space ip Dest Image Reference To ITc Vn Image e Transform ETc Vn Color Space Transform hr Prev HRESULT Convert image from one color space to another. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Convert Color Space : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; e Transform : ETc Vn Color Space Transform; hr Prev : HRESULT; END_VAR 1208 Version: 2.4.0 TF7000 - TF7810
## Page 1209

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) e Transform Transforms to be applied ETc Vn Color Space Transfor m [} 178] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.15.6 F_VN_Generate Color Map F_VN_Generate Color Map ip Color Map Reference To ITc Vn Container HRESULT F_VN_Generate Color Map e Color Map ETc Vn Color Map e Color Map Size ETc Vn Color Map Size hr Prev HRESULT Generates a pre-defined color map. Syntax Definition: FUNCTION F_VN_Generate Color Map : HRESULT VAR_INPUT ip Color Map : Reference To ITc Vn Container; e Color Map : ETc Vn Color Map; e Color Map Size : ETc Vn Color Map Size; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Color Map Reference To Returns the color map ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Vector3_REAL with 256 or 65536 elements) e Color Map ETc Vn Color Map [} 173] Selects a color map (similar to GNU Octave/MATLAB types) e Color Map Size ETc Vn Color Map Size Defines how many elements the generated color map should have [} 178] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 1209
## Page 1210

API reference Return value HRESULT [} 144] Further information The function F_VN_Generate Color Map creates a color table that can be applied to an image with the function F_VN_Apply Color Map [} 1204]. Parameter Color Map The parameter ip Color Map returns the color table created. Color gradient The color gradient e Color Map of the color table is defined via the enum ETc Vn Color Map [} 173]. If you wish to define a color gradient manually, use the function F_VN_Generate Custom Color Map [} 1210]. Size of the color table The size e Color Map Size is specified via the enum ETc Vn Color Map Size [} 178] and defines whether the color table is created for 8-bit images (TCVN_CMS_256) or for 16-bit images (TCVN_CMS_65536). Application VAR ip Color Map : ITc Vn Color Map; END_VAR hr := F_VN_Generate Color Map( ip Color Map := ip Color Map, e Color Map := TCVN_CM_HOT, e Color Map Size := TCVN_CMS_256, hr Prev := hr ); Samples • Display with color tables [} 2783] Related functions • F_VN_Generate Color Map [} 1209] • F_VN_Generate Custom Color Map [} 1210] • F_VN_Apply Color Map [} 1204] Required License TC3 Vision Base System Requirements 6.1.4.15.7 F_VN_Generate Custom Color Map F_VN_Generate Custom Color Map ip Color Map Reference To ITc Vn Container HRESULT F_VN_Generate Custom Color Map ip Initial Colors ITc Vn Container e Color Map Size ETc Vn Color Map Size hr Prev HRESULT 1210 Version: 2.4.0 TF7000 - TF7810
## Page 1211

API reference Generate a custom color map by interpolating between user defined colors (equally distributed, linear for each channel). Syntax Definition: FUNCTION F_VN_Generate Custom Color Map : HRESULT VAR_INPUT ip Color Map : Reference To ITc Vn Container; ip Initial Colors : ITc Vn Container; e Color Map Size : ETc Vn Color Map Size; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Color Map Reference To Returns the color map ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Vector3_REAL with 256 or 65536 elements) ip Initial Colors ITc Vn Container [} 374] User defined colors (Container Type_Vector_Tc Vn Vector3_REAL, at least 2 elements) e Color Map Size ETc Vn Color Map Size Defines how many elements the generated color map should have [} 178] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Samples • Display with color tables [} 2783] Related functions • F_VN_Generate Color Map [} 1209] • F_VN_Generate Custom Color Map [} 1210] • F_VN_Apply Color Map [} 1204] Required License TC3 Vision Base System Requirements 6.1.4.15.8 F_VN_Histogram F_VN_Histogram ip Src Image ITc Vn Image HRESULT F_VN_Histogram ip Dest Histogram Reference To ITc Vn Container hr Prev HRESULT Calculate the (multi-channel) histogram of an image. Can use available Twin CAT Job Tasks for executing parallel code regions. TF7000 - TF7810 Version: 2.4.0 1211
## Page 1212

API reference Syntax Definition: FUNCTION F_VN_Histogram : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Histogram : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Histogra Reference To Returns a container with a multi-channel histogram, where every m ITc Vn Container [} 374] channel is represented as a vector of UDINT (Container Type_Vector_Vector_UDINT. Non-zero interface pointers are reused.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Histogram calculates the histogram of the input image channel by channel. Parameter Input image The input image ip Src Image can have any format. Histogram The calculated multichannel histogram is returned as a container ip Dest Histogram of the type Container Type_Vector_Vector_UDINT. Each sub-element corresponds to the histogram of one channel. Each container of the histogram is represented as a UDINT, which specifies the number of pixels belonging to the container. Expert parameters The expert version F_VN_Histogram Exp [} 1214] contains additional parameters. Application The determination of the most frequently occurring pixel value in a grayscale image looks like this, for example: VAR ip Dest Histograms : ITc Vn Container; ip Single Histogram : ITc Vn Container; n Index : ULINT; ip Iterator : ITc Vn Bidirectional Iterator; END_VAR hr := F_VN_Histogram( ip Src Image := ip Image In, ip Dest Histogram := ip Histograms, hr Prev := hr ); 1212 Version: 2.4.0 TF7000 - TF7810
## Page 1213

API reference hr := F_VN_Get At_ITc Vn Container(ip Histograms, ip Single Histogram, 0, hr); hr := F_VN_Max Element(ip Single Histogram, ip Iterator, n Index, hr); // n Index now contains the most frequent pixel value in ip Image In. Samples • Handling histograms Required License TC3 Vision Base System Requirements 6.1.4.15.9 F_VN_Histogram Equalization F_VN_Histogram Equalization ip Src Image ITc Vn Image HRESULT F_VN_Histogram Equalization ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Equalize the histogram of a grayscale or rgb image, which normalizes the brightness and improves the contrast. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Histogram Equalization : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT) ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1213
## Page 1214

API reference System Requirements 6.1.4.15.10 F_VN_Histogram Equalization Exp F_VN_Histogram Equalization Exp ip Src Image ITc Vn Image HRESULT F_VN_Histogram Equalization Exp ip Dest Image Reference To ITc Vn Image n Channel Idx INT hr Prev HRESULT Equalize the histogram of a grayscale or color image, which normalizes the brightness and improves the contrast. (expert function) The channel index that should be equalized has to be specified (-1 expects a RGB image, converts it to YCb Cr, equalizes the Y channel and converts the image back to RGB). Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Histogram Equalization Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; n Channel Idx : INT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT) ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) n Channel Idx INT Index of the image channel that should be equalized (-1 expects a RGB image, converts it to YCb Cr, equalizes the Y channel and converts the image back to RGB) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.15.11 F_VN_Histogram Exp F_VN_Histogram Exp ip Src Image ITc Vn Image HRESULT F_VN_Histogram Exp ip Dest Histogram Reference To ITc Vn Container ↔ n Bins UDINT ↔ f Lower Bound LREAL ↔ f Upper Bound LREAL ip Mask ITc Vn Image hr Prev HRESULT 1214 Version: 2.4.0 TF7000 - TF7810
## Page 1215

API reference Calculate the (multi-channel) histogram of an image. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Histogram Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Histogram : Reference To ITc Vn Container; END_VAR VAR_IN_OUT n Bins : UDINT; f Lower Bound : LREAL; f Upper Bound : LREAL; END_VAR VAR_INPUT ip Mask : ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Histogra Reference To Returns a container with a multi-channel histogram, where every m ITc Vn Container [} 374] channel is represented as a vector of UDINT (Container Type_Vector_Vector_UDINT. Non-zero interface pointers are reused.) ip Mask ITc Vn Image [} 413] Source image mask (TCVN_ET_USINT, 1 channel. Mask is optional, set to 0 if not required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Bins UDINT Desired number of bins or 0 to keep the default for the corresponding image format (in) and default number of bins (out) f Lower Bound LREAL Lower (inclusive) boundary of the 0-th histogram bin (in), or receive the default if f Lower Bound AND f Upper Bound are set to 0 (out) f Upper Bound LREAL Upper (exclusive) boundary of the last histogram bin n Bins-1 (in), or receive the default if f Lower Bound AND f Upper Bound are set to 0 (out) Return value HRESULT [} 144] Further information The function F_VN_Histogram Exp is the expert version of F_VN_Histogram [} 1211]. It contains additional parameters. TF7000 - TF7810 Version: 2.4.0 1215
## Page 1216

API reference Parameter Input image The input image ip Src Image can have any format. Histogram The calculated multichannel histogram is returned as a container ip Dest Histogram of the type Container Type_Vector_Vector_UDINT. Each sub-element corresponds to the histogram of one channel. Each container of the histogram is represented as a UDINT, which specifies the number of pixels belonging to the container. Container The number n Bins defines how many containers the observed pixel spectrum is to be divided into. Limits The lower limit f Lower Bound and the upper limit f Upper Bound define which pixel values are taken into account when creating the histogram. Mask The mask ip Mask defines which pixels of the input image ip Src Image are taken into account in the calculation of the histogram. It is described by a 1-channel image with the element type USINT, which has the same size as the input image ip Src Image. All pixels in the mask image with a value <> 0 are taken into account in the calculation of the histogram. Application The calculation of a histogram with 10 containers for the value range 100-200 with a circular mask looks like this, for example: VAR ip Image Mask : ITc Vn Image; END_VAR // Create mask image with a circle at image center. hr := F_VN_Copy Image(ip Image In, ip Image Mask, hr); hr := F_VN_Set Pixels(ip Image Mask, a Black, hr); hr := F_VN_Draw Circle(400, 300, 300, ip Image Mask, a White, -1, hr); hr := F_VN_Histogram Exp( ip Src Image := ip Image In, ip Dest Histogram := ip Histograms, n Bins := 10, f Lower Bound := 100, f Upper Bound := 201, ip Mask := ip Image Mask, hr Prev := hr ); Samples • Handling histograms Required License TC3 Vision Base 1216 Version: 2.4.0 TF7000 - TF7810
## Page 1217

API reference System Requirements 6.1.4.15.12 F_VN_Invert Image Color F_VN_Invert Image Color ip Src Image ITc Vn Image HRESULT F_VN_Invert Image Color ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Invert the color of an image. For signed integer or negative floating point values, only the signs will be switched. If the image contains only positive floating point values, each pixel value is subtracted from the maximum available pixel value (or 1.0, whatever is higher). Syntax Definition: FUNCTION F_VN_Invert Image Color : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate image will be created if ITc Vn Image [} 413] required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.15.13 F_VN_Invert Image Color Exp F_VN_Invert Image Color Exp ip Src Image ITc Vn Image HRESULT F_VN_Invert Image Color Exp ip Dest Image Reference To ITc Vn Image f Max Value LREAL hr Prev HRESULT Invert the color of an image. (expert function) For signed integer or negative floating point values, only the signs will be switched. If the image contains only positive floating point values, each pixel value is subtracted from the maximum available pixel value (or 1.0, whatever is higher). Syntax Definition: TF7000 - TF7810 Version: 2.4.0 1217
## Page 1218

API reference FUNCTION F_VN_Invert Image Color Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; f Max Value : LREAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate image will be created if ITc Vn Image [} 413] required.) f Max Value LREAL Maximum pixel value (e.g. if a 16 bit image contains 12 bit values). -1 means the default values are used. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.15.14 F_VN_Normalize Image F_VN_Normalize Image ip Src Image ITc Vn Image HRESULT F_VN_Normalize Image ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Normalize an image regarding its value range (e.g. stretch pixel values [50..150] to full range [0..255]). Syntax Definition: FUNCTION F_VN_Normalize Image : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 1218 Version: 2.4.0 TF7000 - TF7810
## Page 1219

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.15.15 F_VN_Normalize Image Exp F_VN_Normalize Image Exp ip Src Image ITc Vn Image HRESULT F_VN_Normalize Image Exp ip Dest Image Reference To ITc Vn Image f Alpha LREAL f Beta LREAL e Norm Type ETc Vn Normalization Type e Dest Type ETc Vn Element Type ip Mask ITc Vn Image hr Prev HRESULT Normalize an image regarding its value range (e.g. stretch pixel values [50..150] to full range [0..255]) or scale the values regarding a specific normalization (e.g. L2-norm). (expert function) Syntax Definition: FUNCTION F_VN_Normalize Image Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; f Alpha : LREAL; f Beta : LREAL; e Norm Type : ETc Vn Normalization Type; e Dest Type : ETc Vn Element Type; ip Mask : ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) f Alpha LREAL Lower range boundary (in case of normalizing the value range) or value to normalize to (||ip Dest Image|| = f Alpha) f Beta LREAL Upper range boundary (in case of normalizing the value range) e Norm Type ETc Vn Normalization Type Normalization type (only INF, L1, L2 or MINMAX) [} 213] e Dest Type ETc Vn Element Type [} 203] Destination image depth (usually SAME_AS_SOURCE) ip Mask ITc Vn Image [} 413] Mask to restrict the normalization to specific pixel positions (set 0 to normalize the whole image) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 1219
## Page 1220

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.15.16 F_VN_Normalize Image For Display F_VN_Normalize Image For Display ip Src Image ITc Vn Image HRESULT F_VN_Normalize Image For Display ip Dest Image Reference To ITc Vn Image e Signed Normalization ETc Vn Signed Normalization hr Prev HRESULT Normalize an image for display, i.e. scale it to the full value range of the underlying data type (-1 to 1 for floating point). Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Normalize Image For Display : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; e Signed Normalization : ETc Vn Signed Normalization; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) e Signed Normal Option for normalizing signed values ization ETc Vn Signed Normalizatio n [} 220] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base 1220 Version: 2.4.0 TF7000 - TF7810
## Page 1221

API reference System Requirements 6.1.4.15.17 F_VN_Reference Color Similarity_ITc Vn Color Model F_VN_Reference Color Similarity_ITc Vn Color Model ip Src Image ITc Vn Image HRESULT F_VN_Reference Color Similarity_ITc Vn Color Model ip Dest Image Reference To ITc Vn Image ip Color Model ITc Vn Color Model hr Prev HRESULT Computes the similarity to a reference color model for each pixel in the source image. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Reference Color Similarity_ITc Vn Color Model : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; ip Color Model : ITc Vn Color Model; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] RGB source image (USINT, 3 channels) ip Dest Image Reference To Returns the similarity to ip Color Model for each pixel in ITc Vn Image [} 413] ip Src Image (USINT, 1 channel. An appropriate destination image will be created if required.) ip Color Model ITc Vn Color Model [} 420] Color model hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information There are three ways to pass the reference color to the corresponding function: • As a trained color model of the type ITc Vn Color Model • As a trained color model of the type ITc Vn Ml Model • Directly with values in a Tc Vn Vector3_LREAL, see sample To train a color model, a corresponding F_VN_Train Image Color [} 1227] function must be used. The two color models differ only in the data type, functionally there are no differences. The ITc Vn Ml Model is the general data type for ML models for which there are also function blocks for loading and saving. Therefore, this data type and the corresponding functions should be used if the trained color model is to be saved to disk. Samples • Color similarity with RGB reference color [} 2780] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1221
## Page 1222

API reference System Requirements 6.1.4.15.18 F_VN_Reference Color Similarity_ITc Vn Ml Model F_VN_Reference Color Similarity_ITc Vn Ml Model ip Src Image ITc Vn Image HRESULT F_VN_Reference Color Similarity_ITc Vn Ml Model ip Dest Image Reference To ITc Vn Image ip Color Model ITc Vn Ml Model hr Prev HRESULT Computes the similarity to a reference color model for each pixel in the source image. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Reference Color Similarity_ITc Vn Ml Model : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; ip Color Model : ITc Vn Ml Model; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] RGB source image (USINT, 3 channels) ip Dest Image Reference To Returns the similarity to ip Color Model for each pixel in ITc Vn Image [} 413] ip Src Image (USINT, 1 channel. An appropriate destination image will be created if required.) ip Color Model ITc Vn Ml Model [} 422] Color model hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information There are three ways to pass the reference color to the corresponding function: • As a trained color model of the type ITc Vn Color Model • As a trained color model of the type ITc Vn Ml Model • Directly with values in a Tc Vn Vector3_LREAL, see sample To train a color model, a corresponding F_VN_Train Image Color [} 1227] function must be used. The two color models differ only in the data type, functionally there are no differences. The ITc Vn Ml Model is the general data type for ML models for which there are also function blocks for loading and saving. Therefore, this data type and the corresponding functions should be used if the trained color model is to be saved to disk. Samples • Color similarity with RGB reference color [} 2780] Required License TC3 Vision Base 1222 Version: 2.4.0 TF7000 - TF7810
## Page 1223

API reference System Requirements 6.1.4.15.19 F_VN_Reference Color Similarity_Tc Vn Vector3_LREAL F_VN_Reference Color Similarity_Tc Vn Vector3_LREAL ip Src Image ITc Vn Image HRESULT F_VN_Reference Color Similarity_Tc Vn Vector3_LREAL ip Dest Image Reference To ITc Vn Image ↔a Ref Color Tc Vn Vector3_LREAL hr Prev HRESULT Computes the similarity to a reference color for each pixel in the source image. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Reference Color Similarity_Tc Vn Vector3_LREAL : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; END_VAR VAR_IN_OUT a Ref Color : Tc Vn Vector3_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] RGB source image (USINT, 3 channels) ip Dest Image Reference To Returns the similarity to a Ref Color for each pixel in ip Src Image ITc Vn Image [} 413] (USINT, 1 channel. An appropriate destination image will be created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Ref Color Tc Vn Vector3_LREAL Reference color (RGB, [0..255]) [} 165] Return value HRESULT [} 144] Further information There are three ways to pass the reference color to the corresponding function: • As a trained color model of the type ITc Vn Color Model • As a trained color model of the type ITc Vn Ml Model • Directly with values in a Tc Vn Vector3_LREAL, see sample To train a color model, a corresponding F_VN_Train Image Color [} 1227] function must be used. The two color models differ only in the data type, functionally there are no differences. The ITc Vn Ml Model is the general data type for ML models for which there are also function blocks for loading and saving. Therefore, this data type and the corresponding functions should be used if the trained color model is to be saved to disk. TF7000 - TF7810 Version: 2.4.0 1223
## Page 1224

API reference Samples • Color similarity with RGB reference color [} 2780] Required License TC3 Vision Base System Requirements 6.1.4.15.20 F_VN_Reference Color Similarity Exp_ITc Vn Color Model F_VN_Reference Color Similarity Exp_ITc Vn Color Model ip Src Image ITc Vn Image HRESULT F_VN_Reference Color Similarity Exp_ITc Vn Color Model ip Dest Image Reference To ITc Vn Image ip Color Model ITc Vn Color Model f Variance REAL f Luminance Weight REAL hr Prev HRESULT Computes the similarity to a reference color model for each pixel in the source image. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Reference Color Similarity Exp_ITc Vn Color Model : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; ip Color Model : ITc Vn Color Model; f Variance : REAL; f Luminance Weight : REAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] RGB source image (USINT, 3 channels) ip Dest Image Reference To Returns the similarity to ip Color Model for each pixel in ITc Vn Image [} 413] ip Src Image (USINT, 1 channel. An appropriate destination image will be created if required.) ip Color Model ITc Vn Color Model [} 420] Color model f Variance REAL Allowed color variance (0.1 - 0.3 might be a good start to try) f Luminance Wei REAL Weight the impact of the luminance ([0..1], e.g. set to 0 to be ght more resistant to unequal illumination, but might be required to differentiate between some colors. Ignored if ip Color Model is of type RGB.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information There are three ways to pass the reference color to the corresponding function: • As a trained color model of the type ITc Vn Color Model 1224 Version: 2.4.0 TF7000 - TF7810
## Page 1225

API reference • As a trained color model of the type ITc Vn Ml Model • Directly with values in a Tc Vn Vector3_LREAL, see sample To train a color model, a corresponding F_VN_Train Image Color [} 1227] function must be used. The two color models differ only in the data type, functionally there are no differences. The ITc Vn Ml Model is the general data type for ML models for which there are also function blocks for loading and saving. Therefore, this data type and the corresponding functions should be used if the trained color model is to be saved to disk. Samples • Color similarity with RGB reference color [} 2780] Required License TC3 Vision Base System Requirements 6.1.4.15.21 F_VN_Reference Color Similarity Exp_ITc Vn Ml Model F_VN_Reference Color Similarity Exp_ITc Vn Ml Model ip Src Image ITc Vn Image HRESULT F_VN_Reference Color Similarity Exp_ITc Vn Ml Model ip Dest Image Reference To ITc Vn Image ip Color Model ITc Vn Ml Model f Variance REAL f Luminance Weight REAL hr Prev HRESULT Computes the similarity to a reference color model for each pixel in the source image. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Reference Color Similarity Exp_ITc Vn Ml Model : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; ip Color Model : ITc Vn Ml Model; f Variance : REAL; f Luminance Weight : REAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] RGB source image (USINT, 3 channels) ip Dest Image Reference To Returns the similarity to ip Color Model for each pixel in ITc Vn Image [} 413] ip Src Image (USINT, 1 channel. An appropriate destination image will be created if required.) ip Color Model ITc Vn Ml Model [} 422] Color model f Variance REAL Allowed color variance (0.1 - 0.3 might be a good start to try) f Luminance Wei REAL Weight the impact of the luminance ([0..1], e.g. set to 0 to be ght more resistant to unequal illumination, but might be required to differentiate between some colors. Ignored if ip Color Model is of type RGB.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 1225
## Page 1226

API reference Return value HRESULT [} 144] Further information There are three ways to pass the reference color to the corresponding function: • As a trained color model of the type ITc Vn Color Model • As a trained color model of the type ITc Vn Ml Model • Directly with values in a Tc Vn Vector3_LREAL, see sample To train a color model, a corresponding F_VN_Train Image Color [} 1227] function must be used. The two color models differ only in the data type, functionally there are no differences. The ITc Vn Ml Model is the general data type for ML models for which there are also function blocks for loading and saving. Therefore, this data type and the corresponding functions should be used if the trained color model is to be saved to disk. Samples • Color similarity with RGB reference color [} 2780] Required License TC3 Vision Base System Requirements 6.1.4.15.22 F_VN_Reference Color Similarity Exp_Tc Vn Vector3_LREAL F_VN_Reference Color Similarity Exp_Tc Vn Vector3_LREAL ip Src Image ITc Vn Image HRESULT F_VN_Reference Color Similarity Exp_Tc Vn Vector3_LREAL ip Dest Image Reference To ITc Vn Image ↔a Ref Color Tc Vn Vector3_LREAL f Variance REAL f Luminance Weight REAL hr Prev HRESULT Computes the similarity to a reference color for each pixel in the source image. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Reference Color Similarity Exp_Tc Vn Vector3_LREAL : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; END_VAR VAR_IN_OUT a Ref Color : Tc Vn Vector3_LREAL; END_VAR VAR_INPUT f Variance : REAL; f Luminance Weight : REAL; hr Prev : HRESULT; END_VAR 1226 Version: 2.4.0 TF7000 - TF7810
## Page 1227

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] RGB source image (USINT, 3 channels) ip Dest Image Reference To Returns the similarity to a Ref Color for each pixel in ip Src Image ITc Vn Image [} 413] (USINT, 1 channel. An appropriate destination image will be created if required.) f Variance REAL Allowed color variance (0.1 - 0.3 might be a good start to try) f Luminance Wei REAL Weight the impact of the luminance ([0..1], e.g. set to 0 to be ght more resistant to unequal illumination, but might be required to differentiate between some colors) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Ref Color Tc Vn Vector3_LREAL Reference color (RGB, [0..255]) [} 165] Return value HRESULT [} 144] Further information There are three ways to pass the reference color to the corresponding function: • As a trained color model of the type ITc Vn Color Model • As a trained color model of the type ITc Vn Ml Model • Directly with values in a Tc Vn Vector3_LREAL, see sample To train a color model, a corresponding F_VN_Train Image Color [} 1227] function must be used. The two color models differ only in the data type, functionally there are no differences. The ITc Vn Ml Model is the general data type for ML models for which there are also function blocks for loading and saving. Therefore, this data type and the corresponding functions should be used if the trained color model is to be saved to disk. Samples • Color similarity with RGB reference color [} 2780] Required License TC3 Vision Base System Requirements 6.1.4.15.23 F_VN_Train Image Color F_VN_Train Image Color ip Src Image ITc Vn Image HRESULT F_VN_Train Image Color ip Color Model Reference To ITc Vn Color Model n Different Colors UDINT hr Prev HRESULT TF7000 - TF7810 Version: 2.4.0 1227
## Page 1228

API reference Create a new color model, describing the image color. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Train Image Color : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Color Model : Reference To ITc Vn Color Model; n Different Colors : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (3 channels (RGB) of type USINT) ip Color Model Reference To Returns the color model ITc Vn Color Model [} 420] n Different Color UDINT Number of different colors to distinguish s hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Train Image Color trains a color model on the basis of a reference image. If the trained color model is to be saved to disk, the F_VN_Train Image Color_ITc Vn Ml Model [} 1229] with the type ITc Vn Ml Model must be used. Parameter Reference image The reference image ip Src Image must have 3 channels in RGB format and the element type USINT (8-bit). Color model The parameter ip Color Model returns the trained color model. This is an interface pointer of the type ITc Vn Color Model [} 420]. Number of colors to be distinguished The number n Different Colors defines the number of colors to be trained. Note that the image background, for example, can also have its own color. Expert parameters Further parameters can be found in the expert version F_VN_Train Image Color Exp [} 1231]. Application The training of a color model for a reference image with 4 differently colored objects and a dark background looks like this, for example: 1228 Version: 2.4.0 TF7000 - TF7810
## Page 1229

API reference VAR ip Color Model : ITc Vn Color Model; END_VAR hr := F_VN_Train Image Color( ip Src Image := ip Image Ref, ip Color Model := ip Color Model, n Different Colors:= 5, // 4 colors + 1 background = 5 hr Prev := hr); Related functions There are three ways to pass the reference color to the corresponding F_VN_Reference Color Similarity function: • As a trained color model of the type ITc Vn Color Model • As a trained color model of the type ITc Vn Ml Model • Directly with values in a Tc Vn Vector3_LREAL For the color models there are corresponding functions for training and for all three data types one function each for execution: • F_VN_Train Image Color [} 1227] for the training of a color model • F_VN_Reference Color Similarity [} 1221] for segmentation by means of a color model Required License TC3 Vision Base System Requirements 6.1.4.15.24 F_VN_Train Image Color_ITc Vn Ml Model F_VN_Train Image Color_ITc Vn Ml Model ip Src Image ITc Vn Image HRESULT F_VN_Train Image Color_ITc Vn Ml Model ip Color Model Reference To ITc Vn Ml Model n Different Colors UDINT hr Prev HRESULT Create a new color model, describing the image color. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Train Image Color_ITc Vn Ml Model : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Color Model : Reference To ITc Vn Ml Model; n Different Colors : UDINT; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1229
## Page 1230

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (3 channels (RGB) of type USINT) ip Color Model Reference To Returns the color model ITc Vn Ml Model [} 422] n Different Color UDINT Number of different colors to distinguish s hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Train Image Color_ITc Vn Ml Model trains a color model on the basis of a reference image. The color model can be saved and loaded on the hard disk with the corresponding function blocks. Parameter Reference image The reference image ip Src Image must have 3 channels in RGB format and the element type USINT (8-bit). Color model The parameter ip Color Model returns the trained color model. This is an interface pointer of type ITc Vn Ml Model [} 422]. Number of colors to be distinguished The number n Different Colors defines the number of colors to be trained. Note that the image background, for example, can also have its own color. Expert parameters Further parameters can be found in the expert version F_VN_Train Image Color Exp_ITc Vn Ml Model [} 1233]. Application The training of a color model for a reference image with 4 differently colored objects and a dark background looks like this, for example: VAR ip Color Model : ITc Vn Ml Model; END_VAR hr := F_VN_Train Image Color_ITc Vn Ml Model( ip Src Image := ip Image Ref, ip Color Model := ip Color Model, n Different Colors:= 5, // 4 colors + 1 background = 5 hr Prev := hr); Related functions There are three ways to pass the reference color to the corresponding F_VN_Reference Color Similarity function: • As a trained color model of the type ITc Vn Color Model • As a trained color model of the type ITc Vn Ml Model 1230 Version: 2.4.0 TF7000 - TF7810
## Page 1231

API reference • Directly with values in a Tc Vn Vector3_LREAL For the color models there are corresponding functions for training and for all three data types one function each for execution: • F_VN_Train Image Color [} 1227] for the training of a color model • F_VN_Reference Color Similarity [} 1221] for segmentation by means of a color model Required License TC3 Vision Base System Requirements 6.1.4.15.25 F_VN_Train Image Color Exp F_VN_Train Image Color Exp ip Src Image ITc Vn Image HRESULT F_VN_Train Image Color Exp ip Color Model Reference To ITc Vn Color Model n Different Colors UDINT e Method ETc Vn Color Training Method ip Mask ITc Vn Image n Skip Pixels UDINT hr Prev HRESULT Create a new color model, describing the image color. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Train Image Color Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Color Model : Reference To ITc Vn Color Model; n Different Colors : UDINT; e Method : ETc Vn Color Training Method; ip Mask : ITc Vn Image; n Skip Pixels : UDINT; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1231
## Page 1232

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (3 channels (RGB) of type USINT) ip Color Model Reference To Returns the color model ITc Vn Color Model [} 420] n Different Color UDINT Number of different colors to distinguish s e Method Color training method ETc Vn Color Training Metho d [} 190] ip Mask ITc Vn Image [} 413] Optional image mask (1 channel of type USINT, set to 0 if not required) n Skip Pixels UDINT Number of pixels to skip between each evaluated color sample (to achieve a better performance). 0 takes every pixel into account and tends to be more accurate. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Train Image Color Exp is the expert version of F_VN_Train Image Color [} 1227]. It contains further parameters. If the trained color model is to be saved to disk, the F_VN_Train Image Color Exp_ITc Vn Ml Model [} 1233] with the type ITc Vn Ml Model must be used. Parameter Reference image The reference image ip Src Image must have 3 channels in RGB format and the element type USINT (8-bit). Color model The parameter ip Color Model returns the trained color model. This is an interface pointer of the type ITc Vn Color Model [} 420]. Number of colors to be distinguished The number n Different Colors defines the number of colors to be trained. Note that the image background, for example, can also have its own color. Expert parameters Additional parameters can be found in another expert version F_VN_Train Image Color Exp2 [} 1235]. Training methods When selecting the training method, the LAB and RGB color spaces are available. 1232 Version: 2.4.0 TF7000 - TF7810
## Page 1233

API reference Mask The mask ip Mask defines which pixels of the input image ip Src Image are taken into account in the calculation. It is described by a 1-channel image with the element type USINT, which has the same size as the input image ip Src Image. All pixels in the mask image with a value <> 0 are taken into account in the calculation of the cluster. Pixel gap For performance optimization, a number of pixels can be skipped so that fewer pixels need to be considered when dividing into the individual clusters. Application VAR ip Color Model : ITc Vn Color Model; END_VAR hr := F_VN_Train Image Color( ip Src Image := ip Image Ref, ip Color Model := ip Color Model, n Different Colors:= 5, // 4 colors + 1 background = 5 e Method := TCVN_CTM_LAB, ip Mask := 0, n Skip Pixels := 3, hr Prev := hr); Related functions There are three ways to pass the reference color to the corresponding F_VN_Reference Color Similarity function: • As a trained color model of the type ITc Vn Color Model • As a trained color model of the type ITc Vn Ml Model • Directly with values in a Tc Vn Vector3_LREAL For the color models there are corresponding functions for training and for all three data types one function each for execution: • F_VN_Train Image Color [} 1227] for the training of a color model • F_VN_Reference Color Similarity [} 1221] for segmentation by means of a color model Required License TC3 Vision Base System Requirements 6.1.4.15.26 F_VN_Train Image Color Exp_ITc Vn Ml Model F_VN_Train Image Color Exp_ITc Vn Ml Model ip Src Image ITc Vn Image HRESULT F_VN_Train Image Color Exp_ITc Vn Ml Model ip Color Model Reference To ITc Vn Ml Model n Different Colors UDINT e Method ETc Vn Color Training Method ip Mask ITc Vn Image n Skip Pixels UDINT hr Prev HRESULT Create a new color model, describing the image color. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 1233
## Page 1234

API reference FUNCTION F_VN_Train Image Color Exp_ITc Vn Ml Model : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Color Model : Reference To ITc Vn Ml Model; n Different Colors : UDINT; e Method : ETc Vn Color Training Method; ip Mask : ITc Vn Image; n Skip Pixels : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (3 channels (RGB) of type USINT) ip Color Model Reference To Returns the color model ITc Vn Ml Model [} 422] n Different Color UDINT Number of different colors to distinguish s e Method Color training method ETc Vn Color Training Metho d [} 190] ip Mask ITc Vn Image [} 413] Optional image mask (1 channel of type USINT, set to 0 if not required) n Skip Pixels UDINT Number of pixels to skip between each evaluated color sample (to achieve a better performance). 0 takes every pixel into account and tends to be more accurate. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Train Image Color Exp_ITc Vn Ml Model is the expert version of F_VN_Train Image Color_ITc Vn Ml Model [} 1229]. It contains further parameters. The color model can be saved and loaded on the hard disk with the corresponding function blocks. Parameter Reference image The reference image ip Src Image must have 3 channels in RGB format and the element type USINT (8-bit). Color model The parameter ip Color Model returns the trained color model. This is an interface pointer of type ITc Vn Ml Model [} 422]. Number of colors to be distinguished The number n Different Colors defines the number of colors to be trained. Note that the image background, for example, can also have its own color. Expert parameters Additional parameters can be found in another expert version F_VN_Train Image Color Exp2_ITc Vn Ml Model [} 1238]. 1234 Version: 2.4.0 TF7000 - TF7810
## Page 1235

API reference Training methods When selecting the training method, the LAB and RGB color spaces are available. Mask The mask ip Mask defines which pixels of the input image ip Src Image are taken into account in the calculation. It is described by a 1-channel image with the element type USINT, which has the same size as the input image ip Src Image. All pixels in the mask image with a value <> 0 are taken into account in the calculation of the cluster. Pixel gap For performance optimization, a number of pixels can be skipped so that fewer pixels need to be considered when dividing into the individual clusters. Application VAR ip Color Model : ITc Vn Ml Model; END_VAR hr := F_VN_Train Image Color Exp_ITc Vn Ml Model ( ip Src Image := ip Image Ref, ip Color Model := ip Color Model, n Different Colors:= 5, // 4 colors + 1 background = 5 e Method := TCVN_CTM_LAB, ip Mask := 0, n Skip Pixels := 3, hr Prev := hr); Related functions There are three ways to pass the reference color to the corresponding F_VN_Reference Color Similarity function: • As a trained color model of the type ITc Vn Color Model • As a trained color model of the type ITc Vn Ml Model • Directly with values in a Tc Vn Vector3_LREAL For the color models there are corresponding functions for training and for all three data types one function each for execution: • F_VN_Train Image Color [} 1227] for the training of a color model • F_VN_Reference Color Similarity [} 1221] for segmentation by means of a color model Required License TC3 Vision Base System Requirements 6.1.4.15.27 F_VN_Train Image Color Exp2 F_VN_Train Image Color Exp2 ip Src Image ITc Vn Image HRESULT F_VN_Train Image Color Exp2 ip Color Model Reference To ITc Vn Color Model n Different Colors UDINT e Method ETc Vn Color Training Method ip Mask ITc Vn Image n Skip Pixels UDINT e Clustering Algorithm ETc Vn Clustering Algorithm n Max Cluster Radius DINT b Single Split Steps BOOL hr Prev HRESULT TF7000 - TF7810 Version: 2.4.0 1235
## Page 1236

API reference Create a new color model, describing the image color. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Train Image Color Exp2 : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Color Model : Reference To ITc Vn Color Model; n Different Colors : UDINT; e Method : ETc Vn Color Training Method; ip Mask : ITc Vn Image; n Skip Pixels : UDINT; e Clustering Algorithm : ETc Vn Clustering Algorithm; n Max Cluster Radius : DINT; b Single Split Steps : BOOL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (3 channels (RGB) of type USINT) ip Color Model Reference To Returns the color model ITc Vn Color Model [} 420] n Different Color UDINT Maximum number of different colors to distinguish (if LBG is s used as a clustering algorithm, the result might have less different colors, depending on n Max Cluster Radius) e Method Color training method ETc Vn Color Training Metho d [} 190] ip Mask ITc Vn Image [} 413] Optional image mask (1 channel of type USINT, set to 0 if not required) n Skip Pixels UDINT Number of pixels to skip between each evaluated color sample (to achieve a better performance). 0 takes every pixel into account and tends to be more accurate. e Clustering Alg ETc Vn Clustering Algorithm Clustering algorithm orithm [} 172] n Max Cluster Ra DINT Only used for the LBG clustering algorithm. Maximum allowed dius radius (> 0) of a single cluster, i.e. clusters with a higher radius will be split into smaller ones, until a global number of n Different Colors is reached. b Single Split Ste BOOL Only used for the LBG clustering algorithm. If true, the global ps optimization is always run after a single cluster has been split. If false, several clusters are split within the same step before applying the global optimization. Applying the global optimization less often is faster, but can lead to less optimal results, especially having 2 nearby clusters that could be represented by 1) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] 1236 Version: 2.4.0 TF7000 - TF7810
## Page 1237

API reference Further information The function F_VN_Train Image Color Exp2 is the extended expert version of F_VN_Train Image Color Exp [} 1231]. It contains further parameters. If the trained color model is to be saved to disk, the F_VN_Train Image Color Exp2_ITc Vn Ml Model [} 1238] with the type ITc Vn Ml Model must be used. Parameter Reference image The reference image ip Src Image must have 3 channels in RGB format and the element type USINT (8-bit). Color model The parameter ip Color Model returns the trained color model. This is an interface pointer of the type ITc Vn Color Model [} 420]. Number of colors to be distinguished The number n Different Colors defines the number of colors to be trained. Note that the image background, for example, can also have its own color. Clustering algorithm When selecting the clustering algorithm, KMeans++ (fixed number of clusters) and LBG (dynamic number of clusters) are available. Maximum cluster radius Used only with the LBG cluster algorithm. This can be used to influence the distribution of the individual clusters. Global optimization Used only with the LBG cluster algorithm. This allows a choice between shorter execution time (b Single Split Steps = FALSE) and improved results (b Single Split Steps = TRUE). Less frequent use of global optimization is faster, but may lead to less optimal results. Application VAR ip Color Model : ITc Vn Color Model; END_VAR hr := F_VN_Train Image Color Exp2( ip Src Image := ip Image Ref, ip Color Model := ip Color Model, n Different Colors := 5, // 4 colors + 1 background = 5 e Method := TCVN_CTM_LAB, ip Mask := 0, n Skip Pixels := 3, e Clustering Algorithm:= TCVN_CA_KMEANSPP, n Max Cluster Radius := 0, b Single Split Steps := FALSE, hr Prev := hr); Related functions There are three ways to pass the reference color to the corresponding F_VN_Reference Color Similarity function: • As a trained color model of the type ITc Vn Color Model • As a trained color model of the type ITc Vn Ml Model • Directly with values in a Tc Vn Vector3_LREAL TF7000 - TF7810 Version: 2.4.0 1237
## Page 1238

API reference For the color models there are corresponding functions for training and for all three data types one function each for execution: • F_VN_Train Image Color [} 1227] for the training of a color model • F_VN_Reference Color Similarity [} 1221] for segmentation by means of a color model Required License TC3 Vision Base System Requirements 6.1.4.15.28 F_VN_Train Image Color Exp2_ITc Vn Ml Model F_VN_Train Image Color Exp2_ITc Vn Ml Model ip Src Image ITc Vn Image HRESULT F_VN_Train Image Color Exp2_ITc Vn Ml Model ip Color Model Reference To ITc Vn Ml Model n Different Colors UDINT e Method ETc Vn Color Training Method ip Mask ITc Vn Image n Skip Pixels UDINT e Clustering Algorithm ETc Vn Clustering Algorithm n Max Cluster Radius DINT b Single Split Steps BOOL hr Prev HRESULT Create a new color model, describing the image color. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Train Image Color Exp2_ITc Vn Ml Model : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Color Model : Reference To ITc Vn Ml Model; n Different Colors : UDINT; e Method : ETc Vn Color Training Method; ip Mask : ITc Vn Image; n Skip Pixels : UDINT; e Clustering Algorithm : ETc Vn Clustering Algorithm; n Max Cluster Radius : DINT; b Single Split Steps : BOOL; hr Prev : HRESULT; END_VAR 1238 Version: 2.4.0 TF7000 - TF7810
## Page 1239

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (3 channels (RGB) of type USINT) ip Color Model Reference To Returns the color model ITc Vn Ml Model [} 422] n Different Color UDINT Maximum number of different colors to distinguish (if LBG is s used as a clustering algorithm, the result might have less different colors, depending on n Max Cluster Radius) e Method Color training method ETc Vn Color Training Metho d [} 190] ip Mask ITc Vn Image [} 413] Optional image mask (1 channel of type USINT, set to 0 if not required) n Skip Pixels UDINT Number of pixels to skip between each evaluated color sample (to achieve a better performance). 0 takes every pixel into account and tends to be more accurate. e Clustering Alg ETc Vn Clustering Algorithm Clustering algorithm orithm [} 172] n Max Cluster Ra DINT Only used for the LBG clustering algorithm. Maximum allowed dius radius (> 0) of a single cluster, i.e. clusters with a higher radius will be split into smaller ones, until a global number of n Different Colors is reached. b Single Split Ste BOOL Only used for the LBG clustering algorithm. If true, the global ps optimization is always run after a single cluster has been split. If false, several clusters are split within the same step before applying the global optimization. Applying the global optimization less often is faster, but can lead to less optimal results, especially having 2 nearby clusters that could be represented by 1) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Train Image Color Exp2_ITc Vn Ml Model is the extended expert version of F_VN_Train Image Color Exp_ITc Vn Ml Model [} 1233]. It contains further parameters. The color model can be saved and loaded on the hard disk with the corresponding function blocks. Parameter Reference image The reference image ip Src Image must have 3 channels in RGB format and the element type USINT (8-bit). Color model The parameter ip Color Model returns the trained color model. This is an interface pointer of type ITc Vn Ml Model [} 422]. TF7000 - TF7810 Version: 2.4.0 1239
## Page 1240

API reference Number of colors to be distinguished The number n Different Colors defines the number of colors to be trained. Note that the image background, for example, can also have its own color. Clustering algorithm When selecting the clustering algorithm, KMeans++ (fixed number of clusters) and LBG (dynamic number of clusters) are available. Maximum cluster radius Used only with the LBG cluster algorithm. This can be used to influence the distribution of the individual clusters. Global optimization Used only with the LBG cluster algorithm. This allows a choice between shorter execution time (b Single Split Steps = FALSE) and improved results (b Single Split Steps = TRUE). Less frequent use of global optimization is faster, but may lead to less optimal results. Application VAR ip Color Model : ITc Vn Color Model; END_VAR hr := F_VN_Train Image Color Exp2_ITc Vn Ml Model( ip Src Image := ip Image Ref, ip Color Model := ip Color Model, n Different Colors := 5, // 4 colors + 1 background = 5 e Method := TCVN_CTM_LAB, ip Mask := 0, n Skip Pixels := 3, e Clustering Algorithm:= TCVN_CA_KMEANSPP, n Max Cluster Radius := 0, b Single Split Steps := FALSE, hr Prev := hr); Related functions There are three ways to pass the reference color to the corresponding F_VN_Reference Color Similarity function: • As a trained color model of the type ITc Vn Color Model • As a trained color model of the type ITc Vn Ml Model • Directly with values in a Tc Vn Vector3_LREAL For the color models there are corresponding functions for training and for all three data types one function each for execution: • F_VN_Train Image Color [} 1227] for the training of a color model • F_VN_Reference Color Similarity [} 1221] for segmentation by means of a color model Required License TC3 Vision Base 1240 Version: 2.4.0 TF7000 - TF7810
## Page 1241

API reference System Requirements 6.1.4.15.29 F_VN_White Balance F_VN_White Balance ip Src Image ITc Vn Image HRESULT F_VN_White Balance ip Dest Image Reference To ITc Vn Image f Ratio Red Reference To REAL f Ratio Blue Reference To REAL n Max Value UDINT hr Prev HRESULT Calculates the white balance ratios for a RGB image. Uses the green channel as a reference and computes the relative ratios for the red and blue channels. Requires a non-reflecting, not overexposed white colored object (e.g. a sheet of paper) in at least 100 pixels of the image to provide reasonable results. The resulting ratios can then be set on the camera (multiply with existing ratios), or applied in the PLC via Multiply Image With Vector. Syntax Definition: FUNCTION F_VN_White Balance : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; f Ratio Red : Reference To REAL; f Ratio Blue : Reference To REAL; n Max Value : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (3 channels (RGB), USINT or UINT) ip Dest Image Reference To Destination image with white balance applied (optional, set to 0 ITc Vn Image [} 413] if not required. An appropriate image will be created if required.) f Ratio Red Reference To REAL Returns the ratio for the red channel f Ratio Blue Reference To REAL Returns the ratio for the blue channel n Max Value UDINT Specify the maximum pixel value that would be achieved by overexposure (usually 255 for 8 bit or 4095 for 12 bit data) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.16 Image Filtering This group contains functions for filtering images. TF7000 - TF7810 Version: 2.4.0 1241
## Page 1242

API reference Functions Blurring • F_VN_Bilateral Filter(Exp) [} 1242] • F_VN_Box Filter(Exp) [} 1247] • F_VN_Gaussian Filter(Exp) [} 1260] • F_VN_Median Filter [} 1271] Edge detection • F_VN_Laplacian Filter(Exp) [} 1264] • F_VN_Scharr Filter(Exp) [} 1278] • F_VN_Sobel Filter(Exp) [} 1286] User-defined filters • F_VN_Custom Filter(Exp) [} 1252] • F_VN_Separable Custom Filter(Exp) [} 1282] Fill areas • F_VN_Bright Border Objects [} 1249] • F_VN_Dark Border Objects [} 1257] • F_VN_Fill Holes [} 1258] Morphological operator • F_VN_Create Structuring Element [} 1251] • F_VN_Morphological Operator [} 1274] Local extremes • F_VN_Local Maxima [} 1268] • F_VN_Local Minima [} 1269] • F_VN_Remove Local Maxima [} 1275] • F_VN_Remove Local Minima [} 1277] Local variance • F_VN_Variance Filter(Exp) [} 1290] Samples Image filtering [} 2785] 6.1.4.16.1 F_VN_Bilateral Filter F_VN_Bilateral Filter ip Src Image ITc Vn Image HRESULT F_VN_Bilateral Filter ip Dest Image Reference To ITc Vn Image n Diameter DINT f Sigma Color LREAL f Sigma Space LREAL hr Prev HRESULT Apply a Bilateral filter to smooth the image but preserve edges. Can use available Twin CAT Job Tasks for executing parallel code regions. 1242 Version: 2.4.0 TF7000 - TF7810
## Page 1243

API reference Syntax Definition: FUNCTION F_VN_Bilateral Filter : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; n Diameter : DINT; f Sigma Color : LREAL; f Sigma Space : LREAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (Must be different from ip Src Image! An ITc Vn Image [} 413] appropriate destination image will be created if required.) n Diameter DINT Diameter of the pixel neighborhood used for filtering (e.g. 5, 7, 9). If <= 0, it is automatically chosen dependend on f Sigma Space. f Sigma Color LREAL Sigma used for color space filtering (> 0). A larger value means that farther colors are mixed together. f Sigma Space LREAL Sigma used for coordinate space filtering (> 0). A larger value means that farther pixels can influence each other. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Bilateral Filter applies a bilateral filter to the original image. The filter smooths the image and reduces noise while retaining the edges in the image. Parameter Original image The original image ip Src Image must be of the element type TCVN_ET_USINT or a floating point type and have 1 or 3 channels. Result image The result image ip Dest Image must be a different interface pointer to the original image ip Src Image! Filter diameter The filter diameter n Diameter determines the size of a filter area. An odd number is expected. If n Diameter = 0, then the filter diameter is automatically calculated on the basis of f Sigma Space. Color area This value may not be 0. Room area This value may not be 0. Expert parameters TF7000 - TF7810 Version: 2.4.0 1243
## Page 1244

API reference Further parameters can be found in the expert version F_VN_Bilateral Filter Exp [} 1246]. Application An application of this function can look like this, for example: hr := F_VN_Bilateral Filter( ip Src Image := ip Image, ip Dest Image := ip Image Res, n Diameter := n Diameter, f Sigma Color := f Sigma Color, f Sigma Space := f Sigma Space, hr Prev := hr ); The unprocessed original image (1st row) already exhibits fine structures on the surface of the gear wheels in the detail. In order to illustrate the effects of the filters, additional disturbances were added to the original image by Gauss noise (2nd row) and salt-and-pepper noise (3rd row). 1244 Version: 2.4.0 TF7000 - TF7810
## Page 1245

API reference Original images Result images: Diameter = 7 Sigma = 100 Samples • Blur filter [} 2785] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1245
## Page 1246

API reference System Requirements 6.1.4.16.2 F_VN_Bilateral Filter Exp F_VN_Bilateral Filter Exp ip Src Image ITc Vn Image HRESULT F_VN_Bilateral Filter Exp ip Dest Image Reference To ITc Vn Image n Diameter DINT f Sigma Color LREAL f Sigma Space LREAL e Border Type ETc Vn Border Interpolation Method hr Prev HRESULT Apply a Bilateral filter to smooth the image but preserve edges. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Bilateral Filter Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; n Diameter : DINT; f Sigma Color : LREAL; f Sigma Space : LREAL; e Border Type : ETc Vn Border Interpolation Method; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (Must be different from ip Src Image! An ITc Vn Image [} 413] appropriate destination image will be created if required.) n Diameter DINT Diameter of the pixel neighborhood used for filtering (e.g. 5, 7, 9). If <= 0, it is automatically chosen dependend on f Sigma Space. f Sigma Color LREAL Sigma used for color space filtering (> 0). A larger value means that farther colors are mixed together. f Sigma Space LREAL Sigma used for coordinate space filtering (> 0). A larger value means that farther pixels can influence each other. e Border Type Image border handling ETc Vn Border Interpolation Method [} 169] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Bilateral Filter Exp is the expert version of F_VN_Bilateral Filter [} 1242]. It contains additional parameters. 1246 Version: 2.4.0 TF7000 - TF7810
## Page 1247

API reference Parameter Original image The original image ip Src Image must be of the element type TCVN_ET_USINT or a floating point type and have 1 or 3 channels. Result image The result image ip Dest Image must be a different interface pointer to the original image ip Src Image! Filter diameter The filter diameter n Diameter determines the size of a filter area. An odd number is expected. If n Diameter = 0, then the filter diameter is automatically calculated on the basis of f Sigma Space. Color area This value may not be 0. Room area This value may not be 0. Border extrapolation The method of border extrapolation e Border Type defines how non-existent pixels are extrapolated beyond the image border in order to calculate the filter values at the image borders. For further details, see ETc Vn Border Interpolation Method [} 169]. Application An application of this function can look like this, for example: hr := F_VN_Bilateral Filter Exp( ip Src Image := ip Image, ip Dest Image := ip Image Res, n Diameter := n Diameter, f Sigma Color := f Sigma Color, f Sigma Space := f Sigma Space, e Border Type := e Border Type, hr Prev := hr ); Samples • Blur filter [} 2785] Required License TC3 Vision Base System Requirements 6.1.4.16.3 F_VN_Box Filter F_VN_Box Filter ip Src Image ITc Vn Image HRESULT F_VN_Box Filter ip Dest Image Reference To ITc Vn Image n Filter Width UDINT n Filter Height UDINT hr Prev HRESULT Apply a box filter to an image. TF7000 - TF7810 Version: 2.4.0 1247
## Page 1248

API reference Syntax Definition: FUNCTION F_VN_Box Filter : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; n Filter Width : UDINT; n Filter Height : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) n Filter Width UDINT Filter width in pixels n Filter Height UDINT Filter height in pixels hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.16.4 F_VN_Box Filter Exp F_VN_Box Filter Exp ip Src Image ITc Vn Image HRESULT F_VN_Box Filter Exp ip Dest Image Reference To ITc Vn Image n Filter Width UDINT n Filter Height UDINT e Dest Depth ETc Vn Element Type ↔ a Anchor Tc Vn Point b Normalize BOOL e Border Type ETc Vn Border Interpolation Method hr Prev HRESULT Apply a box filter to an image. (expert function) Syntax Definition: FUNCTION F_VN_Box Filter Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; n Filter Width : UDINT; n Filter Height : UDINT; e Dest Depth : ETc Vn Element Type; END_VAR VAR_IN_OUT a Anchor : Tc Vn Point; 1248 Version: 2.4.0 TF7000 - TF7810
## Page 1249

API reference END_VAR VAR_INPUT b Normalize : BOOL; e Border Type : ETc Vn Border Interpolation Method; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) n Filter Width UDINT Filter width in pixels n Filter Height UDINT Filter height in pixels e Dest Depth ETc Vn Element Type [} 203] Destination image depth b Normalize BOOL If true, the kernel is normalized by n Filter Width * n Filter Height e Border Type Image border handling ETc Vn Border Interpolation Method [} 169] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Anchor Tc Vn Point [} 163] Anchor point of the kernel ([-1, -1] for center) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.16.5 F_VN_Bright Border Objects F_VN_Bright Border Objects ip Src Image ITc Vn Image HRESULT F_VN_Bright Border Objects ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Find bright objects connected to the image border within a gray-scale single-channel image. Syntax Definition: FUNCTION F_VN_Bright Border Objects : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1249
## Page 1250

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT, UINT, INT, REAL, or LREAL, 1 channel) ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information This function transfers all bright border objects in the input image to the result image. Algorithm All objects in the image that are brighter than the surrounding pixels are removed. Parameter Input image The input image ip Src Image may only have one channel and must have one of the following element types: USINT, UINT, INT, REAL or LREAL. Result image The result image ip Dest Image returns the bright border objects. Application hr := F_VN_Bright Border Objects( ip Src Image := ip Image In, ip Dest Image := ip Image Res, hr Prev := hr ); Input image Result image Related functions • F_VN_Dark Border Objects [} 1257] • F_VN_Fill Holes [} 1258] 1250 Version: 2.4.0 TF7000 - TF7810
## Page 1251

API reference Required License TC3 Vision Base System Requirements 6.1.4.16.6 F_VN_Create Structuring Element F_VN_Create Structuring Element ip Structuring Element Reference To ITc Vn Image HRESULT F_VN_Create Structuring Element e Shape ETc Vn Structuring Element Shape n Width UDINT n Height UDINT hr Prev HRESULT Creates a structuring element for the usage with morphological operators and allocate an appropriate data buffer. The initial reference count is set to one if a new image interface is created and kept, otherwise. Syntax Definition: FUNCTION F_VN_Create Structuring Element : HRESULT VAR_INPUT ip Structuring Element : Reference To ITc Vn Image; e Shape : ETc Vn Structuring Element Shape; n Width : UDINT; n Height : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Structuring El Reference To Returns the created structuring element (Non-zero interface ement ITc Vn Image [} 413] pointers are reused.) e Shape Shape of the structuring element (rectangle, cross, or ellipse) ETc Vn Structuring Element S hape [} 221] n Width UDINT Width n Height UDINT Height hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function creates a structure element that can be used for morphological operations with F_VN_Morphological Operator [} 1274]. Parameter Structure element The structure element created, ip Structuring Element, is returned as ITc Vn Image [} 413] by representing the structure element with pixels with the value 1. Shape TF7000 - TF7810 Version: 2.4.0 1251
## Page 1252

API reference The shape e Shape of the structure element is defined by the enum ETc Vn Structuring Element Shape [} 221]. The following shapes are available: TCVN_SES_RECTANGLE TCVN_SES_CROSS TCVN_SES_ELLIPSE As the pixel values of the structure element are 1, they were scaled up here for a better display. Size The size of the structure element is defined by the width n Width and height n Height of the image ip Structuring Element to be created. Application The creation of a square structure element of the size 9 looks like this, for example: hr := F_VN_Create Structuring Element( ip Structuring Element := ip Element, e Shape := TCVN_SES_RECTANGLE, n Width := 9, n Height := 9, hr Prev := hr ); Required License TC3 Vision Base System Requirements 6.1.4.16.7 F_VN_Custom Filter F_VN_Custom Filter ip Src Image ITc Vn Image HRESULT F_VN_Custom Filter ip Dest Image Reference To ITc Vn Image e Dest Depth ETc Vn Element Type ↔ st Kernel Tc Vn Matrix hr Prev HRESULT Apply a custom filter to the image. Syntax Definition: FUNCTION F_VN_Custom Filter : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; e Dest Depth : ETc Vn Element Type; END_VAR VAR_IN_OUT st Kernel : Tc Vn Matrix; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR 1252 Version: 2.4.0 TF7000 - TF7810
## Page 1253

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) e Dest Depth ETc Vn Element Type [} 203] Destination image depth hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Kernel Tc Vn Matrix [} 238] Custom filter kernel with values of type REAL or LREAL Return value HRESULT [} 144] Further information The function F_VN_Custom Filter applies a user-defined filter to the input image. The filter kernel is defined by a matrix. This matrix is folded with the image. Parameter Input image The input image ip Src Image may have any available format. Result image The result image ip Dest Image has the same format as the input image ip Src Image. Result depth The result depth e Dest Depth defines which element type the result image ip Dest Image has. A larger element type can display more information. Filter kernel The user-defined filter kernel st Kernel is transferred as a matrix. Permitted element types of the matrix are TCVN_ET_REAL and TCVN_ET_LREAL. A corresponding matrix of the type Tc Vn Matrix [} 238] can be created with the aid of the function F_VN_Init Matrix Struct [} 1525]. Expert parameters The expert version F_VN_Custom Filter Exp [} 1255] contains additional parameters. Application hr := F_VN_Init Matrix Struct( p Src Buffer := ADR(a Matrix Array7x7), st Dest Matrix := st Kernel Matrix, n Rows := 7, n Cols := 7, e Element Type := TCVN_ET_REAL, hr Prev := hr ); hr := F_VN_Custom Filter( ip Src Image := ip Image In, ip Dest Image := ip Image Res, TF7000 - TF7810 Version: 2.4.0 1253
## Page 1254

API reference e Dest Depth := TCVN_ET_USINT, st Kernel := st Kernel Matrix, hr Prev := hr ); • The unprocessed original image (1st row) already exhibits fine structures on the surface of the gear wheels in the detail. In order to illustrate the effects of the filters, additional disturbances were added to the original image by Gauss noise (2nd row) and salt-and-pepper noise (3rd row). An average filter is implemented as an example; a more detailed description can be found in the sample for the Blur filter [} 2785]: Original images Result images: Mean filter Samples • Blur filter [} 2785] • User-defined filters 1254 Version: 2.4.0 TF7000 - TF7810
## Page 1255

API reference Required License TC3 Vision Base System Requirements 6.1.4.16.8 F_VN_Custom Filter Exp F_VN_Custom Filter Exp ip Src Image ITc Vn Image HRESULT F_VN_Custom Filter Exp ip Dest Image Reference To ITc Vn Image e Dest Depth ETc Vn Element Type ↔ st Kernel Tc Vn Matrix ↔ a Anchor Tc Vn Point f Delta LREAL e Border Type ETc Vn Border Interpolation Method hr Prev HRESULT Apply a custom filter to the image. (expert function) Syntax Definition: FUNCTION F_VN_Custom Filter Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; e Dest Depth : ETc Vn Element Type; END_VAR VAR_IN_OUT st Kernel : Tc Vn Matrix; a Anchor : Tc Vn Point; END_VAR VAR_INPUT f Delta : LREAL; e Border Type : ETc Vn Border Interpolation Method; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) e Dest Depth ETc Vn Element Type [} 203] Destination image depth f Delta LREAL Value added to each pixel after filtering e Border Type Image border handling ETc Vn Border Interpolation Method [} 169] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Kernel Tc Vn Matrix [} 238] Custom filter kernel with values of type REAL or LREAL a Anchor Tc Vn Point [} 163] Anchor point of the kernel TF7000 - TF7810 Version: 2.4.0 1255
## Page 1256

API reference Return value HRESULT [} 144] Further information The function F_VN_Custom Filter Exp is the expert version of F_VN_Custom Filter [} 1252]. It contains additional parameters. Parameter Input image The input image ip Src Image may have any available format. Result image The result image ip Dest Image has the same format as the input image ip Src Image. Result depth The result depth e Dest Depth defines which element type the result image ip Dest Image has. A larger element type can display more information. Filter kernel The user-defined filter kernel st Kernel is transferred as a matrix. Permitted element types of the matrix are TCVN_ET_REAL and TCVN_ET_LREAL. A corresponding matrix of the type Tc Vn Matrix [} 238] can be created with the aid of the function F_VN_Init Matrix Struct [} 1525]. Anchor point The anchor point a Anchor defines which point of the filter kernel is moved over each pixel of the input image ip Src Image. Delta The constant delta f Delta is added to the result of the filter operation. Border extrapolation The method of border extrapolation e Border Type defines how non-existent pixels are extrapolated beyond the image border in order to calculate the filter values at the image borders. For further details, see ETc Vn Border Interpolation Method [} 169]. Application hr := F_VN_Custom Filter Exp( ip Src Image := ip Image In, ip Dest Image := ip Image Res, e Dest Depth := TCVN_ET_USINT, st Kernel := st Kernel Matrix, a Anchor := a Anchor Point, f Delta := 0, e Border Type := TCVN_BIM_DEFAULT, hr Prev := hr ); Samples • User-defined filters Required License TC3 Vision Base 1256 Version: 2.4.0 TF7000 - TF7810
## Page 1257

API reference System Requirements 6.1.4.16.9 F_VN_Dark Border Objects F_VN_Dark Border Objects ip Src Image ITc Vn Image HRESULT F_VN_Dark Border Objects ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Find dark objects connected to the image border within a gray-scale single-channel image. (equivalent to filling holes) Syntax Definition: FUNCTION F_VN_Dark Border Objects : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT, UINT, INT, REAL, or LREAL, 1 channel) ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information This function transfers all dark border objects in the input image to the result image. Algorithm All objects in the image that are darker than the surrounding pixels are removed. Parameter Input image The input image ip Src Image may only have one channel and must have one of the following element types: USINT, UINT, INT, REAL or LREAL. Result image The result image ip Dest Image returns the dark border objects. Application hr := F_VN_Dark Border Objects( ip Src Image := ip Image In, ip Dest Image := ip Image Res, hr Prev := hr ); TF7000 - TF7810 Version: 2.4.0 1257
## Page 1258

API reference Input image Result image Related functions • F_VN_Fill Holes [} 1258] als Alias • F_VN_Bright Border Objects [} 1249] Required License TC3 Vision Base System Requirements 6.1.4.16.10 F_VN_Fill Holes F_VN_Fill Holes ip Src Image ITc Vn Image HRESULT F_VN_Fill Holes ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Fill holes within a gray-scale single-channel image. (equivalent to finding dark border objects) Syntax Definition: FUNCTION F_VN_Fill Holes : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT, UINT, INT, REAL, or LREAL, 1 channel) ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 1258 Version: 2.4.0 TF7000 - TF7810
## Page 1259

API reference Return value HRESULT [} 144] Further information This function fills holes in the input image. Algorithm All objects in the image that are darker than the surrounding pixels are removed. Parameter Input image The input image ip Src Image may only have one channel and must have one of the following element types: USINT, UINT, INT, REAL or LREAL. Result image The result image ip Dest Image returns the image with the holes filled. Application hr := F_VN_Fill Holes( ip Src Image := ip Image In, ip Dest Image := ip Image Res, hr Prev := hr ); Input image Result image Related functions • F_VN_Dark Border Objects [} 1257] as alias • F_VN_Bright Border Objects [} 1249] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1259
## Page 1260

API reference System Requirements 6.1.4.16.11 F_VN_Gaussian Filter F_VN_Gaussian Filter ip Src Image ITc Vn Image HRESULT F_VN_Gaussian Filter ip Dest Image Reference To ITc Vn Image n Filter Width UDINT n Filter Height UDINT hr Prev HRESULT Apply a Gaussian filter to smooth the image. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Gaussian Filter : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; n Filter Width : UDINT; n Filter Height : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) n Filter Width UDINT Filter width in pixels (1, 3, 5, 7, ...) n Filter Height UDINT Filter height in pixels (1, 3, 5, 7, ...) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Gaussian Filter applies a Gaussian filter to the input image. Algorithm The Gaussian filter is often used in image processing to reduce noise or smooth an image. Each pixel is replaced by the weighted average of its environment, removing smaller details but preserving larger ones. The larger the filter, the more smoothed the image will be (and therefore appears more blurred). Parameter Input image The input image ip Src Image may have any available format. Result image The result image ip Dest Image is given the same format as the input image ip Src Image. 1260 Version: 2.4.0 TF7000 - TF7810
## Page 1261

API reference Filter size The size of the Gauss filter is described in the X direction by n Filter Width and in the Y direction by n Filter Height. The size specifications must be odd numbers, as there must always be a central pixel. Expert parameters The expert version F_VN_Gaussian Filter Exp [} 1263] contains additional parameters. Application hr := F_VN_Gaussian Filter( ip Src Image := ip Image In, ip Dest Image := ip Image Res, n Filter Width := 7, n Filter Height := 7, hr Prev := hr ); The unprocessed original image (1st row) already exhibits fine structures on the surface of the gear wheels in the detail. In order to illustrate the effects of the filters, additional disturbances were added to the original image by Gauss noise (2nd row) and salt-and-pepper noise (3rd row). TF7000 - TF7810 Version: 2.4.0 1261
## Page 1262

API reference Original images Result images Samples • Blur filter [} 2785] Required License TC3 Vision Base 1262 Version: 2.4.0 TF7000 - TF7810
## Page 1263

API reference System Requirements 6.1.4.16.12 F_VN_Gaussian Filter Exp F_VN_Gaussian Filter Exp ip Src Image ITc Vn Image HRESULT F_VN_Gaussian Filter Exp ip Dest Image Reference To ITc Vn Image n Filter Width UDINT n Filter Height UDINT f Sigma X LREAL f Sigma Y LREAL e Border Type ETc Vn Border Interpolation Method hr Prev HRESULT Apply a Gaussian filter to smooth the image. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Gaussian Filter Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; n Filter Width : UDINT; n Filter Height : UDINT; f Sigma X : LREAL; f Sigma Y : LREAL; e Border Type : ETc Vn Border Interpolation Method; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) n Filter Width UDINT Filter width in pixels (1, 3, 5, 7, ...) n Filter Height UDINT Filter height in pixels (1, 3, 5, 7, ...) f Sigma X LREAL Gaussian kernel standard deviation in X direction (>= 0, automatically chosen if 0) f Sigma Y LREAL Gaussian kernel standard deviation in Y direction (>= 0, automatically chosen if 0) e Border Type Image border handling ETc Vn Border Interpolation Method [} 169] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Gaussian Filter Exp is the expert version of F_VN_Gaussian Filter [} 1260]. It contains additional parameters. TF7000 - TF7810 Version: 2.4.0 1263
## Page 1264

API reference Parameter Input image The input image ip Src Image may have any available format. Result image The result image ip Dest Image is given the same format as the input image ip Src Image. Filter size The size of the Gauss filter is described in the X direction by n Filter Width and in the Y direction by n Filter Height. The size specifications must be odd numbers, as there must always be a central pixel. Standard deviation The standard deviation in the X direction f Sigma X and in the Y direction f Sigma Y defines not only the filter size but also the shape of the Gauss curve used in the filter. Border extrapolation The method of border extrapolation e Border Type defines how non-existent pixels are extrapolated beyond the image border in order to calculate the filter values at the image borders. For further details, see ETc Vn Border Interpolation Method [} 169]. Application hr := F_VN_Gaussian Filter Exp( ip Src Image := ip Image In, ip Dest Image := ip Image Res, n Filter Width := 3, n Filter Height := 3, f Sigma X := 5, f Sigma Y := 5, e Border Type := TCVN_BIM_DEFAULT, hr Prev := hr ); Samples • Blur filter [} 2785] Required License TC3 Vision Base System Requirements 6.1.4.16.13 F_VN_Laplacian Filter F_VN_Laplacian Filter ip Src Image ITc Vn Image HRESULT F_VN_Laplacian Filter ip Dest Image Reference To ITc Vn Image e Dest Depth ETc Vn Element Type hr Prev HRESULT Apply a Laplacian filter to an image. Syntax Definition: FUNCTION F_VN_Laplacian Filter : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; 1264 Version: 2.4.0 TF7000 - TF7810
## Page 1265

API reference e Dest Depth : ETc Vn Element Type; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) e Dest Depth ETc Vn Element Type [} 203] Destination image depth hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Laplacian Filter applies a Laplace filter to the input image. Algorithm The Laplace filter can be used to detect edges by approximating the second derivative of the transitions of adjacent pixel intensities. Since the derivative also has negative values, it is advisable to use a signed element type for the result image (e.g. TCVN_ET_INT). For n Kernel Size = 3, 5, ... the Laplace filter is calculated by adding the second derivative in x- and y-direction over the specified window size. For n Kernel Size = 1, the following special 3 x 3 kernel is used: é0 1 0ù ê ú 1 -4 1 ê ú ê0 1 0ú ë û Parameter Input image The input image ip Src Image may be in any available format, except for the data types SINT and DINT, which are generally not supported. Result image The result image ip Dest Image has the same size as the input image ip Src Image, but the pixel format is determined by the result depth e Dest Depth. Result depth The result depth e Dest Depth defines which element type the result image ip Dest Image has. A larger element type can display more information. NOTICE Combination of input image and result depth Only the same or a larger data type than that of the input image can be used as the result depth, otherwise data would be lost. For example, a UINT cannot be converted to a USINT. Furthermore, there are two restrictions, so that a UINT cannot be converted into an INT and a REAL cannot be converted into an LREAL. Expert parameters TF7000 - TF7810 Version: 2.4.0 1265
## Page 1266

API reference The expert version F_VN_Laplacian Filter Exp [} 1266] contains additional parameters. Application The application of a Laplace filter with a result depth of 8 bits looks like this, for example: hr := F_VN_Laplacian Filter( ip Src Image := ip Image In, ip Dest Image := ip Image Res, e Dest Depth := TCVN_ET_USINT, hr Prev := hr ); Original image Result image Samples • Edge detection filters [} 2787] Required License TC3 Vision Base System Requirements 6.1.4.16.14 F_VN_Laplacian Filter Exp F_VN_Laplacian Filter Exp ip Src Image ITc Vn Image HRESULT F_VN_Laplacian Filter Exp ip Dest Image Reference To ITc Vn Image e Dest Depth ETc Vn Element Type n Kernel Size UDINT f Scale LREAL f Delta LREAL e Border Type ETc Vn Border Interpolation Method hr Prev HRESULT Apply a Laplacian filter to an image. (expert function) Syntax Definition: FUNCTION F_VN_Laplacian Filter Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; e Dest Depth : ETc Vn Element Type; n Kernel Size : UDINT; f Scale : LREAL; 1266 Version: 2.4.0 TF7000 - TF7810
## Page 1267

API reference f Delta : LREAL; e Border Type : ETc Vn Border Interpolation Method; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) e Dest Depth ETc Vn Element Type [} 203] Destination image depth n Kernel Size UDINT Aperture size used to compute the second-derivative filters (1, 3, 5, ..., 31) f Scale LREAL Scale factor for the computed derivative values f Delta LREAL Delta value that is added to the results before storing them e Border Type Image border handling ETc Vn Border Interpolation Method [} 169] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Laplacian Filter Exp is the expert version of F_VN_Laplacian Filter [} 1264]. It contains additional parameters. Parameter Input image The input image ip Src Image may be in any available format, except for the data types SINT and DINT, which are generally not supported. Result image The result image ip Dest Image has the same size as the input image ip Src Image, but the pixel format is determined by the result depth e Dest Depth. Result depth The result depth e Dest Depth defines which element type the result image ip Dest Image has. A larger element type can display more information. NOTICE Combination of input image and result depth Only the same or a larger data type than that of the input image can be used as the result depth, otherwise data would be lost. For example, a UINT cannot be converted to a USINT. Furthermore, there are two restrictions, so that a UINT cannot be converted into an INT and a REAL cannot be converted into an LREAL. Kernel size The parameter n Kernel Size defines the size of the filter kernel for the approximation of the 2nd derivative. Only odd numbers between 1 and 31 are allowed. TF7000 - TF7810 Version: 2.4.0 1267
## Page 1268

API reference Scaling The result of the Laplace operation is multiplied by the scaling factor f Scale. Delta The constant delta f Delta is added to the result of the Scharr operation after scaling with f Scale. Border extrapolation The method of border extrapolation e Border Type defines how non-existent pixels are extrapolated beyond the image border in order to calculate the filter values at the image borders. For further details, see ETc Vn Border Interpolation Method [} 169]. Application The application of a Laplace filter with a kernel size of 3×3 looks like this, for example: hr := F_VN_Laplacian Filter Exp( ip Src Image := ip Image In, ip Dest Image := ip Image Res, e Dest Depth := TCVN_ET_USINT, n Kernel Size := 3, f Scale := 1, f Delta := 0, e Border Type := TCVN_BIM_DEFAULT, hr Prev := hr ); Samples • Edge detection filters [} 2787] Required License TC3 Vision Base System Requirements 6.1.4.16.15 F_VN_Local Maxima F_VN_Local Maxima ip Src Image ITc Vn Image HRESULT F_VN_Local Maxima ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Find local maxima in a gray-scale single-channel image. The found maxima are marked by a value of 1 in the destination image. Syntax Definition: FUNCTION F_VN_Local Maxima : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR 1268 Version: 2.4.0 TF7000 - TF7810
## Page 1269

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT or UINT, 1 channel) ip Dest Image Reference To Destination image (Must be different from ip Src Image! An ITc Vn Image [} 413] appropriate destination image will be created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Local Maxima finds local maxima in the input image. Parameter Input image The input image ip Src Image must be a 1-channel grayscale image with a bit depth of 8 or 16 bits (USINT or UINT). Result image The result image ip Dest Image is of the same type as the input image ip Src Image. Each local maximum of the input image is marked here by a pixel value of 1. Application The finding of local maxima looks like this: hr := F_VN_Local Maxima( ip Src Image := ip Image In, ip Dest Image := ip Image Res, hr Prev := hr ); Samples • Removing local extremes Required License TC3 Vision Base System Requirements 6.1.4.16.16 F_VN_Local Minima F_VN_Local Minima ip Src Image ITc Vn Image HRESULT F_VN_Local Minima ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Find local minima in a gray-scale single-channel image. The found minima are marked by a value of 1 in the destination image. TF7000 - TF7810 Version: 2.4.0 1269
## Page 1270

API reference Syntax Definition: FUNCTION F_VN_Local Minima : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT or UINT, 1 channel) ip Dest Image Reference To Destination image (Must be different from ip Src Image! An ITc Vn Image [} 413] appropriate destination image will be created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Local Minima finds local minima in the input image. Parameter Input image The input image ip Src Image must be a 1-channel grayscale image with a bit depth of 8 or 16 bits (USINT or UINT). Result image The result image ip Dest Image is of the same type as the input image ip Src Image. Each local minimum of the input image is marked here by a pixel value of 1. Application The finding of local minima looks like this: hr := F_VN_Local Minima( ip Src Image := ip Image In, ip Dest Image := ip Image Res, hr Prev := hr ); Samples • Removing local extremes Required License TC3 Vision Base 1270 Version: 2.4.0 TF7000 - TF7810
## Page 1271

API reference System Requirements 6.1.4.16.17 F_VN_Median Filter F_VN_Median Filter ip Src Image ITc Vn Image HRESULT F_VN_Median Filter ip Dest Image Reference To ITc Vn Image n Filter Size UDINT hr Prev HRESULT Apply a Median filter to an image. Syntax Definition: FUNCTION F_VN_Median Filter : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; n Filter Size : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (for n Filter Size 3 or 5: USINT, UINT, REAL. For bigger filters, only USINT is supported. ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) n Filter Size UDINT Size (width and height) of the filter (3, 5, 7, ...) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Median Filter applies a median filter to the input image. Algorithm The median filter is a ranking filter that is often used to suppress noise. All pixel values captured by the filter matrix are sorted by size, then the current value is replaced by the value at the center position of the sorted list. The advantage over a filter with a weighted mean value (e.g. a Gaussian filter) is that strong outliers of individual pixels (such as the 155 in the following sample image) are completely ignored and thus do not have a negative effect on the result. The size of the filter matrix is specified by n Filter Size, only odd integers >= 3 being accepted. TF7000 - TF7810 Version: 2.4.0 1271
## Page 1272

API reference Parameter Input image The input image ip Src Image can have any number of channels. The element types USINT; UINT and REAL are permitted with a filter size n Filter Size of 3 or 5. Only the element type USINT is supported for larger filters. Result image The result image ip Dest Image returns the filtered image. Filter size The filter size n Filter Size defines the height and width of the filter area. It must be an odd number and >= 3. Application The application of a median filter with the size 7×7 looks like this, for example: hr := F_VN_Median Filter( ip Src Image := ip Image In, ip Dest Image := ip Image Res, n Filter Size := 7, hr Prev := hr ); The unprocessed original image (1st row) already exhibits fine structures on the surface of the gear wheels in the detail. In order to illustrate the effects of the filters, additional disturbances were added to the original image by Gauss noise (2nd row) and salt-and-pepper noise (3rd row). 1272 Version: 2.4.0 TF7000 - TF7810
## Page 1273

API reference Original images Result images Samples • Blur filter [} 2785] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1273
## Page 1274

API reference System Requirements 6.1.4.16.18 F_VN_Morphological Operator F_VN_Morphological Operator ip Src Image ITc Vn Image HRESULT F_VN_Morphological Operator ip Dest Image Reference To ITc Vn Image e Operator ETc Vn Morphological Operator ip Structuring Element ITc Vn Image hr Prev HRESULT Apply a morphological operator. Syntax Definition: FUNCTION F_VN_Morphological Operator : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; e Operator : ETc Vn Morphological Operator; ip Structuring Element : ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (only 1 channel supported for reconstruction operators) ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) e Operator Operator type ETc Vn Morphological Oper ator [} 212] ip Structuring El ITc Vn Image [} 413] Structuring element to be applied (Typically created via ement F_VN_Create Structuring Element.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Morphological Operator applies a morphological operator to the input image. Parameter Original image The Reconstruction operators can only be applied to a 1-channel image, the other operators have no special requirements for the original image ip Src Image. Result image The modified image is returned in the result image ip Dest Image. Morphological operator 1274 Version: 2.4.0 TF7000 - TF7810
## Page 1275

API reference The parameter e Operator defines which morphological operator is applied to the original image ip Src Image. All operators in the enum ETc Vn Morphological Operator [} 212] are available. Structure element The structure element ip Structuring Element is the element that specifies the filter area of the morphological operator. It can be created with the help of the function F_VN_Create Structuring Element [} 1251]. Application The application of an Opening operator with a rectangular filter area of the size 3×3 looks like this, for example: VAR ip Element : ITc Vn Image; END_VAR hr := F_VN_Create Structuring Element(ip Element, TCVN_SES_RECTANGLE, 3, 3, hr); hr := F_VN_Morphological Operator( ip Src Image := ip Image In, ip Dest Image := ip Image Res, e Operator := TCVN_MO_OPENING, ip Structuring Element := ip Element, hr Prev := hr ); Samples • Morphological operators [} 2789] Required License TC3 Vision Base System Requirements 6.1.4.16.19 F_VN_Remove Local Maxima F_VN_Remove Local Maxima ip Src Image ITc Vn Image HRESULT F_VN_Remove Local Maxima ip Dest Image Reference To ITc Vn Image f Height LREAL hr Prev HRESULT Remove local maxima up to a given height from a gray-scale single-channel image. Syntax Definition: FUNCTION F_VN_Remove Local Maxima : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; f Height : LREAL; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1275
## Page 1276

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT, UINT, INT, REAL, or LREAL, 1 channel) ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) f Height LREAL Maximum height of the maxima to be removed (must be greater than 0) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Remove Local Maxima removes local maxima from the input image. Parameter Input image The input image ip Src Image may only have one channel and must have one of the following element types: USINT, UINT, INT, REAL or LREAL. Result image The result image ip Dest Image returns the image from which the local maxima have been removed. Maximum height The maximum height f Height defines the height up to which maxima in the input image are removed. The height describes the difference in intensity between the maximum and the value to which the pixels concerned are set. f Height must be larger than 0. Application The removal of local maxima up to a height of 10 looks like this, for example: hr := F_VN_Remove Local Maxima( ip Src Image := ip Image In, ip Dest Image := ip Image Res, f Height := 10, hr Prev := hr ); Samples • Removing local extremes Required License TC3 Vision Base 1276 Version: 2.4.0 TF7000 - TF7810
## Page 1277

API reference System Requirements 6.1.4.16.20 F_VN_Remove Local Minima F_VN_Remove Local Minima ip Src Image ITc Vn Image HRESULT F_VN_Remove Local Minima ip Dest Image Reference To ITc Vn Image f Height LREAL hr Prev HRESULT Remove local minima up to a given height from a gray-scale single-channel image. Syntax Definition: FUNCTION F_VN_Remove Local Minima : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; f Height : LREAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT, UINT, INT, REAL, or LREAL, 1 channel) ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) f Height LREAL Maximum height of the minima to be removed (must be greater than 0) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Remove Local Minima removes local minima from the input image. Parameter Input image The input image ip Src Image may only have one channel and must have one of the following element types: USINT, UINT, INT, REAL or LREAL. Result image The result image ip Dest Image returns the image from which the local minima have been removed. Maximum height The maximum height f Height defines the height up to which minima in the input image are removed. The height describes the difference in intensity between the minimum and the value to which the pixels concerned are set. f Height must be larger than 0. TF7000 - TF7810 Version: 2.4.0 1277
## Page 1278

API reference Application The removal of local minima up to a height of 10 looks like this, for example: hr := F_VN_Remove Local Minima( ip Src Image := ip Image In, ip Dest Image := ip Image Res, f Height := 10, hr Prev := hr ); Samples • Removing local extremes Required License TC3 Vision Base System Requirements 6.1.4.16.21 F_VN_Scharr Filter F_VN_Scharr Filter ip Src Image ITc Vn Image HRESULT F_VN_Scharr Filter ip Dest Image Reference To ITc Vn Image e Dest Depth ETc Vn Element Type e Filter Direction ETc Vn Filter Direction hr Prev HRESULT Calculates the first order derivative in x or y direction using a Scharr filter. Syntax Definition: FUNCTION F_VN_Scharr Filter : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; e Dest Depth : ETc Vn Element Type; e Filter Direction : ETc Vn Filter Direction; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) e Dest Depth ETc Vn Element Type [} 203] Destination image depth e Filter Direction ETc Vn Filter Direction Filter direction [} 206] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] 1278 Version: 2.4.0 TF7000 - TF7810
## Page 1279

API reference Further information The function F_VN_Scharr Filter applies a Scharr filter to the input image. The Scharr filter functions analogously to the Sobel Filter [} 1286] and differs from it only by the kernel. Algorithm The Scharr filter is closely related to the Sobel filter. However, it provides more accurate results than a 3 x 3 Sobel filter. é -3 0 +3ù é-3 -10 -3ù ê ú ê ú G = -10 0 +10 G = 0 0 0 x ê ú y ê ú êë -3 0 +3úû êë+3 +10 +3úû Parameter Original image The original image ip Src Image can have any format. Result image The result image ip Dest Image returns the filter result and has the same format as the original image ip Src Image. Result depth The result depth e Dest Depth defines which element type the result image ip Dest Image has. A larger element type can display more information. Filter direction The filter direction e Filter Direction defines whether the Scharr filter is applied to the image in the X- direction (TCVN_FD_X) or in the Y-direction (TCVN_FD_Y). Expert parameters Further parameters can be found in the expert version F_VN_Scharr Filter Exp [} 1280]. Application hr := F_VN_Scharr Filter( ip Src Image := ip Image In, ip Dest Image := ip Image Res, e Dest Depth := TCVN_ET_USINT, e Filter Direction:= TCVN_FD_X, hr Prev := hr, ); Original image Result image TF7000 - TF7810 Version: 2.4.0 1279
## Page 1280

API reference Samples • Edge detection filters [} 2787] Required License TC3 Vision Base System Requirements 6.1.4.16.22 F_VN_Scharr Filter Exp F_VN_Scharr Filter Exp ip Src Image ITc Vn Image HRESULT F_VN_Scharr Filter Exp ip Dest Image Reference To ITc Vn Image e Dest Depth ETc Vn Element Type e Filter Direction ETc Vn Filter Direction f Scale LREAL f Delta LREAL e Border Type ETc Vn Border Interpolation Method hr Prev HRESULT Calculates the first order derivative in x or y direction using a Scharr filter. (expert function) Syntax Definition: FUNCTION F_VN_Scharr Filter Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; e Dest Depth : ETc Vn Element Type; e Filter Direction : ETc Vn Filter Direction; f Scale : LREAL; f Delta : LREAL; e Border Type : ETc Vn Border Interpolation Method; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) e Dest Depth ETc Vn Element Type [} 203] Destination image depth e Filter Direction ETc Vn Filter Direction Filter direction [} 206] f Scale LREAL Scale factor for the computed derivative values f Delta LREAL Delta value that is added to the results prior to storing them in dest e Border Type Image border handling ETc Vn Border Interpolation Method [} 169] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 1280 Version: 2.4.0 TF7000 - TF7810
## Page 1281

API reference Return value HRESULT [} 144] Further information The function F_VN_Scharr Filter Exp is the expert version of F_VN_Scharr Filter [} 1278]. It contains additional parameters. Parameter Original image The original image ip Src Image can have any format. Result image The result image ip Dest Image returns the filter result and has the same format as the original image ip Src Image. Result depth The result depth e Dest Depth defines which element type the result image ip Dest Image has. A larger element type can display more information. Filter direction The filter direction e Filter Direction defines whether the Scharr filter is applied to the image in the X- direction (TCVN_FD_X) or in the Y-direction (TCVN_FD_Y). Scaling The result of the Scharr operation is multiplied by the scaling factor f Scale. Delta The constant delta f Delta is added to the result of the Scharr operation after scaling with f Scale. Border extrapolation The method of border extrapolation e Border Type defines how non-existent pixels are extrapolated beyond the image border in order to calculate the filter values at the image borders. For further details, see ETc Vn Border Interpolation Method [} 169]. Application hr := F_VN_Scharr Filter Exp( ip Src Image := ip Image In, ip Dest Image := ip Image Res, e Dest Depth := TCVN_ET_USINT, e Filter Direction:= TCVN_FD_X, f Scale := 1, f Delta := 0, e Border Type := TCVN_BIM_DEFAULT, hr Prev := hr, ); Samples • Edge detection filters [} 2787] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1281
## Page 1282

API reference System Requirements 6.1.4.16.23 F_VN_Separable Custom Filter F_VN_Separable Custom Filter ip Src Image ITc Vn Image HRESULT F_VN_Separable Custom Filter ip Dest Image Reference To ITc Vn Image e Dest Depth ETc Vn Element Type ↔ st Kernel X Tc Vn Matrix ↔ st Kernel Y Tc Vn Matrix hr Prev HRESULT Apply a separable custom filter to the image. Syntax Definition: FUNCTION F_VN_Separable Custom Filter : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; e Dest Depth : ETc Vn Element Type; END_VAR VAR_IN_OUT st Kernel X : Tc Vn Matrix; st Kernel Y : Tc Vn Matrix; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) e Dest Depth ETc Vn Element Type [} 203] Destination image depth hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Kernel X Tc Vn Matrix [} 238] 1D custom row-filter kernel with values of type REAL or LREAL st Kernel Y Tc Vn Matrix [} 238] 1D custom column-filter kernel with values of type REAL or LREAL Return value HRESULT [} 144] Further information The function F_VN_Separable Custom Filter applies a separable 2D filter to the input image. 1282 Version: 2.4.0 TF7000 - TF7810
## Page 1283

API reference Algorithm A separable 2D filter can be combined from two 1D filters. It is more efficient to apply a 1D filter to an image twice than to apply a 2D filter once. For example, the well-known Sobel filter [} 1286] can be constructed as follows from two separate one-dimensional filters: é1ù st Kernel X = ê 2 ú st Kernel Y =[-1 0 1] ê ú ê1ú ë û é1ù é-1 0 1ù G = ê 2 ú ´[-1 0 1]= ê -2 0 2 ú ê ú ê ú ê1ú ê-1 0 1ú ë û ë û Parameter Input image The input image ip Src Image may have any available format. Result image The result image ip Dest Image has the same size as the input image ip Src Image, but the pixel format is determined by the result depth e Dest Depth. X and Y kernel The two 1-dimensional filter kernels st Kernel X and st Kernel Y are transferred as a matrix. Permitted element types of the matrix are TCVN_ET_REAL and TCVN_ET_LREAL. Corresponding matrices of the type Tc Vn Matrix [} 238] can be created with the aid of the function F_VN_Init Matrix Struct [} 1525]. Expert parameters The expert version F_VN_Separable Custom Filter Exp [} 1284] contains additional parameters. Application The creation and application of a separable 2D filter looks like this, for example: hr := F_VN_Separable Custom Filter( ip Src Image := ip Image In, ip Dest Image := ip Image Res, e Dest Depth := TCVN_ET_USINT, st Kernel X := st Kernel Matrix X, st Kernel Y := st Kernel Matrix Y, hr Prev := hr ); Samples • User-defined filters Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1283
## Page 1284

API reference System Requirements 6.1.4.16.24 F_VN_Separable Custom Filter Exp F_VN_Separable Custom Filter Exp ip Src Image ITc Vn Image HRESULT F_VN_Separable Custom Filter Exp ip Dest Image Reference To ITc Vn Image e Dest Depth ETc Vn Element Type ↔ st Kernel X Tc Vn Matrix ↔ st Kernel Y Tc Vn Matrix ↔ a Anchor Tc Vn Point f Delta LREAL e Border Type ETc Vn Border Interpolation Method hr Prev HRESULT Apply a separable custom filter to the image. (expert function) Syntax Definition: FUNCTION F_VN_Separable Custom Filter Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; e Dest Depth : ETc Vn Element Type; END_VAR VAR_IN_OUT st Kernel X : Tc Vn Matrix; st Kernel Y : Tc Vn Matrix; a Anchor : Tc Vn Point; END_VAR VAR_INPUT f Delta : LREAL; e Border Type : ETc Vn Border Interpolation Method; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) e Dest Depth ETc Vn Element Type [} 203] Destination image depth f Delta LREAL Value added to each pixel after filtering e Border Type Image border handling ETc Vn Border Interpolation Method [} 169] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Kernel X Tc Vn Matrix [} 238] 1D custom row-filter kernel with values of type REAL or LREAL st Kernel Y Tc Vn Matrix [} 238] 1D custom column-filter kernel with values of type REAL or LREAL a Anchor Tc Vn Point [} 163] Anchor point of the kernel 1284 Version: 2.4.0 TF7000 - TF7810
## Page 1285

API reference Return value HRESULT [} 144] Further information The function F_VN_Separable Custom Filter Exp is the Expert version of F_VN_Separable Custom Filter [} 1282]. It contains additional parameters. Parameter Input image The input image ip Src Image may have any available format. Result image The result image ip Dest Image has the same size as the input image ip Src Image, but the pixel format is determined by the result depth e Dest Depth. X and Y kernel The two 1-dimensional filter kernels st Kernel X and st Kernel Y are transferred as a matrix. Permitted element types of the matrix are TCVN_ET_REAL and TCVN_ET_LREAL. Corresponding matrices of the type Tc Vn Matrix [} 238] can be created with the aid of the function F_VN_Init Matrix Struct [} 1525]. Anchor point The anchor point a Anchor defines which point of the filter kernel is moved over each pixel of the input image ip Src Image. Delta The constant delta f Delta is added to the result of the filter operation. Border extrapolation The method of border extrapolation e Border Type defines how non-existent pixels are extrapolated beyond the image border in order to calculate the filter values at the image borders. For further details, see ETc Vn Border Interpolation Method [} 169]. Application hr := F_VN_Separable Custom Filter Exp( ip Src Image := ip Image In, ip Dest Image := ip Image Res, e Dest Depth := TCVN_ET_USINT, st Kernel X := st Kernel Matrix X, st Kernel Y := st Kernel Matrix Y, a Anchor := a Anchor Point, f Delta := 0, e Border Type := TCVN_BIM_DEFAULT, hr Prev := hr ); Samples • User-defined filters Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1285
## Page 1286

API reference System Requirements 6.1.4.16.25 F_VN_Sobel Filter F_VN_Sobel Filter ip Src Image ITc Vn Image HRESULT F_VN_Sobel Filter ip Dest Image Reference To ITc Vn Image e Dest Depth ETc Vn Element Type n XOrder UDINT n YOrder UDINT hr Prev HRESULT Calculates the first, second, or mixed image derivatives using an extended Sobel filter. Syntax Definition: FUNCTION F_VN_Sobel Filter : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; e Dest Depth : ETc Vn Element Type; n XOrder : UDINT; n YOrder : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) e Dest Depth ETc Vn Element Type [} 203] Destination image depth n XOrder UDINT Order of the x-derivative (0, 1, 2) n YOrder UDINT Order of the y-derivative (0, 1, 2) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Sobel Filter applies a Sobel filter to the input image. The Sobel filter is used for edge detection. Edges in the input image are highlighted as bright lines on a dark background in the result image. Algorithm The extended Sobel filter can be used to detect edges by approximating the nth derivative of the transitions of adjacent pixel intensities. Since the derivative also has negative values, it is advisable to use a signed element type for the result image (e.g. TCVN_ET_INT). The kernel of the filter is determined by the parameters of the function. Typically the function is called with n XOrder = 1, n YOrder = 0, n Kernel Size = 3 or n XOrder = 0, n YOrder = 1, n Kernel Size = 3. These parameters lead to the kernels G and G. x y 1286 Version: 2.4.0 TF7000 - TF7810
## Page 1287

API reference é-1 0 1ù é 1 2 1 ù ê ú ê ú G = -2 0 2 G = 0 0 0 x ê ú y ê ú ê-1 0 1ú ê-1 -2 -1ú ë û ë û For these kernels, the filter combines Gaussian smoothing with the calculation of the first derivative, so that the result is quite noise resistant. G emphasizes vertical edges, G emphasizes horizontal edges. x y Parameter Original image The original image ip Src Image can have any format. Result image The result image ip Dest Image returns the filter result and has the same format as the original image ip Src Image. Result depth The result depth e Dest Depth defines which element type the result image ip Dest Image has. A larger element type can display more information. Derivative order The derivative orders n XOrder and n YOrder define which derivative in the X and Y direction is to be used to create the filter. Expert parameters Further parameters can be found in the expert version F_VN_Sobel Filter Exp [} 1288]. Application hr := F_VN_Sobel Filter( ip Src Image := ip Image In, ip Dest Image := ip Image Res, e Dest Depth := TCVN_ET_USINT, n XOrder := 1, n YOrder := 1, hr Prev := hr, ); Original image Result image Samples • Edge detection filters [} 2787] TF7000 - TF7810 Version: 2.4.0 1287
## Page 1288

API reference Required License TC3 Vision Base System Requirements 6.1.4.16.26 F_VN_Sobel Filter Exp F_VN_Sobel Filter Exp ip Src Image ITc Vn Image HRESULT F_VN_Sobel Filter Exp ip Dest Image Reference To ITc Vn Image e Dest Depth ETc Vn Element Type n XOrder UDINT n YOrder UDINT n Kernel Size UDINT f Scale LREAL f Delta LREAL e Border Type ETc Vn Border Interpolation Method hr Prev HRESULT Calculates the first, second, third, or mixed image derivatives using an extended Sobel filter. (expert function) Syntax Definition: FUNCTION F_VN_Sobel Filter Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; e Dest Depth : ETc Vn Element Type; n XOrder : UDINT; n YOrder : UDINT; n Kernel Size : UDINT; f Scale : LREAL; f Delta : LREAL; e Border Type : ETc Vn Border Interpolation Method; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) e Dest Depth ETc Vn Element Type [} 203] Destination image depth n XOrder UDINT Order of the x-derivative (must be < n Kernel Size) n YOrder UDINT Order of the y-derivative (must be < n Kernel Size) n Kernel Size UDINT Size of the extended Sobel kernel (3, 5, 7, ..., 31) f Scale LREAL Scale factor for the computed derivative values f Delta LREAL Delta value that is added to the results prior to storing them in dest e Border Type Image border handling ETc Vn Border Interpolation Method [} 169] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 1288 Version: 2.4.0 TF7000 - TF7810
## Page 1289

API reference Return value HRESULT [} 144] Further information The function F_VN_Sobel Filter Exp is the expert version of F_VN_Sobel Filter [} 1286]. It contains additional parameters. Parameter Original image The original image ip Src Image can have any format. Result image The result image ip Dest Image returns the filter result and has the same format as the original image ip Src Image. Result depth The result depth e Dest Depth defines which element type the result image ip Dest Image has. A larger element type can display more information. Derivative order The derivative orders n XOrder and n YOrder define which derivative in the X and Y direction is to be used to create the filter. Kernel size The size n Kernel Size of the Sobel kernel determines how large the area is that influences the result value of a pixel. Scaling The result of the Sobel operation is multiplied by the scaling factor f Scale. Delta The constant delta f Delta is added to the result of the Sobel operation after scaling with f Scale. Border extrapolation The method of border extrapolation e Border Type defines how non-existent pixels are extrapolated beyond the image border in order to calculate the filter values at the image borders. For further details, see ETc Vn Border Interpolation Method [} 169]. Application hr := F_VN_Sobel Filter Exp( ip Src Image := ip Image In, ip Dest Image := ip Image Res, e Dest Depth := TCVN_ET_USINT, n XOrder := 1, n YOrder := 1, n Kernel Size := 3, f Scale := 1, f Delta := 0, e Border Type := TCVN_BIM_DEFAULT, hr Prev := hr, ); Samples • Edge detection filters [} 2787] TF7000 - TF7810 Version: 2.4.0 1289
## Page 1290

API reference Required License TC3 Vision Base System Requirements 6.1.4.16.27 F_VN_Variance Filter F_VN_Variance Filter ip Src Image ITc Vn Image HRESULT F_VN_Variance Filter ip Dest Image Reference To ITc Vn Image n Kernel Size UDINT hr Prev HRESULT Calculates the local variance of an image. Syntax Definition: FUNCTION F_VN_Variance Filter : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; n Kernel Size : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image. Only TCVN_ET_USINT Type is supported. ip Dest Image Reference To Destination image of type TCVN_ET_UINT (An appropriate ITc Vn Image [} 413] destination image will be created if required.) n Kernel Size UDINT Size of the kernel hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.16.28 F_VN_Variance Filter Exp F_VN_Variance Filter Exp ip Src Image ITc Vn Image HRESULT F_VN_Variance Filter Exp ip Dest Image Reference To ITc Vn Image n Kernel Size UDINT f Scale LREAL e Border Type ETc Vn Border Interpolation Method hr Prev HRESULT Calculates the local variance of an image. (expert function) 1290 Version: 2.4.0 TF7000 - TF7810
## Page 1291

API reference Syntax Definition: FUNCTION F_VN_Variance Filter Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; n Kernel Size : UDINT; f Scale : LREAL; e Border Type : ETc Vn Border Interpolation Method; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image. Only TCVN_ET_USINT Type is supported. ip Dest Image Reference To Destination image of type TCVN_ET_UINT (An appropriate ITc Vn Image [} 413] destination image will be created if required.) n Kernel Size UDINT Size of the kernel f Scale LREAL Scale factor for the computed variance values e Border Type Image border handling ETc Vn Border Interpolation Method [} 169] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.17 Image Segmentation This group contains functions for segmenting images. Functions Segmentation • F_VN_Adaptive Threshold(Exp) [} 1293] • F_VN_Check Color Range [} 1295] • F_VN_Double Threshold [} 1296] • F_VN_Threshold [} 1298] • F_VN_Watershed Segmentation Exp [} 1300] • F_VN_Sauvola Threshold [} 1301] Samples Image segmentation [} 2790] TF7000 - TF7810 Version: 2.4.0 1291
## Page 1292

API reference 6.1.4.17.1 F_VN_Adaptive Threshold F_VN_Adaptive Threshold ip Src Image ITc Vn Image HRESULT F_VN_Adaptive Threshold ip Dest Image Reference To ITc Vn Image f Max Value LREAL hr Prev HRESULT Apply an adaptive threshold to a gray level image. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Adaptive Threshold : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; f Max Value : LREAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 channel, elements of type USINT) ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) f Max Value LREAL Value assigned to pixels for which the threshold condition is true hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Adaptive Threshold applies an adaptive threshold to the input image. Parameter Input image The input image ip Src Image must be a 1-channel grayscale image with a bit depth of 8 bits (USINT). Result image The binary result image ip Dest Image has the same format as the input image. The pixels have either the value 0 or the target value f Max Value. Target value The target value f Max Value defines which value should be given to the pixels that fulfil the threshold criterion. If the result image is to consist only of black and white pixels, then the maximum value of the element type of the input image must be set here. This corresponds to (2^d)-1, where d represents the bit depth of the element type; e.g. (2^8)-1=255 with 8-bit images. 1292 Version: 2.4.0 TF7000 - TF7810
## Page 1293

API reference Expert parameters The expert version F_VN_Adaptive Threshold Exp [} 1293] contains additional parameters. Application hr := F_VN_Adaptive Threshold( ip Src Image := ip Image In, ip Dest Image := ip Image Res, f Max Value := 255, // max value of 8-bit image: (2^8)-1=255 hr Prev := hr ); Related functions • F_VN_Double Threshold [} 1296] for binary segmentation on the basis of double threshold values using morphological reconstruction • F_VN_Threshold [} 1298] for binary segmentation on the basis of a threshold value • F_VN_Adaptive Threshold [} 1292] for binary, adaptive segmentation • F_VN_Check Color Range [} 1295] for binary segmentation on the basis of a color spectrum • F_VN_Reference Color Similarity [} 1221] for binary segmentation on the basis of a color model Required License TC3 Vision Base System Requirements 6.1.4.17.2 F_VN_Adaptive Threshold Exp F_VN_Adaptive Threshold Exp ip Src Image ITc Vn Image HRESULT F_VN_Adaptive Threshold Exp ip Dest Image Reference To ITc Vn Image f Max Value LREAL e Adaptive Method ETc Vn Adaptive Threshold Method e Threshold Type ETc Vn Threshold Type n Block Size UDINT f Constant LREAL hr Prev HRESULT Apply an adaptive threshold to a gray level image. (expert function) Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Adaptive Threshold Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; f Max Value : LREAL; e Adaptive Method : ETc Vn Adaptive Threshold Method; e Threshold Type : ETc Vn Threshold Type; n Block Size : UDINT; f Constant : LREAL; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1293
## Page 1294

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 channel, elements of type USINT) ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) f Max Value LREAL Value assigned to pixels for which the threshold condition is true e Adaptive Meth Adaptive threshold method to be applied (MEAN: threshold od ETc Vn Adaptive Threshold value will be calculated as a mean of the n Block Size x n Block Size neighborhood of (x,y) minus f Constant. GAUSSIAN: Method [} 166] threshold value is a weighted sum (cross-correlation with a Gaussian window) of the n Block Size x n Block Size neighborhood of (x,y) minus f Constant. e Threshold Typ ETc Vn Threshold Type Threshold type to be applied (only BINARY and BINARY_INV e are supported) [} 224] n Block Size UDINT Size of the pixel neighborhood to calculate the local threshold (3, 5, 7, ...) f Constant LREAL Constant that is subtracted from the weighted mean of the pixel neighborhood, which leads to the local threshold hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Adaptive Threshold Exp is the expert version of F_VN_Adaptive Threshold [} 1292]. It contains additional parameters. Parameter Input image The input image ip Src Image must be a 1-channel grayscale image with a bit depth of 8 bits (USINT). Result image The binary result image ip Dest Image has the same format as the input image. The pixels have either the value 0 or the target value f Max Value. Target value The target value f Max Value defines which value should be given to the pixels that fulfil the threshold criterion. If the result image is to consist only of black and white pixels, then the maximum value of the element type of the input image must be set here. This corresponds to (2^d)-1, where d represents the bit depth of the element type; e.g. (2^8)-1=255 with 8-bit images. Threshold method The threshold method e Adaptive Method defines whether the adaptive threshold is calculated as an average or as a Gaussian weighted sum. The two values TCVN_ATM_MEAN and TCVN_ATM_GAUSSIAN are available for this in the enum ETc Vn Adaptive Threshold Method [} 166]. 1294 Version: 2.4.0 TF7000 - TF7810
## Page 1295

API reference Threshold inversion The parameter e Threshold Type specifies whether or not the result image should be inverted. Therefore, only the two values TCVN_TT_BINARY and TCVN_TT_BINARY_INV from the enum ETc Vn Threshold Type [} 224] are supported at this point. Threshold neighborhood size The parameter n Block Size defines the size of the neighborhood that is considered for the calculation of the local threshold. The parameter must be an odd number (3, 5, 7, etc.). Threshold adjustment The constant value f Constant is subtracted from each local average value. The result is the local threshold that is used for the calculation of the result image. Application hr := F_VN_Adaptive Threshold( ip Src Image := ip Image In, ip Dest Image := ip Image Res, f Max Value := 255, // max value of 8-bit image: (2^8)-1=255 e Adaptive Method := TCVN_ATM_MEAN, e Threshold Type := TCVN_TT_BINARY_INV, n Block Size := 5, f Constant := 10, hr Prev := hr ); Required License TC3 Vision Base System Requirements 6.1.4.17.3 F_VN_Check Color Range F_VN_Check Color Range ip Src Image ITc Vn Image HRESULT F_VN_Check Color Range ip Dest Image Reference To ITc Vn Image ↔ a Lower Bounds Tc Vn Vector4_LREAL ↔ a Upper Bounds Tc Vn Vector4_LREAL hr Prev HRESULT Check if the pixel values of an image lie in a given range. The destination image has the same size as the source image but only one channel with a pixel element size of 8 bit. Its elements are set to 255 if the corresponding pixels of the source image are in the checked range and set to 0 otherwise. Syntax Definition: FUNCTION F_VN_Check Color Range : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; END_VAR VAR_IN_OUT a Lower Bounds : Tc Vn Vector4_LREAL; a Upper Bounds : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1295
## Page 1296

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Lower Bounds Tc Vn Vector4_LREAL Channel-wise lower bounds (Unused channels are ignored.) [} 165] a Upper Bounds Tc Vn Vector4_LREAL Channel-wise upper bounds (Unused channels are ignored.) [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.17.4 F_VN_Double Threshold F_VN_Double Threshold ip Src Image ITc Vn Image HRESULT F_VN_Double Threshold ip Dest Image Reference To ITc Vn Image f Low Threshold LREAL f High Threshold LREAL f Max Value LREAL hr Prev HRESULT Apply a double threshold (also called hysteresis threshold) using morphological reconstruction. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Double Threshold : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; f Low Threshold : LREAL; f High Threshold : LREAL; f Max Value : LREAL; hr Prev : HRESULT; END_VAR 1296 Version: 2.4.0 TF7000 - TF7810
## Page 1297

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT, UINT, INT, REAL, or LREAL, 1 channel) ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) f Low Threshold LREAL Low threshold determinining the shape of found regions f High Threshold LREAL High threshold selecting found regions (Each region must at least contain a single pixel if the high threshold is applied.) f Max Value LREAL Maximum pixel value hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Double Threshold calculates a double threshold value using morphological reconstruction. The function expects the searched segments to be brighter than the background and, compared to the function F_VN_Threshold, enables additional filtering of the determined image segments. Parameter Input image The input image ip Src Image must be a 1-channel grayscale image. Result image The binary result image ip Dest Image has the same format as the input image. The pixels have either the value 0 or the target value f Max Value. Lower threshold value The lower threshold value determines the shape of the segments found, such as the function F_VN_Threshold. Upper threshold value The upper threshold value is used to mark image segments whose shape is then calculated on the basis of the lower threshold value. In this way, unwanted segments whose grayscale values are greater than the lower threshold value and less than the upper threshold value can be filtered out. Target value The target value f Max Value defines the value to be assigned to the pixels that fulfill the respective threshold value criterion. If the result image is to consist only of black and white pixels, then the maximum value of the element type of the input image must be set here. This corresponds to (2^d)-1, where d is the bit depth of the element type; e.g. (2^8)-1=255 for 8-bit images. Application hr := F_VN_Double Threshold( ip Src Image := ip Src Image, ip Dest Image := ip Dest Image, f Low Threshold := f Low Threshold, f High Threshold := f High Threshold, f Max Value := 255, hr Prev := hr); TF7000 - TF7810 Version: 2.4.0 1297
## Page 1298

API reference Related functions • F_VN_Double Threshold [} 1296] for binary segmentation on the basis of double threshold values using morphological reconstruction • F_VN_Threshold [} 1298] for binary segmentation on the basis of a threshold value • F_VN_Adaptive Threshold [} 1292] for binary, adaptive segmentation • F_VN_Check Color Range [} 1295] for binary segmentation on the basis of a color spectrum • F_VN_Reference Color Similarity [} 1221] for binary segmentation on the basis of a color model Required License TC3 Vision Base System Requirements 6.1.4.17.5 F_VN_Threshold F_VN_Threshold ip Src Image ITc Vn Image HRESULT F_VN_Threshold ip Dest Image Reference To ITc Vn Image f Threshold LREAL f Max Value LREAL e Threshold Type ETc Vn Threshold Type hr Prev HRESULT Apply a fixed threshold or a dynamic threshold according to Otsu. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Threshold : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; f Threshold : LREAL; f Max Value : LREAL; e Threshold Type : ETc Vn Threshold Type; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (For Otsu and Triangle threshold types, only 1 channel of TCVN_ET_USINT is supported) ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) f Threshold LREAL Fixed threshold (unused if dynamic thresholding is selected) f Max Value LREAL Maximum pixel value e Threshold Typ ETc Vn Threshold Type Threshold type to be applied e [} 224] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 1298 Version: 2.4.0 TF7000 - TF7810
## Page 1299

API reference Return value HRESULT [} 144] Further information The function F_VN_Threshold segments the input image with regard to a threshold. Depending on this threshold and the algorithm used, each pixel of the binary result image is assigned the value 0 and a specified target value. Algorithm A threshold transforms a monochrome image into a binary image and thus creates segments. Good segmentation is a prerequisite for many subsequent methods such as contour search. Twin CAT Vision offers different types of threshold values that are suitable for different applications. Fixed threshold value A fixed threshold simply creates a binary image by setting pixels with a value greater than f Threshold to white (255) and others to black (0). f Threshold is a parameter of the corresponding functions. To find a good value, you will most probably approach it via different attempts. Dynamic threshold value A dynamic threshold according to Otsu works perfectly for bimodal images. The histogram of a bimodal image has two main peaks and a good threshold value is most likely exactly in the middle. If you have a noisy image, you can use a Gaussian filter to shift it towards bimodal. Adaptive threshold value An adaptive threshold value uses variable threshold values for the whole image. See F_VN_Adaptive Threshold Exp [} 1293] . Parameter Input image The input image ip Src Image may have one or three channels. Result image The result image ip Dest Image returns the segmented binary image. Threshold value The threshold f Threshold defines the segmentation condition. It must be adjusted depending on the properties of the input image. Target value The target value f Max Value defines which value should be given to the pixels that fulfil the threshold criterion. If the result image is to consist only of black and white pixels, then the maximum value of the element type of the input image must be set here. This corresponds to (2^d)-1, where d represents the bit depth of the element type; e.g. (2^8)-1=255 with 8-bit images. Threshold type The threshold type e Threshold Type defines the algorithm according to which the threshold f Threshold is applied to the input image. All values of the enum ETc Vn Threshold Type [} 224] are supported. TF7000 - TF7810 Version: 2.4.0 1299
## Page 1300

API reference Application The binary segmentation of an 8-bit grayscale image in the center of the value range looks like this, for example: hr := F_VN_Threshold( ip Src Image := ip Image In, ip Dest Image := ip Image Res, f Threshold := 128, // half value range: (2^8)/2=128 f Max Value := 255, // max value of 8-bit image: (2^8)-1=255 e Threshold Type := TCVN_TT_BINARY, hr Prev := hr ); Related functions • F_VN_Double Threshold [} 1296] for binary segmentation on the basis of double threshold values using morphological reconstruction • F_VN_Threshold [} 1298] for binary segmentation on the basis of a threshold value • F_VN_Adaptive Threshold [} 1292] for binary, adaptive segmentation • F_VN_Check Color Range [} 1295] for binary segmentation on the basis of a color spectrum • F_VN_Reference Color Similarity [} 1221] for binary segmentation on the basis of a color model Required License TC3 Vision Base System Requirements 6.1.4.17.6 F_VN_Watershed Segmentation Exp F_VN_Watershed Segmentation Exp ip Src Image ITc Vn Image HRESULT F_VN_Watershed Segmentation Exp ip Dest Image Reference To ITc Vn Image ip Markers ITc Vn Image hr Prev HRESULT Apply a marker-based watershed segmentation. (expert function) Syntax Definition: FUNCTION F_VN_Watershed Segmentation Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; ip Markers : ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT, 3 channels) ip Dest Image Reference To Destination image (DINT, 1 channel. An appropriate image will ITc Vn Image [} 413] be created if required.) ip Markers ITc Vn Image [} 413] Marker image (DINT, 1 channel) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 1300 Version: 2.4.0 TF7000 - TF7810
## Page 1301

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.17.7 F_VN_Sauvola Threshold F_VN_Sauvola Threshold ip Src Image ITc Vn Image HRESULT F_VN_Sauvola Threshold pip Dest Image Reference To ITc Vn Image n Block Size UDINT f Param K LREAL f Max Sigma LREAL e Threshold Type ETc Vn Threshold Type hr Prev HRESULT Apply Sauvola local threshold to source image. Syntax Definition: FUNCTION F_VN_Sauvola Threshold : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; pip Dest Image : Reference To ITc Vn Image; n Block Size : UDINT; f Param K : LREAL; f Max Sigma : LREAL; e Threshold Type : ETc Vn Threshold Type; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT, UINT, INT, REAL, or LREAL, 1 channel) pip Dest Image Reference To Destination image (An appropriate single channel destination ITc Vn Image [} 413] image will be created if required.)) n Block Size UDINT Size of the pixel neighborhood to calculate the local threshold (3, 5, 7, ...) f Param K LREAL parameter K which takes positive values in range (0,1). Recommended are K in range [0.2, 0.5] f Max Sigma LREAL Maximum value of the standard deviation, required to be strictly positive. (f Max Sigma = 128 for a grayscale document). e Threshold Typ ETc Vn Threshold Type Threshold type to be applied. Supported are TCVN_TT_BINARY e and TCVN_TT_BINARY_INV. [} 224] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 1301
## Page 1302

API reference Required License TC3 Vision Base System Requirements 6.1.4.18 Keypoint Features This group contains functions for finding and matching distinctive features in an image. NOTICE Long computing duration Many functions for finding keypoint features require a long computing duration. Therefore, pay attention to the set cycle time and if necessary use a watchdog [} 149] to secure the real-time behavior. Functions Key Points • F_VN_Key Points AGAST(Exp) [} 1320] • F_VN_Key Points FAST(Exp) [} 1329] • F_VN_Key Points GFTT(Exp) [} 1331] • F_VN_Key Points MSER(Exp) [} 1333] • F_VN_Key Points SB(Exp) [} 1334] Key points and descriptors • F_VN_Key Points And Descriptors AKAZE(Exp) [} 1321] • F_VN_Key Points And Descriptors BRISK(Exp) [} 1323] • F_VN_Key Points And Descriptorsa KAZE(Exp) [} 1325] • F_VN_Key Points And Descriptors ORB(Exp) [} 1327] Descriptor matching • F_VN_Filter Good Matches [} 1303] • F_VN_Get Match Coordinates [} 1319] • F_VN_Match Descriptors BF(Exp) [} 1336] • F_VN_Match Descriptors Flann Lsh(Exp) [} 1338] • F_VN_Match Descriptors Knn BF(Exp) [} 1340] • F_VN_Match Descriptors Knn Flann Lsh(Exp) [} 1342] Key Points Referenz Matching • F_VN_Find Reference Key Points In Image(Exp) [} 1304] • F_VN_Find Reference Key Points In Image AKAZE(Exp) [} 1306] • F_VN_Find Reference Key Points In Image BRISK(Exp) [} 1309] • F_VN_Find Reference Key Points In Image ORB(Exp) [} 1315] Miscellaneous • F_VN_Regions MSER(Exp) [} 1344] 1302 Version: 2.4.0 TF7000 - TF7810
## Page 1303

API reference 6.1.4.18.1 F_VN_Filter Good Matches F_VN_Filter Good Matches ip Matches ITc Vn Container HRESULT F_VN_Filter Good Matches ip Good Matches Reference To ITc Vn Container f Max Dist REAL f Max Knn Ratio REAL hr Prev HRESULT Filter the descriptor matches and return only good ones. Syntax Definition: FUNCTION F_VN_Filter Good Matches : HRESULT VAR_INPUT ip Matches : ITc Vn Container; ip Good Matches : Reference To ITc Vn Container; f Max Dist : REAL; f Max Knn Ratio : REAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Matches ITc Vn Container [} 374] Container with descriptor matches (Container Type_Vector_Tc Vn DMatch or Container Type_Vector_Vector_Tc Vn DMatch) ip Good Matche Reference To Returns a container with good matches s ITc Vn Container [} 374] (Container Type_Vector_Tc Vn DMatch) f Max Dist REAL Maximum allowed descriptor distance (-1 disables this filter criterion) f Max Knn Ratio REAL Maximum allowed distance ratio between first and second best match ([0..1], used for knn match results only, -1 disables this filter criterion) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Matching TF7000 - TF7810 Version: 2.4.0 1303
## Page 1304

API reference System Requirements 6.1.4.18.2 F_VN_Find Reference Key Points In Image F_VN_Find Reference Key Points In Image ip Src Key Points ITc Vn Container Tc Vn Matrix3x3_LREAL a Perspective Transform ip Src Descriptors ITc Vn Image UDINT n Number Of Good Matches ip Ref Key Points ITc Vn Container UDINT n Number Of Inliers ip Ref Descriptors ITc Vn Image HRESULT F_VN_Find Reference Key Points In Image n Ref Image Width UDINT n Ref Image Height UDINT ip Edge Points Reference To ITc Vn Container f Max Dist REAL f Max Knn Ratio REAL e Norm Type ETc Vn Normalization Type hr Prev HRESULT Searches a reference image, represented by its keypoints and corresponding descriptors, in a given source image. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Find Reference Key Points In Image : HRESULT VAR_INPUT ip Src Key Points : ITc Vn Container; ip Src Descriptors : ITc Vn Image; ip Ref Key Points : ITc Vn Container; ip Ref Descriptors : ITc Vn Image; n Ref Image Width : UDINT; n Ref Image Height : UDINT; ip Edge Points : Reference To ITc Vn Container; f Max Dist : REAL; f Max Knn Ratio : REAL; e Norm Type : ETc Vn Normalization Type; hr Prev : HRESULT; END_VAR VAR_OUTPUT a Perspective Transform : Tc Vn Matrix3x3_LREAL; n Number Of Good Matches : UDINT; n Number Of Inliers : UDINT; END_VAR 1304 Version: 2.4.0 TF7000 - TF7810
## Page 1305

API reference Inputs Name Type Description ip Src Key Points ITc Vn Container [} 374] Key Points of the source image, e.g. (Container Type_Vector_Tc Vn Key Point) ip Src Descriptor ITc Vn Image [} 413] Descriptors of the source image Key Points s ip Ref Key Points ITc Vn Container [} 374] Key Points of the reference image, e.g. (Container Type_Vector_Tc Vn Key Point) ip Ref Descriptor ITc Vn Image [} 413] Descriptors of the reference image Key Points s n Ref Image Widt UDINT Width of the reference image in pixels h n Ref Image Hei UDINT Height of the reference image in pixels ght ip Edge Points Reference To Returns a container with the 4 edge points of the reference ITc Vn Container [} 374] image transformed into the coordinates of the source image (Container Type_Vector_Tc Vn Point2_REAL) f Max Dist REAL Maximum allowed descriptor distance (-1 disables this filter criterion) f Max Knn Ratio REAL Maximum allowed distance ratio between first and second best match ([0..1], -1 disables this filter criterion) e Norm Type ETc Vn Normalization Type Normalization type used for descriptor matching (HAMMING recommended for AKAZE, ORB, and BRISK. HAMMING2 is [} 213] recommended for ORB if the ORB n Brief Points parameter is 3 or 4. ) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Outputs Name Type Description a Perspective Tr Tc Vn Matrix3x3_LREAL Returns the perspective transformation matrix, which transforms ansform the reference points to the source points [} 165] n Number Of Go UDINT Return the number of good matches od Matches n Number Of Inli UDINT Return the number of inlier matches ers Return value HRESULT [} 144] Required License TC3 Vision Matching TF7000 - TF7810 Version: 2.4.0 1305
## Page 1306

API reference System Requirements 6.1.4.18.3 F_VN_Find Reference Key Points In Image AKAZE F_VN_Find Reference Key Points In Image AKAZE ip Src Image ITc Vn Image Tc Vn Matrix3x3_LREAL a Perspective Transform ip Ref Key Points ITc Vn Container UDINT n Number Of Good Matches ip Ref Descriptors ITc Vn Image UDINT n Number Of Inliers n Ref Image Width UDINT HRESULT F_VN_Find Reference Key Points In Image AKAZE n Ref Image Height UDINT ip Edge Points Reference To ITc Vn Container f Max Dist REAL f Max Knn Ratio REAL hr Prev HRESULT Searches a reference image, represented by its AKAZE keypoints and corresponding descriptors, in a given source image (uses the default Tc Vn Params AKAZE parameters). Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Find Reference Key Points In Image AKAZE : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Ref Key Points : ITc Vn Container; ip Ref Descriptors : ITc Vn Image; n Ref Image Width : UDINT; n Ref Image Height : UDINT; ip Edge Points : Reference To ITc Vn Container; f Max Dist : REAL; f Max Knn Ratio : REAL; hr Prev : HRESULT; END_VAR VAR_OUTPUT a Perspective Transform : Tc Vn Matrix3x3_LREAL; n Number Of Good Matches : UDINT; n Number Of Inliers : UDINT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Ref Key Points ITc Vn Container [} 374] Key Points of the reference image, e.g. computed with F_VN_Key Points And Descriptors AKAZE (Container Type_Vector_Tc Vn Key Point) ip Ref Descriptor ITc Vn Image [} 413] Descriptors of the reference image Key Points, e.g. computed s with F_VN_Key Points And Descriptors AKAZE n Ref Image Widt UDINT Width of the reference image in pixels h n Ref Image Hei UDINT Height of the reference image in pixels ght ip Edge Points Reference To Returns a container with the 4 edge points of the reference ITc Vn Container [} 374] image transformed into ip Src Image coordinates (Container Type_Vector_Tc Vn Point2_REAL) f Max Dist REAL Maximum allowed descriptor distance (-1 disables this filter criterion) f Max Knn Ratio REAL Maximum allowed distance ratio between first and second best match ([0..1], -1 disables this filter criterion) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 1306 Version: 2.4.0 TF7000 - TF7810
## Page 1307

API reference Outputs Name Type Description a Perspective Tr Tc Vn Matrix3x3_LREAL Returns the perspective transformation matrix, which transforms ansform the reference points to the source points [} 165] n Number Of Go UDINT Return the number of good matches od Matches n Number Of Inli UDINT Return the number of inlier matches ers Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.18.4 F_VN_Find Reference Key Points In Image AKAZEExp F_VN_Find Reference Key Points In Image AKAZEExp ip Src Image ITc Vn Image Tc Vn Matrix3x3_LREAL a Perspective Transform ip Ref Key Points ITc Vn Container UDINT n Number Of Good Matches ip Ref Descriptors ITc Vn Image UDINT n Number Of Inliers n Ref Image Width UDINT HRESULT F_VN_Find Reference Key Points In Image AKAZEExp n Ref Image Height UDINT ip Edge Points Reference To ITc Vn Container f Max Dist REAL f Max Knn Ratio REAL e Norm Type ETc Vn Normalization Type ip Src Image Mask ITc Vn Image ↔st Akaze Params Tc Vn Params AKAZE e Algorithm ETc Vn Estimation Algorithm f Reproj Threshold LREAL n Max Iterations UDINT f Confidence LREAL hr Prev HRESULT Searches a reference image, represented by its AKAZE keypoints and corresponding descriptors, in a given source image. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Find Reference Key Points In Image AKAZEExp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Ref Key Points : ITc Vn Container; ip Ref Descriptors : ITc Vn Image; n Ref Image Width : UDINT; n Ref Image Height : UDINT; ip Edge Points : Reference To ITc Vn Container; f Max Dist : REAL; f Max Knn Ratio : REAL; e Norm Type : ETc Vn Normalization Type; ip Src Image Mask : ITc Vn Image; END_VAR VAR_IN_OUT st Akaze Params : Tc Vn Params AKAZE; END_VAR VAR_INPUT e Algorithm : ETc Vn Estimation Algorithm; f Reproj Threshold : LREAL; n Max Iterations : UDINT; TF7000 - TF7810 Version: 2.4.0 1307
## Page 1308

API reference f Confidence : LREAL; hr Prev : HRESULT; END_VAR VAR_OUTPUT a Perspective Transform : Tc Vn Matrix3x3_LREAL; n Number Of Good Matches : UDINT; n Number Of Inliers : UDINT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Ref Key Points ITc Vn Container [} 374] Key Points of the reference image, e.g. computed with F_VN_Key Points And Descriptors AKAZE (Container Type_Vector_Tc Vn Key Point) ip Ref Descriptor ITc Vn Image [} 413] Descriptors of the reference image Key Points, e.g. computed s with F_VN_Key Points And Descriptors AKAZE n Ref Image Widt UDINT Width of the reference image in pixels h n Ref Image Hei UDINT Height of the reference image in pixels ght ip Edge Points Reference To Returns a container with the 4 edge points of the reference ITc Vn Container [} 374] image transformed into ip Src Image coordinates (Container Type_Vector_Tc Vn Point2_REAL) f Max Dist REAL Maximum allowed descriptor distance (-1 disables this filter criterion) f Max Knn Ratio REAL Maximum allowed distance ratio between first and second best match ([0..1], -1 disables this filter criterion) e Norm Type ETc Vn Normalization Type Normalization type used for descriptor matching [} 213] ip Src Image Ma ITc Vn Image [} 413] Mask to specify, where to look for keypoints in ip Src Image (set sk to 0 if no mask required) e Algorithm ETc Vn Estimation Algorithm Estimation algorithm used for computing the perspective transformation between the two point sets [} 204] f Reproj Thresho LREAL Maximum allowed reprojection error to treat a point pair as an ld inlier (only used if e Algorithm is RANSAC, RHO) n Max Iterations UDINT Maximum number of RANSAC iterations f Confidence LREAL Confidence (0..1) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Akaze Param Tc Vn Params AKAZE [} 240] Parameters to configure the keypoint and descriptor s computation for ip Src Image (resulting descriptors must be compatible to ip Ref Descriptors!) 1308 Version: 2.4.0 TF7000 - TF7810
## Page 1309

API reference Outputs Name Type Description a Perspective Tr Tc Vn Matrix3x3_LREAL Returns the perspective transformation matrix, which transforms ansform the reference points to the source points [} 165] n Number Of Go UDINT Return the number of good matches od Matches n Number Of Inli UDINT Return the number of inlier matches ers Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.18.5 F_VN_Find Reference Key Points In Image BRISK F_VN_Find Reference Key Points In Image BRISK ip Src Image ITc Vn Image Tc Vn Matrix3x3_LREAL a Perspective Transform ip Ref Key Points ITc Vn Container UDINT n Number Of Good Matches ip Ref Descriptors ITc Vn Image UDINT n Number Of Inliers n Ref Image Width UDINT HRESULT F_VN_Find Reference Key Points In Image BRISK n Ref Image Height UDINT ip Edge Points Reference To ITc Vn Container f Max Dist REAL f Max Knn Ratio REAL hr Prev HRESULT Searches a reference image, represented by its BRISK keypoints and corresponding descriptors, in a given source image (uses the default Tc Vn Params BRISK parameters). Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Find Reference Key Points In Image BRISK : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Ref Key Points : ITc Vn Container; ip Ref Descriptors : ITc Vn Image; n Ref Image Width : UDINT; n Ref Image Height : UDINT; ip Edge Points : Reference To ITc Vn Container; f Max Dist : REAL; f Max Knn Ratio : REAL; hr Prev : HRESULT; END_VAR VAR_OUTPUT a Perspective Transform : Tc Vn Matrix3x3_LREAL; n Number Of Good Matches : UDINT; n Number Of Inliers : UDINT; END_VAR TF7000 - TF7810 Version: 2.4.0 1309
## Page 1310

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Ref Key Points ITc Vn Container [} 374] Key Points of the reference image, e.g. computed with F_VN_Key Points And Descriptors BRISK (Container Type_Vector_Tc Vn Key Point) ip Ref Descriptor ITc Vn Image [} 413] Descriptors of the reference image Key Points, e.g. computed s with F_VN_Key Points And Descriptors BRISK n Ref Image Widt UDINT Width of the reference image in pixels h n Ref Image Hei UDINT Height of the reference image in pixels ght ip Edge Points Reference To Returns a container with the 4 edge points of the reference ITc Vn Container [} 374] image transformed into ip Src Image coordinates (Container Type_Vector_Tc Vn Point2_REAL) f Max Dist REAL Maximum allowed descriptor distance (-1 disables this filter criterion) f Max Knn Ratio REAL Maximum allowed distance ratio between first and second best match ([0..1], -1 disables this filter criterion) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Outputs Name Type Description a Perspective Tr Tc Vn Matrix3x3_LREAL Returns the perspective transformation matrix, which transforms ansform the reference points to the source points [} 165] n Number Of Go UDINT Return the number of good matches od Matches n Number Of Inli UDINT Return the number of inlier matches ers Return value HRESULT [} 144] Required License TC3 Vision Matching 1310 Version: 2.4.0 TF7000 - TF7810
## Page 1311

API reference System Requirements 6.1.4.18.6 F_VN_Find Reference Key Points In Image BRISKExp F_VN_Find Reference Key Points In Image BRISKExp ip Src Image ITc Vn Image Tc Vn Matrix3x3_LREAL a Perspective Transform ip Ref Key Points ITc Vn Container UDINT n Number Of Good Matches ip Ref Descriptors ITc Vn Image UDINT n Number Of Inliers n Ref Image Width UDINT HRESULT F_VN_Find Reference Key Points In Image BRISKExp n Ref Image Height UDINT ip Edge Points Reference To ITc Vn Container f Max Dist REAL f Max Knn Ratio REAL e Norm Type ETc Vn Normalization Type ip Src Image Mask ITc Vn Image ↔st Brisk Params Tc Vn Params BRISK e Algorithm ETc Vn Estimation Algorithm f Reproj Threshold LREAL n Max Iterations UDINT f Confidence LREAL hr Prev HRESULT Searches a reference image, represented by its BRISK keypoints and corresponding descriptors, in a given source image. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Find Reference Key Points In Image BRISKExp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Ref Key Points : ITc Vn Container; ip Ref Descriptors : ITc Vn Image; n Ref Image Width : UDINT; n Ref Image Height : UDINT; ip Edge Points : Reference To ITc Vn Container; f Max Dist : REAL; f Max Knn Ratio : REAL; e Norm Type : ETc Vn Normalization Type; ip Src Image Mask : ITc Vn Image; END_VAR VAR_IN_OUT st Brisk Params : Tc Vn Params BRISK; END_VAR VAR_INPUT e Algorithm : ETc Vn Estimation Algorithm; f Reproj Threshold : LREAL; n Max Iterations : UDINT; f Confidence : LREAL; hr Prev : HRESULT; END_VAR VAR_OUTPUT a Perspective Transform : Tc Vn Matrix3x3_LREAL; n Number Of Good Matches : UDINT; n Number Of Inliers : UDINT; END_VAR TF7000 - TF7810 Version: 2.4.0 1311
## Page 1312

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Ref Key Points ITc Vn Container [} 374] Key Points of the reference image, e.g. computed with F_VN_Key Points And Descriptors BRISK (Container Type_Vector_Tc Vn Key Point) ip Ref Descriptor ITc Vn Image [} 413] Descriptors of the reference image Key Points, e.g. computed s with F_VN_Key Points And Descriptors BRISK n Ref Image Widt UDINT Width of the reference image in pixels h n Ref Image Hei UDINT Height of the reference image in pixels ght ip Edge Points Reference To Returns a container with the 4 edge points of the reference ITc Vn Container [} 374] image transformed into ip Src Image coordinates (Container Type_Vector_Tc Vn Point2_REAL) f Max Dist REAL Maximum allowed descriptor distance (-1 disables this filter criterion) f Max Knn Ratio REAL Maximum allowed distance ratio between first and second best match ([0..1], -1 disables this filter criterion) e Norm Type ETc Vn Normalization Type Normalization type used for descriptor matching [} 213] ip Src Image Ma ITc Vn Image [} 413] Mask to specify, where to look for keypoints in ip Src Image (set sk to 0 if no mask required) e Algorithm ETc Vn Estimation Algorithm Estimation algorithm used for computing the perspective transformation between the two point sets [} 204] f Reproj Thresho LREAL Maximum allowed reprojection error to treat a point pair as an ld inlier (only used if e Algorithm is RANSAC, RHO) n Max Iterations UDINT Maximum number of RANSAC iterations f Confidence LREAL Confidence (0..1) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Brisk Params Tc Vn Params BRISK [} 244] Parameters to configure the keypoint and descriptor computation for ip Src Image (resulting descriptors must be compatible to ip Ref Descriptors!) Outputs Name Type Description a Perspective Tr Tc Vn Matrix3x3_LREAL Returns the perspective transformation matrix, which transforms ansform the reference points to the source points [} 165] n Number Of Go UDINT Return the number of good matches od Matches n Number Of Inli UDINT Return the number of inlier matches ers Return value HRESULT [} 144] 1312 Version: 2.4.0 TF7000 - TF7810
## Page 1313

API reference Required License TC3 Vision Matching System Requirements 6.1.4.18.7 F_VN_Find Reference Key Points In Image Exp F_VN_Find Reference Key Points In Image Exp ip Src Key Points ITc Vn Container Tc Vn Matrix3x3_LREAL a Perspective Transform ip Src Descriptors ITc Vn Image UDINT n Number Of Good Matches ip Ref Key Points ITc Vn Container UDINT n Number Of Inliers ip Ref Descriptors ITc Vn Image HRESULT F_VN_Find Reference Key Points In Image Exp n Ref Image Width UDINT n Ref Image Height UDINT ip Edge Points Reference To ITc Vn Container f Max Dist REAL f Max Knn Ratio REAL e Norm Type ETc Vn Normalization Type e Algorithm ETc Vn Estimation Algorithm f Reproj Threshold LREAL n Max Iterations UDINT f Confidence LREAL ip Good Matches Reference To ITc Vn Container ip Inlier Mask Reference To ITc Vn Container hr Prev HRESULT Searches a reference image, represented by its keypoints and corresponding descriptors, in a given source image. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Find Reference Key Points In Image Exp : HRESULT VAR_INPUT ip Src Key Points : ITc Vn Container; ip Src Descriptors : ITc Vn Image; ip Ref Key Points : ITc Vn Container; ip Ref Descriptors : ITc Vn Image; n Ref Image Width : UDINT; n Ref Image Height : UDINT; ip Edge Points : Reference To ITc Vn Container; f Max Dist : REAL; f Max Knn Ratio : REAL; e Norm Type : ETc Vn Normalization Type; e Algorithm : ETc Vn Estimation Algorithm; f Reproj Threshold : LREAL; n Max Iterations : UDINT; f Confidence : LREAL; ip Good Matches : Reference To ITc Vn Container; ip Inlier Mask : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR VAR_OUTPUT a Perspective Transform : Tc Vn Matrix3x3_LREAL; n Number Of Good Matches : UDINT; n Number Of Inliers : UDINT; END_VAR TF7000 - TF7810 Version: 2.4.0 1313
## Page 1314

API reference Inputs Name Type Description ip Src Key Points ITc Vn Container [} 374] Key Points of the source image, e.g. (Container Type_Vector_Tc Vn Key Point) ip Src Descriptor ITc Vn Image [} 413] Descriptors of the source image Key Points s ip Ref Key Points ITc Vn Container [} 374] Key Points of the reference image (Container Type_Vector_Tc Vn Key Point) ip Ref Descriptor ITc Vn Image [} 413] Descriptors of the reference image Key Points s n Ref Image Widt UDINT Width of the reference image in pixels h n Ref Image Hei UDINT Height of the reference image in pixels ght ip Edge Points Reference To Returns a container with the 4 edge points of the reference ITc Vn Container [} 374] image transformed into the coordinates of the source image (Container Type_Vector_Tc Vn Point2_REAL) f Max Dist REAL Maximum allowed descriptor distance (-1 disables this filter criterion) f Max Knn Ratio REAL Maximum allowed distance ratio between first and second best match ([0..1], -1 disables this filter criterion) e Norm Type ETc Vn Normalization Type Normalization type used for descriptor matching (HAMMING recommended for AKAZE, ORB, and BRISK. HAMMING2 is [} 213] recommended for ORB if the ORB n Brief Points parameter is 3 or 4. ) e Algorithm ETc Vn Estimation Algorithm Estimation algorithm used for computing the perspective transformation between the two point sets [} 204] f Reproj Thresho LREAL Maximum allowed reprojection error to treat a point pair as an ld inlier (only used if e Algorithm is RANSAC, RHO) n Max Iterations UDINT Maximum number of RANSAC iterations f Confidence LREAL Confidence (0..1) ip Good Matche Reference To Returns a container with good matches (optional, set to 0 if not s ITc Vn Container [} 374] required; Container Type_Vector_Tc Vn DMatch) ip Inlier Mask Reference To Returns a mask marking the inliers (optional, set to 0 if not ITc Vn Container [} 374] required; Container Type_Vector_SINT; only for RANSAC, LMEDS) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Outputs Name Type Description a Perspective Tr Tc Vn Matrix3x3_LREAL Returns the perspective transformation matrix, which transforms ansform the reference points to the source points [} 165] n Number Of Go UDINT Return the number of good matches od Matches n Number Of Inli UDINT Return the number of inlier matches ers Return value HRESULT [} 144] 1314 Version: 2.4.0 TF7000 - TF7810
## Page 1315

API reference Required License TC3 Vision Matching System Requirements 6.1.4.18.8 F_VN_Find Reference Key Points In Image ORB F_VN_Find Reference Key Points In Image ORB ip Src Image ITc Vn Image Tc Vn Matrix3x3_LREAL a Perspective Transform ip Ref Key Points ITc Vn Container UDINT n Number Of Good Matches ip Ref Descriptors ITc Vn Image UDINT n Number Of Inliers n Ref Image Width UDINT HRESULT F_VN_Find Reference Key Points In Image ORB n Ref Image Height UDINT ip Edge Points Reference To ITc Vn Container f Max Dist REAL f Max Knn Ratio REAL hr Prev HRESULT Searches a reference image, represented by its ORB keypoints and corresponding descriptors, in a given source image (uses the default Tc Vn Params ORB parameters). Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Find Reference Key Points In Image ORB : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Ref Key Points : ITc Vn Container; ip Ref Descriptors : ITc Vn Image; n Ref Image Width : UDINT; n Ref Image Height : UDINT; ip Edge Points : Reference To ITc Vn Container; f Max Dist : REAL; f Max Knn Ratio : REAL; hr Prev : HRESULT; END_VAR VAR_OUTPUT a Perspective Transform : Tc Vn Matrix3x3_LREAL; n Number Of Good Matches : UDINT; n Number Of Inliers : UDINT; END_VAR TF7000 - TF7810 Version: 2.4.0 1315
## Page 1316

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Ref Key Points ITc Vn Container [} 374] Key Points of the reference image, e.g. computed with F_VN_Key Points And Descriptors ORB (Container Type_Vector_Tc Vn Key Point) ip Ref Descriptor ITc Vn Image [} 413] Descriptors of the reference image Key Points, e.g. computed s with F_VN_Key Points And Descriptors ORB n Ref Image Widt UDINT Width of the reference image in pixels h n Ref Image Hei UDINT Height of the reference image in pixels ght ip Edge Points Reference To Returns a container with the 4 edge points of the reference ITc Vn Container [} 374] image transformed into ip Src Image coordinates (Container Type_Vector_Tc Vn Point2_REAL) f Max Dist REAL Maximum allowed descriptor distance (-1 disables this filter criterion) f Max Knn Ratio REAL Maximum allowed distance ratio between first and second best match ([0..1], -1 disables this filter criterion) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Outputs Name Type Description a Perspective Tr Tc Vn Matrix3x3_LREAL Returns the perspective transformation matrix, which transforms ansform the reference points to the source points [} 165] n Number Of Go UDINT Return the number of good matches od Matches n Number Of Inli UDINT Return the number of inlier matches ers Return value HRESULT [} 144] Required License TC3 Vision Matching 1316 Version: 2.4.0 TF7000 - TF7810
## Page 1317

API reference System Requirements 6.1.4.18.9 F_VN_Find Reference Key Points In Image ORBExp F_VN_Find Reference Key Points In Image ORBExp ip Src Image ITc Vn Image Tc Vn Matrix3x3_LREAL a Perspective Transform ip Ref Key Points ITc Vn Container UDINT n Number Of Good Matches ip Ref Descriptors ITc Vn Image UDINT n Number Of Inliers n Ref Image Width UDINT HRESULT F_VN_Find Reference Key Points In Image ORBExp n Ref Image Height UDINT ip Edge Points Reference To ITc Vn Container f Max Dist REAL f Max Knn Ratio REAL e Norm Type ETc Vn Normalization Type ip Src Image Mask ITc Vn Image ↔st Orb Params Tc Vn Params ORB e Algorithm ETc Vn Estimation Algorithm f Reproj Threshold LREAL n Max Iterations UDINT f Confidence LREAL hr Prev HRESULT Searches a reference image, represented by its ORB keypoints and corresponding descriptors, in a given source image. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Find Reference Key Points In Image ORBExp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Ref Key Points : ITc Vn Container; ip Ref Descriptors : ITc Vn Image; n Ref Image Width : UDINT; n Ref Image Height : UDINT; ip Edge Points : Reference To ITc Vn Container; f Max Dist : REAL; f Max Knn Ratio : REAL; e Norm Type : ETc Vn Normalization Type; ip Src Image Mask : ITc Vn Image; END_VAR VAR_IN_OUT st Orb Params : Tc Vn Params ORB; END_VAR VAR_INPUT e Algorithm : ETc Vn Estimation Algorithm; f Reproj Threshold : LREAL; n Max Iterations : UDINT; f Confidence : LREAL; hr Prev : HRESULT; END_VAR VAR_OUTPUT a Perspective Transform : Tc Vn Matrix3x3_LREAL; n Number Of Good Matches : UDINT; n Number Of Inliers : UDINT; END_VAR TF7000 - TF7810 Version: 2.4.0 1317
## Page 1318

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Ref Key Points ITc Vn Container [} 374] Key Points of the reference image, e.g. computed with F_VN_Key Points And Descriptors ORB (Container Type_Vector_Tc Vn Key Point) ip Ref Descriptor ITc Vn Image [} 413] Descriptors of the reference image Key Points, e.g. computed s with F_VN_Key Points And Descriptors ORB n Ref Image Widt UDINT Width of the reference image in pixels h n Ref Image Hei UDINT Height of the reference image in pixels ght ip Edge Points Reference To Returns a container with the 4 edge points of the reference ITc Vn Container [} 374] image transformed into ip Src Image coordinates (Container Type_Vector_Tc Vn Point2_REAL) f Max Dist REAL Maximum allowed descriptor distance (-1 disables this filter criterion) f Max Knn Ratio REAL Maximum allowed distance ratio between first and second best match ([0..1], -1 disables this filter criterion) e Norm Type ETc Vn Normalization Type Normalization type used for descriptor matching (HAMMING recommended for ORB, HAMMING2 if the ORB n Brief Points [} 213] parameter is 3 or 4) ip Src Image Ma ITc Vn Image [} 413] Mask to specify, where to look for keypoints in ip Src Image (set sk to 0 if no mask required) e Algorithm ETc Vn Estimation Algorithm Estimation algorithm used for computing the perspective transformation between the two point sets [} 204] f Reproj Thresho LREAL Maximum allowed reprojection error to treat a point pair as an ld inlier (only used if e Algorithm is RANSAC, RHO) n Max Iterations UDINT Maximum number of RANSAC iterations f Confidence LREAL Confidence (0..1) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Orb Params Tc Vn Params ORB [} 247] Parameters to configure the keypoint and descriptor computation for ip Src Image (resulting descriptors must be compatible to ip Ref Descriptors!) Outputs Name Type Description a Perspective Tr Tc Vn Matrix3x3_LREAL Returns the perspective transformation matrix, which transforms ansform the reference points to the source points [} 165] n Number Of Go UDINT Return the number of good matches od Matches n Number Of Inli UDINT Return the number of inlier matches ers Return value HRESULT [} 144] 1318 Version: 2.4.0 TF7000 - TF7810
## Page 1319

API reference Required License TC3 Vision Matching System Requirements 6.1.4.18.10 F_VN_Get Match Coordinates F_VN_Get Match Coordinates ip Query Key Points ITc Vn Container HRESULT F_VN_Get Match Coordinates ip Train Key Points ITc Vn Container ip Matches ITc Vn Container ip Query Coordinates Reference To ITc Vn Container ip Train Coordinates Reference To ITc Vn Container hr Prev HRESULT Return the coordinates of keypoints that match each other. Syntax Definition: FUNCTION F_VN_Get Match Coordinates : HRESULT VAR_INPUT ip Query Key Points : ITc Vn Container; ip Train Key Points : ITc Vn Container; ip Matches : ITc Vn Container; ip Query Coordinates : Reference To ITc Vn Container; ip Train Coordinates : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Query Key Poi ITc Vn Container [} 374] Container with query Keypoints (i.e. keypoints of a reference/ nts template image) of type CTc Vn Container_Vector_Tc Vn Key Point ip Train Key Poin ITc Vn Container [} 374] Container with training Keypoints (i.e. keypoints of a source/ ts input image) of type CTc Vn Container_Vector_Tc Vn Key Point ip Matches ITc Vn Container [} 374] Container with matches between query and train Keypoints (CTc Vn Container_Vector_Tc Vn DMatch). ip Query Coordi Reference To Returns a container with the coordinates of keypoints from the nates ITc Vn Container [} 374] query Keypoints that exist in ip Matches (CTc Vn Container_Vector_Tc Vn Point2_REAL) ip Train Coordin Reference To Returns a container with the coordinates of keypoints from the ates ITc Vn Container [} 374] training Keypoints that exist in ip Matches (CTc Vn Container_Vector_Tc Vn Point2_REAL) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Matching TF7000 - TF7810 Version: 2.4.0 1319
## Page 1320

API reference System Requirements 6.1.4.18.11 F_VN_Key Points AGAST F_VN_Key Points AGAST ip Src Image ITc Vn Image HRESULT F_VN_Key Points AGAST ip Key Points Reference To ITc Vn Container hr Prev HRESULT Detects keypoints using the AGAST method. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Key Points AGAST : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Key Points : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Key Points Reference To Returns a container which is filled with the keypoints ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Key Point; Non-zero interface pointers are reused.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.18.12 F_VN_Key Points AGASTExp F_VN_Key Points AGASTExp ip Src Image ITc Vn Image HRESULT F_VN_Key Points AGASTExp ip Key Points Reference To ITc Vn Container ip Mask ITc Vn Image ↔ st Params Tc Vn Params AGAST hr Prev HRESULT Detects keypoints using the AGAST method. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: 1320 Version: 2.4.0 TF7000 - TF7810
## Page 1321

API reference FUNCTION F_VN_Key Points AGASTExp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Key Points : Reference To ITc Vn Container; ip Mask : ITc Vn Image; END_VAR VAR_IN_OUT st Params : Tc Vn Params AGAST; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Key Points Reference To Returns a container which is filled with the keypoints ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Key Point; Non-zero interface pointers are reused.) ip Mask ITc Vn Image [} 413] Mask to specify, where to look for keypoints (set to 0 if no mask required) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Params Tc Vn Params AGAST [} 239] Additional expert parameters Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.18.13 F_VN_Key Points And Descriptors AKAZE F_VN_Key Points And Descriptors AKAZE ip Src Image ITc Vn Image HRESULT F_VN_Key Points And Descriptors AKAZE ip Key Points Reference To ITc Vn Container ip Descriptors Reference To ITc Vn Image hr Prev HRESULT Detects keypoints and compute descriptors using the AKAZE method. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Key Points And Descriptors AKAZE : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Key Points : Reference To ITc Vn Container; ip Descriptors : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1321
## Page 1322

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Key Points Reference To Returns a container which is filled with the keypoints ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Key Point; Non-zero interface pointers are reused.) ip Descriptors Reference To Descriptor image (set to 0 if not required; 1 descriptor in each ITc Vn Image [} 413] row; An appropriate image will be created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.18.14 F_VN_Key Points And Descriptors AKAZEExp F_VN_Key Points And Descriptors AKAZEExp ip Src Image ITc Vn Image HRESULT F_VN_Key Points And Descriptors AKAZEExp ip Key Points Reference To ITc Vn Container ip Descriptors Reference To ITc Vn Image ip Mask ITc Vn Image ↔ st Params Tc Vn Params AKAZE hr Prev HRESULT Detects keypoints and compute descriptors using the AKAZE method. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Key Points And Descriptors AKAZEExp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Key Points : Reference To ITc Vn Container; ip Descriptors : Reference To ITc Vn Image; ip Mask : ITc Vn Image; END_VAR VAR_IN_OUT st Params : Tc Vn Params AKAZE; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR 1322 Version: 2.4.0 TF7000 - TF7810
## Page 1323

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Key Points Reference To Returns a container which is filled with the keypoints ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Key Point; Non-zero interface pointers are reused.) ip Descriptors Reference To Descriptor image (set to 0 if not required; 1 descriptor in each ITc Vn Image [} 413] row; An appropriate image will be created if required.) ip Mask ITc Vn Image [} 413] Mask to specify, where to look for keypoints (set to 0 if no mask required) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Params Tc Vn Params AKAZE [} 240] Additional expert parameters Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.18.15 F_VN_Key Points And Descriptors BRISK F_VN_Key Points And Descriptors BRISK ip Src Image ITc Vn Image HRESULT F_VN_Key Points And Descriptors BRISK ip Key Points Reference To ITc Vn Container ip Descriptors Reference To ITc Vn Image hr Prev HRESULT Detects keypoints and compute descriptors using the BRISK method. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Key Points And Descriptors BRISK : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Key Points : Reference To ITc Vn Container; ip Descriptors : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1323
## Page 1324

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Key Points Reference To Returns a container which is filled with the keypoints ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Key Point; Non-zero interface pointers are reused.) ip Descriptors Reference To Descriptor image (set to 0 if not required; 1 descriptor in each ITc Vn Image [} 413] row; An appropriate image will be created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.18.16 F_VN_Key Points And Descriptors BRISKExp F_VN_Key Points And Descriptors BRISKExp ip Src Image ITc Vn Image HRESULT F_VN_Key Points And Descriptors BRISKExp ip Key Points Reference To ITc Vn Container ip Descriptors Reference To ITc Vn Image ip Mask ITc Vn Image ↔ st Params Tc Vn Params BRISK hr Prev HRESULT Detects keypoints and compute descriptors using the BRISK method. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Key Points And Descriptors BRISKExp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Key Points : Reference To ITc Vn Container; ip Descriptors : Reference To ITc Vn Image; ip Mask : ITc Vn Image; END_VAR VAR_IN_OUT st Params : Tc Vn Params BRISK; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR 1324 Version: 2.4.0 TF7000 - TF7810
## Page 1325

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Key Points Reference To Returns a container which is filled with the keypoints ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Key Point; Non-zero interface pointers are reused.) ip Descriptors Reference To Descriptor image (set to 0 if not required; 1 descriptor in each ITc Vn Image [} 413] row; An appropriate image will be created if required.) ip Mask ITc Vn Image [} 413] Mask to specify, where to look for keypoints (set to 0 if no mask required) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Params Tc Vn Params BRISK [} 244] Additional expert parameters Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.18.17 F_VN_Key Points And Descriptors KAZE F_VN_Key Points And Descriptors KAZE ip Src Image ITc Vn Image HRESULT F_VN_Key Points And Descriptors KAZE ip Key Points Reference To ITc Vn Container ip Descriptors Reference To ITc Vn Image hr Prev HRESULT Detects keypoints and compute descriptors using the KAZE method. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Key Points And Descriptors KAZE : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Key Points : Reference To ITc Vn Container; ip Descriptors : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1325
## Page 1326

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Key Points Reference To Returns a container which is filled with the keypoints ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Key Point; Non-zero interface pointers are reused.) ip Descriptors Reference To Descriptor image (set to 0 if not required; 1 descriptor in each ITc Vn Image [} 413] row; An appropriate image will be created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.18.18 F_VN_Key Points And Descriptors KAZEExp F_VN_Key Points And Descriptors KAZEExp ip Src Image ITc Vn Image HRESULT F_VN_Key Points And Descriptors KAZEExp ip Key Points Reference To ITc Vn Container ip Descriptors Reference To ITc Vn Image ip Mask ITc Vn Image ↔ st Params Tc Vn Params KAZE hr Prev HRESULT Detects keypoints and compute descriptors using the KAZE method. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Key Points And Descriptors KAZEExp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Key Points : Reference To ITc Vn Container; ip Descriptors : Reference To ITc Vn Image; ip Mask : ITc Vn Image; END_VAR VAR_IN_OUT st Params : Tc Vn Params KAZE; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR 1326 Version: 2.4.0 TF7000 - TF7810
## Page 1327

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Key Points Reference To Returns a container which is filled with the keypoints ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Key Point; Non-zero interface pointers are reused.) ip Descriptors Reference To Descriptor image (set to 0 if not required; 1 descriptor in each ITc Vn Image [} 413] row; An appropriate image will be created if required.) ip Mask ITc Vn Image [} 413] Mask to specify, where to look for keypoints (set to 0 if no mask required) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Params Tc Vn Params KAZE [} 246] Additional expert parameters Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.18.19 F_VN_Key Points And Descriptors ORB F_VN_Key Points And Descriptors ORB ip Src Image ITc Vn Image HRESULT F_VN_Key Points And Descriptors ORB ip Key Points Reference To ITc Vn Container ip Descriptors Reference To ITc Vn Image hr Prev HRESULT Detects keypoints and compute descriptors using the ORB method. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Key Points And Descriptors ORB : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Key Points : Reference To ITc Vn Container; ip Descriptors : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1327
## Page 1328

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Key Points Reference To Returns a container which is filled with the keypoints ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Key Point; Non-zero interface pointers are reused.) ip Descriptors Reference To Descriptor image (set to 0 if not required; 1 descriptor in each ITc Vn Image [} 413] row; An appropriate image will be created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.18.20 F_VN_Key Points And Descriptors ORBExp F_VN_Key Points And Descriptors ORBExp ip Src Image ITc Vn Image HRESULT F_VN_Key Points And Descriptors ORBExp ip Key Points Reference To ITc Vn Container ip Descriptors Reference To ITc Vn Image ip Mask ITc Vn Image ↔ st Params Tc Vn Params ORB hr Prev HRESULT Detect keypoints and compute descriptors using the ORB method. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Key Points And Descriptors ORBExp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Key Points : Reference To ITc Vn Container; ip Descriptors : Reference To ITc Vn Image; ip Mask : ITc Vn Image; END_VAR VAR_IN_OUT st Params : Tc Vn Params ORB; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR 1328 Version: 2.4.0 TF7000 - TF7810
## Page 1329

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Key Points Reference To Returns a container which is filled with the keypoints ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Key Point; Non-zero interface pointers are reused.) ip Descriptors Reference To Descriptor image (set to 0 if not required; 1 descriptor in each ITc Vn Image [} 413] row; An appropriate image will be created if required.) ip Mask ITc Vn Image [} 413] Mask to specify, where to look for keypoints (set to 0 if no mask required) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Params Tc Vn Params ORB [} 247] Additional expert parameters Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.18.21 F_VN_Key Points FAST F_VN_Key Points FAST ip Src Image ITc Vn Image HRESULT F_VN_Key Points FAST ip Key Points Reference To ITc Vn Container hr Prev HRESULT Detects keypoints using the FAST method. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Key Points FAST : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Key Points : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1329
## Page 1330

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (single-channel). ip Key Points Reference To Returns a container which is filled with the keypoints ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Key Point; Non-zero interface pointers are reused.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.18.22 F_VN_Key Points FASTExp F_VN_Key Points FASTExp ip Src Image ITc Vn Image HRESULT F_VN_Key Points FASTExp ip Key Points Reference To ITc Vn Container ip Mask ITc Vn Image ↔ st Params Tc Vn Params FAST hr Prev HRESULT Detects keypoints using the FAST method. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Key Points FASTExp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Key Points : Reference To ITc Vn Container; ip Mask : ITc Vn Image; END_VAR VAR_IN_OUT st Params : Tc Vn Params FAST; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Key Points Reference To Returns a container which is filled with the keypoints ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Key Point; Non-zero interface pointers are reused.) ip Mask ITc Vn Image [} 413] Mask to specify, where to look for keypoints (set to 0 if no mask required) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 1330 Version: 2.4.0 TF7000 - TF7810
## Page 1331

API reference In/Outputs Name Type Description st Params Tc Vn Params FAST [} 245] Additional expert parameters Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.18.23 F_VN_Key Points GFTT F_VN_Key Points GFTT ip Src Image ITc Vn Image HRESULT F_VN_Key Points GFTT ip Key Points Reference To ITc Vn Container hr Prev HRESULT Detects keypoints using the GFTT method, which detects strong corners. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Key Points GFTT : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Key Points : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Key Points Reference To Returns a container which is filled with the keypoints ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Key Point; Non-zero interface pointers are reused.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Matching TF7000 - TF7810 Version: 2.4.0 1331
## Page 1332

API reference System Requirements 6.1.4.18.24 F_VN_Key Points GFTTExp F_VN_Key Points GFTTExp ip Src Image ITc Vn Image HRESULT F_VN_Key Points GFTTExp ip Key Points Reference To ITc Vn Container ip Mask ITc Vn Image ↔ st Params Tc Vn Params GFTT hr Prev HRESULT Detects keypoints using the GFTT method, which detects strong corners. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Key Points GFTTExp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Key Points : Reference To ITc Vn Container; ip Mask : ITc Vn Image; END_VAR VAR_IN_OUT st Params : Tc Vn Params GFTT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Key Points Reference To Returns a container which is filled with the keypoints ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Key Point; Non-zero interface pointers are reused.) ip Mask ITc Vn Image [} 413] Mask to specify, where to look for keypoints (set to 0 if no mask required) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Params Tc Vn Params GFTT [} 245] Additional expert parameters Return value HRESULT [} 144] Required License TC3 Vision Matching 1332 Version: 2.4.0 TF7000 - TF7810
## Page 1333

API reference System Requirements 6.1.4.18.25 F_VN_Key Points MSER F_VN_Key Points MSER ip Src Image ITc Vn Image HRESULT F_VN_Key Points MSER ip Key Points Reference To ITc Vn Container hr Prev HRESULT Detects keypoints using the MSER method. Syntax Definition: FUNCTION F_VN_Key Points MSER : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Key Points : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Key Points Reference To Returns a container which is filled with the keypoints ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Key Point; Non-zero interface pointers are reused.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.18.26 F_VN_Key Points MSERExp F_VN_Key Points MSERExp ip Src Image ITc Vn Image HRESULT F_VN_Key Points MSERExp ip Key Points Reference To ITc Vn Container ip Mask ITc Vn Image ↔ st Params Tc Vn Params MSER hr Prev HRESULT Detects keypoints using the MSER method. (expert function) Syntax Definition: FUNCTION F_VN_Key Points MSERExp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; TF7000 - TF7810 Version: 2.4.0 1333
## Page 1334

API reference ip Key Points : Reference To ITc Vn Container; ip Mask : ITc Vn Image; END_VAR VAR_IN_OUT st Params : Tc Vn Params MSER; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Key Points Reference To Returns a container which is filled with the keypoints ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Key Point; Non-zero interface pointers are reused.) ip Mask ITc Vn Image [} 413] Mask to specify, where to look for keypoints (set to 0 if no mask required) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Params Tc Vn Params MSER [} 246] Additional expert parameters Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.18.27 F_VN_Key Points SB F_VN_Key Points SB ip Src Image ITc Vn Image HRESULT F_VN_Key Points SB ip Key Points Reference To ITc Vn Container hr Prev HRESULT Detects keypoints using a Simple Blob method - several iterations apply different thresholds to source image - connected components (blobs) are detected - the center and radius of the blobs are returned as keypoints Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Key Points SB : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Key Points : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR 1334 Version: 2.4.0 TF7000 - TF7810
## Page 1335

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Key Points Reference To Returns a container which is filled with the keypoints ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Key Point; Non-zero interface pointers are reused.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.18.28 F_VN_Key Points SBExp F_VN_Key Points SBExp ip Src Image ITc Vn Image HRESULT F_VN_Key Points SBExp ip Key Points Reference To ITc Vn Container ip Mask ITc Vn Image ↔ st Params Tc Vn Params SB hr Prev HRESULT Detects keypoints using a Simple Blob method (expert function) - several iterations apply different thresholds to source image - connected components (blobs) are detected - the center and radius of the blobs are returned as keypoints Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Key Points SBExp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Key Points : Reference To ITc Vn Container; ip Mask : ITc Vn Image; END_VAR VAR_IN_OUT st Params : Tc Vn Params SB; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1335
## Page 1336

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Key Points Reference To Returns a container which is filled with the keypoints ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Key Point; Non-zero interface pointers are reused.) ip Mask ITc Vn Image [} 413] Mask to specify, where to look for keypoints (optional, set to 0 if not required) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Params Tc Vn Params SB [} 248] Several parameters to filter the detected blobs Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.18.29 F_VN_Match Descriptors BF F_VN_Match Descriptors BF ip Query Descriptors ITc Vn Image HRESULT F_VN_Match Descriptors BF ip Train Descriptors ITc Vn Image ip Matches Reference To ITc Vn Container hr Prev HRESULT Match descriptors using a brute force approach. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Match Descriptors BF : HRESULT VAR_INPUT ip Query Descriptors : ITc Vn Image; ip Train Descriptors : ITc Vn Image; ip Matches : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR 1336 Version: 2.4.0 TF7000 - TF7810
## Page 1337

API reference Inputs Name Type Description ip Query Descrip ITc Vn Image [} 413] Query descriptors (i.e. descriptors of a reference/template tors image) ip Train Descript ITc Vn Image [} 413] Training descriptors (i.e. descriptors of a source/input image) ors ip Matches Reference To Returns a container which is filled with the descriptor matches ITc Vn Container [} 374] (Container Type_Vector_Tc Vn DMatch; Non-zero interface pointers are reused.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.18.30 F_VN_Match Descriptors BFExp F_VN_Match Descriptors BFExp ip Query Descriptors ITc Vn Image HRESULT F_VN_Match Descriptors BFExp ip Train Descriptors ITc Vn Image ip Matches Reference To ITc Vn Container ip Mask ITc Vn Image e Norm Type ETc Vn Normalization Type b Cross Check BOOL hr Prev HRESULT Match descriptors using a brute force approach. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Match Descriptors BFExp : HRESULT VAR_INPUT ip Query Descriptors : ITc Vn Image; ip Train Descriptors : ITc Vn Image; ip Matches : Reference To ITc Vn Container; ip Mask : ITc Vn Image; e Norm Type : ETc Vn Normalization Type; b Cross Check : BOOL; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1337
## Page 1338

API reference Inputs Name Type Description ip Query Descrip ITc Vn Image [} 413] Query descriptors (i.e. descriptors of a reference/template tors image) ip Train Descript ITc Vn Image [} 413] Training descriptors (i.e. descriptors of a source/input image) ors ip Matches Reference To Returns a container which is filled with the descriptor matches ITc Vn Container [} 374] (Container Type_Vector_Tc Vn DMatch; Non-zero interface pointers are reused.) ip Mask ITc Vn Image [} 413] Mask to specify permissable matches, i.e. query[i] can be matched with train[j] only if mask[i][j] != 0 (set to 0 if no mask required) e Norm Type ETc Vn Normalization Type Normalization type (only L1, L2, L2SQR, HAMMING, HAMMING2 supported). HAMMING2 should be used for ORB [} 213] descriptors if the ORB n Brief Points parameter is 3 or 4) b Cross Check BOOL If true, only consistent matches are returned, i.e. query->train and train->query detect the same match hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.18.31 F_VN_Match Descriptors Flann Lsh F_VN_Match Descriptors Flann Lsh ip Query Descriptors ITc Vn Image HRESULT F_VN_Match Descriptors Flann Lsh ip Train Descriptors ITc Vn Image ip Matches Reference To ITc Vn Container hr Prev HRESULT Match descriptors using a FLANN based approach with LSH index. Syntax Definition: FUNCTION F_VN_Match Descriptors Flann Lsh : HRESULT VAR_INPUT ip Query Descriptors : ITc Vn Image; ip Train Descriptors : ITc Vn Image; ip Matches : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR 1338 Version: 2.4.0 TF7000 - TF7810
## Page 1339

API reference Inputs Name Type Description ip Query Descrip ITc Vn Image [} 413] Query descriptors (i.e. descriptors of a reference/template tors image) ip Train Descript ITc Vn Image [} 413] Training descriptors (i.e. descriptors of a source/input image) ors ip Matches Reference To Returns a container which is filled with the descriptor matches ITc Vn Container [} 374] (Container Type_Vector_Tc Vn DMatch; Non-zero interface pointers are reused.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information Number of matches For reasons related to the method, the number of matches can vary from call to call with this function. Required License TC3 Vision Matching System Requirements 6.1.4.18.32 F_VN_Match Descriptors Flann Lsh Exp F_VN_Match Descriptors Flann Lsh Exp ip Query Descriptors ITc Vn Image HRESULT F_VN_Match Descriptors Flann Lsh Exp ip Train Descriptors ITc Vn Image ip Matches Reference To ITc Vn Container n Table Number UDINT n Key Size UDINT n Multi Probe Level UDINT n Checks UDINT hr Prev HRESULT Match descriptors using a FLANN based approach with LSH index. (expert function) Syntax Definition: FUNCTION F_VN_Match Descriptors Flann Lsh Exp : HRESULT VAR_INPUT ip Query Descriptors : ITc Vn Image; ip Train Descriptors : ITc Vn Image; ip Matches : Reference To ITc Vn Container; n Table Number : UDINT; n Key Size : UDINT; n Multi Probe Level : UDINT; n Checks : UDINT; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1339
## Page 1340

API reference Inputs Name Type Description ip Query Descrip ITc Vn Image [} 413] Query descriptors (i.e. descriptors of a reference/template tors image) ip Train Descript ITc Vn Image [} 413] Training descriptors (i.e. descriptors of a source/input image) ors ip Matches Reference To Returns a container which is filled with the descriptor matches ITc Vn Container [} 374] (Container Type_Vector_Tc Vn DMatch; Non-zero interface pointers are reused.) n Table Number UDINT Number of tables n Key Size UDINT Key size n Multi Probe Le UDINT Multi-probe level vel n Checks UDINT Maximum number of visited leafs when searching for neighbors hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.18.33 F_VN_Match Descriptors Knn BF F_VN_Match Descriptors Knn BF ip Query Descriptors ITc Vn Image HRESULT F_VN_Match Descriptors Knn BF ip Train Descriptors ITc Vn Image ip Matches Reference To ITc Vn Container n K UDINT hr Prev HRESULT Match descriptors (k nearest neighbors) using a brute force approach. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Match Descriptors Knn BF : HRESULT VAR_INPUT ip Query Descriptors : ITc Vn Image; ip Train Descriptors : ITc Vn Image; ip Matches : Reference To ITc Vn Container; n K : UDINT; hr Prev : HRESULT; END_VAR 1340 Version: 2.4.0 TF7000 - TF7810
## Page 1341

API reference Inputs Name Type Description ip Query Descrip ITc Vn Image [} 413] Query descriptors (i.e. descriptors of a reference/template tors image) ip Train Descript ITc Vn Image [} 413] Training descriptors (i.e. descriptors of a source/input image) ors ip Matches Reference To Returns a container which is filled with the descriptor matches ITc Vn Container [} 374] (Container Type_Vector_Vector_Tc Vn DMatch; Non-zero interface pointers are reused.) n K UDINT Number of required best train matches for each query descriptor (i.e. nk := 2) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.18.34 F_VN_Match Descriptors Knn BFExp F_VN_Match Descriptors Knn BFExp ip Query Descriptors ITc Vn Image HRESULT F_VN_Match Descriptors Knn BFExp ip Train Descriptors ITc Vn Image ip Matches Reference To ITc Vn Container n K UDINT ip Mask ITc Vn Image b Compact Result BOOL e Norm Type ETc Vn Normalization Type b Cross Check BOOL hr Prev HRESULT Match descriptors (k nearest neighbors) using a brute force approach. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Match Descriptors Knn BFExp : HRESULT VAR_INPUT ip Query Descriptors : ITc Vn Image; ip Train Descriptors : ITc Vn Image; ip Matches : Reference To ITc Vn Container; n K : UDINT; ip Mask : ITc Vn Image; b Compact Result : BOOL; e Norm Type : ETc Vn Normalization Type; b Cross Check : BOOL; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1341
## Page 1342

API reference Inputs Name Type Description ip Query Descrip ITc Vn Image [} 413] Query descriptors (i.e. descriptors of a reference/template tors image) ip Train Descript ITc Vn Image [} 413] Training descriptors (i.e. descriptors of a source/input image) ors ip Matches Reference To Returns a container which is filled with the descriptor matches ITc Vn Container [} 374] (Container Type_Vector_Vector_Tc Vn DMatch; Non-zero interface pointers are reused.) n K UDINT Number of required best train matches for each query descriptor (i.e. nk := 2) ip Mask ITc Vn Image [} 413] Mask to specify permissable matches, i.e. query[i] can be matched with train[j] only if mask[i][j] != 0 (set to 0 if no mask required) b Compact Resu BOOL If true, matches vector does not contain entries for fully masked- lt out query descriptors e Norm Type ETc Vn Normalization Type Normalization type (only L1, L2, L2SQR, HAMMING, HAMMING2 supported). HAMMING2 should be used for ORB [} 213] descriptors if the ORB n Brief Points parameter is 3 or 4) b Cross Check BOOL If true, only consistent matches are returned, i.e. query->train and train->query detect the same match (only used if n K = 1) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.18.35 F_VN_Match Descriptors Knn Flann Lsh F_VN_Match Descriptors Knn Flann Lsh ip Query Descriptors ITc Vn Image HRESULT F_VN_Match Descriptors Knn Flann Lsh ip Train Descriptors ITc Vn Image ip Matches Reference To ITc Vn Container n K UDINT hr Prev HRESULT Match descriptors (k nearest neighbors) using a FLANN based approach with LSH index. Syntax Definition: FUNCTION F_VN_Match Descriptors Knn Flann Lsh : HRESULT VAR_INPUT ip Query Descriptors : ITc Vn Image; ip Train Descriptors : ITc Vn Image; ip Matches : Reference To ITc Vn Container; n K : UDINT; hr Prev : HRESULT; END_VAR 1342 Version: 2.4.0 TF7000 - TF7810
## Page 1343

API reference Inputs Name Type Description ip Query Descrip ITc Vn Image [} 413] Query descriptors (i.e. descriptors of a reference/template tors image) ip Train Descript ITc Vn Image [} 413] Training descriptors (i.e. descriptors of a source/input image) ors ip Matches Reference To Returns a container which is filled with the descriptor matches ITc Vn Container [} 374] (Container Type_Vector_Vector_Tc Vn DMatch; Non-zero interface pointers are reused.) n K UDINT Number of required best train matches for each query descriptor (i.e. nk := 2) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.18.36 F_VN_Match Descriptors Knn Flann Lsh Exp F_VN_Match Descriptors Knn Flann Lsh Exp ip Query Descriptors ITc Vn Image HRESULT F_VN_Match Descriptors Knn Flann Lsh Exp ip Train Descriptors ITc Vn Image ip Matches Reference To ITc Vn Container n K UDINT n Table Number UDINT n Key Size UDINT n Multi Probe Level UDINT n Checks UDINT hr Prev HRESULT Match descriptors (k nearest neighbors) using a FLANN based approach with LSH index. (expert function) Syntax Definition: FUNCTION F_VN_Match Descriptors Knn Flann Lsh Exp : HRESULT VAR_INPUT ip Query Descriptors : ITc Vn Image; ip Train Descriptors : ITc Vn Image; ip Matches : Reference To ITc Vn Container; n K : UDINT; n Table Number : UDINT; n Key Size : UDINT; n Multi Probe Level : UDINT; n Checks : UDINT; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1343
## Page 1344

API reference Inputs Name Type Description ip Query Descrip ITc Vn Image [} 413] Query descriptors (i.e. descriptors of a reference/template tors image) ip Train Descript ITc Vn Image [} 413] Training descriptors (i.e. descriptors of a source/input image) ors ip Matches Reference To Returns a container which is filled with the descriptor matches ITc Vn Container [} 374] (Container Type_Vector_Vector_Tc Vn DMatch; Non-zero interface pointers are reused.) n K UDINT Number of required best train matches for each query descriptor (i.e. nk := 2) n Table Number UDINT Number of tables n Key Size UDINT Key size n Multi Probe Le UDINT Multi-probe level vel n Checks UDINT Maximum number of visited leafs when searching for neighbors hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.18.37 F_VN_Regions MSER F_VN_Regions MSER ip Src Image ITc Vn Image HRESULT F_VN_Regions MSER ip Regions Reference To ITc Vn Container ip Bounding Boxes Reference To ITc Vn Container hr Prev HRESULT Detects regions using the MSER method. Syntax Definition: FUNCTION F_VN_Regions MSER : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Regions : Reference To ITc Vn Container; ip Bounding Boxes : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR 1344 Version: 2.4.0 TF7000 - TF7810
## Page 1345

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Regions Reference To Returns a container which is filled with the region points ITc Vn Container [} 374] (Container Type_Vector_Vector_Tc Vn Point2_DINT; Non-zero interface pointers are reused.) ip Bounding Box Reference To Returns a container which is filled with the region bounding es ITc Vn Container [} 374] boxes (Container Type_Vector_Tc Vn Rectangle_DINT; Non-zero interface pointers are reused.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.18.38 F_VN_Regions MSERExp F_VN_Regions MSERExp ip Src Image ITc Vn Image HRESULT F_VN_Regions MSERExp ip Regions Reference To ITc Vn Container ip Bounding Boxes Reference To ITc Vn Container ↔ st Params Tc Vn Params MSER hr Prev HRESULT Detects regions using the MSER method. (expert function) Syntax Definition: FUNCTION F_VN_Regions MSERExp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Regions : Reference To ITc Vn Container; ip Bounding Boxes : Reference To ITc Vn Container; END_VAR VAR_IN_OUT st Params : Tc Vn Params MSER; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1345
## Page 1346

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Regions Reference To Returns a container which is filled with the region points ITc Vn Container [} 374] (Container Type_Vector_Vector_Tc Vn Point2_DINT; Non-zero interface pointers are reused.) ip Bounding Box Reference To Returns a container which is filled with the region bounding es ITc Vn Container [} 374] boxes (Container Type_Vector_Tc Vn Rectangle_DINT; Non-zero interface pointers are reused.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Params Tc Vn Params MSER [} 246] Additional expert parameters Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.1.4.19 Machine Learning This group contains functions for creating, training and applying Machine Learning models as well as functions for feature pre-processing. A brief overview of the possible applications of Machine Learning [} 146] and further descriptions can be found under the software concept [} 140]. Functions for creating a model: • F_VN_Create Boost Classifier(Exp) [} 1347] • F_VN_Create Kmpp Model(Exp) [} 1352] • F_VN_Create Knn Model [} 1355] • F_VN_Create Lbg Model(Exp) [} 1357] • F_VN_Create Lda Transform [} 1361] • F_VN_Create Lda Transform Via Component Num [} 1363] • F_VN_Create Nbc Model [} 1364] • F_VN_Create Pca Transform [} 1365] • F_VN_Create Pca Transform Via Component Num [} 1367] • F_VN_Create Pca Transform Via Variance [} 1368] • F_VN_Create RTrees Model(Exp) [} 1370] • F_VN_Create Sta Model(Exp) [} 1375] • F_VN_Create Svm Model(Exp) [} 1381] • F_VN_Create Svm Sgd Classifier(Exp) [} 1388] Functions for training a model: 1346 Version: 2.4.0 TF7000 - TF7810
## Page 1347

API reference • F_VN_Train Batch [} 1430] • F_VN_Train Batch Clusters [} 1431] • F_VN_Train Sample [} 1433] • F_VN_Train Sample Class [} 1434] • F_VN_Train Sample Cluster [} 1436] • F_VN_Train Sample Scalar [} 1437] • F_VN_Train Sample Vector [} 1438] Functions for obtaining information on the cluster models: • F_VN_Get Cluster Center [} 1401] • F_VN_Get Cluster Num [} 1402] Functions for applying models to a sample: • F_VN_Get Sample Cluster(Exp) [} 1405] • F_VN_Get Sample Novelty [} 1408] • F_VN_Predict Sample Class (Exp) [} 1421] • F_VN_Predict Sample Scalar(Exp) [} 1424] • F_VN_Predict Sample Vector(Exp) [} 1427] Functions for applying models to a batch: • F_VN_Get Batch Clusters(Exp) [} 1397] • F_VN_Get Batch Novelties [} 1399] • F_VN_Predict Batch(Exp) [} 1417] Functions for applying models for feature transformation / dimension reduction: • F_VN_Feature Transform [} 1395] • F_VN_Inverse Feature Transform [} 1416] Functions for feature normalization: • F_VN_Get Feature Scales [} 1403] • F_VN_Feature Scaling(Exp) [} 1392] • F_VN_Inverse Feature Scaling(Exp) [} 1409] • F_VN_Inverse Feature Scaling(Exp)_REAL [} 1411] 6.1.4.19.1 F_VN_Create Boost Classifier F_VN_Create Boost Classifier ip Ml Model Reference To ITc Vn Ml Model HRESULT F_VN_Create Boost Classifier hr Prev HRESULT Create a Boost classifier using the default parameters. The initial reference count is set to one if a new model is created and kept, otherwise. The Boost classifier is only applicable to binary classification problems. It learns to distinguish between samples labelled with two user-defined class labels by incrementally adding weak classifiers to improve the classification results. Models of this type neither support on-line training (sample by sample) nor retraining. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 1347
## Page 1348

API reference FUNCTION F_VN_Create Boost Classifier : HRESULT VAR_INPUT ip Ml Model : Reference To ITc Vn Ml Model; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Ml Model Reference To Returns the created model (Non-zero interface pointers are ITc Vn Ml Model [} 422] reused.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Create Boost Classifier creates a boost classifier model. Boost classifier models The boost classifier model is only suitable for binary classification problems. This model learns to distinguish between samples labeled with two user-defined class labels by incrementally adding weak classifiers to improve classification results. Parameter Model The created model is returned in the interface pointer ip Ml Model. Expert parameters The expert variants F_VN_Create Boost Classifier Exp [} 1349] and F_VN_Create Boost Classifier Exp2 [} 1350] contain additional parameters. Application A boost classifier model can be created like this, for example: hr := F_VN_Create Boost Classifier( ip Ml Model := ip Ml Model, hr Prev := hr); Required License TC3 Machine Learning Realtime Inference 1348 Version: 2.4.0 TF7000 - TF7810
## Page 1349

API reference System Requirements 6.1.4.19.2 F_VN_Create Boost Classifier Exp F_VN_Create Boost Classifier Exp ip Ml Model Reference To ITc Vn Ml Model HRESULT F_VN_Create Boost Classifier Exp e Type ETc Vn Boost Classifier Type n Max Depth UDINT n Min Samples UDINT n Weak Classifiers UDINT f Weight Trim Rate LREAL hr Prev HRESULT Create a Boost classifier. The initial reference count is set to one if a new model is created and kept, otherwise. The Boost classifier is only applicable to binary classification problems. It learns to distinguish between samples labelled with two user-defined class labels by incrementally adding weak classifiers to improve the classification results. Models of this type neither support on-line training (sample by sample) nor retraining. (expert function) Syntax Definition: FUNCTION F_VN_Create Boost Classifier Exp : HRESULT VAR_INPUT ip Ml Model : Reference To ITc Vn Ml Model; e Type : ETc Vn Boost Classifier Type; n Max Depth : UDINT; n Min Samples : UDINT; n Weak Classifiers : UDINT; f Weight Trim Rate : LREAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Ml Model Reference To Returns the created model (Non-zero interface pointers are ITc Vn Ml Model [} 422] reused.) e Type ETc Vn Boost Classifier Type Learning algorithm type (default: TCVN_BCT_REAL) [} 169] n Max Depth UDINT Maximum tree depth (default: 1) n Min Samples UDINT Minimum number of samples within a node required for splitting (default: 10) n Weak Classifie UDINT Number of weak classifiers (default: 100) rs f Weight Trim Ra LREAL Weight threshold used during training (off: 0; default: 0.95). te hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Create Boost Classifier Exp is an expert variant of F_VN_Create Boost Classifier [} 1347]. It contains additional parameters. TF7000 - TF7810 Version: 2.4.0 1349
## Page 1350

API reference Parameter Model The created model is returned in the interface pointer ip Ml Model. Learning technique The learning algorithm can be selected via e Type. Supported are: Discrete Ada Boost, Real Ada Boost, Logit Boost and Gentle Ada Boost. Maximum tree depth n Max Depth indicates the maximum number of decision levels in a tree. Decision trees with a tree depth of 1 are usually used for boost classifiers. However, higher values are possible. Minimum number of samples within a node n Min Samples is the minimum number of samples that must remain in a node during tree formation. Splits that would fall below this number are not carried out. Number of decision trees n Weak Classifiers indicates the number of decision trees (weak learners) that are combined for the classifier by boosting. Runtime optimization With f Weight Trim Rate, the number of samples used for the individual learning steps can be limited using their automatically determined weightings. Values in the interval from 0 to 1 are permitted, whereby only samples with weightings > 1 - f Weight Trim Rate are taken into account in the following learning step. The value 0 disables this optimization. Application A boost classifier model can be created like this, for example: hr := F_VN_Create Boost Classifier Exp( ip Ml Model := ip Ml Model, e Type := TCVN_BCT_REAL, n Max Depth := 1, n Min Samples := 10, n Weak Classifiers := 100, f Weight Trim Rate := 0.95, hr Prev := hr); Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.3 F_VN_Create Boost Classifier Exp2 F_VN_Create Boost Classifier Exp2 ip Ml Model Reference To ITc Vn Ml Model HRESULT F_VN_Create Boost Classifier Exp2 e Type ETc Vn Boost Classifier Type n Max Depth UDINT n Min Samples UDINT n Weak Classifiers UDINT f Weight Trim Rate LREAL ip Class Priors ITc Vn Container hr Prev HRESULT 1350 Version: 2.4.0 TF7000 - TF7810
## Page 1351

API reference Create a Boost classifier. The initial reference count is set to one if a new model is created and kept, otherwise. The Boost classifier is only applicable to binary classification problems. It learns to distinguish between samples labelled with two user-defined class labels by incrementally adding weak classifiers to improve the classification results. Models of this type neither support on-line training (sample by sample) nor retraining. (expert function) Syntax Definition: FUNCTION F_VN_Create Boost Classifier Exp2 : HRESULT VAR_INPUT ip Ml Model : Reference To ITc Vn Ml Model; e Type : ETc Vn Boost Classifier Type; n Max Depth : UDINT; n Min Samples : UDINT; n Weak Classifiers : UDINT; f Weight Trim Rate : LREAL; ip Class Priors : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Ml Model Reference To Returns the created model (Non-zero interface pointers are ITc Vn Ml Model [} 422] reused.) e Type ETc Vn Boost Classifier Type Learning algorithm type (default: TCVN_BCT_REAL) [} 169] n Max Depth UDINT Maximum tree depth (default: 1) n Min Samples UDINT Minimum number of samples within a node required for splitting (default: 10) n Weak Classifie UDINT Number of weak classifiers (default: 100) rs f Weight Trim Ra LREAL Weight threshold used during training (off: 0; default: 0.95). te ip Class Priors ITc Vn Container [} 374] Class priors (Container Type_Vector_REAL or Container Type_Vector_LREAL; only for classifiers; optional, set to 0 if not required or not allowed; default: 0) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Create Boost Classifier Exp2 is an expert variant of F_VN_Create Boost Classifier [} 1347]. It contains additional parameters. Parameter Model The created model is returned in the interface pointer ip Ml Model. Learning technique The learning algorithm can be selected via e Type. Supported are: Discrete Ada Boost, Real Ada Boost, Logit Boost and Gentle Ada Boost. TF7000 - TF7810 Version: 2.4.0 1351
## Page 1352

API reference Maximum tree depth n Max Depth indicates the maximum number of decision levels in a tree. Decision trees with a tree depth of 1 are usually used for boost classifiers. However, higher values are possible. Minimum number of samples within a node n Min Samples is the minimum number of samples that must remain in a node during tree formation. Splits that would fall below this number are not carried out. Number of decision trees n Weak Classifiers indicates the number of decision trees (weak learners) that are combined for the classifier by boosting. Runtime optimization With f Weight Trim Rate, the number of samples used for the individual learning steps can be limited using their automatically determined weightings. Values in the interval from 0 to 1 are permitted, whereby only samples with weightings > 1 - f Weight Trim Rate are taken into account in the following learning step. The value 0 disables this optimization. Class-Priors ip Class Priors is a container that can be used to specify the a priori probabilities of the individual classes. Application A boost classifier model can be created like this, for example: hr := F_VN_Create Boost Classifier Exp2( ip Ml Model := ip Ml Model, e Type := TCVN_BCT_REAL, n Max Depth := 1, n Min Samples := 10, n Weak Classifiers := 100, f Weight Trim Rate := 0.95, ip Class Priors := 0, hr Prev := hr); Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.4 F_VN_Create Kmpp Model F_VN_Create Kmpp Model ip Ml Model Reference To ITc Vn Ml Model HRESULT F_VN_Create Kmpp Model e Kmpp Type ETc Vn Prototype Clusterer n K UDINT hr Prev HRESULT Create a k-means++ model of the specified type. The initial reference count is set to one if a new model is created and kept, otherwise. Models of this type neither support on-line training (sample by sample) nor retraining. Syntax Definition: FUNCTION F_VN_Create Kmpp Model : HRESULT VAR_INPUT ip Ml Model : Reference To ITc Vn Ml Model; e Kmpp Type : ETc Vn Prototype Clusterer; 1352 Version: 2.4.0 TF7000 - TF7810
## Page 1353

API reference n K : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Ml Model Reference To Returns the created model (Non-zero interface pointers are ITc Vn Ml Model [} 422] reused.) e Kmpp Type ETc Vn Prototype Clusterer k-means++ model type [} 218] n K UDINT Parameter k (number of clusters) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Create Kmpp Model creates a K-Means++ (KMPP) model. K-Means++ models K-Means++ can be used for clustering or anomaly detection. It finds clusters of data points. All samples are required for training at the same time (batch training) and post-training is not possible. The assignment of cluster designations (as DINTs) may differ from training to training. If this assignment is to be deterministic, a fixed random seed must be set beforehand using F_VN_Set Rng Seed [} 1542]. Parameter Model The created model is returned in the interface pointer ip Ml Model. Model type e Kmpp Type specifies whether K-Means++ is used for clustering (TCVN_PC_CLUSTERER) or for anomaly detection (TCVN_PC_NOVELTY_DETECTOR). Number of clusters The number of clusters in the K-Means++ model is specified by n K and cannot be changed once it has been created. During training, the number of samples must be greater than or equal to the number of clusters. Expert parameters The expert variant F_VN_Create Kmpp Model Exp [} 1354] contains additional parameters. Application For example, a K-Means++ model for clustering with 5 clusters can be created like this: hr := F_VN_Create Kmpp Model( ip Ml Model := ip Ml Model, e Kmpp Type := TCVN_PC_CLUSTERER, n K := 5, hr Prev := hr); TF7000 - TF7810 Version: 2.4.0 1353
## Page 1354

API reference Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.5 F_VN_Create Kmpp Model Exp F_VN_Create Kmpp Model Exp ip Ml Model Reference To ITc Vn Ml Model HRESULT F_VN_Create Kmpp Model Exp e Kmpp Type ETc Vn Prototype Clusterer n K UDINT b Double Precision BOOL n Max Iterations UDINT f Epsilon LREAL hr Prev HRESULT Create a k-means++ model of the specified type. The initial reference count is set to one if a new model is created and kept, otherwise. Models of this type neither support on-line training (sample by sample) nor retraining. (expert function) Syntax Definition: FUNCTION F_VN_Create Kmpp Model Exp : HRESULT VAR_INPUT ip Ml Model : Reference To ITc Vn Ml Model; e Kmpp Type : ETc Vn Prototype Clusterer; n K : UDINT; b Double Precision : BOOL; n Max Iterations : UDINT; f Epsilon : LREAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Ml Model Reference To Returns the created model (Non-zero interface pointers are ITc Vn Ml Model [} 422] reused.) e Kmpp Type ETc Vn Prototype Clusterer k-means++ model type [} 218] n K UDINT Parameter k (number of clusters) b Double Precisi BOOL If true, the model is generated with double precision (LREAL) on instead of single precision (REAL). (default: FALSE) n Max Iterations UDINT Maximum number of iterations (triggers the usage of the default value of 10 if it equals 0) f Epsilon LREAL Maximum allowed difference of the error between two successive iterations (triggers the usage of the default value of 0.001 if it equals 0) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] 1354 Version: 2.4.0 TF7000 - TF7810
## Page 1355

API reference Further information The function F_VN_Create Kmpp Model Exp is the expert variant of F_VN_Create Kmpp Model [} 1352]. It contains additional parameters. Parameter Model The created model is returned in the interface pointer ip Ml Model. Model type e Kmpp Type specifies whether K-Means++ is used for clustering (TCVN_PC_CLUSTERER) or for anomaly detection (TCVN_PC_NOVELTY_DETECTOR). Number of clusters The number of clusters in the K-Means++ model is specified by n K and cannot be changed once it has been created. During training, the number of samples must be greater than or equal to the number of clusters. Higher accuracy If b Double Precision is TRUE, LREAL is used as the data type for the internal calculations of the model; if it is FALSE, REAL is used. Maximum iterations A maximum of as many iterations as specified in n Max Iterations are used for the optimization. If the value is 0, the respective default value is used. Termination limit The optimization is aborted as soon as the error between two iterations does not change more than specified in f Epsilon. If the value is 0, the respective default value is used. Application For example, a K-Means++ model for clustering with 5 clusters can be created like this: hr := F_VN_Create Kmpp Model Exp( ip Ml Model := ip Ml Model, e Kmpp Type := TCVN_PC_CLUSTERER, n K := 5, b Double Precision := FALSE, n Max Iterations := 0, f Epsilon := 0, hr Prev := hr); Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.6 F_VN_Create Knn Model F_VN_Create Knn Model ip Ml Model Reference To ITc Vn Ml Model HRESULT F_VN_Create Knn Model e Knn Type ETc Vn Knn n K UDINT hr Prev HRESULT Create a k-nearest neighbors model of the specified type. The initial reference count is set to one if a new model is created and kept, otherwise. Models of this type support on-line training (sample by sample) and retraining. Predictions can only be scalar. TF7000 - TF7810 Version: 2.4.0 1355
## Page 1356

API reference Syntax Definition: FUNCTION F_VN_Create Knn Model : HRESULT VAR_INPUT ip Ml Model : Reference To ITc Vn Ml Model; e Knn Type : ETc Vn Knn; n K : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Ml Model Reference To Returns the created model (Non-zero interface pointers are ITc Vn Ml Model [} 422] reused.) e Knn Type ETc Vn Knn [} 211] k-nearest neighbors model type n K UDINT Parameter k used for prediction (number of considered neighbors) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Create Knn Model creates a K-Nearest Neighbor (KNN) model. K-Nearest Neighbor models When training K-Nearest Neighbor models, all training samples are stored 1:1 in the model. The idea of data points within a multidimensional space (corresponding to the dimensionality of the samples) helps to understand this. A number n K of data points that are closest to the input sample (Euclidean distance) are used for prediction. These data points are called "nearest neighbors". All other data points are ignored in the prediction. The prediction result is calculated from all nearest neighbors, whereby these are weighted equally regardless of the actual distance to the input sample. Parameter Model The created model is returned in the interface pointer ip Ml Model. Model type e Knn Type indicates whether the model is used as a classifier (TCVN_KNN_CLASSIFIER), as anomaly detection (TCVN_KNN_NOVELTY_DETECTOR) or as a regressor (TCVN_KNN_REGRESSOR). Number of neighbors used n K specifies how many data points are used as nearest neighbors in the prediction. For anomaly detection, n K is irrelevant because only the nearest neighbor is required. The value 1 should therefore be used in this case. Application For example, a K-nearest Neighbor model for classification using 5 nearest neighbors is created like this: 1356 Version: 2.4.0 TF7000 - TF7810
## Page 1357

API reference hr := F_VN_Create Knn Model( ip Ml Model := ip Ml Model, e Knn Type := TCVN_KNN_CLASSIFIER, n K := 5, hr Prev := hr); Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.7 F_VN_Create Lbg Model F_VN_Create Lbg Model ip Ml Model Reference To ITc Vn Ml Model HRESULT F_VN_Create Lbg Model e Lbg Type ETc Vn Prototype Clusterer n Max Clusters UDINT f Max Cluster Radius LREAL b Single Split Steps BOOL hr Prev HRESULT Create a LBG model of the specified type. The initial reference count is set to one if a new model is created and kept, otherwise. Models of this type neither support on-line training (sample by sample) nor retraining. Syntax Definition: FUNCTION F_VN_Create Lbg Model : HRESULT VAR_INPUT ip Ml Model : Reference To ITc Vn Ml Model; e Lbg Type : ETc Vn Prototype Clusterer; n Max Clusters : UDINT; f Max Cluster Radius : LREAL; b Single Split Steps : BOOL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Ml Model Reference To Returns the created model (Non-zero interface pointers are ITc Vn Ml Model [} 422] reused.) e Lbg Type ETc Vn Prototype Clusterer LBG model type [} 218] n Max Clusters UDINT Maximum number of clusters f Max Cluster Ra LREAL Maximum allowed radius (L2 norm) of a single cluster, i.e. dius clusters with a higher radius will be split into smaller ones, until a global number of n Max Clusters is reached. b Single Split Ste BOOL If true, the global optimization is always run after a single cluster ps has been split. If false, several clusters are split within the same step before applying the global optimization. Applying the global optimization less often is faster, but can lead to less optimal results, especially having 2 nearby clusters that could be represented by 1. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 1357
## Page 1358

API reference Return value HRESULT [} 144] Further information The function F_VN_Create Lbg Model creates a Linde-Buzo-Gray (LBG) model. Linde-Buzo-Gray models LBG models work similarly to K-Means++ models by iteratively adjusting the clusters to the samples. The main feature of LBG is that new clusters are created in the iteration process as soon as they are larger than f Max Cluster Radius (until the maximum number n Max Clusters is reached). With K-Means++, on the other hand, the number of clusters is set initially. Parameter Model The created model is returned in the interface pointer ip Ml Model. Model type e Lbg Type specifies whether LBG is used for clustering (TCVN_PC_CLUSTERER) or for anomaly detection (TCVN_PC_NOVELTY_DETECTOR). Maximum number of clusters If n Max Clusters exist in total due to the splitting of clusters that are too large, no more new clusters are created. Maximum cluster radius If the radius of a cluster becomes larger than f Max Cluster Radius during training, this cluster is split into two smaller clusters. Optimization quality Part of the iterative training process is a global optimization step. If b Single Split Steps = TRUE, this optimization is executed after each individual cluster split. This leads to a higher quality of clusters, but also to a longer training time. If b Single Split Steps = FALSE, the optimization is only executed after several clusters have been split. Expert parameters The expert variant F_VN_Create Lbg Model Exp [} 1359] contains additional parameters. Application For example, an LBG model for clustering with 5 clusters, a maximum cluster size of 3.6 and high optimization quality can be created in this way: hr := F_VN_Create Lbg Model( ip Ml Model := ip Ml Model, e Lbg Type := TCVN_PC_CLUSTERER, n Max Clusters := 5, f Max Cluster Radius := 3.6, b Single Split Steps := TRUE, hr Prev := hr); Required License TC3 Machine Learning Realtime Inference 1358 Version: 2.4.0 TF7000 - TF7810
## Page 1359

API reference System Requirements 6.1.4.19.8 F_VN_Create Lbg Model Exp F_VN_Create Lbg Model Exp ip Ml Model Reference To ITc Vn Ml Model HRESULT F_VN_Create Lbg Model Exp e Lbg Type ETc Vn Prototype Clusterer n Max Clusters UDINT f Max Cluster Radius LREAL b Single Split Steps BOOL b Double Precision BOOL n Max Iterations UDINT f Epsilon LREAL hr Prev HRESULT Create a LBG model of the specified type. The initial reference count is set to one if a new model is created and kept, otherwise. Models of this type neither support on-line training (sample by sample) nor retraining. (expert function) Syntax Definition: FUNCTION F_VN_Create Lbg Model Exp : HRESULT VAR_INPUT ip Ml Model : Reference To ITc Vn Ml Model; e Lbg Type : ETc Vn Prototype Clusterer; n Max Clusters : UDINT; f Max Cluster Radius : LREAL; b Single Split Steps : BOOL; b Double Precision : BOOL; n Max Iterations : UDINT; f Epsilon : LREAL; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1359
## Page 1360

API reference Inputs Name Type Description ip Ml Model Reference To Returns the created model (Non-zero interface pointers are ITc Vn Ml Model [} 422] reused.) e Lbg Type ETc Vn Prototype Clusterer LBG model type [} 218] n Max Clusters UDINT Maximum number of clusters f Max Cluster Ra LREAL Maximum allowed radius (L2 norm) of a single cluster, i.e. dius clusters with a higher radius will be split into smaller ones, until a global number of n Max Clusters is reached. b Single Split Ste BOOL If true, the global optimization is always run after a single cluster ps has been split. If false, several clusters are split within the same step before applying the global optimization. Applying the global optimization less often is faster, but can lead to less optimal results, especially having 2 nearby clusters that could be represented by 1. b Double Precisi BOOL If true, the model is generated with double precision (LREAL) on instead of single precision (REAL). (default: FALSE) n Max Iterations UDINT Maximum number of iterations (triggers the usage of the default value of 10 if it equals 0) f Epsilon LREAL Maximum allowed difference of the error between two successive iterations (triggers the usage of the default value of 0.001 if it equals 0) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Create Lbg Model Exp is the expert variant of F_VN_Create Lbg Model [} 1357]. It contains additional parameters. Parameter Model The created model is returned in the interface pointer ip Ml Model. Model type e Lbg Type specifies whether LBG is used for clustering (TCVN_PC_CLUSTERER) or for anomaly detection (TCVN_PC_NOVELTY_DETECTOR). Maximum number of clusters If n Max Clusters exist in total due to the splitting of clusters that are too large, no more new clusters are created. Maximum cluster radius If the radius of a cluster becomes larger than f Max Cluster Radius during training, this cluster is split into two smaller clusters. Optimization quality 1360 Version: 2.4.0 TF7000 - TF7810
## Page 1361

API reference Part of the iterative training process is a global optimization step. If b Single Split Steps = TRUE, this optimization is executed after each individual cluster split. This leads to a higher quality of clusters, but also to a longer training time. If b Single Split Steps = FALSE, the optimization is only executed after several clusters have been split. Higher accuracy If b Double Precision is TRUE, LREAL is used as the data type for the internal calculations of the model; if it is FALSE, REAL is used. Maximum iterations A maximum of as many iterations as specified in n Max Iterations are used for the optimization. If the value is 0, the respective default value is used. Termination limit The optimization is aborted as soon as the error between two iterations does not change more than specified in f Epsilon. If the value is 0, the respective default value is used. Application For example, an LBG model for clustering with 5 clusters, a maximum cluster size of 3.6 and high optimization quality can be created in this way: hr := F_VN_Create Lbg Model Exp( ip Ml Model := ip Ml Model, e Lbg Type := TCVN_PC_CLUSTERER, n Max Clusters := 5, f Max Cluster Radius := 3.6, b Single Split Steps := TRUE, b Double Precision := TRUE, n Max Iterations := 0, f Epsilon := 0, hr Prev := hr); Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.9 F_VN_Create Lda Transform F_VN_Create Lda Transform ip Ml Model Reference To ITc Vn Ml Model HRESULT F_VN_Create Lda Transform ip Samples ITc Unknown ip Classes ITc Vn Container hr Prev HRESULT Create an LDA-based feature transform from the provided data. The number of samples must be >= the number of features and the number of classes must be >= 2. The initial reference count is set to one if a new model is created and kept, otherwise. Syntax Definition: FUNCTION F_VN_Create Lda Transform : HRESULT VAR_INPUT ip Ml Model : Reference To ITc Vn Ml Model; ip Samples : ITc Unknown; ip Classes : ITc Vn Container; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1361
## Page 1362

API reference Inputs Name Type Description ip Ml Model Reference To Returns the created feature transform (Non-zero interface ITc Vn Ml Model [} 422] pointers are reused.) ip Samples ITc Unknown [} 429] Container holding a batch of input samples (Container Type_Vector_Vector_REAL or Container Type_Vector_Vector_LREAL) ip Classes ITc Vn Container [} 374] Class labels corresponding to the input samples (Container Type_Vector_DINT) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Create Lda Transform creates a Linear Discriminant Analysis (LDA) model for feature transformation. Linear Discriminant Analysis models Linear Discriminant Analysis creates a feature transformation with the aim of making the classes as easy to separate as possible using the transformed features. The model can be used to compress the samples effectively. Parameter Model The created model is returned in the interface pointer ip Ml Model. Samples All samples are sent to the model in a container via ip Samples. Classes The class assignments of all samples in a container are given to the model via ip Classes. Application For example, an LDA model for feature reduction can be created like this: hr := F_VN_Create Lda Transform( ip Ml Model := ip Ml Model, ip Samples := ip Samples, ip Classes := ip Classes, hr Prev := hr); Related functions • F_VN_Create Lda Transform Via Component Num [} 1363] • F_VN_Create Pca Transform [} 1365] • F_VN_Create Pca Transform Via Component Num [} 1367] • F_VN_Create Pca Transform Via Variance [} 1368] Required License TC3 Machine Learning Realtime Inference 1362 Version: 2.4.0 TF7000 - TF7810
## Page 1363

API reference System Requirements 6.1.4.19.10 F_VN_Create Lda Transform Via Component Num F_VN_Create Lda Transform Via Component Num ip Ml Model Reference To ITc Vn Ml Model HRESULT F_VN_Create Lda Transform Via Component Num ip Samples ITc Unknown ip Classes ITc Vn Container n Component Num UDINT hr Prev HRESULT Create an LDA-based feature transform from the provided data where the number of components to be used is predefined. The number of samples must be >= the number of features and the number of classes must be >= 2. The initial reference count is set to one if a new model is created and kept, otherwise. (expert function) Syntax Definition: FUNCTION F_VN_Create Lda Transform Via Component Num : HRESULT VAR_INPUT ip Ml Model : Reference To ITc Vn Ml Model; ip Samples : ITc Unknown; ip Classes : ITc Vn Container; n Component Num : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Ml Model Reference To Returns the created feature transform (Non-zero interface ITc Vn Ml Model [} 422] pointers are reused.) ip Samples ITc Unknown [} 429] Container holding a batch of input samples (Container Type_Vector_Vector_REAL or Container Type_Vector_Vector_LREAL) ip Classes ITc Vn Container [} 374] Class labels corresponding to the input samples (Container Type_Vector_DINT) n Component N UDINT Number of components (n Component Num must be smaller than um the number of classes. A value of 0 results in the automatic computation of the maximum number of components.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Create Lda Transform Via Component Num is a variant of F_VN_Create Lda Transform [} 1361]. It contains the additional parameter n Component Num to specify the number of components for the feature reduction in advance. This allows the level of data compression to be set. Parameter Model The created model is returned in the interface pointer ip Ml Model. Samples TF7000 - TF7810 Version: 2.4.0 1363
## Page 1364

API reference All samples are sent to the model in a container via ip Samples. Classes The class assignments of all samples in a container are given to the model via ip Classes. Number of components n Component Num components are used for feature reduction. At 0, the maximum number of components is automatically calculated. Application For example, an LDA model with 25 components can be created like this: hr := F_VN_Create Lda Transform Via Component Num( ip Ml Model := ip Ml Model, ip Samples := ip Samples, ip Classes := ip Classes, n Component Num := 25, hr Prev := hr); Related functions • F_VN_Create Lda Transform [} 1361] • F_VN_Create Pca Transform [} 1365] • F_VN_Create Pca Transform Via Component Num [} 1367] • F_VN_Create Pca Transform Via Variance [} 1368] Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.11 F_VN_Create Nbc Model F_VN_Create Nbc Model ip Ml Model Reference To ITc Vn Ml Model HRESULT F_VN_Create Nbc Model e Nbc Type ETc Vn Nbc hr Prev HRESULT Create a normal Bayes classifier of the specified type. The initial reference count is set to one if a new model is created and kept, otherwise. In order to train normal Bayes classifiers, a sufficiently high number of samples is required for each class. It depends on the number of features and the distribution of the data. Hence, it needs to be tested for each application. Models of this type do not support on-line training (sample by sample). For the retraining of such classifier models, the set of presented classes must be identical to the previous learning steps. Otherwise, an exception is raised. Syntax Definition: FUNCTION F_VN_Create Nbc Model : HRESULT VAR_INPUT ip Ml Model : Reference To ITc Vn Ml Model; e Nbc Type : ETc Vn Nbc; hr Prev : HRESULT; END_VAR 1364 Version: 2.4.0 TF7000 - TF7810
## Page 1365

API reference Inputs Name Type Description ip Ml Model Reference To Returns the created model (Non-zero interface pointers are ITc Vn Ml Model [} 422] reused.) e Nbc Type ETc Vn Nbc [} 213] Normal Bayes classifier type hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Create Nbc Model creates a Normal Bayes Classifier (NBC) model. Normal Bayes Classifier models The Normal Bayes Classifier creates a mixture model in which each class is represented by a Gaussian distribution. The parameters of these Gaussian functions are determined during training. Parameter Model The created model is returned in the interface pointer ip Ml Model. Model type e Nbc Type specifies whether NBC is used for classification (TCVN_NBC_CLASSIFIER) or for anomaly detection (TCVN_NBC_NOVELTY_DETECTOR). Application For example, an NBC model for classification can be created like this: hr := F_VN_Create Nbc Model( ip Ml Model := ip Ml Model, e Nbc Type := TCVN_NBC_CLASSIFIER, hr Prev := hr); Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.12 F_VN_Create Pca Transform F_VN_Create Pca Transform ip Ml Model Reference To ITc Vn Ml Model HRESULT F_VN_Create Pca Transform ip Samples ITc Unknown hr Prev HRESULT Create a PCA-based feature transform from the provided data. The maximum number of principal components that can be computed equals the minimum of the number of samples and the number of features. The initial reference count is set to one if a new model is created and kept, otherwise. TF7000 - TF7810 Version: 2.4.0 1365
## Page 1366

API reference Syntax Definition: FUNCTION F_VN_Create Pca Transform : HRESULT VAR_INPUT ip Ml Model : Reference To ITc Vn Ml Model; ip Samples : ITc Unknown; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Ml Model Reference To Returns the created feature transform (Non-zero interface ITc Vn Ml Model [} 422] pointers are reused.) ip Samples ITc Unknown [} 429] Container holding a batch of input samples (Container Type_Vector_Vector_REAL or Container Type_Vector_Vector_LREAL) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Create Pca Transform creates a Principal Component Analysis (PCA) model. Principal Component Analysis models In Principal Component Analysis, the principal components of the sample distribution are calculated. The principal components are the directions within the feature space that show the greatest variance in the samples. The dimension of the feature space is reduced by projecting the data onto selected principal components, in which the variance of the data is retained as much as possible. Parameter Model The created model is returned in the interface pointer ip Ml Model. Samples All samples are sent to the model in a container via ip Samples. Application For example, a PCA model for feature reduction can be created like this: hr := F_VN_Create Pca Transform( ip Ml Model := ip Ml Model, ip Samples := ip Samples, hr Prev := hr); Related functions • F_VN_Create Pca Transform Via Component Num [} 1367] • F_VN_Create Pca Transform Via Variance [} 1368] • F_VN_Create Lda Transform [} 1361] • F_VN_Create Lda Transform Via Component Num [} 1363] 1366 Version: 2.4.0 TF7000 - TF7810
## Page 1367

API reference Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.13 F_VN_Create Pca Transform Via Component Num F_VN_Create Pca Transform Via Component Num ip Ml Model Reference To ITc Vn Ml Model HRESULT F_VN_Create Pca Transform Via Component Num ip Samples ITc Unknown n Component Num UDINT hr Prev HRESULT Create a PCA-based feature transform from the provided data where the number of prinicpal components to be used is predefined. The maximum number of principal components that can be computed equals the minimum of the number of samples and the number of features. The initial reference count is set to one if a new model is created and kept, otherwise. (expert function) Syntax Definition: FUNCTION F_VN_Create Pca Transform Via Component Num : HRESULT VAR_INPUT ip Ml Model : Reference To ITc Vn Ml Model; ip Samples : ITc Unknown; n Component Num : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Ml Model Reference To Returns the created feature transform (Non-zero interface ITc Vn Ml Model [} 422] pointers are reused.) ip Samples ITc Unknown [} 429] Container holding a batch of input samples (Container Type_Vector_Vector_REAL or Container Type_Vector_Vector_LREAL) n Component N UDINT Number of principal components (A value of 0 results in the um automatic computation of the maximum number of components.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Create Pca Transform Via Component Num is a variant of F_VN_Create Pca Transform [} 1365]. It contains the additional parameter n Component Num to define the number of principal components for the feature reduction in advance. Parameter Model The created model is returned in the interface pointer ip Ml Model. Samples TF7000 - TF7810 Version: 2.4.0 1367
## Page 1368

API reference All samples are sent to the model in a container via ip Samples. Number of components The PCA calculates n Component Num principal components. At 0, the maximum number of components is automatically calculated. Application For example, a PCA model with 5 principal components can be created like this: hr := F_VN_Create Pca Transform Via Component Num( ip Ml Model := ip Ml Model, ip Samples := ip Samples, n Component Num := 5, hr Prev := hr); Related functions • F_VN_Create Pca Transform [} 1365] • F_VN_Create Pca Transform Via Variance [} 1368] • F_VN_Create Lda Transform [} 1361] • F_VN_Create Lda Transform Via Component Num [} 1363] Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.14 F_VN_Create Pca Transform Via Variance F_VN_Create Pca Transform Via Variance ip Ml Model Reference To ITc Vn Ml Model HRESULT F_VN_Create Pca Transform Via Variance ip Samples ITc Unknown f Retained Variance LREAL hr Prev HRESULT Create a PCA-based feature transform from the provided data based on a given fraction of variance to be retained. The maximum number of principal components that can be computed equals the minimum of the number of samples and the number of features. The initial reference count is set to one if a new model is created and kept, otherwise. (expert function) Syntax Definition: FUNCTION F_VN_Create Pca Transform Via Variance : HRESULT VAR_INPUT ip Ml Model : Reference To ITc Vn Ml Model; ip Samples : ITc Unknown; f Retained Variance : LREAL; hr Prev : HRESULT; END_VAR 1368 Version: 2.4.0 TF7000 - TF7810
## Page 1369

API reference Inputs Name Type Description ip Ml Model Reference To Returns the created feature transform (Non-zero interface ITc Vn Ml Model [} 422] pointers are reused.) ip Samples ITc Unknown [} 429] Container holding a batch of input samples (Container Type_Vector_Vector_REAL or Container Type_Vector_Vector_LREAL) f Retained Varia LREAL Fraction of variance that is to be retained by the PCA (A value of nce 1.0 signifies 100%.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Create Pca Transform Via Variance is a variant of F_VN_Create Pca Transform [} 1365]. It contains the additional parameter f Retained Variance to define the retained variance. Parameter Model The created model is returned in the interface pointer ip Ml Model. Samples All samples are sent to the model in a container via ip Samples. Retained variance In PCA, the principal components are chosen so that the proportion f Retained Variance of variance remains in the samples. With 1, the entire variance remains, so that the number of features is not reduced. Application For example, a PCA model with 65% retained variance can be created like this: hr := F_VN_Create Pca Transform Via Component Num( ip Ml Model := ip Ml Model, ip Samples := ip Samples, f Retained Variance := 0.65, hr Prev := hr); Related functions • F_VN_Create Pca Transform [} 1365] • F_VN_Create Pca Transform Via Component Num [} 1367] • F_VN_Create Lda Transform [} 1361] • F_VN_Create Lda Transform Via Component Num [} 1363] Required License TC3 Machine Learning Realtime Inference TF7000 - TF7810 Version: 2.4.0 1369
## Page 1370

API reference System Requirements 6.1.4.19.15 F_VN_Create RTrees Model F_VN_Create RTrees Model ip Ml Model Reference To ITc Vn Ml Model HRESULT F_VN_Create RTrees Model e RTrees Type ETc Vn RTrees hr Prev HRESULT Create a random trees model of the specified type. The initial reference count is set to one if a new model is created and kept, otherwise. Models of this type neither support on-line training (sample by sample) nor retraining. Predictions can only be scalar. Syntax Definition: FUNCTION F_VN_Create RTrees Model : HRESULT VAR_INPUT ip Ml Model : Reference To ITc Vn Ml Model; e RTrees Type : ETc Vn RTrees; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Ml Model Reference To Returns the created model (Non-zero interface pointers are ITc Vn Ml Model [} 422] reused.) e RTrees Type ETc Vn RTrees [} 219] Random trees model type hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Create RTrees Model creates a Random Forest (RTrees) model. Random Forest models The Random Forest model uses decision trees whose branches are determined by a random process. The prediction of the RTrees models is determined from the results of the individual decision trees. Parameter Model The created model is returned in the interface pointer ip Ml Model. Model type e RTrees Type specifies whether the Random Forest model is used for classification (TCVN_RT_CLASSIFIER) or for regression (TCVN_RT_REGRESSOR). Expert parameters The expert variants F_VN_Create RTrees Model Exp [} 1371] and F_VN_Create RTrees Model Exp2 [} 1373] contain additional parameters. 1370 Version: 2.4.0 TF7000 - TF7810
## Page 1371

API reference Application For example, an RTrees model for regression can be created like this: hr := F_VN_Create RTrees Model( ip Ml Model := ip Ml Model, e RTrees Type := TCVN_RT_REGRESSOR, hr Prev := hr); Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.16 F_VN_Create RTrees Model Exp F_VN_Create RTrees Model Exp ip Ml Model Reference To ITc Vn Ml Model HRESULT F_VN_Create RTrees Model Exp e RTrees Type ETc Vn RTrees n Max Depth UDINT n Min Samples UDINT n Active Variables UDINT n Max Iterations UDINT f Epsilon LREAL hr Prev HRESULT Create a random trees model of the specified type. The initial reference count is set to one if a new model is created and kept, otherwise. Models of this type neither support on-line training (sample by sample) nor retraining. Predictions can only be scalar. (expert function) Syntax Definition: FUNCTION F_VN_Create RTrees Model Exp : HRESULT VAR_INPUT ip Ml Model : Reference To ITc Vn Ml Model; e RTrees Type : ETc Vn RTrees; n Max Depth : UDINT; n Min Samples : UDINT; n Active Variables : UDINT; n Max Iterations : UDINT; f Epsilon : LREAL; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1371
## Page 1372

API reference Inputs Name Type Description ip Ml Model Reference To Returns the created model (Non-zero interface pointers are ITc Vn Ml Model [} 422] reused.) e RTrees Type ETc Vn RTrees [} 219] Random trees model type n Max Depth UDINT Maximum tree depth (default: 5) n Min Samples UDINT Minimum number of samples within a node required for splitting (default: 10) n Active Variabl UDINT Number of variables considered for splitting (0 means sqrt(total es number of variables); default: 0) n Max Iterations UDINT Maximum number of iterations (disabled if it equals 0 and f Epsilon is different from 0.0; triggers the usage of the default value of 50 if n Max Iterations and f Epsilon equal 0) f Epsilon LREAL Maximum allowed difference of the error between two successive iterations (disabled if it equals 0.0 and n Max Iterations is different from 0; triggers the usage of the default value of 0.1 if n Max Iterations and f Epsilon equal 0) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Create RTRees Model Exp is an expert variant of F_VN_Create RTRees Model [} 1370]. It contains additional parameters. Parameter Model The created model is returned in the interface pointer ip Ml Model. Model type e RTrees Type specifies whether the Random Forest model is used for classification (TCVN_RT_CLASSIFIER) or for regression (TCVN_RT_REGRESSOR). Maximum tree depth n Max Depth indicates the maximum number of decision levels in a tree. Minimum number of samples within a node n Min Samples is the minimum number of samples that must remain in a node during tree formation. Splits that would fall below this number are not carried out. Splitting features n Active Variables is the number of features used to split the tree. With 0, sqrt(N) features are used with the number N of all available features. Maximum iterations A maximum of as many iterations as specified in n Max Iterations are used for the optimization. If the value is 0, the respective default value is used. Termination limit 1372 Version: 2.4.0 TF7000 - TF7810
## Page 1373

API reference The optimization is aborted as soon as the error between two iterations does not change more than specified in f Epsilon. If the value is 0, the respective default value is used. Application For example, an RTrees model for regression can be created like this: hr := F_VN_Create RTrees Model Exp( ip Ml Model := ip Ml Model, e RTrees Type := TCVN_RT_REGRESSOR, n Max Depth := 8, n Min Samples := 4, n Active Variables := 0, n Max Iterations := 0, f Epsilon := 0, hr Prev := hr); Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.17 F_VN_Create RTrees Model Exp2 F_VN_Create RTrees Model Exp2 ip Ml Model Reference To ITc Vn Ml Model HRESULT F_VN_Create RTrees Model Exp2 e RTrees Type ETc Vn RTrees n Max Depth UDINT n Min Samples UDINT n Active Variables UDINT n Max Iterations UDINT f Epsilon LREAL f Regression Accuracy REAL ip Class Priors ITc Vn Container hr Prev HRESULT Create a random trees model of the specified type. The initial reference count is set to one if a new model is created and kept, otherwise. Models of this type neither support on-line training (sample by sample) nor retraining. Predictions can only be scalar. (expert function) Syntax Definition: FUNCTION F_VN_Create RTrees Model Exp2 : HRESULT VAR_INPUT ip Ml Model : Reference To ITc Vn Ml Model; e RTrees Type : ETc Vn RTrees; n Max Depth : UDINT; n Min Samples : UDINT; n Active Variables : UDINT; n Max Iterations : UDINT; f Epsilon : LREAL; f Regression Accuracy : REAL; ip Class Priors : ITc Vn Container; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1373
## Page 1374

API reference Inputs Name Type Description ip Ml Model Reference To Returns the created model (Non-zero interface pointers are ITc Vn Ml Model [} 422] reused.) e RTrees Type ETc Vn RTrees [} 219] Random trees model type n Max Depth UDINT Maximum tree depth (default: 5) n Min Samples UDINT Minimum number of samples within a node required for splitting (default: 10) n Active Variabl UDINT Number of variables considered for splitting (0 means sqrt(total es number of variables); default: 0) n Max Iterations UDINT Maximum number of iterations (disabled if it equals 0 and f Epsilon is different from 0.0; triggers the usage of the default value of 50 if n Max Iterations and f Epsilon equal 0) f Epsilon LREAL Maximum allowed difference of the error between two successive iterations (disabled if it equals 0.0 and n Max Iterations is different from 0; triggers the usage of the default value of 0.1 if n Max Iterations and f Epsilon equal 0) f Regression Ac REAL Termination criterion for regressors (only for regressors; set to curacy default if not allowed; default: 0.0) ip Class Priors ITc Vn Container [} 374] Class priors (Container Type_Vector_REAL or Container Type_Vector_LREAL; only for classifiers; optional, set to 0 if not required or not allowed; default: 0) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Create RTRees Model Exp2 is an expert variant of F_VN_Create RTrees Model [} 1370]. It contains additional parameters. Parameter Model The created model is returned in the interface pointer ip Ml Model. Model type e RTrees Type specifies whether the Random Forest model is used for classification (TCVN_RT_CLASSIFIER) or for regression (TCVN_RT_REGRESSOR). Maximum tree depth n Max Depth indicates the maximum number of decision levels in a tree. Minimum number of samples within a node n Min Samples is the minimum number of samples that must remain in a node during tree formation. Splits that would fall below this number are not carried out. Splitting features n Active Variables is the number of features used to split the tree. With 0, sqrt(N) features are used with the number N of all available features. 1374 Version: 2.4.0 TF7000 - TF7810
## Page 1375

API reference Maximum iterations A maximum of as many iterations as specified in n Max Iterations are used for the optimization. If the value is 0, the respective default value is used. Termination limit The optimization is aborted as soon as the error between two iterations does not change more than specified in f Epsilon. If the value is 0, the respective default value is used. Regression accuracy f Regression Accuracy is the abort criterion for regression optimization. For a classification, the value must be set to 0. Class-Priors ip Class Priors is a container that can be used to specify the a priori probabilities of the individual classes. For a regression, the value should be set to 0. Application For example, an RTrees model for regression can be created like this: hr := F_VN_Create RTrees Exp2( ip Ml Model := ip Ml Model, e RTrees Type := TCVN_RT_REGRESSOR, n Max Depth := 8, n Min Samples := 4, n Active Variables := 0, n Max Iterations := 0, f Epsilon := 0, f Regression Accuracy := 0.3, ip Class Priors := 0, hr Prev := hr); Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.18 F_VN_Create Sta Model F_VN_Create Sta Model ip Ml Model Reference To ITc Vn Ml Model HRESULT F_VN_Create Sta Model e Sta Type ETc Vn Sta f Rho LREAL hr Prev HRESULT Create a Simplified Topo ART neural network of the specified type. The initial reference count is set to one if a new model is created and kept, otherwise. Models of this type support on-line training (sample by sample), retraining, as well as scalar and vectorial predictions. It requires all input except class labels (i.e., samples and training outputs/predictions) to lie in the interval [0.0, 1.0]. The predictions of regressors need to be rescaled from the interval [0.0, 1.0] to their respective value range before usage. Depending on the parameter settings and the number of available training samples, repeated training with the same data may improve the results. Like other neural networks based on the Adaptive Resonance Theory (ART), Simplified Topo ART neural networks are not prone to catastrophic inference and patricularly well-suited to incremental learning tasks. Syntax Definition: FUNCTION F_VN_Create Sta Model : HRESULT VAR_INPUT ip Ml Model : Reference To ITc Vn Ml Model; TF7000 - TF7810 Version: 2.4.0 1375
## Page 1376

API reference e Sta Type : ETc Vn Sta; f Rho : LREAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Ml Model Reference To Returns the created model (Non-zero interface pointers are ITc Vn Ml Model [} 422] reused.) e Sta Type ETc Vn Sta [} 221] Simpified Topo ART model type f Rho LREAL Vigilance parameter (controls the number of neurons that are inserted and the maximum size of the formed categories; valid range: [0.0, 1.0]; suggested range: [0.8, 1.0)) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Create Sta Model creates a Simplified Topo ART (STA) model. Simplified Topo ART models The Simplified Topo ART network learns sub-areas of the feature space. Depending on the application, these are grouped into clusters, assigned to classes or used for prediction. Due to the incremental architecture, post-training is possible, whereby the information already learned is retained in the best possible way. Only values in the interval of 0.0 and 1.0 are accepted as inputs (with the exception of class names). It is therefore advisable to use a feature normalization. Model The created model is returned in the interface pointer ip Ml Model. Model type e Sta Type specifies whether the STA model is used for classification (TCVN_STA_CLASSIFIER), regression (TCVN_STA_REGRESSOR), clustering (TCVN_STA_CLUSTERER) or anomaly detection (TCVN_STA_NOVELTY_DETECTOR). Vigilance parameters This parameter is crucial for adapting the model to the respective task, as it controls the maximum size of the sub-areas to be learned. Expert parameters The expert variants F_VN_Create Sta Model Exp [} 1377] and F_VN_Create Sta Model Exp2 [} 1378] contain additional parameters. Application For example, an STA model for classification can be created like this: hr := F_VN_Create Sta Model( ip Ml Model := ip Ml Model, e Sta Type := TCVN_STA_CLASSIFIER, f Rho := 0.9, hr Prev := hr); 1376 Version: 2.4.0 TF7000 - TF7810
## Page 1377

API reference Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.19 F_VN_Create Sta Model Exp F_VN_Create Sta Model Exp ip Ml Model Reference To ITc Vn Ml Model HRESULT F_VN_Create Sta Model Exp e Sta Type ETc Vn Sta f Rho LREAL n Nu UDINT b Double Precision BOOL hr Prev HRESULT Create a Simplified Topo ART neural network of the specified type. The initial reference count is set to one if a new model is created and kept, otherwise. Models of this type support on-line training (sample by sample), retraining, as well as scalar and vectorial predictions. It requires all input except class labels (i.e., samples and training outputs/predictions) to lie in the interval [0.0, 1.0]. The predictions of regressors need to be rescaled from the interval [0.0, 1.0] to their respective value range before usage. Depending on the parameter settings and the number of available training samples, repeated training with the same data may improve the results. Like other neural networks based on the Adaptive Resonance Theory (ART), Simplified Topo ART neural networks are not prone to catastrophic inference and patricularly well-suited to incremental learning tasks. (expert function) Syntax Definition: FUNCTION F_VN_Create Sta Model Exp : HRESULT VAR_INPUT ip Ml Model : Reference To ITc Vn Ml Model; e Sta Type : ETc Vn Sta; f Rho : LREAL; n Nu : UDINT; b Double Precision : BOOL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Ml Model Reference To Returns the created model (Non-zero interface pointers are ITc Vn Ml Model [} 422] reused.) e Sta Type ETc Vn Sta [} 221] Simpified Topo ART model type f Rho LREAL Vigilance parameter (controls the number of neurons that are inserted and the maximum size of the formed categories; valid range: [0.0, 1.0]; suggested range: [0.8, 1.0)) n Nu UDINT Number of neurons used for classification and prediction (must be larger than or equal to 1; suggested range: [1, 10); default: 3) b Double Precisi BOOL If true, the model is generated with double precision (LREAL) on instead of single precision (REAL). (default: FALSE) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 1377
## Page 1378

API reference Further information The function F_VN_Create Sta Model Exp is an expert variant of F_VN_Create Sta Model [} 1375]. It contains additional parameters. Parameter Model The created model is returned in the interface pointer ip Ml Model. Model type e Sta Type specifies whether the STA model is used for classification (TCVN_STA_CLASSIFIER), regression (TCVN_STA_REGRESSOR), clustering (TCVN_STA_CLUSTERER) or anomaly detection (TCVN_STA_NOVELTY_DETECTOR). Vigilance parameters This parameter is crucial for adapting the model to the respective task, as it controls the maximum size of the sub-areas to be learned. Number of neighbors used n Nu specifies the number of neighboring sub-areas used for classification and prediction and must be >= 1. Higher accuracy If b Double Precision is TRUE, LREAL is used as the data type for the internal calculations of the model; if it is FALSE, REAL is used. Application For example, an STA model for classification can be created like this: hr := F_VN_Create Sta Model( ip Ml Model := ip Ml Model, e Sta Type := TCVN_STA_CLASSIFIER, f Rho := 0.9, n Nu := 3, b Double Precision := FALSE, hr Prev := hr); Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.20 F_VN_Create Sta Model Exp2 F_VN_Create Sta Model Exp2 ip Ml Model Reference To ITc Vn Ml Model HRESULT F_VN_Create Sta Model Exp2 e Sta Type ETc Vn Sta f Rho LREAL n Nu UDINT b Double Precision BOOL f Beta Sbm LREAL n Phi UDINT n Tau UDINT hr Prev HRESULT Create a Simplified Topo ART neural network of the specified type. The initial reference count is set to one if a new model is created and kept, otherwise. Models of this type support on-line training (sample by sample), retraining, as well as scalar and vectorial predictions. It requires all input except class labels (i.e., samples 1378 Version: 2.4.0 TF7000 - TF7810
## Page 1379

API reference and training outputs/predictions) to lie in the interval [0.0, 1.0]. The predictions of regressors need to be rescaled from the interval [0.0, 1.0] to their respective value range before usage. Depending on the parameter settings and the number of available training samples, repeated training with the same data may improve the results. Like other neural networks based on the Adaptive Resonance Theory (ART), Simplified Topo ART neural networks are not prone to catastrophic inference and patricularly well-suited to incremental learning tasks. (additional expert function providing parameters for fine-tuning and noise reduction) Syntax Definition: FUNCTION F_VN_Create Sta Model Exp2 : HRESULT VAR_INPUT ip Ml Model : Reference To ITc Vn Ml Model; e Sta Type : ETc Vn Sta; f Rho : LREAL; n Nu : UDINT; b Double Precision : BOOL; f Beta Sbm : LREAL; n Phi : UDINT; n Tau : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Ml Model Reference To Returns the created model (Non-zero interface pointers are ITc Vn Ml Model [} 422] reused.) e Sta Type ETc Vn Sta [} 221] Simpified Topo ART model type f Rho LREAL Vigilance parameter (controls the number of neurons that are inserted and the maximum size of the formed categories; valid range: [0.0, 1.0]; suggested range: [0.8, 1.0)) n Nu UDINT Number of neurons used for classification and prediction (must be larger than or equal to 1; suggested range: [1, 10); default: 3) b Double Precisi BOOL If true, the model is generated with double precision (LREAL) on instead of single precision (REAL). (default: FALSE) f Beta Sbm LREAL Learning rate of the second best-matching neuron (learning the second best-matching neuron keeps related categories closer together and might improve the results but may require a higher number of neurons and training runs; a value of 0.0 disables learning of the second best-matching neuron; valid range: [0.0, 1.0]; suggested range: [0.0, 0.5]); default: 0.0 n Phi UDINT Number of samples a neuron must have learnt to become permanent (required for noise reduction; works in conjunction with n Tau; must be larger than or equal to 1; higher values intensify noise reduction; a value of 1 disables removal of neuron candidates; default: 1) n Tau UDINT Number of learning steps after which node removal is performed (required for noise reduction; works in conjunction with n Phi; must be large enough to allow neuron candidates representing non-noise samples to become the best-matching neuron at least n Phi times before node removal; default: 100) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 1379
## Page 1380

API reference Further information The function F_VN_Create Sta Model Exp2 is an expert variant of F_VN_Create Sta Model [} 1375]. It contains additional parameters. Parameter Model The created model is returned in the interface pointer ip Ml Model. Model type e Sta Type specifies whether the STA model is used for classification (TCVN_STA_CLASSIFIER), regression (TCVN_STA_REGRESSOR), clustering (TCVN_STA_CLUSTERER) or anomaly detection (TCVN_STA_NOVELTY_DETECTOR). Vigilance parameters This parameter is crucial for adapting the model to the respective task, as it controls the maximum size of the sub-areas to be learned. Number of neighbors used n Nu specifies the number of neighboring sub-areas used for classification and prediction and must be >= 1. Higher accuracy If b Double Precision is TRUE, LREAL is used as the data type for the internal calculations of the model; if it is FALSE, REAL is used. Adjustment of the distribution f Beta Sbm supplements the control for adapting the sub-areas to the underlying sample distribution. Noise suppression n Phi and n Tau are used to control the suppression of very rare samples (noise, outliers) in the learning process. n Phi specifies the number of samples that must be learned in a sub-area so that this sub-area is permanently taken into account. n Tau specifies after how many learning steps the condition of n Phi is checked and sub-areas that do not fulfill this condition are removed. Increasing n Phi and decreasing n Tau increases the noise suppression, whereby the ratio of n Phi to n Tau can be used as a measure to estimate the strength. Application For example, an STA model for classification can be created like this: hr := F_VN_Create Sta Model( ip Ml Model := ip Ml Model, e Sta Type := TCVN_STA_CLASSIFIER, f Rho := 0.9, n Nu := 3, b Double Precision := FALSE, f Beta Sbm := 0.0, n Phi := 1, n Tau := 100, hr Prev := hr); Required License TC3 Machine Learning Realtime Inference 1380 Version: 2.4.0 TF7000 - TF7810
## Page 1381

API reference System Requirements 6.1.4.19.21 F_VN_Create Svm Model F_VN_Create Svm Model ip Ml Model Reference To ITc Vn Ml Model HRESULT F_VN_Create Svm Model e Svm Type ETc Vn Svm f C LREAL f Nu LREAL f P LREAL e Kernel Type ETc Vn Svm Kernel Type f Gamma LREAL f Coef0 LREAL f Degree LREAL hr Prev HRESULT Create an SVM model of the specified type. The initial reference count is set to one if a new model is created and kept, otherwise. Models of this type neither support on-line training (sample by sample) nor retraining. Predictions can only be scalar. Syntax Definition: FUNCTION F_VN_Create Svm Model : HRESULT VAR_INPUT ip Ml Model : Reference To ITc Vn Ml Model; e Svm Type : ETc Vn Svm; f C : LREAL; f Nu : LREAL; f P : LREAL; e Kernel Type : ETc Vn Svm Kernel Type; f Gamma : LREAL; f Coef0 : LREAL; f Degree : LREAL; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1381
## Page 1382

API reference Inputs Name Type Description ip Ml Model Reference To Returns the created model (Non-zero interface pointers are ITc Vn Ml Model [} 422] reused.) e Svm Type ETc Vn Svm [} 222] SVM model type f C LREAL Parameter C (required for TCVN_SVM_C_CLASSIFIER, TCVN_SVM_EPS_REGRESSOR, and TCVN_SVM_NU_REGRESSOR; ignored otherwise) f Nu LREAL Parameter nu (required for TCVN_SVM_NU_CLASSIFIER, TCVN_SVM_NOVELTY_DETECTOR, and TCVN_SVM_NU_REGRESSOR; ignored otherwise) f P LREAL Parameter p (required for TCVN_SVM_EPS_REGRESSOR; ignored otherwise) e Kernel Type ETc Vn Svm Kernel Type Kernel type [} 222] f Gamma LREAL Parameter gamma (used by polynomial, RBF, sigmoid, and chi- squared kernels; ignored otherwise) f Coef0 LREAL parameter coef0 (used by polynomial and sigmoid kernels; ignored otherwise) f Degree LREAL Degree (used by polynomial kernels; ignored otherwise) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Create Svm Model creates a Support Vector Machine (SVM) model. Support Vector Machine models Support Vector Machines can also be used for sophisticated non-linear problems. The prediction is based exclusively on the so-called support vectors, which is why SVM models are comparatively memory-efficient. All samples are required for training at the same time (batch training) and post-training is not possible. Parameter Model The created model is returned in the interface pointer ip Ml Model. Model type e Svm Type specifies whether the SVM model is used for classification, regression or anomaly detection: • TCVN_SVM_C_CLASSIFIER • TCVN_SVM_NU_CLASSIFIER • TCVN_SVM_NOVELTY_DETECTOR • TCVN_SVM_EPS_REGRESSOR • TCVN_SVM_NU_REGRESSOR Model parameters The use and meaning of the parameters f C, f Nu and f P depends on the selected e Svm Type. Kernel type 1382 Version: 2.4.0 TF7000 - TF7810
## Page 1383

API reference The kernel type used for the calculation is defined with e Kernel Type. The kernel type depends on the task / data distribution and must be adapted accordingly. Kernel parameters The use and meaning of the parameters f Gamma, f Coef0 and f Degree depends on the selected e Kernel Type. Expert parameters The expert variants F_VN_Create Svm Model Exp [} 1383] and F_VN_Create Svm Model Exp2 [} 1386] contain additional parameters. Application For example, an SVM model for classification can be created like this: hr := F_VN_Create Svm Model( ip Ml Model := ip Ml Model, e Svm Type := TCVN_SVM_NU_CLASSIFIER, f C := 0, f Nu := 0.1, f P := 0, e Kernel Type := TCVN_SKT_RBF, f Gamma := 1, f Coef0 := 0, f Degree := 0, hr Prev := hr); Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.22 F_VN_Create Svm Model Exp F_VN_Create Svm Model Exp ip Ml Model Reference To ITc Vn Ml Model HRESULT F_VN_Create Svm Model Exp e Svm Type ETc Vn Svm f C LREAL f Nu LREAL f P LREAL e Kernel Type ETc Vn Svm Kernel Type f Gamma LREAL f Coef0 LREAL f Degree LREAL n Max Iterations UDINT f Epsilon LREAL hr Prev HRESULT Create an SVM model of the specified type. The initial reference count is set to one if a new model is created and kept, otherwise. Models of this type neither support on-line training (sample by sample) nor retraining. Predictions can only be scalar. (expert function) Syntax Definition: FUNCTION F_VN_Create Svm Model Exp : HRESULT VAR_INPUT ip Ml Model : Reference To ITc Vn Ml Model; e Svm Type : ETc Vn Svm; f C : LREAL; f Nu : LREAL; f P : LREAL; e Kernel Type : ETc Vn Svm Kernel Type; TF7000 - TF7810 Version: 2.4.0 1383
## Page 1384

API reference f Gamma : LREAL; f Coef0 : LREAL; f Degree : LREAL; n Max Iterations : UDINT; f Epsilon : LREAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Ml Model Reference To Returns the created model (Non-zero interface pointers are ITc Vn Ml Model [} 422] reused.) e Svm Type ETc Vn Svm [} 222] SVM model type f C LREAL Parameter C (required for TCVN_SVM_C_CLASSIFIER, TCVN_SVM_EPS_REGRESSOR, and TCVN_SVM_NU_REGRESSOR; ignored otherwise) f Nu LREAL Parameter nu (required for TCVN_SVM_NU_CLASSIFIER, TCVN_SVM_NOVELTY_DETECTOR, and TCVN_SVM_NU_REGRESSOR; ignored otherwise) f P LREAL Parameter p (required for TCVN_SVM_EPS_REGRESSOR; ignored otherwise) e Kernel Type ETc Vn Svm Kernel Type Kernel type [} 222] f Gamma LREAL Parameter gamma (used by polynomial, RBF, sigmoid, and chi- squared kernels; ignored otherwise) f Coef0 LREAL Parameter coef0 (used by polynomial and sigmoid kernels; ignored otherwise) f Degree LREAL Degree (used by polynomial kernels; ignored otherwise) n Max Iterations UDINT Maximum number of iterations (disabled if it equals 0 and f Epsilon is different from 0.0; triggers the usage of the default value of 100000 if n Max Iterations and f Epsilon equal 0) f Epsilon LREAL Maximum allowed difference of the error between two successive iterations (disabled if it equals 0.0 and n Max Iterations is different from 0; triggers the usage of the default value of 0.00001 if n Max Iterations and f Epsilon equal 0) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Create Svm Model Exp is an expert variant of F_VN_Create Svm Model [} 1381]. It contains additional parameters. Parameter Model The created model is returned in the interface pointer ip Ml Model. Model type e Svm Type specifies whether the SVM model is used for classification, regression or anomaly detection: • TCVN_SVM_C_CLASSIFIER 1384 Version: 2.4.0 TF7000 - TF7810
## Page 1385

API reference • TCVN_SVM_NU_CLASSIFIER • TCVN_SVM_NOVELTY_DETECTOR • TCVN_SVM_EPS_REGRESSOR • TCVN_SVM_NU_REGRESSOR Model parameters The use and meaning of the parameters f C, f Nu and f P depends on the selected e Svm Type. Kernel type The kernel type used for the calculation is defined with e Kernel Type. The kernel type depends on the task / data distribution and must be adapted accordingly. Kernel parameters The use and meaning of the parameters f Gamma, f Coef0 and f Degree depends on the selected e Kernel Type. Maximum iterations A maximum of as many iterations as specified in n Max Iterations are used for the optimization. If the value is 0, the respective default value is used. Termination limit The optimization is aborted as soon as the error between two iterations does not change more than specified in f Epsilon. If the value is 0, the respective default value is used. Application For example, an SVM model for classification can be created like this: hr := F_VN_Create Svm Model Exp( ip Ml Model := ip Ml Model, e Svm Type := TCVN_SVM_NU_CLASSIFIER, f C := 0, f Nu := 0.1, f P := 0, e Kernel Type := TCVN_SKT_RBF, f Gamma := 1, f Coef0 := 0, f Degree := 0, n Max Iterations := 0, f Epsilon := 0, hr Prev := hr); Required License TC3 Machine Learning Realtime Inference TF7000 - TF7810 Version: 2.4.0 1385
## Page 1386

API reference System Requirements 6.1.4.19.23 F_VN_Create Svm Model Exp2 F_VN_Create Svm Model Exp2 ip Ml Model Reference To ITc Vn Ml Model HRESULT F_VN_Create Svm Model Exp2 e Svm Type ETc Vn Svm f C LREAL f Nu LREAL f P LREAL e Kernel Type ETc Vn Svm Kernel Type f Gamma LREAL f Coef0 LREAL f Degree LREAL n Max Iterations UDINT f Epsilon LREAL ip Class Weights ITc Vn Container hr Prev HRESULT Create an SVM model of the specified type. The initial reference count is set to one if a new model is created and kept, otherwise. Models of this type neither support on-line training (sample by sample) nor retraining. Predictions can only be scalar. (additional expert function for C support vector classifiers) Syntax Definition: FUNCTION F_VN_Create Svm Model Exp2 : HRESULT VAR_INPUT ip Ml Model : Reference To ITc Vn Ml Model; e Svm Type : ETc Vn Svm; f C : LREAL; f Nu : LREAL; f P : LREAL; e Kernel Type : ETc Vn Svm Kernel Type; f Gamma : LREAL; f Coef0 : LREAL; f Degree : LREAL; n Max Iterations : UDINT; f Epsilon : LREAL; ip Class Weights : ITc Vn Container; hr Prev : HRESULT; END_VAR 1386 Version: 2.4.0 TF7000 - TF7810
## Page 1387

API reference Inputs Name Type Description ip Ml Model Reference To Returns the created model (Non-zero interface pointers are ITc Vn Ml Model [} 422] reused.) e Svm Type ETc Vn Svm [} 222] SVM model type f C LREAL Parameter C (required for TCVN_SVM_C_CLASSIFIER, TCVN_SVM_EPS_REGRESSOR, and TCVN_SVM_NU_REGRESSOR; ignored otherwise) f Nu LREAL Parameter nu (required for TCVN_SVM_NU_CLASSIFIER, TCVN_SVM_NOVELTY_DETECTOR, and TCVN_SVM_NU_REGRESSOR; ignored otherwise) f P LREAL Parameter p (required for TCVN_SVM_EPS_REGRESSOR; ignored otherwise) e Kernel Type ETc Vn Svm Kernel Type Kernel type [} 222] f Gamma LREAL Parameter gamma (used by polynomial, RBF, sigmoid, and chi- squared kernels; ignored otherwise) f Coef0 LREAL Parameter coef0 (used by polynomial and sigmoid kernels; ignored otherwise) f Degree LREAL Degree (used by polynomial kernels; ignored otherwise) n Max Iterations UDINT Maximum number of iterations (disabled if it equals 0 and f Epsilon is different from 0.0; triggers the usage of the default value of 100000 if n Max Iterations and f Epsilon equal 0) f Epsilon LREAL Maximum allowed difference of the error between two successive iterations (disabled if it equals 0.0 and n Max Iterations is different from 0; triggers the usage of the default value of 0.00001 if n Max Iterations and f Epsilon equal 0) ip Class Weights ITc Vn Container [} 374] Class weights (Container Type_Vector_REAL or Container Type_Vector_LREAL; only valid if e Svm Type equals TCVN_SVM_C_CLASSIFIER; optional, set to 0 if not required or not allowed; default: 0) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Create Svm Model Exp2 is an expert variant of F_VN_Create Svm Model [} 1381]. It contains additional parameters that are only relevant for models of type TCVN_SVM_C_CLASSIFIER. Parameter Model The created model is returned in the interface pointer ip Ml Model. Model type e Svm Type specifies whether the SVM model is used for classification, regression or anomaly detection: • TCVN_SVM_C_CLASSIFIER • TCVN_SVM_NU_CLASSIFIER • TCVN_SVM_NOVELTY_DETECTOR TF7000 - TF7810 Version: 2.4.0 1387
## Page 1388

API reference • TCVN_SVM_EPS_REGRESSOR • TCVN_SVM_NU_REGRESSOR Model parameters The use and meaning of the parameters f C, f Nu and f P depends on the selected e Svm Type. Kernel type The kernel type used for the calculation is defined with e Kernel Type. The kernel type depends on the task / data distribution and must be adapted accordingly. Kernel parameters The use and meaning of the parameters f Gamma, f Coef0 and f Degree depends on the selected e Kernel Type. Maximum iterations A maximum of as many iterations as specified in n Max Iterations are used for the optimization. If the value is 0, the respective default value is used. Termination limit The optimization is aborted as soon as the error between two iterations does not change more than specified in f Epsilon. If the value is 0, the respective default value is used. Class-Weights ip Class Weights is a container that can be used to specify the weighting of the individual classes. Application For example, an SVM model for classification parameterized with Nu can be created like this: hr := F_VN_Create Svm Model Exp2( ip Ml Model := ip Ml Model, e Svm Type := TCVN_SVM_C_CLASSIFIER, f C := 100, f Nu := 0, f P := 0, e Kernel Type := TCVN_SKT_RBF, f Gamma := 1, f Coef0 := 0, f Degree := 0, n Max Iterations := 0, f Epsilon := 0, ip Class Weights := ip Class Weights, hr Prev := hr); Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.24 F_VN_Create Svm Sgd Classifier F_VN_Create Svm Sgd Classifier ip Ml Model Reference To ITc Vn Ml Model HRESULT F_VN_Create Svm Sgd Classifier hr Prev HRESULT Create a linear SVM classifier using stochastic gradient descent for training. The initial reference count is set to one if a new model is created and kept, otherwise. This SVM classifier is only applicable to binary classification problems. It learns a separating hyperplane between a class with label -1 and a class with label 1388 Version: 2.4.0 TF7000 - TF7810
## Page 1389

API reference 1. These class labels are predefined. For training, any positive class labels are mapped to 1 and any negative class labels are mapped to -1. Models of this type neither support on-line training (sample by sample) nor retraining. Syntax Definition: FUNCTION F_VN_Create Svm Sgd Classifier : HRESULT VAR_INPUT ip Ml Model : Reference To ITc Vn Ml Model; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Ml Model Reference To Returns the created model (Non-zero interface pointers are ITc Vn Ml Model [} 422] reused.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Create Svm Sgd Classifier creates a Support Vector Machine model with a linear kernel that is used in the Stochastic Gradient Descent (SVM-SGD) training. SVM-SGD models This SVM classifier model is only applicable to binary classification problems. It learns a separating hyperplane between a class with the label -1 and a class with the label 1. All samples are required simultaneously for the training (batch training) and post-training is not possible. Parameter Model The created model is returned in the interface pointer ip Ml Model. Expert parameters The expert variant F_VN_Create Svm Sgd Classifier Exp [} 1390] contains additional parameters. Application For example, an SVM-SGD model for classification can be created like this: hr := F_VN_Create Svm Sgd Classifier( ip Ml Model := ip Ml Model, hr Prev := hr); Required License TC3 Machine Learning Realtime Inference TF7000 - TF7810 Version: 2.4.0 1389
## Page 1390

API reference System Requirements 6.1.4.19.25 F_VN_Create Svm Sgd Classifier Exp F_VN_Create Svm Sgd Classifier Exp ip Ml Model Reference To ITc Vn Ml Model HRESULT F_VN_Create Svm Sgd Classifier Exp e Type ETc Vn Svm Sgd Classifier Type e Margin Type ETc Vn Svm Sgd Classifier Margin Type f Margin Regularization REAL f Initial Step Size REAL f Step Decreasing Power REAL n Max Iterations UDINT f Epsilon LREAL hr Prev HRESULT Create a linear SVM classifier using stochastic gradient descent for training. The initial reference count is set to one if a new model is created and kept, otherwise. This SVM classifier is only applicable to binary classification problems. It learns a separating hyperplane between a class with label -1 and a class with label 1. These class labels are predefined. For training, any positive class labels are mapped to 1 and any negative class labels are mapped to -1. Models of this type neither support on-line training (sample by sample) nor retraining. (expert function) Syntax Definition: FUNCTION F_VN_Create Svm Sgd Classifier Exp : HRESULT VAR_INPUT ip Ml Model : Reference To ITc Vn Ml Model; e Type : ETc Vn Svm Sgd Classifier Type; e Margin Type : ETc Vn Svm Sgd Classifier Margin Type; f Margin Regularization : REAL; f Initial Step Size : REAL; f Step Decreasing Power : REAL; n Max Iterations : UDINT; f Epsilon : LREAL; hr Prev : HRESULT; END_VAR 1390 Version: 2.4.0 TF7000 - TF7810
## Page 1391

API reference Inputs Name Type Description ip Ml Model Reference To Returns the created model (Non-zero interface pointers are ITc Vn Ml Model [} 422] reused.) e Type Learning algorithm type (default: TCVN_SSCT_ASGD) ETc Vn Svm Sgd Classifier Ty pe [} 223] e Margin Type Margin type (default: TCVN_SSCMT_SOFT_MARGIN) ETc Vn Svm Sgd Classifier Ma rgin Type [} 223] f Margin Regular REAL Margin regularization parameter (default: 0.00001) ization f Initial Step Size REAL Initial step size (default: 0.05) f Step Decreasin REAL Power parameter (default: 0.75) g Power n Max Iterations UDINT Maximum number of iterations (disabled if it equals 0 and f Epsilon is different from 0.0; triggers the usage of the default value of 100000 if n Max Iterations and f Epsilon equal 0) f Epsilon LREAL Maximum allowed difference of the error between two successive iterations (disabled if it equals 0.0 and n Max Iterations is different from 0; triggers the usage of the default value of 0.00001 if n Max Iterations and f Epsilon equal 0) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Create Svm Sgd Classifier Exp is an expert variant of F_VN_Create Svm Sgd Classifier [} 1388]. It contains additional parameters. Parameter Model The created model is returned in the interface pointer ip Ml Model. Algorithm e Type specifies which optimization method is used in the training: • TCVN_SSCT_SGD Stochastic Gradient Descent • TCVN_SSCT_ASGD Average Stochastic Gradient Descent Delimitation of the classes e Margin Type specifies whether the delimitation of the classes is to be carried out strictly (TCVN_SSCMT_HARD_MARGIN) or with outliers (TCVN_SSCMT_SOFT_MARGIN). Regularization f Margin Regularization is responsible for the weights decreasing at each step and controls the extent to which the influence of outliers is limited. The smaller the parameter, the lower the probability that an outlier will be ignored. Step size TF7000 - TF7810 Version: 2.4.0 1391
## Page 1392

API reference f Initial Step Size indicates the step size at the beginning of the training. Decrease in step size f Step Decreasing Power specifies the exponent for reducing the step size. Maximum iterations A maximum of as many iterations as specified in n Max Iterations are used for the optimization. If the value is 0, the respective default value is used. Termination limit The optimization is aborted as soon as the error between two iterations does not change more than specified in f Epsilon. If the value is 0, the respective default value is used. Application For example, an SVM-SGD model for classification can be created like this: hr := F_VN_Create Svm Sgd Classifier Exp( ip Ml Model := ip Ml Model, e Type := TCVN_SSCT_ASGD, e Margin Type := TCVN_SSCMT_SOFT_MARGIN, f Margin Regularization := 0.00001, f Initial Step Size := 0.05, f Step Decreasing Power := 0.75, n Max Iterations := 0, f Epsilon := 0, hr Prev := hr); Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.26 F_VN_Feature Scaling F_VN_Feature Scaling ip Samples ITc Vn Container HRESULT F_VN_Feature Scaling ip Scales ITc Vn Container ip Scaled Samples Reference To ITc Vn Container hr Prev HRESULT Apply a feature scaling to one or more sample(s). Syntax Definition: FUNCTION F_VN_Feature Scaling : HRESULT VAR_INPUT ip Samples : ITc Vn Container; ip Scales : ITc Vn Container; ip Scaled Samples : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR 1392 Version: 2.4.0 TF7000 - TF7810
## Page 1393

API reference Inputs Name Type Description ip Samples ITc Vn Container [} 374] Container holding one or more input sample(s) (Container Type_Vector_REAL, Container Type_Vector_LREAL, Container Type_Vector_Vector_REAL, or Container Type_Vector_Vector_LREAL) ip Scales ITc Vn Container [} 374] Container with the scaling parameters of each feature (type Container Type_Vector_REAL or Container Type_Vector_LREAL). ip Scaled Sampl Reference To Returns the scaled sample(s) using the same type like es ITc Vn Container [} 374] ip Samples. If the same container ip Samples is uesd, the source data will be replaced. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Feature Scaling scales features from several samples. The function F_VN_Inverse Feature Scaling [} 1409] can be used for inverse scaling. Parameter Samples One or more samples must be transferred as a container to ip Samples. Scaling A container with the scaling type and the corresponding scaling parameters must be transferred to ip Scales. The container can be calculated using the function F_VN_Get Feature Scales [} 1403] or created using the structure described there. Scaled samples The scaled samples are returned via the reference ip Scaled Samples. Expert parameters The expert variant F_VN_Feature Scaling Exp [} 1394] contains additional parameters. Application For example, a feature scaling in which the scaling parameters are calculated beforehand by F_VN_Get Feature Scales [} 1403] using the MINMAX method looks like this: hr := F_VN_Get Feature Scales(ip Samples, ip Scales, TCVN_FST_MINMAX, hr); hr := F_VN_Feature Scaling( ip Samples := ip Samples, ip Scales := ip Scales, ip Scaled Samples := ip Scaled Samples, hr Prev := hr); Related functions • F_VN_Get Feature Scales [} 1403] • F_VN_Inverse Feature Scaling [} 1409] • F_VN_Inverse Feature Scaling_REAL [} 1411] TF7000 - TF7810 Version: 2.4.0 1393
## Page 1394

API reference Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.27 F_VN_Feature Scaling Exp F_VN_Feature Scaling Exp ip Samples ITc Vn Container HRESULT F_VN_Feature Scaling Exp ip Scales ITc Vn Container ip Scaled Samples Reference To ITc Vn Container f A LREAL f B LREAL hr Prev HRESULT Apply a feature scaling to one or more sample(s) and get output range between [f A, f B] in the case of TCVN_FST1_MINMAX. (expert function) Syntax Definition: FUNCTION F_VN_Feature Scaling Exp : HRESULT VAR_INPUT ip Samples : ITc Vn Container; ip Scales : ITc Vn Container; ip Scaled Samples : Reference To ITc Vn Container; f A : LREAL; f B : LREAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Samples ITc Vn Container [} 374] Container holding one or more input sample(s) (Container Type_Vector_REAL, Container Type_Vector_LREAL, Container Type_Vector_Vector_REAL, or Container Type_Vector_Vector_LREAL) ip Scales ITc Vn Container [} 374] Container with the scaling parameters of each feature (type Container Type_Vector_REAL or Container Type_Vector_LREAL). ip Scaled Sampl Reference To Returns the scaled sample(s) using the same type like es ITc Vn Container [} 374] ip Samples. If the same container ip Samples is uesd, the source data will be replaced. f A LREAL represents the lower bound of the range for TCVN_FST1_MINMAX f B LREAL represents the upper bound of the range for TCVN_FST1_MINMAX hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Feature Scaling Exp is the expert variant of F_VN_Feature Scaling [} 1392]. It contains additional parameters. 1394 Version: 2.4.0 TF7000 - TF7810
## Page 1395

API reference Parameter Samples One or more samples must be transferred as a container to ip Samples. Scaling A container with the scaling type and the corresponding scaling parameters must be transferred to ip Scales. The container can be calculated using the function F_VN_Get Feature Scales [} 1403] or created using the structure described there. Scaled samples The scaled samples are returned via the reference ip Scaled Samples. Defining the output range If the scaling type TCVN_FST1_MINMAX is used, the value range of the output values can also be specified via f A and f B. Application For example, a feature scaling with an output value range of 0.1 to 0.9 looks like this: hr := F_VN_Feature Scaling Exp( ip Samples := ip Samples, ip Scales := ip Scales, ip Scaled Samples := ip Scaled Samples, f A := 0.1, f B := 0.9, hr Prev := hr); Related functions • F_VN_Get Feature Scales [} 1403] • F_VN_Inverse Feature Scaling [} 1409] • F_VN_Inverse Feature Scaling_REAL [} 1411] Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.28 F_VN_Feature Transform F_VN_Feature Transform ip Feature Transform ITc Vn Ml Model HRESULT F_VN_Feature Transform ip Samples ITc Unknown pip Transformed Pointer To ITc Unknown hr Prev HRESULT Apply a feature transform to one or more sample(s). Syntax Definition: FUNCTION F_VN_Feature Transform : HRESULT VAR_INPUT ip Feature Transform : ITc Vn Ml Model; ip Samples : ITc Unknown; pip Transformed : Pointer To ITc Unknown; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1395
## Page 1396

API reference Inputs Name Type Description ip Feature Trans ITc Vn Ml Model [} 422] Feature transform instance to be used form ip Samples ITc Unknown [} 429] Container holding one or more of input sample(s) (Container Type_Vector_REAL, Container Type_Vector_LREAL, Container Type_Vector_Vector_REAL, or Container Type_Vector_Vector_LREAL) pip Transforme Pointer To ITc Unknown Returns the transformed sample(s) using the same type like d ip Samples [} 429] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Feature Transform transforms the features of one or more samples using a transformation model. An inverse transform can be carried out with the F_VN_Inverse Feature Transform [} 1416] function. Parameter Transformation model A previously created model must be transferred to ip Feature Transform for feature transformation. Samples A container with the samples to be transformed is transferred to ip Samples. The following container types are permitted: • Container Type_Vector_REAL or Container Type_Vector_LREAL for a single sample • Container Type_Vector_Vector_REAL or Container Type_Vector_Vector_LREAL for a container with several samples. Transformed samples A container with the transformed samples is returned via the pointer pip Transformed. The container type is taken from ip Samples. Application For example, a feature transformation is carried out as follows: hr := F_VN_Feature Transform( ip Feature Transform := ip Ml Model, ip Samples := ip Samples, pip Transformed := ADR(ip Transformed), hr Prev := hr); Related functions • F_VN_Inverse Feature Transform [} 1416] Required License TC3 Machine Learning Realtime Inference 1396 Version: 2.4.0 TF7000 - TF7810
## Page 1397

API reference System Requirements 6.1.4.19.29 F_VN_Get Batch Clusters F_VN_Get Batch Clusters ip Clusterer ITc Vn Ml Model HRESULT F_VN_Get Batch Clusters ip Samples ITc Unknown ip Clusters Reference To ITc Vn Container hr Prev HRESULT Get the IDs of the best-matching clusters of a batch of samples. Syntax Definition: FUNCTION F_VN_Get Batch Clusters : HRESULT VAR_INPUT ip Clusterer : ITc Vn Ml Model; ip Samples : ITc Unknown; ip Clusters : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Clusterer ITc Vn Ml Model [} 422] Clusterer to be used ip Samples ITc Unknown [} 429] Container holding a batch of input samples (Container Type_Vector_Vector_REAL or Container Type_Vector_Vector_LREAL) ip Clusters Reference To Returns the cluster IDs (Container Type_Vector_DINT) ITc Vn Container [} 374] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Get Batch Clusters determines the best matching cluster for all samples in a container and returns its ID. Parameter Clusterer model A previously trained model must be transferred to ip Clusterer for assignment to clusters. Samples A container with the samples is transferred to ip Samples. The type of container must be Container Type_Vector_Vector_REAL or Container Type_Vector_Vector_LREAL. Cluster IDs A container with the determined IDs is returned via the reference ip Clusters. Expert parameters TF7000 - TF7810 Version: 2.4.0 1397
## Page 1398

API reference The expert variant F_VN_Get Batch Clusters Exp [} 1398] contains additional parameters. Application The assignment of samples to clusters can be calculated in this way: hr := F_VN_Get Batch Clusters( ip Clusterer := ip Clusterer, ip Samples := ip Samples, ip Clusters := ip Clusters, hr Prev := hr); Related functions • F_VN_Get Sample Cluster [} 1405] Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.30 F_VN_Get Batch Clusters Exp F_VN_Get Batch Clusters Exp ip Clusterer ITc Vn Ml Model HRESULT F_VN_Get Batch Clusters Exp ip Samples ITc Unknown ip Clusters Reference To ITc Vn Container ip Novelties Reference To ITc Vn Container hr Prev HRESULT Get the IDs of the best-matching clusters of a batch of samples. Syntax Definition: FUNCTION F_VN_Get Batch Clusters Exp : HRESULT VAR_INPUT ip Clusterer : ITc Vn Ml Model; ip Samples : ITc Unknown; ip Clusters : Reference To ITc Vn Container; ip Novelties : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Clusterer ITc Vn Ml Model [} 422] Clusterer to be used ip Samples ITc Unknown [} 429] Container holding a batch of input samples (Container Type_Vector_Vector_REAL or Container Type_Vector_Vector_LREAL) ip Clusters Reference To Returns the cluster IDs (Container Type_Vector_DINT) ITc Vn Container [} 374] ip Novelties Reference To Returns the degree of novelty (0.0 if a sample is completely ITc Vn Container [} 374] known; > 0.0 otherwise) of each sample (Container Type_Vector_REAL; optional, set to 0 if not required) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 1398 Version: 2.4.0 TF7000 - TF7810
## Page 1399

API reference Return value HRESULT [} 144] Further information The function F_VN_Get Batch Clusters Exp is the expert variant of F_VN_Get Batch Clusters [} 1397]. It contains additional parameters. Parameter Clusterer model A previously trained model must be transferred to ip Clusterer for assignment to clusters. Samples A container with the samples is transferred to ip Samples. The type of container must be Container Type_Vector_Vector_REAL or Container Type_Vector_Vector_LREAL. Cluster IDs A container with the determined IDs is returned via the reference ip Clusters. Degrees of novelty A container with the degrees of novelty of each sample is returned via the reference ip Novelties. The degree of novelty indicates how strongly a sample differs from the clusters. A degree of novelty of 0 indicates that a sample lies exactly in the center of a cluster. Application The assignment of samples to clusters, including the degrees of novelty, can be calculated as follows: hr := F_VN_Get Batch Clusters Exp( ip Clusterer := ip Clusterer, ip Samples := ip Samples, ip Clusters := ip Clusters, ip Novelties := ip Novelties, hr Prev := hr); Related functions • F_VN_Get Sample Cluster [} 1405] • F_VN_Get Sample Novelty [} 1408] • F_VN_Get Batch Novelties [} 1399] Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.31 F_VN_Get Batch Novelties F_VN_Get Batch Novelties ip Novelty Detector ITc Vn Ml Model HRESULT F_VN_Get Batch Novelties ip Samples ITc Unknown ip Novelties Reference To ITc Vn Container hr Prev HRESULT Get the degree of novelty of multiple samples. Can use available Twin CAT Job Tasks for executing parallel code regions. TF7000 - TF7810 Version: 2.4.0 1399
## Page 1400

API reference Syntax Definition: FUNCTION F_VN_Get Batch Novelties : HRESULT VAR_INPUT ip Novelty Detector : ITc Vn Ml Model; ip Samples : ITc Unknown; ip Novelties : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Novelty Detec ITc Vn Ml Model [} 422] Novelty detector to be used tor ip Samples ITc Unknown [} 429] Container holding a batch of input samples (Container Type_Vector_Vector_REAL or Container Type_Vector_Vector_LREAL) ip Novelties Reference To Returns the degree of novelty (0.0 if a sample is completely ITc Vn Container [} 374] known; > 0.0 otherwise) of each sample (Container Type_Vector_REAL) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Get Batch Novelties determines the degree of novelty for all samples in a container. Parameter Anomaly model To calculate the degree of novelty, the previously trained model must be transferred to ip Novelty Detector. Samples A container with the samples is transferred to ip Samples. Degrees of novelty A container with the calculated degrees of novelty is returned via the reference ip Novelties. Application The degree of novelty of several samples can be calculated as follows: hr := F_VN_Get Batch Novelties( ip Novelty Detector := ip Novelty Detector, ip Samples := ip Samples, ip Novelties := ip Novelties, hr Prev := hr); Related functions • F_VN_Get Sample Novelty [} 1408] 1400 Version: 2.4.0 TF7000 - TF7810
## Page 1401

API reference Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.32 F_VN_Get Cluster Center F_VN_Get Cluster Center ip Clusterer ITc Vn Ml Model HRESULT F_VN_Get Cluster Center n Cluster DINT ip Center Reference To ITc Vn Container hr Prev HRESULT Get the center of a cluster. Syntax Definition: FUNCTION F_VN_Get Cluster Center : HRESULT VAR_INPUT ip Clusterer : ITc Vn Ml Model; n Cluster : DINT; ip Center : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Clusterer ITc Vn Ml Model [} 422] Clusterer to be used n Cluster DINT Cluster ID of the cluster the center of which is requested ip Center Reference To Returns the cluster center (Container Type_Vector_REAL or ITc Vn Container [} 374] Container Type_Vector_LREAL depending on the floating point type internally used by the clusterer) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Get Cluster Center returns the center of a cluster. Parameter Clusterer model The cluster whose center is to be calculated must be contained in the previously trained model ip Clusterer. Cluster ID The ID of the corresponding cluster is transferred to n Cluster. Cluster center TF7000 - TF7810 Version: 2.4.0 1401
## Page 1402

API reference The center of the cluster is returned via the reference ip Center. The type of container returned is Container Type_Vector_REAL or Container Type_Vector_LREAL, depending on the data type used internally in ip Clusterer. Application The center of the third cluster in a Clusterer model can be determined as follows: hr := F_VN_Get Cluster Center( ip Clusterer := ip Clusterer, n Cluster := 2, ip Center := ip Center, hr Prev := hr); Related functions • F_VN_Get Cluster Num [} 1402] Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.33 F_VN_Get Cluster Num F_VN_Get Cluster Num ip Clusterer ITc Vn Ml Model HRESULT F_VN_Get Cluster Num ↔ n Cluster Num ULINT hr Prev HRESULT Get the number of clusters used by this clusterer. Syntax Definition: FUNCTION F_VN_Get Cluster Num : HRESULT VAR_INPUT ip Clusterer : ITc Vn Ml Model; END_VAR VAR_IN_OUT n Cluster Num : ULINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Clusterer ITc Vn Ml Model [} 422] Clusterer to be used hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Cluster Num ULINT Returns the number of clusters 1402 Version: 2.4.0 TF7000 - TF7810
## Page 1403

API reference Return value HRESULT [} 144] Further information The function F_VN_Get Cluster Num returns the number of clusters in a Clusterer model. Parameter Clusterer model The previously trained Clusterer model must be transferred to ip Clusterer. Number of clusters The number of clusters is returned via n Cluster Num. Application For example, the number of clusters can be determined as follows: hr := F_VN_Get Cluster Num( ip Clusterer := ip Clusterer, n Cluster Num := n Cluster Num, hr Prev := hr); Related functions • F_VN_Get Cluster Center [} 1401] Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.34 F_VN_Get Feature Scales F_VN_Get Feature Scales ip Samples ITc Vn Container HRESULT F_VN_Get Feature Scales ip Scales Reference To ITc Vn Container e Feature Scaling Type ETc Vn Feature Scaling Type hr Prev HRESULT Calculate the scaling parameters for each feature in the input samples based on the scaling type. Syntax Definition: FUNCTION F_VN_Get Feature Scales : HRESULT VAR_INPUT ip Samples : ITc Vn Container; ip Scales : Reference To ITc Vn Container; e Feature Scaling Type : ETc Vn Feature Scaling Type; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1403
## Page 1404

API reference Inputs Name Type Description ip Samples ITc Vn Container [} 374] Container holding input sample(s) (Container Type_Vector_REAL, Container Type_Vector_LREAL, Container Type_Vector_Vector_REAL or Container Type_Vector_Vector_LREAL) ip Scales Reference To Returns a container with the scaling parameters for each feature ITc Vn Container [} 374] (Vector_REAL or Vector_LREAL depending on the type of ip Samples). e Feature Scalin ETc Vn Feature Scaling Type Feature scaling type g Type [} 206] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Get Feature Scales calculates scaling parameters for each feature value of the samples transferred. The corresponding scaling can then be applied using the F_VN_Feature Scaling [} 1392] function for feature normalization. The same scaling can also be used with F_VN_Inverse Feature Scaling [} 1409] to invert the scaling of the prediction results of a regression. Parameter Samples The samples used to calculate the scaling parameters are transferred as containers to ip Samples. The number of feature values must be the same for each sample. Scaling The calculated scaling parameters are returned as a container via the reference ip Scales. The number and order of the elements in the container depend on the scaling type, which is always found in the first element. With MAXABS there is always one scaling value per feature. For the other types, there are always two scaling values per feature. Scaling type The desired scaling type is transferred to e Feature Scaling Type as the enum ETc Vn Feature Scaling Type [} 206]. The options are: • TCVN_FST1_MAXABS: Uses the maximum of the absolute feature values to obtain a normalization in the range from -1 to 1. If all values are positive, normalization is performed from 0 to 1. • TCVN_FST1_MINMAX: Uses the minimum and maximum values of the feature values to obtain a normalization in the range from 0 to 1. • TCVN_FST1_STANDARDIZATION: Uses the mean value and the standard deviation of the feature values to obtain a normalization of the vector mean values equal to 0 and the vector standard deviation equal to 1. Application For example, the calculation of scaling parameters using the MINMAX method looks like this: 1404 Version: 2.4.0 TF7000 - TF7810
## Page 1405

API reference hr := F_VN_Get Feature Scales( ip Samples := ip Samples, ip Scales := ip Scales, e Feature Scaling Type := TCVN_FST1_MINMAX, hr Prev := hr); If the number of feature values per sample in ip Samples is 12, for example, ip Scales will have exactly 1 + 2 * 12 = 25 elements for this scaling type. Related functions • F_VN_Feature Scaling [} 1392] • F_VN_Inverse Feature Scaling [} 1409] Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.35 F_VN_Get Sample Cluster F_VN_Get Sample Cluster ip Clusterer ITc Vn Ml Model HRESULT F_VN_Get Sample Cluster ip Sample ITc Unknown ↔ n Cluster DINT hr Prev HRESULT Get the ID of the best-matching cluster of a single sample. Syntax Definition: FUNCTION F_VN_Get Sample Cluster : HRESULT VAR_INPUT ip Clusterer : ITc Vn Ml Model; ip Sample : ITc Unknown; END_VAR VAR_IN_OUT n Cluster : DINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Clusterer ITc Vn Ml Model [} 422] Clusterer to be used ip Sample ITc Unknown [} 429] Container holding a single input sample (Container Type_Vector_REAL or Container Type_Vector_LREAL) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Cluster DINT Returns the ID of the cluster the sample has been assigned to TF7000 - TF7810 Version: 2.4.0 1405
## Page 1406

API reference Return value HRESULT [} 144] Further information The function F_VN_Get Sample Cluster determines the best matching cluster for a sample and returns its ID. Parameter Clusterer model A previously trained model must be transferred to ip Clusterer for assignment to clusters. Sample A container with a sample is transferred to ip Sample. The type of container must be Container Type_Vector_REAL or Container Type_Vector_LREAL. Cluster ID The ID determined is returned via n Cluster. Expert parameters The expert variant F_VN_Get Sample Cluster Exp [} 1406] contains additional parameters. Application The assignment of a sample to a cluster can be calculated as follows: hr := F_VN_Get Sample Cluster( ip Clusterer := ip Clusterer, ip Sample := ip Sample, n Cluster := n Cluster, hr Prev := hr); Related functions • F_VN_Get Batch Clusters [} 1397] Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.36 F_VN_Get Sample Cluster Exp F_VN_Get Sample Cluster Exp ip Clusterer ITc Vn Ml Model HRESULT F_VN_Get Sample Cluster Exp ip Sample ITc Unknown ↔ n Cluster DINT f Novelty Reference To REAL hr Prev HRESULT Get the ID of the best-matching cluster of a single sample. (expert function) Syntax Definition: 1406 Version: 2.4.0 TF7000 - TF7810
## Page 1407

API reference FUNCTION F_VN_Get Sample Cluster Exp : HRESULT VAR_INPUT ip Clusterer : ITc Vn Ml Model; ip Sample : ITc Unknown; END_VAR VAR_IN_OUT n Cluster : DINT; END_VAR VAR_INPUT f Novelty : Reference To REAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Clusterer ITc Vn Ml Model [} 422] Clusterer to be used ip Sample ITc Unknown [} 429] Container holding a single input sample (Container Type_Vector_REAL or Container Type_Vector_LREAL) f Novelty Reference To REAL Returns the degree of novelty (0.0 if a sample is completely known; > 0.0 otherwise) of the presented sample (optional, set to 0 if not required) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Cluster DINT Returns the ID of the cluster the sample has been assigned to Return value HRESULT [} 144] Further information The function F_VN_Get Sample Cluster Exp is the expert variant of F_VN_Get Sample Cluster [} 1405]. It contains additional parameters. Parameter Clusterer model A previously trained model must be transferred to ip Clusterer for assignment to clusters. Sample A container with a sample is transferred to ip Sample. The type of container must be Container Type_Vector_REAL or Container Type_Vector_LREAL. Cluster ID The ID determined is returned via n Cluster. Degree of novelty The degree of novelty of the sample is returned via the reference f Novelty. The degree of novelty indicates how strongly a sample differs from the clusters. A degree of novelty of 0 indicates that a sample is known to the model. TF7000 - TF7810 Version: 2.4.0 1407
## Page 1408

API reference Application The calculation of the cluster and the degree of novelty of a sample can be calculated as follows: hr := F_VN_Get Sample Cluster Exp( ip Clusterer := ip Clusterer, ip Sample := ip Sample, n Cluster := n Cluster, f Novelty := f Novelty, hr Prev := hr); Related functions • F_VN_Get Sample Novelty [} 1408] • F_VN_Get Batch Clusters [} 1397] • F_VN_Get Batch Novelties [} 1399] Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.37 F_VN_Get Sample Novelty F_VN_Get Sample Novelty ip Novelty Detector ITc Vn Ml Model HRESULT F_VN_Get Sample Novelty ip Sample ITc Unknown ↔ f Novelty REAL hr Prev HRESULT Get the degree of novelty of a single sample. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Get Sample Novelty : HRESULT VAR_INPUT ip Novelty Detector : ITc Vn Ml Model; ip Sample : ITc Unknown; END_VAR VAR_IN_OUT f Novelty : REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Novelty Detec ITc Vn Ml Model [} 422] Novelty detector to be used tor ip Sample ITc Unknown [} 429] Container holding a single input sample (Container Type_Vector_REAL or Container Type_Vector_LREAL) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 1408 Version: 2.4.0 TF7000 - TF7810
## Page 1409

API reference In/Outputs Name Type Description f Novelty REAL Returns the degree of novelty (0.0 if a sample is completely known; > 0.0 otherwise) of the presented sample Return value HRESULT [} 144] Further information The function F_VN_Get Sample Novelty determines the degree of novelty for a sample in a container. Parameter Anomaly model To calculate the degree of novelty, the previously trained model must be transferred to ip Novelty Detector. Sample A container with a sample is transferred to ip Sample Degree of novelty The degree of novelty is returned via the reference f Novelty. The degree of novelty indicates how much a sample differs from the learned data. A degree of novelty of 0 indicates that a sample is known to the model. Application The degree of novelty of a sample can be calculated as follows: hr := F_VN_Get Sample Novelty( ip Novelty Detector := ip Novelty Detector, ip Sample := ip Sample, f Novelty := f Novelty, hr Prev := hr); Related functions • F_VN_Get Batch Novelties [} 1399] Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.38 F_VN_Inverse Feature Scaling F_VN_Inverse Feature Scaling ip Samples ITc Vn Container HRESULT F_VN_Inverse Feature Scaling ip Scales ITc Vn Container ip Inverse Samples Reference To ITc Vn Container hr Prev HRESULT Apply the inverse of feature scaling to one or more sample(s). Syntax Definition: TF7000 - TF7810 Version: 2.4.0 1409
## Page 1410

API reference FUNCTION F_VN_Inverse Feature Scaling : HRESULT VAR_INPUT ip Samples : ITc Vn Container; ip Scales : ITc Vn Container; ip Inverse Samples : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Samples ITc Vn Container [} 374] Container holding one or more input sample(s) (Container Type_Vector_REAL, Container Type_Vector_LREAL, Container Type_Vector_Vector_REAL, or Container Type_Vector_Vector_LREAL) ip Scales ITc Vn Container [} 374] Container with the scaling parameters of each feature (type Container Type_Vector_REAL or Container Type_Vector_LREAL). ip Inverse Sampl Reference To Returns the inversed sample(s) using the scaling type and es ITc Vn Container [} 374] parameters of ip Scales. It has the same type of ip Samples. If the same container ip Samples is used, the source data will be replaced. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Inverse Feature Scaling inverts the scaling of one or more samples. The function F_VN_Feature Scaling [} 1392] can be used for scaling. Parameter Samples One or more samples must be transferred as a container to ip Samples. Scaling A container with the scaling type and the corresponding scaling parameters must be transferred to ip Scales. The container can be calculated using the function F_VN_Get Feature Scales [} 1403] or created using the structure described there. Scaled samples The inversely scaled samples are returned via the reference ip Inverse Samples. Expert parameters The expert variant F_VN_Inverse Feature Scaling Exp [} 1412] contains additional parameters. Application For example, an inverse feature scaling where the scaling was previously calculated using F_VN_Feature Scaling [} 1392] looks like this: hr := F_VN_Feature Scaling(ip Samples, ip Scales, ip Samples Scaled, hr); hr := F_VN_Inverse Feature Scaling( ip Samples := ip Samples Scaled, 1410 Version: 2.4.0 TF7000 - TF7810
## Page 1411

API reference ip Scales := ip Scales, ip Inverse Samples:= ip Samples Inverted Scaling, hr Prev := hr); Related functions • F_VN_Get Feature Scales [} 1403] • F_VN_Feature Scaling [} 1392] • F_VN_Inverse Feature Scaling_REAL [} 1411] Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.39 F_VN_Inverse Feature Scaling_REAL F_VN_Inverse Feature Scaling_REAL f Sample REAL HRESULT F_VN_Inverse Feature Scaling_REAL ip Scales ITc Vn Container ↔ f Inverse Sample REAL hr Prev HRESULT Apply the inverse of feature scaling to a single value. Syntax Definition: FUNCTION F_VN_Inverse Feature Scaling_REAL : HRESULT VAR_INPUT f Sample : REAL; ip Scales : ITc Vn Container; END_VAR VAR_IN_OUT f Inverse Sample : REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description f Sample REAL Sample value ip Scales ITc Vn Container [} 374] Container with the scaling parameters of each feature (type Container Type_Vector_REAL or Container Type_Vector_LREAL). hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description f Inverse Sampl REAL Returns the inversed sample. e TF7000 - TF7810 Version: 2.4.0 1411
## Page 1412

API reference Return value HRESULT [} 144] Further information The function F_VN_Inverse Feature Scaling_REAL inverts the scaling of a sample with only one feature or the prediction value of a scalar regressor. The function F_VN_Feature Scaling [} 1392] can be used for scaling. Parameter Samples A sample of the type REAL must be transferred to f Sample. Scaling A container with the scaling type and the corresponding scaling parameters must be transferred to ip Scales. The container can be calculated using the function F_VN_Get Feature Scales [} 1403] or created using the structure described there. Scaled sample The inversely scaled feature is returned via f Inverse Sample. Expert parameters The expert variant F_VN_Inverse Feature Scaling Exp_REAL [} 1414] contains additional parameters. Application For example, an inverse feature scaling for a sample looks like this: hr := F_VN_Inverse Feature Scaling_REAL( f Sample := f Sample, ip Scales := ip Scales, f Inverse Sample := f Sample Inverted Scaling, hr Prev := hr); Related functions • F_VN_Get Feature Scales [} 1403] • F_VN_Feature Scaling [} 1392] • F_VN_Inverse Feature Scaling [} 1409] Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.40 F_VN_Inverse Feature Scaling Exp F_VN_Inverse Feature Scaling Exp ip Samples ITc Vn Container HRESULT F_VN_Inverse Feature Scaling Exp ip Scales ITc Vn Container ip Inverse Samples Reference To ITc Vn Container f A LREAL f B LREAL hr Prev HRESULT Apply the inverse of feature scaling to one or more sample(s). [f A, f B] should be used if the scaling has been performed using TCVN_FST1_MINMAX with a predetermined output range.. (expert function) 1412 Version: 2.4.0 TF7000 - TF7810
## Page 1413

API reference Syntax Definition: FUNCTION F_VN_Inverse Feature Scaling Exp : HRESULT VAR_INPUT ip Samples : ITc Vn Container; ip Scales : ITc Vn Container; ip Inverse Samples : Reference To ITc Vn Container; f A : LREAL; f B : LREAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Samples ITc Vn Container [} 374] Container holding one or more input sample(s) (Container Type_Vector_REAL, Container Type_Vector_LREAL, Container Type_Vector_Vector_REAL, or Container Type_Vector_Vector_LREAL) ip Scales ITc Vn Container [} 374] Container with the scaling parameters of each feature (type Container Type_Vector_REAL or Container Type_Vector_LREAL). ip Inverse Sampl Reference To Returns the inversed sample(s) using the scaling type and es ITc Vn Container [} 374] parameters of ip Scales. It has the same type of ip Samples. If the same container ip Samples is used, the source data will be replaced. f A LREAL represents the lower bound of the range for TCVN_FST1_MINMAX f B LREAL represents the upper bound of the range for TCVN_FST1_MINMAX hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Inverse Feature Scaling Exp is the expert variant of F_VN_Inverse Feature Scaling [} 1409]. It contains additional parameters. Parameter Samples One or more samples must be transferred as a container to ip Samples. Scaling A container with the scaling type and the corresponding scaling parameters must be transferred to ip Scales. The container can be calculated using the function F_VN_Get Feature Scales [} 1403] or created using the structure described there. Scaled samples The inversely scaled samples are returned via the reference ip Inverse Samples. Defining the output range TF7000 - TF7810 Version: 2.4.0 1413
## Page 1414

API reference If the scaling type TCVN_FST1_MINMAX is used, the value range of the output values can also be specified via f A and f B. Application For example, an inverse feature scaling where the scaling was previously calculated by F_VN_Feature Scaling Exp [} 1394] with an output value range of 0.1 to 0.9 looks like this: hr := F_VN_Feature Scaling Exp(ip Samples, ip Scales, ip Samples Scaled, 0.1, 0.9, hr); hr := F_VN_Inverse Feature Scaling Exp( ip Samples := ip Samples Scaled, ip Scales := ip Scales, ip Inverse Samples:= ip Samples Inverted Scaling, f A := 0.1, f B := 0.9, hr Prev := hr); Related functions • F_VN_Get Feature Scales [} 1403] • F_VN_Feature Scaling [} 1392] • F_VN_Inverse Feature Scaling_REAL [} 1411] Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.41 F_VN_Inverse Feature Scaling Exp_REAL F_VN_Inverse Feature Scaling Exp_REAL f Sample REAL HRESULT F_VN_Inverse Feature Scaling Exp_REAL ip Scales ITc Vn Container ↔ f Inverse Sample REAL f A LREAL f B LREAL hr Prev HRESULT Apply the inverse of feature scaling to a single value. [f A, f B] should be used if the scaling has been performed using TCVN_FST1_MINMAX with a predetermined output range. Syntax Definition: FUNCTION F_VN_Inverse Feature Scaling Exp_REAL : HRESULT VAR_INPUT f Sample : REAL; ip Scales : ITc Vn Container; END_VAR VAR_IN_OUT f Inverse Sample : REAL; END_VAR VAR_INPUT f A : LREAL; f B : LREAL; hr Prev : HRESULT; END_VAR 1414 Version: 2.4.0 TF7000 - TF7810
## Page 1415

API reference Inputs Name Type Description f Sample REAL Sample value ip Scales ITc Vn Container [} 374] Container with the scaling parameters of each feature (type Container Type_Vector_REAL or Container Type_Vector_LREAL). f A LREAL represents the lower bound of the range for TCVN_FST1_MINMAX f B LREAL represents the upper bound of the range for TCVN_FST1_MINMAX hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description f Inverse Sampl REAL Returns the inversed sample. e Return value HRESULT [} 144] Further information The function F_VN_Inverse Feature Scaling Exp_REAL is the expert variant of F_VN_Inverse Feature Scaling_REAL [} 1411]. It contains additional parameters. Parameter Samples A sample of the type REAL must be transferred to f Sample. Scaling A container with the scaling type and the corresponding scaling parameters must be transferred to ip Scales. The container can be calculated using the function F_VN_Get Feature Scales [} 1403] or created using the structure described there. Scaled sample The inversely scaled feature is returned via f Inverse Sample. Defining the output range If the scaling type TCVN_FST1_MINMAX is used, the value range of the output values can also be specified via f A and f B. Application For example, an inverse feature scaling for a sample looks like this: hr := F_VN_Inverse Feature Scaling Exp_REAL( f Sample := f Sample, ip Scales := ip Scales, f Inverse Sample := f Sample Inverted Scaling, f A := 0.1, f B := 0.9, hr Prev := hr); TF7000 - TF7810 Version: 2.4.0 1415
## Page 1416

API reference Related functions • F_VN_Get Feature Scales [} 1403] • F_VN_Feature Scaling [} 1392] • F_VN_Inverse Feature Scaling_REAL [} 1411] Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.42 F_VN_Inverse Feature Transform F_VN_Inverse Feature Transform ip Feature Transform ITc Vn Ml Model HRESULT F_VN_Inverse Feature Transform ip Samples ITc Unknown pip Transformed Pointer To ITc Unknown hr Prev HRESULT Apply an inverse feature transform to one or more sample(s). Syntax Definition: FUNCTION F_VN_Inverse Feature Transform : HRESULT VAR_INPUT ip Feature Transform : ITc Vn Ml Model; ip Samples : ITc Unknown; pip Transformed : Pointer To ITc Unknown; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Feature Trans ITc Vn Ml Model [} 422] Feature transform instance to be used form ip Samples ITc Unknown [} 429] Container holding one or more of input sample(s) (Container Type_Vector_REAL, Container Type_Vector_LREAL, Container Type_Vector_Vector_REAL, or Container Type_Vector_Vector_LREAL) pip Transforme Pointer To ITc Unknown Returns the transformed sample(s) using the same type like d ip Samples [} 429] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Inverse Feature Transform inverts the feature transformation of one or more samples using a transformation model. The direct transformation can be carried out with the same model using the function F_VN_Feature Transform [} 1395]. 1416 Version: 2.4.0 TF7000 - TF7810
## Page 1417

API reference Parameter Transformation model A previously created model must be transferred to ip Feature Transform for feature transformation. Samples A container with the samples to be transformed is transferred to ip Samples. The following container types are permitted: • Container Type_Vector_REAL or Container Type_Vector_LREAL for a single sample • Container Type_Vector_Vector_REAL or Container Type_Vector_Vector_LREAL for a container with several samples. Transformed samples A container with the transformed samples is returned via the pointer pip Transformed. The container type is taken from ip Samples. Application For example, an inverse feature transformation is carried out as follows: hr := F_VN_Inverse Feature Transform( ip Feature Transform := ip Ml Model, ip Samples := ip Samples Transformed, pip Transformed := ADR(ip Transformed), hr Prev := hr); Related functions • F_VN_Feature Transform [} 1395] Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.43 F_VN_Predict Batch F_VN_Predict Batch ip Ml Model ITc Vn Ml Model HRESULT F_VN_Predict Batch ip Samples ITc Unknown ip Predictions Reference To ITc Vn Container hr Prev HRESULT Compute predictions for a batch of samples. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Predict Batch : HRESULT VAR_INPUT ip Ml Model : ITc Vn Ml Model; ip Samples : ITc Unknown; ip Predictions : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1417
## Page 1418

API reference Inputs Name Type Description ip Ml Model ITc Vn Ml Model [} 422] Classifier or regressor to be used ip Samples ITc Unknown [} 429] Container holding a batch of input samples (Container Type_Vector_Vector_REAL or Container Type_Vector_Vector_LREAL) ip Predictions Reference To Returns the predicted outputs (depending on ip Samples; class ITc Vn Container [} 374] labels (for classification, Container Type_Vector_DINT) or real- valued predictions (for regression with scalar output, Container Type_Vector_REAL or Container Type_Vector_LREAL; for regression with vectorial output, Container Type_Vector_Vector_REAL or Container Type_Vector_Vector_LREAL)) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Predict Batch calculates the prediction of a model for several samples. Depending on the type of model, the predictions have a different data type (see ip Predictions). Parameter Model For prediction, the previously trained model must be transferred to ip Ml Model. Samples The samples are transferred to ip Samples in a container. The type of container must be Container Type_Vector_Vector_REAL or Container Type_Vector_Vector_LREAL. Predictions The predictions are returned in a container via the reference ip Predictions. Depending on the type of model, the container has a different type: • Class label for a classification: Container Type_Vector_DINT • Numerical prediction values in a scalar regression: Container Type_Vector_REAL or Container Type_Vector_LREAL, depending on ip Samples • Numerical prediction values in a vector regression: Container Type_Vector_Vector_REAL or Container Type_Vector_Vector_LREAL, depending on ip Samples Expert parameters The expert variant F_VN_Predict Batch Exp [} 1419] contains additional parameters. Application For example, several samples can be classified at the same time: hr := F_VN_Predict Batch( ip Ml Model := ip Ml Model, ip Samples := ip Samples, ip Predictions := ip Predictions, hr Prev := hr); hr := F_VN_Get At_DINT(ip Predictions, n Class Of Third Sample, 2, hr); 1418 Version: 2.4.0 TF7000 - TF7810
## Page 1419

API reference The call of F_VN_Get At_DINT shows how the class label of the 3rd sample can be get from the predictions. Related functions • F_VN_Predict Sample Class [} 1421] • F_VN_Predict Sample Scalar [} 1424] • F_VN_Predict Sample Vector [} 1427] Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.44 F_VN_Predict Batch Exp F_VN_Predict Batch Exp ip Ml Model ITc Vn Ml Model HRESULT F_VN_Predict Batch Exp ip Samples ITc Unknown ip Predictions Reference To ITc Vn Container ip Novelties Reference To ITc Vn Container hr Prev HRESULT Compute predictions for a batch of samples. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Predict Batch Exp : HRESULT VAR_INPUT ip Ml Model : ITc Vn Ml Model; ip Samples : ITc Unknown; ip Predictions : Reference To ITc Vn Container; ip Novelties : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Ml Model ITc Vn Ml Model [} 422] Classifier or regressor to be used ip Samples ITc Unknown [} 429] Container holding a batch of input samples (Container Type_Vector_Vector_REAL or Container Type_Vector_Vector_LREAL) ip Predictions Reference To Returns the predicted outputs (depending on ip Samples; class ITc Vn Container [} 374] labels (for classification, Container Type_Vector_DINT) or real- valued predictions (for regression with scalar output, Container Type_Vector_REAL or Container Type_Vector_LREAL; for regression with vectorial output, Container Type_Vector_Vector_REAL or Container Type_Vector_Vector_LREAL)) ip Novelties Reference To Returns the degree of novelty (0.0 if a sample is completely ITc Vn Container [} 374] known; > 0.0 otherwise) of each sample (Container Type_Vector_REAL; optional, set to 0 if not required) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 1419
## Page 1420

API reference Return value HRESULT [} 144] Further information The function F_VN_Predict Batch Exp is the expert variant of F_VN_Predict Batch [} 1417]. It contains additional parameters. Parameter Model For prediction, the previously trained model must be transferred to ip Ml Model. Samples The samples are transferred to ip Samples in a container. The type of container must be Container Type_Vector_Vector_REAL or Container Type_Vector_Vector_LREAL. Predictions The predictions are returned in a container via the reference ip Predictions. Depending on the type of model, the container has a different type: • Class label for a classification: Container Type_Vector_DINT • Numerical prediction values in a scalar regression: Container Type_Vector_REAL or Container Type_Vector_LREAL, depending on ip Samples • Numerical prediction values in a vector regression: Container Type_Vector_Vector_REAL or Container Type_Vector_Vector_LREAL, depending on ip Samples Degrees of novelty The degrees of novelty of the samples are returned as containers via the reference ip Novelties. Application For example, several samples can be classified at the same time: hr := F_VN_Predict Batch Exp( ip Ml Model := ip Ml Model, ip Samples := ip Samples, ip Predictions := ip Predictions, ip Novelties := ip Novelties, hr Prev := hr); hr := F_VN_Get At_DINT(ip Predictions, n Class Of Third Sample, 2, hr); The call of F_VN_Get At_DINT shows how the class label of the 3rd sample can be get from the predictions. Related functions • F_VN_Predict Sample Class [} 1421] • F_VN_Predict Sample Scalar [} 1424] • F_VN_Predict Sample Vector [} 1427] • F_VN_Get Batch Novelties [} 1408] Required License TC3 Machine Learning Realtime Inference 1420 Version: 2.4.0 TF7000 - TF7810
## Page 1421

API reference System Requirements 6.1.4.19.45 F_VN_Predict Sample Class F_VN_Predict Sample Class ip Classifier ITc Vn Ml Model HRESULT F_VN_Predict Sample Class ip Sample ITc Unknown ↔ n Class DINT hr Prev HRESULT Classify a single sample. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Predict Sample Class : HRESULT VAR_INPUT ip Classifier : ITc Vn Ml Model; ip Sample : ITc Unknown; END_VAR VAR_IN_OUT n Class : DINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Classifier ITc Vn Ml Model [} 422] Classifier to be used ip Sample ITc Unknown [} 429] Container holding a single input sample (Container Type_Vector_REAL or Container Type_Vector_LREAL) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Class DINT Returns the classification result Return value HRESULT [} 144] Further information The function F_VN_Predict Sample Class classifies a sample based on a classification model. Parameter Classification model The previously trained classification model must be transferred to ip Classifier. Sample TF7000 - TF7810 Version: 2.4.0 1421
## Page 1422

API reference The samples are transferred to ip Sample in a container. The container type must be either Container Type_Vector_REAL or Container Type_Vector_LREAL. Class The class of the sample is returned as the classification result via n Class. Expert parameters The expert variant F_VN_Predict Sample Class Exp [} 1422] contains additional parameters. Application For example, a sample can be classified as follows: hr := F_VN_Predict Sample Class( ip Classifier := ip Ml Model, ip Sample := ip Sample, n Class := n Class Result, hr Prev := hr); Related functions • F_VN_Predict Batch [} 1417] Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.46 F_VN_Predict Sample Class Exp F_VN_Predict Sample Class Exp ip Classifier ITc Vn Ml Model HRESULT F_VN_Predict Sample Class Exp ip Sample ITc Unknown ↔ n Class DINT f Novelty Reference To REAL hr Prev HRESULT Classify a single sample. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Predict Sample Class Exp : HRESULT VAR_INPUT ip Classifier : ITc Vn Ml Model; ip Sample : ITc Unknown; END_VAR VAR_IN_OUT n Class : DINT; END_VAR VAR_INPUT f Novelty : Reference To REAL; hr Prev : HRESULT; END_VAR 1422 Version: 2.4.0 TF7000 - TF7810
## Page 1423

API reference Inputs Name Type Description ip Classifier ITc Vn Ml Model [} 422] Classifier to be used ip Sample ITc Unknown [} 429] Container holding a single input sample (Container Type_Vector_REAL or Container Type_Vector_LREAL) f Novelty Reference To REAL Returns the degree of novelty (0.0 if a sample is completely known; > 0.0 otherwise) of the presented sample (optional, set to 0 if not required) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description n Class DINT Returns the classification result Return value HRESULT [} 144] Further information The function F_VN_Predict Sample Class Exp is the expert variant of F_VN_Predict Sample Class [} 1421]. It contains additional parameters. Parameter Classification model The previously trained classification model must be transferred to ip Classifier. Sample The samples are transferred to ip Sample in a container. The container type must be either Container Type_Vector_REAL or Container Type_Vector_LREAL. Class The class of the sample is returned as the classification result via n Class. Degree of novelty The degree of novelty of the sample is returned via f Novelty. Application For example, a sample can be classified as follows: hr := F_VN_Predict Sample Class Exp( ip Classifier := ip Ml Model, ip Sample := ip Sample, n Class := n Class Result, f Novelty := f Novelty, hr Prev := hr); Related functions • F_VN_Get Sample Novelty [} 1408] • F_VN_Predict Batch [} 1417] TF7000 - TF7810 Version: 2.4.0 1423
## Page 1424

API reference Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.47 F_VN_Predict Sample Scalar F_VN_Predict Sample Scalar ip Regressor ITc Vn Ml Model HRESULT F_VN_Predict Sample Scalar ip Sample ITc Unknown ↔ f Prediction REAL hr Prev HRESULT Compute a scalar prediction for a single sample. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Predict Sample Scalar : HRESULT VAR_INPUT ip Regressor : ITc Vn Ml Model; ip Sample : ITc Unknown; END_VAR VAR_IN_OUT f Prediction : REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Regressor ITc Vn Ml Model [} 422] Regressor to be used ip Sample ITc Unknown [} 429] Container holding a single input sample (Container Type_Vector_REAL or Container Type_Vector_LREAL) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description f Prediction REAL Returns the predicted output Return value HRESULT [} 144] Further information The function F_VN_Predict Sample Scalar calculates the scalar prediction value of a sample based on a regression model. Parameter Regression model 1424 Version: 2.4.0 TF7000 - TF7810
## Page 1425

API reference The previously trained regression model must be transferred to ip Regressor. Sample The sample container is transferred as ip Sample. The container type must be either Container Type_Vector_REAL or Container Type_Vector_LREAL. Prediction The calculated prediction value is returned via f Prediction. Expert parameters The expert variant F_VN_Predict Sample Scalar Exp [} 1425] contains additional parameters. Application For example, the prediction value of a sample can be calculated as follows: hr := F_VN_Predict Sample Scalar( ip Regressor := ip Regressor, ip Sample := ip Sample, f Prediction := f Prediction, hr Prev := hr); Related functions • F_VN_Predict Batch [} 1417] Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.48 F_VN_Predict Sample Scalar Exp F_VN_Predict Sample Scalar Exp ip Regressor ITc Vn Ml Model HRESULT F_VN_Predict Sample Scalar Exp ip Sample ITc Unknown ↔ f Prediction REAL f Novelty Reference To REAL hr Prev HRESULT Compute a scalar prediction for a single sample. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Predict Sample Scalar Exp : HRESULT VAR_INPUT ip Regressor : ITc Vn Ml Model; ip Sample : ITc Unknown; END_VAR VAR_IN_OUT f Prediction : REAL; END_VAR VAR_INPUT f Novelty : Reference To REAL; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1425
## Page 1426

API reference Inputs Name Type Description ip Regressor ITc Vn Ml Model [} 422] Regressor to be used ip Sample ITc Unknown [} 429] Container holding a single input sample (Container Type_Vector_REAL or Container Type_Vector_LREAL) f Novelty Reference To REAL Returns the degree of novelty (0.0 if a sample is completely known; > 0.0 otherwise) of the presented sample (optional, set to 0 if not required) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description f Prediction REAL Returns the predicted output Return value HRESULT [} 144] Further information The function F_VN_Predict Sample Scalar Exp is the expert variant of F_VN_Predict Sample Scalar [} 1424]. It contains additional parameters. Parameter Regression model The previously trained regression model must be transferred to ip Regressor. Sample The sample container is transferred as ip Sample. The container type must be either Container Type_Vector_REAL or Container Type_Vector_LREAL. Prediction The calculated prediction value is returned via f Prediction. Degree of novelty The degree of novelty of the sample is returned via f Novelty. Application For example, the regression value of a sample can be calculated as follows: hr := F_VN_Predict Sample Scalar Exp( ip Regressor := ip Regressor, ip Sample := ip Sample, f Prediction := f Prediction, f Novelty := f Novelty, hr Prev := hr); Related functions • F_VN_Predict Batch [} 1417] • F_VN_Get Batch Novelties [} 1408] 1426 Version: 2.4.0 TF7000 - TF7810
## Page 1427

API reference Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.49 F_VN_Predict Sample Vector F_VN_Predict Sample Vector ip Regressor ITc Vn Ml Model HRESULT F_VN_Predict Sample Vector ip Sample ITc Unknown ip Prediction Reference To ITc Vn Container hr Prev HRESULT Compute a vectorial prediction for a single sample. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Predict Sample Vector : HRESULT VAR_INPUT ip Regressor : ITc Vn Ml Model; ip Sample : ITc Unknown; ip Prediction : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Regressor ITc Vn Ml Model [} 422] Regressor to be used ip Sample ITc Unknown [} 429] Container holding a single input sample (Container Type_Vector_REAL or Container Type_Vector_LREAL) ip Prediction Reference To Returns the predicted output (Container Type_Vector_REAL or ITc Vn Container [} 374] Container Type_Vector_LREAL, depending on ip Sample) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Predict Sample Vector calculates the prediction vector of a sample based on a regression model. Parameter Regression model The previously trained regression model must be transferred to ip Regressor. Sample The sample container is transferred as ip Sample. The container type must be either Container Type_Vector_REAL or Container Type_Vector_LREAL. Prediction TF7000 - TF7810 Version: 2.4.0 1427
## Page 1428

API reference The calculated prediction vector is returned as a container via the reference ip Prediction. The container type is taken from ip Samples. Expert parameters The expert variant F_VN_Predict Sample Vector Exp [} 1428] contains additional parameters. Application For example, the prediction vector of a sample can be calculated as follows: hr := F_VN_Predict Sample Vector( ip Regressor := ip Regressor, ip Sample := ip Sample, ip Prediction:= ip Prediction, hr Prev := hr); Related functions • F_VN_Predict Batch [} 1417] Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.50 F_VN_Predict Sample Vector Exp F_VN_Predict Sample Vector Exp ip Regressor ITc Vn Ml Model HRESULT F_VN_Predict Sample Vector Exp ip Sample ITc Unknown ip Prediction Reference To ITc Vn Container f Novelty Reference To REAL hr Prev HRESULT Compute a vectorial prediction for a single sample. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Predict Sample Vector Exp : HRESULT VAR_INPUT ip Regressor : ITc Vn Ml Model; ip Sample : ITc Unknown; ip Prediction : Reference To ITc Vn Container; f Novelty : Reference To REAL; hr Prev : HRESULT; END_VAR 1428 Version: 2.4.0 TF7000 - TF7810
## Page 1429

API reference Inputs Name Type Description ip Regressor ITc Vn Ml Model [} 422] Regressor to be used ip Sample ITc Unknown [} 429] Container holding a single input sample (Container Type_Vector_REAL or Container Type_Vector_LREAL) ip Prediction Reference To Returns the predicted output (Container Type_Vector_REAL or ITc Vn Container [} 374] Container Type_Vector_LREAL, depending on ip Sample) f Novelty Reference To REAL Returns the degree of novelty (0.0 if a sample is completely known; > 0.0 otherwise) of the presented sample (optional, set to 0 if not required) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Predict Sample Vector Exp is the expert variant of F_VN_Predict Sample Vector [} 1427]. It contains additional parameters. Parameter Regression model The previously trained regression model must be transferred to ip Regressor. Sample The sample container is transferred as ip Sample. The container type must be either Container Type_Vector_REAL or Container Type_Vector_LREAL. Prediction The calculated prediction vector is returned as a container via the reference ip Prediction. The container type is taken from ip Samples. Degree of novelty The degree of novelty of the sample is returned via f Novelty. Application For example, the prediction vector of a sample can be calculated as follows: hr := F_VN_Predict Sample Vector Exp( ip Regressor := ip Regressor, ip Sample := ip Sample, ip Prediction:= ip Prediction, f Novelty := f Novelty, hr Prev := hr); Related functions • F_VN_Predict Batch [} 1417] • F_VN_Get Batch Novelties [} 1408] TF7000 - TF7810 Version: 2.4.0 1429
## Page 1430

API reference Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.51 F_VN_Train Batch F_VN_Train Batch ip Ml Model ITc Vn Ml Model HRESULT F_VN_Train Batch ip Samples ITc Unknown ip Outputs ITc Vn Container hr Prev HRESULT Train a classifier, a clusterer, a novelty detector, or a regressor with a batch of samples. On-line trainable models are trained once with each sample. Depending on the application and the number of available training samples, repeated training of such models with the same data may improve the results. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Train Batch : HRESULT VAR_INPUT ip Ml Model : ITc Vn Ml Model; ip Samples : ITc Unknown; ip Outputs : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Ml Model ITc Vn Ml Model [} 422] Classifier, clusterer, novelty detector, or regressor to be used ip Samples ITc Unknown [} 429] Container holding a batch of input samples (Container Type_Vector_Vector_REAL or Container Type_Vector_Vector_LREAL) ip Outputs ITc Vn Container [} 374] Class labels (for classification, Container Type_Vector_DINT) or target outputs (for regression with scalar output, Container Type_Vector_REAL or Container Type_Vector_LREAL; for regression with vectorial output, Container Type_Vector_Vector_REAL or Container Type_Vector_Vector_LREAL) to be learnt (must be 0 for clusterers and for novelty detectors) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Train Batch trains a model with several samples. Depending on the type of model, the result values must have a different type (see ip Outputs). Classifier, clusterer, novelty detector and regressor are supported as model types. 1430 Version: 2.4.0 TF7000 - TF7810
## Page 1431

API reference Parameter Model The previously created model must be transferred to ip Ml Model. Samples The samples are transferred to ip Samples in a container. The type of container must be Container Type_Vector_Vector_REAL or Container Type_Vector_Vector_LREAL. Results The known results for the samples are transferred to ip Outputs in a container. Depending on the type of model, the container must have a different type: • Class label for a classification: Container Type_Vector_DINT • Numerical result values for a scalar regression: Container Type_Vector_REAL or Container Type_Vector_LREAL • Numerical result values for a vector regression: Container Type_Vector_Vector_REAL or Container Type_Vector_Vector_LREAL If it is a Clusterer model or a novelty detector, it must be ip Outputs := 0. Application For example, an ML model for classification can be trained like this: hr := F_VN_Train Batch( ip Ml Model := ip Ml Model, ip Samples := ip Samples, ip Outputs := ip Class Labels, hr Prev := hr); Related functions • F_VN_Train Batch Clusters [} 1431] • F_VN_Train Sample [} 1433] • F_VN_Train Sample Class [} 1434] • F_VN_Train Sample Cluster [} 1436] • F_VN_Train Sample Scalar [} 1437] • F_VN_Train Sample Vector [} 1438] Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.52 F_VN_Train Batch Clusters F_VN_Train Batch Clusters ip Clusterer ITc Vn Ml Model HRESULT F_VN_Train Batch Clusters ip Samples ITc Unknown ip Clusters Reference To ITc Vn Container hr Prev HRESULT Train a clusterer with a batch of samples and return the IDs of the clusters the samples have been assigned to, if requested. On-line trainable clusterers are trained once with each sample. Depending on the application and the number of available training samples, repeated training of such models with the same data may improve the results. Can use available Twin CAT Job Tasks for executing parallel code regions. TF7000 - TF7810 Version: 2.4.0 1431
## Page 1432

API reference Syntax Definition: FUNCTION F_VN_Train Batch Clusters : HRESULT VAR_INPUT ip Clusterer : ITc Vn Ml Model; ip Samples : ITc Unknown; ip Clusters : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Clusterer ITc Vn Ml Model [} 422] Clusterer to be used ip Samples ITc Unknown [} 429] Container holding a batch of input samples (Container Type_Vector_Vector_REAL or Container Type_Vector_Vector_LREAL) ip Clusters Reference To Returns the IDs of the clusters the samples have been assigned ITc Vn Container [} 374] to (Container Type_Vector_DINT; optional, set to 0 if not required) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Train Batch Clusters trains a Clusterer model with several samples. Compared to F_VN_Train Batch [} 1430], the assigned clusters can also be returned for each sample. Parameter Clusterer model The previously created Clusterer model must be transferred to ip Clusterer. Samples The samples are transferred to ip Samples in a container. The type of container must be Container Type_Vector_Vector_REAL or Container Type_Vector_Vector_LREAL. Clusters The IDs of the assigned clusters are returned in a container of the type Container Type_Vector_DINT via the reference ip Clusters. Application For example, a Clusterer model can be trained like this: hr := F_VN_Train Batch Clusters( ip Clusterer := ip Cluster Model, ip Samples := ip Samples, ip Clusters := ip Clusters, hr Prev := hr); hr := F_VN_Get At_DINT(ip Clusters, n Cluster Of Third Sample, 2, hr); The call of F_VN_Get At_DINT shows how the cluster assignment of the 3rd sample can be queried directly after training. 1432 Version: 2.4.0 TF7000 - TF7810
## Page 1433

API reference Related functions • F_VN_Train Batch [} 1430] • F_VN_Train Sample [} 1433] • F_VN_Train Sample Class [} 1434] • F_VN_Train Sample Cluster [} 1436] • F_VN_Train Sample Scalar [} 1437] • F_VN_Train Sample Vector [} 1438] Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.53 F_VN_Train Sample F_VN_Train Sample ip Ml Model ITc Vn Ml Model HRESULT F_VN_Train Sample ip Sample ITc Unknown hr Prev HRESULT Train a clusterer or a novelty detector with a single sample. Syntax Definition: FUNCTION F_VN_Train Sample : HRESULT VAR_INPUT ip Ml Model : ITc Vn Ml Model; ip Sample : ITc Unknown; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Ml Model ITc Vn Ml Model [} 422] Clusterer or novelty detector to be used ip Sample ITc Unknown [} 429] Container holding a single input sample (Container Type_Vector_REAL or Container Type_Vector_LREAL) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Train Sample trains a clusterer or novelty detection model with a sample. Parameter Model The previously created model must be transferred to ip Ml Model. TF7000 - TF7810 Version: 2.4.0 1433
## Page 1434

API reference Sample The sample container is transferred to ip Sample. The type of container must be Container Type_Vector_REAL or Container Type_Vector_LREAL. Application For example, an ML model can be trained with a sample as follows: hr := F_VN_Train Sample( ip Ml Model := ip Ml Model, ip Sample := ip Sample, hr Prev := hr); Related functions • F_VN_Train Batch [} 1430] • F_VN_Train Batch Clusters [} 1431] • F_VN_Train Sample Class [} 1434] • F_VN_Train Sample Cluster [} 1436] • F_VN_Train Sample Scalar [} 1437] • F_VN_Train Sample Vector [} 1438] Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.54 F_VN_Train Sample Class F_VN_Train Sample Class ip Classifier ITc Vn Ml Model HRESULT F_VN_Train Sample Class ip Sample ITc Unknown n Class DINT hr Prev HRESULT Train a classifier with a single sample. Syntax Definition: FUNCTION F_VN_Train Sample Class : HRESULT VAR_INPUT ip Classifier : ITc Vn Ml Model; ip Sample : ITc Unknown; n Class : DINT; hr Prev : HRESULT; END_VAR 1434 Version: 2.4.0 TF7000 - TF7810
## Page 1435

API reference Inputs Name Type Description ip Classifier ITc Vn Ml Model [} 422] Classifier to be used ip Sample ITc Unknown [} 429] Container holding a single input sample (Container Type_Vector_REAL or Container Type_Vector_LREAL) n Class DINT Class label to be learnt hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Train Sample Class trains a classifier model with a sample. Parameter Classifier model The previously created classifier model must be transferred to ip Classifier. Sample The sample container is transferred to ip Sample. The type of container must be Container Type_Vector_REAL or Container Type_Vector_LREAL. Class The target class for the sample is transferred as n Class. Application For example, a classifier model can be trained with single samples as follows: hr := F_VN_Train Sample Class( ip Classifier := ip Ml Model, ip Sample := ip Sample, n Class := n Class, hr Prev := hr); Related functions • F_VN_Train Batch [} 1430] • F_VN_Train Batch Clusters [} 1431] • F_VN_Train Sample [} 1433] • F_VN_Train Sample Cluster [} 1436] • F_VN_Train Sample Scalar [} 1437] • F_VN_Train Sample Vector [} 1438] Required License TC3 Machine Learning Realtime Inference TF7000 - TF7810 Version: 2.4.0 1435
## Page 1436

API reference System Requirements 6.1.4.19.55 F_VN_Train Sample Cluster F_VN_Train Sample Cluster ip Clusterer ITc Vn Ml Model HRESULT F_VN_Train Sample Cluster ip Sample ITc Unknown n Cluster Reference To DINT hr Prev HRESULT Train a clusterer with a single sample and return the ID of the cluster the sample has been assigned to, if requested. The clusterer must be online trainable. Syntax Definition: FUNCTION F_VN_Train Sample Cluster : HRESULT VAR_INPUT ip Clusterer : ITc Vn Ml Model; ip Sample : ITc Unknown; n Cluster : Reference To DINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Clusterer ITc Vn Ml Model [} 422] Clusterer to be used ip Sample ITc Unknown [} 429] Container holding a single input sample (Container Type_Vector_REAL or Container Type_Vector_LREAL) n Cluster Reference To DINT Returns the ID of the cluster the sample has been assigned to (If the pointer is 0, no cluster ID is requested.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Train Sample Cluster trains a clusterer model with a sample and returns the corresponding cluster ID of the sample. Parameter Clusterer model The previously created Clusterer model must be transferred to ip Clusterer. Sample The sample container is transferred as ip Sample. The type of container must be Container Type_Vector_REAL or Container Type_Vector_LREAL. Cluster The cluster ID associated with the sample is returned via n Cluster. 1436 Version: 2.4.0 TF7000 - TF7810
## Page 1437

API reference Application For example, a Clusterer model can be trained with a single sample as follows: hr := F_VN_Train Sample Cluster( ip Clusterer := ip Cluster Model, ip Sample := ip Sample, n Cluster := n Cluster, hr Prev := hr); Related functions • F_VN_Train Batch [} 1430] • F_VN_Train Batch Clusters [} 1431] • F_VN_Train Sample [} 1433] • F_VN_Train Sample Class [} 1434] • F_VN_Train Sample Scalar [} 1437] • F_VN_Train Sample Vector [} 1438] Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.56 F_VN_Train Sample Scalar F_VN_Train Sample Scalar ip Regressor ITc Vn Ml Model HRESULT F_VN_Train Sample Scalar ip Sample ITc Unknown f Output REAL hr Prev HRESULT Train a regressor with a single sample and scalar output. Syntax Definition: FUNCTION F_VN_Train Sample Scalar : HRESULT VAR_INPUT ip Regressor : ITc Vn Ml Model; ip Sample : ITc Unknown; f Output : REAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Regressor ITc Vn Ml Model [} 422] Regressor to be used ip Sample ITc Unknown [} 429] Container holding a single input sample (Container Type_Vector_REAL or Container Type_Vector_LREAL) f Output REAL Scalar output to be learnt hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 1437
## Page 1438

API reference Return value HRESULT [} 144] Further information The function F_VN_Train Sample Scalar trains a scalar regressor model with a sample. Parameter Regressor model The previously created regressor model must be transferred to ip Regressor. Sample The sample container is transferred as ip Sample. The type of container must be Container Type_Vector_REAL or Container Type_Vector_LREAL. Training value The result value of the sample is transferred to f Output. Application For example, a scalar regressor model can be trained with a single sample as follows: hr := F_VN_Train Sample Scalar( ip Regressor := ip Regressor Model, ip Sample := ip Sample, f Output := f Output, hr Prev := hr); Related functions • F_VN_Train Batch [} 1430] • F_VN_Train Batch Clusters [} 1431] • F_VN_Train Sample [} 1433] • F_VN_Train Sample Class [} 1434] • F_VN_Train Sample Cluster [} 1436] • F_VN_Train Sample Vector [} 1438] Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.19.57 F_VN_Train Sample Vector F_VN_Train Sample Vector ip Regressor ITc Vn Ml Model HRESULT F_VN_Train Sample Vector ip Sample ITc Unknown ip Output ITc Vn Container hr Prev HRESULT Train a regressor with a single sample and vectorial output. Syntax Definition: 1438 Version: 2.4.0 TF7000 - TF7810
## Page 1439

API reference FUNCTION F_VN_Train Sample Vector : HRESULT VAR_INPUT ip Regressor : ITc Vn Ml Model; ip Sample : ITc Unknown; ip Output : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Regressor ITc Vn Ml Model [} 422] Regressor to be used ip Sample ITc Unknown [} 429] Container holding a single input sample (Container Type_Vector_REAL or Container Type_Vector_LREAL) ip Output ITc Vn Container [} 374] Vectorial output to be learnt (Container Type_Vector_REAL or Container Type_Vector_LREAL) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Train Sample Vector trains a vector regressor model with a sample. Parameter Regressor model The previously created regressor model must be transferred to ip Regressor. Sample The sample container is transferred as ip Sample. The type of container must be Container Type_Vector_REAL or Container Type_Vector_LREAL. Training vector The result vector of the sample is transferred to ip Output. Application For example, a vector regressor model can be trained with a single sample as follows: hr := F_VN_Train Sample Vector( ip Regressor := ip Regressor Model, ip Sample := ip Sample, ip Output := ip Vector, hr Prev := hr); Related functions • F_VN_Train Batch [} 1430] • F_VN_Train Batch Clusters [} 1431] • F_VN_Train Sample [} 1433] • F_VN_Train Sample Class [} 1434] • F_VN_Train Sample Cluster [} 1436] • F_VN_Train Sample Scalar [} 1437] TF7000 - TF7810 Version: 2.4.0 1439
## Page 1440

API reference Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.20 Measurement The group contains functions for the measurement of objects in images. Functions Edge localization • Locate Circular Arc [} 1448] for localizing proportional circular arcs • Locate Edge [} 1458] for localizing linear edges • Locate Edges [} 1467] for localizing several linear edges • Locate Ellipse [} 1477] for localizing complete ellipses Geometrical features • Closest Points BF [} 1447] for calculating the closest points in two point clouds • Measure Angle Between Edges [} 1486] for measuring the angle between two edges • Measure Edge Distance [} 1494] for measuring the average distance between two edges • Measure Min Edge Distance [} 1504] for measuring the minimum distance between two edges Miscellaneous • F_VN_Adjust Search Window Orientation To Linear Edge [} 1445] for aligning the search field to an edge Parameters for edge localization The borders of an image object often don't lie exactly on the border between two pixels. Instead, they run independently of pixel grids. Therefore edge localization with sub-pixel accuracy is necessary. This not only considers the transition between two pixels, but also determines the edge position within a pixel on the basis of the overall intensity gradient of an object border. NOTICE Don't process the image before measuring Don't process the image before calling the measurement function. Processing can lead to loss of information and lower accuracy accordingly. This basic functionality of edge localization is used by all measurement functions. The functions differ mainly by the geometric arrangement in which they perform the edge localization (e.g. F_VN_Locate Ellipse [} 1477] for round objects) and the properties that you calculate from them (e.g. F_VN_Measure Angle Between Edges [} 1486] for angle measurement). Certain parameters must be defined for each function that uses edge localization. These include: • Definition of the search area: where is the edge sought? • Definition of edge contrast: What is detected as an edge? • Definition of the measurement algorithm: How to determine the exact position of the edge. These parameters are described below. In the case of expert parameters, standard values are specified in addition. Search area 1440 Version: 2.4.0 TF7000 - TF7810
## Page 1441

API reference Parameter Description Position of the search lines The position of the search lines is defined according to the feature to be localized. The position of search lines for a linear edge is defined as a single line with the a Start Point start point and a End Point end point. The position of search lines for an ellipse is defined by a a Center center point and a f Search Radius radius. The position of search lines for angles is defined by a a Inner Point inner point and two a Outer Point1 and a Outer Point2 outer points. The position of the search lines should always be set such that the search lines cut the edges to be localized orthogonally. A rectangular search area can be adjusted orthogonally to an edge with the function F_VN_Adjust Search Window Orientation To Linear Edge [} 1445]. Number of search lines This specifies how many search lines are to be used for the edge localization. The simplest edge n Search Lines : UDINT localization has one search line on which the edge must be found. Depending on the geometric feature to be determined, multiple search lines are distributed locally so that several edge transitions are localized. This can be necessary in the following cases: • Not only the position, but also the gradient or the rotation of the edge are required. • The geometrical feature (e.g. ellipse) necessitates several search lines. • An average value is required. When localizing linear edges, the search lines are arranged symmetrically on both sides of the central search line, the central search line being included in n Search Lines. Thus, an odd number of search lines is always required. Distance between the search lines The search lines distance defines the distance between neighboring search lines in pixels (> 0, f Searchline Dist : REAL default 1). This allows flexible balancing between (Expert) accuracy and computing time. Default: 1 Inversion of the search direction The localization algorithm always searches for the edge from one end of the search line to the other. b Invert Search Direction : BOOL e.g. searching takes place from a Start Point to (Expert) a End Point. If it is necessary to invert this search Default: FALSE direction due to the image properties (i.e. to start from the other end of the search lines), this parameter helps. Edge contrast TF7000 - TF7810 Version: 2.4.0 1441
## Page 1442

API reference Parameter Description Edge direction The edge direction determines whether an edge transition from light to dark or from dark to light e Edge Direction : ETc Vn Edge Direction should be found. The following values are available for this: • TCVN_ED_DARK_TO_LIGHT • TCVN_ED_LIGHT_TO_DARK Minimum strength The minimum strength defines the minimum difference in intensity required within an edge for it to f Min Strength : LREAL be found. This makes it possible to control how much contrast an edge must have in order to be found. Maximum thickness The maximum thickness specifies the number of pixels within which f Min Strength must be reached. n Max Thickness : UDINT This allows you to control whether only sharp edges (Expert) or also very blurred edges are to be found. Default: 10 Algorithm 1442 Version: 2.4.0 TF7000 - TF7810
## Page 1443

API reference Parameter Description Algorithm This parameter defines the localization algorithm used. The available options are: e Algorithm : ETc Vn Edge Detection Algorithm • TCVN_EDA_INTERPOLATION (Expert) • TCVN_EDA_APPROX_ERF Default: TCVN_EDA_INTERPOLATION • TCVN_EDA_APPROX_GAUSSIAN TCVN_EDA_APPROX_ERF and TCVN_EDA_APPROX_GAUSSIAN are slower than the TCVN_EDA_INTERPOLATION standard algorithm, but can achieve higher accuracy. The prerequisite for this, however, is that the intensity gradient of the edge also corresponds as well as possible to the specified model. The erf error function or the Gaussian function is used as a model. The erf function is well suited for edges if the transition from bright to dark extends over several pixels and remains approximately constant on both sides of the light or dark area respectively. A Gaussian function is well suited for lines, i.e. a dark-light-dark transition or vice versa. However, the brightness plateau may only be a few pixels wide, otherwise the erf function should be used. Subpixels / Iterations The meaning of this parameter depends on the localization algorithm used. n Subpixels Iterations : UDINT At TCVN_EDA_INTERPOLATION: (Expert) the number of subpixels considered defines the fine Default: 10 granularity with which the search line evaluates the underlying pixel intensities. A value of 10, for example, specifies that 10 measured values are taken over a length of 1 pixel. Recommended: 5 - 10 At TCVN_EDA_APPROX_ERF and TCVN_EDA_APPROX_GAUSSIAN: the number of iterations is an abort criterion that defines the maximum number of iterations with which the edge model is to be approximated for the pixel intensities. More iterations increase the runtime; if this is too high the interpolation method should be used. Recommended: 50 - 100 Approximation accuracy The approximation accuracy is a further abort criterion of the edge localization. It is only observed if f Approx Precision : REAL the localization algorithm is TCVN_EDA_APPROX_ERF (Expert) or TCVN_EDA_APPROX_GAUSSIAN. Default: 0.001 The approximation of the edge or line is aborted if either the number of iterations of n Sub Pixel Iterations is reached or the relative TF7000 - TF7810 Version: 2.4.0 1443
## Page 1444

API reference Parameter Description deviation in pixels is less than f Approximation Precision for two consecutive iterations Recommended: 0.01 - 0.0001 Limitation of the edge width The factor for the relative edge strength of -0.9 to 0.9 limits the intensity range of the pixels used for the f Range Cutoff Factor : REAL approximation. The parameter is only observed if the (Expert) localization algorithm is TCVN_EDA_APPROX_ERF or Default: 0.135 TCVN_EDA_APPROX_GAUSSIAN. Negative numbers are permissible in order to take into account noise, i.e. differences in intensity in the other edge direction. However, a negative value can lead to a deterioration in the results, especially if two edges are close together. A maximum of n Max Thickness pixels are taken into account in both directions. Interpretation of the HRESULT The HRESULT [} 144] return values have the following meaning: Code Name Description 16#000 S_OK Function was successfully executed and an edge was located on all search lines. 16#001 S_FALSE Function was successfully executed, but edges were not located on each search line. 16#256 S_WATCHDOGTIME Function was aborted by the watchdog. In this case, all measurement OUT functions can return partial results. 16#70C NOTFOUND Function was executed successfully, but no edge could be found on any search line. It is assumed that a measurement function is only called if it is ensured that the image contains an object with the parameterized edge properties. If none of the search lines are found, this indicates incorrect parameterization or an unsuitable call of the function. Therefore, an error code is output in this case. 16#7xx All error codes Function was not executed successfully. See also: ADS Return Codes except NOTFOUND [} 2864] The following query, for example, can be used for the processing of the return value: IF SUCCEEDED(hr) THEN // Process results IF hr <> S_OK THEN // Emit warning that not all search lines were found END_IF ELSIF hr = Tc2_System. E_HRESULTAds Err. NOTFOUND THEN // Emit warning for wrong parametrization or missing piece ELSE // Error handling END_IF Reducing execution time The execution time for a fixed search window varies slightly depending on the position of the component in the image. If the edge that is found is closer to the starting point, the execution time is shorter than for an edge further away. A larger fluctuation can occur with the two approximation algorithms, since these require different iterations in order to approximate the model parameters using the surrounding pixel intensities. 1444 Version: 2.4.0 TF7000 - TF7810
## Page 1445

API reference In general, fewer iterations are required if the search lines of the search window hit the edge as orthogonally as possible. If the position and orientation of the objects in the image are subject to little or no fluctuation, the search window can be adjusted accordingly to achieve shorter execution times. In addition, the maximum time required can be reduced by reducing the maximum number of iterations, but this may lead to less accurate results. In addition, the time can be limited with an external watchdog, which terminates the execution of the function if necessary and returns the existing partial results. Samples Measurement [} 2793] 6.1.4.20.1 F_VN_Adjust Search Window Orientation To Linear Edge F_VN_Adjust Search Window Orientation To Linear Edge ip Src Image ITc Vn Image HRESULT F_VN_Adjust Search Window Orientation To Linear Edge ↔a Start Point Tc Vn Point2_REAL ↔a End Point Tc Vn Point2_REAL e Edge Direction ETc Vn Edge Direction f Min Strength REAL n Max Thickness UDINT n Search Lines UDINT hr Prev HRESULT Adjust the search window to be orthogonal to a linear edge. Might be helpful before calling edge localization and distance measurement functions that rely on the search window. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Adjust Search Window Orientation To Linear Edge : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR VAR_IN_OUT a Start Point : Tc Vn Point2_REAL; a End Point : Tc Vn Point2_REAL; END_VAR VAR_INPUT e Edge Direction : ETc Vn Edge Direction; f Min Strength : REAL; n Max Thickness : UDINT; n Search Lines : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image e Edge Direction ETc Vn Edge Direction Specification of the edge direction to search for [} 202] f Min Strength REAL Specification of the minimum strength (intensity difference) of the edge to search for n Max Thicknes UDINT Specification of the maximum thickness of the edge to search s for, which means f Min Strength must be reached within n Max Thickness pixels n Search Lines UDINT Width of the search window, i.e. the number of search lines (3, 5, 7, ...), centered around the line specified by a Start Point and a End Point hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 1445
## Page 1446

API reference In/Outputs Name Type Description a Start Point Tc Vn Point2_REAL [} 163] Position from which to start the search process (in the direction of a End Point), which is not changed a End Point Tc Vn Point2_REAL [} 163] Position where the search process ends, which is adjusted by this function Return value HRESULT [} 144] Further information The F_VN_Adjust Search Window Orientation To Linear Edge function rotates the search field for measurement functions in such a way that it lies orthogonal to a linear edge. Parameter Input image The ip Src Image input image must contain an edge in accordance with the parameters for edge detection. Search window (Return value) The search window to be adjusted is transferred as a reference so that it can be changed by the function. The search window consists of the central search line, which is indicated by a a Start Point start point and a End Point end point, as well as the number of n Search Lines search lines. Following the function call, a Start Point and a End Point contain the adjusted central search line. This is now orthogonal to the linear edge on the ip Src Image input image. Parameters for edge localization The remaining parameters are explained in detail in the chapter Edge localization [} 1440]. Application The adaptation of the search window to an edge looks like this, for example: hr := F_VN_Adjust Search Window Orientation To Linear Edge( ip Src Image := ip Image In, a Start Point := a Start Point, a End Point := a End Point, e Edge Direction := e Direction, f Min Strength := f Min Strength, n Max Thickness := n Max Thickness, n Search Lines := n Search Lines, hr Prev := hr); Required License TC3 Vision Metrology 2D 1446 Version: 2.4.0 TF7000 - TF7810
## Page 1447

API reference System Requirements 6.1.4.20.2 F_VN_Closest Points BF F_VN_Closest Points BF ip Point Set1 ITc Vn Container HRESULT F_VN_Closest Points BF ip Point Set2 ITc Vn Container ↔ f Min Dist LREAL ↔ a Point1 Tc Vn Point2_LREAL ↔ a Point2 Tc Vn Point2_LREAL hr Prev HRESULT Find the closest distance between two 2d point sets of the same type, using a brute force approach. Syntax Definition: FUNCTION F_VN_Closest Points BF : HRESULT VAR_INPUT ip Point Set1 : ITc Vn Container; ip Point Set2 : ITc Vn Container; END_VAR VAR_IN_OUT f Min Dist : LREAL; a Point1 : Tc Vn Point2_LREAL; a Point2 : Tc Vn Point2_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Point Set1 ITc Vn Container [} 374] Container with 1st set of 2d points ip Point Set2 ITc Vn Container [} 374] Container with 2nd set of 2d points hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description f Min Dist LREAL Returns the minimum distance between 2 points of the different point sets a Point1 Tc Vn Point2_LREAL [} 163] Returns the point out of ip Point Set1, for which f Min Dist is achieved a Point2 Tc Vn Point2_LREAL [} 163] Returns the point out of ip Point Set2, for which f Min Dist is achieved Return value HRESULT [} 144] Further information The F_VN_Closest Points BF function determines which points from two point clouds have the smallest distance using a brute force method. TF7000 - TF7810 Version: 2.4.0 1447
## Page 1448

API reference Parameter Point clouds The closest two points are sought in the ip Point Set1 and ip Point Set2 point clouds. Minimum distance (Return value) The f Min Dist parameter returns the distance between the two points that are closest to each other. This corresponds to the minimum distance between the two point clouds. Closest points (Return value) The a Point1 and a Point2 parameters return the two points that are closest to each other in the point clouds. Application The determination of the minimum distance between two lines looks like this, for example: hr := F_VN_Closest Points BF( ip Point Set1 := ip Point Set1, ip Point Set2 := ip Point Set2, f Min Dist := f Min Dist, a Point1 := a Point1, a Point2 := a Point2, hr Prev := hr); Related functions • Closest Points BF [} 1447] for calculating the closest points in two point clouds • Measure Angle Between Edges [} 1486] for measuring the angle between two edges • Measure Edge Distance [} 1494] for measuring the average distance between two edges • Measure Min Edge Distance [} 1504] for measuring the minimum distance between two edges Required License TC3 Vision Metrology 2D System Requirements 6.1.4.20.3 F_VN_Locate Circular Arc F_VN_Locate Circular Arc ip Src Image ITc Vn Image HRESULT F_VN_Locate Circular Arc ↔ st Circular Arc Tc Vn Circular Arc ↔ a Center Tc Vn Point2_REAL f Search Radius REAL f Arc Direction Rad LREAL e Edge Direction ETc Vn Edge Direction f Min Strength REAL hr Prev HRESULT Locate a circular arc, using an interpolation method. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Locate Circular Arc : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; 1448 Version: 2.4.0 TF7000 - TF7810
## Page 1449

API reference END_VAR VAR_IN_OUT st Circular Arc : Tc Vn Circular Arc; a Center : Tc Vn Point2_REAL; END_VAR VAR_INPUT f Search Radius : REAL; f Arc Direction Rad : LREAL; e Edge Direction : ETc Vn Edge Direction; f Min Strength : REAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 channel) f Search Radius REAL Input search radius (starting from a Center, should be greater than the actual circle radius but a Center + f Search Radius should be within the image borders) f Arc Direction R LREAL Input search starting direction in radian. Valid range is [-pi, +pi], ad where right is 0 rad, top is -pi/2 rad and bottom +pi/2 rad. The circular arc should at least be valid in range f Arc Direction Rad +- 0.4 rad. e Edge Direction ETc Vn Edge Direction Specification of the edge direction to search for [} 202] f Min Strength REAL Specification of the minimum strength (intensity difference) of the edge to search for hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Circular Arc Tc Vn Circular Arc [} 234] Returns the circular arc parameters a Center Tc Vn Point2_REAL [} 163] Input estimated circle center (only used as a starting point to search for the circle contour, not used for the circle center estimation) Return value HRESULT [} 144] Further information The F_VN_Locate Circular Arc function localizes and measures a proportional circular arc. It is based on the edge localization [} 1440] and uses normal parameters. It returns the localized circular arc as a structure of the type Tc Vn Circular Arc (center point, radius, angle range). If full circles are to be measured instead of a circular arc, use the F_VN_Locate Ellipse [} 1477] function instead. Parameter Input image The ip Src Image input image must be a 1-channel grayscale image. Circular arc (Return value) TF7000 - TF7810 Version: 2.4.0 1449
## Page 1450

API reference The st Circular Arc parameter returns the localized circular arc as a structure of the type Tc Vn Circular Arc [} 234]. Estimated center point The estimated a Center center point of the circular arc must be specified in order to define the position of the search lines. If the position of the center point of the circle is unknown, it may need to be determined beforehand by means of an object detection [} 1148]. Search radius The f Search Radius search radius defines the length of the search lines from the center point of the circle in pixels. The search radius should be defined somewhat larger than the actual radius of the circle so that the edge localization can be carried out unambiguously. Search direction The f Arc Direction Rad search direction specifies the circular direction in which the edge search should begin (starting from the center point of the circle). The value is to be specified in radians and has a value range of [-π, π]. Right corresponds to 0, top with –π/2 and bottom with π/2. Starting from f Arc Direction Rad, the circular arc must be present at least in the range of +- 0.4 in order to be detected. It is recommended to aim for the center of the circular arc. Parameters for edge localization The remaining parameters are explained in detail in the chapter Edge localization [} 1440]. Expert parameters The F_VN_Locate Circular Arc Exp [} 1451] expert version contains additional parameters. Application The localization and measurement of a proportional circular arc with a radius of 270px and a search angle of 120° looks like this, for example: VAR st Arc : Tc Vn Circular Arc; a Center : Tc Vn Point2_REAL := [420, 310]; END_VAR hr := F_VN_Locate Circular Arc( ip Src Image := ip Image In, st Circular Arc := st Arc, a Center := a Center, f Search Radius := 270, f Arc Direction Rad := 2.1, // 2.1 rad equals 120° e Edge Direction := TCVN_ED_LIGHT_TO_DARK, f Min Strength := 100, hr Prev := hr); The properties of the localized arc can then be accessed via the st Arc.a Center, st Arc.f Radius, st Arc.f Start Angle and st Arc.f End Angle variables. In addition, the circular arc can be visualized with the F_VN_Draw Circular Arc [} 987] function: F_VN_Draw Circular Arc(st Arc, ip Image Res, a Color Green, 5, hr); Samples • Locate Circular Arc [} 2793] Related functions • Locate Circular Arc [} 1448] for localizing proportional circular arcs • Locate Edge [} 1458] for localizing linear edges • Locate Edges [} 1467] for localizing several linear edges 1450 Version: 2.4.0 TF7000 - TF7810
## Page 1451

API reference • Locate Ellipse [} 1477] for localizing complete ellipses Required License TC3 Vision Metrology 2D System Requirements 6.1.4.20.4 F_VN_Locate Circular Arc Exp F_VN_Locate Circular Arc Exp ip Src Image ITc Vn Image HRESULT F_VN_Locate Circular Arc Exp ↔ st Circular Arc Tc Vn Circular Arc ↔ a Center Tc Vn Point2_REAL f Search Radius REAL f Arc Direction Rad LREAL e Edge Direction ETc Vn Edge Direction f Min Strength REAL f Angle Step Rad LREAL n Max Thickness UDINT b Invert Search Direction BOOL n Subpixels Iterations UDINT f Approx Precision REAL e Algorithm ETc Vn Edge Detection Algorithm ip Contour Points Reference To ITc Vn Container hr Prev HRESULT Locate a circular arc. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Locate Circular Arc Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR VAR_IN_OUT st Circular Arc : Tc Vn Circular Arc; a Center : Tc Vn Point2_REAL; END_VAR VAR_INPUT f Search Radius : REAL; f Arc Direction Rad : LREAL; e Edge Direction : ETc Vn Edge Direction; f Min Strength : REAL; f Angle Step Rad : LREAL; n Max Thickness : UDINT; b Invert Search Direction : BOOL; n Subpixels Iterations : UDINT; f Approx Precision : REAL; e Algorithm : ETc Vn Edge Detection Algorithm; ip Contour Points : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1451
## Page 1452

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 channel) f Search Radius REAL Input search radius (starting from a Center, should be greater than the actual circle radius but a Center + f Search Radius should be within the image borders) f Arc Direction R LREAL Input search starting direction in radian. Valid range is [-pi, +pi], ad where right is 0 rad, top is -pi/2 rad and bottom +pi/2 rad. The circular arc should at least be valid in range f Arc Direction Rad +- 4 * f Angle Step Rad) e Edge Direction ETc Vn Edge Direction Specification of the edge direction to search for [} 202] f Min Strength REAL Specification of the minimum strength (intensity difference) of the edge to search for f Angle Step Rad LREAL Search step in rad (should be chosen so that about 20 - 60 steps are available for the whole arc. In most cases 0.1 rad (5.7 deg) is a good value) n Max Thicknes UDINT Specification of the maximum thickness of the edge to search s for, which means f Min Strength must be reached within n Max Thickness pixels b Invert Search BOOL If true, the search starts from outside the circular arc in direction Direction of the center n Subpixels Itera UDINT Specifies the number of subpixels (for INTERPOLATION, 10 - tions 20 usually is sufficient) or maximum number of iterations for optimizing the parameters (for APPROX_ERF and APPROX_GAUSSIAN, 50 - 100 usually is sufficient) f Approx Precisi REAL Specifies the approximation precision for APPROX_ERF and on APPROX_GAUSSIAN (0.001 usually is sufficient, unused for INTERPOLATION) e Algorithm Selection of the edge detection algorithm ETc Vn Edge Detection Algor ithm [} 202] ip Contour Point Reference To Returns the subpixel accurate contour (optional, set to 0 if not s ITc Vn Container [} 374] required; Container Type_Vector_Tc Vn Point2_REAL; Non-zero interface pointers are reused.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Circular Arc Tc Vn Circular Arc [} 234] Returns the circular arc parameters a Center Tc Vn Point2_REAL [} 163] Input estimated circle center (only used as a starting point to search for the circle contour, not used for the circle center estimation) Return value HRESULT [} 144] Further information The F_VN_Locate Circular Arc Exp function is the expert version of F_VN_Locate Circular Arc [} 1448]. It contains additional parameters. 1452 Version: 2.4.0 TF7000 - TF7810
## Page 1453

API reference Parameter Input image The ip Src Image input image must be a 1-channel grayscale image. Circular arc (Return value) The st Circular Arc parameter returns the localized circular arc as a structure of the type Tc Vn Circular Arc [} 234]. Estimated center point The estimated a Center center point of the circular arc must be specified in order to define the position of the search lines. If the position of the center point of the circle is unknown, it may need to be determined beforehand by means of an object detection [} 1148]. Search radius The f Search Radius search radius defines the length of the search lines from the center point of the circle in pixels. The search radius should be defined somewhat larger than the actual radius of the circle so that the edge localization can be carried out unambiguously. Search direction The f Arc Direction Rad search direction specifies the circular direction in which the edge search should begin (starting from the center point of the circle). The value is to be specified in radians and has a value range of [-π, π]. Right corresponds to 0, top with –π/2 and bottom with π/2. Starting from f Arc Direction Rad, the circular arc must be present at least in the range of +- 0.4 in order to be detected. It is recommended to aim for the center of the circular arc. Radial search line distance (Expert) The f Angle Step Rad radial search line distance defines how large the angle steps between the search lines are. It is specified in radians. The distance should be selected so that the complete circular arc is divided into about 20 – 60 steps. In most cases 0,1 rad (5,7°) is a suitable value. Search direction inversion (Expert) The search direction can be inverted with the b Invert Search Direction Boolean. In this case, that means the following: • FALSE: Search from the center point of the circle to outside the circular arc. • TRUE: Search from outside the circular arc to the center point of the circle Contour points (Expert, return value) The ip Contour Points container returns the edge points found on the arc and is therefore of the type Container Type_Vector_Tc Vn Point2_REAL. The container contains one point for each search line successfully found. The parameter can be set to 0 if the return of the edge points is not required. Circular arc st Circular Arc The circular arc st Circular Arc is approximated from the set of these points. Parameters for edge localization The remaining parameters are explained in detail in the chapter Edge localization [} 1440]. Application The localization of a circular arc with expert parameters looks like this, for example: TF7000 - TF7810 Version: 2.4.0 1453
## Page 1454

API reference hr := F_VN_Locate Circular Arc Exp( ip Src Image := ip Image In, st Circular Arc := st Arc, a Center := a Center, f Search Radius := 270, f Arc Direction Rad := 2.1, e Edge Direction := TCVN_ED_LIGHT_TO_DARK, f Min Strength := 100, f Angle Step Rad := 40, n Max Thickness := 10, b Invert Search Direction := FALSE, n Subpixels Iterations := 100, f Approx Precision := 0.0001, e Algorithm := TCVN_EDA_APPROX_ERF, ip Contour Points := ip Ellipse Contour, hr Prev := hr); The localized points can be visualized with the F_VN_Draw Contours [} 991] function. hr := F_VN_Draw Contours(ip Ellipse Contour, -1, ip Image Res, a Color Green, 5, hr); Samples • Locate Circular Arc [} 2793] Related functions • Locate Circular Arc [} 1448] for localizing proportional circular arcs • Locate Edge [} 1458] for localizing linear edges • Locate Edges [} 1467] for localizing several linear edges • Locate Ellipse [} 1477] for localizing complete ellipses Required License TC3 Vision Metrology 2D System Requirements 6.1.4.20.5 F_VN_Locate Circular Arc Exp2 F_VN_Locate Circular Arc Exp2 ip Src Image ITc Vn Image HRESULT F_VN_Locate Circular Arc Exp2 ↔ st Circular Arc Tc Vn Circular Arc ↔ a Center Tc Vn Point2_REAL f Search Radius REAL f Arc Direction Rad LREAL e Edge Direction ETc Vn Edge Direction f Min Strength REAL f Angle Step Rad LREAL n Max Thickness UDINT b Invert Search Direction BOOL n Subpixels Iterations UDINT f Approx Precision REAL e Algorithm ETc Vn Edge Detection Algorithm ip Contour Points Reference To ITc Vn Container f Range Cutoff Factor REAL hr Prev HRESULT Locate a circular arc. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: 1454 Version: 2.4.0 TF7000 - TF7810
## Page 1455

API reference FUNCTION F_VN_Locate Circular Arc Exp2 : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR VAR_IN_OUT st Circular Arc : Tc Vn Circular Arc; a Center : Tc Vn Point2_REAL; END_VAR VAR_INPUT f Search Radius : REAL; f Arc Direction Rad : LREAL; e Edge Direction : ETc Vn Edge Direction; f Min Strength : REAL; f Angle Step Rad : LREAL; n Max Thickness : UDINT; b Invert Search Direction : BOOL; n Subpixels Iterations : UDINT; f Approx Precision : REAL; e Algorithm : ETc Vn Edge Detection Algorithm; ip Contour Points : Reference To ITc Vn Container; f Range Cutoff Factor : REAL; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1455
## Page 1456

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 channel) f Search Radius REAL Input search radius (starting from a Center, should be greater than the actual circle radius but a Center + f Search Radius should be within the image borders) f Arc Direction R LREAL Input search starting direction in radian. Valid range is [-pi, +pi], ad where right is 0 rad, top is -pi/2 rad and bottom +pi/2 rad. The circular arc should at least be valid in range f Arc Direction Rad +- 4 * f Angle Step Rad) e Edge Direction ETc Vn Edge Direction Specification of the edge direction to search for [} 202] f Min Strength REAL Specification of the minimum strength (intensity difference) of the edge to search for f Angle Step Rad LREAL Search step in rad (should be chosen so that about 20 - 60 steps are available for the whole arc. In most cases 0.1 rad (5.7 deg) is a good value) n Max Thicknes UDINT Specification of the maximum thickness of the edge to search s for, which means f Min Strength must be reached within n Max Thickness pixels b Invert Search BOOL If true, the search starts from outside the circular arc in direction Direction of the center n Subpixels Itera UDINT Specifies the number of subpixels (for INTERPOLATION, 10 - tions 20 usually is sufficient) or maximum number of iterations for optimizing the parameters (for APPROX_ERF and APPROX_GAUSSIAN, 50 - 100 usually is sufficient) f Approx Precisi REAL Specifies the approximation precision for APPROX_ERF and on APPROX_GAUSSIAN (0.001 usually is sufficient, unused for INTERPOLATION) e Algorithm Selection of the edge detection algorithm ETc Vn Edge Detection Algor ithm [} 202] ip Contour Point Reference To Returns the subpixel accurate contour (optional, set to 0 if not s ITc Vn Container [} 374] required; Container Type_Vector_Tc Vn Point2_REAL; Non-zero interface pointers are reused.) f Range Cutoff F REAL Relative edge strength factor to cut off the range of pixels used actor for approximation. Negative numbers are valid to include noise, i.e. intensity differences in the other direction. At most n Max Thickness pixels are used in each direction. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Circular Arc Tc Vn Circular Arc [} 234] Returns the circular arc parameters a Center Tc Vn Point2_REAL [} 163] Input estimated circle center (only used as a starting point to search for the circle contour, not used for the circle center estimation) Return value HRESULT [} 144] 1456 Version: 2.4.0 TF7000 - TF7810
## Page 1457

API reference Further information The F_VN_Locate Circular Arc Exp2 function is the expert version of F_VN_Locate Circular Arc [} 1448]. It contains additional parameters. Parameter Input image The ip Src Image input image must be a 1-channel grayscale image. Circular arc (Return value) The st Circular Arc parameter returns the localized circular arc as a structure of the type Tc Vn Circular Arc [} 234]. Estimated center point The estimated a Center center point of the circular arc must be specified in order to define the position of the search lines. If the position of the center point of the circle is unknown, it may need to be determined beforehand by means of an object detection [} 1148]. Search radius The f Search Radius search radius defines the length of the search lines from the center point of the circle in pixels. The search radius should be defined somewhat larger than the actual radius of the circle so that the edge localization can be carried out unambiguously. Search direction The f Arc Direction Rad search direction specifies the circular direction in which the edge search should begin (starting from the center point of the circle). The value is to be specified in radians and has a value range of [-π, π]. Right corresponds to 0, top with –π/2 and bottom with π/2. Starting from f Arc Direction Rad, the circular arc must be present at least in the range of +- 0.4 in order to be detected. It is recommended to aim for the center of the circular arc. Radial search line distance (Expert) The f Angle Step Rad radial search line distance defines how large the angle steps between the search lines are. It is specified in radians. The distance should be selected so that the complete circular arc is divided into about 20 – 60 steps. In most cases 0,1 rad (5,7°) is a suitable value. Search direction inversion (Expert) The search direction can be inverted with the b Invert Search Direction Boolean. In this case, that means the following: • FALSE: Search from the center point of the circle to outside the circular arc. • TRUE: Search from outside the circular arc to the center point of the circle Contour points (Expert, return value) The ip Contour Points container returns the edge points found on the arc and is therefore of the type Container Type_Vector_Tc Vn Point2_REAL. The container contains one point for each search line successfully found. The parameter can be set to 0 if the return of the edge points is not required. Circular arc st Circular Arc The circular arc st Circular Arc is approximated from the set of these points. Parameters for edge localization TF7000 - TF7810 Version: 2.4.0 1457
## Page 1458

API reference The remaining parameters are explained in detail in the chapter Edge localization [} 1440]. Application The localization of a circular arc with expert parameters looks like this, for example: hr := F_VN_Locate Circular Arc Exp2( ip Src Image := ip Image In, st Circular Arc := st Arc, a Center := a Center, f Search Radius := 270, f Arc Direction Rad := 2.1, e Edge Direction := TCVN_ED_LIGHT_TO_DARK, f Min Strength := 100, f Angle Step Rad := 0.1, n Max Thickness := 10, b Invert Search Direction := FALSE, n Subpixels Iterations := 10, f Approx Precision := 0.001, e Algorithm := TCVN_EDA_INTERPOLATION, ip Contour Points := ip Ellipse Contour, f Range Cutoff Factor := 0.135, hr Prev := hr); The localized points can be visualized with the F_VN_Draw Contours [} 991] function. hr := F_VN_Draw Contours(ip Ellipse Contour, -1, ip Image Res, a Color Green, 5, hr); Samples • Locate Circular Arc [} 2793] Related functions • Locate Circular Arc [} 1448] for localizing proportional circular arcs • Locate Edge [} 1458] for localizing linear edges • Locate Edges [} 1467] for localizing several linear edges • Locate Ellipse [} 1477] for localizing complete ellipses Required License TC3 Vision Metrology 2D System Requirements 6.1.4.20.6 F_VN_Locate Edge F_VN_Locate Edge ip Src Image ITc Vn Image REAL f Avg Strength ip Edge Points Reference To ITc Vn Container HRESULT F_VN_Locate Edge ↔ a Start Point Tc Vn Point2_REAL ↔ a End Point Tc Vn Point2_REAL e Edge Direction ETc Vn Edge Direction f Min Strength REAL n Search Lines UDINT hr Prev HRESULT Locate the points of the first occuring edge inside a specified search window, using an interpolation method. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: 1458 Version: 2.4.0 TF7000 - TF7810
## Page 1459

API reference FUNCTION F_VN_Locate Edge : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Edge Points : Reference To ITc Vn Container; END_VAR VAR_IN_OUT a Start Point : Tc Vn Point2_REAL; a End Point : Tc Vn Point2_REAL; END_VAR VAR_INPUT e Edge Direction : ETc Vn Edge Direction; f Min Strength : REAL; n Search Lines : UDINT; hr Prev : HRESULT; END_VAR VAR_OUTPUT f Avg Strength : REAL; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 channel) ip Edge Points Reference To Returns the detected edge points ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Point2_REAL) e Edge Direction ETc Vn Edge Direction Specification of the edge direction to search for [} 202] f Min Strength REAL Specification of the minimum strength (intensity difference) of the edge to search for n Search Lines UDINT Width of the search window, i.e. the number of search lines (1, 3, 5, 7, ...), centered around the line specified by a Start Point and a End Point hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Start Point Tc Vn Point2_REAL [} 163] Position from which to start the search process (in the direction of a End Point) a End Point Tc Vn Point2_REAL [} 163] Position where the search process ends Outputs Name Type Description f Avg Strength REAL Returns the average strength of the detected edge Return value HRESULT [} 144] Further information The F_VN_Locate Edge function locates an edge in a defined search window. Parameter Input image The ip Src Image input image must be a 1-channel grayscale image. TF7000 - TF7810 Version: 2.4.0 1459
## Page 1460

API reference Localized points (Return value) The ip Edge Points container returns the localized points of the linear edge. The search window First, a search window has to be defined to determine where and in which direction to search for an edge. This is done using the a Start Point, a End Point and n Search Lines parameters. The search window results from the search line from a Start Point to a End Point and parallel to it (n Search Lines - 1) / 2 search lines in each direction, each with 1 pixel distance. Thus n Search Lines defines the number of search lines and must always have an odd value. Fig. 15: S: Start Point, E: End Point, W: Window Width Edge strength (Return value) The f Avg Strength return value displays the actual contrast of the localized edge (averaged over all search lines). Parameters for edge localization The remaining parameters are explained in detail in the chapter Edge localization [} 1440]. Expert parameters The F_VN_Locate Edge Exp [} 1461] expert version contains additional parameters. Application The localization of a linear edge looks like this, for example: hr := F_VN_Locate Edge( ip Src Image := ip Image In, ip Edge Points := ip Edge Points, a Start Point := a Start Point, a End Point := a End Point, e Edge Direction := e Direction, f Min Strength := f Min Strength, n Search Lines := n Search Lines, hr Prev := hr, f Avg Strength => f Avg Strength); The localized edge points can be visualized with the function F_VN_Draw Contours [} 991]: F_VN_Draw Contours(ip Edge Points, -1, ip Image Res, a Color Green, 5, hr); 1460 Version: 2.4.0 TF7000 - TF7810
## Page 1461

API reference Samples • Locate Edge [} 2797] Related functions • Locate Circular Arc [} 1448] for localizing proportional circular arcs • Locate Edge [} 1458] for localizing linear edges • Locate Edges [} 1467] for localizing several linear edges • Locate Ellipse [} 1477] for localizing complete ellipses Required License TC3 Vision Metrology 2D System Requirements 6.1.4.20.7 F_VN_Locate Edge Exp F_VN_Locate Edge Exp ip Src Image ITc Vn Image REAL f Avg Strength ip Edge Points Reference To ITc Vn Container HRESULT F_VN_Locate Edge Exp ↔ a Start Point Tc Vn Point2_REAL ↔ a End Point Tc Vn Point2_REAL e Edge Direction ETc Vn Edge Direction f Min Strength REAL n Search Lines UDINT f Search Line Dist REAL n Max Thickness UDINT n Subpixels Iterations UDINT f Approx Precision REAL e Algorithm ETc Vn Edge Detection Algorithm hr Prev HRESULT Locate the points of the first occuring edge inside a specified search window with subpixel accuracy. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Locate Edge Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Edge Points : Reference To ITc Vn Container; END_VAR VAR_IN_OUT a Start Point : Tc Vn Point2_REAL; a End Point : Tc Vn Point2_REAL; END_VAR VAR_INPUT e Edge Direction : ETc Vn Edge Direction; f Min Strength : REAL; n Search Lines : UDINT; f Search Line Dist : REAL; n Max Thickness : UDINT; n Subpixels Iterations : UDINT; f Approx Precision : REAL; e Algorithm : ETc Vn Edge Detection Algorithm; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1461
## Page 1462

API reference VAR_OUTPUT f Avg Strength : REAL; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 channel) ip Edge Points Reference To Returns the detected edge points ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Point2_REAL) e Edge Direction ETc Vn Edge Direction Specification of the edge direction to search for [} 202] f Min Strength REAL Specification of the minimum strength (intensity difference) of the edge to search for n Search Lines UDINT Width of the search window, i.e. the number of search lines (1, 3, 5, 7, ...), centered around the line specified by a Start Point and a End Point f Search Line Dis REAL Distance between the search lines in pixels (> 0) t n Max Thicknes UDINT Specification of the maximum thickness of the edge to search s for, which means f Min Strength must be reached within n Max Thickness pixels n Subpixels Itera UDINT Specifies the number of subpixels (for INTERPOLATION, 10 - tions 20 usually is sufficient) or maximum number of iterations for optimizing the parameters (for APPROX_ERF and APPROX_GAUSSIAN, 50 - 100 usually is sufficient) f Approx Precisi REAL Specifies the approximation precision for APPROX_ERF and on APPROX_GAUSSIAN (0.001 usually is sufficient, unused for INTERPOLATION) e Algorithm Selection of the edge detection algorithm ETc Vn Edge Detection Algor ithm [} 202] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Start Point Tc Vn Point2_REAL [} 163] Position from which to start the search process (in the direction of a End Point) a End Point Tc Vn Point2_REAL [} 163] Position where the search process ends Outputs Name Type Description f Avg Strength REAL Returns the average strength of the detected edge Return value HRESULT [} 144] Further information The F_VN_Locate Edge Exp function is the expert version of F_VN_Locate Edge [} 1458]. It contains additional parameters. 1462 Version: 2.4.0 TF7000 - TF7810
## Page 1463

API reference Parameter Input image The ip Src Image input image must be a 1-channel grayscale image. Localized points (Return value) The ip Edge Points container returns the localized points of the linear edge. The search window First, a search window has to be defined to determine where and in which direction to search for an edge. This is done using the a Start Point, a End Point and n Search Lines parameters. The search window results from the search line from a Start Point to a End Point and parallel to it (n Search Lines - 1) / 2 search lines in each direction, each with 1 pixel distance. Thus n Search Lines defines the number of search lines and must always have an odd value. Fig. 16: S: Start Point, E: End Point, W: Window Width Edge strength (Return value) The f Avg Strength return value displays the actual contrast of the localized edge (averaged over all search lines). Parameters for edge localization The remaining parameters are explained in detail in the chapter Edge localization [} 1440]. Application The localization of a linear edge with expert parameters looks like this, for example: hr := F_VN_Locate Edge Exp( ip Src Image := ip Image In, ip Edge Points := ip Edge Points, a Start Point := a Start Point, a End Point := a End Point, e Edge Direction := e Direction, f Min Strength := f Min Strength, n Search Lines := n Search Lines, f Search Line Dist := f Search Line Dist, n Max Thickness := n Max Thickness, n Subpixels Iterations := n Subpix Iter, f Approx Precision := 0.001, TF7000 - TF7810 Version: 2.4.0 1463
## Page 1464

API reference e Algorithm := e Algorithm, hr Prev := hr, f Avg Strength => f Avg Strength); Samples • Locate Edge [} 2797] Related functions • Locate Circular Arc [} 1448] for localizing proportional circular arcs • Locate Edge [} 1458] for localizing linear edges • Locate Edges [} 1467] for localizing several linear edges • Locate Ellipse [} 1477] for localizing complete ellipses Required License TC3 Vision Metrology 2D System Requirements 6.1.4.20.8 F_VN_Locate Edge Exp2 F_VN_Locate Edge Exp2 ip Src Image ITc Vn Image REAL f Avg Strength ip Edge Points Reference To ITc Vn Container HRESULT F_VN_Locate Edge Exp2 ↔ a Start Point Tc Vn Point2_REAL ↔ a End Point Tc Vn Point2_REAL e Edge Direction ETc Vn Edge Direction f Min Strength REAL n Search Lines UDINT f Search Line Dist REAL n Max Thickness UDINT n Subpixels Iterations UDINT f Approx Precision REAL e Algorithm ETc Vn Edge Detection Algorithm f Range Cutoff Factor REAL ip Edge Strengths Reference To ITc Vn Container hr Prev HRESULT Locate the points of the first occuring edge inside a specified search window with subpixel accuracy. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Locate Edge Exp2 : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Edge Points : Reference To ITc Vn Container; END_VAR VAR_IN_OUT a Start Point : Tc Vn Point2_REAL; a End Point : Tc Vn Point2_REAL; END_VAR VAR_INPUT e Edge Direction : ETc Vn Edge Direction; f Min Strength : REAL; n Search Lines : UDINT; f Search Line Dist : REAL; n Max Thickness : UDINT; 1464 Version: 2.4.0 TF7000 - TF7810
## Page 1465

API reference n Subpixels Iterations : UDINT; f Approx Precision : REAL; e Algorithm : ETc Vn Edge Detection Algorithm; f Range Cutoff Factor : REAL; ip Edge Strengths : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR VAR_OUTPUT f Avg Strength : REAL; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 channel) ip Edge Points Reference To Returns the detected edge points ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Point2_REAL) e Edge Direction ETc Vn Edge Direction Specification of the edge direction to search for [} 202] f Min Strength REAL Specification of the minimum strength (intensity difference) of the edge to search for n Search Lines UDINT Width of the search window, i.e. the number of search lines (1, 3, 5, 7, ...), centered around the line specified by a Start Point and a End Point f Search Line Dis REAL Distance between the search lines in pixels (> 0) t n Max Thicknes UDINT Specification of the maximum thickness of the edge to search s for, which means f Min Strength must be reached within n Max Thickness pixels n Subpixels Itera UDINT Specifies the number of subpixels (for INTERPOLATION, 10 - tions 20 usually is sufficient) or maximum number of iterations for optimizing the parameters (for APPROX_ERF and APPROX_GAUSSIAN, 50 - 100 usually is sufficient) f Approx Precisi REAL Specifies the approximation precision for APPROX_ERF and on APPROX_GAUSSIAN (0.001 usually is sufficient, unused for INTERPOLATION) e Algorithm Selection of the edge detection algorithm ETc Vn Edge Detection Algor ithm [} 202] f Range Cutoff F REAL Relative edge strength factor to cut off the range of pixels used actor for approximation. Negative numbers are valid to include noise, i.e. intensity differences in the other direction. At most n Max Thickness pixels are used in each direction. ip Edge Strength Reference To Returns the detected edge strengths (optional, set to 0 if not s ITc Vn Container [} 374] required; Container Type_Vector_REAL) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Start Point Tc Vn Point2_REAL [} 163] Position from which to start the search process (in the direction of a End Point) a End Point Tc Vn Point2_REAL [} 163] Position where the search process ends Outputs Name Type Description f Avg Strength REAL Returns the average strength of the detected edge TF7000 - TF7810 Version: 2.4.0 1465
## Page 1466

API reference Return value HRESULT [} 144] Further information The F_VN_Locate Edge Exp2 function is the expert version of F_VN_Locate Edge [} 1458]. It contains additional parameters. Parameter Input image The ip Src Image input image must be a 1-channel grayscale image. Localized points (Return value) The ip Edge Points container returns the localized points of the linear edge. The search window First, a search window has to be defined to determine where and in which direction to search for an edge. This is done using the a Start Point, a End Point and n Search Lines parameters. The search window results from the search line from a Start Point to a End Point and parallel to it (n Search Lines - 1) / 2 search lines in each direction, each with 1 pixel distance. Thus n Search Lines defines the number of search lines and must always have an odd value. Fig. 17: S: Start Point, E: End Point, W: Window Width Edge strength (Return value) The f Avg Strength return value displays the actual contrast of the localized edge (averaged over all search lines). Parameters for edge localization The remaining parameters are explained in detail in the chapter Edge localization [} 1440]. Edge thicknesses (Return value) The detected edge thicknesses of the individual search lines are returned via ip Edge Strengths in a container of the type Container Type_Vector_REAL. This parameter is optional and can be set to 0 if it is not required. 1466 Version: 2.4.0 TF7000 - TF7810
## Page 1467

API reference Application The localization of a linear edge with expert parameters looks like this, for example: hr := F_VN_Locate Edge Exp2( ip Src Image := ip Image In, ip Edge Points := ip Edge Points, a Start Point := a Start Point, a End Point := a End Point, e Edge Direction := e Direction, f Min Strength := f Min Strength, n Search Lines := n Search Lines, f Search Line Dist := f Search Line Dist, n Max Thickness := n Max Thickness, n Subpixels Iterations := n Subpix Iter, f Approx Precision := 0.001, e Algorithm := e Algorithm, f Range Cutoff Factor := 0.135, ip Edge Strengths := ip Edge Strengths, hr Prev := hr, f Avg Strength => f Avg Strength); Samples • Locate Edge [} 2797] Related functions • Locate Circular Arc [} 1448] for localizing proportional circular arcs • Locate Edge [} 1458] for localizing linear edges • Locate Edges [} 1467] for localizing several linear edges • Locate Ellipse [} 1477] for localizing complete ellipses Required License TC3 Vision Metrology 2D System Requirements 6.1.4.20.9 F_VN_Locate Edges F_VN_Locate Edges ip Src Image ITc Vn Image REAL f Avg Strength ip Edge Points Reference To ITc Vn Container HRESULT F_VN_Locate Edges ↔ a Start Point Tc Vn Point2_REAL ↔ a End Point Tc Vn Point2_REAL n Num Edges UDINT e Edge Direction ETc Vn Edge Direction b Alternate Direction BOOL f Min Strength REAL n Search Lines UDINT hr Prev HRESULT Locate the points of multiple occuring edges inside a specified search window, using an interpolation method. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Locate Edges : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Edge Points : Reference To ITc Vn Container; TF7000 - TF7810 Version: 2.4.0 1467
## Page 1468

API reference END_VAR VAR_IN_OUT a Start Point : Tc Vn Point2_REAL; a End Point : Tc Vn Point2_REAL; END_VAR VAR_INPUT n Num Edges : UDINT; e Edge Direction : ETc Vn Edge Direction; b Alternate Direction : BOOL; f Min Strength : REAL; n Search Lines : UDINT; hr Prev : HRESULT; END_VAR VAR_OUTPUT f Avg Strength : REAL; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 channel) ip Edge Points Reference To Returns the detected edge points ITc Vn Container [} 374] (Container Type_Vector_Vector_Tc Vn Point2_REAL) n Num Edges UDINT The (maximum) number of edges to search for e Edge Direction ETc Vn Edge Direction Specification of the edge direction to search for [} 202] b Alternate Direc BOOL If true, e Edge Direction is alternated after each detected edge. tion Else, only edges with e Edge Direction are searched for. f Min Strength REAL Specification of the minimum strength (intensity difference) of the edge to search for n Search Lines UDINT Width of the search window, i.e. the number of search lines (1, 3, 5, 7, ...), centered around the line specified by a Start Point and a End Point hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Start Point Tc Vn Point2_REAL [} 163] Position from which to start the search process (in the direction of a End Point) a End Point Tc Vn Point2_REAL [} 163] Position where the search process ends Outputs Name Type Description f Avg Strength REAL Returns the average strength of the detected edges Return value HRESULT [} 144] Further information The F_VN_Locate Edges function localizes several edges in a defined search window. Parameter Input image 1468 Version: 2.4.0 TF7000 - TF7810
## Page 1469

API reference The ip Src Image input image must be a 1-channel grayscale image. Localized points (Return value) The ip Edge Points container returns the localized points of the linear edges. The search window First, a search window has to be defined to determine where and in which direction to search for an edge. This is done using the a Start Point, a End Point and n Search Lines parameters. The search window results from the search line from a Start Point to a End Point and parallel to it (n Search Lines - 1) / 2 search lines in each direction, each with 1 pixel distance. Thus n Search Lines defines the number of search lines and must always have an odd value. Fig. 18: S: Start Point, E: End Point, W: Window Width Edge strength (Return value) The f Avg Strength return value displays the actual contrast of the localized edges (averaged over all search lines). Parameters for edge localization The remaining parameters are explained in detail in the chapter Edge localization [} 1440]. Expert parameters The F_VN_Locate Edge Exp [} 1470] expert version contains additional parameters. Application The localization of a linear edge looks like this, for example: hr := F_VN_Locate Edges( ip Src Image := ip Image In, ip Edge Points := ip Edge Points, a Start Point := a Start Point, a End Point := a End Point, n Num Edges := n Num Edges, e Edge Direction := e Direction, b Alternate Direction := b Alternate Direction, f Min Strength := f Min Strength, n Search Lines := n Search Lines, hr Prev := hr, f Avg Strength => f Avg Strength); TF7000 - TF7810 Version: 2.4.0 1469
## Page 1470

API reference The localized edge points can be visualized with the function F_VN_Draw Contours [} 992]: F_VN_Draw Contours(ip Edge Points, -1, ip Image Res, a Color Green, 5, hr); Related functions • Locate Circular Arc [} 1448] for localizing proportional circular arcs • Locate Edge [} 1458] for localizing linear edges • Locate Edges [} 1467] for localizing several linear edges • Locate Ellipse [} 1477] for localizing complete ellipses Required License TC3 Vision Metrology 2D System Requirements 6.1.4.20.10 F_VN_Locate Edges Exp F_VN_Locate Edges Exp ip Src Image ITc Vn Image REAL f Avg Strength ip Edge Points Reference To ITc Vn Container HRESULT F_VN_Locate Edges Exp ↔ a Start Point Tc Vn Point2_REAL ↔ a End Point Tc Vn Point2_REAL n Num Edges UDINT e Edge Direction ETc Vn Edge Direction b Alternate Direction BOOL f Min Strength REAL n Search Lines UDINT f Search Line Dist REAL n Max Thickness UDINT n Subpixels Iterations UDINT f Approx Precision REAL e Algorithm ETc Vn Edge Detection Algorithm hr Prev HRESULT Locate the points of multiple occuring edges inside a specified search window with subpixel accuracy. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Locate Edges Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Edge Points : Reference To ITc Vn Container; END_VAR VAR_IN_OUT a Start Point : Tc Vn Point2_REAL; a End Point : Tc Vn Point2_REAL; END_VAR VAR_INPUT n Num Edges : UDINT; e Edge Direction : ETc Vn Edge Direction; b Alternate Direction : BOOL; f Min Strength : REAL; n Search Lines : UDINT; f Search Line Dist : REAL; n Max Thickness : UDINT; n Subpixels Iterations : UDINT; f Approx Precision : REAL; e Algorithm : ETc Vn Edge Detection Algorithm; 1470 Version: 2.4.0 TF7000 - TF7810
## Page 1471

API reference hr Prev : HRESULT; END_VAR VAR_OUTPUT f Avg Strength : REAL; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 channel) ip Edge Points Reference To Returns the detected edge points ITc Vn Container [} 374] (Container Type_Vector_Vector_Tc Vn Point2_REAL) n Num Edges UDINT The (maximum) number of edges to search for e Edge Direction ETc Vn Edge Direction Specification of the edge direction to search for [} 202] b Alternate Direc BOOL If true, e Edge Direction is alternated after each detected edge. tion Else, only edges with e Edge Direction are searched for. f Min Strength REAL Specification of the minimum strength (intensity difference) of the edge to search for n Search Lines UDINT Width of the search window, i.e. the number of search lines (1, 3, 5, 7, ...), centered around the line specified by a Start Point and a End Point f Search Line Dis REAL Distance between the search lines in pixels (> 0) t n Max Thicknes UDINT Specification of the maximum thickness of the edge to search s for, which means f Min Strength must be reached within n Max Thickness pixels n Subpixels Itera UDINT Specifies the number of subpixels (for INTERPOLATION, 10 - tions 20 usually is sufficient) or maximum number of iterations for optimizing the parameters (for APPROX_ERF and APPROX_GAUSSIAN, 50 - 100 usually is sufficient) f Approx Precisi REAL Specifies the approximation precision for APPROX_ERF and on APPROX_GAUSSIAN (0.001 usually is sufficient, unused for INTERPOLATION) e Algorithm Selection of the edge detection algorithm ETc Vn Edge Detection Algor ithm [} 202] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Start Point Tc Vn Point2_REAL [} 163] Position from which to start the search process (in the direction of a End Point) a End Point Tc Vn Point2_REAL [} 163] Position where the search process ends Outputs Name Type Description f Avg Strength REAL Returns the average strength of the detected edges Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 1471
## Page 1472

API reference Further information The F_VN_Locate Edges Exp function is the expert version of F_VN_Locate Edges [} 1467]. It contains additional parameters. Parameter Input image The ip Src Image input image must be a 1-channel grayscale image. Localized points (Return value) The ip Edge Points container returns the localized points of the linear edges. The search window First, a search window has to be defined to determine where and in which direction to search for an edge. This is done using the a Start Point, a End Point and n Search Lines parameters. The search window results from the search line from a Start Point to a End Point and parallel to it (n Search Lines - 1) / 2 search lines in each direction, each with 1 pixel distance. Thus n Search Lines defines the number of search lines and must always have an odd value. Fig. 19: S: Start Point, E: End Point, W: Window Width Edge strength (Return value) The f Avg Strength return value displays the actual contrast of the localized edges (averaged over all search lines). Parameters for edge localization The remaining parameters are explained in detail in the chapter Edge localization [} 1440]. Application The localization of a linear edge with expert parameters looks like this, for example: hr := F_VN_Locate Edges Exp( ip Src Image := ip Image In, ip Edge Points := ip Edge Points, a Start Point := a Start Point, a End Point := a End Point, n Num Edges := n Num Edges, e Edge Direction := e Direction, 1472 Version: 2.4.0 TF7000 - TF7810
## Page 1473

API reference b Alternate Direction := b Alternate Direction, f Min Strength := f Min Strength, n Search Lines := n Search Lines, f Search Line Dist := f Search Line Dist, n Max Thickness := n Max Thickness, n Subpixels Iterations := n Subpix Iter, f Approx Precision := 0.001, e Algorithm := e Algorithm, hr Prev := hr, f Avg Strength => f Avg Strength); Related functions • Locate Circular Arc [} 1448] for localizing proportional circular arcs • Locate Edge [} 1458] for localizing linear edges • Locate Edges [} 1467] for localizing several linear edges • Locate Ellipse [} 1477] for localizing complete ellipses Required License TC3 Vision Metrology 2D System Requirements 6.1.4.20.11 F_VN_Locate Edges Exp2 F_VN_Locate Edges Exp2 ip Src Image ITc Vn Image REAL f Avg Strength ip Edge Points Reference To ITc Vn Container HRESULT F_VN_Locate Edges Exp2 ↔ a Start Point Tc Vn Point2_REAL ↔ a End Point Tc Vn Point2_REAL n Num Edges UDINT e Edge Direction ETc Vn Edge Direction b Alternate Direction BOOL f Min Strength REAL n Search Lines UDINT f Search Line Dist REAL n Max Thickness UDINT n Subpixels Iterations UDINT f Approx Precision REAL e Algorithm ETc Vn Edge Detection Algorithm f Range Cutoff Factor REAL ip Edge Strengths Reference To ITc Vn Container b Avg Edge Strengths BOOL hr Prev HRESULT Locate the points of multiple occuring edges inside a specified search window with subpixel accuracy. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Locate Edges Exp2 : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Edge Points : Reference To ITc Vn Container; END_VAR VAR_IN_OUT a Start Point : Tc Vn Point2_REAL; a End Point : Tc Vn Point2_REAL; END_VAR VAR_INPUT TF7000 - TF7810 Version: 2.4.0 1473
## Page 1474

API reference n Num Edges : UDINT; e Edge Direction : ETc Vn Edge Direction; b Alternate Direction : BOOL; f Min Strength : REAL; n Search Lines : UDINT; f Search Line Dist : REAL; n Max Thickness : UDINT; n Subpixels Iterations : UDINT; f Approx Precision : REAL; e Algorithm : ETc Vn Edge Detection Algorithm; f Range Cutoff Factor : REAL; ip Edge Strengths : Reference To ITc Vn Container; b Avg Edge Strengths : BOOL; hr Prev : HRESULT; END_VAR VAR_OUTPUT f Avg Strength : REAL; END_VAR 1474 Version: 2.4.0 TF7000 - TF7810
## Page 1475

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 channel) ip Edge Points Reference To Returns the detected edge points ITc Vn Container [} 374] (Container Type_Vector_Vector_Tc Vn Point2_REAL) n Num Edges UDINT The (maximum) number of edges to search for e Edge Direction ETc Vn Edge Direction Specification of the edge direction to search for [} 202] b Alternate Direc BOOL If true, e Edge Direction is alternated after each detected edge. tion Else, only edges with e Edge Direction are searched for. f Min Strength REAL Specification of the minimum strength (intensity difference) of the edge to search for n Search Lines UDINT Width of the search window, i.e. the number of search lines (1, 3, 5, 7, ...), centered around the line specified by a Start Point and a End Point f Search Line Dis REAL Distance between the search lines in pixels (> 0) t n Max Thicknes UDINT Specification of the maximum thickness of the edge to search s for, which means f Min Strength must be reached within n Max Thickness pixels n Subpixels Itera UDINT Specifies the number of subpixels (for INTERPOLATION, 10 - tions 20 usually is sufficient) or maximum number of iterations for optimizing the parameters (for APPROX_ERF and APPROX_GAUSSIAN, 50 - 100 usually is sufficient) f Approx Precisi REAL Specifies the approximation precision for APPROX_ERF and on APPROX_GAUSSIAN (0.001 usually is sufficient, unused for INTERPOLATION) e Algorithm Selection of the edge detection algorithm ETc Vn Edge Detection Algor ithm [} 202] f Range Cutoff F REAL Relative edge strength factor to cut off the range of pixels used actor for approximation. Negative numbers are valid to include noise, i.e. intensity differences in the other direction. At most n Max Thickness pixels are used in each direction. ip Edge Strength Reference To Returns the detected edge strengths (optional, set to 0 if not s ITc Vn Container [} 374] required; Container Type_Vector_Vector_REAL or Container Type_Vector_REAL, depending on b Avg Edge Strengths) b Avg Edge Stre BOOL If true, ip Edge Strengths returns the average strength per edge ngths instead of individual strengths for each search line hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Start Point Tc Vn Point2_REAL [} 163] Position from which to start the search process (in the direction of a End Point) a End Point Tc Vn Point2_REAL [} 163] Position where the search process ends Outputs Name Type Description f Avg Strength REAL Returns the average strength of the detected edges TF7000 - TF7810 Version: 2.4.0 1475
## Page 1476

API reference Return value HRESULT [} 144] Further information The F_VN_Locate Edges Exp2 function is the expert version of F_VN_Locate Edges [} 1467]. It contains additional parameters. Parameter Input image The ip Src Image input image must be a 1-channel grayscale image. Localized points (Return value) The ip Edge Points container returns the localized points of the linear edges. The search window First, a search window has to be defined to determine where and in which direction to search for an edge. This is done using the a Start Point, a End Point and n Search Lines parameters. The search window results from the search line from a Start Point to a End Point and parallel to it (n Search Lines - 1) / 2 search lines in each direction, each with 1 pixel distance. Thus n Search Lines defines the number of search lines and must always have an odd value. Fig. 20: S: Start Point, E: End Point, W: Window Width Edge strength (Return value) The f Avg Strength return value displays the actual contrast of the localized edges (averaged over all search lines). Parameters for edge localization The remaining parameters are explained in detail in the chapter Edge localization [} 1440]. 1476 Version: 2.4.0 TF7000 - TF7810
## Page 1477

API reference Edge thicknesses (Return value) The detected edge thicknesses are returned via ip Edge Strengths. Depending on b Avg Edge Strengths, either the average thickness per edge is returned as the container type Container Type_Vector_REAL or the individual thicknesses for each search line are returned as Container Type_Vector_Vector_REAL. This parameter is optional and can be set to 0 if it is not required. Application The localization of a linear edge with expert parameters looks like this, for example: hr := F_VN_Locate Edges Exp2( ip Src Image := ip Image In, ip Edge Points := ip Edge Points, a Start Point := a Start Point, a End Point := a End Point, n Num Edges := n Num Edges, e Edge Direction := e Direction, b Alternate Direction := b Alternate Direction, f Min Strength := f Min Strength, n Search Lines := n Search Lines, f Search Line Dist := f Search Line Dist, n Max Thickness := n Max Thickness, n Subpixels Iterations := n Subpix Iter, f Approx Precision := 0.001, e Algorithm := e Algorithm, f Range Cutoff Factor := 0.135, ip Edge Strengths := ip Edge Strengths, b Avg Edge Strengths := b Avg Edge Strengths, hr Prev := hr, f Avg Strength => f Avg Strength); Related functions • Locate Circular Arc [} 1448] for localizing proportional circular arcs • Locate Edge [} 1458] for localizing linear edges • Locate Edges [} 1467] for localizing several linear edges • Locate Ellipse [} 1477] for localizing complete ellipses Required License TC3 Vision Metrology 2D System Requirements 6.1.4.20.12 F_VN_Locate Ellipse F_VN_Locate Ellipse ip Src Image ITc Vn Image HRESULT F_VN_Locate Ellipse ↔ st Ellipse Tc Vn Rotated Rectangle ↔ a Center Tc Vn Point2_REAL f Search Radius REAL e Edge Direction ETc Vn Edge Direction f Min Strength REAL hr Prev HRESULT Locate an ellipse, using an interpolation method for locating the edges. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 1477
## Page 1478

API reference FUNCTION F_VN_Locate Ellipse : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR VAR_IN_OUT st Ellipse : Tc Vn Rotated Rectangle; a Center : Tc Vn Point2_REAL; END_VAR VAR_INPUT f Search Radius : REAL; e Edge Direction : ETc Vn Edge Direction; f Min Strength : REAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 channel) f Search Radius REAL Radius around a Center to search for edges (a Center + f Search Radius in all directions must be inside image borders!) e Edge Direction ETc Vn Edge Direction Specification of the edge direction to search for (from center to outside ellipse) [} 202] f Min Strength REAL Specification of the minimum strength (intensity difference) of the edge to search for hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Ellipse Tc Vn Rotated Rectangle Returns the detected ellipse [} 251] a Center Tc Vn Point2_REAL [} 163] The expected ellipse center Return value HRESULT [} 144] Further information The F_VN_Locate Ellipse function localizes and measures an ellipse. It is based on the edge localization [} 1440] and uses normal parameters. It returns the localized ellipse as a structure of the type Tc Vn Rotated Rectangle [} 251] (center point, size and angle). Parameter Input image The ip Src Image input image must be a 1-channel grayscale image. Ellipse (Return value) The st Ellipse parameter returns the localized ellipse as structure of the type Tc Vn Rotated Rectangle [} 251] (center point, size and angle). Search circle The circular search area is defined via the expected a Center center point and a f Search Radius search radius. The search radius should be set somewhat larger than the expected ellipse radius in order to securely localize the ellipse. 1478 Version: 2.4.0 TF7000 - TF7810
## Page 1479

API reference Parameters for edge localization The remaining parameters are explained in detail in the chapter Edge localization [} 1440]. Expert parameters The F_VN_Locate Ellipse Exp [} 1480] expert version contains additional parameters. Application The localization and measurement of an ellipse with an estimated center point of [360, 240] and a radius of 100px looks like this, for example: VAR a Guessed Center : Tc Vn Point2_REAL := [360, 240]; f Guessed Radius : REAL := 100; END_VAR hr := F_VN_Locate Ellipse( ip Src Image := ip Image In, st Ellipse := st Ellipse, a Center := a Guessed Center, f Search Radius := (f Guessed Radius + 15), // increase search radius to make sure ellipse is found! e Edge Direction := TCVN_ED_LIGHT_TO_DARK, f Min Strength := f Min Strength, hr Prev := hr); The properties of the localized ellipse can then be accessed via the st Ellipse.a Center, st Ellipse.st Size and st Ellipse.f Angle variables. In addition, the ellipse can be visualized with the F_VN_Draw Ellipse [} 994] function: hr := F_VN_Draw Ellipse(st Ellipse, ip Image Res, a Color Green, 5, hr); Samples • Locate Ellipse [} 2802] Related functions • Locate Circular Arc [} 1448] for localizing proportional circular arcs • Locate Edge [} 1458] for localizing linear edges • Locate Edges [} 1467] for localizing several linear edges • Locate Ellipse [} 1477] for localizing complete ellipses Required License TC3 Vision Metrology 2D TF7000 - TF7810 Version: 2.4.0 1479
## Page 1480

API reference System Requirements 6.1.4.20.13 F_VN_Locate Ellipse Exp F_VN_Locate Ellipse Exp ip Src Image ITc Vn Image HRESULT F_VN_Locate Ellipse Exp ↔ st Ellipse Tc Vn Rotated Rectangle ↔ a Center Tc Vn Point2_REAL f Search Radius REAL e Edge Direction ETc Vn Edge Direction f Min Strength REAL n Max Thickness UDINT b Invert Search Direction BOOL f Min Search Radius REAL n Subpixels Iterations UDINT n Search Lines UDINT f Approx Precision REAL e Algorithm ETc Vn Edge Detection Algorithm ip Contour Points Reference To ITc Vn Container hr Prev HRESULT Locate an ellipse. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Locate Ellipse Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR VAR_IN_OUT st Ellipse : Tc Vn Rotated Rectangle; a Center : Tc Vn Point2_REAL; END_VAR VAR_INPUT f Search Radius : REAL; e Edge Direction : ETc Vn Edge Direction; f Min Strength : REAL; n Max Thickness : UDINT; b Invert Search Direction : BOOL; f Min Search Radius : REAL; n Subpixels Iterations : UDINT; n Search Lines : UDINT; f Approx Precision : REAL; e Algorithm : ETc Vn Edge Detection Algorithm; ip Contour Points : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR 1480 Version: 2.4.0 TF7000 - TF7810
## Page 1481

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 channel) f Search Radius REAL Radius around a Center to search for edges e Edge Direction ETc Vn Edge Direction Specification of the edge direction to search for (from center to outside ellipse or other way round, if b Invert Search Direction is [} 202] true) f Min Strength REAL Specification of the minimum strength (intensity difference) of the edge to search for n Max Thicknes UDINT Specification of the maximum thickness of the edge to search s for, which means f Min Strength must be reached within n Max Thickness pixels b Invert Search BOOL If true, the search starts from outside the ellipse in direction of Direction the center f Min Search Rad REAL Radius around a Center to skip before starting to search for ius edges (e.g. to save time or if the center contains edges that should be ignored) n Subpixels Itera UDINT Specifies the number of subpixels (for INTERPOLATION, 10 - tions 20 usually is sufficient) or maximum number of iterations for optimizing the parameters (for APPROX_ERF and APPROX_GAUSSIAN, 50 - 100 usually is sufficient) n Search Lines UDINT Specifies the amount of search lines, which are equally distributed in all directions (must be >= 8 and a multiple of 4) f Approx Precisi REAL Specifies the approximation precision for APPROX_ERF and on APPROX_GAUSSIAN (0.001 usually is sufficient, unused for INTERPOLATION) e Algorithm Selection of the edge detection algorithm ETc Vn Edge Detection Algor ithm [} 202] ip Contour Point Reference To Returns the subpixel accurate ellipse contour (optional, set to 0 s ITc Vn Container [} 374] if not required; Container Type_Vector_Tc Vn Point2_REAL; Non- zero interface pointers are reused.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Ellipse Tc Vn Rotated Rectangle Returns the detected ellipse [} 251] a Center Tc Vn Point2_REAL [} 163] The expected ellipse center Return value HRESULT [} 144] Further information The F_VN_Locate Ellipse Exp function is the expert version of F_VN_Locate Ellipse [} 1477]. It contains additional parameters. Parameter Input image TF7000 - TF7810 Version: 2.4.0 1481
## Page 1482

API reference The ip Src Image input image must be a 1-channel grayscale image. Ellipse (Return value) The st Ellipse parameter returns the localized ellipse as structure of the type Tc Vn Rotated Rectangle [} 251] (center point, size and angle). Search circle The circular search area is defined via the expected a Center center point and a f Search Radius search radius. The search radius should be set somewhat larger than the expected ellipse radius in order to securely localize the ellipse. Localized points (Expert, return value) The ip Contour Points container returns the localized points. The parameter can be set to 0 if the return of the edge points is not required. Parameters for edge localization The remaining parameters are explained in detail in the chapter Edge localization [} 1440]. Application The localization and measurement of an ellipse with expert parameters looks like this, for example: hr := F_VN_Locate Ellipse Exp( ip Src Image := ip Image In, st Ellipse := st Ellipse, a Center := a Guessed Center, f Search Radius := (f Guessed Radius + 15), // increase search radius to make sure ellipse is found! e Edge Direction := TCVN_ED_LIGHT_TO_DARK, f Min Strength := f Min Strength, n Max Thickness := 7, b Invert Search Direction := TRUE, f Min Search Radius := f Min Radius, n Subpixels Iterations := n Subpix Iter, n Search Lines := n Search Lines, f Approx Precision := 0.001, e Algorithm := e Algorithm, ip Contour Points := ip Contour Points, hr Prev := hr); The localized points of the ellipse can be visualized with the F_VN_Draw Contours [} 991] function: hr := F_VN_Draw Contours(ip Contour Points, -1, ip Image Res, a Color Green, 5, hr); Samples • Locate Ellipse [} 2802] Related functions • Locate Circular Arc [} 1448] for localizing proportional circular arcs • Locate Edge [} 1458] for localizing linear edges • Locate Edges [} 1467] for localizing several linear edges • Locate Ellipse [} 1477] for localizing complete ellipses Required License TC3 Vision Metrology 2D 1482 Version: 2.4.0 TF7000 - TF7810
## Page 1483

API reference System Requirements 6.1.4.20.14 F_VN_Locate Ellipse Exp2 F_VN_Locate Ellipse Exp2 ip Src Image ITc Vn Image HRESULT F_VN_Locate Ellipse Exp2 ↔ st Ellipse Tc Vn Rotated Rectangle ↔ a Center Tc Vn Point2_REAL f Search Radius REAL e Edge Direction ETc Vn Edge Direction f Min Strength REAL n Max Thickness UDINT b Invert Search Direction BOOL f Min Search Radius REAL n Subpixels Iterations UDINT n Search Lines UDINT f Approx Precision REAL e Algorithm ETc Vn Edge Detection Algorithm ip Contour Points Reference To ITc Vn Container f Range Cutoff Factor REAL hr Prev HRESULT Locate an ellipse. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Locate Ellipse Exp2 : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR VAR_IN_OUT st Ellipse : Tc Vn Rotated Rectangle; a Center : Tc Vn Point2_REAL; END_VAR VAR_INPUT f Search Radius : REAL; e Edge Direction : ETc Vn Edge Direction; f Min Strength : REAL; n Max Thickness : UDINT; b Invert Search Direction : BOOL; f Min Search Radius : REAL; n Subpixels Iterations : UDINT; n Search Lines : UDINT; f Approx Precision : REAL; e Algorithm : ETc Vn Edge Detection Algorithm; ip Contour Points : Reference To ITc Vn Container; f Range Cutoff Factor : REAL; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1483
## Page 1484

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 channel) f Search Radius REAL Radius around a Center to search for edges e Edge Direction ETc Vn Edge Direction Specification of the edge direction to search for (from center to outside ellipse or other way round, if b Invert Search Direction is [} 202] true) f Min Strength REAL Specification of the minimum strength (intensity difference) of the edge to search for n Max Thicknes UDINT Specification of the maximum thickness of the edge to search s for, which means f Min Strength must be reached within n Max Thickness pixels b Invert Search BOOL If true, the search starts from outside the ellipse in direction of Direction the center f Min Search Rad REAL Radius around a Center to skip before starting to search for ius edges (e.g. to save time or if the center contains edges that should be ignored) n Subpixels Itera UDINT Specifies the number of subpixels (for INTERPOLATION, 10 - tions 20 usually is sufficient) or maximum number of iterations for optimizing the parameters (for APPROX_ERF and APPROX_GAUSSIAN, 50 - 100 usually is sufficient) n Search Lines UDINT Specifies the amount of search lines, which are equally distributed in all directions (must be >= 8 and a multiple of 4) f Approx Precisi REAL Specifies the approximation precision for APPROX_ERF and on APPROX_GAUSSIAN (0.001 usually is sufficient, unused for INTERPOLATION) e Algorithm Selection of the edge detection algorithm ETc Vn Edge Detection Algor ithm [} 202] ip Contour Point Reference To Returns the subpixel accurate ellipse contour (optional, set to 0 s ITc Vn Container [} 374] if not required; Container Type_Vector_Tc Vn Point2_REAL; Non- zero interface pointers are reused.) f Range Cutoff F REAL Relative edge strength factor to cut off the range of pixels used actor for approximation. Negative numbers are valid to include noise, i.e. intensity differences in the other direction. At most n Max Thickness pixels are used in each direction. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Ellipse Tc Vn Rotated Rectangle Returns the detected ellipse [} 251] a Center Tc Vn Point2_REAL [} 163] The expected ellipse center Return value HRESULT [} 144] Further information The F_VN_Locate Ellipse Exp2 function is the expert version of F_VN_Locate Ellipse [} 1477]. It contains additional parameters. 1484 Version: 2.4.0 TF7000 - TF7810
## Page 1485

API reference Parameter Input image The ip Src Image input image must be a 1-channel grayscale image. Ellipse (Return value) The st Ellipse parameter returns the localized ellipse as structure of the type Tc Vn Rotated Rectangle [} 251] (center point, size and angle). Search circle The circular search area is defined via the expected a Center center point and a f Search Radius search radius. The search radius should be set somewhat larger than the expected ellipse radius in order to securely localize the ellipse. Localized points (Expert, return value) The ip Contour Points container returns the localized points. The parameter can be set to 0 if the return of the edge points is not required. Parameters for edge localization The remaining parameters are explained in detail in the chapter Edge localization [} 1440]. Application The localization and measurement of an ellipse with expert parameters looks like this, for example: hr := F_VN_Locate Ellipse Exp2( ip Src Image := ip Image In, st Ellipse := st Ellipse, a Center := a Guessed Center, f Search Radius := (f Guessed Radius + 15), // increase search radius to make sure ellipse is found! e Edge Direction := TCVN_ED_LIGHT_TO_DARK, f Min Strength := f Min Strength, n Max Thickness := 7, b Invert Search Direction := TRUE, f Min Search Radius := f Min Radius, n Subpixels Iterations := n Subpix Iter, n Search Lines := n Search Lines, f Approx Precision := 0.001, e Algorithm := e Algorithm, ip Contour Points := ip Contour Points, f Range Cutoff Factor := 0.135, hr Prev := hr); The localized points of the ellipse can be visualized with the F_VN_Draw Contours [} 991] function: hr := F_VN_Draw Contours(ip Contour Points, -1, ip Image Res, a Color Green, 5, hr); Samples • Locate Ellipse [} 2802] Related functions • Locate Circular Arc [} 1448] for localizing proportional circular arcs • Locate Edge [} 1458] for localizing linear edges • Locate Edges [} 1467] for localizing several linear edges • Locate Ellipse [} 1477] for localizing complete ellipses Required License TC3 Vision Metrology 2D TF7000 - TF7810 Version: 2.4.0 1485
## Page 1486

API reference System Requirements 6.1.4.20.15 F_VN_Measure Angle Between Edges F_VN_Measure Angle Between Edges ip Src Image ITc Vn Image HRESULT F_VN_Measure Angle Between Edges ↔ f Angle REAL ↔ a Inner Point Tc Vn Point2_REAL ↔ a Outer Point1 Tc Vn Point2_REAL ↔ a Outer Point2 Tc Vn Point2_REAL e Edge Direction ETc Vn Edge Direction f Min Strength REAL n Search Lines UDINT hr Prev HRESULT Measure the angle between 2 edges, using an interpolation method. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Measure Angle Between Edges : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR VAR_IN_OUT f Angle : REAL; a Inner Point : Tc Vn Point2_REAL; a Outer Point1 : Tc Vn Point2_REAL; a Outer Point2 : Tc Vn Point2_REAL; END_VAR VAR_INPUT e Edge Direction : ETc Vn Edge Direction; f Min Strength : REAL; n Search Lines : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 channel) e Edge Direction ETc Vn Edge Direction Specification of the edge direction from a Inner Point to a Outer Point1 and a Outer Point2 to search for [} 202] f Min Strength REAL Specification of the minimum strength (intensity difference) of the edge to search for n Search Lines UDINT Width of the search windows, i.e. the number of search lines (3, 5, 7, ...), centered around the lines specified by a Inner Point and a Outer Point1, a Outer Point2 hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 1486 Version: 2.4.0 TF7000 - TF7810
## Page 1487

API reference In/Outputs Name Type Description f Angle REAL Returns the angle between the detected edges (radians) a Inner Point Tc Vn Point2_REAL [} 163] Position inside the angle to measure, from which to start the edge search process (in the direction of a Outer Point1 and a Outer Point2) a Outer Point1 Tc Vn Point2_REAL [} 163] Position where the search process for edge 1 ends a Outer Point2 Tc Vn Point2_REAL [} 163] Position where the search process for edge 2 ends Return value HRESULT [} 144] Further information The F_VN_Measure Angle Between Edges function localizes two linear edges and measures the angle between them. Parameter Input image The ip Src Image input image must be a 1-channel grayscale image. Angle (Return value) The f Angle parameter returns the angle between the localized edges. Depending on the b Angle In Degrees parameter, the f Angle angle is specified in radians (FALSE) or in degrees (TRUE). Position information To localize the edges, the common starting point (a Inner Point) and the two target points (a Outer Point1, a Outer Point2) must first be specified. The position of the starting point must be within the angle to be measured from which the edge search process is started. The search process ends at the respective destination points. Parameters for edge localization The remaining parameters are explained in detail in the chapter Edge localization [} 1440]. Expert parameters The F_VN_Measure Angle Between Edges Exp [} 1488] expert version contains additional parameters. Application The measurement of an angle between two linear edges looks like this, for example: hr := F_VN_Measure Angle Between Edges( ip Src Image := ip Image In, f Angle := f Angle, a Inner Point := a Inner Point, a Outer Point1 := a Outer Point1, a Outer Point2 := a Outer Point2, e Edge Direction := TCVN_ED_LIGHT_TO_DARK, f Min Strength := f Min Strength, n Search Lines := n Search Lines, hr Prev := hr); Samples • Measure Angle Between Edges [} 2807] TF7000 - TF7810 Version: 2.4.0 1487
## Page 1488

API reference Related functions • Closest Points BF [} 1447] for calculating the closest points in two point clouds • Measure Angle Between Edges [} 1486] for measuring the angle between two edges • Measure Edge Distance [} 1494] for measuring the average distance between two edges • Measure Min Edge Distance [} 1504] for measuring the minimum distance between two edges Required License TC3 Vision Metrology 2D System Requirements 6.1.4.20.16 F_VN_Measure Angle Between Edges Exp F_VN_Measure Angle Between Edges Exp ip Src Image ITc Vn Image HRESULT F_VN_Measure Angle Between Edges Exp ↔ f Angle REAL ↔ a Inner Point Tc Vn Point2_REAL ↔ a Outer Point1 Tc Vn Point2_REAL ↔ a Outer Point2 Tc Vn Point2_REAL e Edge Direction ETc Vn Edge Direction f Min Strength REAL n Search Lines UDINT f Search Line Dist REAL n Max Thickness UDINT b Invert Search Direction BOOL n Subpixels Iterations UDINT b Angle In Degrees BOOL f Approx Precision REAL e Algorithm ETc Vn Edge Detection Algorithm ip Edge Points1 Reference To ITc Vn Container ip Edge Points2 Reference To ITc Vn Container hr Prev HRESULT Measure the angle between 2 edges. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Measure Angle Between Edges Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR VAR_IN_OUT f Angle : REAL; a Inner Point : Tc Vn Point2_REAL; a Outer Point1 : Tc Vn Point2_REAL; a Outer Point2 : Tc Vn Point2_REAL; END_VAR VAR_INPUT e Edge Direction : ETc Vn Edge Direction; f Min Strength : REAL; n Search Lines : UDINT; f Search Line Dist : REAL; n Max Thickness : UDINT; b Invert Search Direction : BOOL; n Subpixels Iterations : UDINT; b Angle In Degrees : BOOL; f Approx Precision : REAL; e Algorithm : ETc Vn Edge Detection Algorithm; ip Edge Points1 : Reference To ITc Vn Container; ip Edge Points2 : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR 1488 Version: 2.4.0 TF7000 - TF7810
## Page 1489

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 channel) e Edge Direction ETc Vn Edge Direction Specification of the edge direction from a Inner Point to a Outer Point1 and a Outer Point2 to search for [} 202] f Min Strength REAL Specification of the minimum strength (intensity difference) of the edge to search for n Search Lines UDINT Width of the search window, i.e. the number of search lines (3, 5, 7, ...), centered around the line specified by a Inner Point and a Outer Point1, a Outer Point2 f Search Line Dis REAL Distance between the search lines in pixels (> 0) t n Max Thicknes UDINT Specification of the maximum thickness of the edge to search s for, which means f Min Strength must be reached within n Max Thickness pixels b Invert Search BOOL If true, the search starts from each a Outer Point in direction of Direction a Inner Point n Subpixels Itera UDINT Specifies the number of subpixels (for INTERPOLATION, 10 - tions 20 usually is sufficient) or maximum number of iterations for optimizing the parameters (for APPROX_ERF and APPROX_GAUSSIAN, 50 - 100 usually is sufficient) b Angle In Degre BOOL f Angle is in degrees, if true es f Approx Precisi REAL Specifies the approximation precision for APPROX_ERF and on APPROX_GAUSSIAN (0.001 usually is sufficient, unused for INTERPOLATION) e Algorithm Selection of the edge detection algorithm ETc Vn Edge Detection Algor ithm [} 202] ip Edge Points1 Reference To Returns the detected edge points between a Inner Point and ITc Vn Container [} 374] a Outer Point1 (Container Type_Vector_Tc Vn Point2_REAL) ip Edge Points2 Reference To Returns the detected edge points between a Inner Point and ITc Vn Container [} 374] a Outer Point2 (Container Type_Vector_Tc Vn Point2_REAL) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description f Angle REAL Returns the angle between the detected edges (radians or degrees, depending on b Angle In Degrees) a Inner Point Tc Vn Point2_REAL [} 163] Position inside the angle to measure, from which to start the edge search process (in the direction of a Outer Point1 and a Outer Point2) a Outer Point1 Tc Vn Point2_REAL [} 163] Position where the search process for edge 1 ends a Outer Point2 Tc Vn Point2_REAL [} 163] Position where the search process for edge 2 ends Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 1489
## Page 1490

API reference Further information The function F_VN_Measure Angle Between Edges Exp is the expert version of F_VN_Measure Angle Between Edges [} 1486]. Parameter Input image The ip Src Image input image must be a 1-channel grayscale image. Angle (Return value) The f Angle parameter returns the angle between the localized edges. Depending on the b Angle In Degrees parameter, the f Angle angle is specified in radians (FALSE) or in degrees (TRUE). Position information To localize the edges, the common starting point (a Inner Point) and the two target points (a Outer Point1, a Outer Point2) must first be specified. The position of the starting point must be within the angle to be measured from which the edge search process is started. The search process ends at the respective destination points. Parameters for edge localization The remaining parameters are explained in detail in the chapter Edge localization [} 1440]. Localized points (Expert, return value) The ip Edge Points1 and ip Edge Points2 containers return the exact points that were localized on the basis of each search line. If not needed, the 0 value can be transferred instead of an interface pointer Application The measurement of an angle with expert parameters looks like this, for example: hr := F_VN_Measure Angle Between Edges Exp( ip Src Image := ip Image In, f Angle := f Angle, a Inner Point := a Inner Point, a Outer Point1 := a Outer Point1, a Outer Point2 := a Outer Point2, e Edge Direction := TCVN_ED_LIGHT_TO_DARK, f Min Strength := f Min Strength, n Search Lines := n Search Lines, f Search Line Dist := f Search Line Dist, n Max Thickness := 7, b Invert Search Direction := False, n Subpixels Iterations := 10, b Angle In Degrees := TRUE, f Approx Precision := 0.001, e Algorithm := TCVN_EDA_INTERPOLATION, ip Edge Points1 := ip Edge Points1, ip Edge Points2 := ip Edge Points2, hr Prev := hr); Samples • Measure Angle Between Edges [} 2807] Related functions • Closest Points BF [} 1447] for calculating the closest points in two point clouds • Measure Angle Between Edges [} 1486] for measuring the angle between two edges • Measure Edge Distance [} 1494] for measuring the average distance between two edges • Measure Min Edge Distance [} 1504] for measuring the minimum distance between two edges 1490 Version: 2.4.0 TF7000 - TF7810
## Page 1491

API reference Required License TC3 Vision Metrology 2D System Requirements 6.1.4.20.17 F_VN_Measure Angle Between Edges Exp2 F_VN_Measure Angle Between Edges Exp2 ip Src Image ITc Vn Image HRESULT F_VN_Measure Angle Between Edges Exp2 ↔ f Angle REAL ↔ a Inner Point Tc Vn Point2_REAL ↔ a Outer Point1 Tc Vn Point2_REAL ↔ a Outer Point2 Tc Vn Point2_REAL e Edge Direction ETc Vn Edge Direction f Min Strength REAL n Search Lines UDINT f Search Line Dist REAL n Max Thickness UDINT b Invert Search Direction BOOL n Subpixels Iterations UDINT b Angle In Degrees BOOL f Approx Precision REAL e Algorithm ETc Vn Edge Detection Algorithm ip Edge Points1 Reference To ITc Vn Container ip Edge Points2 Reference To ITc Vn Container f Range Cutoff Factor REAL hr Prev HRESULT Measure the angle between 2 edges. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Measure Angle Between Edges Exp2 : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR VAR_IN_OUT f Angle : REAL; a Inner Point : Tc Vn Point2_REAL; a Outer Point1 : Tc Vn Point2_REAL; a Outer Point2 : Tc Vn Point2_REAL; END_VAR VAR_INPUT e Edge Direction : ETc Vn Edge Direction; f Min Strength : REAL; n Search Lines : UDINT; f Search Line Dist : REAL; n Max Thickness : UDINT; b Invert Search Direction : BOOL; n Subpixels Iterations : UDINT; b Angle In Degrees : BOOL; f Approx Precision : REAL; e Algorithm : ETc Vn Edge Detection Algorithm; ip Edge Points1 : Reference To ITc Vn Container; ip Edge Points2 : Reference To ITc Vn Container; f Range Cutoff Factor : REAL; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1491
## Page 1492

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 channel) e Edge Direction ETc Vn Edge Direction Specification of the edge direction from a Inner Point to a Outer Point1 and a Outer Point2 to search for [} 202] f Min Strength REAL Specification of the minimum strength (intensity difference) of the edge to search for n Search Lines UDINT Width of the search window, i.e. the number of search lines (3, 5, 7, ...), centered around the line specified by a Inner Point and a Outer Point1, a Outer Point2 f Search Line Dis REAL Distance between the search lines in pixels (> 0) t n Max Thicknes UDINT Specification of the maximum thickness of the edge to search s for, which means f Min Strength must be reached within n Max Thickness pixels b Invert Search BOOL If true, the search starts from each a Outer Point in direction of Direction a Inner Point n Subpixels Itera UDINT Specifies the number of subpixels (for INTERPOLATION, 10 - tions 20 usually is sufficient) or maximum number of iterations for optimizing the parameters (for APPROX_ERF and APPROX_GAUSSIAN, 50 - 100 usually is sufficient) b Angle In Degre BOOL f Angle is in degrees, if true es f Approx Precisi REAL Specifies the approximation precision for APPROX_ERF and on APPROX_GAUSSIAN (0.001 usually is sufficient, unused for INTERPOLATION) e Algorithm Selection of the edge detection algorithm ETc Vn Edge Detection Algor ithm [} 202] ip Edge Points1 Reference To Returns the detected edge points between a Inner Point and ITc Vn Container [} 374] a Outer Point1 (Container Type_Vector_Tc Vn Point2_REAL) ip Edge Points2 Reference To Returns the detected edge points between a Inner Point and ITc Vn Container [} 374] a Outer Point2 (Container Type_Vector_Tc Vn Point2_REAL) f Range Cutoff F REAL Relative edge strength factor to cut off the range of pixels used actor for approximation. Negative numbers are valid to include noise, i.e. intensity differences in the other direction. At most n Max Thickness pixels are used in each direction. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description f Angle REAL Returns the angle between the detected edges (radians or degrees, depending on b Angle In Degrees) a Inner Point Tc Vn Point2_REAL [} 163] Position inside the angle to measure, from which to start the edge search process (in the direction of a Outer Point1 and a Outer Point2) a Outer Point1 Tc Vn Point2_REAL [} 163] Position where the search process for edge 1 ends a Outer Point2 Tc Vn Point2_REAL [} 163] Position where the search process for edge 2 ends Return value HRESULT [} 144] 1492 Version: 2.4.0 TF7000 - TF7810
## Page 1493

API reference Further information The F_VN_Measure Angle Between Edges Exp2 function is the expert version of F_VN_Measure Angle Between Edges [} 1486]. Parameter Input image The ip Src Image input image must be a 1-channel grayscale image. Angle (Return value) The f Angle parameter returns the angle between the localized edges. Depending on the b Angle In Degrees parameter, the f Angle angle is specified in radians (FALSE) or in degrees (TRUE). Position information To localize the edges, the common starting point (a Inner Point) and the two target points (a Outer Point1, a Outer Point2) must first be specified. The position of the starting point must be within the angle to be measured from which the edge search process is started. The search process ends at the respective destination points. Parameters for edge localization The remaining parameters are explained in detail in the chapter Edge localization [} 1440]. Localized points (Expert, return value) The ip Edge Points1 and ip Edge Points2 containers return the exact points that were localized on the basis of each search line. If not needed, the 0 value can be transferred instead of an interface pointer Application The measurement of an angle with expert parameters looks like this, for example: hr := F_VN_Measure Angle Between Edges Exp2( ip Src Image := ip Image In, f Angle := f Angle, a Inner Point := a Inner Point, a Outer Point1 := a Outer Point1, a Outer Point2 := a Outer Point2, e Edge Direction := TCVN_ED_LIGHT_TO_DARK, f Min Strength := f Min Strength, n Search Lines := n Search Lines, f Search Line Dist := f Search Line Dist, n Max Thickness := 7, b Invert Search Direction := False, n Subpixels Iterations := 10, b Angle In Degrees := TRUE, f Approx Precision := 0.001, e Algorithm := TCVN_EDA_INTERPOLATION, ip Edge Points1 := ip Edge Points1, ip Edge Points2 := ip Edge Points2, f Range Cutoff Factor := 0.135, hr Prev := hr); Samples • Measure Angle Between Edges [} 2807] Related functions • Closest Points BF [} 1447] for calculating the closest points in two point clouds • Measure Angle Between Edges [} 1486] for measuring the angle between two edges • Measure Edge Distance [} 1494] for measuring the average distance between two edges • Measure Min Edge Distance [} 1504] for measuring the minimum distance between two edges TF7000 - TF7810 Version: 2.4.0 1493
## Page 1494

API reference Required License TC3 Vision Metrology 2D System Requirements 6.1.4.20.18 F_VN_Measure Edge Distance F_VN_Measure Edge Distance ip Src Image ITc Vn Image HRESULT F_VN_Measure Edge Distance ↔ f Avg Distance REAL ↔ a Start Point Tc Vn Point2_REAL ↔ a End Point Tc Vn Point2_REAL e Edge Direction ETc Vn Edge Direction f Min Strength REAL n Search Lines UDINT hr Prev HRESULT Measure the distance between 2 parallel edges, using an interpolation method. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Measure Edge Distance : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR VAR_IN_OUT f Avg Distance : REAL; a Start Point : Tc Vn Point2_REAL; a End Point : Tc Vn Point2_REAL; END_VAR VAR_INPUT e Edge Direction : ETc Vn Edge Direction; f Min Strength : REAL; n Search Lines : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 channel) e Edge Direction ETc Vn Edge Direction Specification of the edge direction from a Start Point to a End Point to search for [} 202] f Min Strength REAL Specification of the minimum strength (intensity difference) of the edge to search for n Search Lines UDINT Width of the search window, i.e. the number of search lines (1, 3, 5, 7, ...), centered around the line specified by a Start Point and a End Point hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 1494 Version: 2.4.0 TF7000 - TF7810
## Page 1495

API reference In/Outputs Name Type Description f Avg Distance REAL Returns the average distance between the detected edges a Start Point Tc Vn Point2_REAL [} 163] Position from which to start the search process (in the direction of a End Point) a End Point Tc Vn Point2_REAL [} 163] Position where the search process ends Return value HRESULT [} 144] Further information The F_VN_Measure Edge Distance function localizes two linear edges and measures the average distance between them. Parameter Input image The ip Src Image input image must be a 1-channel grayscale image. Average distance (Return value) The f Avg Distance parameter returns the average distance between the two localized edges. The search window First, a search window has to be defined to determine where and in which direction to search for an edge. This is done using the a Start Point, a End Point and n Search Lines parameters. The search window results from the search line from a Start Point to a End Point and parallel to it (n Search Lines - 1) / 2 search lines in each direction, each with 1 pixel distance. Thus n Search Lines defines the number of search lines and must always have an odd value. Fig. 21: S: Start Point, E: End Point, W: Window Width Parameters for edge localization The remaining parameters are explained in detail in the chapter Edge localization [} 1440]. TF7000 - TF7810 Version: 2.4.0 1495
## Page 1496

API reference Expert parameters The F_VN_Measure Edge Distance Exp [} 1496] expert version contains additional parameters. Application The measurement of an edge distance looks like this, for example: hr := F_VN_Measure Edge Distance( ip Src Image := ip Image In, f Avg Distance := f Avg Distance, a Start Point := a Start Point, a End Point := a End Point, e Edge Direction := TCVN_ED_LIGHT_TO_DARK, f Min Strength := f Min Strength, n Search Lines := n Search Lines, hr Prev := hr); Related functions • Closest Points BF [} 1447] for calculating the closest points in two point clouds • Measure Angle Between Edges [} 1486] for measuring the angle between two edges • Measure Edge Distance [} 1494] for measuring the average distance between two edges • Measure Min Edge Distance [} 1504] for measuring the minimum distance between two edges Required License TC3 Vision Metrology 2D System Requirements 6.1.4.20.19 F_VN_Measure Edge Distance Exp F_VN_Measure Edge Distance Exp ip Src Image ITc Vn Image HRESULT F_VN_Measure Edge Distance Exp ↔ f Avg Distance REAL ↔ a Start Point Tc Vn Point2_REAL ↔ a End Point Tc Vn Point2_REAL e Edge Direction ETc Vn Edge Direction f Min Strength REAL n Search Lines UDINT f Search Line Dist REAL n Max Thickness UDINT b Invert Search Direction BOOL f Search Gap REAL n Subpixels Iterations UDINT f Approx Precision REAL e Algorithm ETc Vn Edge Detection Algorithm ip Edge Points1 Reference To ITc Vn Container ip Edge Points2 Reference To ITc Vn Container ip Distances Reference To ITc Vn Container hr Prev HRESULT Measure the distance between 2 parallel edges. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Measure Edge Distance Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR VAR_IN_OUT 1496 Version: 2.4.0 TF7000 - TF7810
## Page 1497

API reference f Avg Distance : REAL; a Start Point : Tc Vn Point2_REAL; a End Point : Tc Vn Point2_REAL; END_VAR VAR_INPUT e Edge Direction : ETc Vn Edge Direction; f Min Strength : REAL; n Search Lines : UDINT; f Search Line Dist : REAL; n Max Thickness : UDINT; b Invert Search Direction : BOOL; f Search Gap : REAL; n Subpixels Iterations : UDINT; f Approx Precision : REAL; e Algorithm : ETc Vn Edge Detection Algorithm; ip Edge Points1 : Reference To ITc Vn Container; ip Edge Points2 : Reference To ITc Vn Container; ip Distances : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1497
## Page 1498

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 channel) e Edge Direction ETc Vn Edge Direction Specification of the edge direction from a Start Point to a End Point to search for [} 202] f Min Strength REAL Specification of the minimum strength (intensity difference) of the edge to search for n Search Lines UDINT Width of the search window, i.e. the number of search lines (1, 3, 5, 7, ...), centered around the line specified by a Start Point and a End Point f Search Line Dis REAL Distance between the search lines in pixels (> 0) t n Max Thicknes UDINT Specification of the maximum thickness of the edge to search s for, which means f Min Strength must be reached within n Max Thickness pixels b Invert Search BOOL If true, the search starts from the center point between Direction a Start Point and a End Point in both directions f Search Gap REAL Optional width of a gap (>= 0, centered between a Start Point and a End Point), that is neglected for searching edges (can reduce execution time). The 2 edges to search for must be on different sides of the gap. n Subpixels Itera UDINT Specifies the number of subpixels (for INTERPOLATION, 10 - tions 20 usually is sufficient) or maximum number of iterations for optimizing the parameters (for APPROX_ERF and APPROX_GAUSSIAN, 50 - 100 usually is sufficient) f Approx Precisi REAL Specifies the approximation precision for APPROX_ERF and on APPROX_GAUSSIAN (0.001 usually is sufficient, unused for INTERPOLATION) e Algorithm Selection of the edge detection algorithm ETc Vn Edge Detection Algor ithm [} 202] ip Edge Points1 Reference To Returns the detected edge points of the edge near a Start Point ITc Vn Container [} 374] (optional, set to 0 if not required; Container Type_Vector_Tc Vn Point2_REAL) ip Edge Points2 Reference To Returns the detected edge points of the edge near a End Point ITc Vn Container [} 374] (optional, set to 0 if not required; Container Type_Vector_Tc Vn Point2_REAL) ip Distances Reference To Returns the distances between the detected edge points ITc Vn Container [} 374] (optional, set to 0 if not required; Container Type_Vector_REAL) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description f Avg Distance REAL Returns the average distance between the detected edges a Start Point Tc Vn Point2_REAL [} 163] Position from which to start the search process (in the direction of a End Point) a End Point Tc Vn Point2_REAL [} 163] Position where the search process ends Return value HRESULT [} 144] 1498 Version: 2.4.0 TF7000 - TF7810
## Page 1499

API reference Further information The F_VN_Measure Edge Distance Exp function is the expert version of F_VN_Measure Edge Distance [} 1494]. It contains additional parameters. Parameter Input image The ip Src Image input image must be a 1-channel grayscale image. Average distance (Return value) The f Avg Distance parameter returns the average distance between the two localized edges. The search window First, a search window has to be defined to determine where and in which direction to search for an edge. This is done using the a Start Point, a End Point and n Search Lines parameters. The search window results from the search line from a Start Point to a End Point and parallel to it (n Search Lines - 1) / 2 search lines in each direction, each with 1 pixel distance. Thus n Search Lines defines the number of search lines and must always have an odd value. Fig. 22: S: Start Point, E: End Point, W: Window Width Localized edge points (Expert, return value) The ip Edge Points1 and ip Edge Points2 containers return the exact points that were localized on the basis of each search line. If not needed, the 0 value can be transferred instead of an interface pointer. Measured distances (Expert, return value) The ip Distances container returns all measured distances between opposite points. If not needed, the 0 value can be transferred instead of an interface pointer. Search gap (Expert) With f Search Gap you can specify an area in the middle of the defined search line that is omitted or skipped during the search. This can reduce the execution time. Parameters for edge localization The remaining parameters are explained in detail in the chapter Edge localization [} 1440]. TF7000 - TF7810 Version: 2.4.0 1499
## Page 1500

API reference Application The measurement of an edge distance with expert parameters looks like this, for example: hr := F_VN_Measure Edge Distance Exp( ip Src Image := ip Image In, f Avg Distance := f Avg Distance, a Start Point := a Start Point, a End Point := a End Point, e Edge Direction := TCVN_ED_LIGHT_TO_DARK, f Min Strength := f Min Strength, n Search Lines := n Search Lines, f Search Line Dist := 3, n Max Thickness := 7, b Invert Search Direction := TRUE, f Search Gap := 100, n Subpixels Iterations := n Subpix Iter, f Approx Precision := 0.001, e Algorithm := e Algorithm, ip Edge Points1 := ip Edge Points1, ip Edge Points2 := ip Edge Points2, ip Distances := ip Distances, hr Prev := hr); The localized edge points can be visualized with the function F_VN_Draw Contours [} 991]: hr := F_VN_Draw Contours(ip Edge Points1, -1, ip Image Res, a Color Green, 5, hr); hr := F_VN_Draw Contours(ip Edge Points2, -1, ip Image Res, a Color Green, 5, hr); Related functions • Closest Points BF [} 1447] for calculating the closest points in two point clouds • Measure Angle Between Edges [} 1486] for measuring the angle between two edges • Measure Edge Distance [} 1494] for measuring the average distance between two edges • Measure Min Edge Distance [} 1504] for measuring the minimum distance between two edges Required License TC3 Vision Metrology 2D System Requirements 6.1.4.20.20 F_VN_Measure Edge Distance Exp2 F_VN_Measure Edge Distance Exp2 ip Src Image ITc Vn Image HRESULT F_VN_Measure Edge Distance Exp2 ↔ f Avg Distance REAL ↔ a Start Point Tc Vn Point2_REAL ↔ a End Point Tc Vn Point2_REAL e Edge Direction ETc Vn Edge Direction f Min Strength REAL n Search Lines UDINT f Search Line Dist REAL n Max Thickness UDINT b Invert Search Direction BOOL f Search Gap REAL n Subpixels Iterations UDINT f Approx Precision REAL e Algorithm ETc Vn Edge Detection Algorithm ip Edge Points1 Reference To ITc Vn Container ip Edge Points2 Reference To ITc Vn Container ip Distances Reference To ITc Vn Container f Range Cutoff Factor REAL hr Prev HRESULT Measure the distance between 2 parallel edges. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. 1500 Version: 2.4.0 TF7000 - TF7810
## Page 1501

API reference Syntax Definition: FUNCTION F_VN_Measure Edge Distance Exp2 : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR VAR_IN_OUT f Avg Distance : REAL; a Start Point : Tc Vn Point2_REAL; a End Point : Tc Vn Point2_REAL; END_VAR VAR_INPUT e Edge Direction : ETc Vn Edge Direction; f Min Strength : REAL; n Search Lines : UDINT; f Search Line Dist : REAL; n Max Thickness : UDINT; b Invert Search Direction : BOOL; f Search Gap : REAL; n Subpixels Iterations : UDINT; f Approx Precision : REAL; e Algorithm : ETc Vn Edge Detection Algorithm; ip Edge Points1 : Reference To ITc Vn Container; ip Edge Points2 : Reference To ITc Vn Container; ip Distances : Reference To ITc Vn Container; f Range Cutoff Factor : REAL; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1501
## Page 1502

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 channel) e Edge Direction ETc Vn Edge Direction Specification of the edge direction from a Start Point to a End Point to search for [} 202] f Min Strength REAL Specification of the minimum strength (intensity difference) of the edge to search for n Search Lines UDINT Width of the search window, i.e. the number of search lines (1, 3, 5, 7, ...), centered around the line specified by a Start Point and a End Point f Search Line Dis REAL Distance between the search lines in pixels (> 0) t n Max Thicknes UDINT Specification of the maximum thickness of the edge to search s for, which means f Min Strength must be reached within n Max Thickness pixels b Invert Search BOOL If true, the search starts from the center point between Direction a Start Point and a End Point in both directions f Search Gap REAL Optional width of a gap (>= 0, centered between a Start Point and a End Point), that is neglected for searching edges (can reduce execution time). The 2 edges to search for must be on different sides of the gap. n Subpixels Itera UDINT Specifies the number of subpixels (for INTERPOLATION, 10 - tions 20 usually is sufficient) or maximum number of iterations for optimizing the parameters (for APPROX_ERF and APPROX_GAUSSIAN, 50 - 100 usually is sufficient) f Approx Precisi REAL Specifies the approximation precision for APPROX_ERF and on APPROX_GAUSSIAN (0.001 usually is sufficient, unused for INTERPOLATION) e Algorithm Selection of the edge detection algorithm ETc Vn Edge Detection Algor ithm [} 202] ip Edge Points1 Reference To Returns the detected edge points of the edge near a Start Point ITc Vn Container [} 374] (optional, set to 0 if not required; Container Type_Vector_Tc Vn Point2_REAL) ip Edge Points2 Reference To Returns the detected edge points of the edge near a End Point ITc Vn Container [} 374] (optional, set to 0 if not required; Container Type_Vector_Tc Vn Point2_REAL) ip Distances Reference To Returns the distances between the detected edge points ITc Vn Container [} 374] (optional, set to 0 if not required; Container Type_Vector_REAL) f Range Cutoff F REAL Relative edge strength factor to cut off the range of pixels used actor for approximation. Negative numbers are valid to include noise, i.e. intensity differences in the other direction. At most n Max Thickness pixels are used in each direction. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description f Avg Distance REAL Returns the average distance between the detected edges a Start Point Tc Vn Point2_REAL [} 163] Position from which to start the search process (in the direction of a End Point) a End Point Tc Vn Point2_REAL [} 163] Position where the search process ends 1502 Version: 2.4.0 TF7000 - TF7810
## Page 1503

API reference Return value HRESULT [} 144] Further information The F_VN_Measure Edge Distance Exp2 function is the expert version of F_VN_Measure Edge Distance [} 1494]. It contains additional parameters. Parameter Input image The ip Src Image input image must be a 1-channel grayscale image. Average distance (Return value) The f Avg Distance parameter returns the average distance between the two localized edges. The search window First, a search window has to be defined to determine where and in which direction to search for an edge. This is done using the a Start Point, a End Point and n Search Lines parameters. The search window results from the search line from a Start Point to a End Point and parallel to it (n Search Lines - 1) / 2 search lines in each direction, each with 1 pixel distance. Thus n Search Lines defines the number of search lines and must always have an odd value. Fig. 23: S: Start Point, E: End Point, W: Window Width Localized edge points (Expert, return value) The ip Edge Points1 and ip Edge Points2 containers return the exact points that were localized on the basis of each search line. If not needed, the 0 value can be transferred instead of an interface pointer. Measured distances (Expert, return value) The ip Distances container returns all measured distances between opposite points. If not needed, the 0 value can be transferred instead of an interface pointer. Search gap (Expert) With f Search Gap you can specify an area in the middle of the defined search line that is omitted or skipped during the search. This can reduce the execution time. TF7000 - TF7810 Version: 2.4.0 1503
## Page 1504

API reference Parameters for edge localization The remaining parameters are explained in detail in the chapter Edge localization [} 1440]. Application The measurement of an edge distance with expert parameters looks like this, for example: hr := F_VN_Measure Edge Distance Exp2( ip Src Image := ip Image In, f Avg Distance := f Avg Distance, a Start Point := a Start Point, a End Point := a End Point, e Edge Direction := TCVN_ED_LIGHT_TO_DARK, f Min Strength := f Min Strength, n Search Lines := n Search Lines, f Search Line Dist := 3, n Max Thickness := 7, b Invert Search Direction := TRUE, f Search Gap := 100, n Subpixels Iterations := n Subpix Iter, f Approx Precision := 0.001, e Algorithm := e Algorithm, ip Edge Points1 := ip Edge Points1, ip Edge Points2 := ip Edge Points2, ip Distances := ip Distances, f Range Cutoff Factor := 0.135, hr Prev := hr); Related functions • Closest Points BF [} 1447] for calculating the closest points in two point clouds • Measure Angle Between Edges [} 1486] for measuring the angle between two edges • Measure Edge Distance [} 1494] for measuring the average distance between two edges • Measure Min Edge Distance [} 1504] for measuring the minimum distance between two edges Required License TC3 Vision Metrology 2D System Requirements 6.1.4.20.21 F_VN_Measure Min Edge Distance F_VN_Measure Min Edge Distance ip Src Image ITc Vn Image HRESULT F_VN_Measure Min Edge Distance ↔ f Min Distance REAL ↔ a Start Point Tc Vn Point2_REAL ↔ a End Point Tc Vn Point2_REAL e Edge Direction ETc Vn Edge Direction f Min Strength REAL n Search Lines UDINT hr Prev HRESULT Measure the minimum distance within the specified search window between 2 edges, using an interpolation method. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Measure Min Edge Distance : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR 1504 Version: 2.4.0 TF7000 - TF7810
## Page 1505

API reference VAR_IN_OUT f Min Distance : REAL; a Start Point : Tc Vn Point2_REAL; a End Point : Tc Vn Point2_REAL; END_VAR VAR_INPUT e Edge Direction : ETc Vn Edge Direction; f Min Strength : REAL; n Search Lines : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 channel) e Edge Direction ETc Vn Edge Direction Specification of the edge direction from a Start Point to a End Point to search for [} 202] f Min Strength REAL Specification of the minimum strength (intensity difference) of the edge to search for n Search Lines UDINT Width of the search window, i.e. the number of search lines (1, 3, 5, 7, ...), centered around the line specified by a Start Point and a End Point hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description f Min Distance REAL Returns the minimum distance between the detected edges a Start Point Tc Vn Point2_REAL [} 163] Position from which to start the search process (in the direction of a End Point) a End Point Tc Vn Point2_REAL [} 163] Position where the search process ends Return value HRESULT [} 144] Further information The F_VN_Measure Min Edge Distance function localizes two linear edges and measures the minimum distance between them. Parameter Input image The ip Src Image input image must be a 1-channel grayscale image. Minimum distance (Return value) The f Min Distance parameter returns the minimum distance between the two localized edges. The search window First, a search window has to be defined to determine where and in which direction to search for an edge. This is done using the a Start Point, a End Point and n Search Lines parameters. The search window results from the search line from a Start Point to a End Point and parallel to it (n Search Lines - 1) / 2 search lines in each direction, each with 1 pixel distance. Thus n Search Lines defines the number of search lines and must always have an odd value. TF7000 - TF7810 Version: 2.4.0 1505
## Page 1506

API reference Fig. 24: S: Start Point, E: End Point, W: Window Width Parameters for edge localization The remaining parameters are explained in detail in the chapter Edge localization [} 1440]. Expert parameters The F_VN_Measure Min Edge Distance Exp [} 1507] expert version contains additional parameters. Application The measurement of an edge distance looks like this, for example: hr := F_VN_Measure Min Edge Distance( ip Src Image := ip Image In, f Min Distance := f Min Distance, a Start Point := a Start Point, a End Point := a End Point, e Edge Direction := TCVN_ED_LIGHT_TO_DARK, f Min Strength := f Min Strength, n Search Lines := n Search Lines, hr Prev := hr); Related functions • Closest Points BF [} 1447] for calculating the closest points in two point clouds • Measure Angle Between Edges [} 1486] for measuring the angle between two edges • Measure Edge Distance [} 1494] for measuring the average distance between two edges • Measure Min Edge Distance [} 1504] for measuring the minimum distance between two edges Required License TC3 Vision Metrology 2D 1506 Version: 2.4.0 TF7000 - TF7810
## Page 1507

API reference System Requirements 6.1.4.20.22 F_VN_Measure Min Edge Distance Exp F_VN_Measure Min Edge Distance Exp ip Src Image ITc Vn Image HRESULT F_VN_Measure Min Edge Distance Exp ↔ f Min Distance REAL ↔ a Start Point Tc Vn Point2_REAL ↔ a End Point Tc Vn Point2_REAL e Edge Direction ETc Vn Edge Direction f Min Strength REAL n Search Lines UDINT f Search Line Dist REAL n Max Thickness UDINT b Invert Search Direction BOOL f Search Gap REAL n Subpixels Iterations UDINT f Approx Precision REAL e Algorithm ETc Vn Edge Detection Algorithm ip Edge Points1 Reference To ITc Vn Container ip Edge Points2 Reference To ITc Vn Container ↔ a Point1 Tc Vn Point2_REAL ↔ a Point2 Tc Vn Point2_REAL hr Prev HRESULT Measure the minimum distance within the specified search window between 2 edges. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Measure Min Edge Distance Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR VAR_IN_OUT f Min Distance : REAL; a Start Point : Tc Vn Point2_REAL; a End Point : Tc Vn Point2_REAL; END_VAR VAR_INPUT e Edge Direction : ETc Vn Edge Direction; f Min Strength : REAL; n Search Lines : UDINT; f Search Line Dist : REAL; n Max Thickness : UDINT; b Invert Search Direction : BOOL; f Search Gap : REAL; n Subpixels Iterations : UDINT; f Approx Precision : REAL; e Algorithm : ETc Vn Edge Detection Algorithm; ip Edge Points1 : Reference To ITc Vn Container; ip Edge Points2 : Reference To ITc Vn Container; END_VAR VAR_IN_OUT a Point1 : Tc Vn Point2_REAL; a Point2 : Tc Vn Point2_REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1507
## Page 1508

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 channel) e Edge Direction ETc Vn Edge Direction Specification of the edge direction from a Start Point to a End Point to search for [} 202] f Min Strength REAL Specification of the minimum strength (intensity difference) of the edge to search for n Search Lines UDINT Width of the search window, i.e. the number of search lines (1, 3, 5, 7, ...), centered around the line specified by a Start Point and a End Point f Search Line Dis REAL Distance between the search lines in pixels (> 0) t n Max Thicknes UDINT Specification of the maximum thickness of the edge to search s for, which means f Min Strength must be reached within n Max Thickness pixels b Invert Search BOOL If true, the search starts from the center point between Direction a Start Point and a End Point in both directions f Search Gap REAL Optional width of a gap (>= 0, centered between a Start Point and a End Point), that is neglected for searching edges (can reduce execution time). The 2 edges to search for must be on different sides of the gap. n Subpixels Itera UDINT Specifies the number of subpixels (for INTERPOLATION, 10 - tions 20 usually is sufficient) or maximum number of iterations for optimizing the parameters (for APPROX_ERF and APPROX_GAUSSIAN, 50 - 100 usually is sufficient) f Approx Precisi REAL Specifies the approximation precision for APPROX_ERF and on APPROX_GAUSSIAN (0.001 usually is sufficient, unused for INTERPOLATION) e Algorithm Selection of the edge detection algorithm ETc Vn Edge Detection Algor ithm [} 202] ip Edge Points1 Reference To Returns the detected edge points of the edge near a Start Point ITc Vn Container [} 374] (optional, set to 0 if not required; Container Type_Vector_Tc Vn Point2_REAL) ip Edge Points2 Reference To Returns the detected edge points of the edge near a End Point ITc Vn Container [} 374] (optional, set to 0 if not required; Container Type_Vector_Tc Vn Point2_REAL) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description f Min Distance REAL Returns the minimum distance between the detected edges a Start Point Tc Vn Point2_REAL [} 163] Position from which to start the search process (in the direction of a End Point) a End Point Tc Vn Point2_REAL [} 163] Position where the search process ends a Point1 Tc Vn Point2_REAL [} 163] Returns the point on the edge near a Start Point, for which the minimum distance is achieved a Point2 Tc Vn Point2_REAL [} 163] Returns the point on the edge near a End Point, for which the minimum distance is achieved 1508 Version: 2.4.0 TF7000 - TF7810
## Page 1509

API reference Return value HRESULT [} 144] Further information The F_VN_Measure Min Edge Distance Exp function is the expert version of F_VN_Measure Min Edge Distance [} 1504]. It contains additional parameters. Parameter Input image The ip Src Image input image must be a 1-channel grayscale image. Minimum distance (Return value) The f Min Distance parameter returns the minimum distance between the two localized edges. The search window First, a search window has to be defined to determine where and in which direction to search for an edge. This is done using the a Start Point, a End Point and n Search Lines parameters. The search window results from the search line from a Start Point to a End Point and parallel to it (n Search Lines - 1) / 2 search lines in each direction, each with 1 pixel distance. Thus n Search Lines defines the number of search lines and must always have an odd value. Fig. 25: S: Start Point, E: End Point, W: Window Width Localized edge points (Return value) The ip Edge Points1 and ip Edge Points2 containers return the exact points that were localized on the basis of each search line. If not needed, the value 0 can be transferred instead of an interface pointer. In addition, the a Point1 and a Point2 points return the points that have the minimum distance between the two edges. Search gap (Expert) With f Search Gap you can specify an area in the middle of the defined search line that is omitted during the search. This can reduce the execution time. Parameters for edge localization TF7000 - TF7810 Version: 2.4.0 1509
## Page 1510

API reference The remaining parameters are explained in detail in the chapter Edge localization [} 1440]. Application The measurement of the minimum edge distance with Expert parameters looks like this, for example: hr := F_VN_Measure Min Edge Distance Exp( ip Src Image := ip Image In, f Min Distance := f Min Distance, a Start Point := a Start Point, a End Point := a End Point, e Edge Direction := TCVN_ED_LIGHT_TO_DARK, f Min Strength := f Min Strength, n Search Lines := n Search Lines, f Search Line Dist := 3, n Max Thickness := 7, b Invert Search Direction := TRUE, f Search Gap := 100, n Subpixels Iterations := 10, f Approx Precision := 0.001, e Algorithm := TCVN_EDA_INTERPOLATION, ip Edge Points1 := ip Edge Points1, ip Edge Points2 := ip Edge Points2, a Point1 := a Point1, a Point2 := a Point2, hr Prev := hr); The localized edge points can be visualized with the F_VN_Draw Contours [} 991] and F_VN_Draw Point [} 1012] functions: hr := F_VN_Draw Contours(ip Edge Points1, -1, ip Image Res, a Color Green, 5, hr); hr := F_VN_Draw Contours(ip Edge Points2, -1, ip Image Res, a Color Green, 5, hr); hr := F_VN_Draw Point(REAL_TO_UDINT(a Point1[0]), REAL_TO_UDINT(a Point1[1]), ip Image Res, TCVN_DS_X, a Color Green, hr); hr := F_VN_Draw Point(REAL_TO_UDINT(a Point2[0]), REAL_TO_UDINT(a Point2[1]), ip Image Res, TCVN_DS_X, a Color Green, hr); Related functions • Closest Points BF [} 1447] for calculating the closest points in two point clouds • Measure Angle Between Edges [} 1486] for measuring the angle between two edges • Measure Edge Distance [} 1494] for measuring the average distance between two edges • Measure Min Edge Distance [} 1504] for measuring the minimum distance between two edges Required License TC3 Vision Metrology 2D 1510 Version: 2.4.0 TF7000 - TF7810
## Page 1511

API reference System Requirements 6.1.4.20.23 F_VN_Measure Min Edge Distance Exp2 F_VN_Measure Min Edge Distance Exp2 ip Src Image ITc Vn Image HRESULT F_VN_Measure Min Edge Distance Exp2 ↔ f Min Distance REAL ↔ a Start Point Tc Vn Point2_REAL ↔ a End Point Tc Vn Point2_REAL e Edge Direction ETc Vn Edge Direction f Min Strength REAL n Search Lines UDINT f Search Line Dist REAL n Max Thickness UDINT b Invert Search Direction BOOL f Search Gap REAL n Subpixels Iterations UDINT f Approx Precision REAL e Algorithm ETc Vn Edge Detection Algorithm ip Edge Points1 Reference To ITc Vn Container ip Edge Points2 Reference To ITc Vn Container ↔ a Point1 Tc Vn Point2_REAL ↔ a Point2 Tc Vn Point2_REAL f Range Cutoff Factor REAL hr Prev HRESULT Measure the minimum distance within the specified search window between 2 edges. (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: FUNCTION F_VN_Measure Min Edge Distance Exp2 : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; END_VAR VAR_IN_OUT f Min Distance : REAL; a Start Point : Tc Vn Point2_REAL; a End Point : Tc Vn Point2_REAL; END_VAR VAR_INPUT e Edge Direction : ETc Vn Edge Direction; f Min Strength : REAL; n Search Lines : UDINT; f Search Line Dist : REAL; n Max Thickness : UDINT; b Invert Search Direction : BOOL; f Search Gap : REAL; n Subpixels Iterations : UDINT; f Approx Precision : REAL; e Algorithm : ETc Vn Edge Detection Algorithm; ip Edge Points1 : Reference To ITc Vn Container; ip Edge Points2 : Reference To ITc Vn Container; END_VAR VAR_IN_OUT a Point1 : Tc Vn Point2_REAL; a Point2 : Tc Vn Point2_REAL; END_VAR VAR_INPUT f Range Cutoff Factor : REAL; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1511
## Page 1512

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 channel) e Edge Direction ETc Vn Edge Direction Specification of the edge direction from a Start Point to a End Point to search for [} 202] f Min Strength REAL Specification of the minimum strength (intensity difference) of the edge to search for n Search Lines UDINT Width of the search window, i.e. the number of search lines (1, 3, 5, 7, ...), centered around the line specified by a Start Point and a End Point f Search Line Dis REAL Distance between the search lines in pixels (> 0) t n Max Thicknes UDINT Specification of the maximum thickness of the edge to search s for, which means f Min Strength must be reached within n Max Thickness pixels b Invert Search BOOL If true, the search starts from the center point between Direction a Start Point and a End Point in both directions f Search Gap REAL Optional width of a gap (>= 0, centered between a Start Point and a End Point), that is neglected for searching edges (can reduce execution time). The 2 edges to search for must be on different sides of the gap. n Subpixels Itera UDINT Specifies the number of subpixels (for INTERPOLATION, 10 - tions 20 usually is sufficient) or maximum number of iterations for optimizing the parameters (for APPROX_ERF and APPROX_GAUSSIAN, 50 - 100 usually is sufficient) f Approx Precisi REAL Specifies the approximation precision for APPROX_ERF and on APPROX_GAUSSIAN (0.001 usually is sufficient, unused for INTERPOLATION) e Algorithm Selection of the edge detection algorithm ETc Vn Edge Detection Algor ithm [} 202] ip Edge Points1 Reference To Returns the detected edge points of the edge near a Start Point ITc Vn Container [} 374] (optional, set to 0 if not required; Container Type_Vector_Tc Vn Point2_REAL) ip Edge Points2 Reference To Returns the detected edge points of the edge near a End Point ITc Vn Container [} 374] (optional, set to 0 if not required; Container Type_Vector_Tc Vn Point2_REAL) f Range Cutoff F REAL Relative edge strength factor to cut off the range of pixels used actor for approximation. Negative numbers are valid to include noise, i.e. intensity differences in the other direction. At most n Max Thickness pixels are used in each direction. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description f Min Distance REAL Returns the minimum distance between the detected edges a Start Point Tc Vn Point2_REAL [} 163] Position from which to start the search process (in the direction of a End Point) a End Point Tc Vn Point2_REAL [} 163] Position where the search process ends a Point1 Tc Vn Point2_REAL [} 163] Returns the point on the edge near a Start Point, for which the minimum distance is achieved a Point2 Tc Vn Point2_REAL [} 163] Returns the point on the edge near a End Point, for which the minimum distance is achieved 1512 Version: 2.4.0 TF7000 - TF7810
## Page 1513

API reference Return value HRESULT [} 144] Further information The F_VN_Measure Min Edge Distance Exp2 function is the expert version of F_VN_Measure Min Edge Distance [} 1504]. It contains additional parameters. Parameter Input image The ip Src Image input image must be a 1-channel grayscale image. Minimum distance (Return value) The f Min Distance parameter returns the minimum distance between the two localized edges. The search window First, a search window has to be defined to determine where and in which direction to search for an edge. This is done using the a Start Point, a End Point and n Search Lines parameters. The search window results from the search line from a Start Point to a End Point and parallel to it (n Search Lines - 1) / 2 search lines in each direction, each with 1 pixel distance. Thus n Search Lines defines the number of search lines and must always have an odd value. Fig. 26: S: Start Point, E: End Point, W: Window Width Localized edge points (Return value) The ip Edge Points1 and ip Edge Points2 containers return the exact points that were localized on the basis of each search line. If not needed, the value 0 can be transferred instead of an interface pointer. In addition, the a Point1 and a Point2 points return the points that have the minimum distance between the two edges. Search gap (Expert) With f Search Gap you can specify an area in the middle of the defined search line that is omitted during the search. This can reduce the execution time. Parameters for edge localization TF7000 - TF7810 Version: 2.4.0 1513
## Page 1514

API reference The remaining parameters are explained in detail in the chapter Edge localization [} 1440]. Application The measurement of the minimum edge distance with Expert parameters looks like this, for example: hr := F_VN_Measure Min Edge Distance Exp2( ip Src Image := ip Image In, f Min Distance := f Min Distance, a Start Point := a Start Point, a End Point := a End Point, e Edge Direction := TCVN_ED_LIGHT_TO_DARK, f Min Strength := f Min Strength, n Search Lines := n Search Lines, f Search Line Dist := 3, n Max Thickness := 7, b Invert Search Direction := TRUE, f Search Gap := 100, n Subpixels Iterations := 10, f Approx Precision := 0.001, e Algorithm := TCVN_EDA_INTERPOLATION, ip Edge Points1 := ip Edge Points1, ip Edge Points2 := ip Edge Points2, a Point1 := a Point1, a Point2 := a Point2, f Range Cutoff Factor := 0.135, hr Prev := hr); Related functions • Closest Points BF [} 1447] for calculating the closest points in two point clouds • Measure Angle Between Edges [} 1486] for measuring the angle between two edges • Measure Edge Distance [} 1494] for measuring the average distance between two edges • Measure Min Edge Distance [} 1504] for measuring the minimum distance between two edges Required License TC3 Vision Metrology 2D System Requirements 6.1.4.21 Miscellaneous This group contains further functions that can be used across groups. Functions Geometrical auxiliary functions • F_VN_Clip Line To Boundary [} 1516] • F_VN_Clip Line To Boundary_ITc Vn Image [} 1517] • F_VN_Clip Line To Boundary_Tc Vn Rectangle_DINT [} 1519] • F_VN_Line Intersection Point [} 1527] • F_VN_Line Intersection Point And Angle [} 1528] • F_VN_Rotated Rectangle Corners [} 1540] • F_VN_Rotated Rectangle Intersection [} 1541] • F_VN_Orthogonal Vector_Tc Vn Vector2_DINT [} 1530] • F_VN_Orthogonal Vector_Tc Vn Vector2_LREAL [} 1531] • F_VN_Orthogonal Vector_Tc Vn Vector2_REAL [} 1532] • F_VN_Point To Line Distance_Tc Vn Point2_DINT [} 1532] 1514 Version: 2.4.0 TF7000 - TF7810
## Page 1515

API reference • F_VN_Point To Line Distance_Tc Vn Point2_LREAL [} 1533] • F_VN_Point To Line Distance_Tc Vn Point2_REAL [} 1534] • F_VN_Point To Point Direction_Tc Vn Point2_DINT [} 1535] • F_VN_Point To Point Direction_Tc Vn Point2_LREAL [} 1536] • F_VN_Point To Point Direction_Tc Vn Point2_REAL [} 1537] • F_VN_Point To Point Distance_Tc Vn Point2_DINT [} 1537] • F_VN_Point To Point Distance_Tc Vn Point2_LREAL [} 1538] • F_VN_Point To Point Distance_Tc Vn Point2_REAL [} 1539] Timestamp • F_VN_Get Timestamp [} 1523] • F_VN_Update Timestamp [} 1542] Auxiliary functions for matrices • F_VN_Init Matrix Struct [} 1525] • F_VN_Invert Matrix3x3 [} 1526] • F_VN_Multiply Matrices [} 1529] Converting interfaces • F_VN_Convert ITc Unknown To ITc Vn Bitmap Export [} 1520] • F_VN_Convert ITc Unknown To ITc Vn Container [} 1520] • F_VN_Convert ITc Unknown To ITc Vn Image [} 1521] • F_VN_Convert ITc Unknown To ITc Vn Ml Model [} 1522] Initialization function • F_VN_Check Function Initialization [} 1515] • F_VN_Deinitialize Function [} 1522] Miscellaneous • F_VN_Hu Moment Invariants [} 1524] • F_VN_Set Rng Seed [} 1542] 6.1.4.21.1 F_VN_Check Function Initialization F_VN_Check Function Initialization e Function ETc Vn Initializable Function HRESULT F_VN_Check Function Initialization n Options ULINT hr Prev HRESULT Check if a function is initialized with the specified options. Syntax Definition: FUNCTION F_VN_Check Function Initialization : HRESULT VAR_INPUT e Function : ETc Vn Initializable Function; n Options : ULINT; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1515
## Page 1516

API reference Inputs Name Type Description e Function ETc Vn Initializable Function Initializable function [} 209] n Options ULINT Initialization options for the function hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.21.2 F_VN_Clip Line To Boundary F_VN_Clip Line To Boundary ↔ a Line Tc Vn Vector4_LREAL HRESULT F_VN_Clip Line To Boundary n X1 DINT n Y1 DINT n X2 DINT n Y2 DINT ↔ a Start Point Tc Vn Point2_REAL ↔ a End Point Tc Vn Point2_REAL hr Prev HRESULT Clips a line to a rectangular boundary. Syntax Definition: FUNCTION F_VN_Clip Line To Boundary : HRESULT VAR_IN_OUT a Line : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT n X1 : DINT; n Y1 : DINT; n X2 : DINT; n Y2 : DINT; END_VAR VAR_IN_OUT a Start Point : Tc Vn Point2_REAL; a End Point : Tc Vn Point2_REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR 1516 Version: 2.4.0 TF7000 - TF7810
## Page 1517

API reference Inputs Name Type Description n X1 DINT x of top left rectangle point n Y1 DINT y of top left rectangle point n X2 DINT x of bottom right rectangle point n Y2 DINT Y of bottom right rectangle point hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Line Tc Vn Vector4_LREAL The first and second element describe the x and y component of the direction vector. The third and fourth element describe the x [} 165] and y component of the position vector. a Start Point Tc Vn Point2_REAL [} 163] Returns the clipped starting point of the line. a End Point Tc Vn Point2_REAL [} 163] Returns the clipped end point of the line. Return value HRESULT [} 144] Further information This function adjusts a line to a specified area. Different functions exist for various definition forms in this area: Definition of the rectangular area Function to be used Specified by individual X/Y coordinates F_VN_Clip Line To Boundary [} 1516] By the size of an image F_VN_Clip Line To Boundary_ITc Vn Image [} 1517] By a rectangular structure F_VN_Clip Line To Boundary_Tc Vn Rectangle_DINT [} 1519] Required License TC3 Vision Base System Requirements 6.1.4.21.3 F_VN_Clip Line To Boundary_ITc Vn Image F_VN_Clip Line To Boundary_ITc Vn Image ↔ a Line Tc Vn Vector4_LREAL HRESULT F_VN_Clip Line To Boundary_ITc Vn Image ip Image ITc Vn Image ↔ a Start Point Tc Vn Point2_REAL ↔ a End Point Tc Vn Point2_REAL hr Prev HRESULT Clips a line to the boundary of an image. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 1517
## Page 1518

API reference FUNCTION F_VN_Clip Line To Boundary_ITc Vn Image : HRESULT VAR_IN_OUT a Line : Tc Vn Vector4_LREAL; END_VAR VAR_INPUT ip Image : ITc Vn Image; END_VAR VAR_IN_OUT a Start Point : Tc Vn Point2_REAL; a End Point : Tc Vn Point2_REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Image ITc Vn Image [} 413] Image, from which to derive the boundary hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Line Tc Vn Vector4_LREAL The first and second element describe the x and y component of the direction vector. The third and fourth element describe the x [} 165] and y component of the position vector. a Start Point Tc Vn Point2_REAL [} 163] Returns the clipped starting point of the line. a End Point Tc Vn Point2_REAL [} 163] Returns the clipped end point of the line. Return value HRESULT [} 144] Further information This function adjusts a line to a specified area. Different functions exist for various definition forms in this area: Definition of the rectangular area Function to be used Specified by individual X/Y coordinates F_VN_Clip Line To Boundary [} 1516] By the size of an image F_VN_Clip Line To Boundary_ITc Vn Image [} 1517] By a rectangular structure F_VN_Clip Line To Boundary_Tc Vn Rectangle_DINT [} 1519] Required License TC3 Vision Base 1518 Version: 2.4.0 TF7000 - TF7810
## Page 1519

API reference System Requirements 6.1.4.21.4 F_VN_Clip Line To Boundary_Tc Vn Rectangle_DINT F_VN_Clip Line To Boundary_Tc Vn Rectangle_DINT ↔ a Line Tc Vn Vector4_LREAL HRESULT F_VN_Clip Line To Boundary_Tc Vn Rectangle_DINT ↔ st Rectangle Tc Vn Rectangle_DINT ↔ a Start Point Tc Vn Point2_REAL ↔ a End Point Tc Vn Point2_REAL hr Prev HRESULT Clips a line to a rectangular boundary. Syntax Definition: FUNCTION F_VN_Clip Line To Boundary_Tc Vn Rectangle_DINT : HRESULT VAR_IN_OUT a Line : Tc Vn Vector4_LREAL; st Rectangle : Tc Vn Rectangle_DINT; a Start Point : Tc Vn Point2_REAL; a End Point : Tc Vn Point2_REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Line Tc Vn Vector4_LREAL The first and second element describe the x and y component of the direction vector. The third and fourth element describe the x [} 165] and y component of the position vector. st Rectangle Tc Vn Rectangle_DINT Rectangular boundary [} 250] a Start Point Tc Vn Point2_REAL [} 163] Returns the clipped starting point of the line. a End Point Tc Vn Point2_REAL [} 163] Returns the clipped end point of the line. Return value HRESULT [} 144] Further information This function adjusts a line to a specified area. Different functions exist for various definition forms in this area: Definition of the rectangular area Function to be used Specified by individual X/Y coordinates F_VN_Clip Line To Boundary [} 1516] By the size of an image F_VN_Clip Line To Boundary_ITc Vn Image [} 1517] By a rectangular structure F_VN_Clip Line To Boundary_Tc Vn Rectangle_DINT [} 1519] TF7000 - TF7810 Version: 2.4.0 1519
## Page 1520

API reference Required License TC3 Vision Base System Requirements 6.1.4.21.5 F_VN_Convert ITc Unknown To ITc Vn Bitmap Export F_VN_Convert ITc Unknown To ITc Vn Bitmap Export ip Src Reference To ITc Unknown HRESULT F_VN_Convert ITc Unknown To ITc Vn Bitmap Export ip Dest Reference To ITc Vn Bitmap Export hr Prev HRESULT Convert an ITc Unknown interface pointer to an ITc Vn Bitmap Export interface pointer. The destination pointer will be released (if existing) and set to the source pointer. The source pointer will be set to 0. Syntax Definition: FUNCTION F_VN_Convert ITc Unknown To ITc Vn Bitmap Export : HRESULT VAR_INPUT ip Src : Reference To ITc Unknown; ip Dest : Reference To ITc Vn Bitmap Export; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Reference To Source pointer ITc Unknown [} 429] ip Dest Reference To Destination pointer ITc Vn Bitmap Export [} 397] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.21.6 F_VN_Convert ITc Unknown To ITc Vn Container F_VN_Convert ITc Unknown To ITc Vn Container ip Src Reference To ITc Unknown HRESULT F_VN_Convert ITc Unknown To ITc Vn Container ip Dest Reference To ITc Vn Container hr Prev HRESULT Convert an ITc Unknown interface pointer to an ITc Vn Container interface pointer. The destination pointer will be released (if existing) and set to the source pointer. The source pointer will be set to 0. Syntax Definition: 1520 Version: 2.4.0 TF7000 - TF7810
## Page 1521

API reference FUNCTION F_VN_Convert ITc Unknown To ITc Vn Container : HRESULT VAR_INPUT ip Src : Reference To ITc Unknown; ip Dest : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Reference To Source pointer ITc Unknown [} 429] ip Dest Reference To Destination pointer ITc Vn Container [} 374] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.21.7 F_VN_Convert ITc Unknown To ITc Vn Image F_VN_Convert ITc Unknown To ITc Vn Image ip Src Reference To ITc Unknown HRESULT F_VN_Convert ITc Unknown To ITc Vn Image ip Dest Reference To ITc Vn Image hr Prev HRESULT Convert an ITc Unknown interface pointer to an ITc Vn Image interface pointer. The destination pointer will be released (if existing) and set to the source pointer. The source pointer will be set to 0. Syntax Definition: FUNCTION F_VN_Convert ITc Unknown To ITc Vn Image : HRESULT VAR_INPUT ip Src : Reference To ITc Unknown; ip Dest : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Reference To Source pointer ITc Unknown [} 429] ip Dest Reference To Destination pointer ITc Vn Image [} 413] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 1521
## Page 1522

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.21.8 F_VN_Convert ITc Unknown To ITc Vn Ml Model F_VN_Convert ITc Unknown To ITc Vn Ml Model ip Src Reference To ITc Unknown HRESULT F_VN_Convert ITc Unknown To ITc Vn Ml Model ip Dest Reference To ITc Vn Ml Model hr Prev HRESULT Convert an ITc Unknown interface pointer to an ITc Vn Ml Model interface pointer. The destination pointer will be released (if existing) and set to the source pointer. The source pointer will be set to 0. Syntax Definition: FUNCTION F_VN_Convert ITc Unknown To ITc Vn Ml Model : HRESULT VAR_INPUT ip Src : Reference To ITc Unknown; ip Dest : Reference To ITc Vn Ml Model; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Reference To Source pointer ITc Unknown [} 429] ip Dest Reference To Destination pointer ITc Vn Ml Model [} 422] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.21.9 F_VN_Deinitialize Function F_VN_Deinitialize Function e Function ETc Vn Initializable Function HRESULT F_VN_Deinitialize Function n Options ULINT hr Prev HRESULT Deinitialize the specified options for the function. 1522 Version: 2.4.0 TF7000 - TF7810
## Page 1523

API reference Syntax Definition: FUNCTION F_VN_Deinitialize Function : HRESULT VAR_INPUT e Function : ETc Vn Initializable Function; n Options : ULINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description e Function ETc Vn Initializable Function Initializable function [} 209] n Options ULINT Initialization options for the function hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.21.10 F_VN_Get Timestamp F_VN_Get Timestamp ip Unknown ITc Unknown HRESULT F_VN_Get Timestamp ↔ n Timestamp LINT hr Prev HRESULT Get the timestamp (actual DC time) from the last change of an object (e.g. ITc Vn Image or ITc Vn Container) Syntax Definition: FUNCTION F_VN_Get Timestamp : HRESULT VAR_INPUT ip Unknown : ITc Unknown; END_VAR VAR_IN_OUT n Timestamp : LINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Unknown ITc Unknown [} 429] An object implementing ITc Unknown and ITc Vn Timestamp (e.g. ITc Vn Image or ITc Vn Container) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 1523
## Page 1524

API reference In/Outputs Name Type Description n Timestamp LINT Returns the timestamp Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.21.11 F_VN_Hu Moment Invariants F_VN_Hu Moment Invariants ↔ st Moments Tc Vn Moments HRESULT F_VN_Hu Moment Invariants ↔ a Hu Invariants Tc Vn Array7_LREAL hr Prev HRESULT Computes the Hu moment invariants. Syntax Definition: FUNCTION F_VN_Hu Moment Invariants : HRESULT VAR_IN_OUT st Moments : Tc Vn Moments; a Hu Invariants : Tc Vn Array7_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Moments Tc Vn Moments [} 238] Moments from which to compute the Hu invariants a Hu Invariants Tc Vn Array7_LREAL [} 165] Returns the Hu moment invariants Return value HRESULT [} 144] Required License TC3 Vision Base 1524 Version: 2.4.0 TF7000 - TF7810
## Page 1525

API reference System Requirements 6.1.4.21.12 F_VN_Init Matrix Struct F_VN_Init Matrix Struct p Src Buffer PVOID HRESULT F_VN_Init Matrix Struct ↔ st Dest Matrix Tc Vn Matrix n Rows UDINT n Cols UDINT e Element Type ETc Vn Element Type hr Prev HRESULT Initialize a struct of the type Tc Vn Matrix extending a buffer with metainformation so that it can be used as a matrix. Syntax Definition: FUNCTION F_VN_Init Matrix Struct : HRESULT VAR_INPUT p Src Buffer : PVOID; END_VAR VAR_IN_OUT st Dest Matrix : Tc Vn Matrix; END_VAR VAR_INPUT n Rows : UDINT; n Cols : UDINT; e Element Type : ETc Vn Element Type; hr Prev : HRESULT; END_VAR Inputs Name Type Description p Src Buffer PVOID Source buffer n Rows UDINT Matrix rows n Cols UDINT Matrix columns e Element Type ETc Vn Element Type [} 203] Type of the matrix elements hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Dest Matrix Tc Vn Matrix [} 238] Returns completed matrix struct Return value HRESULT [} 144] Further information The function F_VN_Init Matrix Struct creates a matrix structure of the type Tc Vn Matrix [} 238] from any memory area. TF7000 - TF7810 Version: 2.4.0 1525
## Page 1526

API reference Parameter Data buffer The pointer p Src Buffer must point to the memory area containing the data for the matrix. This could be an array, for example. Matrix description The matrix must be described by the number of rows n Rows and columns n Cols as well as by the data type of the element e Element Type. Result matrix The matrix structure st Dest Matrix of the type Tc Vn Matrix [} 238] is returned as the result. Application The creation of a 3×3 matrix looks like this, for example: VAR a Matrix Array : ARRAY [0..2, 0..2] OF USINT := [-1, 0, 1, -2, 0, 2, -1, 0, 1]; END_VAR hr := F_VN_Init Matrix Struct( p Src Buffer := ADR(a Matrix Array), st Dest Matrix := st Matrix, n Rows := 3, // must match with array dimensions n Cols := 3, // must match with array dimensions e Element Type := TCVN_ET_USINT, // must match with array type hr Prev := hr); Required License TC3 Vision Base System Requirements 6.1.4.21.13 F_VN_Invert Matrix3x3 F_VN_Invert Matrix3x3 ↔ a Src Matrix Tc Vn Matrix3x3_LREAL HRESULT F_VN_Invert Matrix3x3 ↔ a Inverted Matrix Tc Vn Matrix3x3_LREAL hr Prev HRESULT Invert a 3x3 matrix. Syntax Definition: FUNCTION F_VN_Invert Matrix3x3 : HRESULT VAR_IN_OUT a Src Matrix : Tc Vn Matrix3x3_LREAL; a Inverted Matrix : Tc Vn Matrix3x3_LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR 1526 Version: 2.4.0 TF7000 - TF7810
## Page 1527

API reference Inputs Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Src Matrix Tc Vn Matrix3x3_LREAL Source matrix [} 165] a Inverted Matrix Tc Vn Matrix3x3_LREAL Returns inverted matrix [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.21.14 F_VN_Line Intersection Point F_VN_Line Intersection Point ↔ a Line1 Tc Vn Vector4_LREAL HRESULT F_VN_Line Intersection Point ↔ a Line2 Tc Vn Vector4_LREAL ↔ a Intersec Point Tc Vn Point2_REAL hr Prev HRESULT Computes the intersection point between two lines (returns S_FALSE if the provided lines are parallel). Syntax Definition: FUNCTION F_VN_Line Intersection Point : HRESULT VAR_IN_OUT a Line1 : Tc Vn Vector4_LREAL; a Line2 : Tc Vn Vector4_LREAL; a Intersec Point : Tc Vn Point2_REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 1527
## Page 1528

API reference In/Outputs Name Type Description a Line1 Tc Vn Vector4_LREAL First line. The first and second element describe the x and y component of a vector collinear to the line. The third and fourth [} 165] element describe the x and y component of a point on the line. a Line2 Tc Vn Vector4_LREAL Second line. The first and second element describe the x and y component of a vector collinear to the line. The third and fourth [} 165] element describe the x and y component of a point on the line. a Intersec Point Tc Vn Point2_REAL [} 163] Returns the intersection point of a Line1 and a Line2. Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.21.15 F_VN_Line Intersection Point And Angle F_VN_Line Intersection Point And Angle ↔ a Line1 Tc Vn Vector4_LREAL HRESULT F_VN_Line Intersection Point And Angle ↔ a Line2 Tc Vn Vector4_LREAL ↔ a Intersec Point Tc Vn Point2_REAL ↔ f Angle REAL b Angle In Degrees BOOL hr Prev HRESULT Computes the intersection point and angle between two lines (returns S_FALSE if the provided lines are parallel). Syntax Definition: FUNCTION F_VN_Line Intersection Point And Angle : HRESULT VAR_IN_OUT a Line1 : Tc Vn Vector4_LREAL; a Line2 : Tc Vn Vector4_LREAL; a Intersec Point : Tc Vn Point2_REAL; f Angle : REAL; END_VAR VAR_INPUT b Angle In Degrees : BOOL; hr Prev : HRESULT; END_VAR Inputs Name Type Description b Angle In Degre BOOL If TRUE, f Angle is in degrees. If FALSE, f Angle is in radians. es hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 1528 Version: 2.4.0 TF7000 - TF7810
## Page 1529

API reference In/Outputs Name Type Description a Line1 Tc Vn Vector4_LREAL First line. The first and second element describe the x and y component of a vector collinear to the line. The third and fourth [} 165] element describe the x and y component of a point on the line. a Line2 Tc Vn Vector4_LREAL Second line. The first and second element describe the x and y component of a vector collinear to the line. The third and fourth [} 165] element describe the x and y component of a point on the line. a Intersec Point Tc Vn Point2_REAL [} 163] Returns the intersection point of a Line1 and a Line2. f Angle REAL Returns the intersection angle of a Line1 and a Line2. Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.21.16 F_VN_Multiply Matrices F_VN_Multiply Matrices ↔ st Src Matrix1 Tc Vn Matrix HRESULT F_VN_Multiply Matrices ↔ st Src Matrix2 Tc Vn Matrix ↔ st Dest Matrix Tc Vn Matrix hr Prev HRESULT Matrix multiplication of two matrices (A * B = C). All matrices are represented by structs holding a pointer to an array of the appropriate size. Syntax Definition: FUNCTION F_VN_Multiply Matrices : HRESULT VAR_IN_OUT st Src Matrix1 : Tc Vn Matrix; st Src Matrix2 : Tc Vn Matrix; st Dest Matrix : Tc Vn Matrix; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) TF7000 - TF7810 Version: 2.4.0 1529
## Page 1530

API reference In/Outputs Name Type Description st Src Matrix1 Tc Vn Matrix [} 238] First source matrix (A) st Src Matrix2 Tc Vn Matrix [} 238] Second source matrix (B) st Dest Matrix Tc Vn Matrix [} 238] Destination matrix (C) (The destination matrix is filled by this function, but the required memory needs to be provided.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.21.17 F_VN_Orthogonal Vector_Tc Vn Vector2_DINT F_VN_Orthogonal Vector_Tc Vn Vector2_DINT ↔ a Src Tc Vn Vector2_DINT HRESULT F_VN_Orthogonal Vector_Tc Vn Vector2_DINT ↔ a Orthogonal Tc Vn Vector2_LREAL b Normalize BOOL hr Prev HRESULT Computes an orthogonal vector to a given source vector. Syntax Definition: FUNCTION F_VN_Orthogonal Vector_Tc Vn Vector2_DINT : HRESULT VAR_IN_OUT a Src : Tc Vn Vector2_DINT; a Orthogonal : Tc Vn Vector2_LREAL; END_VAR VAR_INPUT b Normalize : BOOL; hr Prev : HRESULT; END_VAR Inputs Name Type Description b Normalize BOOL If true, a Orthogonal length is normalized to 1, otherwise a Orthogonal has the same length as a Src hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Src Tc Vn Vector2_DINT [} 165] Source vector a Orthogonal Tc Vn Vector2_LREAL Returns a vector orthogonal to a Src [} 165] Return value HRESULT [} 144] 1530 Version: 2.4.0 TF7000 - TF7810
## Page 1531

API reference Required License TC3 Vision Base System Requirements 6.1.4.21.18 F_VN_Orthogonal Vector_Tc Vn Vector2_LREAL F_VN_Orthogonal Vector_Tc Vn Vector2_LREAL ↔ a Src Tc Vn Vector2_LREAL HRESULT F_VN_Orthogonal Vector_Tc Vn Vector2_LREAL ↔ a Orthogonal Tc Vn Vector2_LREAL b Normalize BOOL hr Prev HRESULT Computes an orthogonal vector to a given source vector. Syntax Definition: FUNCTION F_VN_Orthogonal Vector_Tc Vn Vector2_LREAL : HRESULT VAR_IN_OUT a Src : Tc Vn Vector2_LREAL; a Orthogonal : Tc Vn Vector2_LREAL; END_VAR VAR_INPUT b Normalize : BOOL; hr Prev : HRESULT; END_VAR Inputs Name Type Description b Normalize BOOL If true, a Orthogonal length is normalized to 1, otherwise a Orthogonal has the same length as a Src hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Src Tc Vn Vector2_LREAL Source vector [} 165] a Orthogonal Tc Vn Vector2_LREAL Returns a vector orthogonal to a Src [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1531
## Page 1532

API reference System Requirements 6.1.4.21.19 F_VN_Orthogonal Vector_Tc Vn Vector2_REAL F_VN_Orthogonal Vector_Tc Vn Vector2_REAL ↔ a Src Tc Vn Vector2_REAL HRESULT F_VN_Orthogonal Vector_Tc Vn Vector2_REAL ↔ a Orthogonal Tc Vn Vector2_REAL b Normalize BOOL hr Prev HRESULT Computes an orthogonal vector to a given source vector. Syntax Definition: FUNCTION F_VN_Orthogonal Vector_Tc Vn Vector2_REAL : HRESULT VAR_IN_OUT a Src : Tc Vn Vector2_REAL; a Orthogonal : Tc Vn Vector2_REAL; END_VAR VAR_INPUT b Normalize : BOOL; hr Prev : HRESULT; END_VAR Inputs Name Type Description b Normalize BOOL If true, a Orthogonal length is normalized to 1, otherwise a Orthogonal has the same length as a Src hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Src Tc Vn Vector2_REAL [} 165] Source vector a Orthogonal Tc Vn Vector2_REAL [} 165] Returns a vector orthogonal to a Src Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.21.20 F_VN_Point To Line Distance_Tc Vn Point2_DINT F_VN_Point To Line Distance_Tc Vn Point2_DINT ↔ a Point Tc Vn Point2_DINT HRESULT F_VN_Point To Line Distance_Tc Vn Point2_DINT ↔ a Line Point1 Tc Vn Point2_DINT ↔ a Line Point2 Tc Vn Point2_DINT ↔ f Distance LREAL hr Prev HRESULT Computes the shortest distance between a point and a line. 1532 Version: 2.4.0 TF7000 - TF7810
## Page 1533

API reference Syntax Definition: FUNCTION F_VN_Point To Line Distance_Tc Vn Point2_DINT : HRESULT VAR_IN_OUT a Point : Tc Vn Point2_DINT; a Line Point1 : Tc Vn Point2_DINT; a Line Point2 : Tc Vn Point2_DINT; f Distance : LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Point Tc Vn Point2_DINT [} 163] Point a Line Point1 Tc Vn Point2_DINT [} 163] Line Point 1 a Line Point2 Tc Vn Point2_DINT [} 163] Line Point 2 f Distance LREAL Returns the distance between the point and the line Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.21.21 F_VN_Point To Line Distance_Tc Vn Point2_LREAL F_VN_Point To Line Distance_Tc Vn Point2_LREAL ↔ a Point Tc Vn Point2_LREAL HRESULT F_VN_Point To Line Distance_Tc Vn Point2_LREAL ↔ a Line Point1 Tc Vn Point2_LREAL ↔ a Line Point2 Tc Vn Point2_LREAL ↔ f Distance LREAL hr Prev HRESULT Computes the shortest distance between a point and a line. Syntax Definition: FUNCTION F_VN_Point To Line Distance_Tc Vn Point2_LREAL : HRESULT VAR_IN_OUT a Point : Tc Vn Point2_LREAL; a Line Point1 : Tc Vn Point2_LREAL; a Line Point2 : Tc Vn Point2_LREAL; f Distance : LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1533
## Page 1534

API reference Inputs Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Point Tc Vn Point2_LREAL [} 163] Point a Line Point1 Tc Vn Point2_LREAL [} 163] Line Point 1 a Line Point2 Tc Vn Point2_LREAL [} 163] Line Point 2 f Distance LREAL Returns the distance between the point and the line Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.21.22 F_VN_Point To Line Distance_Tc Vn Point2_REAL F_VN_Point To Line Distance_Tc Vn Point2_REAL ↔ a Point Tc Vn Point2_REAL HRESULT F_VN_Point To Line Distance_Tc Vn Point2_REAL ↔ a Line Point1 Tc Vn Point2_REAL ↔ a Line Point2 Tc Vn Point2_REAL ↔ f Distance LREAL hr Prev HRESULT Computes the shortest distance between a point and a line. Syntax Definition: FUNCTION F_VN_Point To Line Distance_Tc Vn Point2_REAL : HRESULT VAR_IN_OUT a Point : Tc Vn Point2_REAL; a Line Point1 : Tc Vn Point2_REAL; a Line Point2 : Tc Vn Point2_REAL; f Distance : LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 1534 Version: 2.4.0 TF7000 - TF7810
## Page 1535

API reference In/Outputs Name Type Description a Point Tc Vn Point2_REAL [} 163] Point a Line Point1 Tc Vn Point2_REAL [} 163] Line Point 1 a Line Point2 Tc Vn Point2_REAL [} 163] Line Point 2 f Distance LREAL Returns the distance between the point and the line Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.21.23 F_VN_Point To Point Direction_Tc Vn Point2_DINT F_VN_Point To Point Direction_Tc Vn Point2_DINT ↔ a Point1 Tc Vn Point2_DINT HRESULT F_VN_Point To Point Direction_Tc Vn Point2_DINT ↔ a Point2 Tc Vn Point2_DINT ↔ a Direction Tc Vn Vector2_LREAL b Normalize BOOL hr Prev HRESULT Computes the direction vector between 2 points. Syntax Definition: FUNCTION F_VN_Point To Point Direction_Tc Vn Point2_DINT : HRESULT VAR_IN_OUT a Point1 : Tc Vn Point2_DINT; a Point2 : Tc Vn Point2_DINT; a Direction : Tc Vn Vector2_LREAL; END_VAR VAR_INPUT b Normalize : BOOL; hr Prev : HRESULT; END_VAR Inputs Name Type Description b Normalize BOOL If true, a Direction length is normalized to 1, otherwise a Direction length is the distance between a Point1 and a Point2 hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Point1 Tc Vn Point2_DINT [} 163] Point 1 a Point2 Tc Vn Point2_DINT [} 163] Point 2 a Direction Tc Vn Vector2_LREAL Returns the direction vector from a Point1 to a Point2 [} 165] TF7000 - TF7810 Version: 2.4.0 1535
## Page 1536

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.21.24 F_VN_Point To Point Direction_Tc Vn Point2_LREAL F_VN_Point To Point Direction_Tc Vn Point2_LREAL ↔ a Point1 Tc Vn Point2_LREAL HRESULT F_VN_Point To Point Direction_Tc Vn Point2_LREAL ↔ a Point2 Tc Vn Point2_LREAL ↔ a Direction Tc Vn Vector2_LREAL b Normalize BOOL hr Prev HRESULT Computes the direction vector between 2 points. Syntax Definition: FUNCTION F_VN_Point To Point Direction_Tc Vn Point2_LREAL : HRESULT VAR_IN_OUT a Point1 : Tc Vn Point2_LREAL; a Point2 : Tc Vn Point2_LREAL; a Direction : Tc Vn Vector2_LREAL; END_VAR VAR_INPUT b Normalize : BOOL; hr Prev : HRESULT; END_VAR Inputs Name Type Description b Normalize BOOL If true, a Direction length is normalized to 1, otherwise a Direction length is the distance between a Point1 and a Point2 hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Point1 Tc Vn Point2_LREAL [} 163] Point 1 a Point2 Tc Vn Point2_LREAL [} 163] Point 2 a Direction Tc Vn Vector2_LREAL Returns the direction vector from a Point1 to a Point2 [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base 1536 Version: 2.4.0 TF7000 - TF7810
## Page 1537

API reference System Requirements 6.1.4.21.25 F_VN_Point To Point Direction_Tc Vn Point2_REAL F_VN_Point To Point Direction_Tc Vn Point2_REAL ↔ a Point1 Tc Vn Point2_REAL HRESULT F_VN_Point To Point Direction_Tc Vn Point2_REAL ↔ a Point2 Tc Vn Point2_REAL ↔ a Direction Tc Vn Vector2_REAL b Normalize BOOL hr Prev HRESULT Computes the direction vector between 2 points. Syntax Definition: FUNCTION F_VN_Point To Point Direction_Tc Vn Point2_REAL : HRESULT VAR_IN_OUT a Point1 : Tc Vn Point2_REAL; a Point2 : Tc Vn Point2_REAL; a Direction : Tc Vn Vector2_REAL; END_VAR VAR_INPUT b Normalize : BOOL; hr Prev : HRESULT; END_VAR Inputs Name Type Description b Normalize BOOL If true, a Direction length is normalized to 1, otherwise a Direction length is the distance between a Point1 and a Point2 hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Point1 Tc Vn Point2_REAL [} 163] Point 1 a Point2 Tc Vn Point2_REAL [} 163] Point 2 a Direction Tc Vn Vector2_REAL [} 165] Returns the direction vector from a Point1 to a Point2 Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.21.26 F_VN_Point To Point Distance_Tc Vn Point2_DINT F_VN_Point To Point Distance_Tc Vn Point2_DINT ↔ a Point1 Tc Vn Point2_DINT HRESULT F_VN_Point To Point Distance_Tc Vn Point2_DINT ↔ a Point2 Tc Vn Point2_DINT ↔ f Distance LREAL hr Prev HRESULT Computes the distance between 2 points. TF7000 - TF7810 Version: 2.4.0 1537
## Page 1538

API reference Syntax Definition: FUNCTION F_VN_Point To Point Distance_Tc Vn Point2_DINT : HRESULT VAR_IN_OUT a Point1 : Tc Vn Point2_DINT; a Point2 : Tc Vn Point2_DINT; f Distance : LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Point1 Tc Vn Point2_DINT [} 163] Point 1 a Point2 Tc Vn Point2_DINT [} 163] Point 2 f Distance LREAL Returns the distance between the points Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.21.27 F_VN_Point To Point Distance_Tc Vn Point2_LREAL F_VN_Point To Point Distance_Tc Vn Point2_LREAL ↔ a Point1 Tc Vn Point2_LREAL HRESULT F_VN_Point To Point Distance_Tc Vn Point2_LREAL ↔ a Point2 Tc Vn Point2_LREAL ↔ f Distance LREAL hr Prev HRESULT Computes the distance between 2 points. Syntax Definition: FUNCTION F_VN_Point To Point Distance_Tc Vn Point2_LREAL : HRESULT VAR_IN_OUT a Point1 : Tc Vn Point2_LREAL; a Point2 : Tc Vn Point2_LREAL; f Distance : LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR 1538 Version: 2.4.0 TF7000 - TF7810
## Page 1539

API reference Inputs Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Point1 Tc Vn Point2_LREAL [} 163] Point 1 a Point2 Tc Vn Point2_LREAL [} 163] Point 2 f Distance LREAL Returns the distance between the points Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.21.28 F_VN_Point To Point Distance_Tc Vn Point2_REAL F_VN_Point To Point Distance_Tc Vn Point2_REAL ↔ a Point1 Tc Vn Point2_REAL HRESULT F_VN_Point To Point Distance_Tc Vn Point2_REAL ↔ a Point2 Tc Vn Point2_REAL ↔ f Distance LREAL hr Prev HRESULT Computes the distance between 2 points. Syntax Definition: FUNCTION F_VN_Point To Point Distance_Tc Vn Point2_REAL : HRESULT VAR_IN_OUT a Point1 : Tc Vn Point2_REAL; a Point2 : Tc Vn Point2_REAL; f Distance : LREAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a Point1 Tc Vn Point2_REAL [} 163] Point 1 a Point2 Tc Vn Point2_REAL [} 163] Point 2 f Distance LREAL Returns the distance between the points TF7000 - TF7810 Version: 2.4.0 1539
## Page 1540

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.21.29 F_VN_Rotated Rectangle Corners F_VN_Rotated Rectangle Corners ↔ st Rect Tc Vn Rotated Rectangle HRESULT F_VN_Rotated Rectangle Corners ↔ a Corners Tc Vn Array4_Point2_REAL hr Prev HRESULT Computes the 4 corner points of a rotated rectangle. Syntax Definition: FUNCTION F_VN_Rotated Rectangle Corners : HRESULT VAR_IN_OUT st Rect : Tc Vn Rotated Rectangle; a Corners : Tc Vn Array4_Point2_REAL; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Rect Tc Vn Rotated Rectangle Rotated rectangle [} 251] a Corners Tc Vn Array4_Point2_REAL Returns the 4 corner points [} 165] Return value HRESULT [} 144] Required License TC3 Vision Base 1540 Version: 2.4.0 TF7000 - TF7810
## Page 1541

API reference System Requirements 6.1.4.21.30 F_VN_Rotated Rectangle Intersection F_VN_Rotated Rectangle Intersection ↔ st Rect1 Tc Vn Rotated Rectangle HRESULT F_VN_Rotated Rectangle Intersection ↔ st Rect2 Tc Vn Rotated Rectangle ip Intersection Reference To ITc Vn Container ↔ e Intersection ETc Vn Rectangle Intersection hr Prev HRESULT Finds the intersection of 2 rotated rectangles. Syntax Definition: FUNCTION F_VN_Rotated Rectangle Intersection : HRESULT VAR_IN_OUT st Rect1 : Tc Vn Rotated Rectangle; st Rect2 : Tc Vn Rotated Rectangle; END_VAR VAR_INPUT ip Intersection : Reference To ITc Vn Container; END_VAR VAR_IN_OUT e Intersection : ETc Vn Rectangle Intersection; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Intersection Reference To Returns the intersection points ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Point2_REAL, non-zero interface pointers are reused) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description st Rect1 Tc Vn Rotated Rectangle Rotated rectangle 1 [} 251] st Rect2 Tc Vn Rotated Rectangle Rotated rectangle 2 [} 251] e Intersection Returns the intersection type ETc Vn Rectangle Intersectio n [} 218] Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1541
## Page 1542

API reference System Requirements 6.1.4.21.31 F_VN_Set Rng Seed F_VN_Set Rng Seed n Seed DINT HRESULT F_VN_Set Rng Seed hr Prev HRESULT Sets the internal pseudo random number generator seed (intended for testing purposes only). Syntax Definition: FUNCTION F_VN_Set Rng Seed : HRESULT VAR_INPUT n Seed : DINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description n Seed DINT seed (0 sets the generator back to its initial state) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.21.32 F_VN_Update Timestamp F_VN_Update Timestamp ip Unknown ITc Unknown HRESULT F_VN_Update Timestamp hr Prev HRESULT Update the timestamp of an object to the actual DC time (e.g. ITc Vn Image or ITc Vn Container) Syntax Definition: FUNCTION F_VN_Update Timestamp : HRESULT VAR_INPUT ip Unknown : ITc Unknown; hr Prev : HRESULT; END_VAR 1542 Version: 2.4.0 TF7000 - TF7810
## Page 1543

API reference Inputs Name Type Description ip Unknown ITc Unknown [} 429] An object implementing ITc Unknown and ITc Vn Timestamp (e.g. ITc Vn Image or ITc Vn Container) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.22 Neural Network This group contains functions for pre- and post-processing, as well as for the execution of neural network models. Functions Pre- & Postprocessing • F_VN_Convert Data Layout [} 1550] • F_VN_Reshape Image [} 1558] Execution of neural networks • F_VN_Execute Neural Network [} 1551] With one input and one output. • F_VN_Execute Neural Network_MI [} 1544] With multiple inputs (MI) and one output. • F_VN_Execute Neural Network_MIMO_String [} 1545] With multiple inputs and outputs (MIMO). • F_VN_Execute Neural Network_MISO [} 1546] With multiple inputs and a single specified output (MISO). • F_VN_Execute Neural Network_MO [} 1547] One input and multiple outputs (MO). • F_VN_Execute Neural Network_SO [} 1548] With one input and a single specified output (SO). Postprocessing • F_VN_Sigmoid(Exp) [} 1559] • F_VN_Soft Max [} 1561] • F_VN_Non Max Suppression(Exp) [} 1555] • F_VN_Reduce [} 1557] • F_VN_Reduce Arg [} 1558] Get the layer names • F_VN_Get Neural Network Layer Names [} 1554] • F_VN_Get Neural Network Layer Names Exp_String [} 1549] TF7000 - TF7810 Version: 2.4.0 1543
## Page 1544

API reference 6.1.4.22.1 F_VN_Execute Neural Network_MI F_VN_Execute Neural Network_MI ip Neural Network ITc Vn Neural Network HRESULT F_VN_Execute Neural Network_MI p Src Images PVOID n Src Array Size UINT s Input Names STRING ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Execute a neural network with multiple inputs (MI) using the provided images. Ensure all model input names are listed in s Input Names and that the images and names are in the same order. The result of one output layer is returned. The function doesn't perform any pre-processing or transformation. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Execute Neural Network_MI : HRESULT VAR_INPUT ip Neural Network : ITc Vn Neural Network; p Src Images : PVOID; n Src Array Size : UINT; s Input Names : STRING; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Neural Networ ITc Vn Neural Network Neural network model k [} 431] p Src Images PVOID Pointer to an array of source input images n Src Array Size UINT The size of the array referenced by p Src Images. p Src Images must reference an array with a size equal to the number of model inputs. s Input Names STRING Input names separated by ";" ip Dest Image Reference To ITc Vn Image Destination image (An appropriate destination image based on the output layer is created. To process the destination image, [} 413] use e.g. F_VN_Convert Data Layout or F_VN_Reshape Image if necessary. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Neural Network Realtime Inference 1544 Version: 2.4.0 TF7000 - TF7810
## Page 1545

API reference System Requirements 6.1.4.22.2 F_VN_Execute Neural Network_MIMO_String F_VN_Execute Neural Network_MIMO_String ip Neural Network ITc Vn Neural Network HRESULT F_VN_Execute Neural Network_MIMO_String p Src Images PVOID n Src Array Size UINT s Input Names STRING ip Dest Images Reference To ITc Vn Container s Output Names STRING hr Prev HRESULT Execute a neural network with multiple inputs and multiple outputs (MIMO) using the provided images. Ensure all model input names are listed in s Input Names and that the images and names are in the same order. The result of the specified output layers are returned. The function doesn't perform any pre-processing or transformation. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Execute Neural Network_MIMO_String : HRESULT VAR_INPUT ip Neural Network : ITc Vn Neural Network; p Src Images : PVOID; n Src Array Size : UINT; s Input Names : STRING; ip Dest Images : Reference To ITc Vn Container; s Output Names : STRING; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Neural Networ ITc Vn Neural Network Neural network model k [} 431] p Src Images PVOID Pointer to an array of source input images n Src Array Size UINT The size of the array referenced by p Src Images. p Src Images must reference an array with a size equal to the number of model inputs. s Input Names STRING Input names separated by ";" ip Dest Images Reference To Container of images containing the output from the specified ITc Vn Container [} 374] layers. s Output Names STRING Names of output layers whose outputs are required separated by ";". If empty, the outputs of all unconnected output layers are provided. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Neural Network Realtime Inference TF7000 - TF7810 Version: 2.4.0 1545
## Page 1546

API reference System Requirements 6.1.4.22.3 F_VN_Execute Neural Network_MISO F_VN_Execute Neural Network_MISO ip Neural Network ITc Vn Neural Network HRESULT F_VN_Execute Neural Network_MISO p Src Images PVOID n Src Array Size UINT s Input Names STRING ip Dest Image Reference To ITc Vn Image s Output Name STRING hr Prev HRESULT Execute a neural network with multiple inputs and single output (MISO) using the provided images. Ensure all model input names are listed in s Input Names and that the images and names are in the same order. The result of the specified output layer is returned. The function doesn't perform any pre-processing or transformation. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Execute Neural Network_MISO : HRESULT VAR_INPUT ip Neural Network : ITc Vn Neural Network; p Src Images : PVOID; n Src Array Size : UINT; s Input Names : STRING; ip Dest Image : Reference To ITc Vn Image; s Output Name : STRING; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Neural Networ ITc Vn Neural Network Neural network model k [} 431] p Src Images PVOID Pointer to an array of source input images n Src Array Size UINT The size of the array referenced by p Src Images. p Src Images must reference an array with a size equal to the number of model inputs. s Input Names STRING Input names separated by ";" ip Dest Image Reference To ITc Vn Image Destination image (An appropriate destination image based on the output layer is created. To process the destination image, [} 413] use e.g. F_VN_Convert Data Layout or F_VN_Reshape Image if necessary. s Output Name STRING Specify the name of the layer for which the output is required. If empty, the output of one output layer is provided. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Neural Network Realtime Inference 1546 Version: 2.4.0 TF7000 - TF7810
## Page 1547

API reference System Requirements 6.1.4.22.4 F_VN_Execute Neural Network_MO F_VN_Execute Neural Network_MO ip Neural Network ITc Vn Neural Network HRESULT F_VN_Execute Neural Network_MO ip Src Image ITc Vn Image ip Dest Images Reference To ITc Vn Container ip Output Names ITc Vn Container hr Prev HRESULT Execute a neural network using the provided image as input and provide the output of the specified output layers. The function doesn't perform any pre-processing or transformation. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Execute Neural Network_MO : HRESULT VAR_INPUT ip Neural Network : ITc Vn Neural Network; ip Src Image : ITc Vn Image; ip Dest Images : Reference To ITc Vn Container; ip Output Names : ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Neural Networ ITc Vn Neural Network Neural network model k [} 431] ip Src Image ITc Vn Image [} 413] Source image (The image layout must be adapted to match the model's expected input format using e.g. F_VN_Convert Data Layout or F_VN_Reshape Image functions if necessary.) ip Dest Images Reference To Container of images containing the output from the specified ITc Vn Container [} 374] layers. ip Output Name ITc Vn Container [} 374] Container of layer names whose outputs to be returned s (Container Type_Vector_String_SINT). If set to zero, the outputs of all unconnected output layers will be returned.. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Neural Network Realtime Inference TF7000 - TF7810 Version: 2.4.0 1547
## Page 1548

API reference System Requirements 6.1.4.22.5 F_VN_Execute Neural Network_SO F_VN_Execute Neural Network_SO ip Neural Network ITc Vn Neural Network HRESULT F_VN_Execute Neural Network_SO ip Src Image ITc Vn Image ip Dest Image Reference To ITc Vn Image s Output Name STRING hr Prev HRESULT Execute a neural network using the provided image as input and provide the output of the specified output layer. The function doesn't perform any pre-processing or transformation. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Execute Neural Network_SO : HRESULT VAR_INPUT ip Neural Network : ITc Vn Neural Network; ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; s Output Name : STRING; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Neural Networ ITc Vn Neural Network Neural network model k [} 431] ip Src Image ITc Vn Image [} 413] Source image (The image layout must be adapted to match the model's expected input format using e.g. F_VN_Convert Data Layout or F_VN_Reshape Image functions if necessary.) ip Dest Image Reference To ITc Vn Image Destination image (An appropriate destination image based on the output layer is created. To process the destination image, [} 413] use e.g. F_VN_Convert Data Layout or F_VN_Reshape Image if necessary. s Output Name STRING Specify the name of the layer for which the output is required. If empty, the output of one output layer is provided. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Neural Network Realtime Inference 1548 Version: 2.4.0 TF7000 - TF7810
## Page 1549

API reference System Requirements 6.1.4.22.6 F_VN_Get Neural Network Layer Names Exp F_VN_Get Neural Network Layer Names Exp ip Neural Network ITc Vn Neural Network HRESULT F_VN_Get Neural Network Layer Names Exp ip Layer Names Reference To ITc Vn Container e Layer Name Type ETc Vn Layer Name Type hr Prev HRESULT Get the name of model layers in the neural network model. (expert function) Syntax Definition: FUNCTION F_VN_Get Neural Network Layer Names Exp : HRESULT VAR_INPUT ip Neural Network : ITc Vn Neural Network; ip Layer Names : Reference To ITc Vn Container; e Layer Name Type : ETc Vn Layer Name Type; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Neural Networ ITc Vn Neural Network Neural network model k [} 431] ip Layer Names Reference To Container with the layers names ITc Vn Container [} 374] (Container Type_Vector_String_SINT) e Layer Name Ty ETc Vn Layer Name Type Layer name type pe [} 231] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Neural Network Realtime Inference System Requirements 6.1.4.22.7 F_VN_Get Neural Network Layer Names Exp_String F_VN_Get Neural Network Layer Names Exp_String ip Neural Network ITc Vn Neural Network HRESULT F_VN_Get Neural Network Layer Names Exp_String s Layer Names STRING n Max Length ULINT e Layer Name Type ETc Vn Layer Name Type hr Prev HRESULT Get the name of model layers in the neural network model. (expert function) Syntax Definition: FUNCTION F_VN_Get Neural Network Layer Names Exp_String : HRESULT VAR_INPUT ip Neural Network : ITc Vn Neural Network; TF7000 - TF7810 Version: 2.4.0 1549
## Page 1550

API reference s Layer Names : STRING; n Max Length : ULINT; e Layer Name Type : ETc Vn Layer Name Type; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Neural Networ ITc Vn Neural Network Neural network model k [} 431] s Layer Names STRING Layer names separated by ";". Make sure to choose a sufficient STRING size! n Max Length ULINT Maximum string length to export (including 0 termination). If the container content is longer, the string is cut off at n Max Length - 1 and 0 termination is appended. In this case, S_FALSE is returned. e Layer Name Ty ETc Vn Layer Name Type Layer name type pe [} 231] hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Neural Network Realtime Inference System Requirements 6.1.4.22.8 F_VN_Convert Data Layout F_VN_Convert Data Layout ip Src Image ITc Vn Image HRESULT F_VN_Convert Data Layout ip Dest Image Reference To ITc Vn Image n Src Data Layout ULINT n Dest Data Layout ULINT hr Prev HRESULT Convert a data layout (the arrangement of dimensions in the input data) to another data layout. Syntax Definition: FUNCTION F_VN_Convert Data Layout : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; n Src Data Layout : ULINT; n Dest Data Layout : ULINT; hr Prev : HRESULT; END_VAR 1550 Version: 2.4.0 TF7000 - TF7810
## Page 1551

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) n Src Data Layou ULINT Data layout of the source image (Commonly used data layouts t are available in the enumeration ETc Vn Data Layout. If n Src Data Layout is set to 0 or TCVN_DL_DEFAULT, the Data Layout will be automatically determined based on the dimension of the ip Src Image: 0x12 for 2D, 0x123 for 3D, 0x1234 for 4D, and so forth.) n Dest Data Layo ULINT Required output data layout (Commonly used data layouts are ut available in the enumeration ETc Vn Data Layout. n Dest Data Layout must not equal 0 or TCVN_DL_DEFAULT.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.22.9 F_VN_Execute Neural Network F_VN_Execute Neural Network ip Neural Network ITc Vn Neural Network HRESULT F_VN_Execute Neural Network ip Src Image ITc Vn Image ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Execute a neural network using the provided image as input and provide the output of one output layer. The function doesn't perform any pre-processing or transformation. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Execute Neural Network : HRESULT VAR_INPUT ip Neural Network : ITc Vn Neural Network; ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1551
## Page 1552

API reference Inputs Name Type Description ip Neural Networ ITc Vn Neural Network Neural network model k [} 431] ip Src Image ITc Vn Image [} 413] Source image (The image layout must be adapted to match the model's expected input format using e.g. F_VN_Convert Data Layout or F_VN_Reshape Image functions if necessary.) ip Dest Image Reference To Destination image (An appropriate destination image based on ITc Vn Image [} 413] the output layer is created. To process the destination image, use e.g. F_VN_Convert Data Layout or F_VN_Reshape Image if necessary. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Neural Network Realtime Inference System Requirements 6.1.4.22.10 F_VN_Execute Neural Network_Multi Layer Output F_VN_Execute Neural Network_Multi Layer Output ip Neural Network ITc Vn Neural Network HRESULT F_VN_Execute Neural Network_Multi Layer Output ip Src Image ITc Vn Image ip Dest Images Reference To ITc Vn Container ip Layer Names ITc Vn Container hr Prev HRESULT This function is deprecated, please use F_VN_Execute Neural Network_MO. Execute a neural network using the provided image as input and provide the output of the specified output layers. The function doesn't perform any pre-processing or transformation. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Execute Neural Network_Multi Layer Output : HRESULT VAR_INPUT ip Neural Network : ITc Vn Neural Network; ip Src Image : ITc Vn Image; ip Dest Images : Reference To ITc Vn Container; ip Layer Names : ITc Vn Container; hr Prev : HRESULT; END_VAR 1552 Version: 2.4.0 TF7000 - TF7810
## Page 1553

API reference Inputs Name Type Description ip Neural Networ ITc Vn Neural Network Neural network model k [} 431] ip Src Image ITc Vn Image [} 413] Source image (The image layout must be adapted to match the model's expected input format using e.g. F_VN_Convert Data Layout or F_VN_Reshape Image functions if necessary.) ip Dest Images Reference To Container of images containing the output from the specified ITc Vn Container [} 374] layers. ip Layer Names ITc Vn Container [} 374] Container of layer names whose outputs to be returned (Container Type_Vector_String_SINT). If set to zero, the outputs of all unconnected output layers will be returned.. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Neural Network Realtime Inference System Requirements 6.1.4.22.11 F_VN_Execute Neural Network_Single Layer Output F_VN_Execute Neural Network_Single Layer Output ip Neural Network ITc Vn Neural Network HRESULT F_VN_Execute Neural Network_Single Layer Output ip Src Image ITc Vn Image ip Dest Image Reference To ITc Vn Image s Layer Name STRING hr Prev HRESULT This function is deprecated, please use F_VN_Execute Neural Network_SO. Execute a neural network using the provided image as input and provide the output of the specified output layer. The function doesn't perform any pre-processing or transformation. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_Execute Neural Network_Single Layer Output : HRESULT VAR_INPUT ip Neural Network : ITc Vn Neural Network; ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; s Layer Name : STRING; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1553
## Page 1554

API reference Inputs Name Type Description ip Neural Networ ITc Vn Neural Network Neural network model k [} 431] ip Src Image ITc Vn Image [} 413] Source image (The image layout must be adapted to match the model's expected input format using e.g. F_VN_Convert Data Layout or F_VN_Reshape Image functions if necessary.) ip Dest Image Reference To Destination image (An appropriate destination image based on ITc Vn Image [} 413] the output layer is created. To process the destination image, use e.g. F_VN_Convert Data Layout or F_VN_Reshape Image if necessary. s Layer Name STRING Specify the name of the layer for which the output is required. If empty, the output of one output layer is provided. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Neural Network Realtime Inference System Requirements 6.1.4.22.12 F_VN_Get Neural Network Layer Names F_VN_Get Neural Network Layer Names ip Neural Network ITc Vn Neural Network HRESULT F_VN_Get Neural Network Layer Names ip Layer Names Reference To ITc Vn Container b Only Outputs BOOL hr Prev HRESULT Get the name of all layers in the neural network model. If the b Only Ouput flag is set to true, only the unconnected output layer names are returned. Syntax Definition: FUNCTION F_VN_Get Neural Network Layer Names : HRESULT VAR_INPUT ip Neural Network : ITc Vn Neural Network; ip Layer Names : Reference To ITc Vn Container; b Only Outputs : BOOL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Neural Networ ITc Vn Neural Network Neural network model k [} 431] ip Layer Names Reference To Container with the layers names ITc Vn Container [} 374] (Container Type_Vector_String_SINT) b Only Outputs BOOL If true, only the unconnected output layer names are returned. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 1554 Version: 2.4.0 TF7000 - TF7810
## Page 1555

API reference Return value HRESULT [} 144] Required License TC3 Neural Network Realtime Inference System Requirements 6.1.4.22.13 F_VN_Non Max Suppression F_VN_Non Max Suppression ip Bounding Boxes ITc Vn Container HRESULT F_VN_Non Max Suppression ip Scores ITc Vn Container ip Dest Indcies Reference To ITc Vn Container f Score Threshold REAL f Overlap Threshold REAL hr Prev HRESULT Perform non-maximum suppression on given bounding boxes and corresponding scores. Syntax Definition: FUNCTION F_VN_Non Max Suppression : HRESULT VAR_INPUT ip Bounding Boxes : ITc Vn Container; ip Scores : ITc Vn Container; ip Dest Indcies : Reference To ITc Vn Container; f Score Threshold : REAL; f Overlap Threshold : REAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Bounding Box ITc Vn Container [} 374] Container of bounding boxes to apply the non maximum es supresion (Container Type_Vector_Tc Vn Rectangle_DINT) ip Scores ITc Vn Container [} 374] Container of coreeponding score for each bounding box (Container Type_Vector_REAL) ip Dest Indcies Reference To Container of the kept indcies after apply the non maximum ITc Vn Container [} 374] suppression (Container Type_Vector_DINT) f Score Threshol REAL A threshold [0.0 to 1.0] used to filter the bounding boxes by d score f Overlap Thresh REAL A threshold [0.0 to 1.0] that determines the minimum degree of old intersection over union (Io U) required for bounding boxes to be considered overlapping hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1555
## Page 1556

API reference System Requirements 6.1.4.22.14 F_VN_Non Max Suppression Exp F_VN_Non Max Suppression Exp ip Bounding Boxes ITc Vn Container HRESULT F_VN_Non Max Suppression Exp ip Scores ITc Vn Container ip Dest Indcies Reference To ITc Vn Container f Score Threshold REAL f Overlap Threshold REAL ip Class Indcies ITc Vn Container f Eta REAL n Top K DINT hr Prev HRESULT Perform non-maximum suppression on given bounding boxes and corresponding scores. (expert function) Syntax Definition: FUNCTION F_VN_Non Max Suppression Exp : HRESULT VAR_INPUT ip Bounding Boxes : ITc Vn Container; ip Scores : ITc Vn Container; ip Dest Indcies : Reference To ITc Vn Container; f Score Threshold : REAL; f Overlap Threshold : REAL; ip Class Indcies : ITc Vn Container; f Eta : REAL; n Top K : DINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Bounding Box ITc Vn Container [} 374] Container of bounding boxes to apply the non maximum es supresion (Container Type_Vector_Tc Vn Rectangle_DINT) ip Scores ITc Vn Container [} 374] Container of coreeponding score for each bounding box (Container Type_Vector_REAL) ip Dest Indcies Reference To Container of the kept indcies after apply the non maximum ITc Vn Container [} 374] suppression (Container Type_Vector_DINT) f Score Threshol REAL A threshold [0.0 to 1.0] used to filter the bounding boxes by d score f Overlap Thresh REAL A threshold [0.0 to 1.0] that determines the minimum degree of old intersection over union (Io U) required for bounding boxes to be considered overlapping ip Class Indcies ITc Vn Container [} 374] Container of corresponding set of class indcies (Container Type_Vector_DINT) f Eta REAL An adjustable threshold [0.0 to 1.0] used to dynamically reduce the overlap threshold during processing. Setting it to 1 maintains a constant value for the overlap threshold n Top K DINT The maximum number of bounding boxes with the highest scores to undergo the suppression algorithm (must be >= 0). Setting it to zero applies the algorithm to all bounding boxes hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] 1556 Version: 2.4.0 TF7000 - TF7810
## Page 1557

API reference Required License TC3 Vision Base System Requirements 6.1.4.22.15 F_VN_Reduce F_VN_Reduce ip Src Image ITc Vn Image HRESULT F_VN_Reduce ip Dest Image Reference To ITc Vn Image n Dim DINT e Reduce Type ETc Vn Reduce Type hr Prev HRESULT Reduce ip Src Image by applying the specified operation across rows/columns to obtain a single row/column/ channel with the resulting values. Syntax Definition: FUNCTION F_VN_Reduce : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; n Dim : DINT; e Reduce Type : ETc Vn Reduce Type; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT or REAL elements, 1 channel) ip Dest Image Reference To Destination image. If ip Src Image is of type USINT and the ITc Vn Image [} 413] reduction type is SUM or AVG, ip Dest Image will be of type REAL; otherwise, it retains the same type as ip Src Image (An appropriate single channel destination image will be created if required.) n Dim DINT Index along which the ITc Vn Image is reduced: 0 reduces the matrix to a single row, 1 reduces it to a single column, and 2 reduces to a single channel e Reduce Type ETc Vn Reduce Type [} 228] Reduction operation hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1557
## Page 1558

API reference System Requirements 6.1.4.22.16 F_VN_Reduce Arg F_VN_Reduce Arg ip Src Image ITc Vn Image HRESULT F_VN_Reduce Arg ip Dest Image Reference To ITc Vn Image n Dim DINT e Reduce Type DINT hr Prev HRESULT Finds indices of max/min elements along provided axis and reduce the ip Src Image to a single row/column/ channel. Syntax Definition: FUNCTION F_VN_Reduce Arg : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; n Dim : DINT; e Reduce Type : DINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image ip Dest Image Reference To Destination image of type DINT (An appropriate single channel ITc Vn Image [} 413] destination image will be created if required.) n Dim DINT Index along which the ip Src Image is reduced: 0 reduces the matrix to a single row, 1 reduces it to a single column, and 2 reduces to a single channel e Reduce Type DINT Reduction operation REDUCE_MAX or REDUCE_MIN hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.22.17 F_VN_Reshape Image F_VN_Reshape Image ip Src Image ITc Vn Image HRESULT F_VN_Reshape Image ip Dest Image Reference To ITc Vn Image ↔ a New Shape Tc Vn Array33_UDINT hr Prev HRESULT Changes the shape of an ITc Vn Image. The total number of elements in the new shape must be equal to the total number of elements in ip Src Image. 1558 Version: 2.4.0 TF7000 - TF7810
## Page 1559

API reference Syntax Definition: FUNCTION F_VN_Reshape Image : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; END_VAR VAR_IN_OUT a New Shape : Tc Vn Array33_UDINT; END_VAR VAR_INPUT hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (1 channel) ip Dest Image Reference To Destination image (An appropriate single channel destination ITc Vn Image [} 413] image will be created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) In/Outputs Name Type Description a New Shape Tc Vn Array33_UDINT Specifies the shape of ip Dest Image. First entry is the number of dimensions (max. 32), followed by the sizes of each dimension. [} 165] If one dimension is set to zero, its value will be automatically calculated based on the total elements of ip Src Image (Only one dimension can be set to zero.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.22.18 F_VN_Sigmoid F_VN_Sigmoid ip Src Image ITc Vn Image HRESULT F_VN_Sigmoid ip Dest Image Reference To ITc Vn Image hr Prev HRESULT Apply the standard logistic function 1 / (1 + exp(-x)) element-wise to a single- or multi-channel REAL image. Syntax Definition: FUNCTION F_VN_Sigmoid : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; hr Prev : HRESULT; END_VAR TF7000 - TF7810 Version: 2.4.0 1559
## Page 1560

API reference Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (REAL) ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.22.19 F_VN_Sigmoid Exp F_VN_Sigmoid Exp ip Src Image ITc Vn Image HRESULT F_VN_Sigmoid Exp ip Dest Image Reference To ITc Vn Image f Shift REAL f Steepness REAL hr Prev HRESULT Apply the logistic function 1 / (1 + exp(-f Steepness * (x - f Shift))) element-wise to a single- or multi-channel REAL image. (expert function) Syntax Definition: FUNCTION F_VN_Sigmoid Exp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; f Shift : REAL; f Steepness : REAL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (REAL) ip Dest Image Reference To Destination image (An appropriate destination image will be ITc Vn Image [} 413] created if required.) f Shift REAL Determines the intensity level around which the logistic function transitions. f Steepness REAL Controls the sharpness of the transition. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] 1560 Version: 2.4.0 TF7000 - TF7810
## Page 1561

API reference Required License TC3 Vision Base System Requirements 6.1.4.22.20 F_VN_Soft Max F_VN_Soft Max ip Src Image ITc Vn Image HRESULT F_VN_Soft Max ip Dest Image Reference To ITc Vn Image b Flatten BOOL hr Prev HRESULT Apply softmax function pixel-wise to a single channel REAL image. Syntax Definition: FUNCTION F_VN_Soft Max : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : Reference To ITc Vn Image; b Flatten : BOOL; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (REAL, 1 channel) ip Dest Image Reference To Destination image (An appropriate single channel destination ITc Vn Image [} 413] image will be created if required.) b Flatten BOOL If true, the resulting image will be reshaped into a single row. hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.1.4.23 OCR This group contains functions for Optical Character Recognition. The OCR functions [} 1564] identify characters in an image and return the recognized characters as a string. The classification is based on classic Machine Learning models. The models are provided in a trained form so that the functions can be used directly. No additional settings or training are required. The supported characters and fonts depend on the data used in the training. For this reason, there are various models whose range of functions, as well as the general preconditions and requirements, are described below. For all characters that are recognized in an image, the models assign each character to a known class with the highest match. The result therefore always consists of the known characters of the model used. Rejection or removal of unknown characters is not included. TF7000 - TF7810 Version: 2.4.0 1561
## Page 1562

API reference The functions only support single-line character strings; several lines must be divided into individual ROIs and read with several function calls. General requirements for recognizing characters: • Character height min. 20 pixels • Line width min. 3 pixels • Points min. 3 x 3 pixels • Lines min. 3 x 6 pixels • Character spacing / separation min. 4 pixels • Characters must not overlap • Only horizontal alignment / arrangement of characters max. ± 6° deviation • The line / contour of a character must not be interrupted • The characters must not be mirrored or reversed General requirements for the image: • ROI only with the characters to be recognized and an interference-free zone around the characters • Within the ROI, the characters must not be enclosed by another contour such as a rectangle • Good contrast between character and background • Homogeneous, non-noisy or disturbed, non-transparent background Requirements for the fonts: • Only proportional fonts with equal character widths • Larger gaps are always recognized as a single space • Only sans serif fonts such as Arial, Tahoma, Courier, Univers, Frutiger, Verdana, OCR-B • No mixed fonts • No dot print or italic fonts Models: The enum ETc Vn Ocr Model Type [} 214] allows access to the following models: • TCVN_OMT_NUMBERS ◦ enables the classification of numbers ◦ contains the characters of 0-9 • TCVN_OMT_NUMBERS_SC ◦ enables the classification of numbers and special characters ◦ contains the characters from 0-9 and 6 special characters . / - : = + • TCVN_OMT_UCLETTERS ◦ enables the classification of capital letters ◦ contains the characters of A-Z • TCVN_OMT_NUMBERS_SC_UCLETTERS ◦ enables the classification of numbers, special characters and capital letters ◦ contains the characters from 0-9, the 6 special characters . / - : = + and A-Z When using the combined model (TCVN_OMT_NUMBERS_SC_UCLETTERS), confusion can occur due to the great similarity of certain characters. Examples of this are O and 0, S and 5 and B and 8. If the position of a number or letter is known, the Expert function with the formatting default (s Pattern) and the combination of the separate models should be used as an alternative. Alternatively, the characters of the result string (ip Characters) can also be analyzed individually, so that you can decide individually whether, for example, a 0 is also accepted instead of O. Initialize functions 1562 Version: 2.4.0 TF7000 - TF7810
## Page 1563

API reference In order to be able to use the OCR function with one or more models, the function must first be initialized with the respective models using the function block FB_VN_Initialize Function [} 1591]. The time required to load the models depends on the performance of the IPC used and the model size and can take several hundred milliseconds or even several seconds. Therefore, cycle time overruns are to be expected with shorter task cycle times. If the combined model TCVN_OMT_NUMBERS_SC_UCLETTERS is to be used, the router memory must be set to at least 512 MB due to the file size. The exact size depends on the other use of the router memory and any existing fragmentation. If the function block FB_VN_Initialize Function returns a return code 0x80004005, for example, this indicates insufficient router memory. The router memory should therefore be checked first and increased if necessary. After loading a model, a large part of the memory is released again and is available for the application. Interpretation of the HRESULT • The standard function returns S_OK if characters are recognized on the image. With the Exp function, it depends on whether a s Pattern has been specified. If no formatting specification has been defined, the return corresponds to the standard function. If a formatting specification has been passed, S_OK is only returned if the recognized characters match the pattern specification. • If the standard function was executed successfully and no characters were found or the characters in the Exp function do not match the pattern specification, S_FALSE is returned. • If a s Pattern entry is made in the Expert function for which the transferred model is missing, a HRESULT = ADSERR_DEVICE_NOTINIT is returned. • If several models are passed to the standard function, a HRESULT = ADSERR_DEVICE_INVALIDPARM is always returned, as the function only supports one model per call. With the Expert function, it depends on whether a s Pattern has been specified. If s Pattern is empty, only the TCVN_OMT_NUMBERS_SC_UCLETTERS model is used. If this model has not been passed, a HRESULT = ADSERR_DEVICE_INVALIDPARM is returned. Examples for the use of s Pattern The F_VN_OCRExp [} 1565] provides additional options with the parameters s Pattern and e Ocr Options. Depending on the combination of characters on the input image, the information from s Pattern and e Ocr Options and the recognized characters, S_FALSE is returned if there is a mismatch. The characters of the result string (ip Characters) can then also be analyzed individually, as S_FALSE is also returned if the length differs, for example. The samples refer to the use of the TCVN_OMT_NUMBERS_SC_UCLETTERS model. TF7000 - TF7810 Version: 2.4.0 1563
## Page 1564

API reference Characters on the ip- s Pattern e Ocr Options ip Characters HRESULT Src Image 12/34 dd.dd 12/34 S_OK 12534 dd.dd 12534 S_OK 12/34 dd!dd 1234 S_OK 12 34 dd!d 124 S_OK 12534 dd!dd 1234 S_OK 12 34 dd_dd 12 34 S_OK AB12/ uudd# AB12/ S_OK 12 34 dddd WITHBLANKS 12 34 S_OK 12/4 dd#d WITHBLANKS 12/4 S_OK 12 34 dd_dd WITHBLANKS 12 34 S_OK 12 34 56 dd_dddd WITHBLANKS 12 34 56 S_OK 12 3 4 dd.dd WITHBLANKS 12 3 4 S_FALSE 12 34 dd!dd 124 S_FALSE 12 34 dd.dd 1234 S_FALSE 1234 !dddd 234 S_FALSE 12 34 dd_dd 12.34 S_FALSE 12 3 dd_dd 123 S_FALSE 12 3 4 dd_d_d 123 4 S_FALSE AB12/ uddd# AB12/ S_FALSE AB12/ uuddd AB12/ S_FALSE 6.1.4.23.1 F_VN_OCR F_VN_OCR ip Src Image ITc Vn Image HRESULT F_VN_OCR e Model ULINT ip Characters Reference To ITc Vn Container hr Prev HRESULT Detects and recognizes characters in a binary image (white characters on black background). Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_OCR : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; e Model : ULINT; ip Characters : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT, 1 channel, binary) e Model ULINT Selection of OCR model types (ETc Vn Ocr Model Type) ip Characters Reference To Returns the recognized characters ITc Vn Container [} 374] (Container Type_Vector_String_SINT) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) 1564 Version: 2.4.0 TF7000 - TF7810
## Page 1565

API reference Return value HRESULT [} 144] Further information The function F_VN_OCR detects and recognizes characters in a binary image and returns the recognized characters in a container. Parameter Input image The input image that is transferred to ip Src Image must be a 1-channel binary image. Only white characters on a black background are permitted. Model A model type of ETc Vn Ocr Model Type [} 214], which is to be used in a function call to classify the characters, must be transferred to e Model. This function only supports the use of one model per function call. To be able to use a model, it must first be initialized with the function block FB_VN_Initialize Function [} 1591]. Recognized characters The recognized characters are returned via the reference ip Characters. Expert parameters The expert variant F_VN_OCRExp [} 1566] contains additional parameters. Application For example, a call of the OCR function, with a model for recognizing numbers, with subsequent string export looks like this: hr := F_VN_OCR( ip Src Image := ip Binary Image, e Model := TCVN_OMT_NUMBERS, ip Characters := ip Characters Results, hr Prev := hr); // Export character to string hr := F_VN_Export Sub Container_String(ip Characters Results, 0, s Text, 255, hr); Required License TC3 Vision OCR System Requirements 6.1.4.23.2 F_VN_OCRExp F_VN_OCRExp ip Src Image ITc Vn Image REAL f Min Confidence e Model ULINT HRESULT F_VN_OCRExp ip Characters Reference To ITc Vn Container s Pattern STRING e Ocr Options UDINT ip Bounding Boxes Reference To ITc Vn Container ip Confidences Reference To ITc Vn Container hr Prev HRESULT TF7000 - TF7810 Version: 2.4.0 1565
## Page 1566

API reference Detects and recognizes characters in a binary image (white characters on black background). (expert function) Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: FUNCTION F_VN_OCRExp : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; e Model : ULINT; ip Characters : Reference To ITc Vn Container; s Pattern : STRING; e Ocr Options : UDINT; ip Bounding Boxes : Reference To ITc Vn Container; ip Confidences : Reference To ITc Vn Container; hr Prev : HRESULT; END_VAR VAR_OUTPUT f Min Confidence : REAL; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT, 1 channel, binary) e Model ULINT Selection of OCR model types (ETc Vn Ocr Model Type) ip Characters Reference To Returns the recognized characters ITc Vn Container [} 374] (Container Type_Vector_String_SINT) s Pattern STRING String pattern containing the format in which characters are presented e Ocr Options UDINT Specifies which options must be applied to the function (ETc Vn Ocr Options) ip Bounding Box Reference To Returns the corresponding bounding boxes of the recognized es ITc Vn Container [} 374] characters (Container Type_Vector_Tc Vn Rectangle_DINT, optional, set to 0 if not required) ip Confidences Reference To Returns the corresponding classification confidences of the ITc Vn Container [} 374] recognized characters (Container Type_Vector_REAL, optional, set to 0 if not required) hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Outputs Name Type Description f Min Confidenc REAL Returns the minimum value of the confidences e Return value HRESULT [} 144] Further information The function F_VN_OCRExp is the Expert version of F_VN_OCR [} 1564]. It contains additional parameters. Parameter Input image 1566 Version: 2.4.0 TF7000 - TF7810
## Page 1567

API reference The input image that is transferred to ip Src Image must be a 1-channel binary image. Only white characters on a black background are permitted. Model The model types of ETc Vn Ocr Model Type [} 214] that are to be used to classify the characters in a function call must be transferred to e Model. To be able to use several models with one function call, a string pattern must be specified via s Pattern. The models can be linked with a OR. To be able to use the individual models, they must first be initialized with the function block FB_VN_Initialize Function [} 1591]. Recognized characters The recognized characters are returned via the reference ip Characters. String pattern A string pattern with the expected format of the character string to be recognized can be transferred via s Pattern. Supported formatting and its meaning: • ! (exclamation mark) to ignore characters (does not apply to spaces) • . (point) for any character (does not apply to spaces) The use of the point is only supported with the TCVN_OMT_NUMBERS_SC_UCLETTERS model, otherwise the point has the same effect as an exclamation mark and an S_FALSE is output. • _ (underscore) for a space (independent of e Ocr Options) • d (number) for an expected number of 0-9 • # (special character) for an expected special character, supported are . / - : = + • u (capital letter) for an expected capital letter of A-Z Options With e Ocr Options, options (ETc Vn Ocr Options [} 215]) can be specified that influence the functionality and result output. If no options are required, a 0 must be passed. Bounding Boxes The reference ip Bounding Boxes can optionally be used to return the corresponding bounding boxes of the recognized characters. If no bounding boxes are required, the value 0 can be transferred. Confidences The reference ip Confidences can optionally be used to return the corresponding classification confidences of the recognized characters. If no confidences are required, the value 0 can be transferred. Minimum confidence The optional return value f Min Confidence returns the minimum confidence value of all characters found. Application For example, a call to the OCRExp function, with two models for recognizing numbers and capital letters, with subsequent string export looks like this: s Pattern := 'dd!uuu!dddd'; // e.g. 02-FEB-2024 hr := F_VN_OCRExp( ip Src Image := ip Binary Image, e Model := TCVN_OMT_NUMBERS OR TCVN_OMT_UCLETTERS, ip Characters := ip Characters Results, s Pattern := s Pattern, e Ocr Options := e Ocr Options, ip Bounding Boxes := ip Bounding Boxes, ip Confidences := ip Confidences, hr Prev := hr, TF7000 - TF7810 Version: 2.4.0 1567
## Page 1568

API reference f Min Confidence => f Min Confidence); // Export character to string hr := F_VN_Export Sub Container_String(ip Characters Results, 0, s Text, 255, hr); // Get the bounding box of the first element hr := F_VN_Get At_Tc Vn Rectangle_DINT(ip Bounding Boxes, st Rectangle, 0, hr); // Get the Confidence value of the first element hr := F_VN_Get At_REAL(ip Confidences, f Confidence, 0, hr); To evaluate the confidence values or to draw bounding boxes, individual elements of the containers can be accessed via Get At. However, if you want to access several or all elements of a container, it is advisable to program a loop or export the ip Confidences container completely as an array. Required License TC3 Vision OCR System Requirements 6.1.4.24 Texture Analysis This group contains functions for analyzing the texture of an image. Functions Granulometric properties • F_VN_Granulometry [} 1568] Haralick features • F_VN_Haralick Features [} 1570] 6.1.4.24.1 F_VN_Granulometry F_VN_Granulometry ip Image ITc Vn Image HRESULT F_VN_Granulometry ip Intensity Diffs Reference To ITc Vn Container e Morph Type ETc Vn Morphological Operator n Min Size UDINT n Max Size UDINT n Step UDINT hr Prev HRESULT Computes the granulometry of a textured image using morphological operations. Syntax Definition: FUNCTION F_VN_Granulometry : HRESULT VAR_INPUT ip Image : ITc Vn Image; ip Intensity Diffs : Reference To ITc Vn Container; e Morph Type : ETc Vn Morphological Operator; n Min Size : UDINT; n Max Size : UDINT; n Step : UDINT; hr Prev : HRESULT; END_VAR 1568 Version: 2.4.0 TF7000 - TF7810
## Page 1569

API reference Inputs Name Type Description ip Image ITc Vn Image [} 413] Source image (1 channel) ip Intensity Diffs Reference To Returns the intensity differences between successive structuring ITc Vn Container [} 374] element sizes (CTc Vn Container_Vector_LREAL), which can be used as features for texture description. e Morph Type Only opening or closing are supported. ETc Vn Morphological Oper ator [} 212] n Min Size UDINT Min structuring element size (odd, >= 3) n Max Size UDINT Max structuring element size (>= n Min Size) n Step UDINT Step, by which n Min Size is incremented until n Max Size is exceeded (even, >= 2). hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Granulometry calculates the granulometric properties of an image. These values provide an indication of the size distribution of different image areas. Parameter Image The input image ip Image. Features The granulometric features are returned as a container via the reference ip Intensity Diffs. Operator type The type of morphological operator is defined via e Morph Type as TCVN_MO_OPENING or as TCVN_MO_CLOSING. Operator size The size of the morphological operators is determined by the minimum n Min Size, the maximum n Max Size and the step size n Step. The operators must have an odd size and the step size must be even. Application For example, the calculation of granulometric features with closing operators in the sizes three, seven and eleven looks like this: hr := F_VN_Granulometry( ip Image := ip Image, ip Intensity Diffs := ip Intensity Diffs, e Morph Type := TCVN_MO_CLOSING, n Min Size := 3, n Max Size := 11, n Step := 4, hr Prev := hr); Related functions • F_VN_Haralick Features [} 1570] TF7000 - TF7810 Version: 2.4.0 1569
## Page 1570

API reference Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.4.24.2 F_VN_Haralick Features F_VN_Haralick Features ip Image ITc Vn Image HRESULT F_VN_Haralick Features ip Features Reference To ITc Vn Container n Dist UDINT hr Prev HRESULT Computes the Haralick features of a graylevel image, which describe the texture. Syntax Definition: FUNCTION F_VN_Haralick Features : HRESULT VAR_INPUT ip Image : ITc Vn Image; ip Features : Reference To ITc Vn Container; n Dist : UDINT; hr Prev : HRESULT; END_VAR Inputs Name Type Description ip Image ITc Vn Image [} 413] Source image (1 channel, USINT) ip Features Reference To Returns the computed Haralick features ITc Vn Container [} 374] (CTc Vn Container_Vector_LREAL). The returned feature set contains the mean and standard deviation for each of the first 13 Haralick features, computed for 0, 45, 90, 135 degrees. So there will be 26 features in total (f1 mean, f1 std Dev, f2 mean, f2 std Dev, ..., f13 mean, f13 std Dev). n Dist UDINT Distance hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) Return value HRESULT [} 144] Further information The function F_VN_Haralick Features calculates the Haralick properties of an image. These values provide an indication of the structure of the image. Parameter Image The input image ip Image. Features The Haralick features are returned as a container via the reference ip Features. 1570 Version: 2.4.0 TF7000 - TF7810
## Page 1571

API reference Distance The distance between neighboring pixels in the Gray-Level Co-occurrence Matrix (GLCM) is specified as n Dist. Application For example, the calculation of Haralick features with a distance of 5 looks like this: hr := F_VN_Haralick Features( ip Image := ip Image, ip Features := ip Features, n Dist := 5, hr Prev := hr); Related functions • F_VN_Granulometry [} 1568] Required License TC3 Machine Learning Realtime Inference System Requirements 6.1.5 Function Blocks Communication with Gig E Vision cameras or with the file system as well as complex image processing functions is mapped by function blocks. Function blocks are identified by the prefix "FB_VN_". Grouping of function blocks All function blocks of the Twin CAT Vision library are sorted thematically into the following groups: • Camera Register Access [} 1572] • File Access [} 1589] • Image Acquisition [} 1612] • Image Processing [} 1653] 6.1.5.1 License Overview The following list shows the assignment of Twin CAT Vision function blocks to available licenses (see license model [} 12]). It shows which license is required for the application of certain function blocks. The basic license TC3 Vision Base (TF7100) is always required. TC3 Vision Base FB_VN_File Source Control [} 1614] FB_VN_Gev Camera Control [} 1622] FB_VN_Initialize Function [} 1591] FB_VN_Read Calibration Pattern [} 1593] FB_VN_Read Calibration Result [} 1595] FB_VN_Read Container [} 1597] TF7000 - TF7810 Version: 2.4.0 1571
## Page 1572

API reference FB_VN_Read Image [} 1599] FB_VN_Read Memory [} 1574] FB_VN_Read Ml Model [} 1600] FB_VN_Read Neural Network [} 1610] FB_VN_Read Register_REAL [} 1575] FB_VN_Read Register_UDINT [} 1577] FB_VN_Read Register_ULINT [} 1579] FB_VN_Simple Camera Control [} 1647] FB_VN_Write Calibration Result [} 1602] FB_VN_Write Container [} 1604] FB_VN_Write Image [} 1606] FB_VN_Write Memory [} 1581] FB_VN_Write Ml Model [} 1608] FB_VN_Write Register_REAL [} 1583] FB_VN_Write Register_UDINT [} 1585] FB_VN_Write Register_ULINT [} 1587] TC3 Vision Matching FB_VN_Generalized Hough Ballard [} 1653] FB_VN_SSIM [} 1658] 6.1.5.2 Camera Register Access This group contains function blocks for reading and writing camera registers or memory areas. Function blocks UDINT-Register (4 Byte) • FB_VN_Read Register_UDINT [} 1577] • FB_VN_Write Register_UDINT [} 1585] ULINT register (8 bytes) • FB_VN_Read Register_ULINT [} 1579] • FB_VN_Write Register_ULINT [} 1587] REAL-Register (4 Byte) • FB_VN_Read Register_REAL [} 1575] • FB_VN_Write Register_REAL [} 1583] Larger memory areas • FB_VN_Read Memory [} 1574] • FB_VN_Write Memory [} 1581] 1572 Version: 2.4.0 TF7000 - TF7810
## Page 1573

API reference Parameter The following parameters work in a similar way with all function blocks in this group: Address The n Address address specifies the register of the camera to be read or saved. The type GVCP_REGISTER_ADDRESS is merely an alias for UDINT; therefore, the address must be 4 bytes (or 32 bits) long. For larger memory areas of the camera (see FB_VN_Read Memory [} 1574]) the address points to the beginning of the area to be read or saved. Calling function blocks sequentially Please note that each time one of these function blocks is called, you must wait for the respective response from the camera. Therefore, only one function block can be active at a time. Before a further call or the use of another function block, you must wait until the active block is no longer b Busy. We therefore recommend sequential programming if several function blocks are to be used or register values are to be read or written. Execute the function The triggers for write and read commands are b Write and b Read respectively. They are triggered by a rising edge (change from FALSE to TRUE). The relevant input parameters are saved internally so that a parameter change during the execution has no effect. A falling edge of the trigger likewise has no effect. Calling function blocks Please note that the description of parameters for function blocks only has an effect if the function blocks are actually called. Timeout So as not to have to wait a long time for the execution of the function block in the case of an unknown error, the maximum permitted execution time can be set with n Timeout. The execution will be aborted if this time is exceeded without a successful result after triggering the command trigger. The timeout error is then recognizable by the two outputs b Error and n Error Id. Working state The output b Busy indicates whether the function block is busy. No new command can be triggered if b Busy = TRUE. By means of a suitable IF query it is possible to determine whether the execution of the function block is completed: IF NOT fb Read Or Write.b Busy THEN // Function block execution is complete or error occurred. // Next write-command can be issued. END_IF Error state The error state is indicated by b Error binarily indicating an error and n Error Id outputting the error code (ADS Return Code [} 2864]) if applicable. The error state is reset as soon as a new command is triggered. The error code is PENDING (16#71E) if the function block is busy (b Busy = TRUE). The hexadecimal value of the error code can be extracted as follows: IF fb Read Or Write.b Error THEN // Show relevant error code for debugging purposes: n Error Code := fb Read Or Write.n Error Id AND 16#FFF; END_IF Samples • Reading/writing a register [} 2817] TF7000 - TF7810 Version: 2.4.0 1573
## Page 1574

API reference 6.1.5.2.1 FB_VN_Read Memory FB_VN_Read Memory n Address GVCP_REGISTER_ADDRESS BOOL b Busy n Length UINT BOOL b Error p Buffer PVOID UDINT n Error Id b Read BOOL n Timeout TIME This FB reads consecutive memory locations from the camera. Requires an open control channel (e.g. by calling FB_VN_Gev Camera Control. Open Camera() before) Syntax Definition: FUNCTION_BLOCK FB_VN_Read Memory VAR_INPUT n Address : GVCP_REGISTER_ADDRESS; n Length : UINT; p Buffer : PVOID; b Read : BOOL; n Timeout : TIME; END_VAR VAR_OUTPUT b Busy : BOOL; b Error : BOOL; n Error Id : UDINT; END_VAR VAR oid ITc Vn Gev Image Provider : OTCID; END_VAR Inputs Name Type Default Description n Address The address of the first byte to read from GVCP_REGISTER_ADDRES the camera (must be 32-bit aligned) S [} 163] n Length UINT The number of bytes to read, starting with n Address (must be a multiple of 4, not more than 536) p Buffer PVOID Pointer to the buffer where the read memory content is written to (The buffer must have a size of at least n Length bytes!) b Read BOOL Reading the memory is triggered by a rising edge at this input. n Timeout TIME VISION_ADS_TIME Indicates the time before the function is OUT cancelled. 1574 Version: 2.4.0 TF7000 - TF7810
## Page 1575

API reference Outputs Name Type Description b Busy BOOL This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error BOOL This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id UDINT Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. Further information Open camera Control Channel needed! The Control Channel of the Gig E Vision camera must be open in order to be able to use this function block. In addition, some camera parameters can only be changed if the image acquisition is stopped. It is therefore recommended to place the camera in the state TCVN_CS_OPENED first. Parameter n Address The register address identifies the camera register to be addressed. It is of the type GVCP_REGISTER_ADDRESS, which is an alias of the type UDINT. Thus, all register addresses have a size of 4 bytes. The register address of a camera parameter can be seen at the respective point in the configuration tree [} 80] of the Gig E Vision camera instance: Required License TC3 Vision Base System Requirements 6.1.5.2.2 FB_VN_Read Register_REAL FB_VN_Read Register_REAL n Address GVCP_REGISTER_ADDRESS REAL f Value n Endian UINT BOOL b Busy b Read BOOL BOOL b Error n Timeout TIME UDINT n Error Id This FB reads a REAL register from the camera. Requires an open control channel (e.g. by calling FB_VN_Gev Camera Control. Open Camera() before) TF7000 - TF7810 Version: 2.4.0 1575
## Page 1576

API reference Syntax Definition: FUNCTION_BLOCK FB_VN_Read Register_REAL VAR_INPUT n Address : GVCP_REGISTER_ADDRESS; n Endian : UINT; b Read : BOOL; n Timeout : TIME; END_VAR VAR_OUTPUT f Value : REAL; b Busy : BOOL; b Error : BOOL; n Error Id : UDINT; END_VAR VAR oid ITc Vn Gev Image Provider : OTCID; END_VAR Inputs Name Type Default Description n Address The address of the register that should be GVCP_REGISTER_ADDRES read S [} 163] n Endian UINT OPTIONAL: The endianness of the register. 0 = Big, 1 = Little. Default: 0 b Read BOOL Reading the register is triggered by a rising edge at this input. n Timeout TIME VISION_ADS_TIME Indicates the time before the function is OUT cancelled. Outputs Name Type Description f Value REAL The read value b Busy BOOL This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error BOOL This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id UDINT Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. Further information Open camera Control Channel needed! The Control Channel of the Gig E Vision camera must be open in order to be able to use this function block. In addition, some camera parameters can only be changed if the image acquisition is stopped. It is therefore recommended to place the camera in the state TCVN_CS_OPENED first. Parameter n Address 1576 Version: 2.4.0 TF7000 - TF7810
## Page 1577

API reference The register address identifies the camera register to be addressed. It is of the type GVCP_REGISTER_ADDRESS, which is an alias of the type UDINT. Thus, all register addresses have a size of 4 bytes. The register address of a camera parameter can be seen at the respective point in the configuration tree [} 80] of the Gig E Vision camera instance: n Endian Endianess describes the order in which the bytes of a camera register are arranged. This does not need to be considered any further in terms of the application and can be adopted as a property of the respective parameter of the configuration tree of the Gig E Vision camera instance: A Big Endian is represented by n Endian := 0 and a Small Endian by n Endian := 1. Big Endian is the default. Samples • Reading/writing a register [} 2817] Required License TC3 Vision Base System Requirements 6.1.5.2.3 FB_VN_Read Register_UDINT FB_VN_Read Register_UDINT n Address GVCP_REGISTER_ADDRESS UDINT n Value n Endian UINT BOOL b Busy b Read BOOL BOOL b Error n Timeout TIME UDINT n Error Id This FB reads a DINT register from the camera. Requires an open control channel (e.g. by calling FB_VN_Gev Camera Control. Open Camera() before) Syntax Definition: FUNCTION_BLOCK FB_VN_Read Register_UDINT VAR_INPUT n Address : GVCP_REGISTER_ADDRESS; n Endian : UINT; b Read : BOOL; n Timeout : TIME; END_VAR VAR_OUTPUT n Value : UDINT; b Busy : BOOL; b Error : BOOL; n Error Id : UDINT; END_VAR TF7000 - TF7810 Version: 2.4.0 1577
## Page 1578

API reference VAR oid ITc Vn Gev Image Provider : OTCID; END_VAR Inputs Name Type Default Description n Address The address of the register that should be GVCP_REGISTER_ADDRES read S [} 163] n Endian UINT OPTIONAL: The endianness of the register. 0 = Big, 1 = Little. Default: 0 b Read BOOL Reading the register is triggered by a rising edge at this input. n Timeout TIME VISION_ADS_TIME Indicates the time before the function is OUT cancelled. Outputs Name Type Description n Value UDINT The read value b Busy BOOL This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error BOOL This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id UDINT Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. Further information Open camera Control Channel needed! The Control Channel of the Gig E Vision camera must be open in order to be able to use this function block. In addition, some camera parameters can only be changed if the image acquisition is stopped. It is therefore recommended to place the camera in the state TCVN_CS_OPENED first. Parameter n Address The register address identifies the camera register to be addressed. It is of the type GVCP_REGISTER_ADDRESS, which is an alias of the type UDINT. Thus, all register addresses have a size of 4 bytes. The register address of a camera parameter can be seen at the respective point in the configuration tree [} 80] of the Gig E Vision camera instance: n Endian 1578 Version: 2.4.0 TF7000 - TF7810
## Page 1579

API reference Endianess describes the order in which the bytes of a camera register are arranged. This does not need to be considered any further in terms of the application and can be adopted as a property of the respective parameter of the configuration tree of the Gig E Vision camera instance: A Big Endian is represented by n Endian := 0 and a Small Endian by n Endian := 1. Big Endian is the default. Samples • Reading/writing a register [} 2817] Required License TC3 Vision Base System Requirements 6.1.5.2.4 FB_VN_Read Register_ULINT FB_VN_Read Register_ULINT n Address GVCP_REGISTER_ADDRESS ULINT n Value n Endian UINT BOOL b Busy b Read BOOL BOOL b Error n Timeout TIME UDINT n Error Id This FB reads a ULINT register from the camera. Requires an open control channel (e.g. by calling FB_VN_Gev Camera Control. Open Camera() before) Syntax Definition: FUNCTION_BLOCK FB_VN_Read Register_ULINT VAR_INPUT n Address : GVCP_REGISTER_ADDRESS; n Endian : UINT; b Read : BOOL; n Timeout : TIME; END_VAR VAR_OUTPUT n Value : ULINT; b Busy : BOOL; b Error : BOOL; n Error Id : UDINT; END_VAR VAR oid ITc Vn Gev Image Provider : OTCID; END_VAR TF7000 - TF7810 Version: 2.4.0 1579
## Page 1580

API reference Inputs Name Type Default Description n Address The address of the register that should be GVCP_REGISTER_ADDRES read S [} 163] n Endian UINT OPTIONAL: The endianness of the register. 0 = Big, 1 = Little. Default: 0 b Read BOOL Reading the register is triggered by a rising edge at this input. n Timeout TIME VISION_ADS_TIME Indicates the time before the function is OUT cancelled. Outputs Name Type Description n Value ULINT The read value b Busy BOOL This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error BOOL This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id UDINT Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. Further information Open camera Control Channel needed! The Control Channel of the Gig E Vision camera must be open in order to be able to use this function block. In addition, some camera parameters can only be changed if the image acquisition is stopped. It is therefore recommended to place the camera in the state TCVN_CS_OPENED first. Parameter n Address The register address identifies the camera register to be addressed. It is of the type GVCP_REGISTER_ADDRESS, which is an alias of the type UDINT. Thus, all register addresses have a size of 4 bytes. The register address of a camera parameter can be seen at the respective point in the configuration tree [} 80] of the Gig E Vision camera instance: n Endian 1580 Version: 2.4.0 TF7000 - TF7810
## Page 1581

API reference Endianess describes the order in which the bytes of a camera register are arranged. This does not need to be considered any further in terms of the application and can be adopted as a property of the respective parameter of the configuration tree of the Gig E Vision camera instance: A Big Endian is represented by n Endian := 0 and a Small Endian by n Endian := 1. Big Endian is the default. Examples Reading/writing a register [} 2817] Required License TC3 Vision Base System Requirements 6.1.5.2.5 FB_VN_Write Memory FB_VN_Write Memory n Address GVCP_REGISTER_ADDRESS BOOL b Busy n Length UINT BOOL b Error p Data PVOID UDINT n Error Id b Write BOOL UINT n Bytes Written n Timeout TIME This FB writes data to consecutive memory locations on the camera. Requires an open control channel (e.g. by calling FB_VN_Gev Camera Control. Open Camera() before) Syntax Definition: FUNCTION_BLOCK FB_VN_Write Memory VAR_INPUT n Address : GVCP_REGISTER_ADDRESS; n Length : UINT; p Data : PVOID; b Write : BOOL; n Timeout : TIME; END_VAR VAR_OUTPUT b Busy : BOOL; b Error : BOOL; n Error Id : UDINT; n Bytes Written : UINT; END_VAR VAR oid ITc Vn Gev Image Provider : OTCID; END_VAR TF7000 - TF7810 Version: 2.4.0 1581
## Page 1582

API reference Inputs Name Type Default Description n Address The address of the first byte to write to the GVCP_REGISTER_ADDRES camera (must be 32-bit aligned) S [} 163] n Length UINT The number of bytes to write, starting at n Address (must be a multiple of 4, not more than 536) p Data PVOID Pointer to the data that should be written to the camera (must have a size of at least n Length bytes!) b Write BOOL Writing the memory is triggered by a rising edge at this input. n Timeout TIME VISION_ADS_TIME Indicates the time before the function is OUT cancelled. Outputs Name Type Description b Busy BOOL This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error BOOL This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id UDINT Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. n Bytes Written UINT The number of bytes that have been successfully written to the camera. Further information Open camera Control Channel needed! The Control Channel of the Gig E Vision camera must be open in order to be able to use this function block. In addition, some camera parameters can only be changed if the image acquisition is stopped. It is therefore recommended to place the camera in the state TCVN_CS_OPENED first. Parameter n Address The register address identifies the camera register to be addressed. It is of the type GVCP_REGISTER_ADDRESS, which is an alias of the type UDINT. Thus, all register addresses have a size of 4 bytes. The register address of a camera parameter can be seen at the respective point in the configuration tree [} 80] of the Gig E Vision camera instance: 1582 Version: 2.4.0 TF7000 - TF7810
## Page 1583

API reference Required License TC3 Vision Base System Requirements 6.1.5.2.6 FB_VN_Write Register_REAL FB_VN_Write Register_REAL n Address GVCP_REGISTER_ADDRESS BOOL b Busy f Value REAL BOOL b Error n Endian UINT UDINT n Error Id b Write BOOL n Timeout TIME This FB writes a REAL value into a register on the camera. Requires an open control channel (e.g. by calling FB_VN_Gev Camera Control. Open Camera() before) Syntax Definition: FUNCTION_BLOCK FB_VN_Write Register_REAL VAR_INPUT n Address : GVCP_REGISTER_ADDRESS; f Value : REAL; n Endian : UINT; b Write : BOOL; n Timeout : TIME; END_VAR VAR_OUTPUT b Busy : BOOL; b Error : BOOL; n Error Id : UDINT; END_VAR VAR oid ITc Vn Gev Image Provider : OTCID; END_VAR Inputs Name Type Default Description n Address The address of the register that should be GVCP_REGISTER_ADDRES written S [} 163] f Value REAL The value to write n Endian UINT OPTIONAL: The endianness of the register. 0 = Big, 1 = Little. Default: 0 b Write BOOL Writing the register is triggered by a rising edge at this input. n Timeout TIME VISION_ADS_TIME Indicates the time before the function is OUT cancelled. TF7000 - TF7810 Version: 2.4.0 1583
## Page 1584

API reference Outputs Name Type Description b Busy BOOL This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error BOOL This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id UDINT Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. Further information Open camera Control Channel needed! The Control Channel of the Gig E Vision camera must be open in order to be able to use this function block. In addition, some camera parameters can only be changed if the image acquisition is stopped. It is therefore recommended to place the camera in the state TCVN_CS_OPENED first. Parameter n Address The register address identifies the camera register to be addressed. It is of the type GVCP_REGISTER_ADDRESS, which is an alias of the type UDINT. Thus, all register addresses have a size of 4 bytes. The register address of a camera parameter can be seen at the respective point in the configuration tree [} 80] of the Gig E Vision camera instance: n Endian Endianess describes the order in which the bytes of a camera register are arranged. This does not need to be considered any further in terms of the application and can be adopted as a property of the respective parameter of the configuration tree of the Gig E Vision camera instance: A Big Endian is represented by n Endian := 0 and a Small Endian by n Endian := 1. Big Endian is the default. Samples • Reading/writing a register [} 2817] Required License TC3 Vision Base 1584 Version: 2.4.0 TF7000 - TF7810
## Page 1585

API reference System Requirements 6.1.5.2.7 FB_VN_Write Register_UDINT FB_VN_Write Register_UDINT n Address GVCP_REGISTER_ADDRESS BOOL b Busy n Value UDINT BOOL b Error n Endian UINT UDINT n Error Id b Write BOOL n Timeout TIME This FB writes a DINT value into a register on the camera. Requires an open control channel (e.g. by calling FB_VN_Gev Camera Control. Open Camera() before) Syntax Definition: FUNCTION_BLOCK FB_VN_Write Register_UDINT VAR_INPUT n Address : GVCP_REGISTER_ADDRESS; n Value : UDINT; n Endian : UINT; b Write : BOOL; n Timeout : TIME; END_VAR VAR_OUTPUT b Busy : BOOL; b Error : BOOL; n Error Id : UDINT; END_VAR VAR oid ITc Vn Gev Image Provider : OTCID; END_VAR Inputs Name Type Default Description n Address The address of the register that should be GVCP_REGISTER_ADDRES written S [} 163] n Value UDINT The value to write n Endian UINT OPTIONAL: The endianness of the register. 0 = Big, 1 = Little. Default: 0 b Write BOOL Writing the register is triggered by a rising edge at this input. n Timeout TIME VISION_ADS_TIME Indicates the time before the function is OUT cancelled. TF7000 - TF7810 Version: 2.4.0 1585
## Page 1586

API reference Outputs Name Type Description b Busy BOOL This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error BOOL This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id UDINT Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. Further information Open camera Control Channel needed! The Control Channel of the Gig E Vision camera must be open in order to be able to use this function block. In addition, some camera parameters can only be changed if the image acquisition is stopped. It is therefore recommended to place the camera in the state TCVN_CS_OPENED first. Parameter n Address The register address identifies the camera register to be addressed. It is of the type GVCP_REGISTER_ADDRESS, which is an alias of the type UDINT. Thus, all register addresses have a size of 4 bytes. The register address of a camera parameter can be seen at the respective point in the configuration tree [} 80] of the Gig E Vision camera instance: n Endian Endianess describes the order in which the bytes of a camera register are arranged. This does not need to be considered any further in terms of the application and can be adopted as a property of the respective parameter of the configuration tree of the Gig E Vision camera instance: A Big Endian is represented by n Endian := 0 and a Small Endian by n Endian := 1. Big Endian is the default. Samples • Reading/writing a register [} 2817] Required License TC3 Vision Base 1586 Version: 2.4.0 TF7000 - TF7810
## Page 1587

API reference System Requirements 6.1.5.2.8 FB_VN_Write Register_ULINT FB_VN_Write Register_ULINT n Address GVCP_REGISTER_ADDRESS BOOL b Busy n Value ULINT BOOL b Error n Endian UINT UDINT n Error Id b Write BOOL n Timeout TIME This FB writes a ULINT value into a register on the camera. Requires an open control channel (e.g. by calling FB_VN_Gev Camera Control. Open Camera() before) Syntax Definition: FUNCTION_BLOCK FB_VN_Write Register_ULINT VAR_INPUT n Address : GVCP_REGISTER_ADDRESS; n Value : ULINT; n Endian : UINT; b Write : BOOL; n Timeout : TIME; END_VAR VAR_OUTPUT b Busy : BOOL; b Error : BOOL; n Error Id : UDINT; END_VAR VAR oid ITc Vn Gev Image Provider : OTCID; END_VAR Inputs Name Type Default Description n Address The address of the register that should be GVCP_REGISTER_ADDRES written S [} 163] n Value ULINT The value to write n Endian UINT OPTIONAL: The endianness of the register. 0 = Big, 1 = Little. Default: 0 b Write BOOL Writing the register is triggered by a rising edge at this input. n Timeout TIME VISION_ADS_TIME Indicates the time before the function is OUT cancelled. TF7000 - TF7810 Version: 2.4.0 1587
## Page 1588

API reference Outputs Name Type Description b Busy BOOL This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error BOOL This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id UDINT Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. Further information Open camera Control Channel needed! The Control Channel of the Gig E Vision camera must be open in order to be able to use this function block. In addition, some camera parameters can only be changed if the image acquisition is stopped. It is therefore recommended to place the camera in the state TCVN_CS_OPENED first. Parameter n Address The register address identifies the camera register to be addressed. It is of the type GVCP_REGISTER_ADDRESS, which is an alias of the type UDINT. Thus, all register addresses have a size of 4 bytes. The register address of a camera parameter can be seen at the respective point in the configuration tree [} 80] of the Gig E Vision camera instance: n Endian Endianess describes the order in which the bytes of a camera register are arranged. This does not need to be considered any further in terms of the application and can be adopted as a property of the respective parameter of the configuration tree of the Gig E Vision camera instance: A Big Endian is represented by n Endian := 0 and a Small Endian by n Endian := 1. Big Endian is the default. Examples Reading/writing a register [} 2817] 1588 Version: 2.4.0 TF7000 - TF7810
## Page 1589

API reference Required License TC3 Vision Base System Requirements 6.1.5.3 File Access This group contains function blocks for reading and writing data on the file system. Function blocks Images • FB_VN_Read Image [} 1599] • FB_VN_Write Image [} 1606] Container • FB_VN_Read Container [} 1597] • FB_VN_Write Container [} 1604] Machine learning models • FB_VN_Read Ml Model [} 1600] • FB_VN_Write Ml Model [} 1608] Calibration pattern • FB_VN_Read Calibration Pattern [} 1593] • FB_VN_Read Calibration Result [} 1596] • FB_VN_Write Calibration Result [} 1603] Function initialization • FB_VN_Initialize Function [} 1591] Neural Network • FB_VN_Read Neural Network [} 1610] General These function blocks work asynchronously; the time from the first execution to the desired result extends over several cycles. The actual duration of each read/write operation depends on several factors, such as the size of the image and the behavior of the operating system. The following parameters are the same for all function blocks and are therefore described here once centrally. Parameter File path The file path s File Path specifies where to save a file or which file to load. Absolute and relative paths can be used. In the case of relative paths, the default paths set in the Service Configuration [} 67] are used as the basis. Path length The type of the s File Path is specified as STRING, but paths with a length of up to 255 characters can be passed. The file path is stored internally on a rising edge of the write command b Write so that changes to the path in later cycles have no effect. TF7000 - TF7810 Version: 2.4.0 1589
## Page 1590

API reference Execute the function The triggers for write and read commands are b Write and b Read respectively. They are triggered by a rising edge (change from FALSE to TRUE). The relevant input parameters are saved internally so that a parameter change during the execution has no effect. A falling edge of the trigger likewise has no effect. Calling function blocks Please note that the description of parameters for function blocks only has an effect if the function blocks are actually called. Timeout So as not to have to wait a long time for the execution of the function block in the case of an unknown error, the maximum permitted execution time can be set with n Timeout. The execution will be aborted if this time is exceeded without a successful result after triggering the command trigger. The timeout error is then recognizable by the two outputs b Error and n Error Id. Working state The output b Busy indicates whether the function block is busy. No new command can be triggered if b Busy = TRUE. By means of a suitable IF query it is possible to determine whether the execution of the function block is completed: IF NOT fb Read Or Write.b Busy THEN // Function block execution is complete or error occurred. // Next write-command can be issued. END_IF Error state The error state is indicated by b Error binarily indicating an error and n Error Id outputting the error code (ADS Return Code [} 2864]) if applicable. The error state is reset as soon as a new command is triggered. The error code is PENDING (16#71E) if the function block is busy (b Busy = TRUE). The hexadecimal value of the error code can be extracted as follows: IF fb Read Or Write.b Error THEN // Show relevant error code for debugging purposes: n Error Code := fb Read Or Write.n Error Id AND 16#FFF; END_IF The most frequent error codes are: 1590 Version: 2.4.0 TF7000 - TF7810
## Page 1591

API reference Hex Dec Name Meaning 16#006 6 TARGETPORTNOTFOUND ADS server not reachable. Essentially occurs when the Twin CAT Vision Service has not started. See Vision Service doesn't start [} 2849]. 16#700 1792 ERROR General error if saving or loading fails. This usually indicates that the specified file format is not supported or that the file path is unreachable. The error usually occurs in the Twin CAT Vision Service [} 67]. 16#70B 1803 INVALIDPARM Invalid parameter. This usually indicates that the interface pointer [} 140] is invalid. 16#719 1817 TIMEOUT Timeout. Loading or saving has exceeded the maximum execution time n Timeout. In general, this occurs mainly with a heavy load on ADS. 16#71E 1822 PENDING Not really an error, therefore the output b Error is not set here. This code signals that the function block is busy. It occurs in parallel to the output b Busy if a new rising edge is registered while the function block is busy. Examples • Saving images from the PLC [} 2818] 6.1.5.3.1 FB_VN_Initialize Function FB_VN_Initialize Function e Function ETc Vn Initializable Function BOOL b Busy n Options ULINT BOOL b Error b Start BOOL UDINT n Error Id n Timeout TIME This FB initializes selected functions. Syntax Definition: FUNCTION_BLOCK FB_VN_Initialize Function VAR_INPUT e Function : ETc Vn Initializable Function; n Options : ULINT; b Start : BOOL; TF7000 - TF7810 Version: 2.4.0 1591
## Page 1592

API reference n Timeout : TIME; END_VAR VAR_OUTPUT b Busy : BOOL; b Error : BOOL; n Error Id : UDINT; END_VAR Inputs Name Type Default Description e Function ETc Vn Initializable Function Selects the function to initialize [} 209] n Options ULINT 0 Selects initialization options for the function b Start BOOL Function initialization is triggered by a rising edge at this input. n Timeout TIME VISION_ADS_TIME Indicates the time before the function is OUT cancelled. Outputs Name Type Description b Busy BOOL This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error BOOL This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id UDINT Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. Further information The function block FB_VN_Initialize Function initializes the function specified at e Function. The required data is loaded asynchronously into the PLC in the background. Parameter Some parameters are described centrally in the section File Access Parameters [} 1589]. In contrast to the description, the function to be initialized must be specified for this function block instead of a file path. Function The e Function to be initialized. Options Selection of the initialization options n Options for the specified function. The possible enum options can be found in the description of the function to be initialized. The options can be linked with a OR and thus loaded with a call to the function block. Application The initialization of the OCR function with the option to classify capital letters looks like this, for example: 1592 Version: 2.4.0 TF7000 - TF7810
## Page 1593

API reference fb Init OCR( e Function := TCVN_IF_OCR, n Options := ETc Vn Ocr Model Type. TCVN_OMT_UCLETTERS, b Start := TRUE, n Timeout := T#500MS); IF NOT fb Init OCR.b Busy AND NOT fb Init OCR.b Error THEN // The function is initialized and can be used with the specified options END_IF Related functions • F_VN_Check Function Initialization [} 1515] can be used to check whether a function is initialized with a corresponding option. • F_VN_Deinitialize Function [} 1522] offers the possibility to de-initialize an option of a function and thus release the memory. Required License TC3 Vision Base System Requirements 6.1.5.3.2 FB_VN_Read Calibration Pattern FB_VN_Read Calibration Pattern s File Path STRING BOOL b Busy ip Dest Container Reference To ITc Vn Container BOOL b Error b Read BOOL UDINT n Error Id n Timeout TIME This FB reads calibration pattern reference points from an xml file on the targte pc. Syntax Definition: FUNCTION_BLOCK FB_VN_Read Calibration Pattern VAR_INPUT s File Path : STRING; ip Dest Container : Reference To ITc Vn Container; b Read : BOOL; n Timeout : TIME; END_VAR VAR_OUTPUT b Busy : BOOL; b Error : BOOL; n Error Id : UDINT; END_VAR Inputs Name Type Default Description s File Path STRING Full path of the file or relative path to the default directory on the target pc ip Dest Containe Reference To Returns a container with the pattern points r ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Point3_REA L) b Read BOOL Reading the file is triggered by a rising edge at this input. n Timeout TIME VISION_ADS_TIME Indicates the time before the function is OUT cancelled. TF7000 - TF7810 Version: 2.4.0 1593
## Page 1594

API reference Outputs Name Type Description b Busy BOOL This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error BOOL This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id UDINT Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. Further information The function block FB_VN_Read Calibration Pattern loads the description of an individual calibration pattern [} 122] asynchronously from a file. Loading of modified containers When loading containers, the vision service caches the data internally. Loading changed containers is therefore not possible in the standard system. To do this, adjust the cache settings [} 67] or see the sample Serial loading of images to the PLC [} 2819] for an alternative. Parameter Some parameters are described centrally in the section File Access Parameters [} 1589]. Loaded container (return value) The loaded container with the reference points of the calibration pattern can be reached via the interface pointer ip Pattern Reference Points after a successful read operation. Application Loading the reference points of a calibration pattern from the path C: \Tc Vision\Calibration Pattern Reference Points.xml looks like this, for example: fb Read Calibration Pattern( s File Path := 'C:\Tc Vision\Calibration Pattern Reference Points.xml', ip Dest Container := ip Pattern Reference Points, b Read := TRUE, n Timeout := T#500MS); IF NOT fb Read Calibration Pattern.b Busy AND NOT fb Read Calibration Pattern.b Error THEN // reference points are accessible in ip Pattern Reference Points END_IF Required License TC3 Vision Base 1594 Version: 2.4.0 TF7000 - TF7810
## Page 1595

API reference System Requirements 6.1.5.3.3 FB_VN_Read Calibration Result FB_VN_Read Calibration Result s File Path STRING BOOL b Busy a Camera Matrix Reference To Tc Vn Matrix3x3_LREAL BOOL b Error a Distortion Coefficients Reference To Tc Vn Array8_LREAL UDINT n Error Id a Rotation Matrix Reference To Tc Vn Matrix3x3_LREAL a Translation Vector Reference To Tc Vn Vector3_LREAL b Read BOOL n Timeout TIME This FB reads calibration results from a json file on the targte pc. Syntax Definition: FUNCTION_BLOCK FB_VN_Read Calibration Result VAR_INPUT s File Path : STRING; a Camera Matrix : Reference To Tc Vn Matrix3x3_LREAL; a Distortion Coefficients : Reference To Tc Vn Array8_LREAL; a Rotation Matrix : Reference To Tc Vn Matrix3x3_LREAL; a Translation Vector : Reference To Tc Vn Vector3_LREAL; b Read : BOOL; n Timeout : TIME; END_VAR VAR_OUTPUT b Busy : BOOL; b Error : BOOL; n Error Id : UDINT; END_VAR Inputs Name Type Default Description s File Path STRING Full path of the file or relative path to the default directory on the target pc a Camera Matrix Reference To Returns the camera matrix Tc Vn Matrix3x3_LREAL [} 165] a Distortion Coef Reference To Returns the distortion coefficients ficients Tc Vn Array8_LREAL [} 165] a Rotation Matri Reference To Returns the rotation matrix x Tc Vn Matrix3x3_LREAL [} 165] a Translation Ve Reference To Returns the translation vector ctor Tc Vn Vector3_LREAL [} 165] b Read BOOL Reading the file is triggered by a rising edge at this input. n Timeout TIME VISION_ADS_TIME Indicates the time before the function is OUT cancelled. TF7000 - TF7810 Version: 2.4.0 1595
## Page 1596

API reference Outputs Name Type Description b Busy BOOL This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error BOOL This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id UDINT Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. Further information The function block FB_VN_Read Calibration Result loads the calibration results from a file asynchronously into the PLC. Loading of changed calibration results. When loading the calibration results, the vision service caches the data internally. Loading modified results is therefore not possible in the standard system. To do this, adjust the cache settings [} 67] or see the sample Serial loading of images to the PLC [} 2819] for an alternative. Parameter Some parameters are described centrally in the section File Access Parameters [} 1589]. Calibration results The loaded calibration results can be accessed via the following variables after a successful read operation: // Calibration results a Camera Matrix : Tc Vn Matrix3x3_LREAL; a Distortion Coefficients : Tc Vn Array8_LREAL; a Rotation Matrix : Tc Vn Matrix3x3_LREAL; a Translation Vector : Tc Vn Vector3_LREAL; Application Loading the calibration results from the path C:\Tc Vision\ Calibration Result.json looks like this, for example: fb Read Calibration Result( s File Path := 'C:\Tc Vision\ Calibration Result.json', a Camera Matrix := a Camera Matrix, a Distortion Coefficients := a Distortion Coefficients, a Rotation Matrix := a Rotation Matrix, a Translation Vector := a Translation Vector, b Read := TRUE, n Timeout := T#500MS); IF NOT fb Read Calibration Result.b Busy AND NOT fb Read Calibration Result.b Error THEN // calibration results are accessible END_IF Related function block: FB_VN_Write Calibration Result [} 1602]. Required License TC3 Vision Base 1596 Version: 2.4.0 TF7000 - TF7810
## Page 1597

API reference System Requirements 6.1.5.3.4 FB_VN_Read Container FB_VN_Read Container s File Path STRING BOOL b Busy ip Dest Container Reference To ITc Vn Container BOOL b Error n Dest Type Guid GUID UDINT n Error Id b Read BOOL n Timeout TIME This FB reads a container from an xml file on the target pc. Syntax Definition: FUNCTION_BLOCK FB_VN_Read Container VAR_INPUT s File Path : STRING; ip Dest Container : Reference To ITc Vn Container; n Dest Type Guid : GUID; b Read : BOOL; n Timeout : TIME; END_VAR VAR_OUTPUT b Busy : BOOL; b Error : BOOL; n Error Id : UDINT; END_VAR Inputs Name Type Default Description s File Path STRING Full path of the file or relative path to the default directory on the target pc ip Dest Containe Reference To Returns a container with the loaded r ITc Vn Container [} 374] content n Dest Type Gui GUID The type id of the container to return. If d this parameter is not set, a suitable container type will be determined automatically (except for csv files). b Read BOOL Reading the file is triggered by a rising edge at this input. n Timeout TIME VISION_ADS_TIME Indicates the time before the function is OUT cancelled. TF7000 - TF7810 Version: 2.4.0 1597
## Page 1598

API reference Outputs Name Type Description b Busy BOOL This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error BOOL This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id UDINT Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. Further information The function block FB_VN_Read Container loads a container [} 155] from a file asynchronously into the PLC. Loading of modified containers. When loading containers, the vision service caches the data internally. Loading changed containers is therefore not possible in the standard system. To do this, adjust the cache settings [} 67] or see the example Serial loading of images into the PLC [} 2819] for an alternative. Parameter Some parameters are described centrally in the section File Access Parameters [} 1589]. Container type The container type [} 163] of the container to be loaded can optionally be specified. Loaded container (return value) The loaded container is reachable via the interface pointer ip Dest Container following successful reading. Application Loading a container with explicit type specification Container Type_Vector_Tc Vn Point2_DINT from the path C:\Tc Vision\Container.xml looks like this, for example: fb Read Container( s File Path := 'C:\Tc Vision\Container.xml', ip Dest Container := ip Container, n Dest Type Guid := Container Type_Vector_Tc Vn Point2_DINT, b Read := TRUE, n Timeout := T#500MS); IF NOT fb Read Container.b Busy AND NOT fb Read Container.b Error THEN // container is accessible in ip Container END_IF Related function block: FB_VN_Write Container [} 1604]. Required License TC3 Vision Base 1598 Version: 2.4.0 TF7000 - TF7810
## Page 1599

API reference System Requirements 6.1.5.3.5 FB_VN_Read Image FB_VN_Read Image s File Path STRING BOOL b Busy ip Dest Image Reference To ITc Vn Image BOOL b Error b Read BOOL UDINT n Error Id n Timeout TIME This FB reads an image from a file on the target pc. Syntax Definition: FUNCTION_BLOCK FB_VN_Read Image VAR_INPUT s File Path : STRING; ip Dest Image : Reference To ITc Vn Image; b Read : BOOL; n Timeout : TIME; END_VAR VAR_OUTPUT b Busy : BOOL; b Error : BOOL; n Error Id : UDINT; END_VAR Inputs Name Type Default Description s File Path STRING Full path of the file or relative path to the default image directory on the target pc ip Dest Image Reference To Returns an image with the loaded content ITc Vn Image [} 413] b Read BOOL Reading the file is triggered by a rising edge at this input. n Timeout TIME VISION_ADS_TIME Indicates the time before the function is OUT cancelled. Outputs Name Type Description b Busy BOOL This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error BOOL This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id UDINT Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. TF7000 - TF7810 Version: 2.4.0 1599
## Page 1600

API reference Further information The function block FB_VN_Read Image loads an image [} 152] from a file asynchronously into the PLC. Loading of modified images When loading images, the Vision service caches the data internally. Loading changed images is therefore not possible in the standard system. To do this, adjust the cache settings [} 67] or see the example Serial loading of images into the PLC [} 2819] for an alternative. Parameter Some parameters are described centrally in the section File Access Parameters [} 1589]. Destination image (return value) The loaded image is reachable via the interface pointer ip Dest Image following successful reading. Application Loading an image from the path C:\Tc Vision\Image.bmp looks like this, for example: fb Read Image( s File Path := 'C:\Tc Vision\Image.bmp', ip Dest Image := ip Image In, b Read := TRUE, n Timeout := T#500MS); IF NOT fb Read Image.b Busy AND NOT fb Read Image.b Error THEN // image is accessible in ip Image In END_IF Related function block: FB_VN_Write Image [} 1606] for saving images. Samples • Serial loading of images into the PLC [} 2819] Required License TC3 Vision Base System Requirements 6.1.5.3.6 FB_VN_Read Ml Model FB_VN_Read Ml Model s File Path STRING BOOL b Busy ip Dest Ml Model Reference To ITc Vn Ml Model BOOL b Error b Read BOOL UDINT n Error Id n Timeout TIME This FB reads a machine learning model from a file on the target pc. Syntax Definition: FUNCTION_BLOCK FB_VN_Read Ml Model VAR_INPUT s File Path : STRING; ip Dest Ml Model : Reference To ITc Vn Ml Model; b Read : BOOL; n Timeout : TIME; END_VAR VAR_OUTPUT b Busy : BOOL; 1600 Version: 2.4.0 TF7000 - TF7810
## Page 1601

API reference b Error : BOOL; n Error Id : UDINT; END_VAR Inputs Name Type Default Description s File Path STRING Full path of the file or relative path to the default directory on the target pc ip Dest Ml Model Reference To Returns the loaded machine learning ITc Vn Ml Model [} 422] model b Read BOOL Reading the file is triggered by a rising edge at this input. n Timeout TIME VISION_ADS_TIME Indicates the time before the function is OUT cancelled. Outputs Name Type Description b Busy BOOL This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error BOOL This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id UDINT Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. Further information The function block FB_VN_Read Ml Model loads an ML model [} 422] from a file asynchronously into the PLC. Loading of modified ML models When loading the ML model, the vision service caches the data internally. Loading modified ML models is therefore not possible in the standard system. To do this, adjust the cache settings [} 67] or see the example Serial loading of images into the PLC [} 2819] for an alternative. Parameter Some parameters are described centrally in the section File Access Parameters [} 1589]. Loaded ML model (return value) The loaded ITc Vn Ml Model is reachable via the interface pointer ip Dest Ml Model following successful reading. A special case is the use as ITc Vn Color Model, because after loading the model a conversion with the following row is still necessary. Alternatively, the ITc Vn Ml Model can also be used directly with the corresponding functions. hr := ip Read Ml Model. Tc Query Interface(IID_ITc Vn Color Model, ADR(ip Color Model)); TF7000 - TF7810 Version: 2.4.0 1601
## Page 1602

API reference Application Loading an ML model from the path C:\Tc Vision\Ml Model.vmlm looks like this, for example: fb Read Ml Model( s File Path := 'C:\Tc Vision\Ml Model.vmlm', ip Dest Ml Model := ip Read Ml Model, b Read := TRUE, n Timeout := T#500MS); IF NOT fb Read Ml Model.b Busy AND NOT fb Read Ml Model.b Error THEN // Ml-Model is accessible in ip Read Ml Model END_IF Related function block: FB_VN_Write Ml Model [} 1608]. Required License TC3 Vision Base System Requirements 6.1.5.3.7 FB_VN_Write Calibration Result FB_VN_Write Calibration Result s File Path STRING BOOL b Busy a Camera Matrix Reference To Tc Vn Matrix3x3_LREAL BOOL b Error a Distortion Coefficients Reference To Tc Vn Array8_LREAL UDINT n Error Id a Rotation Matrix Reference To Tc Vn Matrix3x3_LREAL a Translation Vector Reference To Tc Vn Vector3_LREAL b Write BOOL n Timeout TIME This FB writes calibration results as a json file to the hard drive. Syntax Definition: FUNCTION_BLOCK FB_VN_Write Calibration Result VAR_INPUT s File Path : STRING; a Camera Matrix : Reference To Tc Vn Matrix3x3_LREAL; a Distortion Coefficients : Reference To Tc Vn Array8_LREAL; a Rotation Matrix : Reference To Tc Vn Matrix3x3_LREAL; a Translation Vector : Reference To Tc Vn Vector3_LREAL; b Write : BOOL; n Timeout : TIME; END_VAR VAR_OUTPUT b Busy : BOOL; b Error : BOOL; n Error Id : UDINT; END_VAR 1602 Version: 2.4.0 TF7000 - TF7810
## Page 1603

API reference Inputs Name Type Default Description s File Path STRING Full path of the file or relative path to the default directory on the target pc (e.g. only a file name). If the string is empty, a file name will be generated (containing the current time). a Camera Matrix Reference To Returns the camera matrix Tc Vn Matrix3x3_LREAL [} 165] a Distortion Coef Reference To Returns the distortion coefficients ficients Tc Vn Array8_LREAL [} 165] a Rotation Matri Reference To Returns the rotation matrix x Tc Vn Matrix3x3_LREAL [} 165] a Translation Ve Reference To Returns the translation vector ctor Tc Vn Vector3_LREAL [} 165] b Write BOOL Writing the container is triggered by a rising edge at this input. n Timeout TIME VISION_ADS_TIME Indicates the time before the function is OUT cancelled. Outputs Name Type Description b Busy BOOL This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error BOOL This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id UDINT Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. Further information The function block FB_VN_Write Calibration Result saves the calibration results from the PLC asynchronously in a file. Parameter Some parameters are described centrally in the section File Access Parameters [} 1589]. Calibration results The following results of the calibration functions [} 1049] are saved under the specified file path in JSON format. TF7000 - TF7810 Version: 2.4.0 1603
## Page 1604

API reference // Calibration results a Camera Matrix : Tc Vn Matrix3x3_LREAL; a Distortion Coefficients : Tc Vn Array8_LREAL; a Rotation Matrix : Tc Vn Matrix3x3_LREAL; a Translation Vector : Tc Vn Vector3_LREAL; File path and format If s File Path is empty, a file name with the current time is generated and the extension json is used. Application Saving the calibration results to the C:\Tc Vision\Calibration Result.json file looks like this, for example: fb Write Calibration Result( s File Path := 'C:\Tc Vision\Calibration Result.json', a Camera Matrix := a Camera Matrix, a Distortion Coefficients := a Distortion Coefficients, a Rotation Matrix := a Rotation Matrix, a Translation Vector := a Translation Vector, b Write := TRUE, n Timeout := T#500MS); IF NOT fb Write Calibration Result.b Busy AND NOT fb Write Calibration Result.b Error THEN // Calibration result was written successfully to file END_IF Related function block: FB_VN_Read Calibration Result [} 1595]. Required License TC3 Vision Base System Requirements 6.1.5.3.8 FB_VN_Write Container FB_VN_Write Container ip Container Reference To ITc Vn Container BOOL b Busy s File Path STRING BOOL b Error e Export Format ETc Vn Container Export Format UDINT n Error Id b Write BOOL n Timeout TIME This FB writes a container as an xml file to the hard drive. Syntax Definition: FUNCTION_BLOCK FB_VN_Write Container VAR_INPUT ip Container : Reference To ITc Vn Container; s File Path : STRING; e Export Format : ETc Vn Container Export Format; b Write : BOOL; n Timeout : TIME; END_VAR VAR_OUTPUT b Busy : BOOL; b Error : BOOL; n Error Id : UDINT; END_VAR 1604 Version: 2.4.0 TF7000 - TF7810
## Page 1605

API reference Inputs Name Type Default Description ip Container Reference To The container to write ITc Vn Container [} 374] s File Path STRING Full path of the file or relative path to the default directory on the target pc (e.g. only a file name). If the string is empty, a file name will be generated (containing the current time). e Export Format TCVN_CEF_XML Container export format (default is human ETc Vn Container Export For readable xml) mat [} 191] b Write BOOL Writing the container is triggered by a rising edge at this input. n Timeout TIME VISION_ADS_TIME Indicates the time before the function is OUT cancelled. Outputs Name Type Description b Busy BOOL This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error BOOL This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id UDINT Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. Further information The function block FB_VN_Write Container saves a container [} 155] from a file asynchronously into the PLC. Parameter Some parameters are described centrally in the section File Access Parameters [} 1589]. Container The container ip Container is saved as an XML file with the specified file path. Export format The export format e Export Format specifies via the enum Etc Vn Container Export Format [} 191] whether the container is to be saved in a human-readable form or serialized: • TCVN_CEF_XML • TCVN_CEF_XML_SERIALIZED • TCVN_CEF_CSV • TCVN_CEF_BINARY TF7000 - TF7810 Version: 2.4.0 1605
## Page 1606

API reference The human-readable form (XML, CSV) has the advantage that entries in the container can be simply checked and edited manually. However, this can lead to rounding inaccuracies. The serialized format has the advantage that no rounding inaccuracies occur. However, the format is not easy to read or edit. The CSV format has the advantage that the data can be easily processed externally in other programs. The binary format is recommended for large amounts of data. Application The saving of a container in the serialized XML format in the file C:\Tc Vision\Container.xml looks like this, for example: fb Write Container( ip Container := ip Container, s File Path := 'C:\Tc Vision\Container.xml', e Export Format := TCVN_CEF_XML_SERIALIZED, b Write := TRUE, n Timeout := T#500MS); IF NOT fb Write Container.b Busy AND NOT fb Write Container.b Error THEN // container was written successfully to file END_IF Related function block: FB_VN_Read Container [} 1597]. Required License TC3 Vision Base System Requirements 6.1.5.3.9 FB_VN_Write Image FB_VN_Write Image ip Image Reference To ITc Vn Image BOOL b Busy s File Path STRING BOOL b Error b Write BOOL UDINT n Error Id n Timeout TIME This FB writes an image to the hard drive. Syntax Definition: FUNCTION_BLOCK FB_VN_Write Image VAR_INPUT ip Image : Reference To ITc Vn Image; s File Path : STRING; b Write : BOOL; n Timeout : TIME; END_VAR VAR_OUTPUT b Busy : BOOL; b Error : BOOL; n Error Id : UDINT; END_VAR 1606 Version: 2.4.0 TF7000 - TF7810
## Page 1607

API reference Inputs Name Type Default Description ip Image Reference To The image to write ITc Vn Image [} 413] s File Path STRING Full path of the file or relative path to the default directory on the target pc (e.g. only a file name). If the string is empty, a file name will be generated (containing the current time). b Write BOOL Writing the image is triggered by a rising edge at this input. n Timeout TIME VISION_ADS_TIME Indicates the time before the function is OUT cancelled. Outputs Name Type Description b Busy BOOL This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error BOOL This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id UDINT Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. Further information The function block FB_VN_Write Image saves an image [} 152] from a file asynchronously into the PLC. Parameter Some parameters are described centrally in the section File Access Parameters [} 1589]. Input image The format of the input image ip Image must match the file format defined in the file path s File Path. Saving on a rising edge of b Write The image is copied internally on a rising edge of the write command. Changes to the image in the following cycle thus have no effects. The image transferred at the time of the rising edge of b Write is always the one that is saved. File path and format The file path s File Path specifies where the input image ip Image is saved and which image format should be used for saving. The image format is automatically recognized on the basis of the file extension. If no file name is specified it is automatically generated and contains the current time. If no file extension (e.g. .jpg) is specified, the extension .bmp and thus the BMP format are automatically used. The following image formats are supported for saving. • BMP (.bmp) • PNG (.png) TF7000 - TF7810 Version: 2.4.0 1607
## Page 1608

API reference • JPEG (.jpeg or .jpg) • TIF (.tif) • Twin CAT serialization (.tcimg) NOTICE Possibility of errors Make sure that the selected image format corresponds to the format of the actual input image. Otherwise, errors may occur or the saved images may be faulty. NOTICE 16-bit images Only the TIF format and the Twin CAT serialization may be used if 16-bit images are to be saved without losses. Application Saving an image to the file C:\Tc Vision\Image.bmp looks like this, for example: fb Write Image( ip Image := ip Image Res, s File Path := 'C:\Tc Vision\Image.bmp', b Write := TRUE, n Timeout := T#500MS); IF NOT fb Write Image.b Busy AND NOT fb Write Image.b Error THEN // ip Image Res was successfully written to given file path. END_IF Related function block: FB_VN_Read Image [} 1599] for loading images. Samples • Saving images from the PLC [} 2818] Required License TC3 Vision Base System Requirements 6.1.5.3.10 FB_VN_Write Ml Model FB_VN_Write Ml Model ip Ml Model Reference To ITc Vn Ml Model BOOL b Busy s File Path STRING BOOL b Error b Write BOOL UDINT n Error Id n Timeout TIME This FB writes a machine learning model to the hard drive. Syntax Definition: FUNCTION_BLOCK FB_VN_Write Ml Model VAR_INPUT ip Ml Model : Reference To ITc Vn Ml Model; s File Path : STRING; b Write : BOOL; n Timeout : TIME; END_VAR VAR_OUTPUT b Busy : BOOL; 1608 Version: 2.4.0 TF7000 - TF7810
## Page 1609

API reference b Error : BOOL; n Error Id : UDINT; END_VAR Inputs Name Type Default Description ip Ml Model Reference To The machine learning model to write ITc Vn Ml Model [} 422] s File Path STRING Full path of the file or relative path to the default directory on the target pc (e.g. only a file name). If the string is empty, a file name will be generated (containing the current time). b Write BOOL Writing the machine learning model is triggered by a rising edge at this input. n Timeout TIME VISION_ADS_TIME Indicates the time before the function is OUT cancelled. Outputs Name Type Description b Busy BOOL This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error BOOL This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id UDINT Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. Further information The function block FB_VN_Write Ml Model saves an ML model [} 422] from a file asynchronously into the PLC. Parameter Some parameters are described centrally in the section File Access Parameters [} 1589]. ML model The ML model ip Ml Model is saved under the specified file path in binary format. The saving of a ITc Vn Color Model represents a special case, since this must still be converted first with the following row into a ML model. Alternatively, Color Model can be replaced by ITc Vn Ml Model with the corresponding functions. hr := ip Color Model. Tc Query Interface(IID_ITc Vn Ml Model, ADR(ip Write Ml Model)); File path and format If s File Path is empty, a file name with the current time is generated and the extension vmlm is used. TF7000 - TF7810 Version: 2.4.0 1609
## Page 1610

API reference Application Saving an ML model to the file C:\Tc Vision\Ml Model.vmlm looks like this, for example: fb Write Ml Model( ip Ml Model := ip Write Ml Model, s File Path := 'C:\Tc Vision\Ml Model.vmlm', b Write := TRUE, n Timeout := T#500MS); IF NOT fb Write Ml Model.b Busy AND NOT fb Write Ml Model.b Error THEN // Ml-Model was written successfully to file END_IF Related function block: FB_VN_Read Ml Model [} 1600]. Required License TC3 Vision Base System Requirements 6.1.5.3.11 FB_VN_Read Neural Network FB_VN_Read Neural Network s File Path STRING BOOL b Busy ip Dest Neural Network Reference To ITc Vn Neural Network BOOL b Error a Input Shape Reference To Tc Vn Array33_UDINT UDINT n Error Id b Read BOOL n Timeout TIME This FB reads a neural network from a file on the target pc. Syntax Definition: FUNCTION_BLOCK FB_VN_Read Neural Network VAR_INPUT s File Path : STRING; ip Dest Neural Network : Reference To ITc Vn Neural Network; a Input Shape : Reference To Tc Vn Array33_UDINT; b Read : BOOL; n Timeout : TIME; END_VAR VAR_OUTPUT b Busy : BOOL; b Error : BOOL; n Error Id : UDINT; END_VAR 1610 Version: 2.4.0 TF7000 - TF7810
## Page 1611

API reference Inputs Name Type Default Description s File Path STRING Full path of the file or relative path to the default directory on the target pc ip Dest Neural N Reference To Returns the neural network etwork ITc Vn Neural Network [} 431] a Input Shape Reference To Optional input shape for testing the Tc Vn Array33_UDINT execution of the neural network model. The error code INCOMPATIBLE is [} 165] returned if the execution fails. Setting a Input Shape = 0 or a Input Shape[0] = 0 disables the testing of the execution. b Read BOOL Reading the file is triggered by a rising edge at this input. n Timeout TIME VISION_ADS_TIME Indicates the time before the function is OUT cancelled. Outputs Name Type Description b Busy BOOL This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error BOOL This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id UDINT Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. Further information The function block FB_VN_Read Neural Network loads a neural network [} 431] from a file asynchronously into the PLC. The file must be in the standardized exchange format Open Neural Network Exchange (ONNX), as only this format is supported. Loading modified neural networks When loading a neural network, the Vision Service caches the data internally. Therefore, it is not possible to load modified neural networks in the standard system. To do this, adjust the Cache settings [} 67] or see the sample Serial loading of images into the PLC [} 2819] for an alternative. Parameter Some parameters are described centrally in the section File Access Parameters [} 1589]. Loaded neural network (return value) The loaded ITc Vn Neural Network can be reached via the interface pointer ip Dest Neural Network after a successful read process and optional test of the execution. Testing the execution TF7000 - TF7810 Version: 2.4.0 1611
## Page 1612

API reference The optional parameter a Input Shape can be used to transfer an input format that is used to test the execution of the neural network before loading it into the PLC. This test is helpful, especially for models with dynamic input formats, to ensure that the model can be successfully executed with the specified format. If the execution is not successful, a HRESULT = ADSERR_DEVICE_INCOMPATIBLE is returned. The following information can be used to specify an input format for the test, for example. The execution test can also be disabled with a Input Shape[0] := 0;. a Input Shape[0] := 4; a Input Shape[1] := 1; a Input Shape[2] := 224; a Input Shape[3] := 224; a Input Shape[4] := 3; Application Loading a neural network, without testing the execution (a Input Shape := 0;), from the path C: \Tc Vision\Neural Network.onnx looks like this, for example: fb Read Neural Network( s File Path := 'C:\Tc Vision\Neural Network.onnx', ip Dest Neural Network := ip Read Neural Network, a Input Shape := 0; b Read := TRUE, n Timeout := T#500MS); IF NOT fb Read Neural Network.b Busy AND NOT fb Read Neural Network.b Error THEN // Neural Network is accessible in ip Read Neural Network END_IF Required License TC3 Vision Base System Requirements 6.1.5.4 Image Acquisition This group contains function blocks for acquiring images with Vision devices (Gig E Vision cameras [} 70] and File Source [} 129] objects). Function blocks • FB_VN_Simple Camera Control [} 1647] for cameras and file sources • FB_VN_Gev Camera Control [} 1622] for Gig E Vision cameras • FB_VN_File Source Control [} 1614] for file sources General The function blocks in this group represent a proxy for the Image Provider Tc COM objects. Accordingly, they need not be called cyclically. Instead, the Tc COM object is controlled via the methods of the function block. State machine All function blocks for image acquisition include a state machine to manage the state of the represented device. Essentially, a function block must be placed in the ACQUIRING state in order to receive images continuously. The INITIAL state represents the starting point, after a restart or reset, from which the INITIALIZING can be triggered. From the OPENED state, the communication channel to the device is open in order, for example, to read or write register values. 1612 Version: 2.4.0 TF7000 - TF7810
## Page 1613

API reference All states are represented by the enum ETc Vn Camera State [} 171] and are explained below: Main states The main states are stationary states. They essentially indicate whether there is a connection to a Vision device (OPENED), whether the device is capturing images (ACQUIRING) and whether there is an error with the connection to the device (ERROR). You can switch between these states with the methods of the FBs. As a rule, the transition between two main states does not take place immediately, but over at least one cycle. In this intermediate time, the Vision device is in an intermediate state [} 1613]. State Description ERROR Error state from which every device can only be reactivated by calling the method Reset. INITIAL Initial state of each device. INITIALIZED Similar to INITIAL, where the camera was manually initialized (e.g. with Force- IP and the initialization commands) OPENED There is a connection to the camera, individual images can be triggered and camera registers can be read and written. This state can be skipped with the method Start Acquisition. ACQUIRING Device is in the acquisition state and is sending images depending on the settings. Intermediate states The intermediate states are necessary as most actions cannot be completed immediately (e.g. image acquisition). If the function blocks are in one of these intermediate states, the respective method must be called again in order to complete the transition to the respective main state. State Description INITIALIZING INITIAL > INITIALIZED OPENING INITIAL > OPENED and INITIALIZED > OPENED STARTACQUISITION OPENED > ACQUIRING. STOPACQUISITION ACQUIRING > OPENED RESETTINGFEATURES OPENED > OPENED TRIGGERING OPENED > OPENED and ACQUIRING > ACQUIRING CLOSING OPENED > INITIALIZED TF7000 - TF7810 Version: 2.4.0 1613
## Page 1614

API reference Methods must be called in intermediate states! A respective method for state transitions must also be called in the intermediate states. The state transition is only complete and the method no longer needs to be called when a stationary state is detected using the Get State method after a corresponding method call. Triggering a method once and subsequently waiting does not result in the desired state transition. A state machine in the PLC can then be implemented either with a CASE … OF structure or with a IF … ELSIF … structure. Samples • Triggering an image by file name [} 2821] 6.1.5.4.1 FB_VN_File Source Control This FB provides access to the images send by a File Source instance. Do not call the main FB directly. Only use the available methods. Methods Name Description Get Current Image [} 1617] Gets the current available image (if any). Get Current Image And File Name Gets the current available image (if any) and the corresponding file name. [} 1618] Start Acquisition [} 1618] Activates the File Source. If not in trigger mode, it will start sending images. Stop Acquisition [} 1619] Deactivates the File Source. It will stop sending images. Reset [} 1619] Reset the controller to initial state (might require multiple calls depending on current state, until S_OK is returned) Get State [} 1620] Gets the current state of the internal camera control state machine. Trigger Image [} 1621] If in trigger mode, this function triggers the next image in the list. Trigger Image Exp [} 1621] If in trigger mode, this function triggers a specific image in the list. Trigger Image By Name [} 1622] If in trigger mode, this function triggers a specific image in the list by name. Further information The function block FB_VN_File Source Control can control File Source [} 129] instances with the full range of functions in the PLC. Alternatively, this is also possible with limited functionality with the function block FB_VN_Simple Camera Control [} 1647]. State machine The following diagram shows the state machine. The main states are marked in blue, the transition states are gray and the error state is red. 1614 Version: 2.4.0 TF7000 - TF7810
## Page 1615

API reference The following methods can be used to control the state machine: • Get State [} 1620] TF7000 - TF7810 Version: 2.4.0 1615
## Page 1616

API reference • Start Acquisition [} 1618] • Stop Acquisition [} 1619] • Trigger Image [} 1621] • Trigger Image By Name [} 1622] • Reset [} 1619] If a method is called in a state for which it is not intended, the error code INVALIDSTATE (16#712) is returned. Application with continuous image acquisition A state machine that continuously retrieves received images looks like this, for example: VAR fb File Source : FB_VN_File Source Control; e State : ETc Vn Camera State; ip Image In : ITc Vn Image; ip Image In Disp : ITc Vn Displayable Image; hr : HRESULT; n New Image Counter: UINT; END_VAR e State := fb File Source. Get State(); CASE e State OF TCVN_CS_INITIAL, TCVN_CS_OPENING, TCVN_CS_OPENED, TCVN_CS_STARTACQUISITION: hr := fb File Source. Start Acquisition(); TCVN_CS_ACQUIRING: hr := fb File Source. Get Current Image(ip Image In); // Check if new Image was received IF SUCCEEDED(hr) AND ip Image In <> 0 THEN n New Image Counter := n New Image Counter + 1; // Place to call vision algorithms hr := F_VN_Transform Into Displayable Image(ip Image In, ip Image In Disp, hr); END_IF TCVN_CS_ERROR: hr := fb File Source. Reset(); END_CASE Application with trigger A state machine that continuously triggers an image with a special file name looks like this, for example: VAR fb File Source : FB_VN_File Source Control; e State : ETc Vn Camera State; ip Image In : ITc Vn Image; ip Image In Disp : ITc Vn Displayable Image; b Trigger : BOOL := TRUE; s File Name : STRING := 'File Name.bmp'; hr : HRESULT; n New Image Counter: UINT; END_VAR e State := fb File Source. Get State(); CASE e State OF TCVN_CS_INITIAL, TCVN_CS_OPENING, TCVN_CS_OPENED, TCVN_CS_STARTACQUISITION: hr := fb File Source. Start Acquisition(); TCVN_CS_TRIGGERING: hr := fb File Source. Trigger Image(); TCVN_CS_ACQUIRING: IF b Trigger THEN hr := fb File Source. Trigger Image By Name(s File Name); 1616 Version: 2.4.0 TF7000 - TF7810
## Page 1617

API reference IF SUCCEEDED(hr) THEN b Trigger := FALSE; END_IF ELSE hr := fb File Source. Get Current Image(ip Image In); // Check if new Image was received IF SUCCEEDED(hr) AND ip Image In <> 0 THEN n New Image Counter := n New Image Counter + 1; // Trigger next image b Trigger := TRUE; // Place to call vision algorithms hr := F_VN_Transform Into Displayable Image(ip Image In, ip Image In Disp, hr); END_IF END_IF TCVN_CS_ERROR: hr := fb File Source. Reset(); END_CASE As an alternative to the Trigger Image By Name(s File Name) method, the Trigger Image() can be used to always get the next image from the File Source Control list. Samples • Triggering an image by file name [} 2821] Related function blocks • FB_VN_Simple Camera Control [} 1647] for cameras and file sources • FB_VN_Gev Camera Control [} 1622] for Gig E Vision cameras • FB_VN_File Source Control [} 1614] for file sources Required License TC3 Vision Base System Requirements 6.1.5.4.1.1 Get Current Image Get Current Image ip Image Reference To ITc Vn Image HRESULT Get Current Image Gets the current available image (if any). Syntax Definition: METHOD Get Current Image : HRESULT VAR_INPUT ip Image : Reference To ITc Vn Image; END_VAR Inputs Name Type Description ip Image Reference To Returns the image ITc Vn Image [} 413] TF7000 - TF7810 Version: 2.4.0 1617
## Page 1618

API reference Return value HRESULT [} 144] 6.1.5.4.1.2 Get Current Image And File Name Get Current Image And File Name ip Image Reference To ITc Vn Image HRESULT Get Current Image And File Name s File Name STRING n Max Len UINT Gets the current available image (if any) and the corresponding file name. Syntax Definition: METHOD Get Current Image And File Name : HRESULT VAR_INPUT ip Image : Reference To ITc Vn Image; s File Name : STRING; n Max Len : UINT; END_VAR Inputs Name Type Description ip Image Reference To Returns the image ITc Vn Image [} 413] s File Name STRING Returns the file name n Max Len UINT Define the maximum allowed length for the file name Return value HRESULT [} 144] 6.1.5.4.1.3 Start Acquisition Start Acquisition HRESULT Start Acquisition Activates the File Source. If not in trigger mode, it will start sending images. Syntax Definition: METHOD Start Acquisition : HRESULT Return value HRESULT [} 144] Further information The method Start Acquisition starts the loading of the images. Depending on the trigger mode setting, this may mean providing images directly or waiting for a trigger signal. The image loading can be started from the INITIAL and OPENED states. 1618 Version: 2.4.0 TF7000 - TF7810
## Page 1619

API reference State transitions With Start Acquisition the file source is to be placed in the ACQUIRING state. This can take place from the INITIAL and OPENED states. If the File Source is in INITIAL, the state transition to OPENED is performed first. As a rule, this takes place via the intermediate state OPENING. The transition from OPENED to ACQUIRING usually takes place via the intermediate state STARTACQUISITION. All possible state transitions and their return codes are shown in the following transition matrix: Return Codes (HRESULT) Result state INITIAL OPENING OPENED STARTACQ ACQUIRIN ERROR UISITION G Initial state INITIAL BUSY PENDING SUCCESS - - FAILED OPENING - BUSY OPENED - BUSY PENDING SUCCESS STARTACQ - BUSY UISITION 6.1.5.4.1.4 Stop Acquisition Stop Acquisition HRESULT Stop Acquisition Deactivates the File Source. It will stop sending images. Syntax Definition: METHOD Stop Acquisition : HRESULT Return value HRESULT [} 144] Further information The method Stop Acquisition stops the image loading of the File Source. State transitions With Stop Acquisition, the File Source is to be brought from the ACQUIRING state to the OPENED state. As a rule, this doesn't happen immediately, but via the intermediate state STOPACQUISITION. All possible state transitions and their return codes are shown in the following transition matrix: Return Codes (HRESULT) Result state ACQUIRING STOPACQUISIT OPENED ERROR ION Initial state ACQUIRING BUSY PENDING SUCCESS FAILED STOPACQUISIT - BUSY ION 6.1.5.4.1.5 Reset Reset HRESULT Reset TF7000 - TF7810 Version: 2.4.0 1619
## Page 1620

API reference Reset the controller to initial state (might require multiple calls depending on current state, until S_OK is returned) Syntax Definition: METHOD Reset : HRESULT Return value HRESULT [} 144] Further information The method Reset resets the File Source if it is in an error state. State transitions With Reset the File Source is to be brought from the ERROR state to the INITIAL state. If the reset is successful, this transition takes place immediately, otherwise the function block remains in the ERROR state. All possible state transitions and their return codes are shown in the following transition matrix: Return Codes (HRESULT) Result state ERROR INITIAL Initial state ERROR FAILED SUCCESS In case of success, S_OK or S_FALSE (if there was no error to reset) is returned as SUCCESS code. 6.1.5.4.1.6 Get State Get State ETc Vn Camera State Get State Gets the current state of the internal camera control state machine. Syntax Definition: METHOD Get State : ETc Vn Camera State Return value ETc Vn Camera State [} 171] Further information The method Get State returns the state of the camera object or File Source object as a value of the enum ETc Vn Camera State [} 171]. The following states are possible: • ERROR • INITIAL • OPENING • OPENED • STARTACQUISITION • STOPACQUISITION • ACQUIRING 1620 Version: 2.4.0 TF7000 - TF7810
## Page 1621

API reference • TRIGGERING 6.1.5.4.1.7 Trigger Image Trigger Image HRESULT Trigger Image If in trigger mode, this function triggers the next image in the list. Syntax Definition: METHOD Trigger Image : HRESULT Return value HRESULT [} 144] Further information The method Trigger Image triggers an image from the file source. State transitions With Trigger Image, the File Source is to load only one image while remaining in its current ACQUIRING state. As the image acquisition normally takes several cycles, however, the file source usually briefly enters the intermediate state TRIGGERING. All possible state transitions and their return codes are shown in the following transition matrix: Return Codes (HRESULT) Result state TRIGGERING ACQUIRING ERROR Initial state ACQUIRING PENDING BUSY / SUCCESS FAILED TRIGGERING BUSY SUCCESS 6.1.5.4.1.8 Trigger Image Exp Trigger Image Exp n Skip Images DINT HRESULT Trigger Image Exp If in trigger mode, this function triggers a specific image in the list. Syntax Definition: METHOD Trigger Image Exp : HRESULT VAR_INPUT n Skip Images : DINT; END_VAR Inputs Name Type Description n Skip Images DINT Amount of images to skip, relative to current TF7000 - TF7810 Version: 2.4.0 1621
## Page 1622

API reference Return value HRESULT [} 144] Further information The state transitions of the method Trigger Image Exp are the same as for Trigger Image [} 1621]. 6.1.5.4.1.9 Trigger Image By Name Trigger Image By Name s Image Name STRING HRESULT Trigger Image By Name If in trigger mode, this function triggers a specific image in the list by name. Syntax Definition: METHOD Trigger Image By Name : HRESULT VAR_INPUT s Image Name : STRING; END_VAR Inputs Name Type Description s Image Name STRING Name of the image to trigger Return value HRESULT [} 144] Further information The state transitions of the method Trigger Image By Name are the same as for Trigger Image [} 1621]. 6.1.5.4.2 FB_VN_Gev Camera Control This FB provides the basic functionality to control a Gig E Vision camera and access its calibration data. Do not call the main FB directly. Only use the available methods. 1622 Version: 2.4.0 TF7000 - TF7810
## Page 1623

API reference Methods TF7000 - TF7810 Version: 2.4.0 1623
## Page 1624

API reference Name Description Clear Image Queue [} 1629] Delete all images contained in the Tc Vn Gev Image Provider Tc COM module receive queue and reset the corresponding omitted images counter. Close Camera [} 1629] Close the control channel to the camera. Get Calib Pattern Ref [} 1630] Gets the reference calibration pattern points from the Tc Vn Gev Image Provider Tc COM module (Can be set from the calibration assistant) Get Camera Matrix [} 1631] Gets the camera matrix from the Tc Vn Gev Image Provider Tc COM module (requires intrinsic calibration parameters, e.g. set by the calibration assistant) Get Current Image [} 1631] Gets the current available image (first in receive queue). Get Current Image Undistorted Gets the current available image (first in receive queue) with undistortion applied. Incompatible with pixel formats that contain an encoding, e.g. a [} 1631] Bayer pattern. Requires intrinsic calibration parameters in the Tc Vn Gev Image Provider Tc COM module, e.g. set by the calibration assistant. Get Current Image With Gvsp Info Gets the current available image (first in receive queue) and its corresponding GVSP info. [} 1632] Gets the current available image (first in receive queue) with its Get Current Image With Gvsp Info corresponding GVSP info and undistortion applied. Incompatible with pixel formats that contain an encoding, e.g. a Bayer pattern. Requires intrinsic Undistorted [} 1633] calibration parameters in the Tc Vn Gev Image Provider Tc COM module, e.g. set by the calibration assistant. Gets the current available image (first in receive queue) and corresponding Get Current Image With Timestam timestamps. ps [} 1633] Get Distortion Coefficients Gets the distortion coefficients from the Tc Vn Gev Image Provider Tc COM module (requires intrinsic calibration parameters, e.g. set by the calibration [} 1634] assistant) Get Last Image From Queue Gets the last received image from the queue. [} 1634] Get Omitted Images Num [} 1635]Gets the number of omitted images since the last call of Clear Image Queue(). If the image receive queue in the Tc Vn Gev Image Provider Tc COM module is full and a new image arrives, the first one in the queue will be deleted and the omitted counter is increased. Get Rotation Matrix [} 1635] Gets the rotation matrix from the Tc Vn Gev Image Provider Tc COM module (requires extrinsic calibration parameters, e.g. set by the calibration assistant) Get State [} 1636] Gets the current state of the internal camera control state machine. Get Translation Vector [} 1636] Gets the translation vector from the Tc Vn Gev Image Provider Tc COM module (requires extrinsic calibration parameters, e.g. set by the calibration assistant) Initialize Camera [} 1637] Initialize the camera to the intended state (includes sending the 'Init Camera Commands' defined in the Gev Image Acquisition Tc COM module to the camera). Open Camera [} 1638] Open a control channel to the camera. Reset [} 1639] Reset the camera controller to initial state (might require multiple calls depending on current state, until S_OK is returned) Reset Camera Features [} 1640] Reset the camera features to initial state (sends the 'Init Camera Commands' defined in the Gev Image Acquisition Tc COM module to the camera). Set Camera Matrix [} 1641] Sets the camera matrix to the Tc Vn Gev Image Provider Tc COM module Set Distortion Coefficients Sets the distortion coefficients to the Tc Vn Gev Image Provider Tc COM module [} 1642] 1624 Version: 2.4.0 TF7000 - TF7810
## Page 1625

API reference Name Description Set Rotation Matrix [} 1642] Sets the rotation matrix to the Tc Vn Gev Image Provider Tc COM module Set Translation Vector [} 1642] Sets the translation vector to the Tc Vn Gev Image Provider Tc COM module Start Acquisition [} 1643] Send the 'Start Acquisition Commands' defined in the Tc Vn Gev Image Provider Tc COM module to the camera. Stop Acquisition [} 1645] Send the 'Stop Acquisition Commands' defined in the Tc Vn Gev Image Provider Tc COM module to the camera. Trigger Image [} 1646] Send the 'Software Trigger Commands' defined in the Tc Vn Gev Image Provider Tc COM module to the camera. Further information The function block FB_VN_Gev Camera Control represents Gig E Vision Camera [} 70] objects to the full extent in the PLC. Alternatively, the function block FB_VN_Simple Camera Control [} 1647] can also be used for limited access to camera objects. This function block is not intended to be called directly. In fact, the methods contain all functionalities. State machine The following diagram shows the state machine. The main states are marked in blue, the transition states are gray and the error state is red. The Get State [} 1636] method can be used to query the state of the camera. In addition, the methods with which a state transition can be achieved and the return value to which each leads are shown. If Init Commands are present and the Initialization Auto Mode AUTOINIT_AFTER_SO has been selected, the INITIALIZING state in which the automatic initialization takes place is also briefly assumed. TF7000 - TF7810 Version: 2.4.0 1625
## Page 1626

API reference You can query the current state using the Get State method. The following methods can be used to control the state machine: • Get State [} 1636] • Initialize Camera [} 1637] 1626 Version: 2.4.0 TF7000 - TF7810
## Page 1627

API reference • Open Camera [} 1638] • Close Camera [} 1629] • Start Acquisition [} 1643] • Stop Acquisition [} 1645] • Trigger Image [} 1646] • Reset Camera Features [} 1640] • Reset [} 1639] If a method is called in a state for which it is not intended, the error code INVALIDSTATE (16#712) is returned. HRESULT Hex Dec Code Description 16#718 1816 NOTINIT Camera has not yet been initialized. Initialize the camera either with the method Initialize Camera [} 1637] or by setting the Tc COM parameter Initialization Auto Mode [} 102] to AUTOINIT_SO or AUTOINIT_AFTER_SO. 16#71A 1818 NOINTERFACE The camera function block is not linked to the camera Tc COM object. Establish this link in the Twin CAT project instance under Symbol Initialization. Application with continuous image acquisition A state machine for placing a camera in image acquisition mode, handling error states and continuously displaying successfully captured images looks like this, for example: VAR hr : HRESULT; ip Image In : ITc Vn Image; ip Image In Disp : ITc Vn Displayable Image; fb Camera Control : FB_VN_Gev Camera Control; e Camera State : ETc Vn Camera State; n New Image Counter: UINT; END_VAR e Camera State := fb Camera Control. Get State(); // Camera Control is in error state, so try to reset the camera connection IF e Camera State = TCVN_CS_ERROR THEN hr := fb Camera Control. Reset(); // Camera not yet initialized ELSIF e Camera State < TCVN_CS_INITIALIZED THEN hr := fb Camera Control. Initialize Camera(); // Camera not yet opened ELSIF e Camera State < TCVN_CS_OPENED THEN hr := fb Camera Control. Open Camera(); // Camera not yet streaming ELSIF e Camera State < TCVN_CS_ACQUIRING THEN hr := fb Camera Control. Start Acquisition(); // Camera streaming ELSIF e Camera State = TCVN_CS_ACQUIRING THEN hr := fb Camera Control. Get Current Image(ip Image In); // Check if new Image was received IF SUCCEEDED(hr) AND ip Image In <> 0 THEN n New Image Counter := n New Image Counter + 1; // Place to call vision algorithms hr := F_VN_Transform Into Displayable Image(ip Image In, ip Image In Disp, hr); END_IF END_IF TF7000 - TF7810 Version: 2.4.0 1627
## Page 1628

API reference In this case, the camera can be configured to continuous image acquisition [} 2836] or to a hardware trigger [} 2836]. Application with software trigger A state machine for putting a camera into image acquisition mode, handling error states and triggering image acquisition via software trigger looks like this, for example: VAR hr : HRESULT; ip Image In : ITc Vn Image; ip Image In Disp : ITc Vn Displayable Image; fb Camera Control : FB_VN_Gev Camera Control; e Camera State : ETc Vn Camera State; n New Image Counter: UINT; b Trigger : BOOL := TRUE; END_VAR e Camera State := fb Camera Control. Get State(); // Camera Control is in error state, so try to reset the camera connection IF e Camera State = TCVN_CS_ERROR THEN hr := fb Camera Control. Reset(); // Camera trigger image ELSIF e Camera State = TCVN_CS_TRIGGERING THEN hr := fb Camera Control. Trigger Image(); // Camera not yet initialized ELSIF e Camera State < TCVN_CS_INITIALIZED THEN hr := fb Camera Control. Initialize Camera(); // Camera not yet opened ELSIF e Camera State < TCVN_CS_OPENED THEN hr := fb Camera Control. Open Camera(); // Camera not yet streaming ELSIF e Camera State < TCVN_CS_ACQUIRING THEN hr := fb Camera Control. Start Acquisition(); // Camera streaming ELSIF e Camera State = TCVN_CS_ACQUIRING THEN IF b Trigger THEN hr := fb Camera Control. Trigger Image(); IF SUCCEEDED(hr) THEN b Trigger := FALSE; END_IF ELSE hr := fb Camera Control. Get Current Image(ip Image In); // Check if new Image was received IF SUCCEEDED(hr) AND ip Image In <> 0 THEN n New Image Counter := n New Image Counter + 1; // Trigger next image b Trigger := TRUE; // Place to call vision algorithms hr := F_VN_Transform Into Displayable Image(ip Image In, ip Image In Disp, hr); END_IF END_IF END_IF In this case, the camera must be configured to a software trigger [} 2836] (Trigger Source = software). Related function blocks • FB_VN_Simple Camera Control [} 1647] for cameras and file sources • FB_VN_Gev Camera Control [} 1622] for Gig E Vision cameras • FB_VN_File Source Control [} 1614] for file sources 1628 Version: 2.4.0 TF7000 - TF7810
## Page 1629

API reference Required License TC3 Vision Base System Requirements 6.1.5.4.2.1 Clear Image Queue Clear Image Queue HRESULT Clear Image Queue Delete all images contained in the Tc Vn Gev Image Provider Tc COM module receive queue and reset the corresponding omitted images counter. Syntax Definition: METHOD Clear Image Queue : HRESULT Return value HRESULT [} 144] 6.1.5.4.2.2 Close Camera Close Camera HRESULT Close Camera Close the control channel to the camera. Syntax Definition: METHOD Close Camera : HRESULT Return value HRESULT [} 144] Further information The method Close Camera closes an open communication channel to a camera. State transitions With Close Camera, the camera is to be brought from the OPENED state to the INITIALIZED state. As a rule, this transition takes place via the intermediate state CLOSING. TF7000 - TF7810 Version: 2.4.0 1629
## Page 1630

API reference Fig. 27: State transitions with FB_VN_Gev Camera Control. Close Camera All possible state transitions and their return codes are shown in the following transition matrix: Return Codes (HRESULT) Result state OPENED CLOSING INITIALIZED ERROR Initial state OPENED BUSY PENDING SUCCESS FAILED CLOSING - BUSY 6.1.5.4.2.3 Get Calib Pattern Ref Get Calib Pattern Ref ip Calib Pattern Ref Reference To ITc Vn Container HRESULT Get Calib Pattern Ref Gets the reference calibration pattern points from the Tc Vn Gev Image Provider Tc COM module (Can be set from the calibration assistant) Syntax Definition: METHOD Get Calib Pattern Ref : HRESULT VAR_INPUT ip Calib Pattern Ref : Reference To ITc Vn Container; END_VAR Inputs Name Type Description ip Calib Pattern Reference To Returns the reference calibration pattern points Ref ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Point3_REAL) Return value HRESULT [} 144] 1630 Version: 2.4.0 TF7000 - TF7810
## Page 1631

API reference 6.1.5.4.2.4 Get Camera Matrix Get Camera Matrix ↔ a Camera Matrix Tc Vn Matrix3x3_LREAL HRESULT Get Camera Matrix Gets the camera matrix from the Tc Vn Gev Image Provider Tc COM module (requires intrinsic calibration parameters, e.g. set by the calibration assistant) Syntax Definition: METHOD Get Camera Matrix : HRESULT VAR_IN_OUT a Camera Matrix : Tc Vn Matrix3x3_LREAL; END_VAR In/Outputs Name Type Description a Camera Matrix Tc Vn Matrix3x3_LREAL Returns the camera matrix [} 165] Return value HRESULT [} 144] 6.1.5.4.2.5 Get Current Image Get Current Image ip Image Reference To ITc Vn Image HRESULT Get Current Image Gets the current available image (first in receive queue). Syntax Definition: METHOD Get Current Image : HRESULT VAR_INPUT ip Image : Reference To ITc Vn Image; END_VAR Inputs Name Type Description ip Image Reference To Returns the image ITc Vn Image [} 413] Return value HRESULT [} 144] 6.1.5.4.2.6 Get Current Image Undistorted Get Current Image Undistorted ip Image Reference To ITc Vn Image HRESULT Get Current Image Undistorted TF7000 - TF7810 Version: 2.4.0 1631
## Page 1632

API reference Gets the current available image (first in receive queue) with undistortion applied. Incompatible with pixel formats that contain an encoding, e.g. a Bayer pattern. Requires intrinsic calibration parameters in the Tc Vn Gev Image Provider Tc COM module, e.g. set by the calibration assistant. Syntax Definition: METHOD Get Current Image Undistorted : HRESULT VAR_INPUT ip Image : Reference To ITc Vn Image; END_VAR Inputs Name Type Description ip Image Reference To Returns the undistorted image ITc Vn Image [} 413] Return value HRESULT [} 144] 6.1.5.4.2.7 Get Current Image With Gvsp Info Get Current Image With Gvsp Info ip Image Reference To ITc Vn Image HRESULT Get Current Image With Gvsp Info ↔ st Gvsp Info GVSP_IMAGE_INFO Gets the current available image (first in receive queue) and its corresponding GVSP info. Syntax Definition: METHOD Get Current Image With Gvsp Info : HRESULT VAR_INPUT ip Image : Reference To ITc Vn Image; END_VAR VAR_IN_OUT st Gvsp Info : GVSP_IMAGE_INFO; END_VAR Inputs Name Type Description ip Image Reference To Returns the image ITc Vn Image [} 413] In/Outputs Name Type Description st Gvsp Info GVSP_IMAGE_INFO Returns the GVSP info [} 232] Return value HRESULT [} 144] 1632 Version: 2.4.0 TF7000 - TF7810
## Page 1633

API reference 6.1.5.4.2.8 Get Current Image With Gvsp Info Undistorted Get Current Image With Gvsp Info Undistorted ip Image Reference To ITc Vn Image HRESULT Get Current Image With Gvsp Info Undistorted ↔ st Gvsp Info GVSP_IMAGE_INFO Gets the current available image (first in receive queue) with its corresponding GVSP info and undistortion applied. Incompatible with pixel formats that contain an encoding, e.g. a Bayer pattern. Requires intrinsic calibration parameters in the Tc Vn Gev Image Provider Tc COM module, e.g. set by the calibration assistant. Syntax Definition: METHOD Get Current Image With Gvsp Info Undistorted : HRESULT VAR_INPUT ip Image : Reference To ITc Vn Image; END_VAR VAR_IN_OUT st Gvsp Info : GVSP_IMAGE_INFO; END_VAR Inputs Name Type Description ip Image Reference To Returns the undistorted image ITc Vn Image [} 413] In/Outputs Name Type Description st Gvsp Info GVSP_IMAGE_INFO Returns the GVSP info [} 232] Return value HRESULT [} 144] 6.1.5.4.2.9 Get Current Image With Timestamps Get Current Image With Timestamps ip Image Reference To ITc Vn Image GVSP_IMAGE_INFO st Gvsp Info n Timestamps ULINT HRESULT Get Current Image With Timestamps p Timestamps Pointer To LINT Gets the current available image (first in receive queue) and corresponding timestamps. Syntax Definition: METHOD Get Current Image With Timestamps : HRESULT VAR_INPUT ip Image : Reference To ITc Vn Image; n Timestamps : ULINT; p Timestamps : Pointer To LINT; END_VAR VAR_OUTPUT st Gvsp Info : GVSP_IMAGE_INFO; END_VAR TF7000 - TF7810 Version: 2.4.0 1633
## Page 1634

API reference Inputs Name Type Description ip Image Reference To Returns the image ITc Vn Image [} 413] n Timestamps ULINT Select timestamps to return (ETc Vn Timestamp) p Timestamps Pointer To LINT Returns the requested timestamps (make sure to provide an array of sufficient size). Outputs Name Type Description st Gvsp Info GVSP_IMAGE_INFO Returns the GVSP info [} 232] Return value HRESULT [} 144] 6.1.5.4.2.10 Get Distortion Coefficients Get Distortion Coefficients ↔ a Distortion Coefficients Tc Vn Array8_LREAL HRESULT Get Distortion Coefficients Gets the distortion coefficients from the Tc Vn Gev Image Provider Tc COM module (requires intrinsic calibration parameters, e.g. set by the calibration assistant) Syntax Definition: METHOD Get Distortion Coefficients : HRESULT VAR_IN_OUT a Distortion Coefficients : Tc Vn Array8_LREAL; END_VAR In/Outputs Name Type Description a Distortion Coef Tc Vn Array8_LREAL [} 165] Returns the distortion coefficients [k1, k2, p1, p2, k3, k4, k5, k6] ficients Return value HRESULT [} 144] 6.1.5.4.2.11 Get Last Image From Queue Get Last Image From Queue ip Image Reference To ITc Vn Image HRESULT Get Last Image From Queue Gets the last received image from the queue. Syntax Definition: 1634 Version: 2.4.0 TF7000 - TF7810
## Page 1635

API reference METHOD Get Last Image From Queue : HRESULT VAR_INPUT ip Image : Reference To ITc Vn Image; END_VAR Inputs Name Type Description ip Image Reference To Returns the image ITc Vn Image [} 413] Return value HRESULT [} 144] 6.1.5.4.2.12 Get Omitted Images Num Get Omitted Images Num ↔ n Omitted ULINT HRESULT Get Omitted Images Num Gets the number of omitted images since the last call of Clear Image Queue(). If the image receive queue in the Tc Vn Gev Image Provider Tc COM module is full and a new image arrives, the first one in the queue will be deleted and the omitted counter is increased. Syntax Definition: METHOD Get Omitted Images Num : HRESULT VAR_IN_OUT n Omitted : ULINT; END_VAR In/Outputs Name Type Description n Omitted ULINT Returns the number of omitted images Return value HRESULT [} 144] 6.1.5.4.2.13 Get Rotation Matrix Get Rotation Matrix ↔ a Rotation Matrix Tc Vn Matrix3x3_LREAL HRESULT Get Rotation Matrix Gets the rotation matrix from the Tc Vn Gev Image Provider Tc COM module (requires extrinsic calibration parameters, e.g. set by the calibration assistant) Syntax Definition: METHOD Get Rotation Matrix : HRESULT VAR_IN_OUT a Rotation Matrix : Tc Vn Matrix3x3_LREAL; END_VAR TF7000 - TF7810 Version: 2.4.0 1635
## Page 1636

API reference In/Outputs Name Type Description a Rotation Matri Tc Vn Matrix3x3_LREAL Returns the rotation matrix x [} 165] Return value HRESULT [} 144] 6.1.5.4.2.14 Get State Get State ETc Vn Camera State Get State Gets the current state of the internal camera control state machine. Syntax Definition: METHOD Get State : ETc Vn Camera State Return value ETc Vn Camera State [} 171] Further information The method Get State returns the state of the camera object as a value of the enum ETc Vn Camera State [} 171]. The following states are possible: • ERROR • INITIAL • INITIALIZING • INITIALIZED • OPENING • OPENED • CLOSING • STARTACQUISITION • STOPACQUISITION • ACQUIRING • TRIGGERING • RESETTINGFEATURES 6.1.5.4.2.15 Get Translation Vector Get Translation Vector ↔ a Translation Vector Tc Vn Vector3_LREAL HRESULT Get Translation Vector Gets the translation vector from the Tc Vn Gev Image Provider Tc COM module (requires extrinsic calibration parameters, e.g. set by the calibration assistant) 1636 Version: 2.4.0 TF7000 - TF7810
## Page 1637

API reference Syntax Definition: METHOD Get Translation Vector : HRESULT VAR_IN_OUT a Translation Vector : Tc Vn Vector3_LREAL; END_VAR In/Outputs Name Type Description a Translation Ve Tc Vn Vector3_LREAL Returns the translation vector ctor [} 165] Return value HRESULT [} 144] 6.1.5.4.2.16 Initialize Camera Initialize Camera HRESULT Initialize Camera Initialize the camera to the intended state (includes sending the 'Init Camera Commands' defined in the Gev Image Acquisition Tc COM module to the camera). Syntax Definition: METHOD Initialize Camera : HRESULT Return value HRESULT [} 144] Further information The method Initialize Camera initializes a connected Gig E Vision camera just as the parameters in the stored initialization commands have been configured. This method should be used to explicitly control when the camera is initialized. To do this, the Initialization Auto Mode in the Tc COM parameters of the Image Acquisition object [} 102] must be set to NO_AUTOINIT. As a result of this, no automatic camera initialization is performed; instead, it must be done manually by means of Initialize Camera. If a different selection was made with Initialization Auto Mode, an automatic initialization takes place and the Initialize Camera method is not required The initialization of a Gig E Vision camera consists of the following steps: 1. Opening the Control Channel to the camera 2. Executing the Force-IP commands (optional) 3. Setting a User Set or writing Initialization Commands [} 90]. The function block assumes the INITIALIZING state during initialization. The function block enters the INITIALIZED state once the initialization is complete. It also assumes this state if the camera connection in the OPENED state is closed by calling the method Close Camera [} 1629]. TF7000 - TF7810 Version: 2.4.0 1637
## Page 1638

API reference State transitions With Initialize Camera, the camera is to be brought from the INITIAL state to the INITIALIZED state. As a rule, this transition takes place via the intermediate state INITIALIZING. Fig. 28: State transitions with FB_VN_Gev Camera Control. Initialize Camera All possible state transitions and their return codes are shown in the following transition matrix: Return Codes (HRESULT) Result state INITIAL INITIALIZING INITIALIZED ERROR Initial state INITIAL BUSY PENDING SUCCESS FAILED INITIALIZING - BUSY 6.1.5.4.2.17 Open Camera Open Camera HRESULT Open Camera Open a control channel to the camera. Syntax Definition: METHOD Open Camera : HRESULT Return value HRESULT [} 144] Further information The method Open Camera opens a communication channel to the camera. In the corresponding OPENED state, camera registers can be read and written, images can be acquired and continuous image recording can be started. 1638 Version: 2.4.0 TF7000 - TF7810
## Page 1639

API reference If the Initialization Auto Mode is set to AUTOINIT_AFTER_SO in the Tc COM parameters of the Image Acquisition object [} 102], the Gig E Vision camera is initialized the first time the method Open Camera is called. Among others, this includes the writing of the Initialization Commands [} 90] or the setting of the User Sets. Alternatively, the Initialize Camera [} 1637] method can be called in order to perform the initialization manually. State transitions With Open Camera, the camera is to be placed in the OPENED state. This can take place from the INITIAL and INITIALIZED states. As a rule, this transition takes place via the intermediate state OPENING. Fig. 29: State transitions with FB_VN_Gev Camera Control. Open Camera All possible state transitions and their return codes are shown in the following transition matrix: Return Codes (HRESULT) Result state INITIAL INITIALIZED OPENING OPENED ERROR Initial state INITIAL BUSY - PENDING SUCCESS FAILED INITIALIZED - BUSY OPENING - BUSY 6.1.5.4.2.18 Reset Reset HRESULT Reset Reset the camera controller to initial state (might require multiple calls depending on current state, until S_OK is returned) TF7000 - TF7810 Version: 2.4.0 1639
## Page 1640

API reference Syntax Definition: METHOD Reset : HRESULT Return value HRESULT [} 144] Further information The method Reset resets the camera if it is in an error state. State transitions With Reset the camera function block should be brought from the ERROR state to the INITIAL state. If the reset is successful, this transition takes place immediately, otherwise the function block remains in the ERROR state. All possible state transitions and their return codes are shown in the following transition matrix: Return Codes (HRESULT) Result state ERROR INITIAL Initial state ERROR FAILED SUCCESS In case of success, S_OK or S_FALSE (if there was no error to reset) is returned as SUCCESS code. 6.1.5.4.2.19 Reset Camera Features Reset Camera Features HRESULT Reset Camera Features Reset the camera features to initial state (sends the 'Init Camera Commands' defined in the Gev Image Acquisition Tc COM module to the camera). Syntax Definition: METHOD Reset Camera Features : HRESULT Return value HRESULT [} 144] Further information The method Reset Camera Features resets the camera parameters to the original state. This means that the Initialization Commands [} 90], without the optional Force-IP command, will be rewritten to the camera. State transitions With Reset Camera Features the camera should only reset its parameters while remaining in the OPENED state. As a rule, however, the camera briefly enters the intermediate state RESETTINGFEATURES, as the parameter reset takes a little time. 1640 Version: 2.4.0 TF7000 - TF7810
## Page 1641

API reference Fig. 30: State transitions with FB_VN_Gev Camera Control. Reset Camera Features All possible state transitions and their return codes are shown in the following transition matrix: Return Codes (HRESULT) Result state OPENED RESETTINGFEATU ERROR RES Initial state OPENED BUSY PENDING FAILED RESETTINGFEATU SUCCESS BUSY RES 6.1.5.4.2.20 Set Camera Matrix Set Camera Matrix ↔ a Camera Matrix Tc Vn Matrix3x3_LREAL HRESULT Set Camera Matrix Sets the camera matrix to the Tc Vn Gev Image Provider Tc COM module Syntax Definition: METHOD Set Camera Matrix : HRESULT VAR_IN_OUT a Camera Matrix : Tc Vn Matrix3x3_LREAL; END_VAR In/Outputs Name Type Description a Camera Matrix Tc Vn Matrix3x3_LREAL The camera matrix to be copied to the Tc COM module [} 165] Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 1641
## Page 1642

API reference 6.1.5.4.2.21 Set Distortion Coefficients Set Distortion Coefficients ↔ a Distortion Coefficients Tc Vn Array8_LREAL HRESULT Set Distortion Coefficients Sets the distortion coefficients to the Tc Vn Gev Image Provider Tc COM module Syntax Definition: METHOD Set Distortion Coefficients : HRESULT VAR_IN_OUT a Distortion Coefficients : Tc Vn Array8_LREAL; END_VAR In/Outputs Name Type Description a Distortion Coef Tc Vn Array8_LREAL [} 165] The distortion coefficients to be copied to the Tc COM module ficients Return value HRESULT [} 144] 6.1.5.4.2.22 Set Rotation Matrix Set Rotation Matrix ↔ a Rotation Matrix Tc Vn Matrix3x3_LREAL HRESULT Set Rotation Matrix Sets the rotation matrix to the Tc Vn Gev Image Provider Tc COM module Syntax Definition: METHOD Set Rotation Matrix : HRESULT VAR_IN_OUT a Rotation Matrix : Tc Vn Matrix3x3_LREAL; END_VAR In/Outputs Name Type Description a Rotation Matri Tc Vn Matrix3x3_LREAL The rotation matrix to be copied to the Tc COM module x [} 165] Return value HRESULT [} 144] 6.1.5.4.2.23 Set Translation Vector Set Translation Vector ↔ a Translation Vector Tc Vn Vector3_LREAL HRESULT Set Translation Vector Sets the translation vector to the Tc Vn Gev Image Provider Tc COM module 1642 Version: 2.4.0 TF7000 - TF7810
## Page 1643

API reference Syntax Definition: METHOD Set Translation Vector : HRESULT VAR_IN_OUT a Translation Vector : Tc Vn Vector3_LREAL; END_VAR In/Outputs Name Type Description a Translation Ve Tc Vn Vector3_LREAL The translation vector to be copied to the Tc COM module ctor [} 165] Return value HRESULT [} 144] 6.1.5.4.2.24 Start Acquisition Start Acquisition HRESULT Start Acquisition Send the 'Start Acquisition Commands' defined in the Tc Vn Gev Image Provider Tc COM module to the camera. Syntax Definition: METHOD Start Acquisition : HRESULT Return value HRESULT [} 144] Further information The method Start Acquisition starts the image acquisition by a camera. What this means in the individual case depends on the parameterization of the camera. Further information about this can be found in the sample Image acquisition and trigger [} 2834]. The image acquisition can be started from the INITIAL, INITIALIZED and OPENED states. If the camera is still in INITIAL or INITIALIZED, the method Start Acquisition also performs the tasks of the method Open Camera [} 1638]. Usually, the OPENED state is not assumed. State transitions With Start Acquisition the camera is to be placed in the ACQUIRING state. This can take place from the INITIAL, INITIALIZED and OPENED states. If the camera is in INITIAL or INITIALIZED, the state transition to OPENED is performed first. As a rule, this takes place via the intermediate state OPENING. The transition from OPENED to ACQUIRING usually takes place via the intermediate state STARTACQUISITION. TF7000 - TF7810 Version: 2.4.0 1643
## Page 1644

API reference Fig. 31: State transitions with FB_VN_Gev Camera Control. Start Acquisition All possible state transitions and their return codes are shown in the following transition matrix: 1644 Version: 2.4.0 TF7000 - TF7810
## Page 1645

API reference Return Codes Result state (HRESULT) INITIAL INITIALIZ OPENING OPENED STARTAC ACQUIRIN ERROR ED QUISITIO G N Initial INITIAL BUSY - PENDING SUCCESS - - FAILED state INITIALIZ - BUSY PENDING ED OPENING - BUSY OPENED - BUSY PENDING SUCCESS STARTAC - BUSY QUISITIO N 6.1.5.4.2.25 Stop Acquisition Stop Acquisition HRESULT Stop Acquisition Send the 'Stop Acquisition Commands' defined in the Tc Vn Gev Image Provider Tc COM module to the camera. Syntax Definition: METHOD Stop Acquisition : HRESULT Return value HRESULT [} 144] Further information The method Stop Acquisition stops the image acquisition by the camera. State transitions With Stop Acquisition, the camera is to be brought from the ACQUIRING state to the OPENED state. As a rule, this doesn't happen immediately, but via the intermediate state STOPACQUISITION. TF7000 - TF7810 Version: 2.4.0 1645
## Page 1646

API reference Fig. 32: State transitions with FB_VN_Gev Camera Control. Stop Acquisition All possible state transitions and their return codes are shown in the following transition matrix: Return Codes (HRESULT) Result state ACQUIRING STOPACQUISIT OPENED ERROR ION Initial state ACQUIRING BUSY PENDING SUCCESS FAILED STOPACQUISIT - BUSY ION 6.1.5.4.2.26 Trigger Image Trigger Image HRESULT Trigger Image Send the 'Software Trigger Commands' defined in the Tc Vn Gev Image Provider Tc COM module to the camera. Syntax Definition: METHOD Trigger Image : HRESULT Return value HRESULT [} 144] Further information Configuring the camera: Image acquisition and trigger [} 2834] State transitions With Trigger Image the camera is to acquire only one image while remaining in the current ACQUIRING or OPENED state. As the image acquisition normally takes several cycles, the camera usually briefly enters the intermediate state TRIGGERING. 1646 Version: 2.4.0 TF7000 - TF7810
## Page 1647

API reference Fig. 33: State transitions with FB_VN_Gev Camera Control. Trigger Image All possible state transitions and their return codes are shown in the following transition matrix: Return Codes (HRESULT) Result state OPENED ACQUIRING TRIGGERING ERROR Initial state OPENED BUSY - PENDING FAILED ACQUIRING - BUSY TRIGGERING SUCCESS SUCCESS BUSY 6.1.5.4.3 FB_VN_Simple Camera Control This FB provides the basic functionality to control a camera or a File Source. Do not call the main FB directly. Only use the available methods. Methods Name Description Get Current Image [} 1650] Get the current available image (if any). Get State [} 1651] Get the current state of the internal camera control state machine. Reset [} 1651] Reset the camera to initial state (might require multiple calls depending on current state, until S_OK is returned) Start Acquisition [} 1652] Start the image acquisition. Stop Acquisition [} 1652] Stop the image acquisition. Trigger Image [} 1653] Trigger the next image. Further information The function block FB_VN_Simple Camera Control combines the common features of FB_VN_Gev Camera Control [} 1622] and FB_VN_File Source Control [} 1614]. This means that instances of the function block can be linked to both the Image Provider of a camera and the Image Provider of a File Source Control, as in First Steps [} 50]. State machine The following diagram shows the state machine. The main states are marked in blue, the transition states are gray and the error state is red. In contrast to a File Source Control, a camera always also assumes the transition state TCVN_CS_OPENING during the transition from TCVN_CS_INITIAL to TCVN_CS_ACQUIRING and, if necessary, also the main state TCVN_CS_OPENED. If Init Commands are present and the Initialization Auto Mode AUTOINIT_AFTER_SO has been selected, the INITIALIZING state in which the automatic initialization takes place is also briefly assumed. If a transition occurs very quickly, the corresponding state is TF7000 - TF7810 Version: 2.4.0 1647
## Page 1648

API reference not reported to the outside, because the subsequent state has already been reached within a cycle. When linked to a File Source Control, these three states are not assumed. The use of the Trigger Image method from the TCVN_CS_OPENED state is only possible with one camera. The following methods can be used to control the state machine: • Get State [} 1651] 1648 Version: 2.4.0 TF7000 - TF7810
## Page 1649

API reference • Start Acquisition [} 1652] • Stop Acquisition [} 1652] • Trigger Image [} 1653] • Reset [} 1651] If a method is called in a state for which it is not intended, the error code INVALIDSTATE (16#712) is returned. Application with continuous image acquisition A state machine for placing a camera in image acquisition mode, handling error states and continuously displaying successfully captured images looks like this, for example: VAR hr : HRESULT; ip Image In : ITc Vn Image; ip Image In Disp : ITc Vn Displayable Image; fb Camera Control : FB_VN_Simple Camera Control; e Camera State : ETc Vn Camera State; n New Image Counter: UINT; END_VAR e Camera State := fb Camera Control. Get State(); // Camera Control is in error state, so try to reset the camera connection IF e Camera State = TCVN_CS_ERROR THEN hr := fb Camera Control. Reset(); // Camera not yet streaming ELSIF e Camera State < TCVN_CS_ACQUIRING THEN hr := fb Camera Control. Start Acquisition(); // Camera streaming ELSIF e Camera State = TCVN_CS_ACQUIRING THEN hr := fb Camera Control. Get Current Image(ip Image In); // Check if new Image was received IF SUCCEEDED(hr) AND ip Image In <> 0 THEN n New Image Counter := n New Image Counter + 1; // Place to call vision algorithms hr := F_VN_Transform Into Displayable Image(ip Image In, ip Image In Disp, hr); END_IF END_IF In this case, the camera can be configured to continuous image acquisition [} 2836] or to a hardware trigger [} 2836]. Application with software trigger A state machine for putting a camera into image acquisition mode, handling error states and triggering image acquisition via software trigger looks like this, for example: VAR hr : HRESULT; ip Image In : ITc Vn Image; ip Image In Disp : ITc Vn Displayable Image; fb Camera Control : FB_VN_Simple Camera Control; e Camera State : ETc Vn Camera State; n New Image Counter: UINT; b Trigger : BOOL := TRUE; END_VAR e Camera State := fb Camera Control. Get State(); // Camera Control is in error state, so try to reset the camera connection IF e Camera State = TCVN_CS_ERROR THEN hr := fb Camera Control. Reset(); // Camera trigger image ELSIF e Camera State = TCVN_CS_TRIGGERING THEN hr := fb Camera Control. Trigger Image(); TF7000 - TF7810 Version: 2.4.0 1649
## Page 1650

API reference // Camera not yet streaming ELSIF e Camera State < TCVN_CS_ACQUIRING THEN hr := fb Camera Control. Start Acquisition(); // Camera streaming ELSIF e Camera State = TCVN_CS_ACQUIRING THEN IF b Trigger THEN hr := fb Camera Control. Trigger Image(); IF SUCCEEDED(hr) THEN b Trigger := FALSE; END_IF ELSE hr := fb Camera Control. Get Current Image(ip Image In); // Check if new Image was received IF SUCCEEDED(hr) AND ip Image In <> 0 THEN n New Image Counter := n New Image Counter + 1; // Trigger next image b Trigger := TRUE; // Place to call vision algorithms hr := F_VN_Transform Into Displayable Image(ip Image In, ip Image In Disp, hr); END_IF END_IF END_IF In this case, the camera must be configured to a software trigger [} 2836] (Trigger Source = Software). Samples In many function samples [} 2733], a FB_VN_Simple Camera Control function block is used to load sample images. Related functions • FB_VN_Simple Camera Control [} 1647] for cameras and file sources • FB_VN_Gev Camera Control [} 1622] for Gig E Vision cameras • FB_VN_File Source Control [} 1614] for file sources Required License TC3 Vision Base System Requirements 6.1.5.4.3.1 Get Current Image Get Current Image ip Image Reference To ITc Vn Image HRESULT Get Current Image Get the current available image (if any). Syntax Definition: METHOD Get Current Image : HRESULT VAR_INPUT ip Image : Reference To ITc Vn Image; END_VAR 1650 Version: 2.4.0 TF7000 - TF7810
## Page 1651

API reference Inputs Name Type Description ip Image Reference To Returns the image ITc Vn Image [} 413] Return value HRESULT [} 144] 6.1.5.4.3.2 Get State Get State ETc Vn Camera State Get State Get the current state of the internal camera control state machine. Syntax Definition: METHOD Get State : ETc Vn Camera State Return value ETc Vn Camera State [} 171] Further information The method Get State returns the state of the camera object or File Source object as a value of the enum ETc Vn Camera State [} 171]. The following states are possible: • ERROR • INITIAL • OPENING • OPENED • STARTACQUISITION • STOPACQUISITION • ACQUIRING • TRIGGERING 6.1.5.4.3.3 Reset Reset HRESULT Reset Reset the camera to initial state (might require multiple calls depending on current state, until S_OK is returned) Syntax Definition: METHOD Reset : HRESULT TF7000 - TF7810 Version: 2.4.0 1651
## Page 1652

API reference Return value HRESULT [} 144] Further information The method Reset resets the device if it is in an error state. State transitions With Reset the device is to be brought from the ERROR state to the INITIAL state. If the reset is successful, this transition takes place immediately, otherwise the function block remains in the ERROR state. All possible state transitions and their return codes are shown in the following transition matrix: Return Codes (HRESULT) Result state ERROR INITIAL Initial state ERROR FAILED SUCCESS In case of success, S_OK or S_FALSE (if there was no error to reset) is returned as SUCCESS code. 6.1.5.4.3.4 Start Acquisition Start Acquisition HRESULT Start Acquisition Start the image acquisition. Syntax Definition: METHOD Start Acquisition : HRESULT Return value HRESULT [} 144] Further information • In connection with a camera, this method corresponds to the Start Acquisition [} 1643] method of FB_VN_Gev Camera Control [} 1622] • In connection with a File Source Control this method corresponds to the Start Acquisition [} 1618] method of FB_VN_File Source Control [} 1614] 6.1.5.4.3.5 Stop Acquisition Stop Acquisition HRESULT Stop Acquisition Stop the image acquisition. Syntax Definition: METHOD Stop Acquisition : HRESULT 1652 Version: 2.4.0 TF7000 - TF7810
## Page 1653

API reference Return value HRESULT [} 144] Further information • In connection with a camera, this method corresponds to the Stop Acquisition [} 1645] method of FB_VN_Gev Camera Control [} 1622]. • In connection with a File Source Control this method corresponds to the Stop Acquisition [} 1619] method of FB_VN_File Source Control [} 1614]. 6.1.5.4.3.6 Trigger Image Trigger Image HRESULT Trigger Image Trigger the next image. Syntax Definition: METHOD Trigger Image : HRESULT Return value HRESULT [} 144] Further information • In connection with a camera, this method corresponds to the Trigger Image [} 1646] method of FB_VN_Gev Camera Control [} 1622] • In connection with a File Source Control this method corresponds to the Trigger Image [} 1646] method of FB_VN_File Source Control [} 1614] 6.1.5.5 Image Processing This group contains function blocks for image processing. In these comprehensive function blocks, the values once set are retained after an execution. Furthermore, the function blocks can also contain several methods. The functions contained in the chapter Functions [} 434], on the other hand, have no internal status information and the variable values are not retained. Function blocks • FB_VN_Generalized Hough Ballard [} 1653] • FB_VN_SSIM [} 1658] 6.1.5.5.1 FB_VN_Generalized Hough Ballard This FB provides the Generalized Hough Ballard functionality. First, set the parameters via the corresponding methods (optional, defaults are used otherwise). Then, set the template (required). Afterwards, the Detect method can be executed. Do not call the main FB directly. Only use the available methods. TF7000 - TF7810 Version: 2.4.0 1653
## Page 1654

API reference Methods Name Description Detect [} 1655] Detect the template in an image (Set Template must have been called before). Set Canny Threshold [} 1655] Sets the canny edge detection thresholds. Set Inv Accu Ratio [} 1656] Sets the inverted ratio of the accumulator size in relation to the source image's size (e.g. a value of 2 means that the size is halved in both directions.) Set Levels [} 1656] Sets the number of R-table levels. Set Min Dist [} 1657] Sets the minimum distance between the centers of different objects. Set Template [} 1657] Sets the template image to search for in the Detect method. Set Votes Threshold [} 1658] Sets the accumulator threshold, i.e. the number of votes required to detect a match (too small values lead to false detections). Further information The function block FB_VN_Generalized Hough Ballard finds an arbitrary shape in a grayscale image using the generalized Hough transformation. The center positions of the recognized template shapes are determined, whereby different scaling and rotation of the template are not taken into account. Parameter Input images The template and input image must be a 1-channel image with element type USINT (8-bit). First, the template image must be passed using the Set Template method. After that, the execution can be done by calling the Detect method, where the input image is then passed. Parameters for detection The following parameters can be set by method call. Otherwise, these default values are used. Since the parameters are already used for internal calculations when the template image is passed, the values must always be set first. Canny Threshold Low = 50 Canny Threshold High = 100 Inv Accu Ratio = 1.0 Levels = 360 Min Dist = 1.0 Votes Threshold = 100 List of center points found (return value) All center point positions found in the image are returned after calling the Detect method in the container ip Positions. Application The execution consists of 3 steps. First the parameters are set and then the template image is passed. After that it is sufficient to call only the Detect method with the images on which to search for the template. Only if parameters or the template are to be changed, the corresponding steps have to be executed again. // Set parameters first hr := fb Gen Hough Ballard. Set Canny Threshold(50,150); IF SUCCEEDED(hr) THEN hr := fb Gen Hough Ballard. Set Inv Accu Ratio(2); END_IF IF SUCCEEDED(hr) THEN hr := fb Gen Hough Ballard. Set Levels(180); END_IF IF SUCCEEDED(hr) THEN hr := fb Gen Hough Ballard. Set Min Dist(20); END_IF IF SUCCEEDED(hr) THEN hr := fb Gen Hough Ballard. Set Votes Threshold(80); END_IF 1654 Version: 2.4.0 TF7000 - TF7810
## Page 1655

API reference // Check if successful and set template image IF SUCCEEDED(hr) THEN hr := fb Gen Hough Ballard. Set Template(ip Template Image); END_IF // Check if successful and call detection IF SUCCEEDED(hr) THEN hr := fb Gen Hough Ballard. Detect(ip Src Image,ip Positions); END_IF Required License TC3 Vision Matching System Requirements 6.1.5.5.1.1 Detect Detect ip Image ITc Vn Image HRESULT Detect ip Positions Reference To ITc Vn Container Detect the template in an image (Set Template must have been called before). Syntax Definition: METHOD Detect : HRESULT VAR_INPUT ip Image : ITc Vn Image; ip Positions : Reference To ITc Vn Container; END_VAR Inputs Name Type Description ip Image ITc Vn Image [} 413] Source image (1 channel, USINT) ip Positions Reference To Returns the centers of the detected template positions ITc Vn Container [} 374] (Container Type_Vector_Tc Vn Point2_REAL; Non-zero interface pointers are reused.) Return value HRESULT [} 144] 6.1.5.5.1.2 Set Canny Threshold Set Canny Threshold n Low DINT HRESULT Set Canny Threshold n High DINT Sets the canny edge detection thresholds. Syntax Definition: METHOD Set Canny Threshold : HRESULT VAR_INPUT n Low : DINT; n High : DINT; END_VAR TF7000 - TF7810 Version: 2.4.0 1655
## Page 1656

API reference Inputs Name Type Description n Low DINT Low threshold (> 0) n High DINT High threshold (> n Low, usually 2 to 3 * n Low) Return value HRESULT [} 144] 6.1.5.5.1.3 Set Inv Accu Ratio Set Inv Accu Ratio f Inv Accu Ratio LREAL HRESULT Set Inv Accu Ratio Sets the inverted ratio of the accumulator size in relation to the source image's size (e.g. a value of 2 means that the size is halved in both directions.) Syntax Definition: METHOD Set Inv Accu Ratio : HRESULT VAR_INPUT f Inv Accu Ratio : LREAL; END_VAR Inputs Name Type Description f Inv Accu Ratio LREAL Inverted accumulator ratio (> 0) Return value HRESULT [} 144] 6.1.5.5.1.4 Set Levels Set Levels n Levels DINT HRESULT Set Levels Sets the number of R-table levels. Syntax Definition: METHOD Set Levels : HRESULT VAR_INPUT n Levels : DINT; END_VAR Inputs Name Type Description n Levels DINT Number of R-table levels (> 0) 1656 Version: 2.4.0 TF7000 - TF7810
## Page 1657

API reference Return value HRESULT [} 144] 6.1.5.5.1.5 Set Min Dist Set Min Dist f Min Dist LREAL HRESULT Set Min Dist Sets the minimum distance between the centers of different objects. Syntax Definition: METHOD Set Min Dist : HRESULT VAR_INPUT f Min Dist : LREAL; END_VAR Inputs Name Type Description f Min Dist LREAL Minimum distance (> 0) Return value HRESULT [} 144] 6.1.5.5.1.6 Set Template Set Template ip Image ITc Vn Image HRESULT Set Template Sets the template image to search for in the Detect method. Syntax Definition: METHOD Set Template : HRESULT VAR_INPUT ip Image : ITc Vn Image; END_VAR Inputs Name Type Description ip Image ITc Vn Image [} 413] Template image (1 channel, USINT) Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 1657
## Page 1658

API reference 6.1.5.5.1.7 Set Votes Threshold Set Votes Threshold n Votes DINT HRESULT Set Votes Threshold Sets the accumulator threshold, i.e. the number of votes required to detect a match (too small values lead to false detections). Syntax Definition: METHOD Set Votes Threshold : HRESULT VAR_INPUT n Votes : DINT; END_VAR Inputs Name Type Description n Votes DINT Number of votes required to detect a match (> 0) Return value HRESULT [} 144] 6.1.5.5.2 FB_VN_SSIM This FB provides the structural similarity (SSIM) functionality. First, set the reference image. Afterwards, the Compute method can be executed. Do not call the main FB directly. Only use the available methods. Methods Name Description Compute [} 1659] Compute the structural similarity (Set Reference must have been called before). Set Reference [} 1660] Sets the reference image, used by the SSIM method. Further information The function block FB_VN_SSIM calculates the structural similarity of two grayscale images. For reference, an interference-free image is assumed. Parameter Input images The reference and input image must be a 1-channel image with element type USINT (8-bit). First, the reference image must be passed using the Set Reference method. After that, the execution can be done by calling the Compute method, where the input image is then passed. Output image (return value) The output image is of type Real and scaled to the value range 0-1. A 1 means agreement and 0 a maximum deviation. 1658 Version: 2.4.0 TF7000 - TF7810
## Page 1659

API reference Application The execution consists of 2 steps. First, the reference image must be set. After that, the Compute method can be called, which is passed the current input image to be compared. For further analysis of the result image e.g. with the F_VN_Detect Blobs [} 1149] function it is necessary to convert the image to a USINT. The function F_VN_Convert Element Type Exp [} 759] can be used for this purpose. Using the functions F_VN_Image Average [} 1187] or F_VN_Min Pixel Value [} 1197] a matching value can be determined directly based on the result image. // Set reference image first hr := fb SSIM. Set Reference(ip Image := ip Ref Image); // Check if successful, set imput image and compute the result IF SUCCEEDED(hr) and ip Ref Image <> 0 THEN hr := fb SSIM. Compute(ip Src Image:= ip Image In, ip SSIM:= ip Result Image); // Convert and scale the result image to USINT hr := F_VN_Convert Element Type Exp(ip Result Image, ip Result2Image, ETc Vn Element Type. TCVN_ET_USINT, (255.0/1.0), 0, hr); END_IF High memory usage for large images Since the function performs many calculations with real values in the background, more router memory and computing power is required depending on the image size. Required License TC3 Vision Matching System Requirements 6.1.5.5.2.1 Compute Compute ip Src Image ITc Vn Image HRESULT Compute ip SSIM Reference To ITc Vn Image Compute the structural similarity (Set Reference must have been called before). Syntax Definition: METHOD Compute : HRESULT VAR_INPUT ip Src Image : ITc Vn Image; ip SSIM : Reference To ITc Vn Image; END_VAR Inputs Name Type Description ip Src Image ITc Vn Image [} 413] Source image (USINT) ip SSIM Reference To Returns the SSIM (REAL, values from 0 to 1) ITc Vn Image [} 413] Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 1659
## Page 1660

API reference 6.1.5.5.2.2 Set Reference Set Reference ip Image ITc Vn Image HRESULT Set Reference Sets the reference image, used by the SSIM method. Syntax Definition: METHOD Set Reference : HRESULT VAR_INPUT ip Image : ITc Vn Image; END_VAR Inputs Name Type Description ip Image ITc Vn Image [} 413] Reference image (USINT) Return value HRESULT [} 144] 6.2 C++ This chapter contains the Twin CAT Vision API description for the programmatic use of the library in C++. • Data types [} 1660] (aliases, constants, arrays, enums, structures) • Interfaces [} 1734] (images, containers, etc.) • Functions [} 1888] (image processing) • Function blocks [} 2623] (communication with cameras and the file system, image processing) 6.2.1 Data Types There are four data types, each with the prefix "Tc Vn": • Alias names [} 1661] for certain array types refer to image processing • Arrays [} 1663] with a specific combination of data types and a defined number that are frequently used by the image processing functions. • Enums [} 1663] help with the parameterization of functions and contain the additional prefix "E" • Structures [} 1714] consolidate several related pieces of information (e.g. for geometric descriptions) In addition, constants [} 1661] are available for the description of container types. 1660 Version: 2.4.0 TF7000 - TF7810
## Page 1661

API reference 6.2.1.1 Aliases Name Type GVCP_REGISTER_ADDRESS ULONG Tc Vn Point Tc Vn Point2_DINT [} 1661] Tc Vn Point2_DINT Tc Vn Vector2_DINT [} 1663] Tc Vn Point2_LREAL Tc Vn Vector2_LREAL [} 1663] Tc Vn Point2_REAL Tc Vn Vector2_REAL [} 1663] Tc Vn Point3_LREAL Tc Vn Vector3_LREAL [} 1663] Tc Vn Point3_REAL Tc Vn Vector3_REAL [} 1663] Tc Vn Rectangle Tc Vn Rectangle_DINT [} 1732] 6.2.1.2 Constants The following constants represent types of containers [} 155] as GUID. These are required, for example, with functions such as Create Container [} 2134]. TF7000 - TF7810 Version: 2.4.0 1661
## Page 1662

API reference Name Type Container Type_Vector_SINT GUID Container Type_Vector_USINT GUID Container Type_Vector_INT GUID Container Type_Vector_UINT GUID Container Type_Vector_DINT GUID Container Type_Vector_UDINT GUID Container Type_Vector_ULINT GUID Container Type_Vector_REAL GUID Container Type_Vector_LREAL GUID Container Type_Vector_ITc Vn Image GUID Container Type_Vector_Tc Vn Point2_DINT GUID Container Type_Vector_Tc Vn Point2_REAL GUID Container Type_Vector_Tc Vn Point2_LREAL GUID Container Type_Vector_Tc Vn Point3_REAL GUID Container Type_Vector_Tc Vn Point3_LREAL GUID Container Type_Vector_Vector_Tc Vn Point2_DINT GUID Container Type_Vector_Vector_Tc Vn Point2_REAL GUID Container Type_Vector_Vector_Tc Vn Point3_REAL GUID Container Type_Vector_Vector_UDINT GUID Container Type_Vector_Vector_ULINT GUID Container Type_Vector_Vector_REAL GUID Container Type_Vector_Vector_LREAL GUID Container Type_Vector_Tc Vn Vector2_SINT GUID Container Type_Vector_Tc Vn Vector2_USINT GUID Container Type_Vector_Tc Vn Vector2_INT GUID Container Type_Vector_Tc Vn Vector2_UINT GUID Container Type_Vector_Tc Vn Vector2_DINT GUID Container Type_Vector_Tc Vn Vector2_REAL GUID Container Type_Vector_Tc Vn Vector3_SINT GUID Container Type_Vector_Tc Vn Vector3_USINT GUID Container Type_Vector_Tc Vn Vector3_INT GUID Container Type_Vector_Tc Vn Vector3_UINT GUID Container Type_Vector_Tc Vn Vector3_REAL GUID Container Type_Vector_Tc Vn Vector4_SINT GUID Container Type_Vector_Tc Vn Vector4_USINT GUID Container Type_Vector_Tc Vn Vector4_INT GUID Container Type_Vector_Tc Vn Vector4_UINT GUID Container Type_Vector_Tc Vn Vector4_DINT GUID Container Type_Vector_Tc Vn Vector4_REAL GUID Container Type_Vector_Tc Vn Vector4_LREAL GUID Container Type_Vector_Tc Vn Rectangle_DINT GUID Container Type_Vector_Tc Vn Rotated Rectangle GUID Container Type_Vector_Tc Vn Key Point GUID Container Type_Vector_Tc Vn DMatch GUID Container Type_Vector_Vector_Tc Vn DMatch GUID Container Type_String_SINT GUID Container Type_Vector_String_SINT GUID 1662 Version: 2.4.0 TF7000 - TF7810
## Page 1663

API reference 6.2.1.3 Arrays Name Type Tc Vn Array10_ITc Vn Image ITc Vn Image* [} 1870][10] Tc Vn Array3_Point2_REAL Tc Vn Point2_REAL [} 1661][3] Tc Vn Array33_UDINT ULONG[33] Tc Vn Array4_LREAL double[4] Tc Vn Array4_Point2_REAL Tc Vn Point2_REAL [} 1661][4] Tc Vn Array7_LREAL double[7] Tc Vn Array8_LREAL double[8] Tc Vn Matrix2x3_LREAL double[2][3] Tc Vn Matrix3x3_LREAL double[3][3] Tc Vn Vector2_DINT LONG[2] Tc Vn Vector2_INT SHORT[2] Tc Vn Vector2_LREAL double[2] Tc Vn Vector2_REAL float[2] Tc Vn Vector2_SINT char[2] Tc Vn Vector2_UINT USHORT[2] Tc Vn Vector2_USINT unsigned char[2] Tc Vn Vector3_INT SHORT[3] Tc Vn Vector3_LREAL double[3] Tc Vn Vector3_REAL float[3] Tc Vn Vector3_SINT char[3] Tc Vn Vector3_UINT USHORT[3] Tc Vn Vector3_USINT unsigned char[3] Tc Vn Vector4_DINT LONG[4] Tc Vn Vector4_INT SHORT[4] Tc Vn Vector4_LREAL double[4] Tc Vn Vector4_REAL float[4] Tc Vn Vector4_SINT char[4] Tc Vn Vector4_UINT USHORT[4] Tc Vn Vector4_USINT unsigned char[4] 6.2.1.4 Enums 6.2.1.4.1 ETc Vn2d Code Search Strategy Offers search strategies for 2d code reading (multiple TCVN_CSS_XXX_INVERTED or multiple TCVN_CSS_XXX_FLIPPED cannot be combined). Syntax Definition: enum ETc Vn2d Code Search Strategy : ULONG { CSS_DEFAULT = 1, CSS_ONLY_NOT_INVERTED = 8, CSS_FIRST_NOT_INVERTED = 10, CSS_ONLY_INVERTED = 12, CSS_FIRST_INVERTED = 14, CSS_ONLY_NOT_FLIPPED = 64, CSS_FIRST_NOT_FLIPPED = 80, CSS_ONLY_FLIPPED = 96, CSS_FIRST_FLIPPED = 112 }; TF7000 - TF7810 Version: 2.4.0 1663
## Page 1664

API reference Values Name Description CSS_DEFAULT The algorithm searches for codes using the default searching strategy, all other flags are ignored (dependant on code type). CSS_ONLY_NOT_INVERTED The algorithm searches for codes only in the non- inverted image. CSS_FIRST_NOT_INVERTED The algorithm first searches for codes in the non- inverted and then in the inverted image. CSS_ONLY_INVERTED The algorithm searches for codes only in the inverted image. CSS_FIRST_INVERTED The algorithm first searches for codes in the inverted and then in the non-inverted image. CSS_ONLY_NOT_FLIPPED The algorithm searches for codes only in the non- mirrored image. CSS_FIRST_NOT_FLIPPED The algorithm first searches for codes in the non- mirrored and then in the mirrored image. CSS_ONLY_FLIPPED The algorithm searches for codes only in the mirrored image. CSS_FIRST_FLIPPED The algorithm first searches for codes in the mirrored and then in the non-mirrored image. 6.2.1.4.2 ETc Vn Adaptive Threshold Method Offers methods for adaptive threshold. Syntax Definition: enum ETc Vn Adaptive Threshold Method : LONG { ATM_MEAN = 0, ATM_GAUSSIAN = 1 }; Values Name Description ATM_MEAN The threshold value is calculated as the mean of the n Block Size x n Block Size neighborhood of (x,y) minus f Constant. ATM_GAUSSIAN The threshold value is the weighted sum (cross- correlation with a Gaussian window) of the n Block Size x n Block Size neighborhood of (x,y) minus f Constant. 6.2.1.4.3 ETc Vn Barcode Search Direction Offers search directions for linear barcodes. Syntax Definition: enum ETc Vn Barcode Search Direction : ULONG { BSD_ANY = 0, BSD_HORIZONTAL = 1, BSD_VERTICAL = 2 }; 1664 Version: 2.4.0 TF7000 - TF7810
## Page 1665

API reference Values Name Description BSD_ANY The algorithm searches for codes in any supported directions. BSD_HORIZONTAL The algorithm searches for codes in horizontal direction. BSD_VERTICAL The algorithm searches for codes in vertical direction. 6.2.1.4.4 ETc Vn Barcode Type Offers linear barcode types to search for. Syntax Definition: enum ETc Vn Barcode Type : ULONG { BT_CODABAR = 4, BT_CODE39 = 8, BT_CODE93 = 16, BT_CODE128 = 32, BT_EAN8 = 128, BT_EAN13 = 256, BT_ITF = 512, BT_UPCA = 32768, BT_UPCE = 65536, BT_ANY = 99260, BT_CODE39EXTENDED = 262144 }; Values Name Description BT_CODABAR The algorithm searches for Codabar codes. BT_CODE39 The algorithm searches for Code-39 codes. BT_CODE93 The algorithm searches for Code-93 codes. BT_CODE128 The algorithm searches for Code-128 codes. BT_EAN8 The algorithm searches for EAN-8 codes. BT_EAN13 The algorithm searches for EAN-13 codes. BT_ITF The algorithm searches for ITF codes. BT_UPCA The algorithm searches for UPC-A codes. BT_UPCE The algorithm searches for UPC-E codes. BT_ANY The algorithm searches for any supported linear barcode. If the type of the code is known, it is recommended to select the specific type directly. BT_CODE39EXTENDED The algorithm searches for Code-93-Extended codes. 6.2.1.4.5 ETc Vn Blob Combination Offers multiple blob contours to choose from, which should be returned in a multi-threshold scenario (used in Tc Vn Params Blob Detection, which in return is used in F_VN_Detect Blobs). Syntax Definition: enum ETc Vn Blob Combination : LONG { BC_SMALLEST = 0, BC_LARGEST = 1, TF7000 - TF7810 Version: 2.4.0 1665
## Page 1666

API reference BC_MIN_THRESHOLD = 2, BC_MAX_THRESHOLD = 3, BC_MEDIAN_THRESHOLD = 4 }; Values Name Description BC_SMALLEST Returns the smallest blob contour. BC_LARGEST Returns the largest blob contour. BC_MIN_THRESHOLD Returns the blob contour for the minimum threshold. BC_MAX_THRESHOLD Returns the blob contour for the maximum threshold. BC_MEDIAN_THRESHOLD Returns the blob contour for the median threshold. 6.2.1.4.6 ETc Vn Boost Classifier Type Offers different types of Boost classifiers. Syntax Definition: enum ETc Vn Boost Classifier Type : LONG { BCT_DISCRETE = 0, BCT_REAL = 1, BCT_LOGIT = 2, BCT_GENTLE = 3 }; Values Name Description BCT_DISCRETE Discrete Ada Boost BCT_REAL Real Ada Boost BCT_LOGIT Logit Boost BCT_GENTLE Gentle Ada Boost 6.2.1.4.7 ETc Vn Border Interpolation Method Offers methods to extrapolate values of non-existing pixels. On the one hand, this is used for filtering functions to enable filtering at the image borders (where the filter mask reaches over the border). On the other hand, this is used to extrapolate the undefined pixels after a geometric image transformation. Syntax Definition: enum ETc Vn Border Interpolation Method : LONG { BIM_CONSTANT = 0, BIM_REPLICATE = 1, BIM_REFLECT = 2, BIM_WRAP = 3, BIM_REFLECT_101 = 4, BIM_DEFAULT = 4, BIM_TRANSPARENT = 5, BIM_ISOLATED_CONSTANT = 16, BIM_ISOLATED_REPLICATE = 17, BIM_ISOLATED_REFLECT = 18, BIM_ISOLATED_WRAP = 19, BIM_ISOLATED_REFLECT_101 = 20 }; 1666 Version: 2.4.0 TF7000 - TF7810
## Page 1667

API reference Values Name Description BIM_CONSTANT iiiiiii | abcdefgh | iiiiiii (with some specified i) BIM_REPLICATE aaaaaaa | abcdefgh | hhhhhhh BIM_REFLECT gfedcba | abcdefgh | hgfedcb BIM_WRAP bcdefgh | abcdefgh | abcdefg BIM_REFLECT_101 hgfedcb | abcdefgh | gfedcba BIM_DEFAULT Choose this if you don't know which method to select (same as REFLECT_101). BIM_TRANSPARENT Corresponding pixels in the destination image will not be modified. Only available for geometric image transformations. BIM_ISOLATED_CONSTANT Similar to CONSTANT, but ROIs are handled as isolated, which means surrounding image pixels outside the ROI are ignored. BIM_ISOLATED_REPLICATE Similar to REPLICATE, but ROIs are handled as isolated, which means surrounding image pixels outside the ROI are ignored. BIM_ISOLATED_REFLECT Similar to REFLECT, but ROIs are handled as isolated, which means surrounding image pixels outside the ROI are ignored. BIM_ISOLATED_WRAP Similar to WRAP, but ROIs are handled as isolated, which means surrounding image pixels outside the ROI are ignored. BIM_ISOLATED_REFLECT_101 Similar to REFLECT_101, but ROIs are handled as isolated, which means surrounding image pixels outside the ROI are ignored. 6.2.1.4.8 ETc Vn Calibration Pattern Offers common calibration pattern types. Syntax Definition: enum ETc Vn Calibration Pattern : LONG { CP_CIRCLES_SYM = 0, CP_CIRCLES_ASYM = 1, CP_CIRCLES_ASYM_INDENT = 2 }; Values Name Description CP_CIRCLES_SYM Symmetric circle pattern CP_CIRCLES_ASYM Asymmetric circle pattern, i.e. every 2nd row is indented, starting unindented CP_CIRCLES_ASYM_INDENT Asymmetric circle pattern, i.e. every 2nd row is indented, starting indented 6.2.1.4.9 ETc Vn Calibration Pattern Origin Offers calibration pattern origins. TF7000 - TF7810 Version: 2.4.0 1667
## Page 1668

API reference Syntax Definition: enum ETc Vn Calibration Pattern Origin : LONG { CPO_TOPLEFT = 0, CPO_TOPCENTER = 1, CPO_TOPRIGHT = 2, CPO_CENTERLEFT = 3, CPO_CENTER = 4, CPO_CENTERRIGHT = 5, CPO_BOTTOMLEFT = 6, CPO_BOTTOMCENTER = 7, CPO_BOTTOMRIGHT = 8 }; Values Name Description CPO_TOPLEFT Origin is at top left CPO_TOPCENTER Origin is at top center CPO_TOPRIGHT Origin is at top right CPO_CENTERLEFT Origin is at center left CPO_CENTER Origin is at center CPO_CENTERRIGHT Origin is at center right CPO_BOTTOMLEFT Origin is at bottom left CPO_BOTTOMCENTER Origin is at bottom center CPO_BOTTOMRIGHT Origin is at bottom right 6.2.1.4.10 ETc Vn Camera State Specifies the state of a camera controller, which controls an attached camera. Syntax Definition: enum ETc Vn Camera State : LONG { CS_ERROR = -1, CS_INITIAL = 0, CS_INITIALIZING = 1, CS_INITIALIZED = 2, CS_OPENING = 3, CS_OPENED = 4, CS_STARTACQUISITION = 5, CS_ACQUIRING = 6, CS_STOPACQUISITION = 7, CS_RESETTINGFEATURES = 8, CS_TRIGGERING = 9, CS_CLOSING = 10 }; 1668 Version: 2.4.0 TF7000 - TF7810
## Page 1669

API reference Values Name Description CS_ERROR The camera controller is in an error state (e.g. the connection to the camera was lost). CS_INITIAL The camera controller is in the initial state and ready to establish the connection to the camera. CS_INITIALIZING The camera controller is initializing the camera. CS_INITIALIZED The camera controller has initialized the camera. CS_OPENING The camera controller is establishing the connection to the camera. CS_OPENED The connection to the camera has been established and the camera controller is ready to start the image acquisition. CS_STARTACQUISITION The camera controller is starting the image acquisition. CS_ACQUIRING The camera is sending images (either streaming or manually triggered, depending on the configuration). CS_STOPACQUISITION The camera controller is stopping the image acquisition. CS_RESETTINGFEATURES The camera controller is resetting the features on the camera. CS_TRIGGERING The camera controller is processing a softwaretrigger. CS_CLOSING The camera controller is closing the connection to the camera. 6.2.1.4.11 ETc Vn Clustering Algorithm Offers clustering algorithms Syntax Definition: enum ETc Vn Clustering Algorithm : LONG { CA_KMEANSPP = 0, CA_LBG = 1 }; Values Name Description CA_KMEANSPP KMeans++ (fixed number of clusters) CA_LBG LBG variant (dynamic number of clusters) 6.2.1.4.12 ETc Vn Color Map Offers color maps (similar to GNU Octave/MATLAB types). Syntax Definition: enum ETc Vn Color Map : LONG { CM_AUTUMN = 0, CM_BONE = 1, CM_JET = 2, CM_WINTER = 3, TF7000 - TF7810 Version: 2.4.0 1669
## Page 1670

API reference CM_RAINBOW = 4, CM_OCEAN = 5, CM_SUMMER = 6, CM_SPRING = 7, CM_COOL = 8, CM_HSV = 9, CM_PINK = 10, CM_HOT = 11, CM_PARULA = 12, CM_MAGMA = 13, CM_INFERNO = 14, CM_PLASMA = 15, CM_VIRIDIS = 16, CM_CIVIDIS = 17, CM_TWILIGHT = 18, CM_TWILIGHT_SHIFTED = 19, CM_TURBO = 20 }; Values Name Description CM_AUTUMN Red - orange - yellow CM_BONE Black - blueish gray - white CM_JET Dark blue - green - dark red CM_WINTER Blue - green CM_RAINBOW Red - green - purple CM_OCEAN Black - blue - white CM_SUMMER Green - yellow CM_SPRING Pink - yellow CM_COOL Cyan - magenta CM_HSV Red - green - blue - red CM_PINK Black - pink - light yellow - white CM_HOT Black - red - yellow - white CM_PARULA Blue - yellow CM_MAGMA Black - magenta - light yellow CM_INFERNO Black - magenta - yellow CM_PLASMA Blue - magenta - yellow CM_VIRIDIS Purple - yellow CM_CIVIDIS Blue - gray - yellow CM_TWILIGHT White - light blue - dark purple - light red - white CM_TWILIGHT_SHIFTED Dark purple - light blue - white - light red - dark purple CM_TURBO Dark blue - light green - dark red 6.2.1.4.13 ETc Vn Color Map Size Offers color map sizes. Syntax Definition: enum ETc Vn Color Map Size : ULONG { CMS_256 = 256, CMS_65536 = 65536 }; 1670 Version: 2.4.0 TF7000 - TF7810
## Page 1671

API reference Values Name Description CMS_256 256 colors, used for 8 bit images (TCVN_ET_USINT) CMS_65536 65536 colors, used for 16 bit images (TCVN_ET_UINT) 6.2.1.4.14 ETc Vn Color Space Transform Offers color space transformations. Syntax Definition: enum ETc Vn Color Space Transform : LONG { CST_BGR_TO_BGRA = 0, CST_RGB_TO_RGBA = 0, CST_BGRA_TO_BGR = 1, CST_RGBA_TO_RGB = 1, CST_BGR_TO_RGBA = 2, CST_RGB_TO_BGRA = 2, CST_BGRA_TO_RGB = 3, CST_RGBA_TO_BGR = 3, CST_BGR_TO_RGB = 4, CST_RGB_TO_BGR = 4, CST_BGRA_TO_RGBA = 5, CST_RGBA_TO_BGRA = 5, CST_BGR_TO_GRAY = 6, CST_RGB_TO_GRAY = 7, CST_GRAY_TO_BGR = 8, CST_GRAY_TO_RGB = 8, CST_GRAY_TO_BGRA = 9, CST_GRAY_TO_RGBA = 9, CST_BGRA_TO_GRAY = 10, CST_RGBA_TO_GRAY = 11, CST_RGB_TO_BGR_565 = 12, CST_BGR_TO_BGR_565 = 13, CST_BGR_565_TO_RGB = 14, CST_BGR_565_TO_BGR = 15, CST_RGBA_TO_BGR_565 = 16, CST_BGRA_TO_BGR_565 = 17, CST_BGR_565_TO_RGBA = 18, CST_BGR_565_TO_BGRA = 19, CST_GRAY_TO_BGR_565 = 20, CST_BGR_565_TO_GRAY = 21, CST_RGB_TO_BGR_555 = 22, CST_BGR_TO_BGR_555 = 23, CST_BGR_555_TO_RGB = 24, CST_BGR_555_TO_BGR = 25, CST_RGBA_TO_BGR_555 = 26, CST_BGRA_TO_BGR_555 = 27, CST_BGR_555_TO_RGBA = 28, CST_BGR_555_TO_BGRA = 29, CST_GRAY_TO_BGR_555 = 30, CST_BGR_555_TO_GRAY = 31, CST_BGR_TO_XYZ = 32, CST_RGB_TO_XYZ = 33, CST_XYZ_TO_BGR = 34, CST_XYZ_TO_RGB = 35, CST_BGR_TO_YCRCB = 36, CST_RGB_TO_YCRCB = 37, CST_YCRCB_TO_BGR = 38, CST_YCRCB_TO_RGB = 39, CST_BGR_TO_HSV = 40, CST_RGB_TO_HSV = 41, CST_BGR_TO_LAB = 44, CST_RGB_TO_LAB = 45, CST_BAYER_RG_TO_BGR = 46, CST_BAYER_BG_TO_RGB = 46, CST_BAYER_GR_TO_BGR = 47, CST_BAYER_GB_TO_RGB = 47, CST_BAYER_BG_TO_BGR = 48, CST_BAYER_RG_TO_RGB = 48, TF7000 - TF7810 Version: 2.4.0 1671
## Page 1672

API reference CST_BAYER_GB_TO_BGR = 49, CST_BAYER_GR_TO_RGB = 49, CST_BGR_TO_LUV = 50, CST_RGB_TO_LUV = 51, CST_BGR_TO_HLS = 52, CST_RGB_TO_HLS = 53, CST_HSV_TO_BGR = 54, CST_HSV_TO_RGB = 55, CST_LAB_TO_BGR = 56, CST_LAB_TO_RGB = 57, CST_LUV_TO_BGR = 58, CST_LUV_TO_RGB = 59, CST_HLS_TO_BGR = 60, CST_HLS_TO_RGB = 61, CST_BAYER_RG_TO_BGR_VNG = 62, CST_BAYER_GR_TO_BGR_VNG = 63, CST_BAYER_BG_TO_BGR_VNG = 64, CST_BAYER_GB_TO_BGR_VNG = 65, CST_BAYER_RG_TO_RGB_VNG = 64, CST_BAYER_GR_TO_RGB_VNG = 65, CST_BAYER_BG_TO_RGB_VNG = 62, CST_BAYER_GB_TO_RGB_VNG = 63, CST_BGR_TO_HSV_FULL = 66, CST_RGB_TO_HSV_FULL = 67, CST_BGR_TO_HLS_FULL = 68, CST_RGB_TO_HLS_FULL = 69, CST_HSV_TO_BGR_FULL = 70, CST_HSV_TO_RGB_FULL = 71, CST_HLS_TO_BGR_FULL = 72, CST_HLS_TO_RGB_FULL = 73, CST_LBGR_TO_LAB = 74, CST_LRGB_TO_LAB = 75, CST_LBGR_TO_LUV = 76, CST_LRGB_TO_LUV = 77, CST_LAB_TO_LBGR = 78, CST_LAB_TO_LRGB = 79, CST_LUV_TO_LBGR = 80, CST_LUV_TO_LRGB = 81, CST_BGR_TO_YUV = 82, CST_RGB_TO_YUV = 83, CST_YUV_TO_BGR = 84, CST_YUV_TO_RGB = 85, CST_BAYER_RG_TO_GRAY = 86, CST_BAYER_GR_TO_GRAY = 87, CST_BAYER_BG_TO_GRAY = 88, CST_BAYER_GB_TO_GRAY = 89, CST_YUV_420_NV12_TO_RGB = 90, CST_YUV_420_NV12_TO_BGR = 91, CST_YUV_420_NV21_TO_RGB = 92, CST_YUV_420_NV21_TO_BGR = 93, CST_YUV_420_SP_TO_RGB = 92, CST_YUV_420_SP_TO_BGR = 93, CST_YUV_420_NV12_TO_RGBA = 94, CST_YUV_420_NV12_TO_BGRA = 95, CST_YUV_420_NV21_TO_RGBA = 96, CST_YUV_420_NV21_TO_BGRA = 97, CST_YUV_420_SP_TO_RGBA = 96, CST_YUV_420_SP_TO_BGRA = 97, CST_YUV_420_YV12_TO_RGB = 98, CST_YUV_420_YV12_TO_BGR = 99, CST_YUV_420_IYUV_TO_RGB = 100, CST_YUV_420_IYUV_TO_BGR = 101, CST_YUV_420_I420_TO_RGB = 100, CST_YUV_420_I420_TO_BGR = 101, CST_YUV_420_P_TO_RGB = 98, CST_YUV_420_P_TO_BGR = 99, CST_YUV_420_YV12_TO_RGBA = 102, CST_YUV_420_YV12_TO_BGRA = 103, CST_YUV_420_IYUV_TO_RGBA = 104, CST_YUV_420_IYUV_TO_BGRA = 105, CST_YUV_420_I420_TO_RGBA = 104, CST_YUV_420_I420_TO_BGRA = 105, CST_YUV_420_P_TO_RGBA = 102, CST_YUV_420_P_TO_BGRA = 103, CST_YUV_420_TO_GRAY = 106, CST_YUV_420_NV21_TO_GRAY = 106, CST_YUV_420_NV12_TO_GRAY = 106, CST_YUV_420_YV12_TO_GRAY = 106, CST_YUV_420_IYUV_TO_GRAY = 106, CST_YUV_420_I420_TO_GRAY = 106, 1672 Version: 2.4.0 TF7000 - TF7810
## Page 1673

API reference CST_YUV_420_SP_TO_GRAY = 106, CST_YUV_420_P_TO_GRAY = 106, CST_YUV_422_UYVY_TO_RGB = 107, CST_YUV_422_UYVY_TO_BGR = 108, CST_YUV_422_Y422_TO_RGB = 107, CST_YUV_422_Y422_TO_BGR = 108, CST_YUV_422_UYNV_TO_RGB = 107, CST_YUV_422_UYNV_TO_BGR = 108, CST_YUV_422_UYVY_TO_RGBA = 111, CST_YUV_422_UYVY_TO_BGRA = 112, CST_YUV_422_Y422_TO_RGBA = 111, CST_YUV_422_Y422_TO_BGRA = 112, CST_YUV_422_UYNV_TO_RGBA = 111, CST_YUV_422_UYNV_TO_BGRA = 112, CST_YUV_422_YUY2_TO_RGB = 115, CST_YUV_422_YUY2_TO_BGR = 116, CST_YUV_422_YVYU_TO_RGB = 117, CST_YUV_422_YVYU_TO_BGR = 118, CST_YUV_422_YUYV_TO_RGB = 115, CST_YUV_422_YUYV_TO_BGR = 116, CST_YUV_422_YUNV_TO_RGB = 115, CST_YUV_422_YUNV_TO_BGR = 116, CST_YUV_422_YUY2_TO_RGBA = 119, CST_YUV_422_YUY2_TO_BGRA = 120, CST_YUV_422_YVYU_TO_RGBA = 121, CST_YUV_422_YVYU_TO_BGRA = 122, CST_YUV_422_YUYV_TO_RGBA = 119, CST_YUV_422_YUYV_TO_BGRA = 120, CST_YUV_422_YUNV_TO_RGBA = 119, CST_YUV_422_YUNV_TO_BGRA = 120, CST_YUV_422_UYVY_TO_GRAY = 123, CST_YUV_422_YUY2_TO_GRAY = 124, CST_YUV_422_Y422_TO_GRAY = 123, CST_YUV_422_UYNV_TO_GRAY = 123, CST_YUV_422_YVYU_TO_GRAY = 124, CST_YUV_422_YUYV_TO_GRAY = 124, CST_YUV_422_YUNV_TO_GRAY = 124, CST_RGBA_TO_PREMULTIPLICATED_RGBA = 125, CST_PREMULTIPLICATED_RGBA_TO_RGBA = 126, CST_RGB_TO_YUV_420_I420 = 127, CST_BGR_TO_YUV_420_I420 = 128, CST_RGB_TO_YUV_420_IYUV = 127, CST_BGR_TO_YUV_420_IYUV = 128, CST_RGBA_TO_YUV_420_I420 = 129, CST_BGRA_TO_YUV_420_I420 = 130, CST_RGBA_TO_YUV_420_IYUV = 129, CST_BGRA_TO_YUV_420_IYUV = 130, CST_RGB_TO_YUV_420_YV12 = 131, CST_BGR_TO_YUV_420_YV12 = 132, CST_RGBA_TO_YUV_420_YV12 = 133, CST_BGRA_TO_YUV_420_YV12 = 134, CST_BAYER_RG_TO_BGR_EA = 135, CST_BAYER_GR_TO_BGR_EA = 136, CST_BAYER_BG_TO_BGR_EA = 137, CST_BAYER_GB_TO_BGR_EA = 138, CST_BAYER_RG_TO_RGB_EA = 137, CST_BAYER_GR_TO_RGB_EA = 138, CST_BAYER_BG_TO_RGB_EA = 135, CST_BAYER_GB_TO_RGB_EA = 136, CST_BAYER_RG_TO_BGRA = 139, CST_BAYER_GR_TO_BGRA = 140, CST_BAYER_BG_TO_BGRA = 141, CST_BAYER_GB_TO_BGRA = 142, CST_BAYER_RG_TO_RGBA = 141, CST_BAYER_GR_TO_RGBA = 142, CST_BAYER_BG_TO_RGBA = 139, CST_BAYER_GB_TO_RGBA = 140, CST_MAX = 143 }; TF7000 - TF7810 Version: 2.4.0 1673
## Page 1674

API reference Values 1674 Version: 2.4.0 TF7000 - TF7810
## Page 1675

API reference Name Description CST_BGR_TO_BGRA Transform the color space from BGR to BGRA. CST_RGB_TO_RGBA Transform the color space from RGB to RGBA. CST_BGRA_TO_BGR Transform the color space from BGRA to BGR. CST_RGBA_TO_RGB Transform the color space from RGBA to RGB. CST_BGR_TO_RGBA Transform the color space from BGR to RGBA. CST_RGB_TO_BGRA Transform the color space from RGB to BGRA. CST_BGRA_TO_RGB Transform the color space from BGRA to RGB. CST_RGBA_TO_BGR Transform the color space from RGBA to BGR. CST_BGR_TO_RGB Transform the color space from BGR to RGB. CST_RGB_TO_BGR Transform the color space from RGB to BGR. CST_BGRA_TO_RGBA Transform the color space from BGRA to RGBA. CST_RGBA_TO_BGRA Transform the color space from RGBA to BGRA. CST_BGR_TO_GRAY Transform the color space from BGR to Gray. CST_RGB_TO_GRAY Transform the color space from RGB to Gray. CST_GRAY_TO_BGR Transform the color space from Gray to BGR. CST_GRAY_TO_RGB Transform the color space from Gray to RGB. CST_GRAY_TO_BGRA Transform the color space from Gray to BGRA. CST_GRAY_TO_RGBA Transform the color space from Gray to RGBA. CST_BGRA_TO_GRAY Transform the color space from BGRA to Gray. CST_RGBA_TO_GRAY Transform the color space from RGBA to Gray. CST_RGB_TO_BGR_565 Transform the color space from RGB(24 bit 888) to BGR(16 bit 565). CST_BGR_TO_BGR_565 Transform the color space from BGR(24 bit 888) to BGR(16 bit 565). CST_BGR_565_TO_RGB Transform the color space from BGR(16 bit 565) to RGB(24 bit 888). CST_BGR_565_TO_BGR Transform the color space from BGR(16 bit 565) to BGR(24 bit 888). CST_RGBA_TO_BGR_565 Transform the color space from RGBA(32 bit 8888) to BGR(16 bit 565). CST_BGRA_TO_BGR_565 Transform the color space from BGRA(32 bit 8888) to BGR(16 bit 565). CST_BGR_565_TO_RGBA Transform the color space from BGR(16 bit 565) to RGBA(32 bit 8888). CST_BGR_565_TO_BGRA Transform the color space from BGR(16 bit 565) to BGRA(32 bit 8888). CST_GRAY_TO_BGR_565 Transform the color space from Gray to BGR(16 bit 565). CST_BGR_565_TO_GRAY Transform the color space from BGR(16 bit 565) to Gray. CST_RGB_TO_BGR_555 Transform the color space from RGB(24 bit 888) to BGR(16 bit 555). CST_BGR_TO_BGR_555 Transform the color space from BGR(24 bit 888) to BGR(16 bit 555). CST_BGR_555_TO_RGB Transform the color space from BGR(16 bit 555) to RGB(24 bit 888). CST_BGR_555_TO_BGR Transform the color space from BGR(16 bit 555) to BGR(24 bit 888). CST_RGBA_TO_BGR_555 Transform the color space from RGBA(32 bit 8888) to BGR(16 bit 555). CST_BGRA_TO_BGR_555 Transform the color space from BGRA(32 bit 8888) to BGR(16 bit 555). TF7000 - TF7810 Version: 2.4.0 1675
## Page 1676

API reference Name Description CST_BGR_555_TO_RGBA Transform the color space from BGR(16 bit 555) to RGBA(32 bit 8888). CST_BGR_555_TO_BGRA Transform the color space from BGR(16 bit 555) to BGRA(32 bit 8888). CST_GRAY_TO_BGR_555 Transform the color space from Gray to BGR(16 bit 555). CST_BGR_555_TO_GRAY Transform the color space from BGR(16 bit 555) to Gray. CST_BGR_TO_XYZ Transform the color space from BGR to CIE XYZ (scaled to the full value range of the image). CST_RGB_TO_XYZ Transform the color space from RGB to CIE XYZ (scaled to the full value range of the image). CST_XYZ_TO_BGR Transform the color space from CIE XYZ (scaled to the full value range of the image) to BGR. CST_XYZ_TO_RGB Transform the color space from CIE XYZ (scaled to the full value range of the image) to RGB. CST_BGR_TO_YCRCB Transform the color space from BGR to YCr Cb (scaled to the full value range of the image). CST_RGB_TO_YCRCB Transform the color space from RGB to YCr Cb (scaled to the full value range of the image). CST_YCRCB_TO_BGR Transform the color space from YCr Cb (scaled to the full value range of the image) to BGR. CST_YCRCB_TO_RGB Transform the color space from YCr Cb (scaled to the full value range of the image) to RGB. CST_BGR_TO_HSV Transform the color space from BGR to HSV (supports images of type USINT or REAL; for USINT, H is scaled to a range from 0 to 180 and S,V from 0 to 255). CST_RGB_TO_HSV Transform the color space from RGB to HSV (supports images of type USINT or REAL; for USINT, H is scaled to a range from 0 to 180 and S,V from 0 to 255). CST_BGR_TO_LAB Transform the color space from BGR to CIE L*a*b* (for images of type USINT, all channels are scaled to a range from 0 to 255). CST_RGB_TO_LAB Transform the color space from RGB to CIE L*a*b* (for images of type USINT, all channels are scaled to a range from 0 to 255). CST_BAYER_RG_TO_BGR Transform the color space from Bayer RG to BGR (supports images of type USINT or UINT). CST_BAYER_BG_TO_RGB Transform the color space from Bayer BG to RGB (supports images of type USINT or UINT). CST_BAYER_GR_TO_BGR Transform the color space from Bayer GR to BGR (supports images of type USINT or UINT). CST_BAYER_GB_TO_RGB Transform the color space from Bayer GB to RGB (supports images of type USINT or UINT). CST_BAYER_BG_TO_BGR Transform the color space from Bayer BG to BGR (supports images of type USINT or UINT). CST_BAYER_RG_TO_RGB Transform the color space from Bayer RG to RGB (supports images of type USINT or UINT). CST_BAYER_GB_TO_BGR Transform the color space from Bayer GB to BGR (supports images of type USINT or UINT). CST_BAYER_GR_TO_RGB Transform the color space from Bayer GR to RGB (supports images of type USINT or UINT). 1676 Version: 2.4.0 TF7000 - TF7810
## Page 1677

API reference Name Description CST_BGR_TO_LUV Transform the color space from BGR to CIE L*u*v* (for images of type USINT, all channels are scaled to a range from 0 to 255). CST_RGB_TO_LUV Transform the color space from RGB to CIE L*u*v* (for images of type USINT, all channels are scaled to a range from 0 to 255). CST_BGR_TO_HLS Transform the color space from BGR to HLS (for images of type USINT, H is scaled to a range from 0 to 180 and L,S from 0 to 255). CST_RGB_TO_HLS Transform the color space from RGB to HLS (for images of type USINT, H is scaled to a range from 0 to 180 and L,S from 0 to 255). CST_HSV_TO_BGR Transform the color space from HSV (for images of type USINT, H is scaled to a range from 0 to 180 and S,V from 0 to 255) to BGR. CST_HSV_TO_RGB Transform the color space from HSV (for images of type USINT, H is scaled to a range from 0 to 180 and S,V from 0 to 255) to RGB. CST_LAB_TO_BGR Transform the color space from CIE L*a*b* (for images of type USINT, all channels are scaled to a range from 0 to 255) to BGR. CST_LAB_TO_RGB Transform the color space from CIE L*a*b* (for images of type USINT, all channels are scaled to a range from 0 to 255) to RGB. CST_LUV_TO_BGR Transform the color space from CIE L*u*v* (for images of type USINT, all channels are scaled to a range from 0 to 255) to BGR. CST_LUV_TO_RGB Transform the color space from CIE L*u*v* (for images of type USINT, all channels are scaled to a range from 0 to 255) to RGB. CST_HLS_TO_BGR Transform the color space from HLS (for images of type USINT, H is scaled to a range from 0 to 180 and L,S from 0 to 255) to BGR. CST_HLS_TO_RGB Transform the color space from HLS (for images of type USINT, H is scaled to a range from 0 to 180 and L,S from 0 to 255) to RGB. CST_BAYER_RG_TO_BGR_VNG Transform the color space from Bayer RG to BGR, using Variable Number of Gradients (supports images of type USINT). CST_BAYER_GR_TO_BGR_VNG Transform the color space from Bayer GR to BGR, using Variable Number of Gradients (supports images of type USINT). CST_BAYER_BG_TO_BGR_VNG Transform the color space from Bayer BG to BGR, using Variable Number of Gradients (supports images of type USINT). CST_BAYER_GB_TO_BGR_VNG Transform the color space from Bayer GB to BGR, using Variable Number of Gradients (supports images of type USINT). CST_BAYER_RG_TO_RGB_VNG Transform the color space from Bayer RG to RGB, using Variable Number of Gradients (supports images of type USINT). CST_BAYER_GR_TO_RGB_VNG Transform the color space from Bayer GR to RGB, using Variable Number of Gradients (supports images of type USINT). TF7000 - TF7810 Version: 2.4.0 1677
## Page 1678

API reference Name Description CST_BAYER_BG_TO_RGB_VNG Transform the color space from Bayer BG to RGB, using Variable Number of Gradients (supports images of type USINT). CST_BAYER_GB_TO_RGB_VNG Transform the color space from Bayer GB to RGB, using Variable Number of Gradients (supports images of type USINT). CST_BGR_TO_HSV_FULL Transform the color space from BGR to HSV (supports images of type USINT or REAL; for USINT, all channels are scaled to a range from 0 to 255). CST_RGB_TO_HSV_FULL Transform the color space from RGB to HSV (supports images of type USINT or REAL; for USINT, all channels are scaled to a range from 0 to 255). CST_BGR_TO_HLS_FULL Transform the color space from BGR to HLS (for images of type USINT, all channels are scaled to a range from 0 to 255). CST_RGB_TO_HLS_FULL Transform the color space from RGB to HLS (for images of type USINT, all channels are scaled to a range from 0 to 255). CST_HSV_TO_BGR_FULL Transform the color space from HSV (for images of type USINT, all channels are scaled to a range from 0 to 255) to BGR. CST_HSV_TO_RGB_FULL Transform the color space from HSV (for images of type USINT, all channels are scaled to a range from 0 to 255) to RGB. CST_HLS_TO_BGR_FULL Transform the color space from HLS (for images of type USINT, all channels are scaled to a range from 0 to 255) to BGR. CST_HLS_TO_RGB_FULL Transform the color space from HLS (for images of type USINT, all channels are scaled to a range from 0 to 255) to RGB. CST_LBGR_TO_LAB Transform the color space from LBGR to CIE L*a*b* (for images of type USINT, all channels are scaled to a range from 0 to 255). CST_LRGB_TO_LAB Transform the color space from LRGB to CIE L*a*b* (for images of type USINT, all channels are scaled to a range from 0 to 255). CST_LBGR_TO_LUV Transform the color space from LBGR to CIE L*u*v* (for images of type USINT, all channels are scaled to a range from 0 to 255). CST_LRGB_TO_LUV Transform the color space from LRGB to CIE L*u*v* (for images of type USINT, all channels are scaled to a range from 0 to 255). CST_LAB_TO_LBGR Transform the color space from CIE L*a*b* (for images of type USINT, all channels are scaled to a range from 0 to 255) to LBGR. CST_LAB_TO_LRGB Transform the color space from CIE L*a*b* (for images of type USINT, all channels are scaled to a range from 0 to 255) to LRGB. CST_LUV_TO_LBGR Transform the color space from CIE L*u*v* (for images of type USINT, all channels are scaled to a range from 0 to 255) to LBGR. CST_LUV_TO_LRGB Transform the color space from CIE L*u*v* (for images of type USINT, all channels are scaled to a range from 0 to 255) to LRGB. CST_BGR_TO_YUV Transform the color space from BGR to YUV (scaled to the full value range of the image). 1678 Version: 2.4.0 TF7000 - TF7810
## Page 1679

API reference Name Description CST_RGB_TO_YUV Transform the color space from RGB to YUV (scaled to the full value range of the image). CST_YUV_TO_BGR Transform the color space from YUV (scaled to the full value range of the image) to BGR. CST_YUV_TO_RGB Transform the color space from YUV (scaled to the full value range of the image) to RGB. CST_BAYER_RG_TO_GRAY Transform the color space from Bayer RG to Gray (supports images of type USINT or UINT). CST_BAYER_GR_TO_GRAY Transform the color space from Bayer GR to Gray (supports images of type USINT or UINT). CST_BAYER_BG_TO_GRAY Transform the color space from Bayer BG to Gray (supports images of type USINT or UINT). CST_BAYER_GB_TO_GRAY Transform the color space from Bayer GB to Gray (supports images of type USINT or UINT). CST_YUV_420_NV12_TO_RGB Transform the color space from YUV420 NV12 to RGB. CST_YUV_420_NV12_TO_BGR Transform the color space from YUV420 NV12 to BGR. CST_YUV_420_NV21_TO_RGB Transform the color space from YUV420 NV21 (SP) to RGB. CST_YUV_420_NV21_TO_BGR Transform the color space from YUV420 NV21 (SP) to BGR. CST_YUV_420_SP_TO_RGB Transform the color space from YUV420 NV21 (SP) to RGB. CST_YUV_420_SP_TO_BGR Transform the color space from YUV420 NV21 (SP) to BGR. CST_YUV_420_NV12_TO_RGBA Transform the color space from YUV420 NV12 to RGBA. CST_YUV_420_NV12_TO_BGRA Transform the color space from YUV420 NV12 to BGRA. CST_YUV_420_NV21_TO_RGBA Transform the color space from YUV420 NV21 (SP) to RGBA. CST_YUV_420_NV21_TO_BGRA Transform the color space from YUV420 NV21 (SP) to BGRA. CST_YUV_420_SP_TO_RGBA Transform the color space from YUV420 NV21 (SP) to RGBA. CST_YUV_420_SP_TO_BGRA Transform the color space from YUV420 NV21 (SP) to BGRA. CST_YUV_420_YV12_TO_RGB Transform the color space from YUV420 YV12 (P) to RGB. CST_YUV_420_YV12_TO_BGR Transform the color space from YUV420 YV12 (P) to BGR. CST_YUV_420_IYUV_TO_RGB Transform the color space from YUV420 IYUV (I420) to RGB. CST_YUV_420_IYUV_TO_BGR Transform the color space from YUV420 IYUV (I420) to BGR. CST_YUV_420_I420_TO_RGB Transform the color space from YUV420 IYUV (I420) to RGB. CST_YUV_420_I420_TO_BGR Transform the color space from YUV420 IYUV (I420) to BGR. CST_YUV_420_P_TO_RGB Transform the color space from YUV420 YV12 (P) to RGB. CST_YUV_420_P_TO_BGR Transform the color space from YUV420 YV12 (P) to BGR. TF7000 - TF7810 Version: 2.4.0 1679
## Page 1680

API reference Name Description CST_YUV_420_YV12_TO_RGBA Transform the color space from YUV420 YV12 (P) to RGBA. CST_YUV_420_YV12_TO_BGRA Transform the color space from YUV420 YV12 (P) to BGRA. CST_YUV_420_IYUV_TO_RGBA Transform the color space from YUV420 IYUV (I420) to RGBA. CST_YUV_420_IYUV_TO_BGRA Transform the color space from YUV420 IYUV (I420) to BGRA. CST_YUV_420_I420_TO_RGBA Transform the color space from YUV420 IYUV (I420) to RGBA. CST_YUV_420_I420_TO_BGRA Transform the color space from YUV420 IYUV (I420) to BGRA. CST_YUV_420_P_TO_RGBA Transform the color space from YUV420 YV12 (P) to RGBA. CST_YUV_420_P_TO_BGRA Transform the color space from YUV420 YV12 (P) to BGRA. CST_YUV_420_TO_GRAY Transform the color space from YUV420 to Gray. CST_YUV_420_NV21_TO_GRAY Transform the color space from YUV420 to Gray. CST_YUV_420_NV12_TO_GRAY Transform the color space from YUV420 to Gray. CST_YUV_420_YV12_TO_GRAY Transform the color space from YUV420 to Gray. CST_YUV_420_IYUV_TO_GRAY Transform the color space from YUV420 to Gray. CST_YUV_420_I420_TO_GRAY Transform the color space from YUV420 to Gray. CST_YUV_420_SP_TO_GRAY Transform the color space from YUV420 to Gray. CST_YUV_420_P_TO_GRAY Transform the color space from YUV420 to Gray. CST_YUV_422_UYVY_TO_RGB Transform the color space from YUV422 UYVY (Y422, UYNV) to RGB. CST_YUV_422_UYVY_TO_BGR Transform the color space from YUV422 UYVY (Y422, UYNV) to BGR. CST_YUV_422_Y422_TO_RGB Transform the color space from YUV422 UYVY (Y422, UYNV) to RGB. CST_YUV_422_Y422_TO_BGR Transform the color space from YUV422 UYVY (Y422, UYNV) to BGR. CST_YUV_422_UYNV_TO_RGB Transform the color space from YUV422 UYVY (Y422, UYNV) to RGB. CST_YUV_422_UYNV_TO_BGR Transform the color space from YUV422 UYVY (Y422, UYNV) to BGR. CST_YUV_422_UYVY_TO_RGBA Transform the color space from YUV422 UYVY (Y422, UYNV) to RGBA. CST_YUV_422_UYVY_TO_BGRA Transform the color space from YUV422 UYVY (Y422, UYNV) to BGRA. CST_YUV_422_Y422_TO_RGBA Transform the color space from YUV422 UYVY (Y422, UYNV) to RGB. CST_YUV_422_Y422_TO_BGRA Transform the color space from YUV422 UYVY (Y422, UYNV) to BGRA. CST_YUV_422_UYNV_TO_RGBA Transform the color space from YUV422 UYVY (Y422, UYNV) to RGB. CST_YUV_422_UYNV_TO_BGRA Transform the color space from YUV422 UYVY (Y422, UYNV) to BGRA. CST_YUV_422_YUY2_TO_RGB Transform the color space from YUV422 YUYV (YUY2, YUNV) to RGB. CST_YUV_422_YUY2_TO_BGR Transform the color space from YUV422 YUYV (YUY2, YUNV) to BGR. 1680 Version: 2.4.0 TF7000 - TF7810
## Page 1681

API reference Name Description CST_YUV_422_YVYU_TO_RGB Transform the color space from YUV422 YVYU to RGB. CST_YUV_422_YVYU_TO_BGR Transform the color space from YUV422 YVYU to BGR. CST_YUV_422_YUYV_TO_RGB Transform the color space from YUV422 YUYV (YUY2, YUNV) to RGB. CST_YUV_422_YUYV_TO_BGR Transform the color space from YUV422 YUYV (YUY2, YUNV) to BGR. CST_YUV_422_YUNV_TO_RGB Transform the color space from YUV422 YUYV (YUY2, YUNV) to RGB. CST_YUV_422_YUNV_TO_BGR Transform the color space from YUV422 YUYV (YUY2, YUNV) to BGR. CST_YUV_422_YUY2_TO_RGBA Transform the color space from YUV422 YUYV (YUY2, YUNV) to RGBA. CST_YUV_422_YUY2_TO_BGRA Transform the color space from YUV422 YUYV (YUY2, YUNV) to BGRA. CST_YUV_422_YVYU_TO_RGBA Transform the color space from YUV422 YVYU to RGBA. CST_YUV_422_YVYU_TO_BGRA Transform the color space from YUV422 YVYU to BGRA. CST_YUV_422_YUYV_TO_RGBA Transform the color space from YUV422 YUYV (YUY2, YUNV) to RGBA. CST_YUV_422_YUYV_TO_BGRA Transform the color space from YUV422 YUYV (YUY2, YUNV) to BGRA. CST_YUV_422_YUNV_TO_RGBA Transform the color space from YUV422 YUYV (YUY2, YUNV) to RGBA. CST_YUV_422_YUNV_TO_BGRA Transform the color space from YUV422 YUYV (YUY2, YUNV) to BGRA. CST_YUV_422_UYVY_TO_GRAY Transform the color space from YUV422 UYVY (Y422, UYNV) to Gray. CST_YUV_422_YUY2_TO_GRAY Transform the color space from YUV422 YUYV (YUY2, YUNV) to Gray. CST_YUV_422_Y422_TO_GRAY Transform the color space from YUV422 UYVY (Y422, UYNV) to Gray. CST_YUV_422_UYNV_TO_GRAY Transform the color space from YUV422 UYVY (Y422, UYNV) to Gray. CST_YUV_422_YVYU_TO_GRAY Transform the color space from YUV422 YVYU to Gray. CST_YUV_422_YUYV_TO_GRAY Transform the color space from YUV422 YUYV (YUY2, YUNV) to Gray. CST_YUV_422_YUNV_TO_GRAY Transform the color space from YUV422 YUYV (YUY2, YUNV) to Gray. CST_RGBA_TO_PREMULTIPLICATED_RGBA Transform the color space from RGBA to premultiplicated RGBA. CST_PREMULTIPLICATED_RGBA_TO_RGBA Transform the color space from premultiplicated RGBA to RGBA. CST_RGB_TO_YUV_420_I420 Transform the color space from RGB to YUV420 IYUV (I420). CST_BGR_TO_YUV_420_I420 Transform the color space from BGR to YUV420 IYUV (I420). CST_RGB_TO_YUV_420_IYUV Transform the color space from RGB to YUV420 IYUV (I420). CST_BGR_TO_YUV_420_IYUV Transform the color space from BGR to YUV420 IYUV (I420). TF7000 - TF7810 Version: 2.4.0 1681
## Page 1682

API reference Name Description CST_RGBA_TO_YUV_420_I420 Transform the color space from RGBA to YUV420 IYUV (I420). CST_BGRA_TO_YUV_420_I420 Transform the color space from BGRA to YUV420 IYUV (I420). CST_RGBA_TO_YUV_420_IYUV Transform the color space from RGBA to YUV420 IYUV (I420). CST_BGRA_TO_YUV_420_IYUV Transform the color space from BGRA to YUV420 IYUV (I420). CST_RGB_TO_YUV_420_YV12 Transform the color space from RGB to YUV420 YV12 (P). CST_BGR_TO_YUV_420_YV12 Transform the color space from BGR to YUV420 YV12 (P). CST_RGBA_TO_YUV_420_YV12 Transform the color space from RGBA to YUV420 YV12 (P). CST_BGRA_TO_YUV_420_YV12 Transform the color space from BGRA to YUV420 YV12 (P). CST_BAYER_RG_TO_BGR_EA Transform the color space from Bayer RG to BGR, using an Edge Aware algorithm. CST_BAYER_GR_TO_BGR_EA Transform the color space from Bayer GR to BGR, using an Edge Aware algorithm. CST_BAYER_BG_TO_BGR_EA Transform the color space from Bayer BG to BGR, using an Edge Aware algorithm. CST_BAYER_GB_TO_BGR_EA Transform the color space from Bayer GB to BGR, using an Edge Aware algorithm. CST_BAYER_RG_TO_RGB_EA Transform the color space from Bayer RG to RGB, using an Edge Aware algorithm. CST_BAYER_GR_TO_RGB_EA Transform the color space from Bayer GR to RGB, using an Edge Aware algorithm. CST_BAYER_BG_TO_RGB_EA Transform the color space from Bayer BG to RGB, using an Edge Aware algorithm. CST_BAYER_GB_TO_RGB_EA Transform the color space from Bayer GB to RGB, using an Edge Aware algorithm. CST_BAYER_RG_TO_BGRA Transform the color space from Bayer RG to BGRA. CST_BAYER_GR_TO_BGRA Transform the color space from Bayer GR to BGRA. CST_BAYER_BG_TO_BGRA Transform the color space from Bayer BG to BGRA. CST_BAYER_GB_TO_BGRA Transform the color space from Bayer GB to BGRA. CST_BAYER_RG_TO_RGBA Transform the color space from Bayer RG to RGBA. CST_BAYER_GR_TO_RGBA Transform the color space from Bayer GR to RGBA. CST_BAYER_BG_TO_RGBA Transform the color space from Bayer BG to RGBA. CST_BAYER_GB_TO_RGBA Transform the color space from Bayer GB to RGBA. CST_MAX For internal use only, adapted when adding new values. 6.2.1.4.15 ETc Vn Color Training Method Offers color training methods. Syntax Definition: enum ETc Vn Color Training Method : LONG { CTM_LAB = 0, CTM_RGB = 1 }; 1682 Version: 2.4.0 TF7000 - TF7810
## Page 1683

API reference Values Name Description CTM_LAB Trains the color in CIE L*a*b* color space. CTM_RGB Trains the color in RGB color space. 6.2.1.4.16 ETc Vn Connected Components Algorithm Offers connected components algorithms. Syntax Definition: enum ETc Vn Connected Components Algorithm : LONG { CCA_WU = 0, CCA_GRANA = 1 }; Values Name Description CCA_WU SAUF algorithm CCA_GRANA BBDT algorithm for 8-way connectivity, SAUF algorithm for 4-way connectivity 6.2.1.4.17 ETc Vn Container Export Format Offers container export formats. Syntax Definition: enum ETc Vn Container Export Format : USHORT { CEF_XML = 0, CEF_XML_SERIALIZED = 1, CEF_CSV = 2, CEF_BINARY = 3 }; Values Name Description CEF_XML XML format with human readable data CEF_XML_SERIALIZED XML format with serialized data CEF_CSV CSV format (limited to two dimensional representation, so not applicable for all container types) CEF_BINARY Binary serialized data (recommended for large containers) 6.2.1.4.18 ETc Vn Contour Approximation Method Offers methods for contour approximation. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 1683
## Page 1684

API reference enum ETc Vn Contour Approximation Method : LONG { CAM_NONE = 1, CAM_SIMPLE = 2, CAM_TC89_L1 = 3, CAM_TC89_KCOS = 4 }; Values Name Description CAM_NONE No approximation, every single point is stored, i.e. two subsequent points are always direct neighbors (horizontal, vertical or diagonal). CAM_SIMPLE Lossless compression of segments that form straight lines in horizontal, vertical or diagonal direction leaving only their endpoints (For instance, an up-right rectangle is reduced to its four corner points.) CAM_TC89_L1 Compression using a Teh-Chin chain approximation algorithm (IEEE-paper C. Teh, R. Chin, On the Detection of Dominant Points on Digital Curves, 1989). CAM_TC89_KCOS Compression using a Teh-Chin chain approximation algorithm (IEEE-paper C. Teh, R. Chin, On the Detection of Dominant Points on Digital Curves, 1989). 6.2.1.4.19 ETc Vn Contour Retrieval Mode Offers retrieval modes for a contour search. Syntax Definition: enum ETc Vn Contour Retrieval Mode : LONG { CRM_EXTERNAL = 0, CRM_LIST = 1, CRM_CONNECTED_COMPONENTS = 2, CRM_TREE = 3, CRM_FLOODFILL = 4 }; Values Name Description CRM_EXTERNAL Returns only external contours. CRM_LIST Returns all found contours, not considering their hierarchy. CRM_CONNECTED_COMPONENTS Returns all contours with a 2-level hierarchy (External contours are assigned level 0, internal contours level 1). CRM_TREE Returns all contours and their full hierarchy. CRM_FLOODFILL Returns the found contours using a floodfill algorithm (only available for DINT images). 6.2.1.4.20 ETc Vn Contours Match Comparison Method Offers comparison methods for contour matching. 1684 Version: 2.4.0 TF7000 - TF7810
## Page 1685

API reference Syntax Definition: enum ETc Vn Contours Match Comparison Method : LONG { CMCM_CONTOURS_MATCH_I1 = 1, CMCM_CONTOURS_MATCH_I2 = 2, CMCM_CONTOURS_MATCH_I3 = 3 }; Values Name Description CMCM_CONTOURS_MATCH_I1 Contours are compared using the sum over the differences between the reciprocal individual characteristics. CMCM_CONTOURS_MATCH_I2 Contours are compared using the sum over the differences between the individual characteristics. CMCM_CONTOURS_MATCH_I3 Contours are compared using only the maximum difference between the individual characteristics. 6.2.1.4.21 ETc Vn Diffusivity Type KAZE Offers diffusivity types for feature detection methods KAZE and AKAZE. Syntax Definition: enum ETc Vn Diffusivity Type KAZE : LONG { DT1_KAZE_PM_G1 = 0, DT1_KAZE_PM_G2 = 1, DT1_KAZE_WEICKERT = 2, DT1_KAZE_CHARBONNIER = 3 }; Values Name Description DT1_KAZE_PM_G1 Uses the Perona-Malik diffusivity filter g1. DT1_KAZE_PM_G2 Uses the Perona-Malik diffusivity filter g2. DT1_KAZE_WEICKERT Uses the Weickert diffusivity filter. DT1_KAZE_CHARBONNIER Uses the Charbonnier diffusivity filter. 6.2.1.4.22 ETc Vn Distance Transformation Label Offers types of the label array to build. Syntax Definition: enum ETc Vn Distance Transformation Label : LONG { DTL_CCOMP = 0, DTL_PIXEL = 1 }; TF7000 - TF7810 Version: 2.4.0 1685
## Page 1686

API reference Values Name Description DTL_CCOMP Labels connected components (Each connected component of zeros in the source image and the pixels closest to the connected component will be assigned the same label). DTL_PIXEL Labels pixels (Each zero pixel and the non-zero pixels closest to it get their own label). 6.2.1.4.23 ETc Vn Distance Transformation Mask Offers different sizes of the distance transformation mask. Please note, that some sizes are not supported by certain distance types. Syntax Definition: enum ETc Vn Distance Transformation Mask : LONG { DTM_PRECISE = 0, DTM_3 = 3, DTM_5 = 5 }; Values Name Description DTM_PRECISE Uses a precise mask. DTM_3 Uses a 3x3 mask. DTM_5 Uses a 5x5 mask. 6.2.1.4.24 ETc Vn Distance Type Offers distance types. Syntax Definition: enum ETc Vn Distance Type : LONG { DT_USER = -1, DT_L1 = 1, DT_L2 = 2, DT_C = 3, DT_L12 = 4, DT_FAIR = 5, DT_WELSCH = 6, DT_HUBER = 7 }; 1686 Version: 2.4.0 TF7000 - TF7810
## Page 1687

API reference Values Name Description DT_USER User defined distance DT_L1 |x1 - x2| + |y1 - y2| DT_L2 Euclidean distance DT_C max(|x1 - x2|, |y1 - y2|) DT_L12 L1 - L2 : 2*(sqrt(1 + x*x/2) - 1)) DT_FAIR c^2(|x|/c-log(1+|x|/c)), c = 1.3998 DT_WELSCH c^2/2(1-exp(-(x/c)^2)), c = 2.9846 DT_HUBER |x|<c ? x^2/2 : c(|x|-c/2), c=1.345 6.2.1.4.25 ETc Vn Draw Matches Flags Offers a combination of flags to support overdrawing an existing destination image and/or skipping single (i.e. non-matched) keypoints and/or drawing additional (rich-)keypoint information (size and orientation). Used by F_VN_Draw Keypoints Exp. Syntax Definition: enum ETc Vn Draw Matches Flags : LONG { DMF_DEFAULT = 0, DMF_OVERDRAW = 1, DMF_SKIPSINGLE = 2, DMF_OVERDRAW_SKIPSINGLE = 3, DMF_RICHKEYPOINT = 4, DMF_OVERDRAW_RICHKEYPOINT = 5, DMF_SKIPSINGLE_RICHKEYPOINT = 6, DMF_OVERDRAW_SKIPSINGLE_RICHKEYPOINT = 7 }; Values Name Description DMF_DEFAULT Draw all keypoints into a new image. DMF_OVERDRAW Draw all keypoints into the existing destination image. DMF_SKIPSINGLE Draw the keypoints into a new image but skip single keypoints. DMF_OVERDRAW_SKIPSINGLE Draw the keypoints into the existing destination image but skip single keypoints. DMF_RICHKEYPOINT Draw all keypoints with rich information into a new image. DMF_OVERDRAW_RICHKEYPOINT Draw all keypoints with rich information into the existing destination image. DMF_SKIPSINGLE_RICHKEYPOINT Draw the keypoints with rich information into a new image but skip single keypoints. DMF_OVERDRAW_SKIPSINGLE_RICHKEYPOINT Draw the keypoints with rich information into the existing destination image but skip single keypoints. 6.2.1.4.26 ETc Vn Draw Shape Offers shapes to be drawn. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 1687
## Page 1688

API reference enum ETc Vn Draw Shape : LONG { DS_RANDOM = -1, DS_CIRCLE = 0, DS_SQUARE = 1, DS_PLUS = 2, DS_X = 3, DS_DIAMOND = 4, DS_MAX = 5 }; Values Name Description DS_RANDOM Randomly select a circle, square, plus, X or diamond. DS_CIRCLE Circle DS_SQUARE Square DS_PLUS + DS_X x DS_DIAMOND Diamond DS_MAX For internal use only, adapted when adding new values. 6.2.1.4.27 ETc Vn Edge Detection Algorithm Offers edge detection algorithms. Syntax Definition: enum ETc Vn Edge Detection Algorithm : LONG { EDA_INTERPOLATION = 0, EDA_APPROX_ERF = 1, EDA_APPROX_GAUSSIAN = 2 }; Values Name Description EDA_INTERPOLATION Interpolates pixels (bilinear) and then finds the maximum gradient. This approach is fast and stable, but usually less precise than the function approximation methods. EDA_APPROX_ERF Approximates the edge with an erf function. This approach is slower than the interpolation method, but usually more precise. However, it can be inaccurate if the edge does not suit the erf model. EDA_APPROX_GAUSSIAN Approximates the edge with a gaussian function. This method is intended to find the center of relatively thin lines, so it is likely to be inaccurate for other edges. 6.2.1.4.28 ETc Vn Edge Direction Offers edge directions relative to the search direction. Syntax Definition: 1688 Version: 2.4.0 TF7000 - TF7810
## Page 1689

API reference enum ETc Vn Edge Direction : LONG { ED_DARK_TO_LIGHT = 0, ED_LIGHT_TO_DARK = 1 }; Values Name Description ED_DARK_TO_LIGHT Dark to light ED_LIGHT_TO_DARK Light to dark 6.2.1.4.29 ETc Vn Element Type Offers element types. Syntax Definition: enum ETc Vn Element Type : LONG { ET_SAME_AS_SOURCE = -1, ET_USINT = 0, ET_SINT = 1, ET_UINT = 2, ET_INT = 3, ET_DINT = 4, ET_REAL = 5, ET_LREAL = 6 }; Values Name Description ET_SAME_AS_SOURCE Sets the element type of the destination image to the source image element type. ET_USINT USINT (depth: 8 bit, 0..255) ET_SINT SINT (depth: 8 bit, -128..127) ET_UINT UINT (depth: 16 bit, 0..65535) ET_INT INT (depth: 16 bit, -32768..32767) ET_DINT DINT (depth: 32 bit, -2147483648..2147483647) ET_REAL REAL (depth: 32 bit, ~ -3.402823E 10^38 .. ~ 3.402823E 38) ET_LREAL LREAL (depth: 64 bit, ~ -1.79769313486231E 308 .. ~ 1.79769313486232E 308) 6.2.1.4.30 ETc Vn Estimation Algorithm Offers estimation algorithms for matching point sets. Syntax Definition: enum ETc Vn Estimation Algorithm : LONG { EA_DEFAULT = 0, EA_LMEDS = 4, EA_RANSAC = 8, EA_RHO = 16 }; TF7000 - TF7810 Version: 2.4.0 1689
## Page 1690

API reference Values Name Description EA_DEFAULT Use all points. EA_LMEDS Least Median of Squares EA_RANSAC Random Sample Consensus EA_RHO Progressive Sample Consensus 6.2.1.4.31 ETc Vn Extreme Point Direction Offers search directions for the extreme point. Syntax Definition: enum ETc Vn Extreme Point Direction : LONG { EPD_TOP_LEFT = 0, EPD_TOP_MEDIAN = 1, EPD_TOP_RIGHT = 2, EPD_BOTTOM_LEFT = 3, EPD_BOTTOM_MEDIAN = 4, EPD_BOTTOM_RIGHT = 5, EPD_LEFT_TOP = 6, EPD_LEFT_MEDIAN = 7, EPD_LEFT_BOTTOM = 8, EPD_RIGHT_TOP = 9, EPD_RIGHT_MEDIAN = 10, EPD_RIGHT_BOTTOM = 11 }; Values Name Description EPD_TOP_LEFT Find the topmost point (min y, take left one if more than 1). EPD_TOP_MEDIAN Find the topmost point (min y, take median one if more than 1). EPD_TOP_RIGHT Find the topmost point (min y, take right one if more than 1). EPD_BOTTOM_LEFT Find the bottommost point (max y, take left one if more than 1). EPD_BOTTOM_MEDIAN Find the bottommost point (max y, take median one if more than 1). EPD_BOTTOM_RIGHT Find the bottommost point (max y, take right one if more than 1). EPD_LEFT_TOP Find the leftmost point (min x, take top one if more than 1). EPD_LEFT_MEDIAN Find the leftmost point (min x, take median one if more than 1). EPD_LEFT_BOTTOM Find the leftmost point (min x, take bottom one if more than 1). EPD_RIGHT_TOP Find the rightmost point (max x, take top one if more than 1). EPD_RIGHT_MEDIAN Find the rightmost point (max x, take median one if more than 1). EPD_RIGHT_BOTTOM Find the rightmost point (max x, take bottom one if more than 1). 1690 Version: 2.4.0 TF7000 - TF7810
## Page 1691

API reference 6.2.1.4.32 ETc Vn Feature Descriptor Type AKAZE Offers descriptor types for AKAZE method. Syntax Definition: enum ETc Vn Feature Descriptor Type AKAZE : LONG { FDT_AKAZE_KAZE_UPRIGHT = 2, FDT_AKAZE_KAZE = 3, FDT_AKAZE_MLDB_UPRIGHT = 4, FDT_AKAZE_MLDB = 5 }; Values Name Description FDT_AKAZE_KAZE_UPRIGHT KAZE descriptor (upright, i.e. rotation dependend). FDT_AKAZE_KAZE KAZE descriptor (rotation invariant). FDT_AKAZE_MLDB_UPRIGHT MLDB descriptor (upright, i.e. rotation dependend). FDT_AKAZE_MLDB MLDB descriptor (rotation invariant). 6.2.1.4.33 ETc Vn Feature Scaling Type Offers feature scaling types Syntax Definition: enum ETc Vn Feature Scaling Type : LONG { FST1_MAXABS = 0, FST1_MINMAX = 1, FST1_STANDARDIZATION = 2 }; Values Name Description FST1_MAXABS Use the max of the absolute values of the feature vector. The normlized values are in the range [-1 to 1] or [0 to 1] if all the original values are positive. FST1_MINMAX Use the min and max values of the feature vector. The normlized values are in the range [0 to 1] FST1_STANDARDIZATION Use the mean and the standard deviation of the feature vector. The normalized vector has a mean value equal to zero and standard deviation equal to one 6.2.1.4.34 ETc Vn Feature Score Type ORB Offers algorithms used to rank features. Syntax Definition: enum ETc Vn Feature Score Type ORB : LONG { FST_ORB_HARRIS = 0, FST_ORB_FAST = 1 }; TF7000 - TF7810 Version: 2.4.0 1691
## Page 1692

API reference Values Name Description FST_ORB_HARRIS Harris algorithm (produces more stable keypoints, but computation takes longer). FST_ORB_FAST FAST algorithm (produces slightly less stable keypoints, but computation is faster). 6.2.1.4.35 ETc Vn Filter Direction Offers directions, in which to apply filter. Syntax Definition: enum ETc Vn Filter Direction : SHORT { FD_X = 0, FD_Y = 1 }; Values Name Description FD_X X-direction FD_Y Y-direction 6.2.1.4.36 ETc Vn Flip Axis Defines the axis around which to flip (mirror) the image. Syntax Definition: enum ETc Vn Flip Axis : SHORT { FA_XY = -1, FA_X = 0, FA_Y = 1 }; Values Name Description FA_XY Flip the image around both axes FA_X Flip the image around the X axis FA_Y Flip the image around the Y axis 6.2.1.4.37 ETc Vn Font Type Offers font types. Syntax Definition: enum ETc Vn Font Type : LONG { FT_HERSHEY_SIMPLEX = 0, FT_HERSHEY_PLAIN = 1, FT_HERSHEY_DUPLEX = 2, FT_HERSHEY_COMPLEX = 3, 1692 Version: 2.4.0 TF7000 - TF7810
## Page 1693

API reference FT_HERSHEY_TRIPLEX = 4, FT_HERSHEY_COMPLEX_SMALL = 5, FT_HERSHEY_SCRIPT_SIMPLEX = 6, FT_HERSHEY_SCRIPT_COMPLEX = 7, FT_HERSHEY_PLAIN_ITALIC = 17, FT_HERSHEY_COMPLEX_ITALIC = 19, FT_HERSHEY_TRIPLEX_ITALIC = 20, FT_HERSHEY_COMPLEX_SMALL_ITALIC = 21 }; Values Name Description FT_HERSHEY_SIMPLEX Normal size sans-serif font. FT_HERSHEY_PLAIN Small size sans-serif font. FT_HERSHEY_DUPLEX More complex normal size sans-serif font. FT_HERSHEY_COMPLEX Normal size serif font. FT_HERSHEY_TRIPLEX More complex normal size serif font. FT_HERSHEY_COMPLEX_SMALL Small size serif font. FT_HERSHEY_SCRIPT_SIMPLEX Hand-writing style font. FT_HERSHEY_SCRIPT_COMPLEX More complex hand-writing style font. FT_HERSHEY_PLAIN_ITALIC Small size sans-serif font (italic). FT_HERSHEY_COMPLEX_ITALIC Normal size serif font (italic). FT_HERSHEY_TRIPLEX_ITALIC More complex normal size serif font (italic). FT_HERSHEY_COMPLEX_SMALL_ITALIC Small size serif font (italic). 6.2.1.4.38 ETc Vn Hough Method Offers Hough methods. Syntax Definition: enum ETc Vn Hough Method : LONG { HM_STANDARD = 0, HM_PROBABILISTIC = 1, HM_MULTI_SCALE = 2, HM_GRADIENT = 3, HM_GRADIENT_ALT = 4 }; TF7000 - TF7810 Version: 2.4.0 1693
## Page 1694

API reference Values Name Description HM_STANDARD Classical or standard Hough transform. Every line is represented by two floating-point numbers (f1, f2), where f1 is a distance between (0,0) origin and the line, and f2 is the angle between x-axis and the normal to the line. HM_PROBABILISTIC Probabilistic Hough transform. More efficient for pictures containing long linear segments. Returns line segments rather than the whole line, while each segment is represented by start and end point. HM_MULTI_SCALE Multi scale variant of classical Hough transform. HM_GRADIENT Method designed to find circles. See paper: HK Yuen, John Princen, John Illingworth, and Josef Kittler. Comparative study of hough transform methods for circle finding. Image and Vision Computing, 8(1):71–77, 1990 HM_GRADIENT_ALT Variation of the GRADIENT method. 6.2.1.4.39 ETc Vn Initializable Function Offers initializable functions. Syntax Definition: enum ETc Vn Initializable Function : LONG { IF_OCR = 0, }; Values Name Description IF_OCR F_VN_OCR 6.2.1.4.40 ETc Vn Interpolation Type Offers interpolation types. Syntax Definition: enum ETc Vn Interpolation Type : LONG { IT_NEAREST_NEIGHBOR = 0, IT_BILINEAR = 1, IT_BICUBIC = 2, IT_AREA_BASED = 3, IT_LANCZOS4 = 4 }; 1694 Version: 2.4.0 TF7000 - TF7810
## Page 1695

API reference Values Name Description IT_NEAREST_NEIGHBOR Nearest neighbor interpolation IT_BILINEAR Bilinear interpolation IT_BICUBIC Bicubic interpolation IT_AREA_BASED Area based interpolation IT_LANCZOS4 Lanczos4 interpolation 6.2.1.4.41 ETc Vn Keypoint Detection Type AGAST Offers different neighborhood types for AGAST method (For details see paper: E. Mair et al.: Adaptive and Generic Corner Detection Based on the Accelerated Segment Test, 2010). Syntax Definition: enum ETc Vn Keypoint Detection Type AGAST : LONG { KDT_AGAST_5_8 = 0, KDT_AGAST_7_12d = 1, KDT_AGAST_7_12s = 2, KDT_AGAST_9_16 = 3 }; Values Name Description KDT_AGAST_5_8 5 of 8 KDT_AGAST_7_12d 7 of 12 diamond KDT_AGAST_7_12s 7 of 12 square KDT_AGAST_9_16 9 of 16 6.2.1.4.42 ETc Vn Keypoint Detection Type FAST Offers different neighborhood types for FAST method (For details see paper: E. Rosten: Machine Learning for High-speed Corner Detection, 2006). Syntax Definition: enum ETc Vn Keypoint Detection Type FAST : LONG { KDT_FAST_5_8 = 0, KDT_FAST_7_12 = 1, KDT_FAST_9_16 = 2 }; Values Name Description KDT_FAST_5_8 5 of 8 KDT_FAST_7_12 7 of 12 KDT_FAST_9_16 9 of 16 6.2.1.4.43 ETc Vn Knn Offers k NN model types. TF7000 - TF7810 Version: 2.4.0 1695
## Page 1696

API reference Syntax Definition: enum ETc Vn Knn : ULONG { KNN_CLASSIFIER = 1, KNN_NOVELTY_DETECTOR = 2, KNN_REGRESSOR = 4 }; Values Name Description KNN_CLASSIFIER Classifier KNN_NOVELTY_DETECTOR Novelty detector KNN_REGRESSOR Regressor 6.2.1.4.44 ETc Vn Line Type Offers line types. Syntax Definition: enum ETc Vn Line Type : LONG { LT_4_CONNECTED = 4, LT_8_CONNECTED = 8, LT_ANTIALIASED = 16 }; Values Name Description LT_4_CONNECTED 4-connected (pixels are connected horizontally and vertically). LT_8_CONNECTED 8-connected (pixels are connected horizontally, vertically and diagonally). LT_ANTIALIASED Antialiased (drawn using Gaussian filtering, only implemented for 8-bit images). 6.2.1.4.45 ETc Vn Morphological Operator Offers morphological operators. Syntax Definition: enum ETc Vn Morphological Operator : LONG { MO_EROSION = 0x0, MO_DILATION = 0x1, MO_OPENING = 0x2, MO_CLOSING = 0x3, MO_GRADIENT = 0x4, MO_WHITE_TOPHAT = 0x5, MO_BLACK_TOPHAT = 0x6, MO_OPENING_BY_RECONSTRUCTION = 0x40000002, MO_CLOSING_BY_RECONSTRUCTION = 0x40000003, MO_WHITE_TOPHAT_BY_RECONSTRUCTION = 0x40000005, MO_BLACK_TOPHAT_BY_RECONSTRUCTION = 0x40000006 }; 1696 Version: 2.4.0 TF7000 - TF7810
## Page 1697

API reference Values Name Description MO_EROSION Shrinks objects (regions of foreground (i.e. white) pixels), removing regions smaller than the structuring element completely. MO_DILATION Expands objects and thereby closes small holes inside objects. MO_OPENING Applies an erosion first, a dilation second. Objects smaller than the structuring element are removed while outer shapes remain largely the same. MO_CLOSING Applies a dilation first, an erosion second. Holes inside objects that fit into the structuring element are closed completely while outer shapes remain largely the same. MO_GRADIENT Difference between the dilation and the erosion of an image. MO_WHITE_TOPHAT Difference between an input image and its opening. MO_BLACK_TOPHAT Difference between an input image and its closing. MO_OPENING_BY_RECONSTRUCTION Opening with subsequent reconstruction of objects that were not removed by the opening. MO_CLOSING_BY_RECONSTRUCTION Closing with subsequent reconstruction of objects that were not removed by the closing. MO_WHITE_TOPHAT_BY_RECONSTRUCTION White tophat with subsequent reconstruction of objects that were not removed by the white tophat. MO_BLACK_TOPHAT_BY_RECONSTRUCTION Black tophat with subsequent reconstruction of objects that were not removed by the black tophat. 6.2.1.4.46 ETc Vn Nbc Offers normal Bayes classifier types. Syntax Definition: enum ETc Vn Nbc : ULONG { NBC_CLASSIFIER = 1, NBC_NOVELTY_DETECTOR = 2 }; Values Name Description NBC_CLASSIFIER Classifier NBC_NOVELTY_DETECTOR Novelty detector 6.2.1.4.47 ETc Vn Normalization Type Offers normalization types. Syntax Definition: enum ETc Vn Normalization Type : LONG { NT_INF = 1, NT_L1 = 2, NT_L2 = 4, TF7000 - TF7810 Version: 2.4.0 1697
## Page 1698

API reference NT_L2SQR = 5, NT_HAMMING = 6, NT_HAMMING2 = 7, NT_RELATIVE_INF = 9, NT_RELATIVE_L1 = 10, NT_RELATIVE_L2 = 12, NT_RELATIVE_L2SQR = 13, NT_RELATIVE_HAMMING = 14, NT_RELATIVE_HAMMING2 = 15, NT_MINMAX = 32 }; Values Name Description NT_INF Infinity norm NT_L1 L1 norm NT_L2 L2 (euclidean) norm NT_L2SQR Squared L2 norm NT_HAMMING Hamming distance (bitwise) NT_HAMMING2 Hamming distance (each 2 bits combined to one) NT_RELATIVE_INF Infinity norm (when comparing 2 arrays, the norm of their difference is divided by the norm of the second array) NT_RELATIVE_L1 L1 norm (when comparing 2 arrays, the norm of their difference is divided by the norm of the second array) NT_RELATIVE_L2 L2 (euclidean) norm (when comparing 2 arrays, the norm of their difference is divided by the norm of the second array) NT_RELATIVE_L2SQR Squared L2 norm (when comparing 2 arrays, the norm of their difference is divided by the norm of the second array) NT_RELATIVE_HAMMING Hamming distance (bitwise; when comparing 2 arrays, the norm of their difference is divided by the norm of the second array) NT_RELATIVE_HAMMING2 Hamming distance (each 2 bits combined to one; when comparing 2 arrays, the norm of their difference is divided by the norm of the second array) NT_MINMAX Normalize the values to a range given by a minimum and a maximum value. 6.2.1.4.48 ETc Vn Ocr Model Type Offers different OCR model types Syntax Definition: enum ETc Vn Ocr Model Type : ULONGLONG { OMT_NUMBERS = 580542139465730, OMT_NUMBERS_SC = 580542139465732, OMT_UCLETTERS = 580542139465736, OMT_NUMBERS_SC_UCLETTERS = 580542139465744 }; 1698 Version: 2.4.0 TF7000 - TF7810
## Page 1699

API reference Values Name Description OMT_NUMBERS Classify numbers OMT_NUMBERS_SC Classify numbers and special characters OMT_UCLETTERS Classify uppercase letters OMT_NUMBERS_SC_UCLETTERS Classify numbers, special characters and uppercase letters 6.2.1.4.49 ETc Vn Ocr Options Provides different options to indicate whether certain actions must be performed to achieve the intended result. Syntax Definition: enum ETc Vn Ocr Options : ULONG { OO_NONE = 0, OO_WITHBLANKS = 1 }; Values Name Description OO_NONE No options OO_WITHBLANKS Indicates that if blanks were found, they should be included in the result. By default, all blanks are omitted from the result. 6.2.1.4.50 ETc Vn Orientation Method Offers methods to calculate the orientation of a set of points. Syntax Definition: enum ETc Vn Orientation Method : LONG { OM_PCA = 0, OM_FITELLIPSE = 1, OM_MOMENTS = 2, OM_ENCLOSINGRECT = 3 }; Values Name Description OM_PCA Apply the PCA on the points and calculate the mean point as the center point and the rotation angle of the main principal axis OM_FITELLIPSE Fit an ellipse around the points and calculate the center point and the rotation angle of the main axis OM_MOMENTS Calculate the moments of the points and estimate the center and the rotation angle OM_ENCLOSINGRECT Calculate a minimum area rectangle enclosing the points and calculate the center point and the rotation angle of the rectangle TF7000 - TF7810 Version: 2.4.0 1699
## Page 1700

API reference 6.2.1.4.51 ETc Vn Padding Mode Offers padding modes. Syntax Definition: enum ETc Vn Padding Mode : LONG { PM_NONE = 0, PM_CROP_CENTER = 1, PM_LETTERBOX = 2 }; Values Name Description PM_NONE Resize the image to the desired size without extra processing PM_CROP_CENTER Resize and crop the image PM_LETTERBOX Resize the image to the desired size while preserving the aspect ratio of the original image 6.2.1.4.52 ETc Vn Pixel Connectivity Offers pixel connectivities. Syntax Definition: enum ETc Vn Pixel Connectivity : LONG { PC_4 = 4, PC_8 = 8 }; Values Name Description PC_4 4-way PC_8 8-way 6.2.1.4.53 ETc Vn Pixel Encoding Offers pixel encodings. Syntax Definition: enum ETc Vn Pixel Encoding : BYTE { PE_NONE = 0, PE_BAYER_GR = 1, PE_BAYER_RG = 2, PE_BAYER_GB = 3, PE_BAYER_BG = 4, PE_YUV_411_UYYVYY = 5, PE_YUV_422_UYVY = 6, PE_YUV_422_YUYV = 7, PE_YCBCR_411_CBYYCRYY = 8, PE_YCBCR_422_CBYCRY = 9, PE_YCBCR_422_YCBYCR = 10 }; 1700 Version: 2.4.0 TF7000 - TF7810
## Page 1701

API reference Values Name Description PE_NONE No encoding available, i.e. every pixel value is independent of other pixels. PE_BAYER_GR Pixels are encoded as a Bayer GR pattern. PE_BAYER_RG Pixels are encoded as a Bayer RG pattern. PE_BAYER_GB Pixels are encoded as a Bayer GB pattern. PE_BAYER_BG Pixels are encoded as a Bayer BG pattern. PE_YUV_411_UYYVYY Pixels are encoded as YUV411 (UYYVYY). PE_YUV_422_UYVY Pixels are encoded as YUV422 (UYVY). PE_YUV_422_YUYV Pixels are encoded as YUV422 (YUYV). PE_YCBCR_411_CBYYCRYY Pixels are encoded as YCb Cr411 (Cb YYCr YY). PE_YCBCR_422_CBYCRY Pixels are encoded as YCb Cr422 (Cb YCr Y). PE_YCBCR_422_YCBYCR Pixels are encoded as YCb Cr422 (YCb YCr). 6.2.1.4.54 ETc Vn Pixel Pack Mode Offers pixel packing modes. Syntax Definition: enum ETc Vn Pixel Pack Mode : BYTE { PPM_NONE = 0, PPM_MONO1P = 1, PPM_MONO2P = 2, PPM_MONO4P = 3, PPM_MONO10PACKED = 4, PPM_MONO12PACKED = 5, PPM_RGB10V1PACKED = 6, PPM_RGB10P32 = 7, PPM_RGB12V1PACKED = 8, PPM_RGB565P = 9, PPM_BGR565P = 10, PPM_MONO10P = 11, PPM_MONO12P = 12, PPM_MONO14P = 13 }; Values Name Description PPM_NONE No packing PPM_MONO1P Mono1p PPM_MONO2P Mono2p PPM_MONO4P Mono4p PPM_MONO10PACKED Mono10Packed or Bayer XX10Packed PPM_MONO12PACKED Mono12Packed or Bayer XX12Packed PPM_RGB10V1PACKED RGB10V1Packed PPM_RGB10P32 RGB10V2Packed (RGB10p32) PPM_RGB12V1PACKED RGB12V1Packed PPM_RGB565P RGB565p PPM_BGR565P BGR565p PPM_MONO10P Mono10p or Bayer XX10p PPM_MONO12P Mono12p or Bayer XX12p PPM_MONO14P Mono14p or Bayer XX14p TF7000 - TF7810 Version: 2.4.0 1701
## Page 1702

API reference 6.2.1.4.55 ETc Vn Prototype Clusterer Offers prototype clusterer model types. Syntax Definition: enum ETc Vn Prototype Clusterer : ULONG { PC_NOVELTY_DETECTOR = 2, PC_CLUSTERER = 8 }; Values Name Description PC_NOVELTY_DETECTOR Novelty detector PC_CLUSTERER Clusterer 6.2.1.4.56 ETc Vn Rectangle Intersection Offers rectangle intersection types. Syntax Definition: enum ETc Vn Rectangle Intersection : LONG { RI_NONE = 0, RI_PARTIAL = 1, RI_FULL = 2 }; Values Name Description RI_NONE No intersection RI_PARTIAL Partial intersection RI_FULL Full intersection 6.2.1.4.57 ETc Vn Rotation Angle Offers rotation angles. Syntax Definition: enum ETc Vn Rotation Angle : LONG { RA_90_DEG = 0, RA_180_DEG = 1, RA_270_DEG = 2 }; Values Name Description RA_90_DEG 90 degrees RA_180_DEG 180 degrees RA_270_DEG 270 degrees 1702 Version: 2.4.0 TF7000 - TF7810
## Page 1703

API reference 6.2.1.4.58 ETc Vn RTrees Offers RTrees model types. Syntax Definition: enum ETc Vn RTrees : ULONG { RT_CLASSIFIER = 1, RT_REGRESSOR = 4 }; Values Name Description RT_CLASSIFIER Classifier RT_REGRESSOR Regressor 6.2.1.4.59 ETc Vn Signed Normalization Offers options for normalizing images with signed data types. Syntax Definition: enum ETc Vn Signed Normalization : SHORT { SN_FIX_ZERO = 0, SN_FULL_SCALE = 1 }; Values Name Description SN_FIX_ZERO The value 0 is fixed, i.e. the normalized image might only reach either the minimum or maximum value. SN_FULL_SCALE The image is normalized to the full value range, i.e. a prior value of 0 might be != 0 after normalization. 6.2.1.4.60 ETc Vn Solve Pn PMethod Offers Solve Pn P methods. Syntax Definition: enum ETc Vn Solve Pn PMethod : LONG { SPM_ITERATIVE = 0, SPM_EPNP = 1, SPM_P3P = 2, SPM_AP3P = 5, SPM_IPPE = 6, SPM_IPPE_SQUARE = 7, SPM_SQPNP = 8 }; TF7000 - TF7810 Version: 2.4.0 1703
## Page 1704

API reference Values Name Description SPM_ITERATIVE Levenberg-Marquardt optimization. Requires at least 4 planar or 6 non-planar reference points. SPM_EPNP Efficient perspective-n-point camera pose estimation. Requires at least 4 reference points. SPM_P3P Complete solution classification for the perspective- three-point problem. Requires exactly 4 reference points to find a unique solution. SPM_AP3P An efficient algebraic solution to the perspective- three-point problem. Requires exactly 4 reference points to find a unique solution. SPM_IPPE Infinitesimal plane-based pose estimation. Requires at least 4 coplanar reference points. SPM_IPPE_SQUARE IPPE specialization for squares. Requires exactly 4 reference points in the following order (hsl: half square length): (-hsl, hsl, 0), (hsl, hsl, 0), (hsl, -hsl, 0), (-hsl, -hsl, 0) SPM_SQPNP A consistently fast and globally optimal solution to the perspective-n-point problem. Requires at least 4 reference points. 6.2.1.4.61 ETc Vn Sta Offers Simplified Topo ART model types. Syntax Definition: enum ETc Vn Sta : ULONG { STA_CLASSIFIER = 1, STA_NOVELTY_DETECTOR = 2, STA_REGRESSOR = 4, STA_CLUSTERER = 8 }; Values Name Description STA_CLASSIFIER Classifier STA_NOVELTY_DETECTOR Novelty detector STA_REGRESSOR Regressor STA_CLUSTERER Clusterer 6.2.1.4.62 ETc Vn Structuring Element Shape Offers shapes for a structuring element. Syntax Definition: enum ETc Vn Structuring Element Shape : LONG { SES_RECTANGLE = 0, SES_CROSS = 1, SES_ELLIPSE = 2 }; 1704 Version: 2.4.0 TF7000 - TF7810
## Page 1705

API reference Values Name Description SES_RECTANGLE Rectangle SES_CROSS Cross SES_ELLIPSE Ellipse 6.2.1.4.63 ETc Vn Svm Offers SVM model types. Syntax Definition: enum ETc Vn Svm : ULONG { SVM_C_CLASSIFIER = 1, SVM_NU_CLASSIFIER = 65537, SVM_NOVELTY_DETECTOR = 2, SVM_EPS_REGRESSOR = 4, SVM_NU_REGRESSOR = 65540 }; Values Name Description SVM_C_CLASSIFIER Classifier SVM_NU_CLASSIFIER Classifier SVM_NOVELTY_DETECTOR Novelty detector SVM_EPS_REGRESSOR Regressor SVM_NU_REGRESSOR Regressor 6.2.1.4.64 ETc Vn Svm Kernel Type Offers SVM kernel types. Syntax Definition: enum ETc Vn Svm Kernel Type : LONG { SKT_LINEAR = 0, SKT_POLY = 1, SKT_RBF = 2, SKT_SIGMOID = 3, SKT_CHI2 = 4, SKT_INTER = 5 }; Values Name Description SKT_LINEAR Linear kernel (fast) SKT_POLY Polynomial kernel SKT_RBF Radial basis function (RBF) kernel (good default) SKT_SIGMOID Sigmoid kernel SKT_CHI2 Chi-squared kernel SKT_INTER Histogram intersection kernel TF7000 - TF7810 Version: 2.4.0 1705
## Page 1706

API reference 6.2.1.4.65 ETc Vn Svm Sgd Classifier Margin Type Offers different margin types for SVMSGD classifiers. Syntax Definition: enum ETc Vn Svm Sgd Classifier Margin Type : LONG { SSCMT_SOFT_MARGIN = 0, SSCMT_HARD_MARGIN = 1 }; Values Name Description SSCMT_SOFT_MARGIN Soft margin allowing outliers. (beneficial for classes that cannot be separated linearly) SSCMT_HARD_MARGIN Hard margin. (best-suited for linearly separable classes) 6.2.1.4.66 ETc Vn Svm Sgd Classifier Type Offers different types of SVMSGD classifiers. Syntax Definition: enum ETc Vn Svm Sgd Classifier Type : LONG { SSCT_SGD = 0, SSCT_ASGD = 1 }; Values Name Description SSCT_SGD Stochastic Gradient Descent SSCT_ASGD Average Stochastic Gradient Descent 6.2.1.4.67 ETc Vn Template Match Method Offers methods for template matching. Syntax Definition: enum ETc Vn Template Match Method : LONG { TMM_SQDIFF = 0, TMM_SQDIFF_NORMED = 1, TMM_CCORR = 2, TMM_CCORR_NORMED = 3, TMM_CCOEFF = 4, TMM_CCOEFF_NORMED = 5 }; 1706 Version: 2.4.0 TF7000 - TF7810
## Page 1707

API reference Values Name Description TMM_SQDIFF Squared difference (supports template mask) TMM_SQDIFF_NORMED Normalized squared difference TMM_CCORR Cross-correlation TMM_CCORR_NORMED Normalized cross-correlation (supports template mask) TMM_CCOEFF Correlation coefficient TMM_CCOEFF_NORMED Normalized correlation coefficient 6.2.1.4.68 ETc Vn Threshold Type Offers threshold types. Syntax Definition: enum ETc Vn Threshold Type : LONG { TT_BINARY = 0, TT_BINARY_INV = 1, TT_TRUNC = 2, TT_TOZERO = 3, TT_TOZERO_INV = 4, TT_OTSU_BINARY = 8, TT_OTSU_BINARY_INV = 9, TT_OTSU_TRUNC = 10, TT_OTSU_TOZERO = 11, TT_OTSU_TOZERO_INV = 12, TT_TRIANGLE_BINARY = 16, TT_TRIANGLE_BINARY_INV = 17, TT_TRIANGLE_TRUNC = 18, TT_TRIANGLE_TOZERO = 19, TT_TRIANGLE_TOZERO_INV = 20 }; TF7000 - TF7810 Version: 2.4.0 1707
## Page 1708

API reference Values Name Description TT_BINARY Binary threshold TT_BINARY_INV Inverted binary threshold TT_TRUNC Truncated threshold (pixels > thresh are set to thresh, others keep their value) TT_TOZERO To zero threshold (pixels < thresh are set to zero, others keep their value) TT_TOZERO_INV Inverted to zero threshold (pixels > thresh are set to zero, others keep their value) TT_OTSU_BINARY Binary threshold with the threshold value selected according to the Otsu algorithm TT_OTSU_BINARY_INV Inverted binary threshold with the threshold value selected according to the Otsu algorithm TT_OTSU_TRUNC Truncated threshold with the threshold value selected according to the Otsu algorithm TT_OTSU_TOZERO To zero threshold with the threshold value selected according to the Otsu algorithm TT_OTSU_TOZERO_INV Inverted to zero threshold with the threshold value selected according to the Otsu algorithm TT_TRIANGLE_BINARY Binary threshold with the threshold value selected according to the Triangle algorithm TT_TRIANGLE_BINARY_INV Inverted binary threshold with the threshold value selected according to the Triangle algorithm TT_TRIANGLE_TRUNC Truncated threshold with the threshold value selected according to the Triangle algorithm TT_TRIANGLE_TOZERO To zero threshold with the threshold value selected according to the Triangle algorithm TT_TRIANGLE_TOZERO_INV Inverted to zero threshold with the threshold value selected according to the Triangle algorithm 6.2.1.4.69 ETc Vn Timestamp Offers image acquisition timestamps. Syntax Definition: enum ETc Vn Timestamp : ULONGLONG { TS_IMAGE_COMPLETED = 1 }; Values Name Description TS_IMAGE_COMPLETED Timestamp when the image was completed, i.e. all packets were received by the Gig EVision driver. 6.2.1.4.70 ETc Vn Vector Compare Method Offers methods for vector comparison. Syntax Definition: 1708 Version: 2.4.0 TF7000 - TF7810
## Page 1709

API reference enum ETc Vn Vector Compare Method : LONG { VCM_EUCLIDEAN = 0, VCM_ELEMENTWISE = 1 }; Values Name Description VCM_EUCLIDEAN Euclidean VCM_ELEMENTWISE Elementwise 6.2.1.4.71 ETc Vn World Coordinate System Offers world coordinate system orientations. Syntax Definition: enum ETc Vn World Coordinate System : LONG { WCS_X_RIGHT_Y_DOWN = 0, WCS_X_DOWN_Y_RIGHT = 1, WCS_X_LEFT_Y_DOWN = 2, WCS_X_UP_Y_RIGHT = 3, WCS_X_RIGHT_Y_UP = 4, WCS_X_DOWN_Y_LEFT = 5, WCS_X_LEFT_Y_UP = 6, WCS_X_UP_Y_LEFT = 7 }; Values Name Description WCS_X_RIGHT_Y_DOWN X axis points right, Y axis down (same orientation as image coordinate system) WCS_X_DOWN_Y_RIGHT X axis points down, Y axis right WCS_X_LEFT_Y_DOWN X axis points left, Y axis down WCS_X_UP_Y_RIGHT X axis points up, Y axis right WCS_X_RIGHT_Y_UP X axis points right, Y axis up WCS_X_DOWN_Y_LEFT X axis points down, Y axis left WCS_X_LEFT_Y_UP X axis points left, Y axis up WCS_X_UP_Y_LEFT X axis points up, Y axis left 6.2.1.4.72 ETc Watchdog Accumulation Type Offers watchdog accumulation types to compute the fraction processed. Syntax Definition: enum ETc Watchdog Accumulation Type : USHORT { WD_ACC_TYPE_MEAN = 1, WD_ACC_TYPE_PRODUCT = 2 }; TF7000 - TF7810 Version: 2.4.0 1709
## Page 1710

API reference Values Name Description WD_ACC_TYPE_MEAN Calculates the mean of the individual fractions processed over all monitored functions (recommended for independent functions). WD_ACC_TYPE_PRODUCT Calculates the product of the individual fractions processed over all monitored functions (recommended for dependent functions). 6.2.1.4.73 GEV_CAMERA_STATE Describes the Gig EVision camera connection state. Syntax Definition: enum GEV_CAMERA_STATE : BYTE { GEV_CAMERA_IDLE = 0, GEV_CONTROL_CHANNEL_OPEN_MASK = 1, GEV_STREAM_CHANNELS_OPEN_MASK = 2, GEV_CONTROL_CHANNEL_OPEN = 1, GEV_STREAM_CHANNELS_OPEN = 3 }; Values Name Description GEV_CAMERA_IDLE Camera is idle (no control or stream channel open). GEV_CONTROL_CHANNEL_OPEN_MASK The control channel is open. GEV_STREAM_CHANNELS_OPEN_MASK At least 1 stream channel is open. GEV_CONTROL_CHANNEL_OPEN The control channel is open, but no stream channel. GEV_STREAM_CHANNELS_OPEN At least 1 stream channel and the control channel are open. 6.2.1.4.74 ETc Vn Data Layout Offers image data layouts. Syntax Definition: enum ETc Vn Data Layout : ULONGLONG { DL_DEFAULT = 0x0, DL_2D_HW = 0x12, DL_2D_WH = 0x21, DL_3D_CHW = 0x123, DL_3D_HWC = 0x231, DL_4D_NCHW = 0x1234, DL_4D_NHWC = 0x1342 }; 1710 Version: 2.4.0 TF7000 - TF7810
## Page 1711

API reference Values Name Description DL_DEFAULT Default DL_2D_HW 2D data HW, multi/single channel image DL_2D_WH 2D data WH, multi/single channel image DL_3D_CHW 3D data CHW, single channel image DL_3D_HWC 3D data HWC, single channel image DL_4D_NCHW 4D data NCHW, single channel image DL_4D_NHWC 4D data NHWC, single channel image 6.2.1.4.75 ETc Vn Reduce Type Offers reduction types. Syntax Definition: enum ETc Vn Reduce Type : LONG { RT_REDUCE_SUM = 0, RT_REDUCE_AVG = 1, RT_REDUCE_MAX = 2, RT_REDUCE_MIN = 3 }; Values Name Description RT_REDUCE_SUM The sum (column/row-wise) of all rows/columns RT_REDUCE_AVG The mean (column/row-wise) of all rows/columns RT_REDUCE_MAX The maximum (column/row-wise) of all rows/columns RT_REDUCE_MIN The minimum (column/row-wise) of all rows/columns 6.2.1.4.76 ETc Vn Data Matrix Options Offers Data Matrix code detection options. Syntax Definition: enum ETc Vn Data Matrix Options : ULONGLONG { DMO_DEFAULT = 0, DMO_BINARY_INPUT = 1, DMO_GLOBAL_THRESHOLD = 2, DMO_BINARY_GRID = 4, DMO_STATIC_GRID = 8, DMO_REGULAR_COLOR = 16, DMO_INVERTED_COLOR = 32 }; TF7000 - TF7810 Version: 2.4.0 1711
## Page 1712

API reference Values Name Description DMO_DEFAULT Expects a graylevel image as input. Applies an adaptive local threshold and creates a dynamic grid based on the clock pattern. DMO_BINARY_INPUT Expects a binary image as input (all pixels must contain 0 or 255, disables internal preprocessing) DMO_GLOBAL_THRESHOLD Applies a global instead of an adaptive local threshold (requires uniform illumination) DMO_BINARY_GRID Create the dynamic grid based on the binary instead of the graylevel image DMO_STATIC_GRID Use an equally spaced static grid instead of a dynamic one DMO_REGULAR_COLOR Only search for regular color (dark code on light background) DMO_INVERTED_COLOR Only search for inverted color (light code on dark background) 6.2.1.4.77 ETc Vn Layer Name Type Offer different types of neural network model layer names Syntax Definition: enum ETc Vn Layer Name Type : LONG { LNT_ALL = 0, LNT_OUTPUTS = 1, LNT_INPUTS = 2 }; Values Name Description LNT_ALL Return the name of all layers LNT_OUTPUTS Return the names of unconnected output layers LNT_INPUTS Return the names of model inputs 6.2.1.4.78 ETc Vn Circularity Calculation Method Offers methods to calculate contour circularity Syntax Definition: enum ETc Vn Circularity Calculation Method : LONG { CCM_DEFAULT = 0, CCM_CONVEXHULL_PERIMETER = 1, CCM_MAX_RADIUS = 2, CCM_ENCLOSINGCIRCLE_RADIUS = 3 }; 1712 Version: 2.4.0 TF7000 - TF7810
## Page 1713

API reference Values Name Description CCM_DEFAULT 4pi * area / perimeter^2 CCM_CONVEXHULL_PERIMETER 4pi * area / (convex hull perimeter)^2 CCM_MAX_RADIUS area / (pi * r^2), r = max distance to the contour's center of mass CCM_ENCLOSINGCIRCLE_RADIUS area / (pi * r^2), r = radius of the minimum enclosing circle 6.2.1.4.79 ETc Vn Data Matrix Options Offers Data Matrix code detection options. Syntax Definition: enum ETc Vn Data Matrix Options : ULONGLONG { DMO_DEFAULT = 0, DMO_BINARY_INPUT = 1, DMO_GLOBAL_THRESHOLD = 2, DMO_BINARY_GRID = 4, DMO_STATIC_GRID = 8, DMO_REGULAR_COLOR = 16, DMO_INVERTED_COLOR = 32 }; Values Name Description DMO_DEFAULT Expects a graylevel image as input. Applies an adaptive local threshold and creates a dynamic grid based on the clock pattern. DMO_BINARY_INPUT Expects a binary image as input (all pixels must contain 0 or 255, disables internal preprocessing) DMO_GLOBAL_THRESHOLD Applies a global instead of an adaptive local threshold (requires uniform illumination) DMO_BINARY_GRID Create the dynamic grid based on the binary instead of the graylevel image DMO_STATIC_GRID Use an equally spaced static grid instead of a dynamic one DMO_REGULAR_COLOR Only search for regular color (dark code on light background) DMO_INVERTED_COLOR Only search for inverted color (light code on dark background) 6.2.1.4.80 ETc Vn Layer Name Type Offer different types of neural network model layer names Syntax Definition: enum ETc Vn Layer Name Type : LONG { LNT_ALL = 0, LNT_OUTPUTS = 1, LNT_INPUTS = 2 }; TF7000 - TF7810 Version: 2.4.0 1713
## Page 1714

API reference Values Name Description LNT_ALL Return the name of all layers LNT_OUTPUTS Return the names of unconnected output layers LNT_INPUTS Return the names of model inputs 6.2.1.5 Structs 6.2.1.5.1 GVSP_IMAGE_INFO Shows GVSP (Gig E Vision Streaming Protocol) meta information. Syntax Definition: struct GVSP_IMAGE_INFO { ULONG Camera Ip Address; ULONG Local Ip Address; USHORT Camera Udp Port; USHORT Local Udp Port; USHORT Gvsp Channel Id; USHORT Gev Status; ULONGLONG Block Id; GVSP_LEADER_PAYLOAD_IMAGE Leader Info; }; Parameters Name Type Description Camera Ip Address ULONG Camera IP address Local Ip Address ULONG Local IP address Camera Udp Port USHORT Camera UDP port Local Udp Port USHORT Local UDP port Gvsp Channel Id USHORT ID of GVSP channel Gev Status USHORT Gig E Vision status code Block Id ULONGLONG Block Id (incremented for each acquired image, but reset to 0 on overflow) Leader Info GVSP_LEADER_PAYLOAD_IMAGE Contains information about timestamp, pixel format and size. [} 1714] 6.2.1.5.2 GVSP_LEADER_PAYLOAD_IMAGE Shows information over the GVSP (Gig E Vision Streaming Protocol) leader payload image. Syntax Definition: struct GVSP_LEADER_PAYLOAD_IMAGE { ULONGLONG Timestamp; GVSP_PIXEL_FORMAT Pixel Format; ULONG Size X; ULONG Size Y; ULONG Offset X; ULONG Offset Y; USHORT Padding X; USHORT Padding Y; }; 1714 Version: 2.4.0 TF7000 - TF7810
## Page 1715

API reference Parameters Name Type Description Timestamp ULONGLONG Image timestamp Pixel Format GVSP_PIXEL_FORMAT [} 1715] Image pixel format Size X ULONG Image size in x direction Size Y ULONG Image size in y direction Offset X ULONG Image x-offset from (0,0) origin Offset Y ULONG Image y-offset from (0,0) origin Padding X USHORT Image padding in x direction Padding Y USHORT Image padding in y direction 6.2.1.5.3 GVSP_PIXEL_FORMAT Shows the GVSP (Gig E Vision Streaming Protocol) pixel format. Syntax Definition: struct GVSP_PIXEL_FORMAT { BYTE Color; BYTE Effective Pixel Size; USHORT Id; }; Parameters Name Type Description Color BYTE Indicates if the pixel format is mono or color. Effective Pixel Size BYTE Effective pixel size in bit Id USHORT GVSP pixel format ID 6.2.1.5.4 Tc Vn Camera Calibration Options Offers camera calibration options. Syntax Definition: struct Tc Vn Camera Calibration Options { UCHAR b Use Intrinsic Guess : 1; UCHAR b Fix Aspect Ratio : 1; UCHAR b Fix Principal Point : 1; UCHAR b Zero Tangent Dist : 1; UCHAR b Fix Focal Length : 1; UCHAR b Fix K1 : 1; UCHAR b Fix K2 : 1; UCHAR b Fix K3 : 1; UCHAR b Fix K4 : 1; UCHAR b Fix K5 : 1; UCHAR b Fix K6 : 1; UCHAR b Rational Model : 1; }; TF7000 - TF7810 Version: 2.4.0 1715
## Page 1716

API reference Parameters Name Type Description b Use Intrinsic Guess UCHAR : 1 The camera matrix and distortion coefficients already contain a valid initial guess, which is optimized further. b Fix Aspect Ratio UCHAR : 1 The ratio fx/fy stays the same as in the input camera matrix. b Fix Principal Point UCHAR : 1 The principal point is fixed to the image center (or provided cx,cy if b Use Intrinsic Guess). b Zero Tangent Dist UCHAR : 1 The tangential distortion coefficients (p1, p2) are forced to 0. b Fix Focal Length UCHAR : 1 The parameters fx and fy stay the same as in the input camera matrix. b Fix K1 UCHAR : 1 The radial distortion coefficient k1 is fixed to 0 (or provided input if b Use Intrinsic Guess) b Fix K2 UCHAR : 1 The radial distortion coefficient k2 is fixed to 0 (or provided input if b Use Intrinsic Guess) b Fix K3 UCHAR : 1 The radial distortion coefficient k3 is fixed to 0 (or provided input if b Use Intrinsic Guess) b Fix K4 UCHAR : 1 The radial distortion coefficient k4 is fixed to 0 (or provided input if b Use Intrinsic Guess) b Fix K5 UCHAR : 1 The radial distortion coefficient k5 is fixed to 0 (or provided input if b Use Intrinsic Guess) b Fix K6 UCHAR : 1 The radial distortion coefficient k6 is fixed to 0 (or provided input if b Use Intrinsic Guess) b Rational Model UCHAR : 1 The radial distortion coefficients k4, k5, k6 are enabled. 6.2.1.5.5 Tc Vn Circular Arc Describes a circular arc. Syntax Definition: struct Tc Vn Circular Arc { Tc Vn Point2_REAL a Center; float f Radius; float f Start Angle; float f End Angle; }; 1716 Version: 2.4.0 TF7000 - TF7810
## Page 1717

API reference Parameters Name Type Description a Center Tc Vn Point2_REAL [} 1661] Center of the circular arc f Radius float Radius of the circular arc f Start Angle float Start angle of the circular arc f End Angle float End angle of the circular arc 6.2.1.5.6 Tc Vn Code Grades1D Describes code quality grades for 1D barcodes according to ISO / IEC 15416:2016. The grades range from 0 (very bad) to 4 (very good) and are averaged over several scan lines. Syntax Definition: struct Tc Vn Code Grades1D { float f Decode; float f Symbol Contrast; float f Min Reflectance; float f Min Edge Contrast; float f Modulation; float f Defects; float f Decodability; float f Overall; }; Parameters Name Type Description f Decode float Decode grade f Symbol Contrast float Symbol contrast grade f Min Reflectance float Minimum reflectance grade f Min Edge Contrast float Minimum edge contrast grade f Modulation float Modulation grade f Defects float Defects grade f Decodability float Decodability grade f Overall float Overall code grade, i.e. the minimum achieved individual grade averaged over all scan lines. If different scan lines lead to different decoded data, the overall grade is 0. 6.2.1.5.7 Tc Vn Code Grades DM Describes code quality grades for Data Matrix codes according to ISO / IEC 15415:2011. The grades range from 0 (very bad) to 4 (very good). Syntax Definition: struct Tc Vn Code Grades DM { unsigned char n Decode; unsigned char n Symbol Contrast; unsigned char n Modulation; unsigned char n Reflectance Margin; unsigned char n Fixed Pattern Damage; unsigned char n Axial Nonuniformity; TF7000 - TF7810 Version: 2.4.0 1717
## Page 1718

API reference unsigned char n Grid Nonuniformity; unsigned char n Unused Error Correction; unsigned char n Overall; }; Parameters Name Type Description n Decode unsigned char Decode grade n Symbol Contrast unsigned char Symbol contrast grade n Modulation unsigned char Modulation grade n Reflectance Margin unsigned char Reflectance margin grade n Fixed Pattern Damage unsigned char Fixed pattern damage grade n Axial Nonuniformity unsigned char Axial nonuniformity grade n Grid Nonuniformity unsigned char Grid nonuniformity grade n Unused Error Correction unsigned char Unused error correction grade n Overall unsigned char Overall code grade, i.e. the minimum achieved individual grade 6.2.1.5.8 Tc Vn Code Grades QR Describes code quality grades for QR codes according to ISO / IEC 15415:2011. The grades range from 0 (very bad) to 4 (very good). Syntax Definition: struct Tc Vn Code Grades QR { unsigned char n Decode; unsigned char n Symbol Contrast; unsigned char n Modulation; unsigned char n Reflectance Margin; unsigned char n Fixed Pattern Damage; unsigned char n Axial Nonuniformity; unsigned char n Grid Nonuniformity; unsigned char n Unused Error Correction; unsigned char n Format Info; unsigned char n Version Info; unsigned char n Overall; }; Parameters Name Type Description n Decode unsigned char Decode grade n Symbol Contrast unsigned char Symbol contrast grade n Modulation unsigned char Modulation grade n Reflectance Margin unsigned char Reflectance margin grade n Fixed Pattern Damage unsigned char Fixed pattern damage grade n Axial Nonuniformity unsigned char Axial nonuniformity grade n Grid Nonuniformity unsigned char Grid nonuniformity grade n Unused Error Correction unsigned char Unused error correction grade n Format Info unsigned char Format information grade n Version Info unsigned char Version information grade n Overall unsigned char Overall code grade, i.e. the minimum achieved individual grade 1718 Version: 2.4.0 TF7000 - TF7810
## Page 1719

API reference 6.2.1.5.9 Tc Vn DMatch Describes a descriptor match Syntax Definition: struct Tc Vn DMatch { LONG n Query Idx; LONG n Train Idx; LONG n Image Idx; float f Distance; }; Parameters Name Type Description n Query Idx LONG Query descriptor index n Train Idx LONG Train descriptor index n Image Idx LONG Train image index f Distance float Distance between the descriptors (smaller distance means better match) 6.2.1.5.10 Tc Vn Image Info Shows image information. Syntax Definition: struct Tc Vn Image Info { ULONGLONG n Image Size; ULONG n Width; ULONG n Height; USHORT n XPadding; USHORT n YPadding; Tc Vn Pixel Format st Pixel Format; }; Parameters Name Type Description n Image Size ULONGLONG Image size (number of pixels) n Width ULONG Image width n Height ULONG Image height n XPadding USHORT Image x-padding n YPadding USHORT Image y-padding st Pixel Format Tc Vn Pixel Format [} 1731] Pixel format 6.2.1.5.11 Tc Vn Key Point Describes a key point. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 1719
## Page 1720

API reference struct Tc Vn Key Point { Tc Vn Point2_REAL a Point; float f Diameter; float f Angle; float f Response; LONG n Octave; LONG n Class Id; }; Parameters Name Type Description a Point Tc Vn Point2_REAL [} 1661] Position f Diameter float Diameter f Angle float Angle f Response float Response n Octave LONG Octave n Class Id LONG Class ID 6.2.1.5.12 Tc Vn Matrix Offers a user-defined matrix with variable rows, columns and element-type. Syntax Definition: struct Tc Vn Matrix { ULONG n Rows; ULONG n Cols; ETc Vn Element Type e Type; PVOID p Data; }; Parameters Name Type Description n Rows ULONG Number of rows n Cols ULONG Number of columns e Type ETc Vn Element Type [} 1689] Element type p Data PVOID Pointer to the data 6.2.1.5.13 Tc Vn Moments Offers image or contour moments. Syntax Definition: struct Tc Vn Moments { double f M00; double f M10; double f M01; double f M20; double f M11; double f M02; double f M30; double f M21; double f M12; double f M03; double f Mu20; double f Mu11; 1720 Version: 2.4.0 TF7000 - TF7810
## Page 1721

API reference double f Mu02; double f Mu30; double f Mu21; double f Mu12; double f Mu03; double f Nu20; double f Nu11; double f Nu02; double f Nu30; double f Nu21; double f Nu12; double f Nu03; }; Parameters Name Type Description f M00 double Spatial moment 00 f M10 double Spatial moment 10 f M01 double Spatial moment 01 f M20 double Spatial moment 20 f M11 double Spatial moment 11 f M02 double Spatial moment 02 f M30 double Spatial moment 30 f M21 double Spatial moment 21 f M12 double Spatial moment 12 f M03 double Spatial moment 03 f Mu20 double Central moment 20 f Mu11 double Central moment 11 f Mu02 double Central moment 02 f Mu30 double Central moment 30 f Mu21 double Central moment 21 f Mu12 double Central moment 12 f Mu03 double Central moment 03 f Nu20 double Normalized central moment 20 f Nu11 double Normalized central moment 11 f Nu02 double Normalized central moment 02 f Nu30 double Normalized central moment 30 f Nu21 double Normalized central moment 21 f Nu12 double Normalized central moment 12 f Nu03 double Normalized central moment 03 6.2.1.5.14 Tc Vn Params AGAST Offers parameters for AGAST method. Syntax Definition: struct Tc Vn Params AGAST { LONG n Threshold; bool b Non Max Suppression; ETc Vn Keypoint Detection Type AGAST e Type; }; TF7000 - TF7810 Version: 2.4.0 1721
## Page 1722

API reference Parameters Name Type Default Description n Threshold LONG 10 Threshold for the intensity difference between the center pixel and its surrounding circle b Non Max Suppression bool true If true, non-maximum suppression is applied. e Type KDT_AGAST_9_16 Neighborhood type ETc Vn Keypoint Detection T ype AGAST [} 1695] 6.2.1.5.15 Tc Vn Params AKAZE Offers parameters for AKAZE method. Syntax Definition: struct Tc Vn Params AKAZE { ETc Vn Feature Descriptor Type AKAZE e Descr Type; ULONG n Descr Size; ULONG n Descr Channels; float f Threshold; ULONG n Octaves; ULONG n Octave Layers; ETc Vn Diffusivity Type KAZE e Diffusivity; }; Parameters Name Type Default Description e Descr Type FDT_AKAZE_MLDB Type of the descriptor ETc Vn Feature Descriptor Ty pe AKAZE [} 1691] n Descr Size ULONG 0 Size of the descriptor in bits (only for MLDB; 0 = full size) n Descr Channels ULONG 3 Number of descriptor channels (currently only 3 supported for MLDB) f Threshold float 0.001f Detector response threshold n Octaves ULONG 2 Maximum octave evolution n Octave Layers ULONG 1 Number of sublevels per scale level e Diffusivity ETc Vn Diffusivity Type KAZE DT1_KAZE_PM_G2 Diffusivity type [} 1685] 6.2.1.5.16 Tc Vn Params Blob Detection Offers parameters for blob detection Syntax Definition: 1722 Version: 2.4.0 TF7000 - TF7810
## Page 1723

API reference struct Tc Vn Params Blob Detection { bool b Filter By Area; bool b Filter By Circularity; bool b Filter By Convexity; bool b Filter By Eccentricity; bool b Filter By Inertia Ratio; float f Min Area; float f Max Area; float f Min Circularity; float f Max Circularity; float f Min Convexity; float f Max Convexity; float f Min Eccentricity; float f Max Eccentricity; float f Min Inertia Ratio; float f Max Inertia Ratio; ETc Vn Threshold Type e Threshold Type; float f Min Threshold; float f Max Threshold; float f Threshold Step; float f Min Blob Distance; ULONG n Min Repeatability; ETc Vn Blob Combination e Blob Combination; bool b Exclude Border Blobs; }; TF7000 - TF7810 Version: 2.4.0 1723
## Page 1724

API reference Parameters 1724 Version: 2.4.0 TF7000 - TF7810
## Page 1725

API reference Name Type Default Description b Filter By Area bool true Enable filtering by area (f Min Area <= area <= f Max Area); strongly recommended to activate for filtering noise with f Min Area. b Filter By Circularity bool false Enable filtering by circularity (f Min Circularity <= circularity(4pi * area / perimeter^2) <= f Max Circularity). b Filter By Convexity bool false Enable filtering by convexity (f Min Convexity <= convexity(area / hull Area) <= f Max Convexity). b Filter By Eccentricity bool false Enable filtering by eccentricity (f Min Eccentricity <= eccentricity <= f Max Eccentricity). b Filter By Inertia Ratio bool false Enable filtering by inertia ratio (f Min Inertia Ratio <= inertia ratio <= f Max Inertia Ratio). f Min Area float 10 Min estimated blob area in pixel f Max Area float 100000000 Max estimated blob area in pixel f Min Circularity float 0 Min circularity (1.0: ideal circle, < 1: less circular, 0: not circular at all) f Max Circularity float 1 Max circularity (1.0: ideal circle, < 1: less circular, 0: not circular at all) f Min Convexity float 0 Min convexity (1.0: blob fully convex, < 1: less convex) f Max Convexity float 1 Max convexity (1.0: blob fully convex, < 1: less convex) f Min Eccentricity float 0 Min eccentricity (0.0: circular, 1.0: linear) f Max Eccentricity float 1 Max eccentricity (0.0: circular, 1.0: linear) f Min Inertia Ratio float 0 Min inertia ratio (1.0: equal width and height, 0.0: linear) f Max Inertia Ratio float 1 Max inertia ratio (1.0: equal width and height, 0.0: linear) e Threshold Type ETc Vn Threshold Type TT_BINARY Threshold type for internally applied [} 1707] threshold method (OTSU_XXX only supported for USINT images). TF7000 - TF7810 Version: 2.4.0 1725
## Page 1726

API reference Name Type Default Description f Min Threshold float 30 Threshold to start with (if f Threshold Step > 0, otherwise this is the only threshold used). f Max Threshold float 225 Threshold to end with (if f Threshold Step > 0, otherwise this value is not used). f Threshold Step float 0 Sets to 0 if only 1 threshold should be used (much faster than multiple thresholds and combining the results). f Min Blob Distance float 5 Minimum distance between the center points of two different blobs (only used if f Threshold Step > 0; if distance < f Min Blob Distance, the blobs are treated as the same). n Min Repeatability ULONG 2 Minimum number of threshold steps, for which the same contour has to be detected (only used if f Threshold Step > 0; same means center point distance < f Min Blob Distance). e Blob Combination ETc Vn Blob Combination BC_MEDIAN_THRESHO Selects, which of the LD multi-threshold blob [} 1665] contours should be returned. b Exclude Border Blobs bool false If true, blobs touching the image border are excluded from the results. 6.2.1.5.17 Tc Vn Params BRISK Offers parameters for BRISK method. Syntax Definition: struct Tc Vn Params BRISK { LONG n Threshold; ULONG n Octaves; float f Pattern Scale; }; Parameters Name Type Default Description n Threshold LONG 30 Detection threshold n Octaves ULONG 3 Detection octaves (0 for single scale) f Pattern Scale float 1 Scale factor for the neighborhood pattern 1726 Version: 2.4.0 TF7000 - TF7810
## Page 1727

API reference 6.2.1.5.18 Tc Vn Params FAST Offers parameters for FAST method. Syntax Definition: struct Tc Vn Params FAST { LONG n Threshold; bool b Non Max Suppression; ETc Vn Keypoint Detection Type FAST e Type; }; Parameters Name Type Default Description n Threshold LONG 10 Threshold for the intensity difference between the center pixel and its surrounding circle b Non Max Suppression bool true If true, non-maximum suppression is applied. e Type KDT_FAST_9_16 Neighborhood type ETc Vn Keypoint Detection T ype FAST [} 1695] 6.2.1.5.19 Tc Vn Params GFTT Offers parameters for GFTT method. Syntax Definition: struct Tc Vn Params GFTT { ULONG n Max Corners; double f Quality Level; double f Min Distance; ULONG n Block Size; bool b Use Harris Detector; double f Harris K; }; TF7000 - TF7810 Version: 2.4.0 1727
## Page 1728

API reference Parameters Name Type Default Description n Max Corners ULONG 1000 Maximum number of corners to return (strongest ones) f Quality Level double 0.01 Minimum accepted corner quality, relative to the strongest one f Min Distance double 1 Minimum euclidean distance between returned keypoints n Block Size ULONG 3 Neighborhood block size b Use Harris Detector bool false If true, a Harris detector is used instead of the default method. f Harris K double 0.04 Free parameter of the Harris detector 6.2.1.5.20 Tc Vn Params KAZE Offers parameters for KAZE method Syntax Definition: struct Tc Vn Params KAZE { bool b Extended; bool b Upright; float f Threshold; ULONG n Octaves; ULONG n Octave Layers; ETc Vn Diffusivity Type KAZE e Diffusivity; }; Parameters Name Type Default Description b Extended bool false If true, the descriptor size is extended from the default 64 byte to 128 byte. b Upright bool false If true, upright (rotation dependent) descriptors are computed. f Threshold float 0.001f Detector response threshold n Octaves ULONG 4 Maximum octave evolution of the image n Octave Layers ULONG 2 Number of sublevels per scale level e Diffusivity ETc Vn Diffusivity Type KAZE DT1_KAZE_PM_G2 Diffusivity type [} 1685] 6.2.1.5.21 Tc Vn Params MSER Offers parameters for MSER method 1728 Version: 2.4.0 TF7000 - TF7810
## Page 1729

API reference Syntax Definition: struct Tc Vn Params MSER { LONG n Delta; ULONG n Min Area; ULONG n Max Area; double f Max Variation; double f Min Diversity; ULONG n Max Evolution; double f Area Threshold; double f Min Margin; ULONG n Edge Blur Size; }; Parameters Name Type Default Description n Delta LONG 5 Delta for size comparison n Min Area ULONG 60 Minimum blob size n Max Area ULONG 14400 Maximum blob size f Max Variation double 0.25 Maximum blob size variation f Min Diversity double 0.2 Minimum MSER diversity n Max Evolution ULONG 200 Maximum evolution steps (only used for color images) f Area Threshold double 1.01 Area threshold to cause re-initialization (only used for color images) f Min Margin double 0.003 Minimum margin (only used for color images) n Edge Blur Size ULONG 5 Aperture size for edge bluring (only used for color images) 6.2.1.5.22 Tc Vn Params ORB Offers parameters for ORB method. Syntax Definition: struct Tc Vn Params ORB { ULONG n Max Points; float f Pyramid Scale; ULONG n Pyramid Levels; ULONG n Edge Threshold; ULONG n First Level; ULONG n Brief Points; ETc Vn Feature Score Type ORB e Score Type; ULONG n Patch Size; LONG n Fast Threshold; }; TF7000 - TF7810 Version: 2.4.0 1729
## Page 1730

API reference Parameters Name Type Default Description n Max Points ULONG 500 Maximum number of returned keypoints f Pyramid Scale float 1.2f Pyramid decimation ratio (must be greater than 1, should be smaller than 2) n Pyramid Levels ULONG 8 Number of pyramid levels n Edge Threshold ULONG 31 Size of the border, where no features are detected (should match n Patch Size) n First Level ULONG 0 First pyramid level (currently, only 0 is supported) n Brief Points ULONG 2 Number of points to produce each BRIEF descriptor element (2, 3, 4) e Score Type FST_ORB_HARRIS Score type (HARRIS is ETc Vn Feature Score Type O more stable but slightly slower than FAST) RB [} 1691] n Patch Size ULONG 31 Patch size of the BRIEF descriptor n Fast Threshold LONG 20 Threshold for the FAST keypoint detection 6.2.1.5.23 Tc Vn Params SB Offers parameters for SB method (a simple blob detector with multiple thresholds). Syntax Definition: struct Tc Vn Params SB { bool b Filter By Area; bool b Filter By Circularity; bool b Filter By Color; bool b Filter By Convexity; bool b Filter By Inertia; float f Min Area; float f Max Area; float f Min Circularity; float f Max Circularity; unsigned char n Blob Color; float f Min Convexity; float f Max Convexity; float f Min Inertia Ratio; float f Max Inertia Ratio; float f Min Blob Dist; ULONG n Min Repeatability; float f Min Threshold; float f Max Threshold; float f Threshold Step; }; 1730 Version: 2.4.0 TF7000 - TF7810
## Page 1731

API reference Parameters Name Type Default Description b Filter By Area bool true Enable filtering by area (f Min Area <= area < f Max Area). b Filter By Circularity bool false Enable filtering by circularity (f Min Circularity <= circularity(4pi * area / perimeter^2) < f Max Circularity). b Filter By Color bool false Enable filtering by color (thresholded Color(0 or 255) = n Blob Color). b Filter By Convexity bool false Enable filtering by convexity (f Min Convexity <= convexity(area / hull Area) < f Max Convexity). b Filter By Inertia bool false Enable filtering by inertia ratio (f Min Inertia Ratio <= inertia ratio < f Max Inertia Ratio). f Min Area float 25 Min estimated blob area in pixel f Max Area float 15000 Max estimated blob area in pixel f Min Circularity float 0 Min circularity (1.0: ideal circle, < 1: less circular, 0: not circular at all) f Max Circularity float 1 Max circularity (1.0: ideal circle, < 1: less circular, 0: not circular at all) n Blob Color unsigned char 255 0 or 255 f Min Convexity float 0 Min convexity (1.0: blob fully convex, < 1: less convex) f Max Convexity float 1 Max convexity (1.0: blob fully convex, < 1: less convex) f Min Inertia Ratio float 0 Min inertia ratio (0.0 .. 1.0) f Max Inertia Ratio float 1 Max inertia ratio (0.0 .. 1.0) f Min Blob Dist float 5 Min distance between different blobs n Min Repeatability ULONG 2 Min number of same detected blobs (dist < f Min Blob Dist) in different thresholds f Min Threshold float 30 Min threshold (start) f Max Threshold float 225 Max threshold (stop) f Threshold Step float 10 Threshold step between min and max threshold 6.2.1.5.24 Tc Vn Pixel Format Contains detailed information about the pixel format. TF7000 - TF7810 Version: 2.4.0 1731
## Page 1732

API reference Syntax Definition: struct Tc Vn Pixel Format { UCHAR b Supported : 1; UCHAR b Signed : 1; UCHAR b Planar : 1; UCHAR b Float : 1; BYTE n Channels; ETc Vn Pixel Encoding e Pixel Encoding; ETc Vn Pixel Pack Mode e Pixel Pack Mode; USHORT n Element Size; USHORT n Total Size; }; Parameters Name Type Description b Supported UCHAR : 1 If false, the pixel format is not supported. b Signed UCHAR : 1 If true, pixel intensities are signed values. b Planar UCHAR : 1 If true, the image channels are stored planar instead of interleaved (e.g. RRRRRGGGGGBBBBB instead of RGBRGBRGBRGBRGB). b Float UCHAR : 1 If true, the pixel format is floating point. n Channels BYTE Number of channels e Pixel Encoding ETc Vn Pixel Encoding [} 1700] Pixel encoding e Pixel Pack Mode ETc Vn Pixel Pack Mode [} 1701] Pixel pack mode n Element Size USHORT Size (bit) of a single pixel channel n Total Size USHORT Size (bit) of all pixel channels 6.2.1.5.25 Tc Vn Rectangle_DINT Contains origin and size of a rectangle. Syntax Definition: struct Tc Vn Rectangle_DINT { LONG n X; LONG n Y; LONG n Width; LONG n Height; }; Parameters Name Type Description n X LONG X coordinate of the top-left corner n Y LONG Y coordinate of the top-left corner n Width LONG Width n Height LONG Height 1732 Version: 2.4.0 TF7000 - TF7810
## Page 1733

API reference 6.2.1.5.26 Tc Vn Rectangle_UDINT Contains origin and size of a rectangle. Syntax Definition: struct Tc Vn Rectangle_UDINT { ULONG n X; ULONG n Y; ULONG n Width; ULONG n Height; }; Parameters Name Type Description n X ULONG X coordinate of the top-left corner n Y ULONG Y coordinate of the top-left corner n Width ULONG Width n Height ULONG Height 6.2.1.5.27 Tc Vn Rotated Rectangle Contains center, size and angle of a rotated rectangle. Syntax Definition: struct Tc Vn Rotated Rectangle { Tc Vn Point2_REAL a Center; Tc Vn Size2_REAL st Size; float f Angle; }; Parameters Name Type Description a Center Tc Vn Point2_REAL [} 1661] Center point st Size Tc Vn Size2_REAL [} 1733] Size composed of f Width and f Height f Angle float Angle in degree 6.2.1.5.28 Tc Vn Size2_REAL Contains width and height. Syntax Definition: struct Tc Vn Size2_REAL { float f Width; float f Height; }; TF7000 - TF7810 Version: 2.4.0 1733
## Page 1734

API reference Parameters Name Type Description f Width float Width f Height float Height 6.2.2 Interfaces Interfaces do not require a license. Grouping of interfaces All interfaces of the Twin CAT Vision library are sorted thematically into the following groups: • Images [} 1841] () • Container [} 1734] () • Machine Learning [} 1876] () • Miscellaneous [} 1879] () 6.2.2.1 Containers This group contains interfaces for handling containers [} 155]. General information A container is basically a vector of several elements. The number of elements can be changed dynamically. The corresponding memory in the router memory [} 55] is automatically allocated and released for this purpose. Container types All elements of a container have the same type. Containers are characterized by a unique GUID based on the type of elements they contain. For ease of use, these GUIDs are defined by constants [} 163]. All type designations for containers begin with "Container Type_Vector_" (with the exception of "Container Type_String_SINT“). Type requirements are documented for all API elements that make use of containers. The container type can be determined as follows: ip Container. Get Element Type Guid(n Type Guid); 6.2.2.1.1 Function Blocks This group contains interfaces for the implementation of certain function blocks. 6.2.2.1.1.1 ITc Vn Custom Container Operation_ITc Vn Container Offers an interface for custom, elementwise container operations (for containers of containers) with up to 3 different containers. Inheritance Hierarchy ITc Vn Custom Container Operation_ITc Vn Container 1734 Version: 2.4.0 TF7000 - TF7810
## Page 1735

API reference Methods Name Origin Description Execute [} 1735] ITc Vn Custom Container Op Executes the custom operation on the container eration_ITc Vn Container elements. System Requirements 6.2.2.1.1.1.1 Execute Executes the custom operation on the container elements. Syntax Definition: HRESULT Execute( ITc Vn Container* ip Element1, ITc Vn Container* ip Element2, ITc Vn Container* ip Element3 ) Parameters Name Type Description ip Element1 ITc Vn Container* [} 1836] Current element of the 1st container. ip Element2 ITc Vn Container* [} 1836] Current element of the 2nd container. ip Element3 ITc Vn Container* [} 1836] Current element of the 3rd container. Return value HRESULT [} 144] 6.2.2.1.1.2 ITc Vn Custom Container Operation_ITc Vn Forward Iterator Offers an interface for custom, elementwise container operations with up to 3 different containers. Inheritance Hierarchy ITc Vn Custom Container Operation_ITc Vn Forward Iterator Methods Name Origin Description Execute [} 1735] ITc Vn Custom Container Op Executes the custom operation on the container eration_ITc Vn Forward Iter elements. ator System Requirements 6.2.2.1.1.2.1 Execute Executes the custom operation on the container elements. TF7000 - TF7810 Version: 2.4.0 1735
## Page 1736

API reference Syntax Definition: HRESULT Execute( ITc Vn Forward Iterator* ip Element1, ITc Vn Forward Iterator* ip Element2, ITc Vn Forward Iterator* ip Element3 ) Parameters Name Type Description ip Element1 ITc Vn Forward Iterator* [} 1828] Current element of the 1st container. ip Element2 ITc Vn Forward Iterator* [} 1828] Current element of the 2nd container. ip Element3 ITc Vn Forward Iterator* [} 1828] Current element of the 3rd container. Return value HRESULT [} 144] 6.2.2.1.1.3 ITc Vn Custom Element Condition_ITc Vn Container Offers an interface for a custom condition computed for a container. Inheritance Hierarchy ITc Vn Custom Element Condition_ITc Vn Container Methods Name Origin Description Condition [} 1736] ITc Vn Custom Element Con Evaluates the condition for the container. dition_ITc Vn Container System Requirements 6.2.2.1.1.3.1 Condition Evaluates the condition for the container. Syntax Definition: bool Condition( ITc Vn Container* ip Element ) Parameters Name Type Description ip Element ITc Vn Container* [} 1836] The container for which the condition is evaluated. Return value bool 1736 Version: 2.4.0 TF7000 - TF7810
## Page 1737

API reference 6.2.2.1.1.4 ITc Vn Custom Element Condition_ITc Vn Forward Iterator Offers an interface for a custom condition computed for an element represented by an ITc Vn Forward Iterator. Inheritance Hierarchy ITc Vn Custom Element Condition_ITc Vn Forward Iterator Methods Name Origin Description Condition [} 1737] ITc Vn Custom Element Con Evaluates the condition for the provided element. dition_ITc Vn Forward Iterat or System Requirements 6.2.2.1.1.4.1 Condition Evaluates the condition for the provided element. Syntax Definition: bool Condition( ITc Vn Forward Iterator* ip Element ) Parameters Name Type Description ip Element ITc Vn Forward Iterator* [} 1828] Element for which the condition is evaluated. Return value bool 6.2.2.1.2 ITc Vn Access The interface ITc Vn Access is for accessing elements of a container [} 156] and is provided by an iterator [} 1827]. Unlike ITc Vn Random Access [} 1780], only that element to which the associated iterator is pointing in that moment can be addressed. 6.2.2.1.2.1 ITc Vn Access_DINT Offers an access interface for DINT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_DINT TF7000 - TF7810 Version: 2.4.0 1737
## Page 1738

API reference Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1738] ITc Vn Access_DINT Gets the value Set [} 1738] ITc Vn Access_DINT Sets the value System Requirements 6.2.2.1.2.1.1 Get Gets the value Syntax Definition: HRESULT Get( LONG& n Value ) Parameters Name Type Description n Value LONG& Returns the value Return value HRESULT [} 144] 6.2.2.1.2.1.2 Set Sets the value Syntax Definition: HRESULT Set( LONG n Value ) Parameters Name Type Description n Value LONG The value to set Return value HRESULT [} 144] 6.2.2.1.2.2 ITc Vn Access_INT Offers an access interface for INT values. 1738 Version: 2.4.0 TF7000 - TF7810
## Page 1739

API reference Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_INT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1739] ITc Vn Access_INT Gets the value Set [} 1739] ITc Vn Access_INT Sets the value System Requirements 6.2.2.1.2.2.1 Get Gets the value Syntax Definition: HRESULT Get( SHORT& n Value ) Parameters Name Type Description n Value SHORT& Returns the value Return value HRESULT [} 144] 6.2.2.1.2.2.2 Set Sets the value Syntax Definition: HRESULT Set( SHORT n Value ) Parameters Name Type Description n Value SHORT The value to set Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 1739
## Page 1740

API reference 6.2.2.1.2.3 ITc Vn Access_ITc Vn Image Offers an access interface for images. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_ITc Vn Image Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1740] ITc Vn Access_ITc Vn Imag Gets the image. e Set [} 1740] ITc Vn Access_ITc Vn Imag Sets the image. e System Requirements 6.2.2.1.2.3.1 Get Gets the image. Syntax Definition: HRESULT Get( ITc Vn Image*& ip Image ) Parameters Name Type Description ip Image ITc Vn Image* [} 1870]& Returns the image. Return value HRESULT [} 144] 6.2.2.1.2.3.2 Set Sets the image. Syntax Definition: HRESULT Set( ITc Vn Image* ip Image ) Parameters Name Type Description ip Image ITc Vn Image* [} 1870] The image to set. 1740 Version: 2.4.0 TF7000 - TF7810
## Page 1741

API reference Return value HRESULT [} 144] 6.2.2.1.2.4 ITc Vn Access_LREAL Offers an access interface for LREAL values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_LREAL Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1741] ITc Vn Access_LREAL Gets the value Set [} 1741] ITc Vn Access_LREAL Sets the value System Requirements 6.2.2.1.2.4.1 Get Gets the value Syntax Definition: HRESULT Get( double& f Value ) Parameters Name Type Description f Value double& Returns the value Return value HRESULT [} 144] 6.2.2.1.2.4.2 Set Sets the value Syntax Definition: HRESULT Set( double f Value ) TF7000 - TF7810 Version: 2.4.0 1741
## Page 1742

API reference Parameters Name Type Description f Value double The value to set Return value HRESULT [} 144] 6.2.2.1.2.5 ITc Vn Access_REAL Offers an access interface for REAL values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_REAL Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1742] ITc Vn Access_REAL Gets the value Set [} 1742] ITc Vn Access_REAL Sets the value System Requirements 6.2.2.1.2.5.1 Get Gets the value Syntax Definition: HRESULT Get( float& f Value ) Parameters Name Type Description f Value float& Returns the value Return value HRESULT [} 144] 6.2.2.1.2.5.2 Set Sets the value Syntax Definition: 1742 Version: 2.4.0 TF7000 - TF7810
## Page 1743

API reference HRESULT Set( float f Value ) Parameters Name Type Description f Value float The value to set Return value HRESULT [} 144] 6.2.2.1.2.6 ITc Vn Access_SINT Offers an access interface for SINT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_SINT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1743] ITc Vn Access_SINT Gets the value Set [} 1743] ITc Vn Access_SINT Sets the value System Requirements 6.2.2.1.2.6.1 Get Gets the value Syntax Definition: HRESULT Get( char& n Value ) Parameters Name Type Description n Value char& Returns the value Return value HRESULT [} 144] 6.2.2.1.2.6.2 Set Sets the value TF7000 - TF7810 Version: 2.4.0 1743
## Page 1744

API reference Syntax Definition: HRESULT Set( char n Value ) Parameters Name Type Description n Value char The value to set Return value HRESULT [} 144] 6.2.2.1.2.7 ITc Vn Access_Tc Vn DMatch Offers an access interface for Tc Vn DMatch values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn DMatch Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1744] ITc Vn Access_Tc Vn DMatc Gets the value h Set [} 1745] ITc Vn Access_Tc Vn DMatc Sets the value h System Requirements 6.2.2.1.2.7.1 Get Gets the value Syntax Definition: HRESULT Get( Tc Vn DMatch& st DMatch ) Parameters Name Type Description st DMatch Tc Vn DMatch [} 1719]& Returns the value Return value HRESULT [} 144] 1744 Version: 2.4.0 TF7000 - TF7810
## Page 1745

API reference 6.2.2.1.2.7.2 Set Sets the value Syntax Definition: HRESULT Set( Tc Vn DMatch& st DMatch ) Parameters Name Type Description st DMatch Tc Vn DMatch [} 1719]& The value to set Return value HRESULT [} 144] 6.2.2.1.2.8 ITc Vn Access_Tc Vn Key Point Offers an access interface for Tc Vn Key Point values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Key Point Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1745] ITc Vn Access_Tc Vn Key Po Gets the value. int Set [} 1746] ITc Vn Access_Tc Vn Key Po Sets the value. int System Requirements 6.2.2.1.2.8.1 Get Gets the value. Syntax Definition: HRESULT Get( Tc Vn Key Point& st Key Point ) Parameters Name Type Description st Key Point Tc Vn Key Point [} 1719]& Returns the value. TF7000 - TF7810 Version: 2.4.0 1745
## Page 1746

API reference Return value HRESULT [} 144] 6.2.2.1.2.8.2 Set Sets the value. Syntax Definition: HRESULT Set( Tc Vn Key Point& st Key Point ) Parameters Name Type Description st Key Point Tc Vn Key Point [} 1719]& The value to set. Return value HRESULT [} 144] 6.2.2.1.2.9 ITc Vn Access_Tc Vn Point2_DINT Offers an access interface for Tc Vn Point2_DINT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Point2_DINT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1746] ITc Vn Access_Tc Vn Point2 Gets the value. _DINT Set [} 1747] ITc Vn Access_Tc Vn Point2 Sets the value. _DINT System Requirements 6.2.2.1.2.9.1 Get Gets the value. Syntax Definition: HRESULT Get( Tc Vn Point2_DINT& a Point ) 1746 Version: 2.4.0 TF7000 - TF7810
## Page 1747

API reference Parameters Name Type Description a Point Tc Vn Point2_DINT [} 1661]& Returns the value. Return value HRESULT [} 144] 6.2.2.1.2.9.2 Set Sets the value. Syntax Definition: HRESULT Set( Tc Vn Point2_DINT& a Point ) Parameters Name Type Description a Point Tc Vn Point2_DINT [} 1661]& The value to set. Return value HRESULT [} 144] 6.2.2.1.2.10 ITc Vn Access_Tc Vn Point2_LREAL Offers an access interface for Tc Vn Point2_LREAL values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Point2_LREAL Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1747] ITc Vn Access_Tc Vn Point2 Gets the value _LREAL Set [} 1748] ITc Vn Access_Tc Vn Point2 Sets the value _LREAL System Requirements 6.2.2.1.2.10.1 Get Gets the value TF7000 - TF7810 Version: 2.4.0 1747
## Page 1748

API reference Syntax Definition: HRESULT Get( Tc Vn Point2_LREAL& a Point ) Parameters Name Type Description a Point Tc Vn Point2_LREAL [} 1661]& Returns the value Return value HRESULT [} 144] 6.2.2.1.2.10.2 Set Sets the value Syntax Definition: HRESULT Set( Tc Vn Point2_LREAL& a Point ) Parameters Name Type Description a Point Tc Vn Point2_LREAL [} 1661]& The value to set Return value HRESULT [} 144] 6.2.2.1.2.11 ITc Vn Access_Tc Vn Point2_REAL Offers an access interface for Tc Vn Point2_REAL values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Point2_REAL Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1749] ITc Vn Access_Tc Vn Point2 Gets the value _REAL Set [} 1749] ITc Vn Access_Tc Vn Point2 Sets the value _REAL 1748 Version: 2.4.0 TF7000 - TF7810
## Page 1749

API reference System Requirements 6.2.2.1.2.11.1 Get Gets the value Syntax Definition: HRESULT Get( Tc Vn Point2_REAL& a Point ) Parameters Name Type Description a Point Tc Vn Point2_REAL [} 1661]& Returns the value Return value HRESULT [} 144] 6.2.2.1.2.11.2 Set Sets the value Syntax Definition: HRESULT Set( Tc Vn Point2_REAL& a Point ) Parameters Name Type Description a Point Tc Vn Point2_REAL [} 1661]& The value to set Return value HRESULT [} 144] 6.2.2.1.2.12 ITc Vn Access_Tc Vn Point3_LREAL Offers an access interface for Tc Vn Point3_LREAL values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Point3_LREAL TF7000 - TF7810 Version: 2.4.0 1749
## Page 1750

API reference Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1750] ITc Vn Access_Tc Vn Point3 Gets the value _LREAL Set [} 1750] ITc Vn Access_Tc Vn Point3 Sets the value _LREAL System Requirements 6.2.2.1.2.12.1 Get Gets the value Syntax Definition: HRESULT Get( Tc Vn Point3_LREAL& a Point ) Parameters Name Type Description a Point Tc Vn Point3_LREAL [} 1661]& Returns the value Return value HRESULT [} 144] 6.2.2.1.2.12.2 Set Sets the value Syntax Definition: HRESULT Set( Tc Vn Point3_LREAL& a Point ) Parameters Name Type Description a Point Tc Vn Point3_LREAL [} 1661]& The value to set Return value HRESULT [} 144] 6.2.2.1.2.13 ITc Vn Access_Tc Vn Point3_REAL Offers an access interface for Tc Vn Point3_REAL values. 1750 Version: 2.4.0 TF7000 - TF7810
## Page 1751

API reference Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Point3_REAL Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1751] ITc Vn Access_Tc Vn Point3 Gets the value _REAL Set [} 1751] ITc Vn Access_Tc Vn Point3 Sets the value _REAL System Requirements 6.2.2.1.2.13.1 Get Gets the value Syntax Definition: HRESULT Get( Tc Vn Point3_REAL& a Point ) Parameters Name Type Description a Point Tc Vn Point3_REAL [} 1661]& Returns the value Return value HRESULT [} 144] 6.2.2.1.2.13.2 Set Sets the value Syntax Definition: HRESULT Set( Tc Vn Point3_REAL& a Point ) Parameters Name Type Description a Point Tc Vn Point3_REAL [} 1661]& The value to set TF7000 - TF7810 Version: 2.4.0 1751
## Page 1752

API reference Return value HRESULT [} 144] 6.2.2.1.2.14 ITc Vn Access_Tc Vn Rectangle_DINT Offers an access interface for Tc Vn Rectangle_DINT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Rectangle_DINT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1752] ITc Vn Access_Tc Vn Recta Gets the value ngle_DINT Set [} 1752] ITc Vn Access_Tc Vn Recta Sets the value ngle_DINT System Requirements 6.2.2.1.2.14.1 Get Gets the value Syntax Definition: HRESULT Get( Tc Vn Rectangle_DINT& st Rectangle ) Parameters Name Type Description st Rectangle Tc Vn Rectangle_DINT [} 1732]& Returns the value Return value HRESULT [} 144] 6.2.2.1.2.14.2 Set Sets the value Syntax Definition: HRESULT Set( Tc Vn Rectangle_DINT& st Rectangle ) 1752 Version: 2.4.0 TF7000 - TF7810
## Page 1753

API reference Parameters Name Type Description st Rectangle Tc Vn Rectangle_DINT [} 1732]& The value to set Return value HRESULT [} 144] 6.2.2.1.2.15 ITc Vn Access_Tc Vn Vector2_DINT Offers an access interface for Tc Vn Vector2_DINT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector2_DINT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1753] ITc Vn Access_Tc Vn Vector Gets the value 2_DINT Set [} 1753] ITc Vn Access_Tc Vn Vector Sets the value. 2_DINT System Requirements 6.2.2.1.2.15.1 Get Gets the value Syntax Definition: HRESULT Get( Tc Vn Vector2_DINT& a Vector ) Parameters Name Type Description a Vector Tc Vn Vector2_DINT [} 1663]& Returns the value Return value HRESULT [} 144] 6.2.2.1.2.15.2 Set Sets the value. TF7000 - TF7810 Version: 2.4.0 1753
## Page 1754

API reference Syntax Definition: HRESULT Set( Tc Vn Vector2_DINT& a Vector ) Parameters Name Type Description a Vector Tc Vn Vector2_DINT [} 1663]& The value to set Return value HRESULT [} 144] 6.2.2.1.2.16 ITc Vn Access_Tc Vn Vector2_INT Offers an access interface for Tc Vn Vector2_INT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector2_INT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1754] ITc Vn Access_Tc Vn Vector Gets the value 2_INT Set [} 1755] ITc Vn Access_Tc Vn Vector Sets the value. 2_INT System Requirements 6.2.2.1.2.16.1 Get Gets the value Syntax Definition: HRESULT Get( Tc Vn Vector2_INT& a Vector ) Parameters Name Type Description a Vector Tc Vn Vector2_INT [} 1663]& Returns the value 1754 Version: 2.4.0 TF7000 - TF7810
## Page 1755

API reference Return value HRESULT [} 144] 6.2.2.1.2.16.2 Set Sets the value. Syntax Definition: HRESULT Set( Tc Vn Vector2_INT& a Vector ) Parameters Name Type Description a Vector Tc Vn Vector2_INT [} 1663]& The value to set Return value HRESULT [} 144] 6.2.2.1.2.17 ITc Vn Access_Tc Vn Vector2_REAL Offers an access interface for Tc Vn Vector2_REAL values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector2_REAL Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1755] ITc Vn Access_Tc Vn Vector Gets the value 2_REAL Set [} 1756] ITc Vn Access_Tc Vn Vector Sets the value 2_REAL System Requirements 6.2.2.1.2.17.1 Get Gets the value Syntax Definition: HRESULT Get( Tc Vn Vector2_REAL& a Vector ) TF7000 - TF7810 Version: 2.4.0 1755
## Page 1756

API reference Parameters Name Type Description a Vector Tc Vn Vector2_REAL [} 1663]& Returns the value Return value HRESULT [} 144] 6.2.2.1.2.17.2 Set Sets the value Syntax Definition: HRESULT Set( Tc Vn Vector2_REAL& a Vector ) Parameters Name Type Description a Vector Tc Vn Vector2_REAL [} 1663]& The value to set Return value HRESULT [} 144] 6.2.2.1.2.18 ITc Vn Access_Tc Vn Vector2_SINT Offers an access interface for Tc Vn Vector2_SINT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector2_SINT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1756] ITc Vn Access_Tc Vn Vector Gets the value 2_SINT Set [} 1757] ITc Vn Access_Tc Vn Vector Sets the value. 2_SINT System Requirements 6.2.2.1.2.18.1 Get Gets the value 1756 Version: 2.4.0 TF7000 - TF7810
## Page 1757

API reference Syntax Definition: HRESULT Get( Tc Vn Vector2_SINT& a Vector ) Parameters Name Type Description a Vector Tc Vn Vector2_SINT [} 1663]& Returns the value Return value HRESULT [} 144] 6.2.2.1.2.18.2 Set Sets the value. Syntax Definition: HRESULT Set( Tc Vn Vector2_SINT& a Vector ) Parameters Name Type Description a Vector Tc Vn Vector2_SINT [} 1663]& The value to set Return value HRESULT [} 144] 6.2.2.1.2.19 ITc Vn Access_Tc Vn Vector2_UINT Offers an access interface for Tc Vn Vector2_UINT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector2_UINT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1758] ITc Vn Access_Tc Vn Vector Gets the value 2_UINT Set [} 1758] ITc Vn Access_Tc Vn Vector Sets the value. 2_UINT TF7000 - TF7810 Version: 2.4.0 1757
## Page 1758

API reference System Requirements 6.2.2.1.2.19.1 Get Gets the value Syntax Definition: HRESULT Get( Tc Vn Vector2_UINT& a Vector ) Parameters Name Type Description a Vector Tc Vn Vector2_UINT [} 1663]& Returns the value Return value HRESULT [} 144] 6.2.2.1.2.19.2 Set Sets the value. Syntax Definition: HRESULT Set( Tc Vn Vector2_UINT& a Vector ) Parameters Name Type Description a Vector Tc Vn Vector2_UINT [} 1663]& The value to set Return value HRESULT [} 144] 6.2.2.1.2.20 ITc Vn Access_Tc Vn Vector2_USINT Offers an access interface for Tc Vn Vector2_USINT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector2_USINT 1758 Version: 2.4.0 TF7000 - TF7810
## Page 1759

API reference Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1759] ITc Vn Access_Tc Vn Vector Gets the value 2_USINT Set [} 1759] ITc Vn Access_Tc Vn Vector Sets the value. 2_USINT System Requirements 6.2.2.1.2.20.1 Get Gets the value Syntax Definition: HRESULT Get( Tc Vn Vector2_USINT& a Vector ) Parameters Name Type Description a Vector Tc Vn Vector2_USINT [} 1663]& Returns the value Return value HRESULT [} 144] 6.2.2.1.2.20.2 Set Sets the value. Syntax Definition: HRESULT Set( Tc Vn Vector2_USINT& a Vector ) Parameters Name Type Description a Vector Tc Vn Vector2_USINT [} 1663]& The value to set Return value HRESULT [} 144] 6.2.2.1.2.21 ITc Vn Access_Tc Vn Vector3_INT Offers an access interface for Tc Vn Vector3_INT values. TF7000 - TF7810 Version: 2.4.0 1759
## Page 1760

API reference Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector3_INT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1760] ITc Vn Access_Tc Vn Vector Gets the value 3_INT Set [} 1760] ITc Vn Access_Tc Vn Vector Sets the value 3_INT System Requirements 6.2.2.1.2.21.1 Get Gets the value Syntax Definition: HRESULT Get( Tc Vn Vector3_INT& a Vector ) Parameters Name Type Description a Vector Tc Vn Vector3_INT [} 1663]& Returns the value Return value HRESULT [} 144] 6.2.2.1.2.21.2 Set Sets the value Syntax Definition: HRESULT Set( Tc Vn Vector3_INT& a Vector ) Parameters Name Type Description a Vector Tc Vn Vector3_INT [} 1663]& The value to set 1760 Version: 2.4.0 TF7000 - TF7810
## Page 1761

API reference Return value HRESULT [} 144] 6.2.2.1.2.22 ITc Vn Access_Tc Vn Vector3_REAL Offers an access interface for Tc Vn Vector3_REAL values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector3_REAL Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1761] ITc Vn Access_Tc Vn Vector Gets the value 3_REAL Set [} 1761] ITc Vn Access_Tc Vn Vector Sets the value 3_REAL System Requirements 6.2.2.1.2.22.1 Get Gets the value Syntax Definition: HRESULT Get( Tc Vn Vector3_REAL& a Vector ) Parameters Name Type Description a Vector Tc Vn Vector3_REAL [} 1663]& Returns the value Return value HRESULT [} 144] 6.2.2.1.2.22.2 Set Sets the value Syntax Definition: HRESULT Set( Tc Vn Vector3_REAL& a Vector ) TF7000 - TF7810 Version: 2.4.0 1761
## Page 1762

API reference Parameters Name Type Description a Vector Tc Vn Vector3_REAL [} 1663]& The value to set Return value HRESULT [} 144] 6.2.2.1.2.23 ITc Vn Access_Tc Vn Vector3_SINT Offers an access interface for Tc Vn Vector3_SINT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector3_SINT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1762] ITc Vn Access_Tc Vn Vector Gets the value 3_SINT Set [} 1762] ITc Vn Access_Tc Vn Vector Sets the value 3_SINT System Requirements 6.2.2.1.2.23.1 Get Gets the value Syntax Definition: HRESULT Get( Tc Vn Vector3_SINT& a Vector ) Parameters Name Type Description a Vector Tc Vn Vector3_SINT [} 1663]& Returns the value Return value HRESULT [} 144] 6.2.2.1.2.23.2 Set Sets the value 1762 Version: 2.4.0 TF7000 - TF7810
## Page 1763

API reference Syntax Definition: HRESULT Set( Tc Vn Vector3_SINT& a Vector ) Parameters Name Type Description a Vector Tc Vn Vector3_SINT [} 1663]& The value to set Return value HRESULT [} 144] 6.2.2.1.2.24 ITc Vn Access_Tc Vn Vector3_UINT Offers an access interface for Tc Vn Vector3_UINT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector3_UINT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1763] ITc Vn Access_Tc Vn Vector Gets the value 3_UINT Set [} 1764] ITc Vn Access_Tc Vn Vector Sets the value 3_UINT System Requirements 6.2.2.1.2.24.1 Get Gets the value Syntax Definition: HRESULT Get( Tc Vn Vector3_UINT& a Vector ) Parameters Name Type Description a Vector Tc Vn Vector3_UINT [} 1663]& Returns the value TF7000 - TF7810 Version: 2.4.0 1763
## Page 1764

API reference Return value HRESULT [} 144] 6.2.2.1.2.24.2 Set Sets the value Syntax Definition: HRESULT Set( Tc Vn Vector3_UINT& a Vector ) Parameters Name Type Description a Vector Tc Vn Vector3_UINT [} 1663]& The value to set Return value HRESULT [} 144] 6.2.2.1.2.25 ITc Vn Access_Tc Vn Vector3_USINT Offers an access interface for Tc Vn Vector3_USINT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector3_USINT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1764] ITc Vn Access_Tc Vn Vector Gets the value 3_USINT Set [} 1765] ITc Vn Access_Tc Vn Vector Sets the value 3_USINT System Requirements 6.2.2.1.2.25.1 Get Gets the value Syntax Definition: HRESULT Get( Tc Vn Vector3_USINT& a Vector ) 1764 Version: 2.4.0 TF7000 - TF7810
## Page 1765

API reference Parameters Name Type Description a Vector Tc Vn Vector3_USINT [} 1663]& Returns the value Return value HRESULT [} 144] 6.2.2.1.2.25.2 Set Sets the value Syntax Definition: HRESULT Set( Tc Vn Vector3_USINT& a Vector ) Parameters Name Type Description a Vector Tc Vn Vector3_USINT [} 1663]& The value to set Return value HRESULT [} 144] 6.2.2.1.2.26 ITc Vn Access_Tc Vn Vector4_DINT Offers an access interface for Tc Vn Vector4_DINT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector4_DINT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1765] ITc Vn Access_Tc Vn Vector Gets the value 4_DINT Set [} 1766] ITc Vn Access_Tc Vn Vector Sets the value 4_DINT System Requirements 6.2.2.1.2.26.1 Get Gets the value TF7000 - TF7810 Version: 2.4.0 1765
## Page 1766

API reference Syntax Definition: HRESULT Get( Tc Vn Vector4_DINT& a Vector ) Parameters Name Type Description a Vector Tc Vn Vector4_DINT [} 1663]& Returns the value Return value HRESULT [} 144] 6.2.2.1.2.26.2 Set Sets the value Syntax Definition: HRESULT Set( Tc Vn Vector4_DINT& a Vector ) Parameters Name Type Description a Vector Tc Vn Vector4_DINT [} 1663]& The value to set Return value HRESULT [} 144] 6.2.2.1.2.27 ITc Vn Access_Tc Vn Vector4_INT Offers an access interface for Tc Vn Vector4_INT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector4_INT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1767] ITc Vn Access_Tc Vn Vector Gets the value 4_INT Set [} 1767] ITc Vn Access_Tc Vn Vector Sets the value 4_INT 1766 Version: 2.4.0 TF7000 - TF7810
## Page 1767

API reference System Requirements 6.2.2.1.2.27.1 Get Gets the value Syntax Definition: HRESULT Get( Tc Vn Vector4_INT& a Vector ) Parameters Name Type Description a Vector Tc Vn Vector4_INT [} 1663]& Returns the value Return value HRESULT [} 144] 6.2.2.1.2.27.2 Set Sets the value Syntax Definition: HRESULT Set( Tc Vn Vector4_INT& a Vector ) Parameters Name Type Description a Vector Tc Vn Vector4_INT [} 1663]& The value to set Return value HRESULT [} 144] 6.2.2.1.2.28 ITc Vn Access_Tc Vn Vector4_LREAL Offers an access interface for Tc Vn Vector4_LREAL values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector4_LREAL TF7000 - TF7810 Version: 2.4.0 1767
## Page 1768

API reference Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1768] ITc Vn Access_Tc Vn Vector Gets the value 4_LREAL Set [} 1768] ITc Vn Access_Tc Vn Vector Sets the value 4_LREAL System Requirements 6.2.2.1.2.28.1 Get Gets the value Syntax Definition: HRESULT Get( Tc Vn Vector4_LREAL& a Vector ) Parameters Name Type Description a Vector Tc Vn Vector4_LREAL [} 1663]& Returns the value Return value HRESULT [} 144] 6.2.2.1.2.28.2 Set Sets the value Syntax Definition: HRESULT Set( Tc Vn Vector4_LREAL& a Vector ) Parameters Name Type Description a Vector Tc Vn Vector4_LREAL [} 1663]& The value to set Return value HRESULT [} 144] 6.2.2.1.2.29 ITc Vn Access_Tc Vn Vector4_SINT Offers an access interface for Tc Vn Vector4_SINT values. 1768 Version: 2.4.0 TF7000 - TF7810
## Page 1769

API reference Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector4_SINT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1769] ITc Vn Access_Tc Vn Vector Gets the value 4_SINT Set [} 1769] ITc Vn Access_Tc Vn Vector Sets the value 4_SINT System Requirements 6.2.2.1.2.29.1 Get Gets the value Syntax Definition: HRESULT Get( Tc Vn Vector4_SINT& a Vector ) Parameters Name Type Description a Vector Tc Vn Vector4_SINT [} 1663]& Returns the value Return value HRESULT [} 144] 6.2.2.1.2.29.2 Set Sets the value Syntax Definition: HRESULT Set( Tc Vn Vector4_SINT& a Vector ) Parameters Name Type Description a Vector Tc Vn Vector4_SINT [} 1663]& The value to set TF7000 - TF7810 Version: 2.4.0 1769
## Page 1770

API reference Return value HRESULT [} 144] 6.2.2.1.2.30 ITc Vn Access_Tc Vn Vector4_UINT Offers an access interface for Tc Vn Vector4_UINT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector4_UINT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1770] ITc Vn Access_Tc Vn Vector Gets the value 4_UINT Set [} 1770] ITc Vn Access_Tc Vn Vector Sets the value 4_UINT System Requirements 6.2.2.1.2.30.1 Get Gets the value Syntax Definition: HRESULT Get( Tc Vn Vector4_UINT& a Vector ) Parameters Name Type Description a Vector Tc Vn Vector4_UINT [} 1663]& Returns the value Return value HRESULT [} 144] 6.2.2.1.2.30.2 Set Sets the value Syntax Definition: HRESULT Set( Tc Vn Vector4_UINT& a Vector ) 1770 Version: 2.4.0 TF7000 - TF7810
## Page 1771

API reference Parameters Name Type Description a Vector Tc Vn Vector4_UINT [} 1663]& The value to set Return value HRESULT [} 144] 6.2.2.1.2.31 ITc Vn Access_Tc Vn Vector4_USINT Offers an access interface for Tc Vn Vector4_USINT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector4_USINT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1771] ITc Vn Access_Tc Vn Vector Gets the value 4_USINT Set [} 1771] ITc Vn Access_Tc Vn Vector Sets the value 4_USINT System Requirements 6.2.2.1.2.31.1 Get Gets the value Syntax Definition: HRESULT Get( Tc Vn Vector4_USINT& a Vector ) Parameters Name Type Description a Vector Tc Vn Vector4_USINT [} 1663]& Returns the value Return value HRESULT [} 144] 6.2.2.1.2.31.2 Set Sets the value TF7000 - TF7810 Version: 2.4.0 1771
## Page 1772

API reference Syntax Definition: HRESULT Set( Tc Vn Vector4_USINT& a Vector ) Parameters Name Type Description a Vector Tc Vn Vector4_USINT [} 1663]& The value to set Return value HRESULT [} 144] 6.2.2.1.2.32 ITc Vn Access_UDINT Offers an access interface for UDINT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_UDINT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1772] ITc Vn Access_UDINT Gets the value Set [} 1773] ITc Vn Access_UDINT Sets the value System Requirements 6.2.2.1.2.32.1 Get Gets the value Syntax Definition: HRESULT Get( ULONG& n Value ) Parameters Name Type Description n Value ULONG& Returns the value Return value HRESULT [} 144] 1772 Version: 2.4.0 TF7000 - TF7810
## Page 1773

API reference 6.2.2.1.2.32.2 Set Sets the value Syntax Definition: HRESULT Set( ULONG n Value ) Parameters Name Type Description n Value ULONG The value to set Return value HRESULT [} 144] 6.2.2.1.2.33 ITc Vn Access_UINT Offers an access interface for UINT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_UINT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1773] ITc Vn Access_UINT Gets the value Set [} 1774] ITc Vn Access_UINT Sets the value System Requirements 6.2.2.1.2.33.1 Get Gets the value Syntax Definition: HRESULT Get( USHORT& n Value ) Parameters Name Type Description n Value USHORT& Returns the value TF7000 - TF7810 Version: 2.4.0 1773
## Page 1774

API reference Return value HRESULT [} 144] 6.2.2.1.2.33.2 Set Sets the value Syntax Definition: HRESULT Set( USHORT n Value ) Parameters Name Type Description n Value USHORT The value to set Return value HRESULT [} 144] 6.2.2.1.2.34 ITc Vn Access_ULINT Offers an access interface for ULINT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_ULINT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1774] ITc Vn Access_ULINT Gets the value Set [} 1775] ITc Vn Access_ULINT Sets the value System Requirements 6.2.2.1.2.34.1 Get Gets the value Syntax Definition: HRESULT Get( ULONGLONG& n Value ) 1774 Version: 2.4.0 TF7000 - TF7810
## Page 1775

API reference Parameters Name Type Description n Value ULONGLONG& Returns the value Return value HRESULT [} 144] 6.2.2.1.2.34.2 Set Sets the value Syntax Definition: HRESULT Set( ULONGLONG n Value ) Parameters Name Type Description n Value ULONGLONG The value to set Return value HRESULT [} 144] 6.2.2.1.2.35 ITc Vn Access_USINT Offers an access interface for USINT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_USINT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1775] ITc Vn Access_USINT Gets the value Set [} 1776] ITc Vn Access_USINT Sets the value System Requirements 6.2.2.1.2.35.1 Get Gets the value Syntax Definition: TF7000 - TF7810 Version: 2.4.0 1775
## Page 1776

API reference HRESULT Get( unsigned char& n Value ) Parameters Name Type Description n Value unsigned char& Returns the value Return value HRESULT [} 144] 6.2.2.1.2.35.2 Set Sets the value Syntax Definition: HRESULT Set( unsigned char n Value ) Parameters Name Type Description n Value unsigned char The value to set Return value HRESULT [} 144] 6.2.2.1.2.36 ITc Vn Access_Tc Vn Vector4_REAL Offers an access interface for Tc Vn Vector4_REAL values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector4_REAL Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1777] ITc Vn Access_Tc Vn Vector Gets the value 4_REAL Set [} 1777] ITc Vn Access_Tc Vn Vector Sets the value 4_REAL 1776 Version: 2.4.0 TF7000 - TF7810
## Page 1777

API reference System Requirements 6.2.2.1.2.36.1 Get Gets the value Syntax Definition: HRESULT Get( Tc Vn Vector4_REAL& a Vector ) Parameters Name Type Description a Vector Tc Vn Vector4_REAL [} 1663]& Returns the value Return value HRESULT [} 144] 6.2.2.1.2.36.2 Set Sets the value Syntax Definition: HRESULT Set( Tc Vn Vector4_REAL& a Vector ) Parameters Name Type Description a Vector Tc Vn Vector4_REAL [} 1663]& The value to set Return value HRESULT [} 144] 6.2.2.1.2.37 ITc Vn Access_Tc Vn Rotated Rectangle Offers an access interface for Tc Vn Rotated Rectangle values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Rotated Rectangle TF7000 - TF7810 Version: 2.4.0 1777
## Page 1778

API reference Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1778] ITc Vn Access_Tc Vn Rotate Gets the value d Rectangle Set [} 1778] ITc Vn Access_Tc Vn Rotate Sets the value d Rectangle System Requirements 6.2.2.1.2.37.1 Get Gets the value Syntax Definition: HRESULT Get( Tc Vn Rotated Rectangle& st Rectangle ) Parameters Name Type Description st Rectangle Tc Vn Rotated Rectangle [} 1733]& Returns the value Return value HRESULT [} 144] 6.2.2.1.2.37.2 Set Sets the value Syntax Definition: HRESULT Set( Tc Vn Rotated Rectangle& st Rectangle ) Parameters Name Type Description st Rectangle Tc Vn Rotated Rectangle [} 1733]& The value to set Return value HRESULT [} 144] 6.2.2.1.2.38 ITc Vn Access_Tc Vn Rotated Rectangle Offers an access interface for Tc Vn Rotated Rectangle values. 1778 Version: 2.4.0 TF7000 - TF7810
## Page 1779

API reference Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Rotated Rectangle Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1779] ITc Vn Access_Tc Vn Rotate Gets the value d Rectangle Set [} 1779] ITc Vn Access_Tc Vn Rotate Sets the value d Rectangle System Requirements 6.2.2.1.2.38.1 Get Gets the value Syntax Definition: HRESULT Get( Tc Vn Rotated Rectangle& st Rectangle ) Parameters Name Type Description st Rectangle Tc Vn Rotated Rectangle [} 1733]& Returns the value Return value HRESULT [} 144] 6.2.2.1.2.38.2 Set Sets the value Syntax Definition: HRESULT Set( Tc Vn Rotated Rectangle& st Rectangle ) Parameters Name Type Description st Rectangle Tc Vn Rotated Rectangle [} 1733]& The value to set Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 1779
## Page 1780

API reference 6.2.2.1.3 ITc Vn Random Access The interface ITc Vn Random Access is for accessing any elements of a container [} 156] and is provided by an ITc Vn Random Access Iterator [} 1833]. Unlike ITc Vn Access [} 1737], any element in a container can be addressed. 6.2.2.1.3.1 ITc Vn Random Access_DINT Offers a random access interface for DINT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_DINT [} 1737] ITc Vn Random Access_DINT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1738] ITc Vn Access_DINT Gets the value Set [} 1738] ITc Vn Access_DINT Sets the value Get At [} 1780] ITc Vn Random Access_DI Gets the value NT Set At [} 1780] ITc Vn Random Access_DI Sets the value NT System Requirements 6.2.2.1.3.1.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, LONG& n Value ) Parameters Name Type Description n Offset LONGLONG Offset to the current position n Value LONG& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.1.2 Set At Sets the value 1780 Version: 2.4.0 TF7000 - TF7810
## Page 1781

API reference Syntax Definition: HRESULT Set At( LONGLONG n Offset, LONG n Value ) Parameters Name Type Description n Offset LONGLONG Offset to the current position n Value LONG The value to set Return value HRESULT [} 144] 6.2.2.1.3.2 ITc Vn Random Access_INT Offers a random access interface for INT values Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_INT [} 1738] ITc Vn Random Access_INT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1739] ITc Vn Access_INT Gets the value Set [} 1739] ITc Vn Access_INT Sets the value Get At [} 1781] ITc Vn Random Access_IN Gets the value T Set At [} 1782] ITc Vn Random Access_IN Sets the value T System Requirements 6.2.2.1.3.2.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, SHORT& n Value ) TF7000 - TF7810 Version: 2.4.0 1781
## Page 1782

API reference Parameters Name Type Description n Offset LONGLONG Offset to the current position n Value SHORT& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.2.2 Set At Sets the value Syntax Definition: HRESULT Set At( LONGLONG n Offset, SHORT n Value ) Parameters Name Type Description n Offset LONGLONG Offset to the current position n Value SHORT The value to set Return value HRESULT [} 144] 6.2.2.1.3.3 ITc Vn Random Access_ITc Vn Image Offers an random access interface for images. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_ITc Vn Image [} 1740] ITc Vn Random Access_ITc Vn Image Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1740] ITc Vn Access_ITc Vn Imag Gets the image. e Set [} 1740] ITc Vn Access_ITc Vn Imag Sets the image. e Get At [} 1783] ITc Vn Random Access_ITc Gets the image. Vn Image Set At [} 1783] ITc Vn Random Access_ITc Sets the image. Vn Image 1782 Version: 2.4.0 TF7000 - TF7810
## Page 1783

API reference System Requirements 6.2.2.1.3.3.1 Get At Gets the image. Syntax Definition: HRESULT Get At( LONGLONG n Offset, ITc Vn Image*& ip Image ) Parameters Name Type Description n Offset LONGLONG Offset to the current position. ip Image ITc Vn Image* [} 1870]& Returns the image. Return value HRESULT [} 144] 6.2.2.1.3.3.2 Set At Sets the image. Syntax Definition: HRESULT Set At( LONGLONG n Offset, ITc Vn Image* ip Image ) Parameters Name Type Description n Offset LONGLONG Offset to the current position ip Image ITc Vn Image* [} 1870] The image to set. Return value HRESULT [} 144] 6.2.2.1.3.4 ITc Vn Random Access_LREAL Offers a random access interface for LREAL values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_LREAL [} 1741] ITc Vn Random Access_LREAL TF7000 - TF7810 Version: 2.4.0 1783
## Page 1784

API reference Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1741] ITc Vn Access_LREAL Gets the value Set [} 1741] ITc Vn Access_LREAL Sets the value Get At [} 1784] ITc Vn Random Access_LR Gets the value EAL Set At [} 1784] ITc Vn Random Access_LR Sets the value EAL System Requirements 6.2.2.1.3.4.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, double& f Value ) Parameters Name Type Description n Offset LONGLONG Offset to the current position f Value double& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.4.2 Set At Sets the value Syntax Definition: HRESULT Set At( LONGLONG n Offset, double f Value ) Parameters Name Type Description n Offset LONGLONG Offset to the current position. f Value double The value to set 1784 Version: 2.4.0 TF7000 - TF7810
## Page 1785

API reference Return value HRESULT [} 144] 6.2.2.1.3.5 ITc Vn Random Access_REAL Offers a random access interface for REAL values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_REAL [} 1742] ITc Vn Random Access_REAL Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1742] ITc Vn Access_REAL Gets the value Set [} 1742] ITc Vn Access_REAL Sets the value Get At [} 1785] ITc Vn Random Access_RE Gets the value AL Set At [} 1785] ITc Vn Random Access_RE Sets the value AL System Requirements 6.2.2.1.3.5.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, float& f Value ) Parameters Name Type Description n Offset LONGLONG Offset to the current position f Value float& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.5.2 Set At Sets the value TF7000 - TF7810 Version: 2.4.0 1785
## Page 1786

API reference Syntax Definition: HRESULT Set At( LONGLONG n Offset, float f Value ) Parameters Name Type Description n Offset LONGLONG Offset to the current position f Value float The value to set Return value HRESULT [} 144] 6.2.2.1.3.6 ITc Vn Random Access_SINT Offers a random access interface for SINT values Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_SINT [} 1743] ITc Vn Random Access_SINT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1743] ITc Vn Access_SINT Gets the value Set [} 1743] ITc Vn Access_SINT Sets the value Get At [} 1786] ITc Vn Random Access_SI Gets the value NT Set At [} 1787] ITc Vn Random Access_SI Sets the value NT System Requirements 6.2.2.1.3.6.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, char& n Value ) 1786 Version: 2.4.0 TF7000 - TF7810
## Page 1787

API reference Parameters Name Type Description n Offset LONGLONG Offset to the current position n Value char& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.6.2 Set At Sets the value Syntax Definition: HRESULT Set At( LONGLONG n Offset, char n Value ) Parameters Name Type Description n Offset LONGLONG Offset to the current position n Value char The value to set Return value HRESULT [} 144] 6.2.2.1.3.7 ITc Vn Random Access_Tc Vn DMatch Offers an random access interface for Tc Vn DMatch values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn DMatch [} 1744] ITc Vn Random Access_Tc Vn DMatch Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1744] ITc Vn Access_Tc Vn DMatc Gets the value h Set [} 1745] ITc Vn Access_Tc Vn DMatc Sets the value h Get At [} 1788] ITc Vn Random Access_Tc Gets the value Vn DMatch Set At [} 1788] ITc Vn Random Access_Tc Sets the value Vn DMatch TF7000 - TF7810 Version: 2.4.0 1787
## Page 1788

API reference System Requirements 6.2.2.1.3.7.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, Tc Vn DMatch& st DMatch ) Parameters Name Type Description n Offset LONGLONG Offset to the current position. st DMatch Tc Vn DMatch [} 1719]& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.7.2 Set At Sets the value Syntax Definition: HRESULT Set At( LONGLONG n Offset, Tc Vn DMatch& st DMatch ) Parameters Name Type Description n Offset LONGLONG Offset to the current position st DMatch Tc Vn DMatch [} 1719]& The value to set Return value HRESULT [} 144] 6.2.2.1.3.8 ITc Vn Random Access_Tc Vn Key Point Offers a random access interface for Tc Vn Key Point values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Key Point [} 1745] ITc Vn Random Access_Tc Vn Key Point 1788 Version: 2.4.0 TF7000 - TF7810
## Page 1789

API reference Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1745] ITc Vn Access_Tc Vn Key Po Gets the value. int Set [} 1746] ITc Vn Access_Tc Vn Key Po Sets the value. int Get At [} 1789] ITc Vn Random Access_Tc Gets the value Vn Key Point Set At [} 1789] ITc Vn Random Access_Tc Sets the value Vn Key Point System Requirements 6.2.2.1.3.8.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, Tc Vn Key Point& st Key Point ) Parameters Name Type Description n Offset LONGLONG Offset to the current position st Key Point Tc Vn Key Point [} 1719]& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.8.2 Set At Sets the value Syntax Definition: HRESULT Set At( LONGLONG n Offset, Tc Vn Key Point& st Key Point ) Parameters Name Type Description n Offset LONGLONG Offset to the current position st Key Point Tc Vn Key Point [} 1719]& The value to set TF7000 - TF7810 Version: 2.4.0 1789
## Page 1790

API reference Return value HRESULT [} 144] 6.2.2.1.3.9 ITc Vn Random Access_Tc Vn Point2_DINT Offers a random access interface for Tc Vn Point2_DINT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Point2_DINT [} 1746] ITc Vn Random Access_Tc Vn Point2_DINT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1746] ITc Vn Access_Tc Vn Point2 Gets the value. _DINT Set [} 1747] ITc Vn Access_Tc Vn Point2 Sets the value. _DINT Get At [} 1790] ITc Vn Random Access_Tc Gets the value Vn Point2_DINT Set At [} 1790] ITc Vn Random Access_Tc Sets the value Vn Point2_DINT System Requirements 6.2.2.1.3.9.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, Tc Vn Point2_DINT& a Point ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Point Tc Vn Point2_DINT [} 1661]& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.9.2 Set At Sets the value 1790 Version: 2.4.0 TF7000 - TF7810
## Page 1791

API reference Syntax Definition: HRESULT Set At( LONGLONG n Offset, Tc Vn Point2_DINT& a Point ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Point Tc Vn Point2_DINT [} 1661]& The value to set Return value HRESULT [} 144] 6.2.2.1.3.10 ITc Vn Random Access_Tc Vn Point2_LREAL Offers a random access interface for Tc Vn Point2_LREAL values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Point2_LREAL [} 1747] ITc Vn Random Access_Tc Vn Point2_LREAL Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1747] ITc Vn Access_Tc Vn Point2 Gets the value _LREAL Set [} 1748] ITc Vn Access_Tc Vn Point2 Sets the value _LREAL Get At [} 1791] ITc Vn Random Access_Tc Gets the value Vn Point2_LREAL Set At [} 1792] ITc Vn Random Access_Tc Sets the value Vn Point2_LREAL System Requirements 6.2.2.1.3.10.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, Tc Vn Point2_LREAL& a Point ) TF7000 - TF7810 Version: 2.4.0 1791
## Page 1792

API reference Parameters Name Type Description n Offset LONGLONG Offset to the current position a Point Tc Vn Point2_LREAL [} 1661]& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.10.2 Set At Sets the value Syntax Definition: HRESULT Set At( LONGLONG n Offset, Tc Vn Point2_LREAL& a Point ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Point Tc Vn Point2_LREAL [} 1661]& The value to set Return value HRESULT [} 144] 6.2.2.1.3.11 ITc Vn Random Access_Tc Vn Point2_REAL Offers a random access interface for Tc Vn Point2_REAL values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Point2_REAL [} 1748] ITc Vn Random Access_Tc Vn Point2_REAL Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1749] ITc Vn Access_Tc Vn Point2 Gets the value _REAL Set [} 1749] ITc Vn Access_Tc Vn Point2 Sets the value _REAL Get At [} 1793] ITc Vn Random Access_Tc Gets the value Vn Point2_REAL Set At [} 1793] ITc Vn Random Access_Tc Sets the value Vn Point2_REAL 1792 Version: 2.4.0 TF7000 - TF7810
## Page 1793

API reference System Requirements 6.2.2.1.3.11.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, Tc Vn Point2_REAL& a Point ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Point Tc Vn Point2_REAL [} 1661]& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.11.2 Set At Sets the value Syntax Definition: HRESULT Set At( LONGLONG n Offset, Tc Vn Point2_REAL& a Point ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Point Tc Vn Point2_REAL [} 1661]& The value to set Return value HRESULT [} 144] 6.2.2.1.3.12 ITc Vn Random Access_Tc Vn Point3_LREAL Offers a random access interface for Tc Vn Point3_LREAL values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Point3_LREAL [} 1749] ITc Vn Random Access_Tc Vn Point3_LREAL TF7000 - TF7810 Version: 2.4.0 1793
## Page 1794

API reference Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1750] ITc Vn Access_Tc Vn Point3 Gets the value _LREAL Set [} 1750] ITc Vn Access_Tc Vn Point3 Sets the value _LREAL Get At [} 1794] ITc Vn Random Access_Tc Gets the value Vn Point3_LREAL Set At [} 1794] ITc Vn Random Access_Tc Sets the value Vn Point3_LREAL System Requirements 6.2.2.1.3.12.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, Tc Vn Point3_LREAL& a Point ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Point Tc Vn Point3_LREAL [} 1661]& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.12.2 Set At Sets the value Syntax Definition: HRESULT Set At( LONGLONG n Offset, Tc Vn Point3_LREAL& a Point ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Point Tc Vn Point3_LREAL [} 1661]& The value to set 1794 Version: 2.4.0 TF7000 - TF7810
## Page 1795

API reference Return value HRESULT [} 144] 6.2.2.1.3.13 ITc Vn Random Access_Tc Vn Point3_REAL Offers a random access interface for Tc Vn Point3_REAL values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Point3_REAL [} 1750] ITc Vn Random Access_Tc Vn Point3_REAL Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1751] ITc Vn Access_Tc Vn Point3 Gets the value _REAL Set [} 1751] ITc Vn Access_Tc Vn Point3 Sets the value _REAL Get At [} 1795] ITc Vn Random Access_Tc Gets the value Vn Point3_REAL Set At [} 1795] ITc Vn Random Access_Tc Sets the value Vn Point3_REAL System Requirements 6.2.2.1.3.13.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, Tc Vn Point3_REAL& a Point ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Point Tc Vn Point3_REAL [} 1661]& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.13.2 Set At Sets the value TF7000 - TF7810 Version: 2.4.0 1795
## Page 1796

API reference Syntax Definition: HRESULT Set At( LONGLONG n Offset, Tc Vn Point3_REAL& a Point ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Point Tc Vn Point3_REAL [} 1661]& The value to set Return value HRESULT [} 144] 6.2.2.1.3.14 ITc Vn Random Access_Tc Vn Rectangle_DINT Offers a random access interface for Tc Vn Rectangle_DINT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Rectangle_DINT [} 1752] ITc Vn Random Access_Tc Vn Rectangle_DINT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1752] ITc Vn Access_Tc Vn Recta Gets the value ngle_DINT Set [} 1752] ITc Vn Access_Tc Vn Recta Sets the value ngle_DINT Get At [} 1796] ITc Vn Random Access_Tc Gets the value Vn Rectangle_DINT Set At [} 1797] ITc Vn Random Access_Tc Sets the value Vn Rectangle_DINT System Requirements 6.2.2.1.3.14.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, Tc Vn Rectangle_DINT& st Rectangle ) 1796 Version: 2.4.0 TF7000 - TF7810
## Page 1797

API reference Parameters Name Type Description n Offset LONGLONG Offset to the current position st Rectangle Tc Vn Rectangle_DINT [} 1732]& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.14.2 Set At Sets the value Syntax Definition: HRESULT Set At( LONGLONG n Offset, Tc Vn Rectangle_DINT& st Rectangle ) Parameters Name Type Description n Offset LONGLONG Offset to the current position st Rectangle Tc Vn Rectangle_DINT [} 1732]& The value to set Return value HRESULT [} 144] 6.2.2.1.3.15 ITc Vn Random Access_Tc Vn Vector2_DINT Offers a random access interface for Tc Vn Vector2_DINT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector2_DINT [} 1753] ITc Vn Random Access_Tc Vn Vector2_DINT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1753] ITc Vn Access_Tc Vn Vector Gets the value 2_DINT Set [} 1753] ITc Vn Access_Tc Vn Vector Sets the value. 2_DINT Get At [} 1798] ITc Vn Random Access_Tc Gets the value Vn Vector2_DINT Set At [} 1798] ITc Vn Random Access_Tc Sets the value Vn Vector2_DINT TF7000 - TF7810 Version: 2.4.0 1797
## Page 1798

API reference System Requirements 6.2.2.1.3.15.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, Tc Vn Vector2_DINT& a Vector ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector2_DINT [} 1663]& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.15.2 Set At Sets the value Syntax Definition: HRESULT Set At( LONGLONG n Offset, Tc Vn Vector2_DINT& a Vector ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector2_DINT [} 1663]& The value to set Return value HRESULT [} 144] 6.2.2.1.3.16 ITc Vn Random Access_Tc Vn Vector2_INT Offers a random access interface for Tc Vn Vector2_INT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector2_INT [} 1754] ITc Vn Random Access_Tc Vn Vector2_INT 1798 Version: 2.4.0 TF7000 - TF7810
## Page 1799

API reference Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1754] ITc Vn Access_Tc Vn Vector Gets the value 2_INT Set [} 1755] ITc Vn Access_Tc Vn Vector Sets the value. 2_INT Get At [} 1799] ITc Vn Random Access_Tc Gets the value Vn Vector2_INT Set At [} 1799] ITc Vn Random Access_Tc Sets the value Vn Vector2_INT System Requirements 6.2.2.1.3.16.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, Tc Vn Vector2_INT& a Vector ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector2_INT [} 1663]& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.16.2 Set At Sets the value Syntax Definition: HRESULT Set At( LONGLONG n Offset, Tc Vn Vector2_INT& a Vector ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector2_INT [} 1663]& The value to set TF7000 - TF7810 Version: 2.4.0 1799
## Page 1800

API reference Return value HRESULT [} 144] 6.2.2.1.3.17 ITc Vn Random Access_Tc Vn Vector2_REAL Offers a random access interface for Tc Vn Vector2_REAL values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector2_REAL [} 1755] ITc Vn Random Access_Tc Vn Vector2_REAL Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1755] ITc Vn Access_Tc Vn Vector Gets the value 2_REAL Set [} 1756] ITc Vn Access_Tc Vn Vector Sets the value 2_REAL Get At [} 1800] ITc Vn Random Access_Tc Gets the value Vn Vector2_REAL Set At [} 1800] ITc Vn Random Access_Tc Sets the value Vn Vector2_REAL System Requirements 6.2.2.1.3.17.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, Tc Vn Vector2_REAL& a Vector ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector2_REAL [} 1663]& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.17.2 Set At Sets the value 1800 Version: 2.4.0 TF7000 - TF7810
## Page 1801

API reference Syntax Definition: HRESULT Set At( LONGLONG n Offset, Tc Vn Vector2_REAL& a Vector ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector2_REAL [} 1663]& The value to set Return value HRESULT [} 144] 6.2.2.1.3.18 ITc Vn Random Access_Tc Vn Vector2_SINT Offers a random access interface for Tc Vn Vector2_SINT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector2_SINT [} 1756] ITc Vn Random Access_Tc Vn Vector2_SINT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1756] ITc Vn Access_Tc Vn Vector Gets the value 2_SINT Set [} 1757] ITc Vn Access_Tc Vn Vector Sets the value. 2_SINT Get At [} 1801] ITc Vn Random Access_Tc Gets the value Vn Vector2_SINT Set At [} 1802] ITc Vn Random Access_Tc Sets the value Vn Vector2_SINT System Requirements 6.2.2.1.3.18.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, Tc Vn Vector2_SINT& a Vector ) TF7000 - TF7810 Version: 2.4.0 1801
## Page 1802

API reference Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector2_SINT [} 1663]& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.18.2 Set At Sets the value Syntax Definition: HRESULT Set At( LONGLONG n Offset, Tc Vn Vector2_SINT& a Vector ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector2_SINT [} 1663]& The value to set Return value HRESULT [} 144] 6.2.2.1.3.19 ITc Vn Random Access_Tc Vn Vector2_UINT Offers a random access interface for Tc Vn Vector2_UINT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector2_UINT [} 1757] ITc Vn Random Access_Tc Vn Vector2_UINT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1758] ITc Vn Access_Tc Vn Vector Gets the value 2_UINT Set [} 1758] ITc Vn Access_Tc Vn Vector Sets the value. 2_UINT Get At [} 1803] ITc Vn Random Access_Tc Gets the value Vn Vector2_UINT Set At [} 1803] ITc Vn Random Access_Tc Sets the value Vn Vector2_UINT 1802 Version: 2.4.0 TF7000 - TF7810
## Page 1803

API reference System Requirements 6.2.2.1.3.19.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, Tc Vn Vector2_UINT& a Vector ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector2_UINT [} 1663]& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.19.2 Set At Sets the value Syntax Definition: HRESULT Set At( LONGLONG n Offset, Tc Vn Vector2_UINT& a Vector ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector2_UINT [} 1663]& The value to set Return value HRESULT [} 144] 6.2.2.1.3.20 ITc Vn Random Access_Tc Vn Vector2_USINT Offers a random access interface for Tc Vn Vector2_USINT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector2_USINT [} 1758] ITc Vn Random Access_Tc Vn Vector2_USINT TF7000 - TF7810 Version: 2.4.0 1803
## Page 1804

API reference Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1759] ITc Vn Access_Tc Vn Vector Gets the value 2_USINT Set [} 1759] ITc Vn Access_Tc Vn Vector Sets the value. 2_USINT Get At [} 1804] ITc Vn Random Access_Tc Gets the value Vn Vector2_USINT Set At [} 1804] ITc Vn Random Access_Tc Sets the value Vn Vector2_USINT System Requirements 6.2.2.1.3.20.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, Tc Vn Vector2_USINT& a Vector ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector2_USINT [} 1663]& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.20.2 Set At Sets the value Syntax Definition: HRESULT Set At( LONGLONG n Offset, Tc Vn Vector2_USINT& a Vector ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector2_USINT [} 1663]& The value to set 1804 Version: 2.4.0 TF7000 - TF7810
## Page 1805

API reference Return value HRESULT [} 144] 6.2.2.1.3.21 ITc Vn Random Access_Tc Vn Vector3_INT Offers a random access interface for Tc Vn Vector3_INT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector3_INT [} 1759] ITc Vn Random Access_Tc Vn Vector3_INT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1760] ITc Vn Access_Tc Vn Vector Gets the value 3_INT Set [} 1760] ITc Vn Access_Tc Vn Vector Sets the value 3_INT Get At [} 1805] ITc Vn Random Access_Tc Gets the value Vn Vector3_INT Set At [} 1805] ITc Vn Random Access_Tc Sets the value Vn Vector3_INT System Requirements 6.2.2.1.3.21.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, Tc Vn Vector3_INT& a Vector ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector3_INT [} 1663]& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.21.2 Set At Sets the value TF7000 - TF7810 Version: 2.4.0 1805
## Page 1806

API reference Syntax Definition: HRESULT Set At( LONGLONG n Offset, Tc Vn Vector3_INT& a Vector ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector3_INT [} 1663]& The value to set Return value HRESULT [} 144] 6.2.2.1.3.22 ITc Vn Random Access_Tc Vn Vector3_REAL Offers a random access interface for Tc Vn Vector3_REAL values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector3_REAL [} 1761] ITc Vn Random Access_Tc Vn Vector3_REAL Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1761] ITc Vn Access_Tc Vn Vector Gets the value 3_REAL Set [} 1761] ITc Vn Access_Tc Vn Vector Sets the value 3_REAL Get At [} 1806] ITc Vn Random Access_Tc Gets the value Vn Vector3_REAL Set At [} 1807] ITc Vn Random Access_Tc Sets the value Vn Vector3_REAL System Requirements 6.2.2.1.3.22.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, Tc Vn Vector3_REAL& a Vector ) 1806 Version: 2.4.0 TF7000 - TF7810
## Page 1807

API reference Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector3_REAL [} 1663]& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.22.2 Set At Sets the value Syntax Definition: HRESULT Set At( LONGLONG n Offset, Tc Vn Vector3_REAL& a Vector ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector3_REAL [} 1663]& The value to set Return value HRESULT [} 144] 6.2.2.1.3.23 ITc Vn Random Access_Tc Vn Vector3_SINT Offers a random access interface for Tc Vn Vector3_SINT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector3_SINT [} 1762] ITc Vn Random Access_Tc Vn Vector3_SINT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1762] ITc Vn Access_Tc Vn Vector Gets the value 3_SINT Set [} 1762] ITc Vn Access_Tc Vn Vector Sets the value 3_SINT Get At [} 1808] ITc Vn Random Access_Tc Gets the value Vn Vector3_SINT Set At [} 1808] ITc Vn Random Access_Tc Sets the value Vn Vector3_SINT TF7000 - TF7810 Version: 2.4.0 1807
## Page 1808

API reference System Requirements 6.2.2.1.3.23.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, Tc Vn Vector3_SINT& a Vector ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector3_SINT [} 1663]& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.23.2 Set At Sets the value Syntax Definition: HRESULT Set At( LONGLONG n Offset, Tc Vn Vector3_SINT& a Vector ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector3_SINT [} 1663]& The value to set Return value HRESULT [} 144] 6.2.2.1.3.24 ITc Vn Random Access_Tc Vn Vector3_UINT Offers a random access interface for Tc Vn Vector3_UINT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector3_UINT [} 1763] ITc Vn Random Access_Tc Vn Vector3_UINT 1808 Version: 2.4.0 TF7000 - TF7810
## Page 1809

API reference Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1763] ITc Vn Access_Tc Vn Vector Gets the value 3_UINT Set [} 1764] ITc Vn Access_Tc Vn Vector Sets the value 3_UINT Get At [} 1809] ITc Vn Random Access_Tc Gets the value Vn Vector3_UINT Set At [} 1809] ITc Vn Random Access_Tc Sets the value Vn Vector3_UINT System Requirements 6.2.2.1.3.24.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, Tc Vn Vector3_UINT& a Vector ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector3_UINT [} 1663]& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.24.2 Set At Sets the value Syntax Definition: HRESULT Set At( LONGLONG n Offset, Tc Vn Vector3_UINT& a Vector ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector3_UINT [} 1663]& The value to set TF7000 - TF7810 Version: 2.4.0 1809
## Page 1810

API reference Return value HRESULT [} 144] 6.2.2.1.3.25 ITc Vn Random Access_Tc Vn Vector3_USINT Offers a random access interface for Tc Vn Vector3_USINT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector3_USINT [} 1764] ITc Vn Random Access_Tc Vn Vector3_USINT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1764] ITc Vn Access_Tc Vn Vector Gets the value 3_USINT Set [} 1765] ITc Vn Access_Tc Vn Vector Sets the value 3_USINT Get At [} 1810] ITc Vn Random Access_Tc Gets the value Vn Vector3_USINT Set At [} 1810] ITc Vn Random Access_Tc Sets the value Vn Vector3_USINT System Requirements 6.2.2.1.3.25.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, Tc Vn Vector3_USINT& a Vector ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector3_USINT [} 1663]& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.25.2 Set At Sets the value 1810 Version: 2.4.0 TF7000 - TF7810
## Page 1811

API reference Syntax Definition: HRESULT Set At( LONGLONG n Offset, Tc Vn Vector3_USINT& a Vector ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector3_USINT [} 1663]& The value to set Return value HRESULT [} 144] 6.2.2.1.3.26 ITc Vn Random Access_Tc Vn Vector4_DINT Offers a random access interface for Tc Vn Vector4_DINT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector4_DINT [} 1765] ITc Vn Random Access_Tc Vn Vector4_DINT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1765] ITc Vn Access_Tc Vn Vector Gets the value 4_DINT Set [} 1766] ITc Vn Access_Tc Vn Vector Sets the value 4_DINT Get At [} 1811] ITc Vn Random Access_Tc Gets the value Vn Vector4_DINT Set At [} 1812] ITc Vn Random Access_Tc Sets the value Vn Vector4_DINT System Requirements 6.2.2.1.3.26.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, Tc Vn Vector4_DINT& a Vector ) TF7000 - TF7810 Version: 2.4.0 1811
## Page 1812

API reference Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector4_DINT [} 1663]& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.26.2 Set At Sets the value Syntax Definition: HRESULT Set At( LONGLONG n Offset, Tc Vn Vector4_DINT& a Vector ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector4_DINT [} 1663]& The value to set Return value HRESULT [} 144] 6.2.2.1.3.27 ITc Vn Random Access_Tc Vn Vector4_INT Offers a random access interface for Tc Vn Vector4_INT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector4_INT [} 1766] ITc Vn Random Access_Tc Vn Vector4_INT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1767] ITc Vn Access_Tc Vn Vector Gets the value 4_INT Set [} 1767] ITc Vn Access_Tc Vn Vector Sets the value 4_INT Get At [} 1813] ITc Vn Random Access_Tc Gets the value Vn Vector4_INT Set At [} 1813] ITc Vn Random Access_Tc Sets the value Vn Vector4_INT 1812 Version: 2.4.0 TF7000 - TF7810
## Page 1813

API reference System Requirements 6.2.2.1.3.27.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, Tc Vn Vector4_INT& a Vector ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector4_INT [} 1663]& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.27.2 Set At Sets the value Syntax Definition: HRESULT Set At( LONGLONG n Offset, Tc Vn Vector4_INT& a Vector ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector4_INT [} 1663]& The value to set Return value HRESULT [} 144] 6.2.2.1.3.28 ITc Vn Random Access_Tc Vn Vector4_LREAL Offers a random access interface for Tc Vn Vector4_LREAL values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector4_LREAL [} 1767] ITc Vn Random Access_Tc Vn Vector4_LREAL TF7000 - TF7810 Version: 2.4.0 1813
## Page 1814

API reference Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1768] ITc Vn Access_Tc Vn Vector Gets the value 4_LREAL Set [} 1768] ITc Vn Access_Tc Vn Vector Sets the value 4_LREAL Get At [} 1814] ITc Vn Random Access_Tc Gets the value Vn Vector4_LREAL Set At [} 1814] ITc Vn Random Access_Tc Sets the value Vn Vector4_LREAL System Requirements 6.2.2.1.3.28.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, Tc Vn Vector4_LREAL& a Vector ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector4_LREAL [} 1663]& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.28.2 Set At Sets the value Syntax Definition: HRESULT Set At( LONGLONG n Offset, Tc Vn Vector4_LREAL& a Vector ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector4_LREAL [} 1663]& The value to set 1814 Version: 2.4.0 TF7000 - TF7810
## Page 1815

API reference Return value HRESULT [} 144] 6.2.2.1.3.29 ITc Vn Random Access_Tc Vn Vector4_SINT Offers a random access interface for Tc Vn Vector4_SINT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector4_SINT [} 1768] ITc Vn Random Access_Tc Vn Vector4_SINT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1769] ITc Vn Access_Tc Vn Vector Gets the value 4_SINT Set [} 1769] ITc Vn Access_Tc Vn Vector Sets the value 4_SINT Get At [} 1815] ITc Vn Random Access_Tc Gets the value Vn Vector4_SINT Set At [} 1815] ITc Vn Random Access_Tc Sets the value Vn Vector4_SINT System Requirements 6.2.2.1.3.29.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, Tc Vn Vector4_SINT& a Vector ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector4_SINT [} 1663]& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.29.2 Set At Sets the value TF7000 - TF7810 Version: 2.4.0 1815
## Page 1816

API reference Syntax Definition: HRESULT Set At( LONGLONG n Offset, Tc Vn Vector4_SINT& a Vector ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector4_SINT [} 1663]& The value to set Return value HRESULT [} 144] 6.2.2.1.3.30 ITc Vn Random Access_Tc Vn Vector4_UINT Offers a random access interface for Tc Vn Vector4_UINT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector4_UINT [} 1770] ITc Vn Random Access_Tc Vn Vector4_UINT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1770] ITc Vn Access_Tc Vn Vector Gets the value 4_UINT Set [} 1770] ITc Vn Access_Tc Vn Vector Sets the value 4_UINT Get At [} 1816] ITc Vn Random Access_Tc Gets the value Vn Vector4_UINT Set At [} 1817] ITc Vn Random Access_Tc Sets the value Vn Vector4_UINT System Requirements 6.2.2.1.3.30.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, Tc Vn Vector4_UINT& a Vector ) 1816 Version: 2.4.0 TF7000 - TF7810
## Page 1817

API reference Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector4_UINT [} 1663]& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.30.2 Set At Sets the value Syntax Definition: HRESULT Set At( LONGLONG n Offset, Tc Vn Vector4_UINT& a Vector ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector4_UINT [} 1663]& The value to set Return value HRESULT [} 144] 6.2.2.1.3.31 ITc Vn Random Access_Tc Vn Vector4_USINT Offers a random access interface for Tc Vn Vector4_USINT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector4_USINT [} 1771] ITc Vn Random Access_Tc Vn Vector4_USINT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1771] ITc Vn Access_Tc Vn Vector Gets the value 4_USINT Set [} 1771] ITc Vn Access_Tc Vn Vector Sets the value 4_USINT Get At [} 1818] ITc Vn Random Access_Tc Gets the value Vn Vector4_USINT Set At [} 1818] ITc Vn Random Access_Tc Sets the value Vn Vector4_USINT TF7000 - TF7810 Version: 2.4.0 1817
## Page 1818

API reference System Requirements 6.2.2.1.3.31.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, Tc Vn Vector4_USINT& a Vector ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector4_USINT [} 1663]& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.31.2 Set At Sets the value Syntax Definition: HRESULT Set At( LONGLONG n Offset, Tc Vn Vector4_USINT& a Vector ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector4_USINT [} 1663]& The value to set Return value HRESULT [} 144] 6.2.2.1.3.32 ITc Vn Random Access_UDINT Offers a random access interface for UDINT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_UDINT [} 1772] ITc Vn Random Access_UDINT 1818 Version: 2.4.0 TF7000 - TF7810
## Page 1819

API reference Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1772] ITc Vn Access_UDINT Gets the value Set [} 1773] ITc Vn Access_UDINT Sets the value Get At [} 1819] ITc Vn Random Access_UD Gets the value INT Set At [} 1819] ITc Vn Random Access_UD Sets the value INT System Requirements 6.2.2.1.3.32.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, ULONG& n Value ) Parameters Name Type Description n Offset LONGLONG Offset to the current position n Value ULONG& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.32.2 Set At Sets the value Syntax Definition: HRESULT Set At( LONGLONG n Offset, ULONG n Value ) Parameters Name Type Description n Offset LONGLONG Offset to the current position n Value ULONG The value to set TF7000 - TF7810 Version: 2.4.0 1819
## Page 1820

API reference Return value HRESULT [} 144] 6.2.2.1.3.33 ITc Vn Random Access_UINT Offers a random access interface for UINT values Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_UINT [} 1773] ITc Vn Random Access_UINT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1773] ITc Vn Access_UINT Gets the value Set [} 1774] ITc Vn Access_UINT Sets the value Get At [} 1820] ITc Vn Random Access_UI Gets the value NT Set At [} 1820] ITc Vn Random Access_UI Sets the value NT System Requirements 6.2.2.1.3.33.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, USHORT& n Value ) Parameters Name Type Description n Offset LONGLONG Offset to the current position n Value USHORT& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.33.2 Set At Sets the value 1820 Version: 2.4.0 TF7000 - TF7810
## Page 1821

API reference Syntax Definition: HRESULT Set At( LONGLONG n Offset, USHORT n Value ) Parameters Name Type Description n Offset LONGLONG Offset to the current position n Value USHORT The value to set Return value HRESULT [} 144] 6.2.2.1.3.34 ITc Vn Random Access_ULINT Offers a randowm access interface for ULINT values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_ULINT [} 1774] ITc Vn Random Access_ULINT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1774] ITc Vn Access_ULINT Gets the value Set [} 1775] ITc Vn Access_ULINT Sets the value Get At [} 1821] ITc Vn Random Access_ULI Gets the value NT Set At [} 1822] ITc Vn Random Access_ULI Sets the value NT System Requirements 6.2.2.1.3.34.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, ULONGLONG& n Value ) TF7000 - TF7810 Version: 2.4.0 1821
## Page 1822

API reference Parameters Name Type Description n Offset LONGLONG Offset to the current position n Value ULONGLONG& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.34.2 Set At Sets the value Syntax Definition: HRESULT Set At( LONGLONG n Offset, ULONGLONG n Value ) Parameters Name Type Description n Offset LONGLONG Offset to the current position n Value ULONGLONG The value to set Return value HRESULT [} 144] 6.2.2.1.3.35 ITc Vn Random Access_USINT Offers a random access interface for USINT values Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_USINT [} 1775] ITc Vn Random Access_USINT Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1775] ITc Vn Access_USINT Gets the value Set [} 1776] ITc Vn Access_USINT Sets the value Get At [} 1823] ITc Vn Random Access_US Gets the value INT Set At [} 1823] ITc Vn Random Access_US Sets the value INT 1822 Version: 2.4.0 TF7000 - TF7810
## Page 1823

API reference System Requirements 6.2.2.1.3.35.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, unsigned char& n Value ) Parameters Name Type Description n Offset LONGLONG Offset to the current position n Value unsigned char& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.35.2 Set At Sets the value Syntax Definition: HRESULT Set At( LONGLONG n Offset, unsigned char n Value ) Parameters Name Type Description n Offset LONGLONG Offset to the current position n Value unsigned char The value to set Return value HRESULT [} 144] 6.2.2.1.3.36 ITc Vn Random Access_Tc Vn Vector4_REAL Offers a random access interface for Tc Vn Vector4_REAL values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Vector4_REAL [} 1776] ITc Vn Random Access_Tc Vn Vector4_REAL TF7000 - TF7810 Version: 2.4.0 1823
## Page 1824

API reference Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1777] ITc Vn Access_Tc Vn Vector Gets the value 4_REAL Set [} 1777] ITc Vn Access_Tc Vn Vector Sets the value 4_REAL Get At [} 1824] ITc Vn Random Access_Tc Gets the value Vn Vector4_REAL Set At [} 1824] ITc Vn Random Access_Tc Sets the value Vn Vector4_REAL System Requirements 6.2.2.1.3.36.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, Tc Vn Vector4_REAL& a Vector ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector4_REAL [} 1663]& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.36.2 Set At Sets the value Syntax Definition: HRESULT Set At( LONGLONG n Offset, Tc Vn Vector4_REAL& a Vector ) Parameters Name Type Description n Offset LONGLONG Offset to the current position a Vector Tc Vn Vector4_REAL [} 1663]& The value to set 1824 Version: 2.4.0 TF7000 - TF7810
## Page 1825

API reference Return value HRESULT [} 144] 6.2.2.1.3.37 ITc Vn Random Access_Tc Vn Rotated Rectangle Offers a random access interface for Tc Vn Rotated Rectangle values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Rotated Rectangle [} 1777] ITc Vn Random Access_Tc Vn Rotated Rectangle Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1778] ITc Vn Access_Tc Vn Rotate Gets the value d Rectangle Set [} 1778] ITc Vn Access_Tc Vn Rotate Sets the value d Rectangle Get At [} 1825] ITc Vn Random Access_Tc Gets the value Vn Rotated Rectangle Set At [} 1825] ITc Vn Random Access_Tc Sets the value Vn Rotated Rectangle System Requirements 6.2.2.1.3.37.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, Tc Vn Rotated Rectangle& st Rectangle ) Parameters Name Type Description n Offset LONGLONG Offset to the current position st Rectangle Tc Vn Rotated Rectangle [} 1733]& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.37.2 Set At Sets the value TF7000 - TF7810 Version: 2.4.0 1825
## Page 1826

API reference Syntax Definition: HRESULT Set At( LONGLONG n Offset, Tc Vn Rotated Rectangle& st Rectangle ) Parameters Name Type Description n Offset LONGLONG Offset to the current position st Rectangle Tc Vn Rotated Rectangle [} 1733]& The value to set Return value HRESULT [} 144] 6.2.2.1.3.38 ITc Vn Random Access_Tc Vn Rotated Rectangle Offers a random access interface for Tc Vn Rotated Rectangle values. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Access_Tc Vn Rotated Rectangle [} 1778] ITc Vn Random Access_Tc Vn Rotated Rectangle Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get [} 1779] ITc Vn Access_Tc Vn Rotate Gets the value d Rectangle Set [} 1779] ITc Vn Access_Tc Vn Rotate Sets the value d Rectangle Get At [} 1826] ITc Vn Random Access_Tc Gets the value Vn Rotated Rectangle Set At [} 1827] ITc Vn Random Access_Tc Sets the value Vn Rotated Rectangle System Requirements 6.2.2.1.3.38.1 Get At Gets the value Syntax Definition: HRESULT Get At( LONGLONG n Offset, Tc Vn Rotated Rectangle& st Rectangle ) 1826 Version: 2.4.0 TF7000 - TF7810
## Page 1827

API reference Parameters Name Type Description n Offset LONGLONG Offset to the current position st Rectangle Tc Vn Rotated Rectangle [} 1733]& Returns the value Return value HRESULT [} 144] 6.2.2.1.3.38.2 Set At Sets the value Syntax Definition: HRESULT Set At( LONGLONG n Offset, Tc Vn Rotated Rectangle& st Rectangle ) Parameters Name Type Description n Offset LONGLONG Offset to the current position st Rectangle Tc Vn Rotated Rectangle [} 1733]& The value to set Return value HRESULT [} 144] 6.2.2.1.4 Iterators This group contains interfaces for the handling of iterators in order to access elements of containers [} 155]. 6.2.2.1.4.1 ITc Vn Bidirectional Iterator Offers an interface for a bidirectional iterator. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Iterator Base [} 1830] ITc Vn Forward Iterator [} 1828] ITc Vn Bidirectional Iterator TF7000 - TF7810 Version: 2.4.0 1827
## Page 1828

API reference Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Check If Begin [} 1831] ITc Vn Iterator Base Checks if the iterator points to the first element. Check If End [} 1831] ITc Vn Iterator Base Checks if the iterator points to the past-the-end element (alternatively use F_VN_Check If Iterator Is At End). Get Value Size [} 1831] ITc Vn Iterator Base Gets the memory size (in byte) required by the value the iterator points to. Get Value Type Guid [} 1832]ITc Vn Iterator Base Gets the type GUID of the value the iterator points to. Set To Begin [} 1832] ITc Vn Iterator Base Sets the iterator to the first element (alternatively use F_VN_Set Iterator To Begin). Set To End [} 1832] ITc Vn Iterator Base Sets the iterator to the past-the-end element. Check If Equal To [} 1829] ITc Vn Forward Iterator Checks if iterator is equal to another iterator. Get Container [} 1829] ITc Vn Forward Iterator Gets a pointer to the current element converted into an ITc Vn Container interface and increment its reference counter (only possible for container types). (Alternatively use F_VN_Get Container.) Increment [} 1830] ITc Vn Forward Iterator Increments the iterator. (Alternatively use F_VN_Increment Iterator.) Set Container [} 1830] ITc Vn Forward Iterator Sets the current element using an ITc Vn Container interface (only possible for container types). (Alternatively use F_VN_Set Container.) Decrement [} 1828] ITc Vn Bidirectional Iterator Decrements the iterator. System Requirements 6.2.2.1.4.1.1 Decrement Decrements the iterator. Syntax Definition: HRESULT Decrement() Return value HRESULT [} 144] 6.2.2.1.4.2 ITc Vn Forward Iterator Offers an interface for a forward iterator. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Iterator Base [} 1830] ITc Vn Forward Iterator 1828 Version: 2.4.0 TF7000 - TF7810
## Page 1829

API reference Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Check If Begin [} 1831] ITc Vn Iterator Base Checks if the iterator points to the first element. Check If End [} 1831] ITc Vn Iterator Base Checks if the iterator points to the past-the-end element (alternatively use F_VN_Check If Iterator Is At End). Get Value Size [} 1831] ITc Vn Iterator Base Gets the memory size (in byte) required by the value the iterator points to. Get Value Type Guid [} 1832]ITc Vn Iterator Base Gets the type GUID of the value the iterator points to. Set To Begin [} 1832] ITc Vn Iterator Base Sets the iterator to the first element (alternatively use F_VN_Set Iterator To Begin). Set To End [} 1832] ITc Vn Iterator Base Sets the iterator to the past-the-end element. Check If Equal To [} 1829] ITc Vn Forward Iterator Checks if iterator is equal to another iterator. Get Container [} 1829] ITc Vn Forward Iterator Gets a pointer to the current element converted into an ITc Vn Container interface and increment its reference counter (only possible for container types). (Alternatively use F_VN_Get Container.) Increment [} 1830] ITc Vn Forward Iterator Increments the iterator. (Alternatively use F_VN_Increment Iterator.) Set Container [} 1830] ITc Vn Forward Iterator Sets the current element using an ITc Vn Container interface (only possible for container types). (Alternatively use F_VN_Set Container.) System Requirements 6.2.2.1.4.2.1 Check If Equal To Checks if iterator is equal to another iterator. Syntax Definition: HRESULT Check If Equal To( ITc Vn Forward Iterator* ip Iterator ) Parameters Name Type Description ip Iterator ITc Vn Forward Iterator* [} 1828] Iterator interface to compare with Return value HRESULT [} 144] 6.2.2.1.4.2.2 Get Container Gets a pointer to the current element converted into an ITc Vn Container interface and increment its reference counter (only possible for container types). (Alternatively use F_VN_Get Container.) TF7000 - TF7810 Version: 2.4.0 1829
## Page 1830

API reference Syntax Definition: HRESULT Get Container( ITc Vn Container** pip Container ) Parameters Name Type Description pip Container ITc Vn Container* [} 1836]* Returns the container interface. Return value HRESULT [} 144] 6.2.2.1.4.2.3 Increment Increments the iterator. (Alternatively use F_VN_Increment Iterator.) Syntax Definition: HRESULT Increment() Return value HRESULT [} 144] 6.2.2.1.4.2.4 Set Container Sets the current element using an ITc Vn Container interface (only possible for container types). (Alternatively use F_VN_Set Container.) Syntax Definition: HRESULT Set Container( ITc Vn Container* ip Container ) Parameters Name Type Description ip Container ITc Vn Container* [} 1836] Container interface of which the content is to be assigned to the current element. Return value HRESULT [} 144] 6.2.2.1.4.3 ITc Vn Iterator Base Offers a base interface for iterators 1830 Version: 2.4.0 TF7000 - TF7810
## Page 1831

API reference Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Iterator Base Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Check If Begin [} 1831] ITc Vn Iterator Base Checks if the iterator points to the first element. Check If End [} 1831] ITc Vn Iterator Base Checks if the iterator points to the past-the-end element (alternatively use F_VN_Check If Iterator Is At End). Get Value Size [} 1831] ITc Vn Iterator Base Gets the memory size (in byte) required by the value the iterator points to. Get Value Type Guid [} 1832]ITc Vn Iterator Base Gets the type GUID of the value the iterator points to. Set To Begin [} 1832] ITc Vn Iterator Base Sets the iterator to the first element (alternatively use F_VN_Set Iterator To Begin). Set To End [} 1832] ITc Vn Iterator Base Sets the iterator to the past-the-end element. System Requirements 6.2.2.1.4.3.1 Check If Begin Checks if the iterator points to the first element. Syntax Definition: HRESULT Check If Begin() Return value HRESULT [} 144] 6.2.2.1.4.3.2 Check If End Checks if the iterator points to the past-the-end element (alternatively use F_VN_Check If Iterator Is At End). Syntax Definition: HRESULT Check If End() Return value HRESULT [} 144] 6.2.2.1.4.3.3 Get Value Size Gets the memory size (in byte) required by the value the iterator points to. TF7000 - TF7810 Version: 2.4.0 1831
## Page 1832

API reference Syntax Definition: HRESULT Get Value Size( ULONGLONG& n Size ) Parameters Name Type Description n Size ULONGLONG& Returns the element size in bytes. Return value HRESULT [} 144] 6.2.2.1.4.3.4 Get Value Type Guid Gets the type GUID of the value the iterator points to. Syntax Definition: HRESULT Get Value Type Guid( GUID& n Type Guid ) Parameters Name Type Description n Type Guid GUID& Returns the type GUID. Return value HRESULT [} 144] 6.2.2.1.4.3.5 Set To Begin Sets the iterator to the first element (alternatively use F_VN_Set Iterator To Begin). Syntax Definition: HRESULT Set To Begin() Return value HRESULT [} 144] 6.2.2.1.4.3.6 Set To End Sets the iterator to the past-the-end element. Syntax Definition: HRESULT Set To End() 1832 Version: 2.4.0 TF7000 - TF7810
## Page 1833

API reference Return value HRESULT [} 144] 6.2.2.1.4.4 ITc Vn Iterator Copy Creator Offers an interface providing a method for creating a new iterator to the same position. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Iterator Copy Creator Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Create [} 1833] ITc Vn Iterator Copy Creator Create a new iterator pointing to the position of the calling iterator. System Requirements 6.2.2.1.4.4.1 Create Create a new iterator pointing to the position of the calling iterator. Syntax Definition: HRESULT Create( ITc Vn Forward Iterator** pip Iterator ) Parameters Name Type Description pip Iterator ITc Vn Forward Iterator* [} 1828]* Returns the created iterator. Return value HRESULT [} 144] 6.2.2.1.4.5 ITc Vn Random Access Iterator Offers an interface for a random access iterator. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Iterator Base [} 1830] ITc Vn Forward Iterator [} 1828] ITc Vn Bidirectional Iterator [} 1827] ITc Vn Random Access Iterator TF7000 - TF7810 Version: 2.4.0 1833
## Page 1834

API reference Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Check If Begin [} 1831] ITc Vn Iterator Base Checks if the iterator points to the first element. Check If End [} 1831] ITc Vn Iterator Base Checks if the iterator points to the past-the-end element (alternatively use F_VN_Check If Iterator Is At End). Get Value Size [} 1831] ITc Vn Iterator Base Gets the memory size (in byte) required by the value the iterator points to. Get Value Type Guid ITc Vn Iterator Base Gets the type GUID of the value the iterator points to. [} 1832] Set To Begin [} 1832] ITc Vn Iterator Base Sets the iterator to the first element (alternatively use F_VN_Set Iterator To Begin). Set To End [} 1832] ITc Vn Iterator Base Sets the iterator to the past-the-end element. Check If Equal To [} 1829] ITc Vn Forward Iterator Checks if iterator is equal to another iterator. Get Container [} 1829] ITc Vn Forward Iterator Gets a pointer to the current element converted into an ITc Vn Container interface and increment its reference counter (only possible for container types). (Alternatively use F_VN_Get Container.) Increment [} 1830] ITc Vn Forward Iterator Increments the iterator. (Alternatively use F_VN_Increment Iterator.) Set Container [} 1830] ITc Vn Forward Iterator Sets the current element using an ITc Vn Container interface (only possible for container types). (Alternatively use F_VN_Set Container.) Decrement [} 1828] ITc Vn Bidirectional Iterator Decrements the iterator. Check If Greater Than ITc Vn Random Access Itera Checks if the iterator is greater than another iterator. tor [} 1834] Check If Less Than [} 1835] ITc Vn Random Access Itera Checks if the iterator is less than another iterator. tor Get Container At [} 1835] ITc Vn Random Access Itera Gets a pointer to the element at a specific offset from tor the current element converted into an ITc Vn Container interface and increment its reference counter (only possible for container types). (Alternatively use F_VN_Get At_ITc Vn Container.) Set Container At [} 1836] ITc Vn Random Access Itera Sets the element at a specific offset from the current tor element using an ITc Vn Container interface (only possible for container types). (Alternatively use F_VN_Set At_ITc Vn Container.) System Requirements 6.2.2.1.4.5.1 Check If Greater Than Checks if the iterator is greater than another iterator. Syntax Definition: HRESULT Check If Greater Than( ITc Vn Random Access Iterator* ip Iterator ) 1834 Version: 2.4.0 TF7000 - TF7810
## Page 1835

API reference Parameters Name Type Description ip Iterator ITc Vn Random Access Iterator* Iterator interface to compare with. [} 1833] Return value HRESULT [} 144] 6.2.2.1.4.5.2 Check If Less Than Checks if the iterator is less than another iterator. Syntax Definition: HRESULT Check If Less Than( ITc Vn Random Access Iterator* ip Iterator ) Parameters Name Type Description ip Iterator ITc Vn Random Access Iterator* Iterator interface to compare with. [} 1833] Return value HRESULT [} 144] 6.2.2.1.4.5.3 Get Container At Gets a pointer to the element at a specific offset from the current element converted into an ITc Vn Container interface and increment its reference counter (only possible for container types). (Alternatively use F_VN_Get At_ITc Vn Container.) Syntax Definition: HRESULT Get Container At( LONGLONG n Offset, ITc Vn Container** pip Container ) Parameters Name Type Description n Offset LONGLONG Offset from the current element. pip Container ITc Vn Container* [} 1836]* Returns the pointer to the container interface. Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 1835
## Page 1836

API reference 6.2.2.1.4.5.4 Set Container At Sets the element at a specific offset from the current element using an ITc Vn Container interface (only possible for container types). (Alternatively use F_VN_Set At_ITc Vn Container.) Syntax Definition: HRESULT Set Container At( LONGLONG n Offset, ITc Vn Container* ip Container ) Parameters Name Type Description n Offset LONGLONG Offset from the current element. ip Container ITc Vn Container* [} 1836] Container interface of which the content is to be assigned to the current element. Return value HRESULT [} 144] 6.2.2.1.5 ITc Vn Container Offers an interface for an object container. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Container 1836 Version: 2.4.0 TF7000 - TF7810
## Page 1837

API reference Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Check If Basic Container ITc Vn Container Checks if the container contains only basic (non- container) elements. [} 1837] Check If Empty [} 1837] ITc Vn Container Checks if the container is empty. (Alternatively use F_VN_Check If Empty.) Get Bidirectional Iterator ITc Vn Container Gets an interface pointer to a bidirectional iterator (if this iterator type is supported by the container) and [} 1838] increment its reference counter. Get Element Num [} 1838] ITc Vn Container Gets the size (number of elements) of the container. (Alternatively use F_VN_Get Number Of Elements.) Get Element Size [} 1838] ITc Vn Container Gets the size (in byte) of each element in the container. Get Element Type Guid ITc Vn Container Gets the GUID of the container elements. [} 1839] Get Export Size [} 1839] ITc Vn Container Gets combined size (in byte) of all elements in the container. Get Forward Iterator [} 1839]ITc Vn Container Gets an interface pointer to a forward iterator (if this iterator type is supported by the container) and increment its reference counter. (Alternatively use F_VN_Get Forward Iterator.) Get Random Access Iterator ITc Vn Container Gets an interface pointer to a random access iterator (if this iterator type is supported by the container) and [} 1840] increment its reference counter. (Alternatively use F_VN_Get Random Access Iterator.) Get Type Guid [} 1840] ITc Vn Container Gets GUID of the container. Get Type Name [} 1841] ITc Vn Container Gets the container type name as a string. System Requirements 6.2.2.1.5.1 Check If Basic Container Checks if the container contains only basic (non-container) elements. Syntax Definition: HRESULT Check If Basic Container() Return value HRESULT [} 144] 6.2.2.1.5.2 Check If Empty Checks if the container is empty. (Alternatively use F_VN_Check If Empty.) Syntax Definition: HRESULT Check If Empty() TF7000 - TF7810 Version: 2.4.0 1837
## Page 1838

API reference Return value HRESULT [} 144] 6.2.2.1.5.3 Get Bidirectional Iterator Gets an interface pointer to a bidirectional iterator (if this iterator type is supported by the container) and increment its reference counter. Syntax Definition: HRESULT Get Bidirectional Iterator( ITc Vn Bidirectional Iterator** pip Iterator ) Parameters Name Type Description pip Iterator ITc Vn Bidirectional Iterator* Returns the iterator interface. [} 1827]* Return value HRESULT [} 144] 6.2.2.1.5.4 Get Element Num Gets the size (number of elements) of the container. (Alternatively use F_VN_Get Number Of Elements.) Syntax Definition: HRESULT Get Element Num( ULONGLONG& n Element Num ) Parameters Name Type Description n Element Num ULONGLONG& Returns the number of elements in the container. Return value HRESULT [} 144] 6.2.2.1.5.5 Get Element Size Gets the size (in byte) of each element in the container. Syntax Definition: HRESULT Get Element Size( ULONGLONG& n Size ) 1838 Version: 2.4.0 TF7000 - TF7810
## Page 1839

API reference Parameters Name Type Description n Size ULONGLONG& Returns the size in byte of a single element in the container. Return value HRESULT [} 144] 6.2.2.1.5.6 Get Element Type Guid Gets the GUID of the container elements. Syntax Definition: HRESULT Get Element Type Guid( GUID& n Type Guid ) Parameters Name Type Description n Type Guid GUID& Returns the GUID of the container elements. Return value HRESULT [} 144] 6.2.2.1.5.7 Get Export Size Gets combined size (in byte) of all elements in the container. Syntax Definition: HRESULT Get Export Size( ULONGLONG& n Export Size ) Parameters Name Type Description n Export Size ULONGLONG& Returns the combined size (in byte) of all elements in the container. Return value HRESULT [} 144] 6.2.2.1.5.8 Get Forward Iterator Gets an interface pointer to a forward iterator (if this iterator type is supported by the container) and increment its reference counter. (Alternatively use F_VN_Get Forward Iterator.) TF7000 - TF7810 Version: 2.4.0 1839
## Page 1840

API reference Syntax Definition: HRESULT Get Forward Iterator( ITc Vn Forward Iterator** pip Iterator ) Parameters Name Type Description pip Iterator ITc Vn Forward Iterator* [} 1828]* Returns the iterator interface. Return value HRESULT [} 144] 6.2.2.1.5.9 Get Random Access Iterator Gets an interface pointer to a random access iterator (if this iterator type is supported by the container) and increment its reference counter. (Alternatively use F_VN_Get Random Access Iterator.) Syntax Definition: HRESULT Get Random Access Iterator( ITc Vn Random Access Iterator** pip Iterator ) Parameters Name Type Description pip Iterator ITc Vn Random Access Iterator* Returns the iterator interface. [} 1833]* Return value HRESULT [} 144] 6.2.2.1.5.10 Get Type Guid Gets GUID of the container. Syntax Definition: HRESULT Get Type Guid( GUID& n Type Guid ) Parameters Name Type Description n Type Guid GUID& Returns the GUID of the container. Return value HRESULT [} 144] 1840 Version: 2.4.0 TF7000 - TF7810
## Page 1841

API reference 6.2.2.1.5.11 Get Type Name Gets the container type name as a string. Syntax Definition: HRESULT Get Type Name( PCHAR s Type Name, USHORT n Max Len ) Parameters Name Type Description s Type Name PCHAR Returns the container type name as a string. n Max Len USHORT Maximum string length allowed to be written in s Type Name Return value HRESULT [} 144] 6.2.2.2 Images This group contains interfaces for recording and handling images [} 152]. 6.2.2.2.1 Acquisition This group contains interfaces for handling the image acquisition. 6.2.2.2.1.1 ITc Io File Image Acquisition Interface for file image acquisition. Inheritance Hierarchy ITc Unknown [} 1883] ITc Io Image Acquisition [} 1845] ITc Io File Image Acquisition TF7000 - TF7810 Version: 2.4.0 1841
## Page 1842

API reference Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Register Receiver [} 1846] ITc Io Image Acquisition Register callback interface. Unregister Receiver [} 1846]ITc Io Image Acquisition Unregister callback interface. Open Camera [} 1846] ITc Io Image Acquisition Open camera (open the control channel, open a stream channel, and activate the GVSP receiver). Close Camera [} 1846] ITc Io Image Acquisition Close camera (deactivate the GVSP receiver, close the stream channel, and close the control channel). Start Acquisition [} 1847] ITc Io Image Acquisition Start the image acquisition. Stop Acquisition [} 1847] ITc Io Image Acquisition Stop the image acquisition. Software Trigger [} 1847] ITc Io Image Acquisition Initialize the software trigger and trigger it. The initialization step is skipped if it was executed before. Initialize Camera [} 1848] ITc Io Image Acquisition Send initialization commands to the camera. Check Connection [} 1842] ITc Io File Image Acquisition Checks the connection Trigger Image [} 1842] ITc Io File Image Acquisition Initialize the software trigger and trigger a single image. Skips n Skip Images and triggers the capturing of image n Skip Images+1. Trigger Image By Name ITc Io File Image Acquisition Initialize the software trigger and trigger a single image specified by its name in the client assistant. [} 1843] System Requirements 6.2.2.2.1.1.1 Check Connection Checks the connection Syntax Definition: HRESULT Check Connection() Return value HRESULT [} 144] 6.2.2.2.1.1.2 Trigger Image Initialize the software trigger and trigger a single image. Skips n Skip Images and triggers the capturing of image n Skip Images+1. Syntax Definition: HRESULT Trigger Image( LONG n Skip Images ) 1842 Version: 2.4.0 TF7000 - TF7810
## Page 1843

API reference Parameters Name Type Description n Skip Images LONG Number of images to skip Return value HRESULT [} 144] 6.2.2.2.1.1.3 Trigger Image By Name Initialize the software trigger and trigger a single image specified by its name in the client assistant. Syntax Definition: HRESULT Trigger Image By Name( PCCH s Image Name ) Parameters Name Type Description s Image Name PCCH Image name to trigger Return value HRESULT [} 144] 6.2.2.2.1.2 ITc Io File Image Recv Interface for a image receiver. Inheritance Hierarchy ITc Unknown [} 1883] ITc Io Image Recv [} 1848] ITc Io File Image Recv Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Receive Image [} 1848] ITc Io Image Recv Receive an image from an instance of ITc Io Gev Image Acquisition. Receive Op Result [} 1849] ITc Io Image Recv Receive an operation result from an instance of ITc Io Gev Image Acquisition. Receive Image [} 1844] ITc Io File Image Recv Receive an image from an instance of ITc Io File Image Acquisition. TF7000 - TF7810 Version: 2.4.0 1843
## Page 1844

API reference System Requirements 6.2.2.2.1.2.1 Receive Image Receive an image from an instance of ITc Io File Image Acquisition. Syntax Definition: HRESULT Receive Image( ITc Vn Image Base* ip Image, PCHAR s File Name, HRESULT hr Acquisition Result ) Parameters Name Type Description ip Image ITc Vn Image Base* [} 1872] Interface pointer to the image. s File Name PCHAR Returns the filename to the image. hr Acquisition Result HRESULT [} 144] HRESULT indicating the status of the image acquisition. Return value HRESULT [} 144] 6.2.2.2.1.3 ITc Io Gev Image Acquisition Interface for Gig E Vision image acquisition. Inheritance Hierarchy ITc Unknown [} 1883] ITc Io Image Acquisition [} 1845] ITc Io Gev Image Acquisition Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Register Receiver [} 1846] ITc Io Image Acquisition Register callback interface. Unregister Receiver [} 1846]ITc Io Image Acquisition Unregister callback interface. Open Camera [} 1846] ITc Io Image Acquisition Open camera (open the control channel, open a stream channel, and activate the GVSP receiver). Close Camera [} 1846] ITc Io Image Acquisition Close camera (deactivate the GVSP receiver, close the stream channel, and close the control channel). Start Acquisition [} 1847] ITc Io Image Acquisition Start the image acquisition. Stop Acquisition [} 1847] ITc Io Image Acquisition Stop the image acquisition. Software Trigger [} 1847] ITc Io Image Acquisition Initialize the software trigger and trigger it. The initialization step is skipped if it was executed before. Initialize Camera [} 1848] ITc Io Image Acquisition Send initialization commands to the camera. Check Connection [} 1845] ITc Io Gev Image Acquisition Checks the camera connection 1844 Version: 2.4.0 TF7000 - TF7810
## Page 1845

API reference System Requirements 6.2.2.2.1.3.1 Check Connection Checks the camera connection Syntax Definition: HRESULT Check Connection( GEV_CAMERA_STATE& e Assumed State, GEV_CAMERA_STATE& e Actual State ) Parameters Name Type Description e Assumed State GEV_CAMERA_STATE [} 1710]& The internally assumed state of the camera. e Actual State GEV_CAMERA_STATE [} 1710]& The actually observable state of the camera. Return value HRESULT [} 144] 6.2.2.2.1.4 ITc Io Image Acquisition Interface for image acquisition. Inheritance Hierarchy ITc Unknown [} 1883] ITc Io Image Acquisition Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Register Receiver [} 1846] ITc Io Image Acquisition Register callback interface. Unregister Receiver [} 1846]ITc Io Image Acquisition Unregister callback interface. Open Camera [} 1846] ITc Io Image Acquisition Open camera (open the control channel, open a stream channel, and activate the GVSP receiver). Close Camera [} 1846] ITc Io Image Acquisition Close camera (deactivate the GVSP receiver, close the stream channel, and close the control channel). Start Acquisition [} 1847] ITc Io Image Acquisition Start the image acquisition. Stop Acquisition [} 1847] ITc Io Image Acquisition Stop the image acquisition. Software Trigger [} 1847] ITc Io Image Acquisition Initialize the software trigger and trigger it. The initialization step is skipped if it was executed before. Initialize Camera [} 1848] ITc Io Image Acquisition Send initialization commands to the camera. TF7000 - TF7810 Version: 2.4.0 1845
## Page 1846

API reference System Requirements 6.2.2.2.1.4.1 Register Receiver Register callback interface. Syntax Definition: HRESULT Register Receiver( ITc Io Image Recv* ip Recv ) Parameters Name Type Description ip Recv ITc Io Image Recv* [} 1848] Pointer to an interface containing the callback function. Return value HRESULT [} 144] 6.2.2.2.1.4.2 Unregister Receiver Unregister callback interface. Syntax Definition: HRESULT Unregister Receiver() Return value HRESULT [} 144] 6.2.2.2.1.4.3 Open Camera Open camera (open the control channel, open a stream channel, and activate the GVSP receiver). Syntax Definition: HRESULT Open Camera() Return value HRESULT [} 144] 6.2.2.2.1.4.4 Close Camera Close camera (deactivate the GVSP receiver, close the stream channel, and close the control channel). Syntax Definition: HRESULT Close Camera() 1846 Version: 2.4.0 TF7000 - TF7810
## Page 1847

API reference Return value HRESULT [} 144] 6.2.2.2.1.4.5 Start Acquisition Start the image acquisition. Syntax Definition: HRESULT Start Acquisition() Return value HRESULT [} 144] 6.2.2.2.1.4.6 Stop Acquisition Stop the image acquisition. Syntax Definition: HRESULT Stop Acquisition() Return value HRESULT [} 144] 6.2.2.2.1.4.7 Software Trigger Initialize the software trigger and trigger it. The initialization step is skipped if it was executed before. Syntax Definition: HRESULT Software Trigger( bool b Split Concatenated Commands, bool b Omit Acknowledgement ) Parameters Name Type Description b Split Concatenated Commands bool If true, multi-read and multi-write commands are split into sequences of single read and single write commands, respectively. b Omit Acknowledgement bool Indicates that no acknowledge packet should be requested. Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 1847
## Page 1848

API reference 6.2.2.2.1.4.8 Initialize Camera Send initialization commands to the camera. Syntax Definition: HRESULT Initialize Camera() Return value HRESULT [} 144] 6.2.2.2.1.5 ITc Io Image Recv Interface for a image receiver. Inheritance Hierarchy ITc Unknown [} 1883] ITc Io Image Recv Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Receive Image [} 1848] ITc Io Image Recv Receive an image from an instance of ITc Io Gev Image Acquisition. Receive Op Result [} 1849] ITc Io Image Recv Receive an operation result from an instance of ITc Io Gev Image Acquisition. System Requirements 6.2.2.2.1.5.1 Receive Image Receive an image from an instance of ITc Io Gev Image Acquisition. Syntax Definition: HRESULT Receive Image( ITc Vn Image Base* ip Image, HRESULT hr Acquisition Result ) Parameters Name Type Description ip Image ITc Vn Image Base* [} 1872] Interface pointer to the image. hr Acquisition Result HRESULT [} 144] HRESULT indicating the status of the image acquisition. 1848 Version: 2.4.0 TF7000 - TF7810
## Page 1849

API reference Return value HRESULT [} 144] 6.2.2.2.1.5.2 Receive Op Result Receive an operation result from an instance of ITc Io Gev Image Acquisition. Syntax Definition: HRESULT Receive Op Result( HRESULT hr Operation Result ) Parameters Name Type Description hr Operation Result HRESULT [} 144] HRESULT indicating the status of the performed operation. Return value HRESULT [} 144] 6.2.2.2.1.6 ITc Vn File Image Provider Interface for an image provider for images from outside realtime environment. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Image Provider [} 1853] ITc Vn File Image Provider TF7000 - TF7810 Version: 2.4.0 1849
## Page 1850

API reference Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Check If Busy [} 1854] ITc Vn Image Provider Check whether the module is busy; i.e, an operation is in progress. Check If Camera Connected ITc Vn Image Provider Check if the camera is properly connected (Returns S_OK if connected and S_FALSE if not. Can only [} 1854] check software connection, i.e. the check is unable to determine if the cable is connected or not in case that S_FALSE is returned). Get Current Image [} 1855] ITc Vn Image Provider Gets the current image by detaching its internal reference. Get Error [} 1855] ITc Vn Image Provider Gets result of the last operation performed. Open Camera [} 1855] ITc Vn Image Provider Open camera (open the control channel, open a stream channel, and activate the GVSP receiver). Close Camera [} 1855] ITc Vn Image Provider Close camera (deactivate the GVSP receiver, close the stream channel, and close the control channel). Start Acquisition [} 1856] ITc Vn Image Provider Start image acquisition. Stop Acquisition [} 1856] ITc Vn Image Provider Stop image acquisition. Software Trigger [} 1856] ITc Vn Image Provider Initialize the software trigger and trigger it. The initialization step is skipped if it was executed before. Initialize Camera [} 1856] ITc Vn Image Provider Set camera to initial state. ITc Vn File Image Provider Get the current image by detaching its internal Get Current Image And File N reference. ame [} 1850] Trigger Image [} 1851] ITc Vn File Image Provider Initialize the software trigger and trigger a single image. Skips n Skip Images and triggers the capturing of image n Skip Images+1. Trigger Image By Name ITc Vn File Image Provider Initialize the software trigger and trigger a single image specified by its name in the client assistant. [} 1851] System Requirements 6.2.2.2.1.6.1 Get Current Image And File Name Get the current image by detaching its internal reference. Syntax Definition: HRESULT Get Current Image And File Name( ITc Vn Image** pip Image, PCHAR s File Name, USHORT n Max Len ) 1850 Version: 2.4.0 TF7000 - TF7810
## Page 1851

API reference Parameters Name Type Description pip Image ITc Vn Image* [} 1870]* pointer to the interface pointer to be returned, might be 0 if the image acquisition failed s File Name PCHAR returns the filename as a string n Max Len USHORT maximum string length allowed to be written in s File Name Return value HRESULT [} 144] 6.2.2.2.1.6.2 Trigger Image Initialize the software trigger and trigger a single image. Skips n Skip Images and triggers the capturing of image n Skip Images+1. Syntax Definition: HRESULT Trigger Image( LONG n Skip Images ) Parameters Name Type Description n Skip Images LONG Number of images to skip Return value HRESULT [} 144] 6.2.2.2.1.6.3 Trigger Image By Name Initialize the software trigger and trigger a single image specified by its name in the client assistant. Syntax Definition: HRESULT Trigger Image By Name( PCCH s Image Name ) Parameters Name Type Description s Image Name PCCH Image name to trigger Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 1851
## Page 1852

API reference 6.2.2.2.1.7 ITc Vn Gev Image Provider Interface for a Gig E Vision image provider. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Image Provider [} 1853] ITc Vn Gev Image Provider Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Check If Busy [} 1854] ITc Vn Image Provider Check whether the module is busy; i.e, an operation is in progress. Check If Camera Connected ITc Vn Image Provider Check if the camera is properly connected (Returns S_OK if connected and S_FALSE if not. Can only [} 1854] check software connection, i.e. the check is unable to determine if the cable is connected or not in case that S_FALSE is returned). Get Current Image [} 1855] ITc Vn Image Provider Gets the current image by detaching its internal reference. Get Error [} 1855] ITc Vn Image Provider Gets result of the last operation performed. Open Camera [} 1855] ITc Vn Image Provider Open camera (open the control channel, open a stream channel, and activate the GVSP receiver). Close Camera [} 1855] ITc Vn Image Provider Close camera (deactivate the GVSP receiver, close the stream channel, and close the control channel). Start Acquisition [} 1856] ITc Vn Image Provider Start image acquisition. Stop Acquisition [} 1856] ITc Vn Image Provider Stop image acquisition. Software Trigger [} 1856] ITc Vn Image Provider Initialize the software trigger and trigger it. The initialization step is skipped if it was executed before. Initialize Camera [} 1856] ITc Vn Image Provider Set camera to initial state. Get Current Gev Image ITc Vn Gev Image Provider Gets the current Gig E Vision image by detaching its internal reference. [} 1852] ITc Vn Gev Image Provider Gets the current image by detaching its internal Get Current Image With Gvs reference and additionally provide the GVSP info. p Info [} 1853] System Requirements 6.2.2.2.1.7.1 Get Current Gev Image Gets the current Gig E Vision image by detaching its internal reference. Syntax Definition: HRESULT Get Current Gev Image( ITc Io Gev Image** pip Gev Image ) 1852 Version: 2.4.0 TF7000 - TF7810
## Page 1853

API reference Parameters Name Type Description pip Gev Image ITc Io Gev Image* [} 1867]* Pointer to the interface pointer to be returned, might be 0 if the image acquisition failed. Return value HRESULT [} 144] 6.2.2.2.1.7.2 Get Current Image With Gvsp Info Gets the current image by detaching its internal reference and additionally provide the GVSP info. Syntax Definition: HRESULT Get Current Image With Gvsp Info( ITc Vn Image** pip Image, GVSP_IMAGE_INFO& st Gvsp Info ) Parameters Name Type Description pip Image ITc Vn Image* [} 1870]* Pointer to the interface pointer to be returned, might be 0 if the image acquisition failed. st Gvsp Info GVSP_IMAGE_INFO [} 1714]& Contains useful meta information like image id, time stamp etc. Return value HRESULT [} 144] 6.2.2.2.1.8 ITc Vn Image Provider Interface for an image provider. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Image Provider TF7000 - TF7810 Version: 2.4.0 1853
## Page 1854

API reference Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Check If Busy [} 1854] ITc Vn Image Provider Check whether the module is busy; i.e, an operation is in progress. Check If Camera Connected ITc Vn Image Provider Check if the camera is properly connected (Returns S_OK if connected and S_FALSE if not. Can only [} 1854] check software connection, i.e. the check is unable to determine if the cable is connected or not in case that S_FALSE is returned). Get Current Image [} 1855] ITc Vn Image Provider Gets the current image by detaching its internal reference. Get Error [} 1855] ITc Vn Image Provider Gets result of the last operation performed. Open Camera [} 1855] ITc Vn Image Provider Open camera (open the control channel, open a stream channel, and activate the GVSP receiver). Close Camera [} 1855] ITc Vn Image Provider Close camera (deactivate the GVSP receiver, close the stream channel, and close the control channel). Start Acquisition [} 1856] ITc Vn Image Provider Start image acquisition. Stop Acquisition [} 1856] ITc Vn Image Provider Stop image acquisition. Software Trigger [} 1856] ITc Vn Image Provider Initialize the software trigger and trigger it. The initialization step is skipped if it was executed before. Initialize Camera [} 1856] ITc Vn Image Provider Set camera to initial state. System Requirements 6.2.2.2.1.8.1 Check If Busy Check whether the module is busy; i.e, an operation is in progress. Syntax Definition: HRESULT Check If Busy() Return value HRESULT [} 144] 6.2.2.2.1.8.2 Check If Camera Connected Check if the camera is properly connected (Returns S_OK if connected and S_FALSE if not. Can only check software connection, i.e. the check is unable to determine if the cable is connected or not in case that S_FALSE is returned). Syntax Definition: HRESULT Check If Camera Connected() 1854 Version: 2.4.0 TF7000 - TF7810
## Page 1855

API reference Return value HRESULT [} 144] 6.2.2.2.1.8.3 Get Current Image Gets the current image by detaching its internal reference. Syntax Definition: HRESULT Get Current Image( ITc Vn Image** pip Image ) Parameters Name Type Description pip Image ITc Vn Image* [} 1870]* Pointer to the interface pointer to be returned, might be 0 if the image acquisition failed. Return value HRESULT [} 144] 6.2.2.2.1.8.4 Get Error Gets result of the last operation performed. Syntax Definition: HRESULT Get Error() Return value HRESULT [} 144] 6.2.2.2.1.8.5 Open Camera Open camera (open the control channel, open a stream channel, and activate the GVSP receiver). Syntax Definition: HRESULT Open Camera() Return value HRESULT [} 144] 6.2.2.2.1.8.6 Close Camera Close camera (deactivate the GVSP receiver, close the stream channel, and close the control channel). TF7000 - TF7810 Version: 2.4.0 1855
## Page 1856

API reference Syntax Definition: HRESULT Close Camera() Return value HRESULT [} 144] 6.2.2.2.1.8.7 Start Acquisition Start image acquisition. Syntax Definition: HRESULT Start Acquisition() Return value HRESULT [} 144] 6.2.2.2.1.8.8 Stop Acquisition Stop image acquisition. Syntax Definition: HRESULT Stop Acquisition() Return value HRESULT [} 144] 6.2.2.2.1.8.9 Software Trigger Initialize the software trigger and trigger it. The initialization step is skipped if it was executed before. Syntax Definition: HRESULT Software Trigger() Return value HRESULT [} 144] 6.2.2.2.1.8.10 Initialize Camera Set camera to initial state. Syntax Definition: HRESULT Initialize Camera() 1856 Version: 2.4.0 TF7000 - TF7810
## Page 1857

API reference Return value HRESULT [} 144] 6.2.2.2.2 Export This group contains interfaces for handling the data export in connection with images. 6.2.2.2.2.1 ITc Vn Bitmap Export Interface for exporting an image as a Windows Bitmap (BMP). Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Bitmap Export Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get Bitmap Size [} 1857] ITc Vn Bitmap Export Gets size of the image if it is converted to a Windows Bitmap (BMP). Get Bitmap Image [} 1858] ITc Vn Bitmap Export Export the image as a Windows Bitmap (BMP) into a given buffer. System Requirements 6.2.2.2.2.1.1 Get Bitmap Size Gets size of the image if it is converted to a Windows Bitmap (BMP). Syntax Definition: HRESULT Get Bitmap Size( ULONGLONG& n Bitmap Size, ULONG& n Bitmap Width, ULONG& n Bitmap Height ) Parameters Name Type Description n Bitmap Size ULONGLONG& Output parameter containing the required buffer size. n Bitmap Width ULONG& Desired width or 0 to keep the original width (in) and actual width (out). n Bitmap Height ULONG& Desired height or 0 to keep the original height (in) and actual height (out). TF7000 - TF7810 Version: 2.4.0 1857
## Page 1858

API reference Return value HRESULT [} 144] 6.2.2.2.2.1.2 Get Bitmap Image Export the image as a Windows Bitmap (BMP) into a given buffer. Syntax Definition: HRESULT Get Bitmap Image( ULONGLONG& n Bitmap Size, PVOID p Dest Buffer, ULONG& n Bitmap Width, ULONG& n Bitmap Height ) Parameters Name Type Description n Bitmap Size ULONGLONG& Maximum buffer size (in) and actual buffer size (out). p Dest Buffer PVOID Pointer to the destination buffer. n Bitmap Width ULONG& Desired width or 0 to keep the original width (in) and actual width (out). n Bitmap Height ULONG& Desired height or 0 to keep the original height (in) and actual height (out). Return value HRESULT [} 144] 6.2.2.2.2.2 ITc Vn Bitmap Export Notification Interface required for sending displayable images as ADS notifications Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Bitmap Export Notification Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get Timestamp [} 1859] ITc Vn Bitmap Export Notific Gets the timestamp of the latest image change. ation ITc Vn Bitmap Export Notific Export the image as a Windows Bitmap (BMP) into a Get Bitmap Image Rpc Unloc ation given buffer by means of an unlocked remote procedure call. It lies within the responsibility of the ked [} 1859] user to ensure that no conflicting accesses can occur. 1858 Version: 2.4.0 TF7000 - TF7810
## Page 1859

API reference System Requirements 6.2.2.2.2.2.1 Get Timestamp Gets the timestamp of the latest image change. Syntax Definition: HRESULT Get Timestamp( LONGLONG& n Timestamp ) Parameters Name Type Description n Timestamp LONGLONG& Returns the timestamp. Return value HRESULT [} 144] 6.2.2.2.2.2.2 Get Bitmap Image Rpc Unlocked Export the image as a Windows Bitmap (BMP) into a given buffer by means of an unlocked remote procedure call. It lies within the responsibility of the user to ensure that no conflicting accesses can occur. Syntax Definition: HRESULT Get Bitmap Image Rpc Unlocked( ULONGLONG& n Bitmap Size, PVOID p Dest Buffer, ULONG& n Bitmap Width, ULONG& n Bitmap Height ) Parameters Name Type Description n Bitmap Size ULONGLONG& Maximum buffer size (in) and actual buffer size (out). p Dest Buffer PVOID Pointer to the destination buffer. n Bitmap Width ULONG& Desired width or 0 to keep the original width (in) and actual width (out). n Bitmap Height ULONG& Desired height or 0 to keep the original height (in) and actual height (out). Return value HRESULT [} 144] 6.2.2.2.2.3 ITc Vn Bitmap Export Rpc Unlocked Interface to export an image as a Windows Bitmap (BMP) into a given buffer by means of an unlocked remote procedure call. TF7000 - TF7810 Version: 2.4.0 1859
## Page 1860

API reference Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Bitmap Export [} 1857] ITc Vn Bitmap Export Rpc Unlocked Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get Bitmap Size [} 1857] ITc Vn Bitmap Export Gets size of the image if it is converted to a Windows Bitmap (BMP). Get Bitmap Image [} 1858] ITc Vn Bitmap Export Export the image as a Windows Bitmap (BMP) into a given buffer. ITc Vn Bitmap Export Rpc Un Export the image as a Windows Bitmap (BMP) into a Get Bitmap Image Rpc Unloc locked given buffer by means of an unlocked remote procedure call. It lies within the responsibility of the ked [} 1860] user to ensure that no conflicting accesses can occur. System Requirements 6.2.2.2.2.3.1 Get Bitmap Image Rpc Unlocked Export the image as a Windows Bitmap (BMP) into a given buffer by means of an unlocked remote procedure call. It lies within the responsibility of the user to ensure that no conflicting accesses can occur. Syntax Definition: HRESULT Get Bitmap Image Rpc Unlocked( ULONGLONG& n Bitmap Size, PVOID p Dest Buffer, ULONG& n Bitmap Width, ULONG& n Bitmap Height ) Parameters Name Type Description n Bitmap Size ULONGLONG& Maximum buffer size (in) and actual buffer size (out). p Dest Buffer PVOID Pointer to the destination buffer. n Bitmap Width ULONG& Desired width or 0 to keep the original width (in) and actual width (out). n Bitmap Height ULONG& Desired height or 0 to keep the original height (in) and actual height (out). Return value HRESULT [} 144] 1860 Version: 2.4.0 TF7000 - TF7810
## Page 1861

API reference 6.2.2.2.2.4 ITc Vn Histogram Export Interface for exporting a histogram for an image as an array. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Histogram Export Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get Histogram Size [} 1861] ITc Vn Histogram Export Gets the size of the histogram array. Get Histogram Array ITc Vn Histogram Export Gets the histogram array. [} 1861] Get Custom Histogram Size ITc Vn Histogram Export Gets the size of a custom histogram array. [} 1862] ITc Vn Histogram Export Gets a custom histogram array. Get Custom Histogram Arra y [} 1862] System Requirements 6.2.2.2.2.4.1 Get Histogram Size Gets the size of the histogram array. Syntax Definition: HRESULT Get Histogram Size( ULONGLONG& n Histogram Size ) Parameters Name Type Description n Histogram Size ULONGLONG& Output parameter containing the required buffer size. Return value HRESULT [} 144] 6.2.2.2.2.4.2 Get Histogram Array Gets the histogram array. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 1861
## Page 1862

API reference HRESULT Get Histogram Array( ULONGLONG& n Histogram Size, PVOID p Dest Buffer ) Parameters Name Type Description n Histogram Size ULONGLONG& Maximum buffer size (in) and actual buffer size (out). p Dest Buffer PVOID Pointer to the destination buffer. Return value HRESULT [} 144] 6.2.2.2.2.4.3 Get Custom Histogram Size Gets the size of a custom histogram array. Syntax Definition: HRESULT Get Custom Histogram Size( ULONGLONG& n Histogram Size, ULONG& n Bins ) Parameters Name Type Description n Histogram Size ULONGLONG& Output parameter containing the required buffer size. n Bins ULONG& Desired number of bins or 0 to keep the default for the corresponding image format (in) and default number of bins (out). Return value HRESULT [} 144] 6.2.2.2.2.4.4 Get Custom Histogram Array Gets a custom histogram array. Syntax Definition: HRESULT Get Custom Histogram Array( ULONGLONG& n Histogram Size, PVOID p Dest Buffer, ULONG& n Bins, double& f Lower Bound, double& f Upper Bound ) 1862 Version: 2.4.0 TF7000 - TF7810
## Page 1863

API reference Parameters Name Type Description n Histogram Size ULONGLONG& Maximum buffer size (in) and actual buffer size (out). p Dest Buffer PVOID Pointer to the destination buffer. n Bins ULONG& Desired number of bins or 0 to keep the default for the corresponding image format (in) and default number of bins (out). f Lower Bound double& Lower (inclusive) boundary of the 0-th histogram bin (in), or receive the default if f Lower Bound AND f Upper Bound are set to 0 (out). f Upper Bound double& Upper (exclusive) boundary of the last histogram bin n Bins-1 (in), or receive the default if f Lower Bound AND f Upper Bound are set to 0 (out). Return value HRESULT [} 144] 6.2.2.2.2.5 ITc Vn Tiff Export Interface for exporting an image as tiff. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Tiff Export Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get Tiff Size [} 1863] ITc Vn Tiff Export Gets size of the image if it is converted to tiff. Get Tiff Image [} 1864] ITc Vn Tiff Export Export the image as tiff into a given buffer. System Requirements 6.2.2.2.2.5.1 Get Tiff Size Gets size of the image if it is converted to tiff. Syntax Definition: HRESULT Get Tiff Size( ULONGLONG& n Tiff Size ) TF7000 - TF7810 Version: 2.4.0 1863
## Page 1864

API reference Parameters Name Type Description n Tiff Size ULONGLONG& Output parameter containing the required buffer size. Return value HRESULT [} 144] 6.2.2.2.2.5.2 Get Tiff Image Export the image as tiff into a given buffer. Syntax Definition: HRESULT Get Tiff Image( ULONGLONG& n Tiff Size, PVOID p Dest Buffer ) Parameters Name Type Description n Tiff Size ULONGLONG& Maximum buffer size (in) and actual buffer size (out). p Dest Buffer PVOID Pointer to the destination buffer. Return value HRESULT [} 144] 6.2.2.2.2.6 ITc Vn Tiff Export Notification Interface for sending displayable images as tiff via ADS notifications. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Tiff Export Notification Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get Timestamp [} 1865] ITc Vn Tiff Export Notificatio Gets the timestamp of the latest image change. n Get Tiff Image Rpc Unlocked ITc Vn Tiff Export Notificatio Export the image as tiff into a given buffer by means n of an unlocked remote procedure call. It lies within [} 1865] the responsibility of the user to ensure that no conflicting accesses can occur. 1864 Version: 2.4.0 TF7000 - TF7810
## Page 1865

API reference System Requirements 6.2.2.2.2.6.1 Get Timestamp Gets the timestamp of the latest image change. Syntax Definition: HRESULT Get Timestamp( LONGLONG& n Timestamp ) Parameters Name Type Description n Timestamp LONGLONG& Returns the timestamp. Return value HRESULT [} 144] 6.2.2.2.2.6.2 Get Tiff Image Rpc Unlocked Export the image as tiff into a given buffer by means of an unlocked remote procedure call. It lies within the responsibility of the user to ensure that no conflicting accesses can occur. Syntax Definition: HRESULT Get Tiff Image Rpc Unlocked( ULONGLONG& n Tiff Size, PVOID p Dest Buffer ) Parameters Name Type Description n Tiff Size ULONGLONG& Maximum buffer size (in) and actual buffer size (out). p Dest Buffer PVOID Pointer to the destination buffer. Return value HRESULT [} 144] 6.2.2.2.2.7 ITc Vn Tiff Export Rpc Unlocked Interface for exporting an image as tiff by means of an unlocked remote procedure call. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Tiff Export [} 1863] ITc Vn Tiff Export Rpc Unlocked TF7000 - TF7810 Version: 2.4.0 1865
## Page 1866

API reference Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get Tiff Size [} 1863] ITc Vn Tiff Export Gets size of the image if it is converted to tiff. Get Tiff Image [} 1864] ITc Vn Tiff Export Export the image as tiff into a given buffer. Get Tiff Image Rpc Unlocked ITc Vn Tiff Export Rpc Unlock Export the image as tiff into a given buffer by means ed of an unlocked remote procedure call. It lies within [} 1866] the responsibility of the user to ensure that no conflicting accesses can occur. System Requirements 6.2.2.2.2.7.1 Get Tiff Image Rpc Unlocked Export the image as tiff into a given buffer by means of an unlocked remote procedure call. It lies within the responsibility of the user to ensure that no conflicting accesses can occur. Syntax Definition: HRESULT Get Tiff Image Rpc Unlocked( ULONGLONG& n Tiff Size, PVOID p Dest Buffer ) Parameters Name Type Description n Tiff Size ULONGLONG& Maximum buffer size (in) and actual buffer size (out). p Dest Buffer PVOID Pointer to the destination buffer. Return value HRESULT [} 144] 6.2.2.2.3 Import This group contains interfaces for handling the data import in connection with images. 6.2.2.2.3.1 ITc Vn Tiff Import Interface for importing a tiff image. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Tiff Import 1866 Version: 2.4.0 TF7000 - TF7810
## Page 1867

API reference Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Import Tiff Image [} 1867] ITc Vn Tiff Import Import a tiff image. System Requirements 6.2.2.2.3.1.1 Import Tiff Image Import a tiff image. Syntax Definition: HRESULT Import Tiff Image( PVOID p Tiff Image ) Parameters Name Type Description p Tiff Image PVOID Pointer to the tiff file. Return value HRESULT [} 144] 6.2.2.2.4 ITc Io Gev Image Interface for Gig E Vision images. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Image Base [} 1872] ITc Io Gev Image TF7000 - TF7810 Version: 2.4.0 1867
## Page 1868

API reference Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get Image Data [} 1873] ITc Vn Image Base Gets the data interface (Do not explicitly free the pointer in there!). Get Image Size [} 1873] ITc Vn Image Base Gets the image size. Get Width [} 1874] ITc Vn Image Base Gets the image width (alternatively use F_VN_Get Image Width). Get Height [} 1874] ITc Vn Image Base Gets the image height (alternatively use F_VN_Get Image Height). Get XPadding [} 1874] ITc Vn Image Base Gets the horizontal padding. Get YPadding [} 1875] ITc Vn Image Base Gets the vertical padding. Get Pixel Format [} 1875] ITc Vn Image Base Gets the pixel format (alternatively use F_VN_Get Pixel Format). Get Image Info [} 1876] ITc Vn Image Base Gets a struct containing all common meta infos of the image. This basically encompasses all meta information accessible via this interface. (Alternatively use F_VN_Get Image Info.) Check If Copy [} 1868] ITc Io Gev Image Check if image data is a copy. Decrease Height [} 1868] ITc Io Gev Image Sets image height to new Height if it is smaller than the current value. Get Block Id [} 1869] ITc Io Gev Image Gets the GVSP block ID. Get Gev Status [} 1869] ITc Io Gev Image Gets the block status. Get Gvsp Image Info [} 1869]ITc Io Gev Image Gets a pointer to the GVSP leader payload. Set Gev Status [} 1870] ITc Io Gev Image Sets the block status. System Requirements 6.2.2.2.4.1 Check If Copy Check if image data is a copy. Syntax Definition: HRESULT Check If Copy() Return value HRESULT [} 144] 6.2.2.2.4.2 Decrease Height Sets image height to new Height if it is smaller than the current value. Syntax Definition: HRESULT Decrease Height( ULONG n New Height ) 1868 Version: 2.4.0 TF7000 - TF7810
## Page 1869

API reference Parameters Name Type Description n New Height ULONG Height value to set. Return value HRESULT [} 144] 6.2.2.2.4.3 Get Block Id Gets the GVSP block ID. Syntax Definition: HRESULT Get Block Id( ULONGLONG& n Block Id ) Parameters Name Type Description n Block Id ULONGLONG& Returns the block ID. Return value HRESULT [} 144] 6.2.2.2.4.4 Get Gev Status Gets the block status. Syntax Definition: HRESULT Get Gev Status( USHORT& n Gev Status ) Parameters Name Type Description n Gev Status USHORT& Returns the Gig E Vision status code. Return value HRESULT [} 144] 6.2.2.2.4.5 Get Gvsp Image Info Gets a pointer to the GVSP leader payload. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 1869
## Page 1870

API reference HRESULT Get Gvsp Image Info( GVSP_IMAGE_INFO** pp Gvsp Image Info ) Parameters Name Type Description pp Gvsp Image Info GVSP_IMAGE_INFO [} 1714]** Pointer to the GVSP meta information. Return value HRESULT [} 144] 6.2.2.2.4.6 Set Gev Status Sets the block status. Syntax Definition: HRESULT Set Gev Status( USHORT n Gev Status ) Parameters Name Type Description n Gev Status USHORT Gig E Vision status code. Return value HRESULT [} 144] 6.2.2.2.5 ITc Vn Displayable Image Interface for displayable images. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Displayable Image Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. System Requirements 6.2.2.2.6 ITc Vn Image Basic interface for images. 1870 Version: 2.4.0 TF7000 - TF7810
## Page 1871

API reference Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Image Base [} 1872] ITc Vn Image Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get Image Data [} 1873] ITc Vn Image Base Gets the data interface (Do not explicitly free the pointer in there!). Get Image Size [} 1873] ITc Vn Image Base Gets the image size. Get Width [} 1874] ITc Vn Image Base Gets the image width (alternatively use F_VN_Get Image Width). Get Height [} 1874] ITc Vn Image Base Gets the image height (alternatively use F_VN_Get Image Height). Get XPadding [} 1874] ITc Vn Image Base Gets the horizontal padding. Get YPadding [} 1875] ITc Vn Image Base Gets the vertical padding. Get Pixel Format [} 1875] ITc Vn Image Base Gets the pixel format (alternatively use F_VN_Get Pixel Format). Get Image Info [} 1876] ITc Vn Image Base Gets a struct containing all common meta infos of the image. This basically encompasses all meta information accessible via this interface. (Alternatively use F_VN_Get Image Info.) Init [} 1871] ITc Vn Image Initialize an image with an ITc Vn Image Base interface. Get Row Pointer [} 1872] ITc Vn Image Gets a pointer to a specific row of an image. Release Row Pointer [} 1872]ITc Vn Image Release the pointer to a specific row of an image. System Requirements 6.2.2.2.6.1 Init Initialize an image with an ITc Vn Image Base interface. Syntax Definition: HRESULT Init( ITc Vn Image Base* ip Image Base ) Parameters Name Type Description ip Image Base ITc Vn Image Base* [} 1872] Image from which to obtain the data. Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 1871
## Page 1872

API reference 6.2.2.2.6.2 Get Row Pointer Gets a pointer to a specific row of an image. Syntax Definition: HRESULT Get Row Pointer( ULONG n Row Index, PVOID* pp Row ) Parameters Name Type Description n Row Index ULONG Row index. pp Row PVOID* Returns a pointer to the requested image row. Return value HRESULT [} 144] 6.2.2.2.6.3 Release Row Pointer Release the pointer to a specific row of an image. Syntax Definition: HRESULT Release Row Pointer( PVOID* pp Row ) Parameters Name Type Description pp Row PVOID* Pointer to the row pointer to be released. Return value HRESULT [} 144] 6.2.2.2.7 ITc Vn Image Base Base interface for all image types. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Image Base 1872 Version: 2.4.0 TF7000 - TF7810
## Page 1873

API reference Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get Image Data [} 1873] ITc Vn Image Base Gets the data interface (Do not explicitly free the pointer in there!). Get Image Size [} 1873] ITc Vn Image Base Gets the image size. Get Width [} 1874] ITc Vn Image Base Gets the image width (alternatively use F_VN_Get Image Width). Get Height [} 1874] ITc Vn Image Base Gets the image height (alternatively use F_VN_Get Image Height). Get XPadding [} 1874] ITc Vn Image Base Gets the horizontal padding. Get YPadding [} 1875] ITc Vn Image Base Gets the vertical padding. Get Pixel Format [} 1875] ITc Vn Image Base Gets the pixel format (alternatively use F_VN_Get Pixel Format). Get Image Info [} 1876] ITc Vn Image Base Gets a struct containing all common meta infos of the image. This basically encompasses all meta information accessible via this interface. (Alternatively use F_VN_Get Image Info.) System Requirements 6.2.2.2.7.1 Get Image Data Gets the data interface (Do not explicitly free the pointer in there!). Syntax Definition: HRESULT Get Image Data( ITc Vn Data** pip Image Data ) Parameters Name Type Description pip Image Data ITc Vn Data* [} 1880]* Returns a pointer to the image data interface. Return value HRESULT [} 144] 6.2.2.2.7.2 Get Image Size Gets the image size. Syntax Definition: HRESULT Get Image Size( ULONGLONG& n Size ) TF7000 - TF7810 Version: 2.4.0 1873
## Page 1874

API reference Parameters Name Type Description n Size ULONGLONG& Returns the image size in bytes. Return value HRESULT [} 144] 6.2.2.2.7.3 Get Width Gets the image width (alternatively use F_VN_Get Image Width). Syntax Definition: HRESULT Get Width( ULONG& n Width ) Parameters Name Type Description n Width ULONG& Returns the image width in pixels. Return value HRESULT [} 144] 6.2.2.2.7.4 Get Height Gets the image height (alternatively use F_VN_Get Image Height). Syntax Definition: HRESULT Get Height( ULONG& n Height ) Parameters Name Type Description n Height ULONG& Returns the image height in pixels. Return value HRESULT [} 144] 6.2.2.2.7.5 Get XPadding Gets the horizontal padding. Syntax Definition: 1874 Version: 2.4.0 TF7000 - TF7810
## Page 1875

API reference HRESULT Get XPadding( USHORT& n XPadding ) Parameters Name Type Description n XPadding USHORT& Returns the horizontal padding in bytes. Return value HRESULT [} 144] 6.2.2.2.7.6 Get YPadding Gets the vertical padding. Syntax Definition: HRESULT Get YPadding( USHORT& n YPadding ) Parameters Name Type Description n YPadding USHORT& Returns the vertical padding in bytes. Return value HRESULT [} 144] 6.2.2.2.7.7 Get Pixel Format Gets the pixel format (alternatively use F_VN_Get Pixel Format). Syntax Definition: HRESULT Get Pixel Format( Tc Vn Pixel Format& st Pixel Format ) Parameters Name Type Description st Pixel Format Tc Vn Pixel Format [} 1731]& Returns a struct describing the pixel format. Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 1875
## Page 1876

API reference 6.2.2.2.7.8 Get Image Info Gets a struct containing all common meta infos of the image. This basically encompasses all meta information accessible via this interface. (Alternatively use F_VN_Get Image Info.) Syntax Definition: HRESULT Get Image Info( Tc Vn Image Info& st Image Info ) Parameters Name Type Description st Image Info Tc Vn Image Info [} 1719]& Returns a struct describing the image. Return value HRESULT [} 144] 6.2.2.3 Machine Learning This group contains interfaces for machine learning. 6.2.2.3.1 ITc Vn Color Model Interface to train and classify an image color. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Ml Model [} 1877] ITc Vn Color Model Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get Type Guid [} 1878] ITc Vn Ml Model Gets the GUID of the model. Get Type Name [} 1878] ITc Vn Ml Model Gets the model type name as a string. Train Image Color [} 1876] ITc Vn Color Model Train the color of the provided image. Classify Image Color [} 1877]ITc Vn Color Model Compute the similarity of each image pixel to the trained reference color. System Requirements 6.2.2.3.1.1 Train Image Color Train the color of the provided image. 1876 Version: 2.4.0 TF7000 - TF7810
## Page 1877

API reference Syntax Definition: HRESULT Train Image Color( ITc Vn Image* ip Src Image, ULONG n Different Colors, ITc Vn Image* ip Mask, ULONG n Skip Pixels ) Parameters Name Type Description ip Src Image ITc Vn Image* [} 1870] Source image. n Different Colors ULONG Number of different colors to differentiate. ip Mask ITc Vn Image* [} 1870] Optional image mask. n Skip Pixels ULONG Number of pixels to skip between each evaluated color sample (to achieve a better performance). 0 takes every pixel into account and tends to be more accurate. Return value HRESULT [} 144] 6.2.2.3.1.2 Classify Image Color Compute the similarity of each image pixel to the trained reference color. Syntax Definition: HRESULT Classify Image Color( ITc Vn Image* ip Src Image, ITc Vn Image** pip Dest Image, float f Variance, float f Luminance Weight ) Parameters Name Type Description ip Src Image ITc Vn Image* [} 1870] Source image. pip Dest Image ITc Vn Image* [} 1870]* Returns the color similarity. f Variance float Allowed color variance. f Luminance Weight float Weight the impact of the luminance. Return value HRESULT [} 144] 6.2.2.3.2 ITc Vn Ml Model Interface for a machine learning model. TF7000 - TF7810 Version: 2.4.0 1877
## Page 1878

API reference Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Ml Model Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get Type Guid [} 1878] ITc Vn Ml Model Gets the GUID of the model. Get Type Name [} 1878] ITc Vn Ml Model Gets the model type name as a string. System Requirements 6.2.2.3.2.1 Get Type Guid Gets the GUID of the model. Syntax Definition: HRESULT Get Type Guid( GUID& n Type Guid ) Parameters Name Type Description n Type Guid GUID& Returns the GUID of the model. Return value HRESULT [} 144] 6.2.2.3.2.2 Get Type Name Gets the model type name as a string. Syntax Definition: HRESULT Get Type Name( PCHAR s Type Name, USHORT n Max Len ) Parameters Name Type Description s Type Name PCHAR Returns the model type name as a string. n Max Len USHORT Maximum string length allowed to be written in s Type Name. 1878 Version: 2.4.0 TF7000 - TF7810
## Page 1879

API reference Return value HRESULT [} 144] 6.2.2.4 Miscellaneous This group contains other interfaces. 6.2.2.4.1 ITc Serializable Notification Interface required for sending serialized objects as ADS notifications. Inheritance Hierarchy ITc Unknown [} 1883] ITc Serializable Notification Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get Comparison Value ITc Serializable Notification Gets a value that reflects changes of the underlying object (e.g., the timestamp of the latest object [} 1879] change). Serialize Rpc Unlocked ITc Serializable Notification Serialize an object into a given buffer. [} 1879] System Requirements 6.2.2.4.1.1 Get Comparison Value Gets a value that reflects changes of the underlying object (e.g., the timestamp of the latest object change). Syntax Definition: HRESULT Get Comparison Value( LONGLONG& n Comparison Value ) Parameters Name Type Description n Comparison Value LONGLONG& Returns the comparison value. Return value HRESULT [} 144] 6.2.2.4.1.2 Serialize Rpc Unlocked Serialize an object into a given buffer. TF7000 - TF7810 Version: 2.4.0 1879
## Page 1880

API reference Syntax Definition: HRESULT Serialize Rpc Unlocked( ULONGLONG& n Buffer Size, PVOID p Dest Buffer ) Parameters Name Type Description n Buffer Size ULONGLONG& Maximum buffer size (in) and actually used buffer size (out). p Dest Buffer PVOID Pointer to the destination buffer. Return value HRESULT [} 144] 6.2.2.4.2 ITc Vn Data Interface for accessing data. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Data Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Check If Copy [} 1880] ITc Vn Data Check if the data are a copy (returns S_OK for copies and S_FALSE otherwise). Check If Image [} 1881] ITc Vn Data Check if the data belongs to an image (returns S_OK for images and S_FALSE otherwise). Get Size [} 1881] ITc Vn Data Gets the size of the data. Check Data Pointer [} 1881] ITc Vn Data Check if the data pointer is different from 0 (returns S_OK for non-zero data pointers and S_FALSE otherwise). Get Data Pointer [} 1881] ITc Vn Data Gets the data pointer (the obtained data pointer must be released by calling Release Data Pointer). Release Data Pointer ITc Vn Data Release the data pointer. [} 1882] System Requirements 6.2.2.4.2.1 Check If Copy Check if the data are a copy (returns S_OK for copies and S_FALSE otherwise). Syntax Definition: 1880 Version: 2.4.0 TF7000 - TF7810
## Page 1881

API reference HRESULT Check If Copy() Return value HRESULT [} 144] 6.2.2.4.2.2 Check If Image Check if the data belongs to an image (returns S_OK for images and S_FALSE otherwise). Syntax Definition: HRESULT Check If Image() Return value HRESULT [} 144] 6.2.2.4.2.3 Get Size Gets the size of the data. Syntax Definition: HRESULT Get Size( ULONGLONG& n Size ) Parameters Name Type Description n Size ULONGLONG& Size of the stored data in bytes. Return value HRESULT [} 144] 6.2.2.4.2.4 Check Data Pointer Check if the data pointer is different from 0 (returns S_OK for non-zero data pointers and S_FALSE otherwise). Syntax Definition: HRESULT Check Data Pointer() Return value HRESULT [} 144] 6.2.2.4.2.5 Get Data Pointer Gets the data pointer (the obtained data pointer must be released by calling Release Data Pointer). TF7000 - TF7810 Version: 2.4.0 1881
## Page 1882

API reference Syntax Definition: HRESULT Get Data Pointer( PVOID* pp Data ) Parameters Name Type Description pp Data PVOID* Returns the data pointer. Return value HRESULT [} 144] 6.2.2.4.2.6 Release Data Pointer Release the data pointer. Syntax Definition: HRESULT Release Data Pointer( PVOID* pp Data ) Parameters Name Type Description pp Data PVOID* Pointer to the data pointer to be released. Return value HRESULT [} 144] 6.2.2.4.3 ITc Vn Timestamp Offers an interface for timestamps. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Timestamp Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Update Timestamp [} 1883]ITc Vn Timestamp Updates the timestamp to the current time Get Timestamp [} 1883] ITc Vn Timestamp Gets the timestamp 1882 Version: 2.4.0 TF7000 - TF7810
## Page 1883

API reference System Requirements 6.2.2.4.3.1 Update Timestamp Updates the timestamp to the current time Syntax Definition: HRESULT Update Timestamp() Return value HRESULT [} 144] 6.2.2.4.3.2 Get Timestamp Gets the timestamp Syntax Definition: HRESULT Get Timestamp( LONGLONG& n Timestamp ) Parameters Name Type Description n Timestamp LONGLONG& Returns the timestamp Return value HRESULT [} 144] 6.2.2.4.4 Interface ITc Unknown ITc Unknown defines the reference count as well as the querying of a reference to a more specific interface. Syntax TCOM_DECL_INTERFACE("00000001-0000-0000-e000-000000000064", ITc Unknown) Declared in: Tc Interfaces.h Required include: - Methods Name Description Tc Add Ref [} 1884] Increments the reference counter. Tc Query Interface [} 1884] Query of the reference to an implemented interface via the IID. Tc Release [} 1885] Decrements the reference counter. Every Tc COM interface is derived directly or indirectly from ITc Unknown. As a result, every Tc COM module class implements ITc Unknown because it is derived from ITCom Object. The standard implementation of ITc Unknown ensures that the object is deleted after the last reference is released. For this reason, an interface pointer must not be dereferenced after calling Tc Release(). TF7000 - TF7810 Version: 2.4.0 1883
## Page 1884

API reference 6.2.2.4.4.1 Method ITc Unknown:Tc Add Ref Increments the reference counter and returns the new value. Syntax ULONG Tc Add Ref( ) Return value Resulting reference count value. 6.2.2.4.4.2 Method ITc Unknown:Tc Query Interface Query of an interface pointer with regard to an interface that is given by interface ID (IID). Syntax HRESULT Tc Query Interface(RITCID iid, PPVOID pip Itf ) Return value If successful, S_OK ("0") or another positive value will be returned, cf. Return values. Extended messages refer in particular to the column HRESULT in ADS Return Codes [} 2864]. If the demanded interface is not available, the method returns ADSERR_DEVICE_NOINTERFACE. Parameter Name Type Description iid RITCID Interface IID. pip Itf PPVOID Pointer to interface pointer. Is set when the requested interface type is available from the corresponding instance. Description Query of the reference to an implemented interface via the IID. It is recommended to use Smart Pointers to initialize and hold interface pointers. Variant 1: HRESULT Get Trace Level(ITc Unkown* ip, Tc Trace Level& tl) { HRESULT hr = S_OK; if (ip != NULL) { ITCom Object Ptr sp Obj; hr = ip->Tc Query Interface(sp Obj. Get IID(), &sp Obj); if (SUCCEEDED(hr)) { hr = sp Obj->Tc Get Obj Para(PID_Tc Trace Level, &tl, sizeof(tl)); } return hr; } } The interface ID associated with the Smart Pointer can be used as a parameter in Tc Query Interface. The "&" operator will return the pointer to the internal interface pointer member variable of the Smart Pointer. Variant 1 assumes that the interface pointer is initialized when Tc Query Interface indicates success. If the range remains, then the destructor of the Smart Pointer sp Obj releases the reference. Variant 2: HRESULT Get Trace Level(ITc Unkown* ip, Tc Trace Level& tl) { 1884 Version: 2.4.0 TF7000 - TF7810
## Page 1885

API reference HRESULT hr = S_OK; ITCom Object Ptr sp Obj = ip; if (sp Obj != NULL) { sp Obj->Tc Get Obj Param(PID_Tc Trace Level, &tl); } else { hr = ADS_E_NOINTERFACE; } return hr; } If the interface pointer ip is assigned to the Smart Pointer sp Obj, then the Tc Query Interface method is called implicitly with IID_ITCom Object on the instance to which ip refers. This results in a shorter code, but the original return code of Tc Query Interface is lost. 6.2.2.4.4.3 Method ITc Unknown:Tc Release This method decrements the reference counter. Syntax ULONG Tc Release( ) Return value Resulting reference count value. Description Decrements the reference counter and returns the new value. If the reference counter is 0, the object deletes itself. 6.2.2.5 Neural Network 6.2.2.5.1 ITc Vn Neural Network Interface for neural networks. Inheritance Hierarchy ITc Unknown [} 1883] ITc Vn Ml Model [} 1877] ITc Vn Neural Network TF7000 - TF7810 Version: 2.4.0 1885
## Page 1886

API reference Methods Name Origin Description Tc Add Ref [} 1884] ITc Unknown Increments the reference counter. Tc Query Interface [} 1884] ITc Unknown Get a reference to an implemented interface. Tc Release [} 1885] ITc Unknown Decrements the reference counter. Get Type Guid [} 1878] ITc Vn Ml Model Gets the GUID of the model. Get Type Name [} 1878] ITc Vn Ml Model Gets the model type name as a string. Execute [} 1886] ITc Vn Neural Network Execute a neural network using the provided image as input and provide the output of one output layer. The method doesn't perform any pre-processing or transformation. ITc Vn Neural Network Execute a neural network using the provided image Execute_Single Layer Outpu as input and provide the output of the specified output layer. The method doesn't perform any pre- t [} 1887] processing or transformation. Execute_Multi Layer Output ITc Vn Neural Network Execute a neural network using the provided image as input and provide the output of the specified [} 1887] output layers. If s Layer Names is empty, the method returns the output of the unconnected output layers. The method doesn't perform any pre-processing or transformation. Get Layer Names [} 1888] ITc Vn Neural Network Get the name of all layers in the model. If the b Only Ouput flag is set to true, only the unconnected output layer names are returned. System Requirements 6.2.2.5.1.1 Execute Execute a neural network using the provided image as input and provide the output of one output layer. The method doesn't perform any pre-processing or transformation. Syntax Definition: HRESULT Execute( ITc Vn Image* ip Src Image, ITc Vn Image** pip Dest Image ) Parameters Name Type Description ip Src Image ITc Vn Image* [} 1870] Source image (The image layout must be adapted to match the model's expected input format using e.g. F_VN_Convert Data Layout or F_VN_Reshape Image functions if necessary.) pip Dest Image ITc Vn Image* [} 1870]* Destination image (An appropriate destination image based on the output layer is created. To process the destination image, use e.g. F_VN_Convert Data Layout or F_VN_Reshape Image if necessary. 1886 Version: 2.4.0 TF7000 - TF7810
## Page 1887

API reference Return value HRESULT [} 144] 6.2.2.5.1.2 Execute_Single Layer Output Execute a neural network using the provided image as input and provide the output of the specified output layer. The method doesn't perform any pre-processing or transformation. Syntax Definition: HRESULT Execute_Single Layer Output( ITc Vn Image* ip Src Image, ITc Vn Image** pip Dest Image, PCCH s Layer Name ) Parameters Name Type Description ip Src Image ITc Vn Image* [} 1870] Source image (The image layout must be adapted to match the model's expected input format using e.g. F_VN_Convert Data Layout or F_VN_Reshape Image functions if necessary.) pip Dest Image ITc Vn Image* [} 1870]* Destination image (An appropriate destination image based on the output layer is created. To process the destination image, use e.g. F_VN_Convert Data Layout or F_VN_Reshape Image if necessary. s Layer Name PCCH Specify the name of the layer for which the output is required. If empty, the output of one output layer is provided. Return value HRESULT [} 144] 6.2.2.5.1.3 Execute_Multi Layer Output Execute a neural network using the provided image as input and provide the output of the specified output layers. If s Layer Names is empty, the method returns the output of the unconnected output layers. The method doesn't perform any pre-processing or transformation. Syntax Definition: HRESULT Execute_Multi Layer Output( ITc Vn Image* ip Src Image, ITc Vn Container** pip Dest Images, ITc Vn Container* ip Layer Names ) TF7000 - TF7810 Version: 2.4.0 1887
## Page 1888

API reference Parameters Name Type Description ip Src Image ITc Vn Image* [} 1870] Source image (The image layout must be adapted to match the model's expected input format using e.g. F_VN_Convert Data Layout or F_VN_Reshape Image functions if necessary.) pip Dest Images ITc Vn Container* [} 1836]* Container of images containing the output from the specified layers ip Layer Names ITc Vn Container* [} 1836] Container of layer names whose outputs to be returned (Container Type_Vector_String_SIN T). If set to zero, the container ip Dest Images holds the outputs of all the unconnected output layers. Return value HRESULT [} 144] 6.2.2.5.1.4 Get Layer Names Get the name of all layers in the model. If the b Only Ouput flag is set to true, only the unconnected output layer names are returned. Syntax Definition: HRESULT Get Layer Names( ITc Vn Container** pip Layer Names, bool b Only Outputs ) Parameters Name Type Description pip Layer Names ITc Vn Container* [} 1836]* Container with the layers names (Container Type_Vector_String_SIN T) b Only Outputs bool If true, only the unconnected output layer names are returned Return value HRESULT [} 144] 6.2.3 Functions The image processing algorithms are encapsulated in functions. More complex algorithms have been implemented as function blocks and can be found at Image Processing [} 2667]. Structure of a function call Functions are structured as follows: 1888 Version: 2.4.0 TF7000 - TF7810
## Page 1889

API reference hr Status variable [} 144] of the type HRESULT. The execution status of every function can be followed with this. Parameter <...> Function parameters essentially fulfill the following purpose: • Input parameters (e.g. images or containers) that are to be processed. • Parameters for setting the algorithm • Parameters as reference for returning the results Optional These parameters are initialized with default values, so the specification is parameter <...> optional. Grouping of functions All functions of the Twin CAT Vision library are sorted thematically into the following groups: Images • Basic Image Operations [} 2147] • Algebraic Image Operations [} 1947] • Image Segmentation [} 2465] • Image Color and Contrast Processing [} 2429] • Image Analysis [} 2399] • Image Filtering [} 2449] Container • Basic Container Operations [} 1980] • Algebraic Container Operations [} 1916] • Container Statistics [} 2198] Contours • Contour Analysis [} 2261] Measurement • Measurement [} 2542] • Geometric and coordinate transformations [} 2331] Code quality • Code Quality [} 2178] Code reading • Code Reading [} 2185] Optical character recognition (OCR) • Optical Character Recognition [} 2618] Drawing and text • Drawing [} 2288] Machine Learning • Machine Learning [} 2502] TF7000 - TF7810 Version: 2.4.0 1889
## Page 1890

API reference • Neural Network [} 2601] Advanced Functions • Fourier Analysis [} 2319] • Keypoint Features [} 2471] Miscellaneous • Control Functions [} 2285] • Miscellaneous [} 2578] Expert functions Expert versions exist for many functions. These contain additional parameters and are identified in the PLC library by the name suffix "Exp". In C++, these additional parameters are assigned default values and can be omitted when called if not required. Runtime behavior The execution duration of some image processing algorithms depends on their parameterization and also the image content. It is therefore not deterministic. In order to guarantee real-time behavior despite that, watchdogs [} 149] can be applied to these functions or function groups that abort the functions after a specified time. WARNING Twin CAT crash when functions are used incorrectly If some functions are used incorrectly, this can lead to errors (and to resulting Twin CAT crashes). These are not intercepted within the function, as corresponding checks would considerably lengthen the execution time. Therefore, you must take care to use the functions properly! For example, we recommend carrying out a validation of the input parameters. 6.2.3.1 License Overview The following list shows the assignment of Twin CAT Vision functions to available licenses (see Licensing model [} 12]). It shows which license is required for the application of certain functions. TF7100 The basic license TC3 Vision Base (TF7100) is always required. TC3 Vision Base Adaptive Threshold [} 2465] Add Containers [} 1937] Add Images [} 1948] Add Images Weighted [} 1949] Add Scalar To Image [} 1950] Add To Container Elements (LONG) [} 1916] Add To Container Elements (SHORT) [} 1917] Add To Container Elements (double) [} 1917] Add To Container Elements (float) [} 1918] 1890 Version: 2.4.0 TF7000 - TF7810
## Page 1891

API reference Add To Container Elements (char) [} 1919] Add To Container Elements (Tc Vn Key Point) [} 1919] Add To Container Elements (Tc Vn Point2_DINT) [} 1920] Add To Container Elements (Tc Vn Point2_LREAL) [} 1920] Add To Container Elements (Tc Vn Point2_REAL) [} 1921] Add To Container Elements (Tc Vn Point3_LREAL) [} 1921] Add To Container Elements (Tc Vn Point3_REAL) [} 1922] Add To Container Elements (Tc Vn Rectangle_DINT) [} 1923] Add To Container Elements (Tc Vn Rotated Rectangle) [} 1937] Add To Container Elements (Tc Vn Vector2_DINT) [} 1923] Add To Container Elements (Tc Vn Vector2_INT) [} 1924] Add To Container Elements (Tc Vn Vector2_REAL) [} 1924] Add To Container Elements (Tc Vn Vector2_SINT) [} 1925] Add To Container Elements (Tc Vn Vector2_UINT) [} 1926] Add To Container Elements (Tc Vn Vector2_USINT) [} 1926] Add To Container Elements (Tc Vn Vector3_INT) [} 1927] Add To Container Elements (Tc Vn Vector3_REAL) [} 1927] Add To Container Elements (Tc Vn Vector3_SINT) [} 1928] Add To Container Elements (Tc Vn Vector3_UINT) [} 1929] Add To Container Elements (Tc Vn Vector3_USINT) [} 1929] Add To Container Elements (Tc Vn Vector4_DINT) [} 1930] Add To Container Elements (Tc Vn Vector4_INT) [} 1930] Add To Container Elements (Tc Vn Vector4_LREAL) [} 1931] Add To Container Elements (Tc Vn Vector4_REAL) [} 1936] Add To Container Elements (Tc Vn Vector4_SINT) [} 1932] Add To Container Elements (Tc Vn Vector4_UINT) [} 1932] Add To Container Elements (Tc Vn Vector4_USINT) [} 1933] Add To Container Elements (ULONG) [} 1933] Add To Container Elements (USHORT) [} 1934] Add To Container Elements (ULONGLONG) [} 1935] Add To Container Elements (unsigned char) [} 1935] Add Vector To Image [} 1951] Adjust Active Contour [} 2400] TF7000 - TF7810 Version: 2.4.0 1891
## Page 1892

API reference Advance Iterator [} 2129] Align Rotated Image Region [} 2362] Append To Container (LONG) [} 1981] Append To Container (SHORT) [} 1982] Append To Container (ITc Vn Container*) [} 1982] Append To Container (ITc Vn Forward Iterator*) [} 1983] Append To Container (ITc Vn Image*) [} 1984] Append To Container (double) [} 1984] Append To Container (float) [} 1985] Append To Container (char) [} 1986] Append To Container (Tc Vn DMatch) [} 1986] Append To Container (Tc Vn Key Point) [} 1987] Append To Container (Tc Vn Point2_DINT) [} 1988] Append To Container (Tc Vn Point2_LREAL) [} 1988] Append To Container (Tc Vn Point2_REAL) [} 1989] Append To Container (Tc Vn Point3_LREAL) [} 1990] Append To Container (Tc Vn Point3_REAL) [} 1990] Append To Container (Tc Vn Rectangle_DINT) [} 1991] Append To Container (Tc Vn Rotated Rectangle) [} 2006] Append To Container (Tc Vn Vector2_DINT) [} 1992] Append To Container (Tc Vn Vector2_INT) [} 1992] Append To Container (Tc Vn Vector2_REAL) [} 1993] Append To Container (Tc Vn Vector2_SINT) [} 1994] Append To Container (Tc Vn Vector2_UINT) [} 1994] Append To Container (Tc Vn Vector2_USINT) [} 1995] Append To Container (Tc Vn Vector3_INT) [} 1996] Append To Container (Tc Vn Vector3_REAL) [} 1996] Append To Container (Tc Vn Vector3_SINT) [} 1997] Append To Container (Tc Vn Vector3_UINT) [} 1998] Append To Container (Tc Vn Vector3_USINT) [} 1998] Append To Container (Tc Vn Vector4_DINT) [} 1999] Append To Container (Tc Vn Vector4_INT) [} 2000] Append To Container (Tc Vn Vector4_LREAL) [} 2000] 1892 Version: 2.4.0 TF7000 - TF7810
## Page 1893

API reference Append To Container (Tc Vn Vector4_REAL) [} 2006] Append To Container (Tc Vn Vector4_SINT) [} 2001] Append To Container (Tc Vn Vector4_UINT) [} 2002] Append To Container (Tc Vn Vector4_USINT) [} 2002] Append To Container (ULONG) [} 2003] Append To Container (USHORT) [} 2004] Append To Container (ULONGLONG) [} 2004] Append To Container (unsigned char) [} 2005] Apply Color Map [} 2429] Apply Lut [} 2430] Apply Rotation To Affine Transformation [} 2363] Apply Scaling To Affine Transformation [} 2364] Apply Translation To Affine Transformation [} 2365] Apply YAxis Inversion To Affine Transformation [} 2366] Approximate Polygon [} 2262] Bilateral Filter [} 2449] Bitwise And Containers [} 1938] Bitwise And Images [} 1952] Bitwise And Images (Exp) [} 1952] Bitwise And Scalar With Image [} 1953] Bitwise And Vector With Image [} 1954] Bitwise Not Container [} 1939] Bitwise Not Image [} 1954] Bitwise Not Image (Exp) [} 1955] Bitwise Or Containers [} 1939] Bitwise Or Images [} 1956] Bitwise Or Images (Exp) [} 1956] Bitwise Or Scalar With Image [} 1957] Bitwise Or Vector With Image [} 1958] Bitwise Xor Containers [} 1940] Bitwise Xor Images [} 1958] Bitwise Xor Images (Exp) [} 1959] Bitwise Xor Scalar With Image [} 1960] TF7000 - TF7810 Version: 2.4.0 1893
## Page 1894

API reference Bitwise Xor Vector With Image [} 1960] Blend Images [} 1961] Box Filter [} 2450] Bright Border Objects [} 2451] Calibrate Camera Planar [} 2340] Canny Edge Detection [} 2414] Check Color Range [} 2467] Check Function Initialization [} 2579] Check If Empty [} 2130] Check If Iterator Is At End [} 2130] Check If Point Is Inside Contour [} 2262] Clahe [} 2431] Clip Line To Boundary [} 2579] Clip Line To Boundary (ITc Vn Image*) [} 2580] Clip Line To Boundary (Tc Vn Rectangle_DINT) [} 2581] Combine Image Channels [} 2149] Connected Components [} 2415] Connected Components With Stats [} 2416] Container Average [} 2253] Container Average Elementwise (2) [} 2254] Container Average Elementwise (3) [} 2255] Container Average Elementwise (4) [} 2255] Container Average Variance [} 2256] Container Average Variance Elementwise (2) [} 2257] Container Average Variance Elementwise (3) [} 2257] Container Average Variance Elementwise (4) [} 2258] Contour Area [} 2263] Contour Center Of Mass [} 2264] Contour Circularity [} 2265] Contour Convexity [} 2266] Contour Eccentricity [} 2266] Contour Elongation [} 2267] Contour Extreme Point [} 2268] 1894 Version: 2.4.0 TF7000 - TF7810
## Page 1895

API reference Contour Inertia Ratio [} 2268] Contour Moments [} 2269] Contour Orientation [} 2270] Contour Perimeter [} 2271] Contour Roundness [} 2272] Convert Cartesian To Polar Angle Image [} 2367] Convert Cartesian To Polar Angles [} 2368] Convert Cartesian To Polar Images [} 2368] Convert Cartesian To Polar Magnitude Image [} 2369] Convert Cartesian To Polar Magnitudes [} 2370] Convert Cartesian To Polar Points [} 2371] Convert Color Space [} 2432] Convert Container Type [} 2131] Convert Data Layout [} 2608] Convert Element Type [} 2149] Convert ITc Unknown To ITc Vn Bitmap Export [} 2582] Convert ITc Unknown To ITc Vn Container [} 2583] Convert ITc Unknown To ITc Vn Image [} 2583] Convert ITc Unknown To ITc Vn Ml Model [} 2584] Convert Polar To Cartesian Images [} 2372] Convert Polar To Cartesian Points [} 2373] Convex Hull Points [} 2273] Convexity Defects [} 2274] Copy Container [} 2132] Copy Container Elements Conditional (ITc Vn Container*) [} 2132] Copy Container Elements Conditional (ITc Vn Forward Iterator*) [} 2133] Copy Image [} 2150] Copy Image Region [} 2151] Copy Image Region To Region [} 2152] Copy Into Displayable Image [} 2153] Count Non Zero Pixels [} 2418] Create Associated Image [} 2153] Create Bandpass Butterworth Filter [} 2320] TF7000 - TF7810 Version: 2.4.0 1895
## Page 1896

API reference Create Bandpass Gaussian Filter [} 2321] Create Bandreject Butterworth Filter [} 2322] Create Bandreject Gaussian Filter [} 2323] Create Container [} 2134] Create Container From Array [} 2134] Create Empty Image [} 2154] Create Highpass Butterworth Filter [} 2324] Create Highpass Gaussian Filter [} 2325] Create Image [} 2154] Create Image And Set Pixels [} 2155] Create Image From Array [} 2156] Create Lowpass Butterworth Filter [} 2326] Create Lowpass Gaussian Filter [} 2327] Create NDimensional Image [} 2173] Create NDimensional Image And Set Pixels [} 2174] Create NDimensional Image From Array [} 2174] Create Structuring Element [} 2452] Custom Element Wise Container Operation (ITc Vn Container*) [} 2274] Custom Element Wise Container Operation (ITc Vn Forward Iterator*) [} 2275] Custom Filter [} 2453] Dark Border Objects [} 2454] Decompose Affine Transformation [} 2374] Decompose Homography [} 2375] Deinitialize Function [} 2584] Detect Blobs [} 2401] Dft [} 2328] Distance Transformation [} 2418] Divide Containers [} 1941] Divide Image By Scalar [} 1962] Divide Image By Vector [} 1963] Divide Images [} 1963] Divide Scalar By Image [} 1964] Divide Vector By Image [} 1965] 1896 Version: 2.4.0 TF7000 - TF7810
## Page 1897

API reference Double Threshold [} 2467] Draw Arrow [} 2289] Draw Arrow (Tc Vn Vector4_DINT) [} 2290] Draw Circle [} 2291] Draw Circles [} 2292] Draw Circular Arc [} 2293] Draw Components [} 2294] Draw Contours [} 2295] Draw Ellipse [} 2296] Draw Line [} 2298] Draw Line (Tc Vn Vector4_DINT) [} 2299] Draw Line (Tc Vn Vector4_LREAL) [} 2300] Draw Lines [} 2301] Draw Orientation [} 2305] Draw Orientation (Exp) [} 2305] Draw Point [} 2306] Draw Points [} 2307] Draw Polygon [} 2308] Draw Rectangle [} 2309] Draw Rectangle (Tc Vn Rectangle_DINT) [} 2310] Draw Rectangle (Tc Vn Rectangle_UDINT) [} 2311] Draw Rotated Rectangle [} 2311] Elementwise Exp [} 1965] Elementwise Log [} 1966] Enclosing Circle [} 2276] Enclosing Rectangle [} 2276] Enclosing Triangle [} 2277] Erase From Container [} 2135] Export Container [} 2136] Export Container_String [} 2136] Export Container Size [} 2137] Export Image [} 2157] Export Image As Bmp [} 2158] TF7000 - TF7810 Version: 2.4.0 1897
## Page 1898

API reference Export Image As Bmp Size [} 2159] Export Image Size [} 2159] Export Sub Container [} 2138] Export Sub Container_String [} 2138] Export Sub Container Size [} 2139] Extract Container Range [} 2140] Fill Circle [} 2312] Fill Container (LONG) [} 2007] Fill Container (SHORT) [} 2007] Fill Container (ITc Vn Image*) [} 2008] Fill Container (double) [} 2008] Fill Container (float) [} 2009] Fill Container (char) [} 2010] Fill Container (Tc Vn DMatch) [} 2010] Fill Container (Tc Vn Key Point) [} 2011] Fill Container (Tc Vn Point2_DINT) [} 2011] Fill Container (Tc Vn Point2_LREAL) [} 2012] Fill Container (Tc Vn Point2_REAL) [} 2012] Fill Container (Tc Vn Point3_LREAL) [} 2013] Fill Container (Tc Vn Point3_REAL) [} 2014] Fill Container (Tc Vn Rectangle_DINT) [} 2014] Fill Container (Tc Vn Rotated Rectangle) [} 2027] Fill Container (Tc Vn Vector2_DINT) [} 2015] Fill Container (Tc Vn Vector2_INT) [} 2015] Fill Container (Tc Vn Vector2_REAL) [} 2016] Fill Container (Tc Vn Vector2_SINT) [} 2016] Fill Container (Tc Vn Vector2_UINT) [} 2017] Fill Container (Tc Vn Vector2_USINT) [} 2018] Fill Container (Tc Vn Vector3_INT) [} 2018] Fill Container (Tc Vn Vector3_REAL) [} 2019] Fill Container (Tc Vn Vector3_SINT) [} 2019] Fill Container (Tc Vn Vector3_UINT) [} 2020] Fill Container (Tc Vn Vector3_USINT) [} 2020] 1898 Version: 2.4.0 TF7000 - TF7810
## Page 1899

API reference Fill Container (Tc Vn Vector4_DINT) [} 2021] Fill Container (Tc Vn Vector4_INT) [} 2022] Fill Container (Tc Vn Vector4_LREAL) [} 2022] Fill Container (Tc Vn Vector4_REAL) [} 2027] Fill Container (Tc Vn Vector4_SINT) [} 2023] Fill Container (Tc Vn Vector4_UINT) [} 2023] Fill Container (Tc Vn Vector4_USINT) [} 2024] Fill Container (ULONG) [} 2024] Fill Container (USHORT) [} 2025] Fill Container (ULONGLONG) [} 2026] Fill Container (unsigned char) [} 2026] Fill Container (LONG) [} 2028] Fill Container (SHORT) [} 2029] Fill Container (ITc Vn Image*) [} 2029] Fill Container (double) [} 2030] Fill Container (float) [} 2031] Fill Container (char) [} 2031] Fill Container (Tc Vn DMatch) [} 2032] Fill Container (Tc Vn Key Point) [} 2033] Fill Container (Tc Vn Point2_DINT) [} 2033] Fill Container (Tc Vn Point2_LREAL) [} 2034] Fill Container (Tc Vn Point2_REAL) [} 2035] Fill Container (Tc Vn Point3_LREAL) [} 2035] Fill Container (Tc Vn Point3_REAL) [} 2036] Fill Container (Tc Vn Rectangle_DINT) [} 2037] Fill Container (Tc Vn Rotated Rectangle) [} 2052] Fill Container (Tc Vn Vector2_DINT) [} 2037] Fill Container (Tc Vn Vector2_INT) [} 2038] Fill Container (Tc Vn Vector2_REAL) [} 2039] Fill Container (Tc Vn Vector2_SINT) [} 2039] Fill Container (Tc Vn Vector2_UINT) [} 2040] Fill Container (Tc Vn Vector2_USINT) [} 2041] Fill Container (Tc Vn Vector3_INT) [} 2041] TF7000 - TF7810 Version: 2.4.0 1899
## Page 1900

API reference Fill Container (Tc Vn Vector3_REAL) [} 2042] Fill Container (Tc Vn Vector3_SINT) [} 2043] Fill Container (Tc Vn Vector3_UINT) [} 2043] Fill Container (Tc Vn Vector3_USINT) [} 2044] Fill Container (Tc Vn Vector4_DINT) [} 2045] Fill Container (Tc Vn Vector4_INT) [} 2045] Fill Container (Tc Vn Vector4_LREAL) [} 2046] Fill Container (Tc Vn Vector4_REAL) [} 2051] Fill Container (Tc Vn Vector4_SINT) [} 2047] Fill Container (Tc Vn Vector4_UINT) [} 2047] Fill Container (Tc Vn Vector4_USINT) [} 2048] Fill Container (ULONG) [} 2049] Fill Container (USHORT) [} 2049] Fill Container (ULONGLONG) [} 2050] Fill Container (unsigned char) [} 2051] Fill Contours [} 2313] Fill Ellipse [} 2314] Fill Holes [} 2454] Fill Polygon [} 2314] Fill Rectangle [} 2315] Fill Rotated Rectangle [} 2316] Find Contour Hierarchy (Exp) [} 2402] Find Contours [} 2403] Fit Ellipse [} 2278] Fit Line [} 2278] Flip Image [} 2378] Fourier Descriptors [} 2280] Fuse Images [} 2160] Fuse Images Array [} 2161] Gaussian Filter [} 2455] Generate Affine Transformation Unit Matrix2D [} 2379] Generate Color Map [} 2433] Generate Custom Color Map [} 2434] 1900 Version: 2.4.0 TF7000 - TF7810
## Page 1901

API reference Get Affine Transformation [} 2379] Get Affine Transformation2D [} 2380] Get At (LONG) [} 2053] Get At (SHORT) [} 2053] Get At (ITc Vn Container*) [} 2054] Get At (ITc Vn Image*) [} 2055] Get At (double) [} 2055] Get At (float) [} 2056] Get At (char) [} 2057] Get At (Tc Vn DMatch) [} 2057] Get At (Tc Vn Key Point) [} 2058] Get At (Tc Vn Point2_DINT) [} 2059] Get At (Tc Vn Point2_LREAL) [} 2059] Get At (Tc Vn Point2_REAL) [} 2060] Get At (Tc Vn Point3_LREAL) [} 2061] Get At (Tc Vn Point3_REAL) [} 2061] Get At (Tc Vn Rectangle_DINT) [} 2062] Get At (Tc Vn Rotated Rectangle) [} 2077] Get At (Tc Vn Vector2_DINT) [} 2063] Get At (Tc Vn Vector2_INT) [} 2063] Get At (Tc Vn Vector2_REAL) [} 2064] Get At (Tc Vn Vector2_SINT) [} 2065] Get At (Tc Vn Vector2_UINT) [} 2065] Get At (Tc Vn Vector2_USINT) [} 2066] Get At (Tc Vn Vector3_INT) [} 2067] Get At (Tc Vn Vector3_REAL) [} 2067] Get At (Tc Vn Vector3_SINT) [} 2068] Get At (Tc Vn Vector3_UINT) [} 2069] Get At (Tc Vn Vector3_USINT) [} 2069] Get At (Tc Vn Vector4_DINT) [} 2070] Get At (Tc Vn Vector4_INT) [} 2071] Get At (Tc Vn Vector4_LREAL) [} 2071] Get At (Tc Vn Vector4_REAL) [} 2077] TF7000 - TF7810 Version: 2.4.0 1901
## Page 1902

API reference Get At (Tc Vn Vector4_SINT) [} 2072] Get At (Tc Vn Vector4_UINT) [} 2073] Get At (Tc Vn Vector4_USINT) [} 2073] Get At (ULONG) [} 2074] Get At (USHORT) [} 2075] Get At (ULONGLONG) [} 2075] Get At (unsigned char) [} 2076] Get Connected Component [} 2419] Get Container [} 2141] Get Container (Exp) [} 2141] Get Forward Iterator [} 2142] Get Image Channel [} 2162] Get Image Height [} 2162] Get Image Info [} 2163] Get Image Width [} 2163] Get Layout Info [} 2175] Get Number Of Elements [} 2143] Get Perspective Transformation [} 2381] Get Pixel [} 2164] Get Pixel Format [} 2165] Get Random Access Iterator [} 2143] Get Roi [} 2165] Get Timestamp [} 2585] Histogram [} 2434] Histogram Equalization [} 2436] Homography [} 2382] Hough Circles [} 2404] Hough Lines [} 2407] Hough Lines P [} 2408] Hu Moment Invariants [} 2586] Image Absolute Average [} 2427] Image Average [} 2420] Image Average Std Dev [} 2421] 1902 Version: 2.4.0 TF7000 - TF7810
## Page 1903

API reference Image Center Of Mass [} 2422] Image Median [} 2423] Image Moments [} 2424] Increment Iterator [} 2144] Init Matrix Struct [} 2586] Insert Into Container (LONG) [} 2078] Insert Into Container (SHORT) [} 2079] Insert Into Container (ITc Vn Container*) [} 2079] Insert Into Container (ITc Vn Forward Iterator*) [} 2080] Insert Into Container (ITc Vn Image*) [} 2081] Insert Into Container (double) [} 2081] Insert Into Container (float) [} 2082] Insert Into Container (char) [} 2083] Insert Into Container (Tc Vn DMatch) [} 2083] Insert Into Container (Tc Vn Key Point) [} 2084] Insert Into Container (Tc Vn Point2_DINT) [} 2085] Insert Into Container (Tc Vn Point2_LREAL) [} 2085] Insert Into Container (Tc Vn Point2_REAL) [} 2086] Insert Into Container (Tc Vn Point3_LREAL) [} 2087] Insert Into Container (Tc Vn Point3_REAL) [} 2087] Insert Into Container (Tc Vn Rectangle_DINT) [} 2088] Insert Into Container (Tc Vn Rotated Rectangle) [} 2103] Insert Into Container (Tc Vn Vector2_DINT) [} 2089] Insert Into Container (Tc Vn Vector2_INT) [} 2089] Insert Into Container (Tc Vn Vector2_REAL) [} 2090] Insert Into Container (Tc Vn Vector2_SINT) [} 2091] Insert Into Container (Tc Vn Vector2_UINT) [} 2091] Insert Into Container (Tc Vn Vector2_USINT) [} 2092] Insert Into Container (Tc Vn Vector3_INT) [} 2093] Insert Into Container (Tc Vn Vector3_REAL) [} 2093] Insert Into Container (Tc Vn Vector3_SINT) [} 2094] Insert Into Container (Tc Vn Vector3_UINT) [} 2095] Insert Into Container (Tc Vn Vector3_USINT) [} 2095] TF7000 - TF7810 Version: 2.4.0 1903
## Page 1904

API reference Insert Into Container (Tc Vn Vector4_DINT) [} 2096] Insert Into Container (Tc Vn Vector4_INT) [} 2097] Insert Into Container (Tc Vn Vector4_LREAL) [} 2097] Insert Into Container (Tc Vn Vector4_REAL) [} 2103] Insert Into Container (Tc Vn Vector4_SINT) [} 2098] Insert Into Container (Tc Vn Vector4_UINT) [} 2099] Insert Into Container (Tc Vn Vector4_USINT) [} 2099] Insert Into Container (ULONG) [} 2100] Insert Into Container (USHORT) [} 2101] Insert Into Container (ULONGLONG) [} 2101] Insert Into Container (unsigned char) [} 2102] Inverse Dft [} 2329] Invert Affine Transformation [} 2383] Invert Image Color [} 2436] Invert Matrix3x3 [} 2587] Iterator Distance [} 2144] Laplacian Filter [} 2456] Line Intersection Point [} 2588] Line Intersection Point And Angle [} 2588] Local Maxima [} 2457] Local Minima [} 2458] Max Container [} 1941] Max Element [} 2259] Max Element Elementwise (LONG) [} 2198] Max Element Elementwise (SHORT) [} 2199] Max Element Elementwise (double) [} 2199] Max Element Elementwise (float) [} 2200] Max Element Elementwise (char) [} 2201] Max Element Elementwise (Tc Vn Point2_DINT) [} 2201] Max Element Elementwise (Tc Vn Point2_LREAL) [} 2202] Max Element Elementwise (Tc Vn Point2_REAL) [} 2202] Max Element Elementwise (Tc Vn Point3_LREAL) [} 2203] Max Element Elementwise (Tc Vn Point3_REAL) [} 2203] 1904 Version: 2.4.0 TF7000 - TF7810
## Page 1905

API reference Max Element Elementwise (Tc Vn Vector2_DINT) [} 2204] Max Element Elementwise (Tc Vn Vector2_INT) [} 2205] Max Element Elementwise (Tc Vn Vector2_REAL) [} 2205] Max Element Elementwise (Tc Vn Vector2_SINT) [} 2206] Max Element Elementwise (Tc Vn Vector2_UINT) [} 2206] Max Element Elementwise (Tc Vn Vector2_USINT) [} 2207] Max Element Elementwise (Tc Vn Vector3_INT) [} 2207] Max Element Elementwise (Tc Vn Vector3_REAL) [} 2208] Max Element Elementwise (Tc Vn Vector3_SINT) [} 2209] Max Element Elementwise (Tc Vn Vector3_UINT) [} 2209] Max Element Elementwise (Tc Vn Vector3_USINT) [} 2210] Max Element Elementwise (Tc Vn Vector4_DINT) [} 2210] Max Element Elementwise (Tc Vn Vector4_INT) [} 2211] Max Element Elementwise (Tc Vn Vector4_LREAL) [} 2211] Max Element Elementwise (Tc Vn Vector4_REAL) [} 2216] Max Element Elementwise (Tc Vn Vector4_SINT) [} 2212] Max Element Elementwise (Tc Vn Vector4_UINT) [} 2213] Max Element Elementwise (Tc Vn Vector4_USINT) [} 2213] Max Element Elementwise (ULONG) [} 2214] Max Element Elementwise (USHORT) [} 2214] Max Element Elementwise (ULONGLONG) [} 2215] Max Element Elementwise (unsigned char) [} 2215] Max Image [} 1967] Max Image (Exp) [} 1967] Max Image With Scalar [} 1968] Max Image With Scalar (Exp) [} 1969] Max Image With Vector [} 1969] Max Image With Vector (Exp) [} 1970] Max Pixel Value [} 2424] Median Element [} 2259] Median Element Elementwise (LONG) [} 2217] Median Element Elementwise (SHORT) [} 2217] Median Element Elementwise (double) [} 2218] TF7000 - TF7810 Version: 2.4.0 1905
## Page 1906

API reference Median Element Elementwise (float) [} 2218] Median Element Elementwise (char) [} 2219] Median Element Elementwise (Tc Vn Point2_DINT) [} 2220] Median Element Elementwise (Tc Vn Point2_LREAL) [} 2220] Median Element Elementwise (Tc Vn Point2_REAL) [} 2221] Median Element Elementwise (Tc Vn Point3_LREAL) [} 2221] Median Element Elementwise (Tc Vn Point3_REAL) [} 2222] Median Element Elementwise (Tc Vn Vector2_DINT) [} 2222] Median Element Elementwise (Tc Vn Vector2_INT) [} 2223] Median Element Elementwise (Tc Vn Vector2_REAL) [} 2224] Median Element Elementwise (Tc Vn Vector2_SINT) [} 2224] Median Element Elementwise (Tc Vn Vector2_UINT) [} 2225] Median Element Elementwise (Tc Vn Vector2_USINT) [} 2225] Median Element Elementwise (Tc Vn Vector3_INT) [} 2226] Median Element Elementwise (Tc Vn Vector3_REAL) [} 2226] Median Element Elementwise (Tc Vn Vector3_SINT) [} 2227] Median Element Elementwise (Tc Vn Vector3_UINT) [} 2228] Median Element Elementwise (Tc Vn Vector3_USINT) [} 2228] Median Element Elementwise (Tc Vn Vector4_DINT) [} 2229] Median Element Elementwise (Tc Vn Vector4_INT) [} 2229] Median Element Elementwise (Tc Vn Vector4_LREAL) [} 2230] Median Element Elementwise (Tc Vn Vector4_REAL) [} 2234] Median Element Elementwise (Tc Vn Vector4_SINT) [} 2230] Median Element Elementwise (Tc Vn Vector4_UINT) [} 2231] Median Element Elementwise (Tc Vn Vector4_USINT) [} 2232] Median Element Elementwise (ULONG) [} 2232] Median Element Elementwise (USHORT) [} 2233] Median Element Elementwise (ULONGLONG) [} 2233] Median Element Elementwise (unsigned char) [} 2234] Median Filter [} 2459] Min Container [} 1942] Min Element [} 2260] Min Element Elementwise (LONG) [} 2235] 1906 Version: 2.4.0 TF7000 - TF7810
## Page 1907

API reference Min Element Elementwise (SHORT) [} 2236] Min Element Elementwise (double) [} 2236] Min Element Elementwise (float) [} 2237] Min Element Elementwise (char) [} 2237] Min Element Elementwise (Tc Vn Point2_DINT) [} 2238] Min Element Elementwise (Tc Vn Point2_LREAL) [} 2239] Min Element Elementwise (Tc Vn Point2_REAL) [} 2239] Min Element Elementwise (Tc Vn Point3_LREAL) [} 2240] Min Element Elementwise (Tc Vn Point3_REAL) [} 2240] Min Element Elementwise (Tc Vn Vector2_DINT) [} 2241] Min Element Elementwise (Tc Vn Vector2_INT) [} 2241] Min Element Elementwise (Tc Vn Vector2_REAL) [} 2242] Min Element Elementwise (Tc Vn Vector2_SINT) [} 2243] Min Element Elementwise (Tc Vn Vector2_UINT) [} 2243] Min Element Elementwise (Tc Vn Vector2_USINT) [} 2244] Min Element Elementwise (Tc Vn Vector3_INT) [} 2244] Min Element Elementwise (Tc Vn Vector3_REAL) [} 2245] Min Element Elementwise (Tc Vn Vector3_SINT) [} 2245] Min Element Elementwise (Tc Vn Vector3_UINT) [} 2246] Min Element Elementwise (Tc Vn Vector3_USINT) [} 2247] Min Element Elementwise (Tc Vn Vector4_DINT) [} 2247] Min Element Elementwise (Tc Vn Vector4_INT) [} 2248] Min Element Elementwise (Tc Vn Vector4_LREAL) [} 2248] Min Element Elementwise (Tc Vn Vector4_REAL) [} 2253] Min Element Elementwise (Tc Vn Vector4_SINT) [} 2249] Min Element Elementwise (Tc Vn Vector4_UINT) [} 2249] Min Element Elementwise (Tc Vn Vector4_USINT) [} 2250] Min Element Elementwise (ULONG) [} 2251] Min Element Elementwise (USHORT) [} 2251] Min Element Elementwise (ULONGLONG) [} 2252] Min Element Elementwise (unsigned char) [} 2252] Min Image [} 1971] Min Image (Exp) [} 1971] TF7000 - TF7810 Version: 2.4.0 1907
## Page 1908

API reference Min Image With Scalar [} 1972] Min Image With Scalar (Exp) [} 1973] Min Image With Vector [} 1973] Min Image With Vector (Exp) [} 1974] Min Pixel Value [} 2425] Mix Image Channels [} 2166] Morphological Operator [} 2459] Multiply Containers [} 1943] Multiply Images [} 1975] Multiply Image With Scalar [} 1975] Multiply Image With Vector [} 1976] Multiply Matrices [} 2589] Multiply With Container Elements (1) [} 1943] Multiply With Container Elements (2) [} 1944] Multiply With Container Elements (3) [} 1944] Multiply With Container Elements (4) [} 1945] Negate Container [} 1946] Non Max Suppression [} 2612] Normalize Image [} 2437] Normalize Image For Display [} 2438] Optimal Dft Size [} 2330] Orthogonal Vector (Tc Vn Vector2_DINT) [} 2592] Orthogonal Vector (Tc Vn Vector2_LREAL) [} 2593] Orthogonal Vector (Tc Vn Vector2_REAL) [} 2594] Pad Image Border [} 2176] Perspective Transformation [} 2384] Plot Intensity Profile [} 2316] Point To Line Distance (Tc Vn Point2_DINT) [} 2595] Point To Line Distance (Tc Vn Point2_LREAL) [} 2595] Point To Line Distance (Tc Vn Point2_REAL) [} 2596] Point To Point Direction (Tc Vn Point2_DINT) [} 2597] Point To Point Direction (Tc Vn Point2_LREAL) [} 2597] Point To Point Direction (Tc Vn Point2_REAL) [} 2598] 1908 Version: 2.4.0 TF7000 - TF7810
## Page 1909

API reference Point To Point Distance (Tc Vn Point2_DINT) [} 2599] Point To Point Distance (Tc Vn Point2_LREAL) [} 2599] Point To Point Distance (Tc Vn Point2_REAL) [} 2600] Put Label [} 2318] Put Text [} 2318] Pyramid Down [} 2385] Pyramid Up [} 2385] Reduce [} 2614] Reduce Arg [} 2614] Reference Color Similarity (ITc Vn Color Model*) [} 2439] Reference Color Similarity (ITc Vn Ml Model*) [} 2440] Reference Color Similarity (Tc Vn Vector3_LREAL) [} 2441] Region Orientation [} 2426] Reinterpret Unsupported Image [} 2177] Remap Image To Log Polar Space [} 2386] Remap Image To Polar Space [} 2387] Remove Local Maxima [} 2460] Remove Local Minima [} 2461] Reserve Container Memory [} 2145] Reset Roi [} 2167] Reshape Image [} 2615] Resize Image [} 2388] Reverse Container [} 2146] Rotated Rectangle Corners [} 2590] Rotated Rectangle Intersection [} 2591] Rotate Image [} 2389] Rotate Image (Exp) [} 2390] Sauvola Threshold [} 2470] Scharr Filter [} 2461] Separable Custom Filter [} 2462] Set At (LONG) [} 2104] Set At (SHORT) [} 2105] Set At (ITc Vn Container*) [} 2105] TF7000 - TF7810 Version: 2.4.0 1909
## Page 1910

API reference Set At (ITc Vn Image*) [} 2106] Set At (double) [} 2107] Set At (float) [} 2107] Set At (char) [} 2108] Set At (Tc Vn DMatch) [} 2109] Set At (Tc Vn Key Point) [} 2109] Set At (Tc Vn Point2_DINT) [} 2110] Set At (Tc Vn Point2_LREAL) [} 2111] Set At (Tc Vn Point2_REAL) [} 2111] Set At (Tc Vn Point3_LREAL) [} 2112] Set At (Tc Vn Point3_REAL) [} 2113] Set At (Tc Vn Rectangle_DINT) [} 2113] Set At (Tc Vn Rotated Rectangle) [} 2129] Set At (Tc Vn Vector2_DINT) [} 2114] Set At (Tc Vn Vector2_INT) [} 2115] Set At (Tc Vn Vector2_REAL) [} 2115] Set At (Tc Vn Vector2_SINT) [} 2116] Set At (Tc Vn Vector2_UINT) [} 2117] Set At (Tc Vn Vector2_USINT) [} 2117] Set At (Tc Vn Vector3_INT) [} 2118] Set At (Tc Vn Vector3_REAL) [} 2119] Set At (Tc Vn Vector3_SINT) [} 2119] Set At (Tc Vn Vector3_UINT) [} 2120] Set At (Tc Vn Vector3_USINT) [} 2121] Set At (Tc Vn Vector4_DINT) [} 2121] Set At (Tc Vn Vector4_INT) [} 2122] Set At (Tc Vn Vector4_LREAL) [} 2123] Set At (Tc Vn Vector4_REAL) [} 2128] Set At (Tc Vn Vector4_SINT) [} 2123] Set At (Tc Vn Vector4_UINT) [} 2124] Set At (Tc Vn Vector4_USINT) [} 2125] Set At (ULONG) [} 2125] Set At (USHORT) [} 2126] 1910 Version: 2.4.0 TF7000 - TF7810
## Page 1911

API reference Set At (ULONGLONG) [} 2127] Set At (unsigned char) [} 2127] Set Container [} 2146] Set Image Channel [} 2167] Set Iterator To Begin [} 2147] Set Pixel [} 2168] Set Pixels [} 2169] Set Rng Seed [} 2591] Set Roi [} 2169] Set Roi (Tc Vn Rectangle_DINT) [} 2170] Set Roi (Tc Vn Rectangle_UDINT) [} 2171] Sigmoid [} 2616] Sobel Filter [} 2463] Soft Max [} 2617] Split Image Channels [} 2171] Start Abs Watchdog [} 2285] Start Rel Watchdog [} 2286] Stop Watchdog [} 2287] Subtract Containers [} 1946] Subtract Image From Scalar [} 1977] Subtract Image From Vector [} 1977] Subtract Images [} 1978] Subtract Scalar From Image [} 1979] Subtract Vector From Image [} 1979] Threshold [} 2468] Train Image Color [} 2442] Train Image Color (ITc Vn Ml Model*) [} 2445] Transform Coordinates Planar (Container) [} 2359] Transform Coordinates Planar (Point) [} 2360] Transform Into Displayable Image [} 2172] Update Timestamp [} 2592] Upright Bounding Rectangle [} 2285] Upright Inner Rectangle [} 2428] TF7000 - TF7810 Version: 2.4.0 1911
## Page 1912

API reference Variance Filter [} 2464] Warp Affine [} 2391] Warp Affine (Container) [} 2392] Warp Affine (Point) [} 2393] Warp Affine (Rectangle) [} 2393] Warp Affine (Exp) [} 2394] Warp Perspective [} 2395] Warp Perspective (Container) [} 2396] Warp Perspective (Point) [} 2397] Warp Perspective (Rectangle) [} 2397] Warp Perspective (Exp) [} 2398] Watershed Segmentation (Exp) [} 2469] White Balance [} 2448] TC3 Vision Code Reading Read Barcode [} 2187] Read Barcode (Exp) [} 2188] Read Barcode Roi [} 2195] Read Data Matrix Code [} 2189] Read Data Matrix Code Roi [} 2193] Read Pharma Code [} 2190] Read QRCode [} 2191] TC3 Vision Code Quality Grade Barcode [} 2179] Grade Data Matrix Code [} 2181] Grade QRCode [} 2183] TC3 Vision Metrology 2D Adjust Search Window Orientation To Linear Edge [} 2548] Calibrate Camera [} 2333] Calibrate Camera (Exp) [} 2334] Calibrate Camera Manually [} 2338] Calibrate Linescan Camera [} 2341] Closest Points BF [} 2549] Compensate Lens Distortion [} 2345] 1912 Version: 2.4.0 TF7000 - TF7810
## Page 1913

API reference Compensate Lens Distortion (Exp1) [} 2346] Compensate Lens Distortion (Exp2) [} 2347] Compensate Lens Distortion For Points [} 2347] Compensate Lens Distortion For Points (Exp1) [} 2348] Compensate Lens Distortion For Points (Exp2) [} 2349] Detect Pattern Points [} 2350] Generate Calibration Pattern Reference Points [} 2353] Image Points World Distance [} 2354] Locate Circular Arc [} 2550] Locate Edge [} 2553] Locate Edges [} 2557] Locate Ellipse [} 2562] Measure Angle Between Edges [} 2565] Measure Edge Distance [} 2570] Measure Min Edge Distance [} 2574] Solve Pn P [} 2355] Sort Detected Pattern Points [} 2357] Transform Coordinates Image To World (Container) [} 2357] Transform Coordinates Image To World (Point) [} 2358] Transform Coordinates World To Image (Container) [} 2361] Transform Coordinates World To Image (Point) [} 2362] TC3 Vision Matching Draw Keypoints [} 2297] Draw Matches [} 2302] Filter Good Matches [} 2471] Find Reference Key Points In Image [} 2472] Find Reference Key Points In Image AKAZE [} 2476] Find Reference Key Points In Image BRISK [} 2480] Find Reference Key Points In Image ORB [} 2483] Get Match Coordinates [} 2486] Key Points AGAST [} 2487] Key Points And Descriptors AKAZE [} 2488] Key Points And Descriptors BRISK [} 2489] TF7000 - TF7810 Version: 2.4.0 1913
## Page 1914

API reference Key Points And Descriptors KAZE [} 2490] Key Points And Descriptors ORB [} 2491] Key Points FAST [} 2492] Key Points GFTT [} 2493] Key Points MSER [} 2494] Key Points SB [} 2495] Match Contours [} 2281] Match Contours1vs N [} 2283] Match Descriptors BF [} 2496] Match Descriptors Flann Lsh [} 2497] Match Descriptors Knn BF [} 2498] Match Descriptors Knn Flann Lsh [} 2500] Match Image Hu Moments [} 2409] Match Template [} 2410] Match Template And Evaluate [} 2411] Regions MSER [} 2501] TC3 Vision OCR OCR [} 2620] TC3 Machine Learning Realtime Inference Create Boost Classifier [} 2503] Create Kmpp Model [} 2504] Create Knn Model [} 2505] Create Lbg Model [} 2506] Create Lda Transform [} 2508] Create Lda Transform Via Component Num [} 2508] Create Nbc Model [} 2509] Create Pca Transform [} 2510] Create Pca Transform Via Component Num [} 2511] Create Pca Transform Via Variance [} 2512] Create RTrees Model [} 2512] Create Sta Model [} 2515] Create Svm Model [} 2518] Create Svm Sgd Classifier [} 2521] 1914 Version: 2.4.0 TF7000 - TF7810
## Page 1915

API reference Feature Scaling [} 2522] Feature Transform [} 2524] Get Batch Clusters [} 2524] Get Batch Novelties [} 2525] Get Cluster Center [} 2526] Get Cluster Num [} 2527] Get Feature Scales [} 2527] Get Sample Cluster [} 2528] Get Sample Novelty [} 2529] Granulometry [} 2622] Haralick Features [} 2623] Inverse Feature Scaling [} 2530] Inverse Feature Scaling (float) [} 2531] Inverse Feature Transform [} 2532] Predict Batch [} 2533] Predict Sample Class [} 2534] Predict Sample Scalar [} 2535] Predict Sample Vector [} 2536] Train Batch [} 2537] Train Batch Clusters [} 2538] Train Sample [} 2539] Train Sample Class [} 2540] Train Sample Cluster [} 2540] Train Sample Scalar [} 2541] Train Sample Vector [} 2542] TC3 Neural Network Realtime Inference Execute Neural Network [} 2609] Execute Neural Network (MI) [} 2601] Execute Neural Network (MIMO_String) [} 2602] Execute Neural Network (MISO) [} 2603] Execute Neural Network (MO) [} 2604] Execute Neural Network_Multi Layer Output [} 2609] Execute Neural Network_Single Layer Output [} 2610] TF7000 - TF7810 Version: 2.4.0 1915
## Page 1916

API reference Execute Neural Network (SO) [} 2605] Get Neural Network Layer Names [} 2611] Get Neural Network Layer Names (Exp) [} 2606] Get Neural Network Layer Names (String) [} 2607] 6.2.3.2 Algebraic Container Operations This group contains functions for the element-wise application of algebraic operators to containers [} 155]. Functions Algebra • Add Containers [} 1937] • Add To Container Elements [} 1916] • Divide Containers [} 1941] • Multiply Containers [} 1943] • Multiply With Container Elements [} 1943] • Negate Container [} 1946] • Subtract Containers [} 1946] Bitwise operators • Bitwise And Containers [} 1938] • Bitwise Not Container [} 1939] • Bitwise Or Containers [} 1939] • Bitwise Xor Containers [} 1940] Statistical features • Max Container [} 1941] • Min Container [} 1942] 6.2.3.2.1 Add To Container Elements This chapter contains functions to add a value to each container element according to the data type. 6.2.3.2.1.1 Add To Container Elements (LONG) Add a value to each container element. Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, LONG n Value, ITc Vn Container* ip Container ) 1916 Version: 2.4.0 TF7000 - TF7810
## Page 1917

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n Value LONG Value ip Container ITc Vn Container* [} 1836] Container with DINT elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.1.2 Add To Container Elements (SHORT) Add a value to each container element. Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, SHORT n Value, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n Value SHORT Value ip Container ITc Vn Container* [} 1836] Container with INT elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.1.3 Add To Container Elements (double) Add a value to each container element. TF7000 - TF7810 Version: 2.4.0 1917
## Page 1918

API reference Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, double f Value, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) f Value double Value ip Container ITc Vn Container* [} 1836] Container with LREAL elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.1.4 Add To Container Elements (float) Add a value to each container element. Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, float f Value, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) f Value float Value ip Container ITc Vn Container* [} 1836] Container with REAL elements Return value HRESULT [} 144] Required License TC3 Vision Base 1918 Version: 2.4.0 TF7000 - TF7810
## Page 1919

API reference System Requirements 6.2.3.2.1.5 Add To Container Elements (char) Add a value to each container element. Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, char n Value, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n Value char Value ip Container ITc Vn Container* [} 1836] Container with SINT elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.1.6 Add To Container Elements (Tc Vn Key Point) Add a value to each container element. Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, Tc Vn Key Point& st Value, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) st Value Tc Vn Key Point [} 1719]& Value ip Container ITc Vn Container* [} 1836] Container with Tc Vn Key Point elements TF7000 - TF7810 Version: 2.4.0 1919
## Page 1920

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.1.7 Add To Container Elements (Tc Vn Point2_DINT) Add a value to each container element. Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, Tc Vn Point2_DINT& a Value, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Value Tc Vn Point2_DINT [} 1661]& Value ip Container ITc Vn Container* [} 1836] Container with Tc Vn Point2_DINT elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.1.8 Add To Container Elements (Tc Vn Point2_LREAL) Add a value to each container element. Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, Tc Vn Point2_LREAL& a Value, ITc Vn Container* ip Container ) 1920 Version: 2.4.0 TF7000 - TF7810
## Page 1921

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Value Tc Vn Point2_LREAL [} 1661]& Value ip Container ITc Vn Container* [} 1836] Container with Tc Vn Point2_LREAL elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.1.9 Add To Container Elements (Tc Vn Point2_REAL) Add a value to each container element. Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, Tc Vn Point2_REAL& a Value, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Value Tc Vn Point2_REAL [} 1661]& Value ip Container ITc Vn Container* [} 1836] Container with Tc Vn Point2_REAL elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.1.10 Add To Container Elements (Tc Vn Point3_LREAL) Add a value to each container element. TF7000 - TF7810 Version: 2.4.0 1921
## Page 1922

API reference Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, Tc Vn Point3_LREAL& a Value, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Value Tc Vn Point3_LREAL [} 1661]& Value ip Container ITc Vn Container* [} 1836] Container with Tc Vn Point3_LREAL elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.1.11 Add To Container Elements (Tc Vn Point3_REAL) Add a value to each container element. Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, Tc Vn Point3_REAL& a Value, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Value Tc Vn Point3_REAL [} 1661]& Value ip Container ITc Vn Container* [} 1836] Container with Tc Vn Point3_REAL elements Return value HRESULT [} 144] 1922 Version: 2.4.0 TF7000 - TF7810
## Page 1923

API reference Required License TC3 Vision Base System Requirements 6.2.3.2.1.12 Add To Container Elements (Tc Vn Rectangle_DINT) Add a value to each container element. Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, Tc Vn Rectangle_DINT& st Value, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) st Value Tc Vn Rectangle_DINT [} 1732]& Value ip Container ITc Vn Container* [} 1836] Container with Tc Vn Rectangle_DINT elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.1.13 Add To Container Elements (Tc Vn Vector2_DINT) Add a value to each container element. Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, Tc Vn Vector2_DINT& a Value, ITc Vn Container* ip Container ) TF7000 - TF7810 Version: 2.4.0 1923
## Page 1924

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Value Tc Vn Vector2_DINT [} 1663]& Value ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector2_DINT elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.1.14 Add To Container Elements (Tc Vn Vector2_INT) Add a value to each container element. Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, Tc Vn Vector2_INT& a Value, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Value Tc Vn Vector2_INT [} 1663]& Value ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector2_INT elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.1.15 Add To Container Elements (Tc Vn Vector2_REAL) Add a value to each container element. 1924 Version: 2.4.0 TF7000 - TF7810
## Page 1925

API reference Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, Tc Vn Vector2_REAL& a Value, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Value Tc Vn Vector2_REAL [} 1663]& Value ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector2_REAL elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.1.16 Add To Container Elements (Tc Vn Vector2_SINT) Add a value to each container element. Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, Tc Vn Vector2_SINT& a Value, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Value Tc Vn Vector2_SINT [} 1663]& Value ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector2_SINT elements Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 1925
## Page 1926

API reference Required License TC3 Vision Base System Requirements 6.2.3.2.1.17 Add To Container Elements (Tc Vn Vector2_UINT) Add a value to each container element. Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, Tc Vn Vector2_UINT& a Value, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Value Tc Vn Vector2_UINT [} 1663]& Value ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector2_UINT elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.1.18 Add To Container Elements (Tc Vn Vector2_USINT) Add a value to each container element. Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, Tc Vn Vector2_USINT& a Value, ITc Vn Container* ip Container ) 1926 Version: 2.4.0 TF7000 - TF7810
## Page 1927

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Value Tc Vn Vector2_USINT [} 1663]& Value ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector2_USINT elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.1.19 Add To Container Elements (Tc Vn Vector3_INT) Add a value to each container element. Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, Tc Vn Vector3_INT& a Value, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Value Tc Vn Vector3_INT [} 1663]& Value ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector3_INT elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.1.20 Add To Container Elements (Tc Vn Vector3_REAL) Add a value to each container element. TF7000 - TF7810 Version: 2.4.0 1927
## Page 1928

API reference Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, Tc Vn Vector3_REAL& a Value, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Value Tc Vn Vector3_REAL [} 1663]& Value ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector3_REAL elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.1.21 Add To Container Elements (Tc Vn Vector3_SINT) Add a value to each container element. Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, Tc Vn Vector3_SINT& a Value, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Value Tc Vn Vector3_SINT [} 1663]& Value ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector3_SINT elements Return value HRESULT [} 144] 1928 Version: 2.4.0 TF7000 - TF7810
## Page 1929

API reference Required License TC3 Vision Base System Requirements 6.2.3.2.1.22 Add To Container Elements (Tc Vn Vector3_UINT) Add a value to each container element. Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, Tc Vn Vector3_UINT& a Value, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Value Tc Vn Vector3_UINT [} 1663]& Value ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector3_UINT elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.1.23 Add To Container Elements (Tc Vn Vector3_USINT) Add a value to each container element. Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, Tc Vn Vector3_USINT& a Value, ITc Vn Container* ip Container ) TF7000 - TF7810 Version: 2.4.0 1929
## Page 1930

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Value Tc Vn Vector3_USINT [} 1663]& Value ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector3_USINT elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.1.24 Add To Container Elements (Tc Vn Vector4_DINT) Add a value to each container element. Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, Tc Vn Vector4_DINT& a Value, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Value Tc Vn Vector4_DINT [} 1663]& Value ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector4_DINT elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.1.25 Add To Container Elements (Tc Vn Vector4_INT) Add a value to each container element. 1930 Version: 2.4.0 TF7000 - TF7810
## Page 1931

API reference Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, Tc Vn Vector4_INT& a Value, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Value Tc Vn Vector4_INT [} 1663]& Value ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector4_INT elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.1.26 Add To Container Elements (Tc Vn Vector4_LREAL) Add a value to each container element. Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, Tc Vn Vector4_LREAL& a Value, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Value Tc Vn Vector4_LREAL [} 1663]& Value ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector4_LREAL elements Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 1931
## Page 1932

API reference Required License TC3 Vision Base System Requirements 6.2.3.2.1.27 Add To Container Elements (Tc Vn Vector4_SINT) Add a value to each container element. Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, Tc Vn Vector4_SINT& a Value, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Value Tc Vn Vector4_SINT [} 1663]& Value ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector4_SINT elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.1.28 Add To Container Elements (Tc Vn Vector4_UINT) Add a value to each container element. Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, Tc Vn Vector4_UINT& a Value, ITc Vn Container* ip Container ) 1932 Version: 2.4.0 TF7000 - TF7810
## Page 1933

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Value Tc Vn Vector4_UINT [} 1663]& Value ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector4_UINT elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.1.29 Add To Container Elements (Tc Vn Vector4_USINT) Add a value to each container element. Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, Tc Vn Vector4_USINT& a Value, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Value Tc Vn Vector4_USINT [} 1663]& Value ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector4_USINT elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.1.30 Add To Container Elements (ULONG) Add a value to each container element. TF7000 - TF7810 Version: 2.4.0 1933
## Page 1934

API reference Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, ULONG n Value, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n Value ULONG Value ip Container ITc Vn Container* [} 1836] Container with UDINT elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.1.31 Add To Container Elements (USHORT) Add a value to each container element. Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, USHORT n Value, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n Value USHORT Value ip Container ITc Vn Container* [} 1836] Container with UINT elements Return value HRESULT [} 144] Required License TC3 Vision Base 1934 Version: 2.4.0 TF7000 - TF7810
## Page 1935

API reference System Requirements 6.2.3.2.1.32 Add To Container Elements (ULONGLONG) Add a value to each container element. Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, ULONGLONG n Value, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n Value ULONGLONG Value ip Container ITc Vn Container* [} 1836] Container with ULINT elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.1.33 Add To Container Elements (unsigned char) Add a value to each container element. Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, unsigned char n Value, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n Value unsigned char Value ip Container ITc Vn Container* [} 1836] Container with USINT elements TF7000 - TF7810 Version: 2.4.0 1935
## Page 1936

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.1.34 Add To Container Elements (Tc Vn Vector4_REAL) Add a value to each container element. Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, Tc Vn Vector4_REAL& a Value, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Value Tc Vn Vector4_REAL [} 1663]& Value ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector4_REAL elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.1.35 Add To Container Elements (Tc Vn Rotated Rectangle) Add a value to each container element. Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, Tc Vn Rotated Rectangle& st Value, ITc Vn Container* ip Container ) 1936 Version: 2.4.0 TF7000 - TF7810
## Page 1937

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) st Value Tc Vn Rotated Rectangle [} 1733]& Value ip Container ITc Vn Container* [} 1836] Container with Tc Vn Rotated Rectangle elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.1.36 Add To Container Elements (Tc Vn Rotated Rectangle) Add a value to each container element. Syntax Definition: HRESULT Add To Container Elements( HRESULT hr Prev, Tc Vn Rotated Rectangle& st Value, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) st Value Tc Vn Rotated Rectangle [} 1733]& Value ip Container ITc Vn Container* [} 1836] Container with Tc Vn Rotated Rectangle elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.2 Add Containers Element-wise addition of two containers (same length and type). TF7000 - TF7810 Version: 2.4.0 1937
## Page 1938

API reference Syntax Definition: HRESULT Add Containers( HRESULT hr Prev, ITc Vn Container* ip Src Container1, ITc Vn Container* ip Src Container2, ITc Vn Container*& ip Dest Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Container1 ITc Vn Container* [} 1836] Source container 1 ip Src Container2 ITc Vn Container* [} 1836] Source container 2 ip Dest Container ITc Vn Container* [} 1836]& Returns the resulting container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.3 Bitwise And Containers Element-wise application of a bit-wise AND operator to two containers (same length and type, integer only). Syntax Definition: HRESULT Bitwise And Containers( HRESULT hr Prev, ITc Vn Container* ip Src Container1, ITc Vn Container* ip Src Container2, ITc Vn Container*& ip Dest Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Container1 ITc Vn Container* [} 1836] Source container 1 ip Src Container2 ITc Vn Container* [} 1836] Source container 2 ip Dest Container ITc Vn Container* [} 1836]& Returns the resulting container Return value HRESULT [} 144] 1938 Version: 2.4.0 TF7000 - TF7810
## Page 1939

API reference Required License TC3 Vision Base System Requirements 6.2.3.2.4 Bitwise Not Container Element-wise application of a bit-wise NOT operator to a container (integer only). Syntax Definition: HRESULT Bitwise Not Container( HRESULT hr Prev, ITc Vn Container* ip Src Container, ITc Vn Container*& ip Dest Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Container ITc Vn Container* [} 1836] Source container ip Dest Container ITc Vn Container* [} 1836]& Returns the resulting container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.5 Bitwise Or Containers Element-wise application of a bit-wise OR operator to two containers (same length and type, integer only). Syntax Definition: HRESULT Bitwise Or Containers( HRESULT hr Prev, ITc Vn Container* ip Src Container1, ITc Vn Container* ip Src Container2, ITc Vn Container*& ip Dest Container ) TF7000 - TF7810 Version: 2.4.0 1939
## Page 1940

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Container1 ITc Vn Container* [} 1836] Source container 1 ip Src Container2 ITc Vn Container* [} 1836] Source container 2 ip Dest Container ITc Vn Container* [} 1836]& Returns the resulting container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.6 Bitwise Xor Containers Element-wise application of a bit-wise XOR operator to two containers (same length and type, integer only). Syntax Definition: HRESULT Bitwise Xor Containers( HRESULT hr Prev, ITc Vn Container* ip Src Container1, ITc Vn Container* ip Src Container2, ITc Vn Container*& ip Dest Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Container1 ITc Vn Container* [} 1836] Source container 1 ip Src Container2 ITc Vn Container* [} 1836] Source container 2 ip Dest Container ITc Vn Container* [} 1836]& Returns the resulting container Return value HRESULT [} 144] Required License TC3 Vision Base 1940 Version: 2.4.0 TF7000 - TF7810
## Page 1941

API reference System Requirements 6.2.3.2.7 Divide Containers Element-wise division of two containers (same length and type). In case of integer division by zero, the resulting element is set to n Int Divide By Zero Result and S_DIVISION_BY_ZERO is returned instead of S_OK. Syntax Definition: HRESULT Divide Containers( HRESULT hr Prev, ITc Vn Container* ip Src Container1, ITc Vn Container* ip Src Container2, ITc Vn Container*& ip Dest Container, LONGLONG n Int Divide By Zero Result = 0 ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Container1 ITc Vn Container* [} 1836] Source container 1 ip Src Container2 ITc Vn Container* [} 1836] Source container 2 ip Dest Container ITc Vn Container* [} 1836]& Returns the resulting container n Int Divide By Zero Result LONGLONG 0 Value set as result in case of integer division by zero Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.8 Max Container Element-wise maximum of two containers (same length and type). Syntax Definition: HRESULT Max Container( HRESULT hr Prev, ITc Vn Container* ip Src Container1, ITc Vn Container* ip Src Container2, ITc Vn Container*& ip Dest Container ) TF7000 - TF7810 Version: 2.4.0 1941
## Page 1942

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Container1 ITc Vn Container* [} 1836] Source container 1 ip Src Container2 ITc Vn Container* [} 1836] Source container 2 ip Dest Container ITc Vn Container* [} 1836]& Returns the resulting container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.9 Min Container Element-wise minimum of two containers (same length and type). Syntax Definition: HRESULT Min Container( HRESULT hr Prev, ITc Vn Container* ip Src Container1, ITc Vn Container* ip Src Container2, ITc Vn Container*& ip Dest Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Container1 ITc Vn Container* [} 1836] Source container 1 ip Src Container2 ITc Vn Container* [} 1836] Source container 2 ip Dest Container ITc Vn Container* [} 1836]& Returns the resulting container Return value HRESULT [} 144] Required License TC3 Vision Base 1942 Version: 2.4.0 TF7000 - TF7810
## Page 1943

API reference System Requirements 6.2.3.2.10 Multiply Containers Element-wise multiplication of two containers (same length and type). Syntax Definition: HRESULT Multiply Containers( HRESULT hr Prev, ITc Vn Container* ip Src Container1, ITc Vn Container* ip Src Container2, ITc Vn Container*& ip Dest Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Container1 ITc Vn Container* [} 1836] Source container 1 ip Src Container2 ITc Vn Container* [} 1836] Source container 2 ip Dest Container ITc Vn Container* [} 1836]& Returns the resulting container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.11 Multiply With Container Elements (1) Multiply each container element with a value. Syntax Definition: HRESULT Multiply With Container Elements( HRESULT hr Prev, double f Value, ITc Vn Container* ip Container ) TF7000 - TF7810 Version: 2.4.0 1943
## Page 1944

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) f Value double Value ip Container ITc Vn Container* [} 1836] Container with 1-dimensional elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.12 Multiply With Container Elements (2) Multiply each container element with a value. Syntax Definition: HRESULT Multiply With Container Elements( HRESULT hr Prev, Tc Vn Vector2_LREAL& a Value, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Value Tc Vn Vector2_LREAL [} 1663]& Value ip Container ITc Vn Container* [} 1836] Container with 2-dimensional elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.13 Multiply With Container Elements (3) Multiply each container element with a value. 1944 Version: 2.4.0 TF7000 - TF7810
## Page 1945

API reference Syntax Definition: HRESULT Multiply With Container Elements( HRESULT hr Prev, Tc Vn Vector3_LREAL& a Value, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Value Tc Vn Vector3_LREAL [} 1663]& Value ip Container ITc Vn Container* [} 1836] Container with 3-dimensional elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.14 Multiply With Container Elements (4) Multiply each container element with a value. Syntax Definition: HRESULT Multiply With Container Elements( HRESULT hr Prev, Tc Vn Vector4_LREAL& a Value, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Value Tc Vn Vector4_LREAL [} 1663]& Value ip Container ITc Vn Container* [} 1836] Container with 4-dimensional elements Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 1945
## Page 1946

API reference Required License TC3 Vision Base System Requirements 6.2.3.2.15 Negate Container Element-wise negation of a container (two's complement). Syntax Definition: HRESULT Negate Container( HRESULT hr Prev, ITc Vn Container* ip Src Container, ITc Vn Container*& ip Dest Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Container ITc Vn Container* [} 1836] Source container ip Dest Container ITc Vn Container* [} 1836]& Returns the resulting container (same type as ip Src Container) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.2.16 Subtract Containers Element-wise subtraction of two containers (same length and type). Syntax Definition: HRESULT Subtract Containers( HRESULT hr Prev, ITc Vn Container* ip Src Container1, ITc Vn Container* ip Src Container2, ITc Vn Container*& ip Dest Container ) 1946 Version: 2.4.0 TF7000 - TF7810
## Page 1947

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Container1 ITc Vn Container* [} 1836] Source container 1 ip Src Container2 ITc Vn Container* [} 1836] Source container 2 ip Dest Container ITc Vn Container* [} 1836]& Returns the resulting container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.3 Algebraic Image Operations This group contains functions for applying algebraic operations to images [} 152] pixel by pixel. Addition • Add Images [} 1948] • Add Images Weighted [} 1949] • Add Scalar To Image [} 1950] • Add Vector To Image [} 1951] Subtraction • Subtract Images [} 1978] • Subtract Image From Scalar [} 1977] • Subtract Image From Vector [} 1977] • Subtract Scalar From Image [} 1979] • Subtract Vector From Image [} 1979] Multiplication • Multiply Images [} 1975] • Multiply Image With Scalar [} 1975] • Multiply Image With Vector [} 1976] Division • Divide Images [} 1963] • Divide Image By Scalar [} 1962] • Divide Image By Vector [} 1963] • Divide Scalar By Image [} 1964] • Divide Vector By Image [} 1965] Exponentiation and logarithmization TF7000 - TF7810 Version: 2.4.0 1947
## Page 1948

API reference • Elementwise Exp [} 1965] • Elementwise Log [} 1966] Bitwise AND • Bitwise And Images(Exp) [} 1952] • Bitwise And Scalar With Image [} 1953] • Bitwise And Vector With Image [} 1954] Bitwise NOT • Bitwise Not Image(Exp) [} 1954] Bitwise OR • Bitwise Or Images(Exp) [} 1956] • Bitwise Or Scalar With Image [} 1957] • Bitwise Or Vector With Image [} 1958] Bitwise XOR • Bitwise Xor Images(Exp) [} 1958] • Bitwise Xor Scalar With Image [} 1960] • Bitwise Xor Vector With Image [} 1960] Cross-fading • Blend Images [} 1961] Maximum • Max Image(Exp) [} 1967] • Max Image With Scalar(Exp) [} 1968] • Max Image With Vector(Exp) [} 1969] Minimum • Min Image(Exp) [} 1971] • Min Image With Scalar(Exp) [} 1972] • Min Image With Vector(Exp) [} 1973] 6.2.3.3.1 Add Images Element-wise addition of two images using saturation arithmetics. Syntax Definition: HRESULT Add Images( HRESULT hr Prev, ITc Vn Image* ip Src Image1, ITc Vn Image* ip Src Image2, ITc Vn Image*& ip Dest Image ) 1948 Version: 2.4.0 TF7000 - TF7810
## Page 1949

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image1 ITc Vn Image* [} 1870] First source image ip Src Image2 ITc Vn Image* [} 1870] Second source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] Samples • Copy image areas [} 2737] Required License TC3 Vision Base System Requirements 6.2.3.3.2 Add Images Weighted Weighted, element-wise addition of two images using saturation arithmetics. Syntax Definition: HRESULT Add Images Weighted( HRESULT hr Prev, ITc Vn Image* ip Src Image1, ITc Vn Image* ip Src Image2, ITc Vn Image*& ip Dest Image, double f Weight1, double f Weight2, double f Delta, ETc Vn Element Type e Dest Type = TCVN_ET_SAME_AS_SOURCE ) TF7000 - TF7810 Version: 2.4.0 1949
## Page 1950

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image1 ITc Vn Image* [} 1870] First source image ip Src Image2 ITc Vn Image* [} 1870] Second source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) f Weight1 double Weight factor applied to ip Src Image1 f Weight2 double Weight factor applied to ip Src Image2 f Delta double Value added to the weighted sum of both images e Dest Type ETc Vn Element Type TCVN_ET_SAME_AS_S Destination image depth OURCE [} 1689] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.3.3 Add Scalar To Image Add a scalar value to each image pixel using saturation arithmetics. Syntax Definition: HRESULT Add Scalar To Image( HRESULT hr Prev, double f Scalar, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image ) 1950 Version: 2.4.0 TF7000 - TF7810
## Page 1951

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) f Scalar double Scalar value ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.3.4 Add Vector To Image Add a vector (1 element for each image channel) to each image pixel using saturation arithmetics. Syntax Definition: HRESULT Add Vector To Image( HRESULT hr Prev, Tc Vn Vector4_LREAL& a Vector, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Vector Tc Vn Vector4_LREAL [} 1663]& 4-element vector (1 element for each image channel. If the image has less channels, the further vector elements are ignored.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 1951
## Page 1952

API reference Required License TC3 Vision Base System Requirements 6.2.3.3.5 Bitwise And Images Element-wise application of a bit-wise AND operator to two images. Syntax Definition: HRESULT Bitwise And Images( HRESULT hr Prev, ITc Vn Image* ip Src Image1, ITc Vn Image* ip Src Image2, ITc Vn Image*& ip Dest Image ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image1 ITc Vn Image* [} 1870] First source image ip Src Image2 ITc Vn Image* [} 1870] Second source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.3.6 Bitwise And Images (Exp) Element-wise application of a bit-wise AND operator to two images. Syntax Definition: HRESULT Bitwise And Images( HRESULT hr Prev, ITc Vn Image* ip Src Image1, ITc Vn Image* ip Src Image2, ITc Vn Image*& ip Dest Image, ITc Vn Image* ip Mask ) 1952 Version: 2.4.0 TF7000 - TF7810
## Page 1953

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image1 ITc Vn Image* [} 1870] First source image ip Src Image2 ITc Vn Image* [} 1870] Second source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) ip Mask ITc Vn Image* [} 1870] Mask to limit the operation to specific pixel positions (mask value 0: skip pixel, mask value > 0: apply operation to pixel) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.3.7 Bitwise And Scalar With Image Bitwise and a scalar value with each image pixel. Syntax Definition: HRESULT Bitwise And Scalar With Image( HRESULT hr Prev, double f Scalar, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) f Scalar double Scalar value ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 1953
## Page 1954

API reference Required License TC3 Vision Base System Requirements 6.2.3.3.8 Bitwise And Vector With Image Bitwise and a vector (1 element for each image channel) with each image pixel. Syntax Definition: HRESULT Bitwise And Vector With Image( HRESULT hr Prev, Tc Vn Vector4_LREAL& a Vector, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Vector Tc Vn Vector4_LREAL [} 1663]& 4-element vector (1 element for each image channel. If the image has less channels, the further vector elements are ignored.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.3.9 Bitwise Not Image Element-wise application of a bit-wise NOT operator to an image. Syntax Definition: HRESULT Bitwise Not Image( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image ) 1954 Version: 2.4.0 TF7000 - TF7810
## Page 1955

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.3.10 Bitwise Not Image (Exp) Element-wise application of a bit-wise NOT operator to an image. Syntax Definition: HRESULT Bitwise Not Image( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, ITc Vn Image* ip Mask ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) ip Mask ITc Vn Image* [} 1870] Mask to limit the operation to specific pixel positions (mask value 0: skip pixel, mask value > 0: apply operation to pixel) Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1955
## Page 1956

API reference System Requirements 6.2.3.3.11 Bitwise Or Images Element-wise application of a bit-wise OR operator to two images. Syntax Definition: HRESULT Bitwise Or Images( HRESULT hr Prev, ITc Vn Image* ip Src Image1, ITc Vn Image* ip Src Image2, ITc Vn Image*& ip Dest Image ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image1 ITc Vn Image* [} 1870] First source image ip Src Image2 ITc Vn Image* [} 1870] Second source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.3.12 Bitwise Or Images (Exp) Element-wise application of a bit-wise OR operator to two images. Syntax Definition: HRESULT Bitwise Or Images( HRESULT hr Prev, ITc Vn Image* ip Src Image1, ITc Vn Image* ip Src Image2, ITc Vn Image*& ip Dest Image, ITc Vn Image* ip Mask ) 1956 Version: 2.4.0 TF7000 - TF7810
## Page 1957

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image1 ITc Vn Image* [} 1870] First source image ip Src Image2 ITc Vn Image* [} 1870] Second source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) ip Mask ITc Vn Image* [} 1870] Mask to limit the operation to specific pixel positions (mask value 0: skip pixel, mask value > 0: apply operation to pixel) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.3.13 Bitwise Or Scalar With Image Bitwise or a scalar value with each image pixel. Syntax Definition: HRESULT Bitwise Or Scalar With Image( HRESULT hr Prev, double f Scalar, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) f Scalar double Scalar value ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 1957
## Page 1958

API reference Required License TC3 Vision Base System Requirements 6.2.3.3.14 Bitwise Or Vector With Image Bitwise or a vector (1 element for each image channel) with each image pixel. Syntax Definition: HRESULT Bitwise Or Vector With Image( HRESULT hr Prev, Tc Vn Vector4_LREAL& a Vector, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Vector Tc Vn Vector4_LREAL [} 1663]& 4-element vector (1 element for each image channel. If the image has less channels, the further vector elements are ignored.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.3.15 Bitwise Xor Images Element-wise application of a bit-wise XOR operator to two images. Syntax Definition: HRESULT Bitwise Xor Images( HRESULT hr Prev, ITc Vn Image* ip Src Image1, ITc Vn Image* ip Src Image2, ITc Vn Image*& ip Dest Image ) 1958 Version: 2.4.0 TF7000 - TF7810
## Page 1959

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image1 ITc Vn Image* [} 1870] First source image ip Src Image2 ITc Vn Image* [} 1870] Second source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.3.16 Bitwise Xor Images (Exp) Element-wise application of a bit-wise XOR operator to two images. Syntax Definition: HRESULT Bitwise Xor Images( HRESULT hr Prev, ITc Vn Image* ip Src Image1, ITc Vn Image* ip Src Image2, ITc Vn Image*& ip Dest Image, ITc Vn Image* ip Mask ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image1 ITc Vn Image* [} 1870] First source image ip Src Image2 ITc Vn Image* [} 1870] Second source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) ip Mask ITc Vn Image* [} 1870] Mask to limit the operation to specific pixel positions (mask value 0: skip pixel, mask value > 0: apply operation to pixel) Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 1959
## Page 1960

API reference Required License TC3 Vision Base System Requirements 6.2.3.3.17 Bitwise Xor Scalar With Image Bitwise xor a scalar value with each image pixel. Syntax Definition: HRESULT Bitwise Xor Scalar With Image( HRESULT hr Prev, double f Scalar, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) f Scalar double Scalar value ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.3.18 Bitwise Xor Vector With Image Bitwise xor a vector (1 element for each image channel) with each image pixel. Syntax Definition: HRESULT Bitwise Xor Vector With Image( HRESULT hr Prev, Tc Vn Vector4_LREAL& a Vector, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image ) 1960 Version: 2.4.0 TF7000 - TF7810
## Page 1961

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Vector Tc Vn Vector4_LREAL [} 1663]& 4-element vector (1 element for each image channel. If the image has less channels, the further vector elements are ignored.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.3.19 Blend Images Blends two images, i.e. dest = (src1 * weight1 + src2 * weight2) / (weight1 + weight2). Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Blend Images( HRESULT hr Prev, ITc Vn Image* ip Src Image1, ITc Vn Image* ip Src Image2, ITc Vn Image* ip Weights1, ITc Vn Image* ip Weights2, ITc Vn Image*& ip Dest Image ) TF7000 - TF7810 Version: 2.4.0 1961
## Page 1962

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image1 ITc Vn Image* [} 1870] First source image (ET_USINT or ET_REAL) ip Src Image2 ITc Vn Image* [} 1870] Second source image (same type and size as ip Src Image1) ip Weights1 ITc Vn Image* [} 1870] Weights for ip Src Image1 (1 channel, ET_REAL) ip Weights2 ITc Vn Image* [} 1870] Weights for ip Src Image2 (1 channel, ET_REAL) ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.3.20 Divide Image By Scalar Divide each image pixel by a scalar value using saturation arithmetics. Syntax Definition: HRESULT Divide Image By Scalar( HRESULT hr Prev, ITc Vn Image* ip Src Image, double f Scalar, ITc Vn Image*& ip Dest Image ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image f Scalar double Scalar value ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) 1962 Version: 2.4.0 TF7000 - TF7810
## Page 1963

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.3.21 Divide Image By Vector Divides each image pixel by a vector (1 element for each image channel) using saturation arithmetics. Syntax Definition: HRESULT Divide Image By Vector( HRESULT hr Prev, ITc Vn Image* ip Src Image, Tc Vn Vector4_LREAL& a Vector, ITc Vn Image*& ip Dest Image ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image a Vector Tc Vn Vector4_LREAL [} 1663]& 4-element vector (1 element for each image channel. If the image has less channels, the further vector elements are ignored.) ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.3.22 Divide Images Element-wise division of two images using saturation arithmetics. (A division by zero equals zero.) Syntax Definition: HRESULT Divide Images( HRESULT hr Prev, ITc Vn Image* ip Src Image1, TF7000 - TF7810 Version: 2.4.0 1963
## Page 1964

API reference ITc Vn Image* ip Src Image2, ITc Vn Image*& ip Dest Image ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image1 ITc Vn Image* [} 1870] First source image (dividend) ip Src Image2 ITc Vn Image* [} 1870] Second source image (divisor) ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.3.23 Divide Scalar By Image Divides a scalar value by each image pixel using saturation arithmetics. Syntax Definition: HRESULT Divide Scalar By Image( HRESULT hr Prev, double f Scalar, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) f Scalar double Scalar value ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] 1964 Version: 2.4.0 TF7000 - TF7810
## Page 1965

API reference Required License TC3 Vision Base System Requirements 6.2.3.3.24 Divide Vector By Image Divides a vector (1 element for each image channel) by each image pixel using saturation arithmetics. Syntax Definition: HRESULT Divide Vector By Image( HRESULT hr Prev, Tc Vn Vector4_LREAL& a Vector, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Vector Tc Vn Vector4_LREAL [} 1663]& 4-element vector (1 element for each image channel. If the image has less channels, the further vector elements are ignored.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.3.25 Elementwise Exp Computes the natural exponent of each pixel value. Syntax Definition: HRESULT Elementwise Exp( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image ) TF7000 - TF7810 Version: 2.4.0 1965
## Page 1966

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (REAL or LREAL) ip Dest Image ITc Vn Image* [} 1870]& Destination image (Same type and size as ip Src Image, an appropriate image will be created if required.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.3.26 Elementwise Log Computes the natural logarithm of each pixel value. Syntax Definition: HRESULT Elementwise Log( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (REAL or LREAL) ip Dest Image ITc Vn Image* [} 1870]& Destination image (Same type and size as ip Src Image, an appropriate image will be created if required.) Return value HRESULT [} 144] Required License TC3 Vision Base 1966 Version: 2.4.0 TF7000 - TF7810
## Page 1967

API reference System Requirements 6.2.3.3.27 Max Image Element-wise maximum of two images. Syntax Definition: HRESULT Max Image( HRESULT hr Prev, ITc Vn Image* ip Src Image1, ITc Vn Image* ip Src Image2, ITc Vn Image*& ip Dest Image ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image1 ITc Vn Image* [} 1870] First source image ip Src Image2 ITc Vn Image* [} 1870] Second source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.3.28 Max Image (Exp) Element-wise maximum of two images. Syntax Definition: HRESULT Max Image( HRESULT hr Prev, ITc Vn Image* ip Src Image1, ITc Vn Image* ip Src Image2, ITc Vn Image*& ip Dest Image, ITc Vn Image* ip Mask ) TF7000 - TF7810 Version: 2.4.0 1967
## Page 1968

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image1 ITc Vn Image* [} 1870] First source image ip Src Image2 ITc Vn Image* [} 1870] Second source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) ip Mask ITc Vn Image* [} 1870] Mask of type USINT Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.3.29 Max Image With Scalar Element-wise maximum of image and scalar value. Syntax Definition: HRESULT Max Image With Scalar( HRESULT hr Prev, double f Scalar, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) f Scalar double Scalar value ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] Required License TC3 Vision Base 1968 Version: 2.4.0 TF7000 - TF7810
## Page 1969

API reference System Requirements 6.2.3.3.30 Max Image With Scalar (Exp) Element-wise maximum of image and scalar value. Syntax Definition: HRESULT Max Image With Scalar( HRESULT hr Prev, double f Scalar, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, ITc Vn Image* ip Mask ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) f Scalar double Scalar value ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) ip Mask ITc Vn Image* [} 1870] Mask of type USINT Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.3.31 Max Image With Vector Element-wise maximum of image and vector (1 element for each image channel). Syntax Definition: HRESULT Max Image With Vector( HRESULT hr Prev, Tc Vn Vector4_LREAL& a Vector, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image ) TF7000 - TF7810 Version: 2.4.0 1969
## Page 1970

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Vector Tc Vn Vector4_LREAL [} 1663]& 4-element vector (1 element for each image channel. If the image has less channels, the further vector elements are ignored.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.3.32 Max Image With Vector (Exp) Element-wise maximum of image and vector (1 element for each image channel). Syntax Definition: HRESULT Max Image With Vector( HRESULT hr Prev, Tc Vn Vector4_LREAL& a Vector, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, ITc Vn Image* ip Mask ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Vector Tc Vn Vector4_LREAL [} 1663]& 4-element vector (1 element for each image channel. If the image has less channels, the further vector elements are ignored.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) ip Mask ITc Vn Image* [} 1870] Mask of type USINT 1970 Version: 2.4.0 TF7000 - TF7810
## Page 1971

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.3.33 Min Image Element-wise minimum of two images. Syntax Definition: HRESULT Min Image( HRESULT hr Prev, ITc Vn Image* ip Src Image1, ITc Vn Image* ip Src Image2, ITc Vn Image*& ip Dest Image ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image1 ITc Vn Image* [} 1870] First source image ip Src Image2 ITc Vn Image* [} 1870] Second source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.3.34 Min Image (Exp) Element-wise minimum of two images. Syntax Definition: HRESULT Min Image( HRESULT hr Prev, ITc Vn Image* ip Src Image1, ITc Vn Image* ip Src Image2, TF7000 - TF7810 Version: 2.4.0 1971
## Page 1972

API reference ITc Vn Image*& ip Dest Image, ITc Vn Image* ip Mask ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image1 ITc Vn Image* [} 1870] First source image ip Src Image2 ITc Vn Image* [} 1870] Second source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) ip Mask ITc Vn Image* [} 1870] Mask of type USINT Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.3.35 Min Image With Scalar Element-wise minimum of image and scalar value. Syntax Definition: HRESULT Min Image With Scalar( HRESULT hr Prev, double f Scalar, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) f Scalar double Scalar value ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] 1972 Version: 2.4.0 TF7000 - TF7810
## Page 1973

API reference Required License TC3 Vision Base System Requirements 6.2.3.3.36 Min Image With Scalar (Exp) Element-wise minimum of image and scalar value. Syntax Definition: HRESULT Min Image With Scalar( HRESULT hr Prev, double f Scalar, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, ITc Vn Image* ip Mask ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) f Scalar double Scalar value ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) ip Mask ITc Vn Image* [} 1870] Mask of type USINT Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.3.37 Min Image With Vector Element-wise minimum of image and vector (1 element for each image channel). Syntax Definition: HRESULT Min Image With Vector( HRESULT hr Prev, Tc Vn Vector4_LREAL& a Vector, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image ) TF7000 - TF7810 Version: 2.4.0 1973
## Page 1974

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Vector Tc Vn Vector4_LREAL [} 1663]& 4-element vector (1 element for each image channel. If the image has less channels, the further vector elements are ignored.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.3.38 Min Image With Vector (Exp) Element-wise minimum of image and vector (1 element for each image channel). Syntax Definition: HRESULT Min Image With Vector( HRESULT hr Prev, Tc Vn Vector4_LREAL& a Vector, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, ITc Vn Image* ip Mask ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Vector Tc Vn Vector4_LREAL [} 1663]& 4-element vector (1 element for each image channel. If the image has less channels, the further vector elements are ignored.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) ip Mask ITc Vn Image* [} 1870] Mask of type USINT 1974 Version: 2.4.0 TF7000 - TF7810
## Page 1975

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.3.39 Multiply Images Element-wise multiplication of two images using saturation arithmetics. Syntax Definition: HRESULT Multiply Images( HRESULT hr Prev, ITc Vn Image* ip Src Image1, ITc Vn Image* ip Src Image2, ITc Vn Image*& ip Dest Image ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image1 ITc Vn Image* [} 1870] First source image ip Src Image2 ITc Vn Image* [} 1870] Second source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.3.40 Multiply Image With Scalar Multiply each image pixel by a scalar value using saturation arithmetics. Syntax Definition: HRESULT Multiply Image With Scalar( HRESULT hr Prev, double f Scalar, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image ) TF7000 - TF7810 Version: 2.4.0 1975
## Page 1976

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) f Scalar double Scalar value ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.3.41 Multiply Image With Vector Multiply each image pixel by a vector (1 element for each image channel) using saturation arithmetics. Syntax Definition: HRESULT Multiply Image With Vector( HRESULT hr Prev, Tc Vn Vector4_LREAL& a Vector, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Vector Tc Vn Vector4_LREAL [} 1663]& 4-element vector (1 element for each image channel. If the image has less channels, the further vector elements are ignored.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] 1976 Version: 2.4.0 TF7000 - TF7810
## Page 1977

API reference Required License TC3 Vision Base System Requirements 6.2.3.3.42 Subtract Image From Scalar Subtract each image pixel from a scalar value using saturation arithmetics. Syntax Definition: HRESULT Subtract Image From Scalar( HRESULT hr Prev, double f Scalar, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) f Scalar double Scalar value ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.3.43 Subtract Image From Vector Subtract each image pixel from a vector (1 element for each image channel) using saturation arithmetics. Syntax Definition: HRESULT Subtract Image From Vector( HRESULT hr Prev, Tc Vn Vector4_LREAL& a Vector, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image ) TF7000 - TF7810 Version: 2.4.0 1977
## Page 1978

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Vector Tc Vn Vector4_LREAL [} 1663]& 4-element vector (1 element for each image channel. If the image has less channels, the further vector elements are ignored.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.3.44 Subtract Images Element-wise subtraction of two images using saturation arithmetics. Syntax Definition: HRESULT Subtract Images( HRESULT hr Prev, ITc Vn Image* ip Src Image1, ITc Vn Image* ip Src Image2, ITc Vn Image*& ip Dest Image ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image1 ITc Vn Image* [} 1870] First source image (minuend) ip Src Image2 ITc Vn Image* [} 1870] Second source image (subtrahend) ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] 1978 Version: 2.4.0 TF7000 - TF7810
## Page 1979

API reference Required License TC3 Vision Base System Requirements 6.2.3.3.45 Subtract Scalar From Image Subtract a scalar value from each image pixel using saturation arithmetics. Syntax Definition: HRESULT Subtract Scalar From Image( HRESULT hr Prev, ITc Vn Image* ip Src Image, double f Scalar, ITc Vn Image*& ip Dest Image ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image f Scalar double Scalar value ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.3.46 Subtract Vector From Image Subtract a vector (1 element for each image channel) from each image pixel using saturation arithmetics. Syntax Definition: HRESULT Subtract Vector From Image( HRESULT hr Prev, ITc Vn Image* ip Src Image, Tc Vn Vector4_LREAL& a Vector, ITc Vn Image*& ip Dest Image ) TF7000 - TF7810 Version: 2.4.0 1979
## Page 1980

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image a Vector Tc Vn Vector4_LREAL [} 1663]& 4-element vector (1 element for each image channel. If the image has less channels, the further vector elements are ignored.) ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4 Basic Container Operations This group contains functions for handling containers [} 155]. Functions Creation of containers • Copy Container [} 2132] • Copy Container Elements Conditional_ITc Vn Container [} 2132] • Copy Container Elements Conditional_ITc Vn Forward Iterator [} 2133] • Create Container [} 2134] • Create Container From Array [} 2134] • Extract Container Range [} 2140] • Reserve Container Memory [} 2145] Handling of container elements • Append To Container [} 1981] • Check If Empty [} 2130] • Convert Container Type [} 2131] • Erase From Container [} 2135] • Fill Container(Exp) [} 2028] • Get At [} 2053] • Get Container(Exp) [} 2141] • Get Number Of Elements [} 2143] • Insert Into Container [} 2078] 1980 Version: 2.4.0 TF7000 - TF7810
## Page 1981

API reference • Reverse Container [} 2146] • Set At [} 2104] • Set Container [} 2146] Exporting container data to the memory area • Export Container [} 2136] • Export Sub Container [} 2138] • Export Container_String [} 2136] • Export Sub Container_String [} 2138] • Export Container Size [} 2137] • Export Sub Container Size [} 2139] Handling of iterators • Advance Iterator [} 2129] • Check If Iterator Is At End [} 2130] • Get Forward Iterator [} 2142] • Get Random Access Iterator [} 2143] • Increment Iterator [} 2144] • Iterator Distance [} 2144] • Set Iterator To Begin [} 2147] 6.2.3.4.1 Append To Container This chapter contains functions to add an element to a container according to the data type. 6.2.3.4.1.1 Append To Container (LONG) Append a single element of type DINT to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, LONG n Element, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n Element LONG Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 1981
## Page 1982

API reference Required License TC3 Vision Base System Requirements 6.2.3.4.1.2 Append To Container (SHORT) Append a single element of type INT to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, SHORT n Element, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n Element SHORT Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.1.3 Append To Container (ITc Vn Container*) Append a single element to a container or concatenate containers (if ip Element has the same type Id as ip Container). Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, ITc Vn Container* ip Element, ITc Vn Container* ip Container ) 1982 Version: 2.4.0 TF7000 - TF7810
## Page 1983

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Element ITc Vn Container* [} 1836] Single element to append to ip Container or container with several elements to be concatenated ip Container ITc Vn Container* [} 1836] Container to which the element(s) will be appended Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.1.4 Append To Container (ITc Vn Forward Iterator*) Append a single element (represented by an iterator)to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, ITc Vn Forward Iterator* ip Element, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Element ITc Vn Forward Iterator* [} 1828] Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element(s) will be appended Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1983
## Page 1984

API reference System Requirements 6.2.3.4.1.5 Append To Container (ITc Vn Image*) Append a single element of type ITc Vn Image to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, ITc Vn Image* ip Element, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Element ITc Vn Image* [} 1870] Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.1.6 Append To Container (double) Append a single element of type LREAL to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, double f Element, ITc Vn Container* ip Container ) 1984 Version: 2.4.0 TF7000 - TF7810
## Page 1985

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) f Element double Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.1.7 Append To Container (float) Append a single element of type REAL to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, float f Element, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) f Element float Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1985
## Page 1986

API reference System Requirements 6.2.3.4.1.8 Append To Container (char) Append a single element of type SINT to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, char n Element, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n Element char Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.1.9 Append To Container (Tc Vn DMatch) Append a single element of type Tc Vn DMatch to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, Tc Vn DMatch& st Element, ITc Vn Container* ip Container ) 1986 Version: 2.4.0 TF7000 - TF7810
## Page 1987

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) st Element Tc Vn DMatch [} 1719]& Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.1.10 Append To Container (Tc Vn Key Point) Append a single element of type Tc Vn Key Point to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, Tc Vn Key Point& st Element, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) st Element Tc Vn Key Point [} 1719]& Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1987
## Page 1988

API reference System Requirements 6.2.3.4.1.11 Append To Container (Tc Vn Point2_DINT) Append a single element of type Tc Vn Point2_DINT to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, Tc Vn Point2_DINT& a Element, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Point2_DINT [} 1661]& Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.1.12 Append To Container (Tc Vn Point2_LREAL) Append a single element of type Tc Vn Point2_LREAL to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, Tc Vn Point2_LREAL& a Element, ITc Vn Container* ip Container ) 1988 Version: 2.4.0 TF7000 - TF7810
## Page 1989

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Point2_LREAL [} 1661]& Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.1.13 Append To Container (Tc Vn Point2_REAL) Append a single element of type Tc Vn Point2_REAL to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, Tc Vn Point2_REAL& a Element, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Point2_REAL [} 1661]& Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1989
## Page 1990

API reference System Requirements 6.2.3.4.1.14 Append To Container (Tc Vn Point3_LREAL) Append a single element of type Tc Vn Point3_LREAL to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, Tc Vn Point3_LREAL& a Element, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Point3_LREAL [} 1661]& Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.1.15 Append To Container (Tc Vn Point3_REAL) Append a single element of type Tc Vn Point3_REAL to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, Tc Vn Point3_REAL& a Element, ITc Vn Container* ip Container ) 1990 Version: 2.4.0 TF7000 - TF7810
## Page 1991

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Point3_REAL [} 1661]& Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.1.16 Append To Container (Tc Vn Rectangle_DINT) Append a single element of type Tc Vn Rectangle_DINT to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, Tc Vn Rectangle_DINT& st Element, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) st Element Tc Vn Rectangle_DINT [} 1732]& Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1991
## Page 1992

API reference System Requirements 6.2.3.4.1.17 Append To Container (Tc Vn Vector2_DINT) Append a single element of type Tc Vn Vector2_DINT to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, Tc Vn Vector2_DINT& a Element, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector2_DINT [} 1663]& Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.1.18 Append To Container (Tc Vn Vector2_INT) Append a single element of type Tc Vn Vector2_INT to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, Tc Vn Vector2_INT& a Element, ITc Vn Container* ip Container ) 1992 Version: 2.4.0 TF7000 - TF7810
## Page 1993

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector2_INT [} 1663]& Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.1.19 Append To Container (Tc Vn Vector2_REAL) Append a single element of type Tc Vn Vector2_REAL to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, Tc Vn Vector2_REAL& a Element, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector2_REAL [} 1663]& Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1993
## Page 1994

API reference System Requirements 6.2.3.4.1.20 Append To Container (Tc Vn Vector2_SINT) Append a single element of type Tc Vn Vector2_SINT to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, Tc Vn Vector2_SINT& a Element, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector2_SINT [} 1663]& Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.1.21 Append To Container (Tc Vn Vector2_UINT) Append a single element of type Tc Vn Vector2_UINT to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, Tc Vn Vector2_UINT& a Element, ITc Vn Container* ip Container ) 1994 Version: 2.4.0 TF7000 - TF7810
## Page 1995

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector2_UINT [} 1663]& Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.1.22 Append To Container (Tc Vn Vector2_USINT) Append a single element of type Tc Vn Vector2_USINT to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, Tc Vn Vector2_USINT& a Element, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector2_USINT [} 1663]& Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1995
## Page 1996

API reference System Requirements 6.2.3.4.1.23 Append To Container (Tc Vn Vector3_INT) Append a single element of type Tc Vn Vector3_INT to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, Tc Vn Vector3_INT& a Element, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector3_INT [} 1663]& Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.1.24 Append To Container (Tc Vn Vector3_REAL) Append a single element of type Tc Vn Vector3_REAL to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, Tc Vn Vector3_REAL& a Element, ITc Vn Container* ip Container ) 1996 Version: 2.4.0 TF7000 - TF7810
## Page 1997

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector3_REAL [} 1663]& Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.1.25 Append To Container (Tc Vn Vector3_SINT) Append a single element of type Tc Vn Vector3_SINT to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, Tc Vn Vector3_SINT& a Element, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector3_SINT [} 1663]& Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1997
## Page 1998

API reference System Requirements 6.2.3.4.1.26 Append To Container (Tc Vn Vector3_UINT) Append a single element of type Tc Vn Vector3_UINT to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, Tc Vn Vector3_UINT& a Element, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector3_UINT [} 1663]& Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.1.27 Append To Container (Tc Vn Vector3_USINT) Append a single element of type Tc Vn Vector3_USINT to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, Tc Vn Vector3_USINT& a Element, ITc Vn Container* ip Container ) 1998 Version: 2.4.0 TF7000 - TF7810
## Page 1999

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector3_USINT [} 1663]& Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.1.28 Append To Container (Tc Vn Vector4_DINT) Append a single element of type Tc Vn Vector4_DINT to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, Tc Vn Vector4_DINT& a Element, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector4_DINT [} 1663]& Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 1999
## Page 2000

API reference System Requirements 6.2.3.4.1.29 Append To Container (Tc Vn Vector4_INT) Append a single element of type Tc Vn Vector4_INT to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, Tc Vn Vector4_INT& a Element, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector4_INT [} 1663]& Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.1.30 Append To Container (Tc Vn Vector4_LREAL) Append a single element of type Tc Vn Vector4_LREAL to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, Tc Vn Vector4_LREAL& a Element, ITc Vn Container* ip Container ) 2000 Version: 2.4.0 TF7000 - TF7810
## Page 2001

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector4_LREAL [} 1663]& Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.1.31 Append To Container (Tc Vn Vector4_SINT) Append a single element of type Tc Vn Vector4_SINT to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, Tc Vn Vector4_SINT& a Element, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector4_SINT [} 1663]& Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 2001
## Page 2002

API reference System Requirements 6.2.3.4.1.32 Append To Container (Tc Vn Vector4_UINT) Append a single element of type Tc Vn Vector4_UINT to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, Tc Vn Vector4_UINT& a Element, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector4_UINT [} 1663]& Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.1.33 Append To Container (Tc Vn Vector4_USINT) Append a single element of type Tc Vn Vector4_USINT to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, Tc Vn Vector4_USINT& a Element, ITc Vn Container* ip Container ) 2002 Version: 2.4.0 TF7000 - TF7810
## Page 2003

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector4_USINT [} 1663]& Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.1.34 Append To Container (ULONG) Append a single element of type UDINT to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, ULONG n Element, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n Element ULONG Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 2003
## Page 2004

API reference System Requirements 6.2.3.4.1.35 Append To Container (USHORT) Append a single element of type UINT to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, USHORT n Element, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n Element USHORT Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.1.36 Append To Container (ULONGLONG) Append a single element of type ULINT to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, ULONGLONG n Element, ITc Vn Container* ip Container ) 2004 Version: 2.4.0 TF7000 - TF7810
## Page 2005

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n Element ULONGLONG Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.1.37 Append To Container (unsigned char) Append a single element of type USINT to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, unsigned char n Element, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n Element unsigned char Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 2005
## Page 2006

API reference System Requirements 6.2.3.4.1.38 Append To Container (Tc Vn Vector4_REAL) Append a single element of type Tc Vn Vector4_REAL to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, Tc Vn Vector4_REAL& a Element, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector4_REAL [} 1663]& Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.1.39 Append To Container (Tc Vn Rotated Rectangle) Append a single element of type Tc Vn Rotated Rectangle to a container. Syntax Definition: HRESULT Append To Container( HRESULT hr Prev, Tc Vn Rotated Rectangle& st Element, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) st Element Tc Vn Rotated Rectangle [} 1733]& Single element to append to ip Container ip Container ITc Vn Container* [} 1836] Container to which the element will be appended 2006 Version: 2.4.0 TF7000 - TF7810
## Page 2007

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.2 Fill Container This chapter contains functions to fill a container with a special value according to the data type. This function is available for containers with basic elements. 6.2.3.4.2.1 Fill Container (LONG) Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, LONG n Value ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements n Value LONG Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.2.2 Fill Container (SHORT) Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, SHORT n Value ) TF7000 - TF7810 Version: 2.4.0 2007
## Page 2008

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements n Value SHORT Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.2.3 Fill Container (ITc Vn Image*) Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, ITc Vn Image* ip Value ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements ip Value ITc Vn Image* [} 1870] Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.2.4 Fill Container (double) Fill the container with the specified value. Only possible for containers with basic elements. 2008 Version: 2.4.0 TF7000 - TF7810
## Page 2009

API reference Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, double f Value ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements f Value double Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.2.5 Fill Container (float) Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, float f Value ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements f Value float Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 2009
## Page 2010

API reference System Requirements 6.2.3.4.2.6 Fill Container (char) Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, char n Value ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements n Value char Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.2.7 Fill Container (Tc Vn DMatch) Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn DMatch& st Value ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements st Value Tc Vn DMatch [} 1719]& Value to set the container elements 2010 Version: 2.4.0 TF7000 - TF7810
## Page 2011

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.2.8 Fill Container (Tc Vn Key Point) Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Key Point& st Value ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements st Value Tc Vn Key Point [} 1719]& Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.2.9 Fill Container (Tc Vn Point2_DINT) Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Point2_DINT& a Value ) TF7000 - TF7810 Version: 2.4.0 2011
## Page 2012

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Point2_DINT [} 1661]& Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.2.10 Fill Container (Tc Vn Point2_LREAL) Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Point2_LREAL& a Value ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Point2_LREAL [} 1661]& Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.2.11 Fill Container (Tc Vn Point2_REAL) Fill the container with the specified value. Only possible for containers with basic elements. 2012 Version: 2.4.0 TF7000 - TF7810
## Page 2013

API reference Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Point2_REAL& a Value ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Point2_REAL [} 1661]& Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.2.12 Fill Container (Tc Vn Point3_LREAL) Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Point3_LREAL& a Value ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Point3_LREAL [} 1661]& Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 2013
## Page 2014

API reference System Requirements 6.2.3.4.2.13 Fill Container (Tc Vn Point3_REAL) Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Point3_REAL& a Value ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Point3_REAL [} 1661]& Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.2.14 Fill Container (Tc Vn Rectangle_DINT) Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Rectangle_DINT& st Value ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements st Value Tc Vn Rectangle_DINT [} 1732]& Value to set the container elements 2014 Version: 2.4.0 TF7000 - TF7810
## Page 2015

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.2.15 Fill Container (Tc Vn Vector2_DINT) Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_DINT& a Value ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector2_DINT [} 1663]& Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.2.16 Fill Container (Tc Vn Vector2_INT) Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_INT& a Value ) TF7000 - TF7810 Version: 2.4.0 2015
## Page 2016

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector2_INT [} 1663]& Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.2.17 Fill Container (Tc Vn Vector2_REAL) Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_REAL& a Value ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector2_REAL [} 1663]& Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.2.18 Fill Container (Tc Vn Vector2_SINT) Fill the container with the specified value. Only possible for containers with basic elements. 2016 Version: 2.4.0 TF7000 - TF7810
## Page 2017

API reference Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_SINT& a Value ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector2_SINT [} 1663]& Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.2.19 Fill Container (Tc Vn Vector2_UINT) Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_UINT& a Value ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector2_UINT [} 1663]& Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 2017
## Page 2018

API reference System Requirements 6.2.3.4.2.20 Fill Container (Tc Vn Vector2_USINT) Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_USINT& a Value ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector2_USINT [} 1663]& Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.2.21 Fill Container (Tc Vn Vector3_INT) Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector3_INT& a Value ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector3_INT [} 1663]& Value to set the container elements 2018 Version: 2.4.0 TF7000 - TF7810
## Page 2019

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.2.22 Fill Container (Tc Vn Vector3_REAL) Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector3_REAL& a Value ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector3_REAL [} 1663]& Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.2.23 Fill Container (Tc Vn Vector3_SINT) Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector3_SINT& a Value ) TF7000 - TF7810 Version: 2.4.0 2019
## Page 2020

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector3_SINT [} 1663]& Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.2.24 Fill Container (Tc Vn Vector3_UINT) Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector3_UINT& a Value ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector3_UINT [} 1663]& Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.2.25 Fill Container (Tc Vn Vector3_USINT) Fill the container with the specified value. Only possible for containers with basic elements. 2020 Version: 2.4.0 TF7000 - TF7810
## Page 2021

API reference Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector3_USINT& a Value ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector3_USINT [} 1663]& Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.2.26 Fill Container (Tc Vn Vector4_DINT) Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_DINT& a Value ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector4_DINT [} 1663]& Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 2021
## Page 2022

API reference System Requirements 6.2.3.4.2.27 Fill Container (Tc Vn Vector4_INT) Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_INT& a Value ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector4_INT [} 1663]& Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.2.28 Fill Container (Tc Vn Vector4_LREAL) Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_LREAL& a Value ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector4_LREAL [} 1663]& Value to set the container elements 2022 Version: 2.4.0 TF7000 - TF7810
## Page 2023

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.2.29 Fill Container (Tc Vn Vector4_SINT) Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_SINT& a Value ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector4_SINT [} 1663]& Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.2.30 Fill Container (Tc Vn Vector4_UINT) Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_UINT& a Value ) TF7000 - TF7810 Version: 2.4.0 2023
## Page 2024

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector4_UINT [} 1663]& Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.2.31 Fill Container (Tc Vn Vector4_USINT) Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_USINT& a Value ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector4_USINT [} 1663]& Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.2.32 Fill Container (ULONG) Fill the container with the specified value. Only possible for containers with basic elements. 2024 Version: 2.4.0 TF7000 - TF7810
## Page 2025

API reference Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, ULONG n Value ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements n Value ULONG Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.2.33 Fill Container (USHORT) Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, USHORT n Value ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements n Value USHORT Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 2025
## Page 2026

API reference System Requirements 6.2.3.4.2.34 Fill Container (ULONGLONG) Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, ULONGLONG n Value ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements n Value ULONGLONG Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.2.35 Fill Container (unsigned char) Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, unsigned char n Value ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements n Value unsigned char Value to set the container elements 2026 Version: 2.4.0 TF7000 - TF7810
## Page 2027

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.2.36 Fill Container (Tc Vn Vector4_REAL) Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_REAL& a Value ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector4_REAL [} 1663]& Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.2.37 Fill Container (Tc Vn Rotated Rectangle) Fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Rotated Rectangle& st Value ) TF7000 - TF7810 Version: 2.4.0 2027
## Page 2028

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements st Value Tc Vn Rotated Rectangle [} 1733]& Value to set the container elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.3 Fill Container Exp This chapter contains expert functions that can be used to fill a container with a specific value, even only partially, according to the data type. This function is available for containers with basic elements. 6.2.3.4.3.1 Fill Container (LONG) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, LONG n Value, ULONGLONG n Start Idx, ULONGLONG n Count ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements n Value LONG Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base 2028 Version: 2.4.0 TF7000 - TF7810
## Page 2029

API reference System Requirements 6.2.3.4.3.2 Fill Container (SHORT) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, SHORT n Value, ULONGLONG n Start Idx, ULONGLONG n Count ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements n Value SHORT Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.3.3 Fill Container (ITc Vn Image*) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, ITc Vn Image* ip Value, ULONGLONG n Start Idx, ULONGLONG n Count ) TF7000 - TF7810 Version: 2.4.0 2029
## Page 2030

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements ip Value ITc Vn Image* [} 1870] Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.3.4 Fill Container (double) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, double f Value, ULONGLONG n Start Idx, ULONGLONG n Count ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements f Value double Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base 2030 Version: 2.4.0 TF7000 - TF7810
## Page 2031

API reference System Requirements 6.2.3.4.3.5 Fill Container (float) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, float f Value, ULONGLONG n Start Idx, ULONGLONG n Count ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements f Value float Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.3.6 Fill Container (char) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, char n Value, ULONGLONG n Start Idx, ULONGLONG n Count ) TF7000 - TF7810 Version: 2.4.0 2031
## Page 2032

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements n Value char Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.3.7 Fill Container (Tc Vn DMatch) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn DMatch& st Value, ULONGLONG n Start Idx, ULONGLONG n Count ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements st Value Tc Vn DMatch [} 1719]& Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base 2032 Version: 2.4.0 TF7000 - TF7810
## Page 2033

API reference System Requirements 6.2.3.4.3.8 Fill Container (Tc Vn Key Point) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Key Point& st Value, ULONGLONG n Start Idx, ULONGLONG n Count ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements st Value Tc Vn Key Point [} 1719]& Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.3.9 Fill Container (Tc Vn Point2_DINT) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Point2_DINT& a Value, ULONGLONG n Start Idx, ULONGLONG n Count ) TF7000 - TF7810 Version: 2.4.0 2033
## Page 2034

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Point2_DINT [} 1661]& Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.3.10 Fill Container (Tc Vn Point2_LREAL) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Point2_LREAL& a Value, ULONGLONG n Start Idx, ULONGLONG n Count ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Point2_LREAL [} 1661]& Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base 2034 Version: 2.4.0 TF7000 - TF7810
## Page 2035

API reference System Requirements 6.2.3.4.3.11 Fill Container (Tc Vn Point2_REAL) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Point2_REAL& a Value, ULONGLONG n Start Idx, ULONGLONG n Count ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Point2_REAL [} 1661]& Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.3.12 Fill Container (Tc Vn Point3_LREAL) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Point3_LREAL& a Value, ULONGLONG n Start Idx, ULONGLONG n Count ) TF7000 - TF7810 Version: 2.4.0 2035
## Page 2036

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Point3_LREAL [} 1661]& Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.3.13 Fill Container (Tc Vn Point3_REAL) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Point3_REAL& a Value, ULONGLONG n Start Idx, ULONGLONG n Count ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Point3_REAL [} 1661]& Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base 2036 Version: 2.4.0 TF7000 - TF7810
## Page 2037

API reference System Requirements 6.2.3.4.3.14 Fill Container (Tc Vn Rectangle_DINT) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Rectangle_DINT& st Value, ULONGLONG n Start Idx, ULONGLONG n Count ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements st Value Tc Vn Rectangle_DINT [} 1732]& Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.3.15 Fill Container (Tc Vn Vector2_DINT) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_DINT& a Value, ULONGLONG n Start Idx, ULONGLONG n Count ) TF7000 - TF7810 Version: 2.4.0 2037
## Page 2038

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector2_DINT [} 1663]& Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.3.16 Fill Container (Tc Vn Vector2_INT) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_INT& a Value, ULONGLONG n Start Idx, ULONGLONG n Count ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector2_INT [} 1663]& Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base 2038 Version: 2.4.0 TF7000 - TF7810
## Page 2039

API reference System Requirements 6.2.3.4.3.17 Fill Container (Tc Vn Vector2_REAL) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_REAL& a Value, ULONGLONG n Start Idx, ULONGLONG n Count ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector2_REAL [} 1663]& Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.3.18 Fill Container (Tc Vn Vector2_SINT) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_SINT& a Value, ULONGLONG n Start Idx, ULONGLONG n Count ) TF7000 - TF7810 Version: 2.4.0 2039
## Page 2040

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector2_SINT [} 1663]& Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.3.19 Fill Container (Tc Vn Vector2_UINT) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_UINT& a Value, ULONGLONG n Start Idx, ULONGLONG n Count ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector2_UINT [} 1663]& Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base 2040 Version: 2.4.0 TF7000 - TF7810
## Page 2041

API reference System Requirements 6.2.3.4.3.20 Fill Container (Tc Vn Vector2_USINT) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_USINT& a Value, ULONGLONG n Start Idx, ULONGLONG n Count ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector2_USINT [} 1663]& Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.3.21 Fill Container (Tc Vn Vector3_INT) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector3_INT& a Value, ULONGLONG n Start Idx, ULONGLONG n Count ) TF7000 - TF7810 Version: 2.4.0 2041
## Page 2042

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector3_INT [} 1663]& Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.3.22 Fill Container (Tc Vn Vector3_REAL) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector3_REAL& a Value, ULONGLONG n Start Idx, ULONGLONG n Count ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector3_REAL [} 1663]& Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base 2042 Version: 2.4.0 TF7000 - TF7810
## Page 2043

API reference System Requirements 6.2.3.4.3.23 Fill Container (Tc Vn Vector3_SINT) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector3_SINT& a Value, ULONGLONG n Start Idx, ULONGLONG n Count ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector3_SINT [} 1663]& Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.3.24 Fill Container (Tc Vn Vector3_UINT) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector3_UINT& a Value, ULONGLONG n Start Idx, ULONGLONG n Count ) TF7000 - TF7810 Version: 2.4.0 2043
## Page 2044

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector3_UINT [} 1663]& Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.3.25 Fill Container (Tc Vn Vector3_USINT) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector3_USINT& a Value, ULONGLONG n Start Idx, ULONGLONG n Count ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector3_USINT [} 1663]& Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base 2044 Version: 2.4.0 TF7000 - TF7810
## Page 2045

API reference System Requirements 6.2.3.4.3.26 Fill Container (Tc Vn Vector4_DINT) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_DINT& a Value, ULONGLONG n Start Idx, ULONGLONG n Count ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector4_DINT [} 1663]& Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.3.27 Fill Container (Tc Vn Vector4_INT) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_INT& a Value, ULONGLONG n Start Idx, ULONGLONG n Count ) TF7000 - TF7810 Version: 2.4.0 2045
## Page 2046

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector4_INT [} 1663]& Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.3.28 Fill Container (Tc Vn Vector4_LREAL) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_LREAL& a Value, ULONGLONG n Start Idx, ULONGLONG n Count ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector4_LREAL [} 1663]& Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base 2046 Version: 2.4.0 TF7000 - TF7810
## Page 2047

API reference System Requirements 6.2.3.4.3.29 Fill Container (Tc Vn Vector4_SINT) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_SINT& a Value, ULONGLONG n Start Idx, ULONGLONG n Count ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector4_SINT [} 1663]& Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.3.30 Fill Container (Tc Vn Vector4_UINT) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_UINT& a Value, ULONGLONG n Start Idx, ULONGLONG n Count ) TF7000 - TF7810 Version: 2.4.0 2047
## Page 2048

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector4_UINT [} 1663]& Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.3.31 Fill Container (Tc Vn Vector4_USINT) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_USINT& a Value, ULONGLONG n Start Idx, ULONGLONG n Count ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector4_USINT [} 1663]& Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base 2048 Version: 2.4.0 TF7000 - TF7810
## Page 2049

API reference System Requirements 6.2.3.4.3.32 Fill Container (ULONG) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, ULONG n Value, ULONGLONG n Start Idx, ULONGLONG n Count ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements n Value ULONG Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.3.33 Fill Container (USHORT) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, USHORT n Value, ULONGLONG n Start Idx, ULONGLONG n Count ) TF7000 - TF7810 Version: 2.4.0 2049
## Page 2050

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements n Value USHORT Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.3.34 Fill Container (ULONGLONG) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, ULONGLONG n Value, ULONGLONG n Start Idx, ULONGLONG n Count ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements n Value ULONGLONG Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base 2050 Version: 2.4.0 TF7000 - TF7810
## Page 2051

API reference System Requirements 6.2.3.4.3.35 Fill Container (unsigned char) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, unsigned char n Value, ULONGLONG n Start Idx, ULONGLONG n Count ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements n Value unsigned char Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.3.36 Fill Container (Tc Vn Vector4_REAL) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_REAL& a Value, ULONGLONG n Start Idx, ULONGLONG n Count ) TF7000 - TF7810 Version: 2.4.0 2051
## Page 2052

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements a Value Tc Vn Vector4_REAL [} 1663]& Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.3.37 Fill Container (Tc Vn Rotated Rectangle) Partially fill the container with the specified value. Only possible for containers with basic elements. Syntax Definition: HRESULT Fill Container( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Rotated Rectangle& st Value, ULONGLONG n Start Idx, ULONGLONG n Count ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements st Value Tc Vn Rotated Rectangle [} 1733]& Value to set the container elements n Start Idx ULONGLONG Start index n Count ULONGLONG Number of elements to set Return value HRESULT [} 144] Required License TC3 Vision Base 2052 Version: 2.4.0 TF7000 - TF7810
## Page 2053

API reference System Requirements 6.2.3.4.4 Get At The F_VN_Get At functions should be used if individual elements in a container have to be accessed. If all elements in a container are to be processed in succession, it is much better to use an iterator [} 2142]. 6.2.3.4.4.1 Get At (LONG) Gets the DINT element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, LONG& n Element, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with DINT elements n Element LONG& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.4.2 Get At (SHORT) Gets the INT element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, SHORT& n Element, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2053
## Page 2054

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with INT elements n Element SHORT& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.4.3 Get At (ITc Vn Container*) Gets the ITc Vn Container element at the specified index of the source container. (Alternatively use interface method . Get At.) Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Src Container, ITc Vn Container*& ip Dest Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Container ITc Vn Container* [} 1836] Container with ITc Vn Container elements ip Dest Container ITc Vn Container* [} 1836]& Returns the container at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base 2054 Version: 2.4.0 TF7000 - TF7810
## Page 2055

API reference System Requirements 6.2.3.4.4.4 Get At (ITc Vn Image*) Gets the ITc Vn Image element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, ITc Vn Image*& ip Element, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with ITc Vn Image elements ip Element ITc Vn Image* [} 1870]& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.4.5 Get At (double) Gets the LREAL element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, double& f Element, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2055
## Page 2056

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with LREAL elements f Element double& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.4.6 Get At (float) Gets the REAL element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, float& f Element, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with REAL elements f Element float& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base 2056 Version: 2.4.0 TF7000 - TF7810
## Page 2057

API reference System Requirements 6.2.3.4.4.7 Get At (char) Gets the SINT element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, char& n Element, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with SINT elements n Element char& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.4.8 Get At (Tc Vn DMatch) Gets the Tc Vn DMatch element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn DMatch& st Element, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2057
## Page 2058

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with Tc Vn DMatch elements st Element Tc Vn DMatch [} 1719]& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.4.9 Get At (Tc Vn Key Point) Gets the Tc Vn Key Point element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Key Point& st Element, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with Tc Vn Key Point elements st Element Tc Vn Key Point [} 1719]& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base 2058 Version: 2.4.0 TF7000 - TF7810
## Page 2059

API reference System Requirements 6.2.3.4.4.10 Get At (Tc Vn Point2_DINT) Gets the Tc Vn Point2_DINT element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Point2_DINT& a Element, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with Tc Vn Point2_DINT elements a Element Tc Vn Point2_DINT [} 1661]& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.4.11 Get At (Tc Vn Point2_LREAL) Gets the Tc Vn Point2_LREAL element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Point2_LREAL& a Element, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2059
## Page 2060

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with Tc Vn Point2_LREAL elements a Element Tc Vn Point2_LREAL [} 1661]& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.4.12 Get At (Tc Vn Point2_REAL) Gets the Tc Vn Point2_REAL element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Point2_REAL& a Element, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with Tc Vn Point2_REAL elements a Element Tc Vn Point2_REAL [} 1661]& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base 2060 Version: 2.4.0 TF7000 - TF7810
## Page 2061

API reference System Requirements 6.2.3.4.4.13 Get At (Tc Vn Point3_LREAL) Gets the Tc Vn Point3_LREAL element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Point3_LREAL& a Element, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with Tc Vn Point3_LREAL elements a Element Tc Vn Point3_LREAL [} 1661]& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.4.14 Get At (Tc Vn Point3_REAL) Gets the Tc Vn Point3_REAL element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Point3_REAL& a Element, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2061
## Page 2062

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with Tc Vn Point3_REAL elements a Element Tc Vn Point3_REAL [} 1661]& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.4.15 Get At (Tc Vn Rectangle_DINT) Gets the Tc Vn Rectangle_DINT element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Rectangle_DINT& st Element, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with Tc Vn Rectangle_DINT elements st Element Tc Vn Rectangle_DINT [} 1732]& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base 2062 Version: 2.4.0 TF7000 - TF7810
## Page 2063

API reference System Requirements 6.2.3.4.4.16 Get At (Tc Vn Vector2_DINT) Gets the Tc Vn Vector2_DINT element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_DINT& a Element, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector2_DINT elements a Element Tc Vn Vector2_DINT [} 1663]& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.4.17 Get At (Tc Vn Vector2_INT) Gets the Tc Vn Vector2_INT element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_INT& a Element, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2063
## Page 2064

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector2_INT elements a Element Tc Vn Vector2_INT [} 1663]& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.4.18 Get At (Tc Vn Vector2_REAL) Gets the Tc Vn Vector2_REAL element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_REAL& a Element, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector2_REAL elements a Element Tc Vn Vector2_REAL [} 1663]& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base 2064 Version: 2.4.0 TF7000 - TF7810
## Page 2065

API reference System Requirements 6.2.3.4.4.19 Get At (Tc Vn Vector2_SINT) Gets the Tc Vn Vector2_SINT element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_SINT& a Element, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector2_SINT elements a Element Tc Vn Vector2_SINT [} 1663]& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.4.20 Get At (Tc Vn Vector2_UINT) Gets the Tc Vn Vector2_UINT element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_UINT& a Element, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2065
## Page 2066

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector2_UINT elements a Element Tc Vn Vector2_UINT [} 1663]& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.4.21 Get At (Tc Vn Vector2_USINT) Gets the Tc Vn Vector2_USINT element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_USINT& a Element, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector2_USINT elements a Element Tc Vn Vector2_USINT [} 1663]& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base 2066 Version: 2.4.0 TF7000 - TF7810
## Page 2067

API reference System Requirements 6.2.3.4.4.22 Get At (Tc Vn Vector3_INT) Gets the Tc Vn Vector3_INT element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector3_INT& a Element, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector3_INT elements a Element Tc Vn Vector3_INT [} 1663]& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.4.23 Get At (Tc Vn Vector3_REAL) Gets the Tc Vn Vector3_REAL element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector3_REAL& a Element, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2067
## Page 2068

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector3_REAL elements a Element Tc Vn Vector3_REAL [} 1663]& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.4.24 Get At (Tc Vn Vector3_SINT) Gets the Tc Vn Vector3_SINT element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector3_SINT& a Element, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector3_SINT elements a Element Tc Vn Vector3_SINT [} 1663]& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base 2068 Version: 2.4.0 TF7000 - TF7810
## Page 2069

API reference System Requirements 6.2.3.4.4.25 Get At (Tc Vn Vector3_UINT) Gets the Tc Vn Vector3_UINT element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector3_UINT& a Element, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector3_UINT elements a Element Tc Vn Vector3_UINT [} 1663]& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.4.26 Get At (Tc Vn Vector3_USINT) Gets the Tc Vn Vector3_USINT element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector3_USINT& a Element, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2069
## Page 2070

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector3_USINT elements a Element Tc Vn Vector3_USINT [} 1663]& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.4.27 Get At (Tc Vn Vector4_DINT) Gets the Tc Vn Vector4_DINT element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_DINT& a Element, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector4_DINT elements a Element Tc Vn Vector4_DINT [} 1663]& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base 2070 Version: 2.4.0 TF7000 - TF7810
## Page 2071

API reference System Requirements 6.2.3.4.4.28 Get At (Tc Vn Vector4_INT) Gets the Tc Vn Vector4_INT element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_INT& a Element, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector4_INT elements a Element Tc Vn Vector4_INT [} 1663]& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.4.29 Get At (Tc Vn Vector4_LREAL) Gets the Tc Vn Vector4_LREAL element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_LREAL& a Element, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2071
## Page 2072

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector4_LREAL elements a Element Tc Vn Vector4_LREAL [} 1663]& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.4.30 Get At (Tc Vn Vector4_SINT) Gets the Tc Vn Vector4_SINT element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_SINT& a Element, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector4_SINT elements a Element Tc Vn Vector4_SINT [} 1663]& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base 2072 Version: 2.4.0 TF7000 - TF7810
## Page 2073

API reference System Requirements 6.2.3.4.4.31 Get At (Tc Vn Vector4_UINT) Gets the Tc Vn Vector4_UINT element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_UINT& a Element, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector4_UINT elements a Element Tc Vn Vector4_UINT [} 1663]& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.4.32 Get At (Tc Vn Vector4_USINT) Gets the Tc Vn Vector4_USINT element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_USINT& a Element, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2073
## Page 2074

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector4_USINT elements a Element Tc Vn Vector4_USINT [} 1663]& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.4.33 Get At (ULONG) Gets the UDINT element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, ULONG& n Element, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with UDINT elements n Element ULONG& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base 2074 Version: 2.4.0 TF7000 - TF7810
## Page 2075

API reference System Requirements 6.2.3.4.4.34 Get At (USHORT) Gets the UINT element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, USHORT& n Element, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with UINT elements n Element USHORT& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.4.35 Get At (ULONGLONG) Gets the ULINT element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, ULONGLONG& n Element, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2075
## Page 2076

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with ULINT elements n Element ULONGLONG& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.4.36 Get At (unsigned char) Gets the USINT element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, unsigned char& n Element, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with USINT elements n Element unsigned char& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base 2076 Version: 2.4.0 TF7000 - TF7810
## Page 2077

API reference System Requirements 6.2.3.4.4.37 Get At (Tc Vn Vector4_REAL) Gets the Tc Vn Vector4_REAL element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_REAL& a Element, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector4_REAL elements a Element Tc Vn Vector4_REAL [} 1663]& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.4.38 Get At (Tc Vn Rotated Rectangle) Gets the Tc Vn Rotated Rectangle element at the specified index of the container. Syntax Definition: HRESULT Get At( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Rotated Rectangle& st Element, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2077
## Page 2078

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with Tc Vn Rotated Rectangle elements st Element Tc Vn Rotated Rectangle [} 1733]& Returns the element at the specified index n Index ULONGLONG Index of the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.5 Insert Into Container This chapter contains functions to insert an element at a specific container position according to the data type. 6.2.3.4.5.1 Insert Into Container (LONG) Insert an element of type DINT into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, LONG n Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n Element LONG Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] 2078 Version: 2.4.0 TF7000 - TF7810
## Page 2079

API reference Required License TC3 Vision Base System Requirements 6.2.3.4.5.2 Insert Into Container (SHORT) Insert an element of type INT into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, SHORT n Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n Element SHORT Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.5.3 Insert Into Container (ITc Vn Container*) Insert an element (or a range of elements) into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, ITc Vn Container* ip Element, ITc Vn Container* ip Container, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2079
## Page 2080

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Element ITc Vn Container* [} 1836] Single element to insert into ip Container or container with several elements ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.5.4 Insert Into Container (ITc Vn Forward Iterator*) Insert an element (represented by an iterator) into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, ITc Vn Forward Iterator* ip Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Element ITc Vn Forward Iterator* [} 1828] Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] 2080 Version: 2.4.0 TF7000 - TF7810
## Page 2081

API reference Required License TC3 Vision Base System Requirements 6.2.3.4.5.5 Insert Into Container (ITc Vn Image*) Insert an element of type ITc Vn Image into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, ITc Vn Image* ip Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Element ITc Vn Image* [} 1870] Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.5.6 Insert Into Container (double) Insert an element of type LREAL into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, double f Element, ITc Vn Container* ip Container, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2081
## Page 2082

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) f Element double Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.5.7 Insert Into Container (float) Insert an element of type REAL into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, float f Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) f Element float Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base 2082 Version: 2.4.0 TF7000 - TF7810
## Page 2083

API reference System Requirements 6.2.3.4.5.8 Insert Into Container (char) Insert an element of type SINT into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, char n Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n Element char Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.5.9 Insert Into Container (Tc Vn DMatch) Insert an element of type Tc Vn DMatch into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, Tc Vn DMatch& st Element, ITc Vn Container* ip Container, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2083
## Page 2084

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) st Element Tc Vn DMatch [} 1719]& Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.5.10 Insert Into Container (Tc Vn Key Point) Insert an element of type Tc Vn Key Point into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, Tc Vn Key Point& st Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) st Element Tc Vn Key Point [} 1719]& Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base 2084 Version: 2.4.0 TF7000 - TF7810
## Page 2085

API reference System Requirements 6.2.3.4.5.11 Insert Into Container (Tc Vn Point2_DINT) Insert an element of type Tc Vn Point2_DINT into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, Tc Vn Point2_DINT& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Point2_DINT [} 1661]& Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.5.12 Insert Into Container (Tc Vn Point2_LREAL) Insert an element of type Tc Vn Point2_LREAL into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, Tc Vn Point2_LREAL& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2085
## Page 2086

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Point2_LREAL [} 1661]& Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.5.13 Insert Into Container (Tc Vn Point2_REAL) Insert an element of type Tc Vn Point2_REAL into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, Tc Vn Point2_REAL& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Point2_REAL [} 1661]& Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base 2086 Version: 2.4.0 TF7000 - TF7810
## Page 2087

API reference System Requirements 6.2.3.4.5.14 Insert Into Container (Tc Vn Point3_LREAL) Insert an element of type Tc Vn Point3_LREAL into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, Tc Vn Point3_LREAL& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Point3_LREAL [} 1661]& Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.5.15 Insert Into Container (Tc Vn Point3_REAL) Insert an element of type Tc Vn Point3_REAL into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, Tc Vn Point3_REAL& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2087
## Page 2088

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Point3_REAL [} 1661]& Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.5.16 Insert Into Container (Tc Vn Rectangle_DINT) Insert an element of type Tc Vn Rectangle_DINT into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, Tc Vn Rectangle_DINT& st Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) st Element Tc Vn Rectangle_DINT [} 1732]& Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base 2088 Version: 2.4.0 TF7000 - TF7810
## Page 2089

API reference System Requirements 6.2.3.4.5.17 Insert Into Container (Tc Vn Vector2_DINT) Insert an element of type Tc Vn Vector2_DINT into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, Tc Vn Vector2_DINT& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector2_DINT [} 1663]& Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.5.18 Insert Into Container (Tc Vn Vector2_INT) Insert an element of type Tc Vn Vector2_INT into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, Tc Vn Vector2_INT& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2089
## Page 2090

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector2_INT [} 1663]& Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.5.19 Insert Into Container (Tc Vn Vector2_REAL) Insert an element of type Tc Vn Vector2_REAL into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, Tc Vn Vector2_REAL& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector2_REAL [} 1663]& Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base 2090 Version: 2.4.0 TF7000 - TF7810
## Page 2091

API reference System Requirements 6.2.3.4.5.20 Insert Into Container (Tc Vn Vector2_SINT) Insert an element of type Tc Vn Vector2_SINT into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, Tc Vn Vector2_SINT& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector2_SINT [} 1663]& Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.5.21 Insert Into Container (Tc Vn Vector2_UINT) Insert an element of type Tc Vn Vector2_UINT into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, Tc Vn Vector2_UINT& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2091
## Page 2092

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector2_UINT [} 1663]& Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.5.22 Insert Into Container (Tc Vn Vector2_USINT) Insert an element of type Tc Vn Vector2_USINT into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, Tc Vn Vector2_USINT& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector2_USINT [} 1663]& Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base 2092 Version: 2.4.0 TF7000 - TF7810
## Page 2093

API reference System Requirements 6.2.3.4.5.23 Insert Into Container (Tc Vn Vector3_INT) Insert an element of type Tc Vn Vector3_INT into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, Tc Vn Vector3_INT& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector3_INT [} 1663]& Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.5.24 Insert Into Container (Tc Vn Vector3_REAL) Insert an element of type Tc Vn Vector3_REAL into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, Tc Vn Vector3_REAL& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2093
## Page 2094

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector3_REAL [} 1663]& Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.5.25 Insert Into Container (Tc Vn Vector3_SINT) Insert an element of type Tc Vn Vector3_SINT into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, Tc Vn Vector3_SINT& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector3_SINT [} 1663]& Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base 2094 Version: 2.4.0 TF7000 - TF7810
## Page 2095

API reference System Requirements 6.2.3.4.5.26 Insert Into Container (Tc Vn Vector3_UINT) Insert an element of type Tc Vn Vector3_UINT into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, Tc Vn Vector3_UINT& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector3_UINT [} 1663]& Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.5.27 Insert Into Container (Tc Vn Vector3_USINT) Insert an element of type Tc Vn Vector3_USINT into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, Tc Vn Vector3_USINT& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2095
## Page 2096

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector3_USINT [} 1663]& Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.5.28 Insert Into Container (Tc Vn Vector4_DINT) Insert an element of type Tc Vn Vector4_DINT into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, Tc Vn Vector4_DINT& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector4_DINT [} 1663]& Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base 2096 Version: 2.4.0 TF7000 - TF7810
## Page 2097

API reference System Requirements 6.2.3.4.5.29 Insert Into Container (Tc Vn Vector4_INT) Insert an element of type Tc Vn Vector4_INT into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, Tc Vn Vector4_INT& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector4_INT [} 1663]& Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.5.30 Insert Into Container (Tc Vn Vector4_LREAL) Insert an element of type Tc Vn Vector4_LREAL into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, Tc Vn Vector4_LREAL& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2097
## Page 2098

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector4_LREAL [} 1663]& Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.5.31 Insert Into Container (Tc Vn Vector4_SINT) Insert an element of type Tc Vn Vector4_SINT into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, Tc Vn Vector4_SINT& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector4_SINT [} 1663]& Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base 2098 Version: 2.4.0 TF7000 - TF7810
## Page 2099

API reference System Requirements 6.2.3.4.5.32 Insert Into Container (Tc Vn Vector4_UINT) Insert an element of type Tc Vn Vector4_UINT into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, Tc Vn Vector4_UINT& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector4_UINT [} 1663]& Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.5.33 Insert Into Container (Tc Vn Vector4_USINT) Insert an element of type Tc Vn Vector4_USINT into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, Tc Vn Vector4_USINT& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2099
## Page 2100

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector4_USINT [} 1663]& Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.5.34 Insert Into Container (ULONG) Insert an element of type UDINT into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, ULONG n Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n Element ULONG Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base 2100 Version: 2.4.0 TF7000 - TF7810
## Page 2101

API reference System Requirements 6.2.3.4.5.35 Insert Into Container (USHORT) Insert an element of type UINT into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, USHORT n Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n Element USHORT Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.5.36 Insert Into Container (ULONGLONG) Insert an element of type ULINT into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, ULONGLONG n Element, ITc Vn Container* ip Container, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2101
## Page 2102

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n Element ULONGLONG Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.5.37 Insert Into Container (unsigned char) Insert an element of type USINT into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, unsigned char n Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n Element unsigned char Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base 2102 Version: 2.4.0 TF7000 - TF7810
## Page 2103

API reference System Requirements 6.2.3.4.5.38 Insert Into Container (Tc Vn Vector4_REAL) Insert an element of type Tc Vn Vector4_REAL into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, Tc Vn Vector4_REAL& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector4_REAL [} 1663]& Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.5.39 Insert Into Container (Tc Vn Rotated Rectangle) Insert an element of type Tc Vn Rotated Rectangle into a container before the specified position. Syntax Definition: HRESULT Insert Into Container( HRESULT hr Prev, Tc Vn Rotated Rectangle& st Element, ITc Vn Container* ip Container, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2103
## Page 2104

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) st Element Tc Vn Rotated Rectangle [} 1733]& Single element to insert into ip Container ip Container ITc Vn Container* [} 1836] Container in which to insert the element n Index ULONGLONG Position, before which the element will be inserted Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.6 Set At The F_VN_Set At functions should be used if individual elements in a container have to be accessed. If all elements in a container are to be processed in succession, it is much better to use an iterator [} 2142]. 6.2.3.4.6.1 Set At (LONG) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, LONG n Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n Element LONG Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with DINT elements, in which the element at position n Index is replaced by n Element n Index ULONGLONG Index 2104 Version: 2.4.0 TF7000 - TF7810
## Page 2105

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.6.2 Set At (SHORT) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, SHORT n Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n Element SHORT Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with INT elements, in which the element at position n Index is replaced by n Element n Index ULONGLONG Index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.6.3 Set At (ITc Vn Container*) Sets the element at the specified index of the container. (Alternatively use interface method . Set At.) Syntax Definition: HRESULT Set At( HRESULT hr Prev, ITc Vn Container* ip Element, TF7000 - TF7810 Version: 2.4.0 2105
## Page 2106

API reference ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Element ITc Vn Container* [} 1836] Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with ITc Vn Container elements, in which the element at position n Index is replaced by ip Element n Index ULONGLONG Index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.6.4 Set At (ITc Vn Image*) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, ITc Vn Image* ip Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Element ITc Vn Image* [} 1870] Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with ITc Vn Image elements, in which the element at position n Index is replaced by ip Element n Index ULONGLONG Index 2106 Version: 2.4.0 TF7000 - TF7810
## Page 2107

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.6.5 Set At (double) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, double f Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) f Element double Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with LREAL elements, in which the element at position n Index is replaced by f Element n Index ULONGLONG Index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.6.6 Set At (float) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, float f Element, TF7000 - TF7810 Version: 2.4.0 2107
## Page 2108

API reference ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) f Element float Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with REAL elements, in which the element at position n Index is replaced by f Element n Index ULONGLONG Index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.6.7 Set At (char) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, char n Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n Element char Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with SINT elements, in which the element at position n Index is replaced by n Element n Index ULONGLONG Index Return value HRESULT [} 144] 2108 Version: 2.4.0 TF7000 - TF7810
## Page 2109

API reference Required License TC3 Vision Base System Requirements 6.2.3.4.6.8 Set At (Tc Vn DMatch) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, Tc Vn DMatch& st Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) st Element Tc Vn DMatch [} 1719]& Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with Tc Vn DMatch elements, in which the element at position n Index is replaced by st Element n Index ULONGLONG Index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.6.9 Set At (Tc Vn Key Point) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, Tc Vn Key Point& st Element, ITc Vn Container* ip Container, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2109
## Page 2110

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) st Element Tc Vn Key Point [} 1719]& Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with Tc Vn Key Point elements, in which the element at position n Index is replaced by st Element n Index ULONGLONG Index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.6.10 Set At (Tc Vn Point2_DINT) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, Tc Vn Point2_DINT& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Point2_DINT [} 1661]& Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with Tc Vn Point2_DINT elements, in which the element at position n Index is replaced by a Element n Index ULONGLONG Index Return value HRESULT [} 144] 2110 Version: 2.4.0 TF7000 - TF7810
## Page 2111

API reference Required License TC3 Vision Base System Requirements 6.2.3.4.6.11 Set At (Tc Vn Point2_LREAL) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, Tc Vn Point2_LREAL& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Point2_LREAL [} 1661]& Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with Tc Vn Point2_LREAL elements, in which the element at position n Index is replaced by a Element n Index ULONGLONG Index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.6.12 Set At (Tc Vn Point2_REAL) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, Tc Vn Point2_REAL& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2111
## Page 2112

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Point2_REAL [} 1661]& Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with Tc Vn Point2_REAL elements, in which the element at position n Index is replaced by a Element n Index ULONGLONG Index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.6.13 Set At (Tc Vn Point3_LREAL) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, Tc Vn Point3_LREAL& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Point3_LREAL [} 1661]& Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with Tc Vn Point3_LREAL elements, in which the element at position n Index is replaced by a Element n Index ULONGLONG Index Return value HRESULT [} 144] 2112 Version: 2.4.0 TF7000 - TF7810
## Page 2113

API reference Required License TC3 Vision Base System Requirements 6.2.3.4.6.14 Set At (Tc Vn Point3_REAL) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, Tc Vn Point3_REAL& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Point3_REAL [} 1661]& Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with Tc Vn Point3_REAL elements, in which the element at position n Index is replaced by a Element n Index ULONGLONG Index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.6.15 Set At (Tc Vn Rectangle_DINT) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, Tc Vn Rectangle_DINT& st Element, ITc Vn Container* ip Container, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2113
## Page 2114

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) st Element Tc Vn Rectangle_DINT [} 1732]& Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with Tc Vn Rectangle_DINT elements, in which the element at position n Index is replaced by st Element n Index ULONGLONG Index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.6.16 Set At (Tc Vn Vector2_DINT) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, Tc Vn Vector2_DINT& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector2_DINT [} 1663]& Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector2_DINT elements, in which the element at position n Index is replaced by a Element n Index ULONGLONG Index Return value HRESULT [} 144] 2114 Version: 2.4.0 TF7000 - TF7810
## Page 2115

API reference Required License TC3 Vision Base System Requirements 6.2.3.4.6.17 Set At (Tc Vn Vector2_INT) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, Tc Vn Vector2_INT& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector2_INT [} 1663]& Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector2_INT elements, in which the element at position n Index is replaced by a Element n Index ULONGLONG Index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.6.18 Set At (Tc Vn Vector2_REAL) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, Tc Vn Vector2_REAL& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2115
## Page 2116

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector2_REAL [} 1663]& Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector2_REAL elements, in which the element at position n Index is replaced by a Element n Index ULONGLONG Index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.6.19 Set At (Tc Vn Vector2_SINT) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, Tc Vn Vector2_SINT& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector2_SINT [} 1663]& Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector2_SINT elements, in which the element at position n Index is replaced by a Element n Index ULONGLONG Index Return value HRESULT [} 144] 2116 Version: 2.4.0 TF7000 - TF7810
## Page 2117

API reference Required License TC3 Vision Base System Requirements 6.2.3.4.6.20 Set At (Tc Vn Vector2_UINT) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, Tc Vn Vector2_UINT& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector2_UINT [} 1663]& Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector2_UINT elements, in which the element at position n Index is replaced by a Element n Index ULONGLONG Index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.6.21 Set At (Tc Vn Vector2_USINT) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, Tc Vn Vector2_USINT& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2117
## Page 2118

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector2_USINT [} 1663]& Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector2_USINT elements, in which the element at position n Index is replaced by a Element n Index ULONGLONG Index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.6.22 Set At (Tc Vn Vector3_INT) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, Tc Vn Vector3_INT& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector3_INT [} 1663]& Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector3_INT elements, in which the element at position n Index is replaced by a Element n Index ULONGLONG Index Return value HRESULT [} 144] 2118 Version: 2.4.0 TF7000 - TF7810
## Page 2119

API reference Required License TC3 Vision Base System Requirements 6.2.3.4.6.23 Set At (Tc Vn Vector3_REAL) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, Tc Vn Vector3_REAL& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector3_REAL [} 1663]& Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector3_REAL elements, in which the element at position n Index is replaced by a Element n Index ULONGLONG Index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.6.24 Set At (Tc Vn Vector3_SINT) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, Tc Vn Vector3_SINT& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2119
## Page 2120

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector3_SINT [} 1663]& Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector3_SINT elements, in which the element at position n Index is replaced by a Element n Index ULONGLONG Index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.6.25 Set At (Tc Vn Vector3_UINT) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, Tc Vn Vector3_UINT& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector3_UINT [} 1663]& Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector3_UINT elements, in which the element at position n Index is replaced by a Element n Index ULONGLONG Index Return value HRESULT [} 144] 2120 Version: 2.4.0 TF7000 - TF7810
## Page 2121

API reference Required License TC3 Vision Base System Requirements 6.2.3.4.6.26 Set At (Tc Vn Vector3_USINT) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, Tc Vn Vector3_USINT& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector3_USINT [} 1663]& Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector3_USINT elements, in which the element at position n Index is replaced by a Element n Index ULONGLONG Index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.6.27 Set At (Tc Vn Vector4_DINT) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, Tc Vn Vector4_DINT& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2121
## Page 2122

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector4_DINT [} 1663]& Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector4_DINT elements, in which the element at position n Index is replaced by a Element n Index ULONGLONG Index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.6.28 Set At (Tc Vn Vector4_INT) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, Tc Vn Vector4_INT& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector4_INT [} 1663]& Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector4_INT elements, in which the element at position n Index is replaced by a Element n Index ULONGLONG Index Return value HRESULT [} 144] 2122 Version: 2.4.0 TF7000 - TF7810
## Page 2123

API reference Required License TC3 Vision Base System Requirements 6.2.3.4.6.29 Set At (Tc Vn Vector4_LREAL) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, Tc Vn Vector4_LREAL& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector4_LREAL [} 1663]& Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector4_LREAL elements, in which the element at position n Index is replaced by a Element n Index ULONGLONG Index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.6.30 Set At (Tc Vn Vector4_SINT) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, Tc Vn Vector4_SINT& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2123
## Page 2124

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector4_SINT [} 1663]& Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector4_SINT elements, in which the element at position n Index is replaced by a Element n Index ULONGLONG Index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.6.31 Set At (Tc Vn Vector4_UINT) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, Tc Vn Vector4_UINT& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector4_UINT [} 1663]& Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector4_UINT elements, in which the element at position n Index is replaced by a Element n Index ULONGLONG Index Return value HRESULT [} 144] 2124 Version: 2.4.0 TF7000 - TF7810
## Page 2125

API reference Required License TC3 Vision Base System Requirements 6.2.3.4.6.32 Set At (Tc Vn Vector4_USINT) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, Tc Vn Vector4_USINT& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector4_USINT [} 1663]& Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector4_USINT elements, in which the element at position n Index is replaced by a Element n Index ULONGLONG Index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.6.33 Set At (ULONG) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, ULONG n Element, ITc Vn Container* ip Container, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2125
## Page 2126

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n Element ULONG Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with UDINT elements, in which the element at position n Index is replaced by n Element n Index ULONGLONG Index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.6.34 Set At (USHORT) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, USHORT n Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n Element USHORT Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with UINT elements, in which the element at position n Index is replaced by n Element n Index ULONGLONG Index Return value HRESULT [} 144] Required License TC3 Vision Base 2126 Version: 2.4.0 TF7000 - TF7810
## Page 2127

API reference System Requirements 6.2.3.4.6.35 Set At (ULONGLONG) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, ULONGLONG n Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n Element ULONGLONG Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with ULINT elements, in which the element at position n Index is replaced by n Element n Index ULONGLONG Index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.6.36 Set At (unsigned char) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, unsigned char n Element, ITc Vn Container* ip Container, ULONGLONG n Index ) TF7000 - TF7810 Version: 2.4.0 2127
## Page 2128

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n Element unsigned char Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with USINT elements, in which the element at position n Index is replaced by n Element n Index ULONGLONG Index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.6.37 Set At (Tc Vn Vector4_REAL) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, Tc Vn Vector4_REAL& a Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Element Tc Vn Vector4_REAL [} 1663]& Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with Tc Vn Vector4_REAL elements, in which the element at position n Index is replaced by a Element n Index ULONGLONG Index Return value HRESULT [} 144] Required License TC3 Vision Base 2128 Version: 2.4.0 TF7000 - TF7810
## Page 2129

API reference System Requirements 6.2.3.4.6.38 Set At (Tc Vn Rotated Rectangle) Sets the element at the specified index of the container. Syntax Definition: HRESULT Set At( HRESULT hr Prev, Tc Vn Rotated Rectangle& st Element, ITc Vn Container* ip Container, ULONGLONG n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) st Element Tc Vn Rotated Rectangle [} 1733]& Element to set at the specified container position ip Container ITc Vn Container* [} 1836] Container with Tc Vn Rotated Rectangle elements, in which the element at position n Index is replaced by st Element n Index ULONGLONG Index Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.7 Advance Iterator Advance an iterator by the specified offset. Syntax Definition: HRESULT Advance Iterator( HRESULT hr Prev, ITc Vn Forward Iterator* ip Iterator, LONGLONG n Offset ) TF7000 - TF7810 Version: 2.4.0 2129
## Page 2130

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Iterator ITc Vn Forward Iterator* [} 1828] Iterator to be advanced n Offset LONGLONG Offset, by which ip Iterator is advanced Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.8 Check If Empty Checks if the container is empty. (Alternatively use interface method . Check If Empty.) Syntax Definition: HRESULT Check If Empty( HRESULT hr Prev, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.9 Check If Iterator Is At End Checks if the iterator points to the past-the-end element. (Alternatively use interface method . Check If End.) 2130 Version: 2.4.0 TF7000 - TF7810
## Page 2131

API reference Syntax Definition: HRESULT Check If Iterator Is At End( HRESULT hr Prev, ITc Vn Forward Iterator* ip Iterator ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Iterator ITc Vn Forward Iterator* [} 1828] Iterator Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.10 Convert Container Type Converts a container to another type (Struct element types are not supported). Syntax Definition: HRESULT Convert Container Type( HRESULT hr Prev, ITc Vn Container* ip Src Container, ITc Vn Container*& ip Dest Container, GUID n Dest Type Guid ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Container ITc Vn Container* [} 1836] Source container ip Dest Container ITc Vn Container* [} 1836]& Returns the converted container n Dest Type Guid GUID Specifies the destination container type for the conversion Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 2131
## Page 2132

API reference Required License TC3 Vision Base System Requirements 6.2.3.4.11 Copy Container Copys a container. Syntax Definition: HRESULT Copy Container( HRESULT hr Prev, ITc Vn Container* ip Src Container, ITc Vn Container*& ip Dest Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Container ITc Vn Container* [} 1836] Source container ip Dest Container ITc Vn Container* [} 1836]& Destination container (same type ID as ip Src Container; Non-zero interface pointers are reused.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.12 Copy Container Elements Conditional (ITc Vn Container*) Copys container elements to a new container, depending on a custom condition. Syntax Definition: HRESULT Copy Container Elements Conditional( HRESULT hr Prev, ITc Vn Container* ip Src Container, ITc Vn Container*& ip Dest Container, ITc Vn Custom Element Condition_ITc Vn Container* ip Condition FB ) 2132 Version: 2.4.0 TF7000 - TF7810
## Page 2133

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Container ITc Vn Container* [} 1836] Source container ip Dest Container ITc Vn Container* [} 1836]& Returns a container with elements, that match the condition ip Condition FB Custom condition ITc Vn Custom Element Condition_ITc Vn Container* [} 1736] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.13 Copy Container Elements Conditional (ITc Vn Forward Iterator*) Copys container elements to a new container, depending on a custom condition. Syntax Definition: HRESULT Copy Container Elements Conditional( HRESULT hr Prev, ITc Vn Container* ip Src Container, ITc Vn Container*& ip Dest Container, ITc Vn Custom Element Condition_ITc Vn Forward Iterator* ip Condition FB ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Container ITc Vn Container* [} 1836] Source container ip Dest Container ITc Vn Container* [} 1836]& Returns a container with elements, that match the condition ip Condition FB Custom condition ITc Vn Custom Element Condition_ITc Vn Forward Iterator* [} 1737] Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 2133
## Page 2134

API reference Required License TC3 Vision Base System Requirements 6.2.3.4.14 Create Container Creates a container with type GUID n Type Guid and return its container interface. Syntax Definition: HRESULT Create Container( HRESULT hr Prev, ITc Vn Container*& ip Container, GUID n Type Guid, ULONGLONG n Element Num ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836]& Returns the created container n Type Guid GUID Type GUID of the container to be created n Element Num ULONGLONG Number of elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.15 Create Container From Array Creates a container with type GUID n Type Guid, initialize it with provided data and return its container interface. Only supported for basic container types, i.e. not for containers of containers. Syntax Definition: HRESULT Create Container From Array( HRESULT hr Prev, PVOID p Data, ITc Vn Container*& ip Container, GUID n Type Guid, ULONGLONG n Element Num ) 2134 Version: 2.4.0 TF7000 - TF7810
## Page 2135

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) p Data PVOID Pointer to the data array. Make sure that the array contains at least n Element Num elements and that the array element type matches the container element type. ip Container ITc Vn Container* [} 1836]& Returns the created container n Type Guid GUID Type GUID of the container to be created n Element Num ULONGLONG Number of elements to copy from p Data Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.16 Erase From Container Erase elements from a container. Syntax Definition: HRESULT Erase From Container( HRESULT hr Prev, ITc Vn Container* ip Container, ULONGLONG n Start Idx, ULONGLONG n Count ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container from which to erase elements n Start Idx ULONGLONG Index of the first element to erase n Count ULONGLONG Number of elements to erase Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 2135
## Page 2136

API reference Required License TC3 Vision Base System Requirements 6.2.3.4.17 Export Container Export the container elements into a buffer (e.g. an array). Only possible for containers with basic elements. Syntax Definition: HRESULT Export Container( HRESULT hr Prev, ITc Vn Container* ip Container, PVOID p Buffer, ULONGLONG n Buffer Size ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements p Buffer PVOID Buffer to store the container elements (Make sure to allocate enough memory! The required size in bytes can be determined using the function F_VN_Export Container Size) n Buffer Size ULONGLONG Size of the buffer memory in bytes Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.18 Export Container_String Export the container elements into a string. Only possible for containers of type Container Type_String_SINT. Syntax Definition: HRESULT Export Container_String( HRESULT hr Prev, ITc Vn Container* ip Container, PCHAR s Text, ULONGLONG n Max Length ) 2136 Version: 2.4.0 TF7000 - TF7810
## Page 2137

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container of type Container Type_String_SINT s Text PCHAR Make sure to choose a sufficient STRING size! The required size can be determined using the function Vn Export Container Size. n Max Length ULONGLONG Maximum string length to export (including 0 termination). If the container content is longer, the string is cut off at n Max Length - 1 and 0 termination is appended. In this case, S_FALSE is returned. Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.19 Export Container Size Determine the required buffer size in bytes to store all container elements (number_of_Elements * size_per_Element). Only possible for containers with basic elements. Syntax Definition: HRESULT Export Container Size( HRESULT hr Prev, ITc Vn Container* ip Container, ULONGLONG& n Buffer Size ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements n Buffer Size ULONGLONG& Output parameter containing the required buffer size Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 2137
## Page 2138

API reference Required License TC3 Vision Base System Requirements 6.2.3.4.20 Export Sub Container Export the container elements of a sub-container into a buffer (e.g. an array). Only possible for 2- dimensional containers with basic elements. Syntax Definition: HRESULT Export Sub Container( HRESULT hr Prev, ITc Vn Container* ip Container, ULONGLONG n Index, PVOID p Buffer, ULONGLONG n Buffer Size ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements n Index ULONGLONG Index of the requested element p Buffer PVOID Buffer to store the container elements (Make sure to allocate enough memory! The required size in bytes can be determined using the function F_VN_Export Sub Container Size) n Buffer Size ULONGLONG Size of the buffer memory in bytes Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.21 Export Sub Container_String Export the container elements of a sub-container into a string. Only possible for 2-dimensional containers of type Container Type_Vector_String_SINT. Syntax Definition: HRESULT Export Sub Container_String( HRESULT hr Prev, ITc Vn Container* ip Container, 2138 Version: 2.4.0 TF7000 - TF7810
## Page 2139

API reference ULONGLONG n Index, PCHAR s Text, ULONGLONG n Max Length ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container of type Container Type_Vector_String_SIN T n Index ULONGLONG Index of the requested element s Text PCHAR Make sure to choose a sufficient STRING size! The required size can be determined using the function Vn Export Sub Container Size. n Max Length ULONGLONG Maximum string length to export (including 0 termination). If the container content is longer, the string is cut off at n Max Length - 1 and 0 termination is appended. In this case, S_FALSE is returned. Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.22 Export Sub Container Size Determine the required buffer size in bytes to store all container elements of a sub-container (number_of_Elements * size_per_Element). Only possible for 2-dimensional containers with basic elements. Syntax Definition: HRESULT Export Sub Container Size( HRESULT hr Prev, ITc Vn Container* ip Container, ULONGLONG n Index, ULONGLONG& n Buffer Size ) TF7000 - TF7810 Version: 2.4.0 2139
## Page 2140

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container with basic elements n Index ULONGLONG Index of the requested element n Buffer Size ULONGLONG& Output parameter containing the required buffer size Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.23 Extract Container Range Copy the specified range of the source container into the destination container. (If the destination container already contains elements, they will be removed.) Syntax Definition: HRESULT Extract Container Range( HRESULT hr Prev, ITc Vn Container* ip Src Container, ITc Vn Container*& ip Dest Container, ULONGLONG n First Idx, ULONGLONG n Last Idx ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Container ITc Vn Container* [} 1836] Source container ip Dest Container ITc Vn Container* [} 1836]& Destination container n First Idx ULONGLONG Index of the first element to copy n Last Idx ULONGLONG Index of the last element to copy Return value HRESULT [} 144] Required License TC3 Vision Base 2140 Version: 2.4.0 TF7000 - TF7810
## Page 2141

API reference System Requirements 6.2.3.4.24 Get Container Gets a pointer to the current element converted into an ITc Vn Container interface and increment its reference counter (only possible for container types). (Alternatively use interface method . Get Container.) Syntax Definition: HRESULT Get Container( HRESULT hr Prev, ITc Vn Forward Iterator* ip Iterator, ITc Vn Container*& ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Iterator ITc Vn Forward Iterator* [} 1828] Iterator ip Container ITc Vn Container* [} 1836]& Returns the container interface Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.25 Get Container (Exp) Gets a pointer to the current element converted into an ITc Vn Container interface and increment its reference counter (only possible for container types). Additionally, an offset to increment or decrement the iterator afterwards can be provided. Syntax Definition: HRESULT Get Container( HRESULT hr Prev, ITc Vn Forward Iterator* ip Iterator, ITc Vn Container*& ip Container, LONG n Offset ) TF7000 - TF7810 Version: 2.4.0 2141
## Page 2142

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Iterator ITc Vn Forward Iterator* [} 1828] Iterator ip Container ITc Vn Container* [} 1836]& Returns the container interface n Offset LONG Offset to increment (>0) or decrement (<0) the iterator afterwards Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.26 Get Forward Iterator Gets a forward iterator for the container. (Alternatively use interface method . Get Forward Iterator.) Syntax Definition: HRESULT Get Forward Iterator( HRESULT hr Prev, ITc Vn Container* ip Container, ITc Vn Forward Iterator*& ip Iterator ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container ip Iterator ITc Vn Forward Iterator* [} 1828]& Returns the iterator interface Return value HRESULT [} 144] Required License TC3 Vision Base 2142 Version: 2.4.0 TF7000 - TF7810
## Page 2143

API reference System Requirements 6.2.3.4.27 Get Number Of Elements Gets the number of elements in the container. (Alternatively use interface method .get Element Num.) Syntax Definition: HRESULT Get Number Of Elements( HRESULT hr Prev, ITc Vn Container* ip Container, ULONGLONG& n Number Of Elements ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container n Number Of Elements ULONGLONG& Returns the number of elements in ip Container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.28 Get Random Access Iterator Gets a random access iterator for the container. (Alternatively use interface method . Get Random Access Iterator.) Syntax Definition: HRESULT Get Random Access Iterator( HRESULT hr Prev, ITc Vn Container* ip Container, ITc Vn Random Access Iterator*& ip Iterator ) TF7000 - TF7810 Version: 2.4.0 2143
## Page 2144

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container ip Iterator ITc Vn Random Access Iterator* Returns the iterator interface [} 1833]& Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.29 Increment Iterator Increment the iterator. (Alternatively use interface method . Increment.) Syntax Definition: HRESULT Increment Iterator( HRESULT hr Prev, ITc Vn Forward Iterator* ip Iterator ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Iterator ITc Vn Forward Iterator* [} 1828] Iterator Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.30 Iterator Distance Computes the distance between 2 iterators. 2144 Version: 2.4.0 TF7000 - TF7810
## Page 2145

API reference Syntax Definition: HRESULT Iterator Distance( HRESULT hr Prev, ITc Vn Forward Iterator* ip Iterator First, ITc Vn Forward Iterator* ip Iterator Last, LONGLONG& n Distance ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Iterator First ITc Vn Forward Iterator* [} 1828] First iterator ip Iterator Last ITc Vn Forward Iterator* [} 1828] Last iterator n Distance LONGLONG& Returns the computed distance Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.31 Reserve Container Memory Reserve container memory (call with maximum required number of elements before manually appending elements for better performance) Syntax Definition: HRESULT Reserve Container Memory( HRESULT hr Prev, ITc Vn Container* ip Container, ULONGLONG n Elements ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container for which to reserve the memory n Elements ULONGLONG Number of elements for which the container should reserve memory TF7000 - TF7810 Version: 2.4.0 2145
## Page 2146

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.32 Reverse Container Reverse the container elements. Syntax Definition: HRESULT Reverse Container( HRESULT hr Prev, ITc Vn Container* ip Container ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Container to be reversed Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.33 Set Container Sets the current element using an ITc Vn Container interface (only possible for container types). (Alternatively use interface method . Set Container.) Syntax Definition: HRESULT Set Container( HRESULT hr Prev, ITc Vn Forward Iterator* ip Iterator, ITc Vn Container* ip Container ) 2146 Version: 2.4.0 TF7000 - TF7810
## Page 2147

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Iterator ITc Vn Forward Iterator* [} 1828] Iterator ip Container ITc Vn Container* [} 1836] Container interface of which the content is to be assigned to the current element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.4.34 Set Iterator To Begin Sets the iterator to the first element of the container. (Alternatively use interface method . Set To Begin.) Syntax Definition: HRESULT Set Iterator To Begin( HRESULT hr Prev, ITc Vn Forward Iterator* ip Iterator ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Iterator ITc Vn Forward Iterator* [} 1828] Iterator Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.5 Basic Image Operations The group contains functions for handling images [} 152]. TF7000 - TF7810 Version: 2.4.0 2147
## Page 2148

API reference Functions Creation of images • Convert Element Type [} 2149] • Create Associated Image [} 2153] • Create Empty Image [} 2154] • Create Image [} 2154] • Create Image And Set Pixels [} 2155] • Create Image From Array [} 2156] • Create NDimensional Image [} 2173] • Create NDimensional Image And Set Pixels [} 2174] • Create NDimensional Image From Array [} 2174] Image information • Get Image Height [} 2162] • Get Image Info [} 2163] • Get Image Width [} 2163] • Get Layout Info [} 2175] • Get Pixel Format [} 2165] Copying images • Copy Image [} 2150] • Copy Image Region [} 2151] • Copy Image Region To Region [} 2152] Pixel manipulation • Get Pixel [} 2164] • Set Pixel [} 2168] • Set Pixels [} 2169] Region of Interest • Get Roi [} 2165] • Reset Roi [} 2167] • Set Roi [} 2169] • Set Roi_Tc Vn Rectangle_DINT [} 2170] • Set Roi_Tc Vn Rectangle_UDINT [} 2171] Exporting image content to memory area • Export Image [} 2157] • Export Image As Bmp [} 2158] • Export Image Size [} 2159] • Export Image As Bmp Size [} 2159] Fusing images • Fuse Images [} 2160] • Fuse Images Array [} 2161] Handling image channels 2148 Version: 2.4.0 TF7000 - TF7810
## Page 2149

API reference • Combine Image Channels [} 2149] • Get Image Channel [} 2162] • Mix Image Channels [} 2166] • Set Image Channel [} 2167] • Split Image Channels [} 2171] Displaying images • Copy Into Displayable Image [} 2153] • Transform Into Displayable Image [} 2172] Miscellaneous • Pad Image Border [} 2176] • Reinterpret Unsupported Image [} 2177] 6.2.3.5.1 Combine Image Channels Combines several single-channel images into one multi-channel image. Syntax Definition: HRESULT Combine Image Channels( HRESULT hr Prev, PVOID p Src Images, ITc Vn Image*& ip Dest Image, USHORT n Src Array Size ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) p Src Images PVOID Pointer to an array of single- channel source images ip Dest Image ITc Vn Image* [} 1870]& Multi-channel destination image (An appropriate destination image will be created if required.) n Src Array Size USHORT p Src Images array size Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.5.2 Convert Element Type Converts an image to another element type. TF7000 - TF7810 Version: 2.4.0 2149
## Page 2150

API reference Syntax Definition: HRESULT Convert Element Type( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, ETc Vn Element Type e Element Type, double f Scale Factor = 1, double f Delta = 0 ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) e Element Type ETc Vn Element Type Desired element type of the destination image [} 1689] f Scale Factor double 1 Scale factor for the pixel values f Delta double 0 Value that is added to the scaled pixel values Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.5.3 Copy Image Creates a deep copy of an image. Syntax Definition: HRESULT Copy Image( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image ) 2150 Version: 2.4.0 TF7000 - TF7810
## Page 2151

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.5.4 Copy Image Region Deep copy the specified region of interest into a new image. Syntax Definition: HRESULT Copy Image Region( HRESULT hr Prev, ITc Vn Image* ip Src Image, ULONG n X, ULONG n Y, ULONG n Width, ULONG n Height, ITc Vn Image*& ip Dest Image ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image n X ULONG Left boundary (inclusive 0-based index) n Y ULONG Upper boundary (inclusive 0-based index) n Width ULONG ROI width n Height ULONG ROI height ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) TF7000 - TF7810 Version: 2.4.0 2151
## Page 2152

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.5.5 Copy Image Region To Region Copy an image region into another image region. Syntax Definition: HRESULT Copy Image Region To Region( HRESULT hr Prev, ITc Vn Image* ip Src Image, ULONG n XSrc, ULONG n YSrc, ULONG n Width, ULONG n Height, ITc Vn Image* ip Dest Image, ULONG n XDest, ULONG n YDest ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image n XSrc ULONG Left boundary in ip Src Image (inclusive 0-based index) n YSrc ULONG Upper boundary in ip Src Image (inclusive 0-based index) n Width ULONG ROI width n Height ULONG ROI height ip Dest Image ITc Vn Image* [} 1870] Destination image (same type as ip Src Image) n XDest ULONG Left boundary in ip Dest Image (inclusive 0-based index) n YDest ULONG Upper boundary in ip Dest Image (inclusive 0-based index) Return value HRESULT [} 144] Required License TC3 Vision Base 2152 Version: 2.4.0 TF7000 - TF7810
## Page 2153

API reference System Requirements 6.2.3.5.6 Copy Into Displayable Image Copys an image into a displayable image. If you do not want to use ip Src Image after this function call, you might want to use F_VN_Transform Into Displayable Image instead for better performance. Syntax Definition: HRESULT Copy Into Displayable Image( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Displayable Image*& ip Dest Image ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Displayable Image* [} 1870]& Returns the displayable image Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.5.7 Create Associated Image Creates a new image that shares its data with the source image. E.g. useful to work on different (disjoint) ROIs in parallel. Syntax Definition: HRESULT Create Associated Image( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image ) TF7000 - TF7810 Version: 2.4.0 2153
## Page 2154

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Returns the created image (Non- zero interface pointers are reused.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.5.8 Create Empty Image Creates an empty image without allocating any data buffer. The initial reference count is set to one if a new image interface is created and kept, otherwise. Syntax Definition: HRESULT Create Empty Image( HRESULT hr Prev, ITc Vn Image*& ip Image ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Image ITc Vn Image* [} 1870]& Returns the created image Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.5.9 Create Image Creates an image and allocate an appropriate data buffer. The initial reference count is set to one if a new image interface is created and kept, otherwise. 2154 Version: 2.4.0 TF7000 - TF7810
## Page 2155

API reference Syntax Definition: HRESULT Create Image( HRESULT hr Prev, ITc Vn Image*& ip Image, ULONG n Width, ULONG n Height, ETc Vn Element Type e Pixel Type, ULONG n Channel Num ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Image ITc Vn Image* [} 1870]& Returns the created image (Non- zero interface pointers are reused.) n Width ULONG Image width n Height ULONG Image height e Pixel Type ETc Vn Element Type [} 1689] Pixel type n Channel Num ULONG Number of channels (1 to 255) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.5.10 Create Image And Set Pixels Creates an image, allocates an appropriate data buffer and sets all pixels to the specified value. The initial reference count is set to one if a new image interface is created and kept, otherwise. Syntax Definition: HRESULT Create Image And Set Pixels( HRESULT hr Prev, ITc Vn Image*& ip Image, ULONG n Width, ULONG n Height, ETc Vn Element Type e Pixel Type, ULONG n Channel Num, Tc Vn Vector4_LREAL& a Value ) TF7000 - TF7810 Version: 2.4.0 2155
## Page 2156

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Image ITc Vn Image* [} 1870]& Returns the created image (Non- zero interface pointers are reused.) n Width ULONG Image width n Height ULONG Image height e Pixel Type ETc Vn Element Type [} 1689] Pixel type n Channel Num ULONG Number of channels (1 to 4) a Value Tc Vn Vector4_LREAL [} 1663]& Pixel value Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.5.11 Create Image From Array Creates an image and initialize it with the provided data. The initial reference count is set to one if a new image interface is created and kept, otherwise. Syntax Definition: HRESULT Create Image From Array( HRESULT hr Prev, PVOID p Data, ITc Vn Image*& ip Image, ULONG n Width, ULONG n Height, ETc Vn Element Type e Pixel Type, ULONG n Channel Num ) 2156 Version: 2.4.0 TF7000 - TF7810
## Page 2157

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) p Data PVOID Pointer to the 1D data array. Make sure that the array contains at least n Width * n Height * n Channel Num elements and that the array element type matches e Pixel Type. ip Image ITc Vn Image* [} 1870]& Returns the created image (Non- zero interface pointers are reused.) n Width ULONG Image width n Height ULONG Image height e Pixel Type ETc Vn Element Type [} 1689] Pixel type n Channel Num ULONG Number of channels (1 to 255) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.5.12 Export Image Exports the image data into a given buffer (e.g. an array). F_VN_Export Image Size should be called before to get the required buffer size. Syntax Definition: HRESULT Export Image( HRESULT hr Prev, ITc Vn Image* ip Image, PVOID p Buffer, ULONGLONG n Buffer Size ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Image ITc Vn Image* [} 1870] Image p Buffer PVOID Pointer to a buffer to store the image data (Make sure to allocate enough memory! The required size in bytes can be determined using the function F_VN_Export Image Size) n Buffer Size ULONGLONG Size of the buffer memory in bytes TF7000 - TF7810 Version: 2.4.0 2157
## Page 2158

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.5.13 Export Image As Bmp Exports the image as bitmap into a given buffer (e.g. an array). F_VN_Export Image As Bmp Size Exp should be called before to get the required buffer size. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Export Image As Bmp( HRESULT hr Prev, ITc Vn Image* ip Image, PVOID p Buffer, ULONGLONG n Buffer Size, ULONG n Width = 0, ULONG n Height = 0 ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Image ITc Vn Image* [} 1870] Image p Buffer PVOID Pointer to a buffer to store the bitmap image (Make sure to allocate enough memory! The required size in bytes can be determined using the function F_VN_Export Image As Bm p Size Exp) n Buffer Size ULONGLONG Size of the buffer memory in bytes n Width ULONG 0 Desired width (or 0 to keep the original width) n Height ULONG 0 Desired height (or 0 to keep the original height) Return value HRESULT [} 144] 2158 Version: 2.4.0 TF7000 - TF7810
## Page 2159

API reference Required License TC3 Vision Base System Requirements 6.2.3.5.14 Export Image As Bmp Size Get the required buffer size (in bytes) to store the image as bitmap. Syntax Definition: HRESULT Export Image As Bmp Size( HRESULT hr Prev, ITc Vn Image* ip Image, ULONGLONG& n Buffer Size, ULONG n Width = 0, ULONG n Height = 0 ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Image ITc Vn Image* [} 1870] Image n Buffer Size ULONGLONG& Returns the required buffer size in bytes n Width ULONG 0 Desired width (or 0 to keep the original width) n Height ULONG 0 Desired height (or 0 to keep the original height) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.5.15 Export Image Size Get the required buffer size (in bytes) to store the image data. Syntax Definition: HRESULT Export Image Size( HRESULT hr Prev, ITc Vn Image* ip Image, ULONGLONG& n Buffer Size ) TF7000 - TF7810 Version: 2.4.0 2159
## Page 2160

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Image ITc Vn Image* [} 1870] Image n Buffer Size ULONGLONG& Returns the required buffer size in bytes Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.5.16 Fuse Images Fuse 2 images vertically (intended for line scan cameras). Syntax Definition: HRESULT Fuse Images( HRESULT hr Prev, ITc Vn Image* ip Src Image1, ITc Vn Image* ip Src Image2, ITc Vn Image*& ip Dest Image, ULONG n First Line, ULONG n Num Lines ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image1 ITc Vn Image* [} 1870] Source image 1 ip Src Image2 ITc Vn Image* [} 1870] Source image 2 ip Dest Image ITc Vn Image* [} 1870]& Destination image n First Line ULONG Line index in ip Src Image1, which is the first line in ip Dest Image n Num Lines ULONG The number of lines that should be copied to ip Dest Image, starting with n First Line in ip Src Image1. Once the last line of ip Src Image1 was copied, the remaining lines are copied from ip Src Image2, starting at line index 0. 2160 Version: 2.4.0 TF7000 - TF7810
## Page 2161

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.5.17 Fuse Images Array Fuse up to 10 images vertically (intended for line scan cameras). Syntax Definition: HRESULT Fuse Images Array( HRESULT hr Prev, Tc Vn Array10_ITc Vn Image& a Src Image Array, ULONG n Valid Images, ITc Vn Image*& ip Dest Image, ULONG n First Line, ULONG n Num Lines ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Src Image Array Tc Vn Array10_ITc Vn Image [} 1663]& Ten-element source image array (not all elements need to be filled, n Valid Images specifies the actual amount of images) n Valid Images ULONG Number of valid images in a Src Image Array ip Dest Image ITc Vn Image* [} 1870]& Destination image n First Line ULONG Line index in ip Src Image1, which is the first line in ip Dest Image n Num Lines ULONG The number of lines that should be copied to ip Dest Image, starting with n First Line in a Src Image Array[0]. Once the last line of a Src Image Array[0] was copied, the remaining lines are copied from a Src Image Array[1] (starting at line index 0) and so on. Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 2161
## Page 2162

API reference System Requirements 6.2.3.5.18 Get Image Channel Return the specified source image channel as a single-channel image. Syntax Definition: HRESULT Get Image Channel( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, USHORT n Channel Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate image will be created if required.) n Channel Index USHORT Index of the requested source image channel Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.5.19 Get Image Height Return the height of an image. (Alternatively use interface method . Get Height.) Syntax Definition: HRESULT Get Image Height( HRESULT hr Prev, ITc Vn Image* ip Image, ULONG& n Height ) 2162 Version: 2.4.0 TF7000 - TF7810
## Page 2163

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Image ITc Vn Image* [} 1870] Image n Height ULONG& Return the height of ip Image Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.5.20 Get Image Info Gets a struct containing all common meta infos of the image. (Alternatively use interface method . Get Image Info.) Syntax Definition: HRESULT Get Image Info( HRESULT hr Prev, ITc Vn Image* ip Image, Tc Vn Image Info& st Image Info ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Image ITc Vn Image* [} 1870] Image st Image Info Tc Vn Image Info [} 1719]& Returns a struct describing the image Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.5.21 Get Image Width Return the width of an image. (Alternatively use interface method . Get Width.) TF7000 - TF7810 Version: 2.4.0 2163
## Page 2164

API reference Syntax Definition: HRESULT Get Image Width( HRESULT hr Prev, ITc Vn Image* ip Image, ULONG& n Width ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Image ITc Vn Image* [} 1870] Image n Width ULONG& Return the width of ip Image Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.5.22 Get Pixel Gets a specific pixel. Syntax Definition: HRESULT Get Pixel( HRESULT hr Prev, ITc Vn Image* ip Src Image, Tc Vn Vector4_LREAL& a Value, ULONG n X, ULONG n Y ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image a Value Tc Vn Vector4_LREAL [} 1663]& Returns the pixel value (Unused channels are set to 0.) n X ULONG x coordinate of the pixel n Y ULONG y coordinate of the pixel 2164 Version: 2.4.0 TF7000 - TF7810
## Page 2165

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.5.23 Get Pixel Format Gets the pixel format of an image. (Alternatively use interface method . Get Pixel Format.) Syntax Definition: HRESULT Get Pixel Format( HRESULT hr Prev, ITc Vn Image* ip Image, Tc Vn Pixel Format& st Pixel Format ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Image ITc Vn Image* [} 1870] Image st Pixel Format Tc Vn Pixel Format [} 1731]& Returns a struct describing the pixel format Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.5.24 Get Roi Gets the coordinates of the region of interest (ROI) within the image. Syntax Definition: HRESULT Get Roi( HRESULT hr Prev, ITc Vn Image* ip Src Image, Tc Vn Rectangle_UDINT& st Roi ) TF7000 - TF7810 Version: 2.4.0 2165
## Page 2166

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image st Roi Tc Vn Rectangle_UDINT [} 1733]& Returns the coordinates of the region of interest Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.5.25 Mix Image Channels Mix image channels by copying the specified channels of the source image into the specified channels of the destination image. Syntax Definition: HRESULT Mix Image Channels( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, ITc Vn Container* ip Indices From To ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate image will be created if required.) ip Indices From To ITc Vn Container* [} 1836] Index pairs (Container Type_Vector_Tc Vn Vect or2_DINT), specifying which source channel (Tc Vn Vector2_DINT [0]) should be copied to which destination channel (Tc Vn Vector2_DINT [1]). Return value HRESULT [} 144] 2166 Version: 2.4.0 TF7000 - TF7810
## Page 2167

API reference Required License TC3 Vision Base System Requirements 6.2.3.5.26 Reset Roi Reset the region of interest (ROI) of an image. (After this operation, the ROI is set to the entire image.) Syntax Definition: HRESULT Reset Roi( HRESULT hr Prev, ITc Vn Image* ip Image ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Image ITc Vn Image* [} 1870] Image Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.5.27 Set Image Channel Sets the specified destination image channel to the values of the specified source image channel. Syntax Definition: HRESULT Set Image Channel( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, USHORT n Src Channel Index, USHORT n Dest Channel Index ) TF7000 - TF7810 Version: 2.4.0 2167
## Page 2168

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate image will be created if required.) n Src Channel Index USHORT Index of the source image channel n Dest Channel Index USHORT Index of the destination image channel, which will be replaced by the specified source image channel Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.5.28 Set Pixel Sets a specific pixel. Syntax Definition: HRESULT Set Pixel( HRESULT hr Prev, ITc Vn Image* ip Src Image, Tc Vn Vector4_LREAL& a Value, ULONG n X, ULONG n Y ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image a Value Tc Vn Vector4_LREAL [} 1663]& The pixel value to set (additional channels are ignored.) n X ULONG x coordinate of the pixel n Y ULONG y coordinate of the pixel Return value HRESULT [} 144] 2168 Version: 2.4.0 TF7000 - TF7810
## Page 2169

API reference Required License TC3 Vision Base System Requirements 6.2.3.5.29 Set Pixels Sets all pixels of an image to a given value. Syntax Definition: HRESULT Set Pixels( HRESULT hr Prev, ITc Vn Image* ip Dest Image, Tc Vn Vector4_LREAL& a Value, ITc Vn Image* ip Mask = nullptr ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Dest Image ITc Vn Image* [} 1870] Destination image a Value Tc Vn Vector4_LREAL Pixel value [} 1663]& ip Mask ITc Vn Image* [} 1870] nullptr Mask image Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.5.30 Set Roi Sets a region of interest (ROI) within an image. Syntax Definition: HRESULT Set Roi( HRESULT hr Prev, ULONG n X, ULONG n Y, ULONG n Width, ULONG n Height, ITc Vn Image* ip Dest Image ) TF7000 - TF7810 Version: 2.4.0 2169
## Page 2170

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n X ULONG Left boundary (inclusive 0-based index) n Y ULONG Upper boundary (inclusive 0-based index) n Width ULONG ROI width n Height ULONG ROI height ip Dest Image ITc Vn Image* [} 1870] Destination image Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.5.31 Set Roi (Tc Vn Rectangle_DINT) Sets a region of interest (ROI) within an image. Syntax Definition: HRESULT Set Roi( HRESULT hr Prev, Tc Vn Rectangle_DINT& st Roi, ITc Vn Image* ip Dest Image ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) st Roi Tc Vn Rectangle_DINT [} 1732]& Region of interest ip Dest Image ITc Vn Image* [} 1870] Destination image Return value HRESULT [} 144] Required License TC3 Vision Base 2170 Version: 2.4.0 TF7000 - TF7810
## Page 2171

API reference System Requirements 6.2.3.5.32 Set Roi (Tc Vn Rectangle_UDINT) Sets a region of interest (ROI) within an image. Syntax Definition: HRESULT Set Roi( HRESULT hr Prev, Tc Vn Rectangle_UDINT& st Roi, ITc Vn Image* ip Dest Image ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) st Roi Tc Vn Rectangle_UDINT [} 1733]& Region of interest ip Dest Image ITc Vn Image* [} 1870] Destination image Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.5.33 Split Image Channels Split a multi-channel image into multiple single channel images (1 for each source image channel). Syntax Definition: HRESULT Split Image Channels( HRESULT hr Prev, ITc Vn Image* ip Src Image, PVOID p Dest Images, USHORT n Array Size, USHORT& n Image Channels ) TF7000 - TF7810 Version: 2.4.0 2171
## Page 2172

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image with multiple channels p Dest Images PVOID Pointer to an array of ITc Vn Image (appropriate destination images will be created if required) n Array Size USHORT Number of p Dest Images array elements (array must be >= ip Source Image channels) n Image Channels USHORT& Actual source image channels Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.5.34 Transform Into Displayable Image Transform an image into a displayable image. The source image will be released and zeroed while existing destination images will be released and overwritten with the function result. If b Allow Deep Copy equals false, the source image must not be used anywhere else and the transformation is always very fast. Otherwise, if b Allow Deep Copy equals true, a deep copy of the source image might be created if required, which will result in a longer execution time. If you want to use ip Src Image after this function call, use F_VN_Copy Into Displayable Image instead. Syntax Definition: HRESULT Transform Into Displayable Image( HRESULT hr Prev, ITc Vn Image*& ip Src Image, ITc Vn Displayable Image*& ip Dest Image, bool b Allow Deep Copy = false ) 2172 Version: 2.4.0 TF7000 - TF7810
## Page 2173

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870]& Source image ip Dest Image ITc Vn Displayable Image* Returns the displayable image [} 1870]& b Allow Deep Copy bool false Allow deep image copies, if required Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.5.35 Create NDimensional Image Creates an N-dimensional image and allocates an appropriate data buffer. The initial reference count is set to one if a new image interface is created and kept, otherwise. Syntax Definition: HRESULT Create NDimensional Image( HRESULT hr Prev, ITc Vn Image*& ip Image, Tc Vn Array33_UDINT& a Shape, ETc Vn Element Type e Pixel Type ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Image ITc Vn Image* [} 1870]& Returns the created image (Non- zero interface pointers are reused.) a Shape Tc Vn Array33_UDINT [} 1663]& Specifies the shape of ip Dest Image. First entry is the number of dimensions of ip Image (max. 32), followed by the sizes of each dimension. e Pixel Type ETc Vn Element Type [} 1689] Pixel type Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 2173
## Page 2174

API reference Required License TC3 Vision Base System Requirements 6.2.3.5.36 Create NDimensional Image And Set Pixels Creates an N-dimensional image, allocates an appropriate data buffer and sets all pixels to the specified value. The initial reference count is set to one if a new image interface is created and kept, otherwise. Syntax Definition: HRESULT Create NDimensional Image And Set Pixels( HRESULT hr Prev, ITc Vn Image*& ip Image, Tc Vn Array33_UDINT& a Shape, ETc Vn Element Type e Pixel Type, double f Value ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Image ITc Vn Image* [} 1870]& Returns the created image (Non- zero interface pointers are reused.) a Shape Tc Vn Array33_UDINT [} 1663]& Specifies the shape of ip Dest Image. First entry is the number of dimensions of ip Image (max. 32), followed by the sizes of each dimension. e Pixel Type ETc Vn Element Type [} 1689] Pixel type f Value double Pixel value Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.5.37 Create NDimensional Image From Array Creates an N-dimensional image and initialize it with the provided data. The initial reference count is set to one if a new image interface is created and kept, otherwise. Syntax Definition: HRESULT Create NDimensional Image From Array( HRESULT hr Prev, PVOID p Data, ITc Vn Image*& ip Image, 2174 Version: 2.4.0 TF7000 - TF7810
## Page 2175

API reference Tc Vn Array33_UDINT& a Shape, ETc Vn Element Type e Pixel Type ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) p Data PVOID Pointer to the 1D data array. Ensure that the array contains at least the number of elements equal to the product of all dimensions in a Shape and that the array element type matches e Pixel Type. ip Image ITc Vn Image* [} 1870]& Returns the created image (Non- zero interface pointers are reused.) a Shape Tc Vn Array33_UDINT [} 1663]& Specifies the shape of ip Dest Image. First entry is the number of dimensions of ip Image (max. 32), followed by the sizes of each dimension. e Pixel Type ETc Vn Element Type [} 1689] Pixel type Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.5.38 Get Layout Info Return the layout information of an image Syntax Definition: HRESULT Get Layout Info( HRESULT hr Prev, ITc Vn Image* ip Image, Tc Vn Array33_UDINT& a Layout Info ) TF7000 - TF7810 Version: 2.4.0 2175
## Page 2176

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Image ITc Vn Image* [} 1870] Source image a Layout Info Tc Vn Array33_UDINT [} 1663]& Contains layout information of ip Image. First entry of the a Layout Info is the number of dimensions of ip Image (max. 32), followed by the sizes of each dimension. Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.5.39 Pad Image Border Add padding around the original image borders. Syntax Definition: HRESULT Pad Image Border( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Padded Image, ULONG n Top Border, ULONG n Bottom Border, ULONG n Left Border, ULONG n Right Border, ETc Vn Border Interpolation Method e Padding Type = BIM_CONSTANT, Tc Vn Vector4_LREAL& a Padding Value = {0, 0, 0, 0} ) 2176 Version: 2.4.0 TF7000 - TF7810
## Page 2177

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Padded Image ITc Vn Image* [} 1870]& Padded destination image (Same type as ip Src Image, an appropriate destination image will be created if required.) n Top Border ULONG Padding height in pixels above top border n Bottom Border ULONG Padding height in pixels below bottom border n Left Border ULONG Padding width in pixels before left border n Right Border ULONG Padding width in pixels after right border e Padding Type BIM_CONSTANT Specifies how the pixel ETc Vn Border Interpolation values of the padding area are determined Method [} 1666] a Padding Value Tc Vn Vector4_LREAL {0, 0, 0, 0} Specifies the padding value if CONSTANT is [} 1663]& used Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.5.40 Reinterpret Unsupported Image Reinterpret an unsupported image using additional information. If successful, the image will be of a supported type. Syntax Definition: HRESULT Reinterpret Unsupported Image( HRESULT hr Prev, ITc Vn Image* ip Image, ETc Vn Element Type e Pixel Type ) TF7000 - TF7810 Version: 2.4.0 2177
## Page 2178

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Image ITc Vn Image* [} 1870] Image to be reinterpreted e Pixel Type ETc Vn Element Type [} 1689] Pixel element type to be used for reinterpreting the image data Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.6 Code Quality This group contains functions for quality assessment of various 1D and 2D codes. The assessment is based on international standards. The code quality check is intended to ensure that the corresponding code can be reliably decoded at the time of use. In order to obtain comparable results, the standards define methods for measuring and evaluating specific attributes and for deriving an overall assessment of code quality. The aim is to predict, as far as possible, the expected readability of the codes, using different types of readers, in different applications, environments and under different conditions. A minimum acceptable quality level is therefore usually defined for each individual application. On the one hand, the standards describe requirements that must be met by the systems used in order to obtain usable results. On the other hand, the standards provide recommendations such as illumination, lens settings and geometric structure in order to be able to compare the ratings with other systems. In order to set up a system that conforms to the standard, it is advisable to obtain the relevant quality assessment specifications and the codes to be tested. The functions can also be used with non-standard systems. The only consequence of this is that the quality determined is not comparable with other systems. In general, minor differences in the individual evaluation categories are to be expected for different systems. In accordance with the ISO/IEC 15416:2016 standard, the print quality of barcodes for the code types Code 39, Code 128, EAN 8, EAN 13, ITF, UPC-A, UPC-E can be determined using the following functions: • Grade Barcode [} 2179] In accordance with the ISO/IEC 15415:2011 standard, the print quality of two-dimensional matrix symbols of the ECC200 Data Matrix code and QR code types can be determined using the following functions: • Grade Data Matrix Code [} 2181] • Grade QRCode [} 2183] Interpretation of the HRESULT For the Code Grading functions the HRESULT [} 144] return values are used as follows: 2178 Version: 2.4.0 TF7000 - TF7810
## Page 2179

API reference Code Name Description 0x000 S_OK Function was executed successfully and all evaluations were carried out in accordance with the standard. 0x001 S_FALSE Function was executed successfully, not all scan lines could be decoded for 1D codes and not all checks could be performed according to the standard for 2D codes. The overall score was therefore set to 0, but the individual results can be evaluated. 0x256 S_WATCHDOGTIMEOUT Function was aborted by the watchdog. Individual results can be evaluated depending on the time of termination 0x70C NOTFOUND Function was not executed successfully, no scan line could be decoded for 1D codes and the code was not found or could not be decoded for 2D codes. 0x7xx All error codes Function was not executed successfully. See: ADS Return Codes [} 2864] 6.2.3.6.1 Grade Barcode Grades a 1D barcode according to ISO / IEC 15416:2016. Requires uniform illumination, good focus and the image sensor plane parallel to the code plane to achieve meaningful results. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Grade Barcode( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Container*& ip Decoded Data, Tc Vn Code Grades1D& st Code Grades, ETc Vn Barcode Type e Barcode Type, float& f Angle Deg, ETc Vn Barcode Search Direction e Search Direction = BSD_ANY, ITc Vn Image** pip Result Visualization = nullptr, ITc Vn Container** pip Scan Line Info = nullptr, ITc Vn Container** pip Contour = nullptr ) TF7000 - TF7810 Version: 2.4.0 2179
## Page 2180

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image, only containing the horizontally aligned barcode region (USINT, 1 channel, including quiet zones on left and right, excluding Text or empty space on more than 10% total height on top or bottom) ip Decoded Data ITc Vn Container* [} 1836]& Returns the decoded data (Container Type_String_SI NT) st Code Grades Tc Vn Code Grades1D Returns the code grades in the range from 0 (very [} 1717]& bad) to 4 (very good) e Barcode Type ETc Vn Barcode Type Type of the barcode (supported: CODE39, [} 1665] CODE128, EAN8, EAN13, ITF, UPCA, UPCE) f Angle Deg float& Returns the approximate clockwise rotation angle in degree e Search Direction BSD_ANY Barcode search direction ETc Vn Barcode Search Direc (BSD_ANY first tries horizontal, then vertical) tion [} 1664] pip Result Visualization ITc Vn Image* [} 1870]* nullptr Returns a visualization of the scan lines (optional, set to 0 if not required). Grades are color coded: >= 3 as green, >= 2 as light blue, >= 1 as orange, < 1 as red pip Scan Line Info ITc Vn Container* [} 1836]* nullptr Returns additional scan line info for further evaluation, e.g. to use Plot Intensity Profile for visualization (optional, set to 0 if not required; Container Type_Vector_Tc Vn Vector3_REAL, containing [row index, overall grade, threshold]) pip Contour ITc Vn Container* [} 1836]* nullptr Returns the 4 approximate code corner points, including the quiet zone (optional, set to 0 if not required; Container Type_Vector_Tc Vn Point2_DINT) 2180 Version: 2.4.0 TF7000 - TF7810
## Page 2181

API reference Return value HRESULT [} 144] Required License TC3 Vision Code Quality System Requirements 6.2.3.6.2 Grade Data Matrix Code Grades a Data Matrix code (ECC200) according to ISO / IEC 15415:2011. Requires uniform illumination, good focus and the image sensor plane parallel to the code plane to achieve meaningful results. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: HRESULT Grade Data Matrix Code( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Container*& ip Decoded Data, Tc Vn Code Grades DM& st Code Grades, float f Module Width, float& f Angle Deg, ITc Vn Image** pip Result Visualization = nullptr, ITc Vn Container** pip Margin Grades = nullptr, ITc Vn Container** pip Contour = nullptr ) TF7000 - TF7810 Version: 2.4.0 2181
## Page 2182

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image, only containing the Data Matrix code region (USINT, 1 channel, including quiet zone) ip Decoded Data ITc Vn Container* [} 1836]& Returns the decoded data (Container Type_String_SI NT) st Code Grades Tc Vn Code Grades DM Returns the code grades in the range from 0 (very [} 1717]& bad) to 4 (very good) f Module Width float Minimum module width of the code in the image (in pixels). Must be at least 3, preferably 5 - 8. f Angle Deg float& Returns the clockwise rotation angle in degree pip Result Visualization ITc Vn Image* [} 1870]* nullptr Returns a visualization of the scan grid (optional, set to 0 if not required). Module margin grades are color coded: >= 3 as green, >= 2 as light blue, >= 1 as orange, < 1 as red pip Margin Grades ITc Vn Container* [} 1836]* nullptr Returns the individual margin grade for each module, e.g. to create a custom visualization (optional, set to 0 if not required; Container Type_Vector_Tc Vn Vector3_REAL, containing [x-position, y- position, grade]) pip Contour ITc Vn Container* [} 1836]* nullptr Returns the 4 code corner points, excluding the quiet zone (optional, set to 0 if not required; Container Type_Vector_Tc Vn Point2_DINT) Return value HRESULT [} 144] Required License TC3 Vision Code Quality 2182 Version: 2.4.0 TF7000 - TF7810
## Page 2183

API reference System Requirements 6.2.3.6.3 Grade QRCode Grades a QR code according to ISO / IEC 15415:2011. Requires uniform illumination, good focus and the image sensor plane parallel to the code plane to achieve meaningful results. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: HRESULT Grade QRCode( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Container*& ip Decoded Data, Tc Vn Code Grades QR& st Code Grades, float f Module Width, float& f Angle Deg, ITc Vn Image** pip Result Visualization = nullptr, ITc Vn Container** pip Margin Grades = nullptr, ITc Vn Container** pip Contour = nullptr ) TF7000 - TF7810 Version: 2.4.0 2183
## Page 2184

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image, only containing the QR code region (USINT, 1 channel, including quiet zone) ip Decoded Data ITc Vn Container* [} 1836]& Returns the decoded data (Container Type_String_SI NT) st Code Grades Tc Vn Code Grades QR Returns the code grades in the range from 0 (very [} 1718]& bad) to 4 (very good) f Module Width float Minimum module width of the code in the image (in pixels). Must be at least 3, preferably 5 - 8. f Angle Deg float& Returns the clockwise rotation angle in degree pip Result Visualization ITc Vn Image* [} 1870]* nullptr Returns a visualization of the scan grid (optional, set to 0 if not required). Module margin grades are color coded: >= 3 as green, >= 2 as light blue, >= 1 as orange, < 1 as red pip Margin Grades ITc Vn Container* [} 1836]* nullptr Returns the individual margin grade for each module, e.g. to create a custom visualization (optional, set to 0 if not required; Container Type_Vector_Tc Vn Vector3_REAL, containing [x-position, y- position, grade]) pip Contour ITc Vn Container* [} 1836]* nullptr Returns the 4 code corner points, excluding the quiet zone (optional, set to 0 if not required; Container Type_Vector_Tc Vn Point2_DINT) Return value HRESULT [} 144] Required License TC3 Vision Code Quality 2184 Version: 2.4.0 TF7000 - TF7810
## Page 2185

API reference System Requirements 6.2.3.7 Code Reading This group contains functions for detecting and reading 1D and 2D codes. Functions 1D codes • Read Barcode(Exp) [} 2188] ◦ Coda Bar ◦ Code39 ◦ Code93 ◦ Code128 ◦ EAN8 ◦ EAN13 ◦ ITF ◦ UPCA ◦ UPCE ◦ Code39Extended • Read Barcode Roi(Exp) [} 2195] ◦ Code39 ◦ Code128 ◦ EAN8 ◦ EAN13 ◦ ITF ◦ UPCA ◦ UPCE • Read Pharma Code [} 2190] 2D codes • Read Data Matrix Code [} 2189] • Read Data Matrix Code Roi [} 2193] • Read QRCode [} 2191] Code requirements In general, a module size of at least three pixels is required; more than three pixels are recommended for more stable results. The image should be sharp and have a high contrast. In addition, for 1D codes, a code orientation of approx. 0° or 90° is recommended so that the code is parallel to an image axis. Interpretation of the HRESULT For the Code Reading functions the HRESULT [} 144] return values are used as follows: TF7000 - TF7810 Version: 2.4.0 2185
## Page 2186

API reference Code Name Description 0x000 S_OK Function was successfully executed and all expected codes were found (at least one code for the standard functions and n Code Number for the expert functions). 0x001 S_FALSE Function was executed successfully, not all scan lines could be decoded for 1D codes and not all checks could be performed according to the standard for 2D codes. The overall score was therefore set to 0, but the individual results can be evaluated. 0x256 S_WATCHDOGTIMEOUT Function was aborted by the watchdog. Some Code Reading functions can return partial results (see individual function descriptions). 0x7xx All error codes Function was not executed successfully. See: ADS Return Codes [} 2864] Therefore, the usual check with SUCCEEDED() is not sufficient to deduce a found code and thus existing data in ip Decoded Data. The following query can be used for this purpose: if (hr == S_OK) { // Export Code into String hr = Export Sub Container_String(hr, ip Decoded Code, 0, s Code As String, 255); // Use s Code As String } else if (SUCCEEDED(hr)) { // Process partial results } else { // Error handling } Search strategies for 2D codes For 2D codes the search algorithms are applied to different variants of the input image in order to recognize as many codes as possible. Both inversion and mirroring of the image are used to generate various variants. The decision as to which variant is tested is called the search strategy. So that you have greater control over the runtime of the functions, this search strategy can be configured. The ETc Vn2d Code Search Strategy [} 1663] enum is available for this purpose. With this you can specify for each possible image transformation (inversion and mirroring) whether it is to be applied and whether the original image or the transformed image should be checked first for codes. The e Search Strategy function parameter defines precisely this search strategy for corresponding code reading expert functions. The tables below show the different combinations: Table 3: Inversion e Search Strategy Original image Inverted image CSS_ONLY_NOT_INVERTED 1. - CSS_FIRST_NOT_INVERTED 1. 2. CSS_ONLY_INVERTED - 1. CSS_FIRST_INVERTED 2. 1. 2186 Version: 2.4.0 TF7000 - TF7810
## Page 2187

API reference Table 4: Mirroring e Search Strategy Original image Mirrored image CSS_ONLY_NOT_FLIPPED 1. - CSS_FIRST_NOT_FLIPPED 1. 2. CSS_ONLY_FLIPPED - 1. CSS_FIRST_FLIPPED 2. 1. A search strategy can be defined for each type of transformation. The search strategies of the different search strategies can be linked as follows: e Search Strategy = CSS_ONLY_FLIPPED | CSS_FIRST_INVERTED; The CSS_DEFAULT option can be used to select a default setting that varies depending on the code type. Linking of search strategies not possible The linking of several search strategies for the same transformation type is not permissible. Only one strategy for inversion and one for mirroring can be linked to each other. 6.2.3.7.1 Read Barcode Detect and interpret a 1d barcode within the provided image. Can be canceled by Watchdog. Syntax Definition: HRESULT Read Barcode( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Container*& ip Decoded Data, ULONG e Barcode Type ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (USINT elements, 1 channel or 3 channel (3 channel input is expected to be RGB and internally converted to Gray)) ip Decoded Data ITc Vn Container* [} 1836]& Returns the decoded code (Container Type_Vector_String_SIN T) e Barcode Type ULONG Types of barcode to search for (ETc Vn Barcode Type) Return value HRESULT [} 144] Required License TC3 Vision Code Reading TF7000 - TF7810 Version: 2.4.0 2187
## Page 2188

API reference System Requirements 6.2.3.7.2 Read Barcode (Exp) Detect and interpret a 1d barcode within the provided image. Can be canceled by Watchdog. Syntax Definition: HRESULT Read Barcode( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Container*& ip Decoded Data, ITc Vn Container*& ip Contours, ULONG e Barcode Type, LONG n Code Number, ETc Vn Barcode Search Direction e Search Direction, ITc Vn Container** pip Angles = nullptr ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (USINT elements, 1 channel or 3 channel (3 channel input is expected to be RGB and internally converted to Gray)) ip Decoded Data ITc Vn Container* [} 1836]& Returns the decoded code (Container Type_Vector_S tring_SINT) ip Contours ITc Vn Container* [} 1836]& Returns the code positions as contours (optional, set to 0 if not required; Container Type_Vector_V ector_Tc Vn Point2_DINT) e Barcode Type ULONG Types of barcode to search for (ETc Vn Barcode Type) n Code Number LONG Number of 1d barcode that should be detected within the provided image (currently only 1 supported). e Search Direction Barcode search direction. ETc Vn Barcode Search Direc tion [} 1664] pip Angles ITc Vn Container* [} 1836]* nullptr Returns the clockwise code rotation angles (optional, set to 0 if not required; Container Type_Vector_R EAL) 2188 Version: 2.4.0 TF7000 - TF7810
## Page 2189

API reference Return value HRESULT [} 144] Required License TC3 Vision Code Reading System Requirements 6.2.3.7.3 Read Data Matrix Code Detect and interpret a data matrix code (ECC200) within the provided image. Can return partial results when canceled by Watchdog. Syntax Definition: HRESULT Read Data Matrix Code( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Container*& ip Decoded Data, ITc Vn Container** pip Contours = nullptr, LONG n Code Number = 1, ULONG e Search Strategy = CSS_DEFAULT, ITc Vn Container** pip Angles = nullptr ) TF7000 - TF7810 Version: 2.4.0 2189
## Page 2190

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (USINT elements, 1 or 3 channels) ip Decoded Data ITc Vn Container* [} 1836]& Returns the decoded code (Container Type_Vector_S tring_SINT) pip Contours ITc Vn Container* [} 1836]* nullptr Returns the code positions as contours (optional, set to 0 if not required; Container Type_Vector_V ector_Tc Vn Point2_DINT) n Code Number LONG 1 Number of data matrix codes that should be detected within the provided image. (If set to -1, it tries to detect all data matrix codes.) e Search Strategy ULONG CSS_DEFAULT Used search strategy (ETc Vn2d Code Search Str ategy) pip Angles ITc Vn Container* [} 1836]* nullptr Returns the clockwise code rotation angles (optional, set to 0 if not required; Container Type_Vector_R EAL) Return value HRESULT [} 144] Required License TC3 Vision Code Reading System Requirements 6.2.3.7.4 Read Pharma Code Detect and interpret a pharma code within the provided image. Can be canceled by Watchdog. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Read Pharma Code( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Container*& ip Decoded Data, ITc Vn Container** pip Contours = nullptr, 2190 Version: 2.4.0 TF7000 - TF7810
## Page 2191

API reference LONG n Code Number = 1, SHORT n Min Bar Number = 4, ITc Vn Container** pip Angles = nullptr ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (1 channel (all element types) or 3 channel with elements of type TCVN_ET_USINT, TCVN_ET_UINT or TCVN_ET_REAL (3 channel input is expected to be RGB and internally converted to Gray)) ip Decoded Data ITc Vn Container* [} 1836]& Returns the decoded code (Container Type_Vector_S tring_SINT) pip Contours ITc Vn Container* [} 1836]* nullptr Returns the code positions as contours (optional, set to 0 if not required; Container Type_Vector_V ector_Tc Vn Point2_DINT) n Code Number LONG 1 Number of pharma codes that should be detected within the provided image (currently only 1 supported). n Min Bar Number SHORT 4 Minimal number of (dark) bars that codes must have. pip Angles ITc Vn Container* [} 1836]* nullptr Returns the clockwise code rotation angles (optional, set to 0 if not required; Container Type_Vector_R EAL) Return value HRESULT [} 144] Required License TC3 Vision Code Reading System Requirements 6.2.3.7.5 Read QRCode Detect and interpret a QR code within the provided image. Can be canceled by Watchdog. TF7000 - TF7810 Version: 2.4.0 2191
## Page 2192

API reference Syntax Definition: HRESULT Read QRCode( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Container*& ip Decoded Data, ITc Vn Container** pip Contours = nullptr, LONG n Code Number = 1, ULONG e Search Strategy = CSS_DEFAULT, ITc Vn Container** pip Angles = nullptr ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (USINT elements, 1 channel or 3 channel (3 channel input is expected to be RGB and internally converted to Gray)) ip Decoded Data ITc Vn Container* [} 1836]& Returns the decoded code (Container Type_Vector_S tring_SINT) pip Contours ITc Vn Container* [} 1836]* nullptr Returns the code positions as contours (optional, set to 0 if not required; Container Type_Vector_V ector_Tc Vn Point2_DINT) n Code Number LONG 1 Number of QR codes that should be detected within the provided image (currently only 1 supported). e Search Strategy ULONG CSS_DEFAULT Used search strategy (ETc Vn2d Code Search Str ategy) pip Angles ITc Vn Container* [} 1836]* nullptr Returns the clockwise code rotation angles (optional, set to 0 if not required; Container Type_Vector_R EAL) Return value HRESULT [} 144] Required License TC3 Vision Code Reading 2192 Version: 2.4.0 TF7000 - TF7810
## Page 2193

API reference System Requirements 6.2.3.7.6 Read Data Matrix Code Roi Detect and interpret a data matrix code (ECC200) within the provided image. The code should be in the image center. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Read Data Matrix Code Roi( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Container*& ip Decoded Data, float f Module Width, float& f Angle Deg, ITc Vn Container** pip Contour = nullptr, ULONGLONG e Options = DMO_DEFAULT, unsigned char n Rows = 0, unsigned char n Cols = 0, bool b Extensive Search = true ) TF7000 - TF7810 Version: 2.4.0 2193
## Page 2194

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (USINT elements, 1 channel) ip Decoded Data ITc Vn Container* [} 1836]& Returns the decoded code (Container Type_String_SI NT) f Module Width float Minimum module width of the code in the image (in pixels). Must be at least 3, preferably 5 - 8. f Angle Deg float& Returns the clockwise rotation angle in degree pip Contour ITc Vn Container* [} 1836]* nullptr Returns the contour of the detected code (Container Type_Vector_T c Vn Point2_DINT; optional, set to 0 if not required) e Options ULONGLONG DMO_DEFAULT Specifies a combination of one or more ETc Vn Data Matrix Options n Rows unsigned char 0 Specifies the number of code module rows, including the finder and clock pattern, excluding the quiet zone (8 - 144; set to 0 to search for any size) n Cols unsigned char 0 Specifies the number of code module columns, including the finder and clock pattern, excluding the quiet zone (10 - 144; set to 0 to search for any size) b Extensive Search bool true If true, tries different approaches if the specified options fail Return value HRESULT [} 144] Required License TC3 Vision Code Reading 2194 Version: 2.4.0 TF7000 - TF7810
## Page 2195

API reference System Requirements 6.2.3.7.7 Read Barcode Roi Detect and interpret a 1d barcode within the provided image. For best performance, the code should be horizontally aligned and in the image center. Syntax Definition: HRESULT Read Barcode Roi( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Container*& ip Decoded Data, ETc Vn Barcode Type e Barcode Type, float& f Angle Deg, ETc Vn Barcode Search Direction e Search Direction = BSD_ANY, ITc Vn Container** pip Contour = nullptr, LONG n Max Scans = 30 ) TF7000 - TF7810 Version: 2.4.0 2195
## Page 2196

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (USINT, 1 channel) ip Decoded Data ITc Vn Container* [} 1836]& Returns the decoded data (Container Type_String_SI NT) e Barcode Type ETc Vn Barcode Type Type of the barcode (supported: CODE39, [} 1665] CODE128, EAN8, EAN13, ITF, UPCA, UPCE) f Angle Deg float& Returns the approximate clockwise rotation angle in degree e Search Direction BSD_ANY Barcode search direction ETc Vn Barcode Search Direc (BSD_ANY first tries horizontal, then vertical) tion [} 1664] pip Contour ITc Vn Container* [} 1836]* nullptr Returns 4 approximate code corner points, including the quiet zone. The width is accurate, but the actual height is not measured for performance reasons. Instead, it is statically set to 10% of the width, centered around the scan line that was decoded. (optional, set to 0 if not required; Container Type_Vector_Tc Vn Point2_DINT) n Max Scans LONG 30 Maximum number of scan lines that are evaluated to find the barcode. The scan always starts at the image center and then alternates up- and downwards with increasing distance, using steps of (ip Src Image height / n Max Scans). Return value HRESULT [} 144] Further information The F_VN_Read Barcode Roi function is optimized for the detection of a single barcode within a defined image area (ROI). 2196 Version: 2.4.0 TF7000 - TF7810
## Page 2197

API reference Algorithm To do this, the function uses a customized algorithm that requires the code to be centered in the transferred image. The function first searches for horizontally aligned codes and then for vertically aligned codes in the image. Parameter Input image The ip Src Image input image must be an 1-channel image with USINT element type (8 bits). The code must be aligned horizontally or vertically in the center of the image. Read data The data read from the code are returned as a string in the ip Decoded Data container. The container is of the type Container Type_String_SINT. Once the code has been successfully found and decoded, the content can be exported to a string using the F_VN_Export Container_String [} 2136] function. hr := F_VN_Export Container_String(ip Decoded Data, s Text, n Max Length, hr); Barcode type The e Barcode Type parameter defines the barcode type to be read. Only one barcode type can be transferred per function call. The following barcode types from the ETc Vn Barcode Type [} 1665] enum are supported: • TCVN_BT_CODE39 • TCVN_BT_CODE128 • TCVN_BT_EAN8 • TCVN_BT_EAN13 • TCVN_BT_ITF • TCVN_BT_UPCA • TCVN_BT_UPCE Rotation angle (Return value) The f Angle Deg return value returns the clockwise rotation angle in 90° steps. Expert parameters The expert version F_VN_Read Barcode Roi Exp [} 827] contains additional parameters. Samples • EAN-13 Barcode Reading [} 2739] • Result evaluation during Code Reading [} 2747] Related functions • F_VN_Grade Barcode [} 2179] • F_VN_Grade Data Matrix Code [} 2181] • F_VN_Grade QRCode [} 2183] • F_VN_Read Barcode [} 2187] • F_VN_Read Barcode Roi [} 2195] • F_VN_Read Pharma Code [} 2190] • F_VN_Read Data Matrix Code [} 2189] • F_VN_Read Data Matrix Code Roi [} 2193] TF7000 - TF7810 Version: 2.4.0 2197
## Page 2198

API reference • F_VN_Read QRCode [} 2191] Required License TC3 Vision Code Reading System Requirements 6.2.3.8 Container Statistics This group contains functions for statistical analysis of containers [} 155]. Functions With Euclidean norm • Container Average [} 2253] • Container Average Variance [} 2256] • Max Element [} 2259] • Median Element [} 2259] • Min Element [} 2260] Element-wise • Container Average Elementwise [} 2254] • Container Average Variance Elementwise [} 2257] • Max Element Elementwise [} 2198] • Median Element Elementwise [} 2217] • Min Element Elementwise [} 2235] 6.2.3.8.1 Max Element Elementwise This chapter contains functions with which the max value is determined according to the data type for each element. This function is available for containers with basic elements. For example, with a Tc Vn Point2_DINT, the maximum X-value and the maximum Y-value are determined independently of each other, so the values do not have to come from the same point. 6.2.3.8.1.1 Max Element Elementwise (LONG) Gets the element wise maximum container element. Syntax Definition: HRESULT Max Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, LONG& n Max ) 2198 Version: 2.4.0 TF7000 - TF7810
## Page 2199

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container n Max LONG& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.1.2 Max Element Elementwise (SHORT) Gets the element wise maximum container element. Syntax Definition: HRESULT Max Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, SHORT& n Max ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container n Max SHORT& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.1.3 Max Element Elementwise (double) Gets the element wise maximum container element. TF7000 - TF7810 Version: 2.4.0 2199
## Page 2200

API reference Syntax Definition: HRESULT Max Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, double& f Max ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container f Max double& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.1.4 Max Element Elementwise (float) Gets the element wise maximum container element. Syntax Definition: HRESULT Max Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, float& f Max ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container f Max float& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base 2200 Version: 2.4.0 TF7000 - TF7810
## Page 2201

API reference System Requirements 6.2.3.8.1.5 Max Element Elementwise (char) Gets the element wise maximum container element. Syntax Definition: HRESULT Max Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, char& n Max ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container n Max char& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.1.6 Max Element Elementwise (Tc Vn Point2_DINT) Gets the element wise maximum container element. Syntax Definition: HRESULT Max Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Point2_DINT& a Max ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Max Tc Vn Point2_DINT [} 1661]& Returns the requested element TF7000 - TF7810 Version: 2.4.0 2201
## Page 2202

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.1.7 Max Element Elementwise (Tc Vn Point2_LREAL) Gets the element wise maximum container element. Syntax Definition: HRESULT Max Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Point2_LREAL& a Max ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Max Tc Vn Point2_LREAL [} 1661]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.1.8 Max Element Elementwise (Tc Vn Point2_REAL) Gets the element wise maximum container element. Syntax Definition: HRESULT Max Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Point2_REAL& a Max ) 2202 Version: 2.4.0 TF7000 - TF7810
## Page 2203

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Max Tc Vn Point2_REAL [} 1661]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.1.9 Max Element Elementwise (Tc Vn Point3_LREAL) Gets the element wise maximum container element. Syntax Definition: HRESULT Max Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Point3_LREAL& a Max ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Max Tc Vn Point3_LREAL [} 1661]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.1.10 Max Element Elementwise (Tc Vn Point3_REAL) Gets the element wise maximum container element. TF7000 - TF7810 Version: 2.4.0 2203
## Page 2204

API reference Syntax Definition: HRESULT Max Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Point3_REAL& a Max ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Max Tc Vn Point3_REAL [} 1661]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.1.11 Max Element Elementwise (Tc Vn Vector2_DINT) Gets the element wise maximum container element. Syntax Definition: HRESULT Max Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_DINT& a Max ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Max Tc Vn Vector2_DINT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base 2204 Version: 2.4.0 TF7000 - TF7810
## Page 2205

API reference System Requirements 6.2.3.8.1.12 Max Element Elementwise (Tc Vn Vector2_INT) Gets the element wise maximum container element. Syntax Definition: HRESULT Max Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_INT& a Max ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Max Tc Vn Vector2_INT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.1.13 Max Element Elementwise (Tc Vn Vector2_REAL) Gets the element wise maximum container element. Syntax Definition: HRESULT Max Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_REAL& a Max ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Max Tc Vn Vector2_REAL [} 1663]& Returns the requested element TF7000 - TF7810 Version: 2.4.0 2205
## Page 2206

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.1.14 Max Element Elementwise (Tc Vn Vector2_SINT) Gets the element wise maximum container element. Syntax Definition: HRESULT Max Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_SINT& a Max ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Max Tc Vn Vector2_SINT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.1.15 Max Element Elementwise (Tc Vn Vector2_UINT) Gets the element wise maximum container element. Syntax Definition: HRESULT Max Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_UINT& a Max ) 2206 Version: 2.4.0 TF7000 - TF7810
## Page 2207

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Max Tc Vn Vector2_UINT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.1.16 Max Element Elementwise (Tc Vn Vector2_USINT) Gets the element wise maximum container element. Syntax Definition: HRESULT Max Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_USINT& a Max ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Max Tc Vn Vector2_USINT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.1.17 Max Element Elementwise (Tc Vn Vector3_INT) Gets the element wise maximum container element. TF7000 - TF7810 Version: 2.4.0 2207
## Page 2208

API reference Syntax Definition: HRESULT Max Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector3_INT& a Max ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Max Tc Vn Vector3_INT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.1.18 Max Element Elementwise (Tc Vn Vector3_REAL) Gets the element wise maximum container element. Syntax Definition: HRESULT Max Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector3_REAL& a Max ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Max Tc Vn Vector3_REAL [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base 2208 Version: 2.4.0 TF7000 - TF7810
## Page 2209

API reference System Requirements 6.2.3.8.1.19 Max Element Elementwise (Tc Vn Vector3_SINT) Gets the element wise maximum container element. Syntax Definition: HRESULT Max Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector3_SINT& a Max ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Max Tc Vn Vector3_SINT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.1.20 Max Element Elementwise (Tc Vn Vector3_UINT) Gets the element wise maximum container element. Syntax Definition: HRESULT Max Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector3_UINT& a Max ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Max Tc Vn Vector3_UINT [} 1663]& Returns the requested element TF7000 - TF7810 Version: 2.4.0 2209
## Page 2210

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.1.21 Max Element Elementwise (Tc Vn Vector3_USINT) Gets the element wise maximum container element. Syntax Definition: HRESULT Max Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector3_USINT& a Max ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Max Tc Vn Vector3_USINT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.1.22 Max Element Elementwise (Tc Vn Vector4_DINT) Gets the element wise maximum container element. Syntax Definition: HRESULT Max Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_DINT& a Max ) 2210 Version: 2.4.0 TF7000 - TF7810
## Page 2211

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Max Tc Vn Vector4_DINT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.1.23 Max Element Elementwise (Tc Vn Vector4_INT) Gets the element wise maximum container element. Syntax Definition: HRESULT Max Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_INT& a Max ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Max Tc Vn Vector4_INT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.1.24 Max Element Elementwise (Tc Vn Vector4_LREAL) Gets the element wise maximum container element. TF7000 - TF7810 Version: 2.4.0 2211
## Page 2212

API reference Syntax Definition: HRESULT Max Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_LREAL& a Max ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Max Tc Vn Vector4_LREAL [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.1.25 Max Element Elementwise (Tc Vn Vector4_SINT) Gets the element wise maximum container element. Syntax Definition: HRESULT Max Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_SINT& a Max ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Max Tc Vn Vector4_SINT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base 2212 Version: 2.4.0 TF7000 - TF7810
## Page 2213

API reference System Requirements 6.2.3.8.1.26 Max Element Elementwise (Tc Vn Vector4_UINT) Gets the element wise maximum container element. Syntax Definition: HRESULT Max Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_UINT& a Max ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Max Tc Vn Vector4_UINT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.1.27 Max Element Elementwise (Tc Vn Vector4_USINT) Gets the element wise maximum container element. Syntax Definition: HRESULT Max Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_USINT& a Max ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Max Tc Vn Vector4_USINT [} 1663]& Returns the requested element TF7000 - TF7810 Version: 2.4.0 2213
## Page 2214

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.1.28 Max Element Elementwise (ULONG) Gets the element wise maximum container element. Syntax Definition: HRESULT Max Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, ULONG& n Max ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container n Max ULONG& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.1.29 Max Element Elementwise (USHORT) Gets the element wise maximum container element. Syntax Definition: HRESULT Max Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, USHORT& n Max ) 2214 Version: 2.4.0 TF7000 - TF7810
## Page 2215

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container n Max USHORT& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.1.30 Max Element Elementwise (ULONGLONG) Gets the element wise maximum container element. Syntax Definition: HRESULT Max Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, ULONGLONG& n Max ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container n Max ULONGLONG& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.1.31 Max Element Elementwise (unsigned char) Gets the element wise maximum container element. TF7000 - TF7810 Version: 2.4.0 2215
## Page 2216

API reference Syntax Definition: HRESULT Max Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, unsigned char& n Max ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container n Max unsigned char& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.1.32 Max Element Elementwise (Tc Vn Vector4_REAL) Gets the element wise maximum container element. Syntax Definition: HRESULT Max Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_REAL& a Max ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Max Tc Vn Vector4_REAL [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base 2216 Version: 2.4.0 TF7000 - TF7810
## Page 2217

API reference System Requirements 6.2.3.8.2 Median Element Elementwise This chapter contains functions to determine the median value according to the data type for each element. This function is available for containers with basic elements. For example, for a Tc Vn Point2_DINT, the median X-value and the median Y-value are determined independently of each other, so the values do not have to come from the same point. 6.2.3.8.2.1 Median Element Elementwise (LONG) Gets the element wise median container element. Syntax Definition: HRESULT Median Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, LONG& n Median ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container n Median LONG& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.2.2 Median Element Elementwise (SHORT) Gets the element wise median container element. Syntax Definition: HRESULT Median Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, SHORT& n Median ) TF7000 - TF7810 Version: 2.4.0 2217
## Page 2218

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container n Median SHORT& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.2.3 Median Element Elementwise (double) Gets the element wise median container element. Syntax Definition: HRESULT Median Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, double& f Median ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container f Median double& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.2.4 Median Element Elementwise (float) Gets the element wise median container element. 2218 Version: 2.4.0 TF7000 - TF7810
## Page 2219

API reference Syntax Definition: HRESULT Median Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, float& f Median ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container f Median float& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.2.5 Median Element Elementwise (char) Gets the element wise median container element. Syntax Definition: HRESULT Median Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, char& n Median ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container n Median char& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 2219
## Page 2220

API reference System Requirements 6.2.3.8.2.6 Median Element Elementwise (Tc Vn Point2_DINT) Gets the element wise median container element. Syntax Definition: HRESULT Median Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Point2_DINT& a Median ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Median Tc Vn Point2_DINT [} 1661]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.2.7 Median Element Elementwise (Tc Vn Point2_LREAL) Gets the element wise median container element. Syntax Definition: HRESULT Median Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Point2_LREAL& a Median ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Median Tc Vn Point2_LREAL [} 1661]& Returns the requested element 2220 Version: 2.4.0 TF7000 - TF7810
## Page 2221

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.2.8 Median Element Elementwise (Tc Vn Point2_REAL) Gets the element wise median container element. Syntax Definition: HRESULT Median Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Point2_REAL& a Median ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Median Tc Vn Point2_REAL [} 1661]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.2.9 Median Element Elementwise (Tc Vn Point3_LREAL) Gets the element wise median container element. Syntax Definition: HRESULT Median Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Point3_LREAL& a Median ) TF7000 - TF7810 Version: 2.4.0 2221
## Page 2222

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Median Tc Vn Point3_LREAL [} 1661]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.2.10 Median Element Elementwise (Tc Vn Point3_REAL) Gets the element wise median container element. Syntax Definition: HRESULT Median Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Point3_REAL& a Median ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Median Tc Vn Point3_REAL [} 1661]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.2.11 Median Element Elementwise (Tc Vn Vector2_DINT) Gets the element wise median container element. 2222 Version: 2.4.0 TF7000 - TF7810
## Page 2223

API reference Syntax Definition: HRESULT Median Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_DINT& a Median ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Median Tc Vn Vector2_DINT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.2.12 Median Element Elementwise (Tc Vn Vector2_INT) Gets the element wise median container element. Syntax Definition: HRESULT Median Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_INT& a Median ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Median Tc Vn Vector2_INT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 2223
## Page 2224

API reference System Requirements 6.2.3.8.2.13 Median Element Elementwise (Tc Vn Vector2_REAL) Gets the element wise median container element. Syntax Definition: HRESULT Median Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_REAL& a Median ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Median Tc Vn Vector2_REAL [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.2.14 Median Element Elementwise (Tc Vn Vector2_SINT) Gets the element wise median container element. Syntax Definition: HRESULT Median Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_SINT& a Median ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Median Tc Vn Vector2_SINT [} 1663]& Returns the requested element 2224 Version: 2.4.0 TF7000 - TF7810
## Page 2225

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.2.15 Median Element Elementwise (Tc Vn Vector2_UINT) Gets the element wise median container element. Syntax Definition: HRESULT Median Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_UINT& a Median ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Median Tc Vn Vector2_UINT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.2.16 Median Element Elementwise (Tc Vn Vector2_USINT) Gets the element wise median container element. Syntax Definition: HRESULT Median Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_USINT& a Median ) TF7000 - TF7810 Version: 2.4.0 2225
## Page 2226

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Median Tc Vn Vector2_USINT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.2.17 Median Element Elementwise (Tc Vn Vector3_INT) Gets the element wise median container element. Syntax Definition: HRESULT Median Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector3_INT& a Median ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Median Tc Vn Vector3_INT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.2.18 Median Element Elementwise (Tc Vn Vector3_REAL) Gets the element wise median container element. 2226 Version: 2.4.0 TF7000 - TF7810
## Page 2227

API reference Syntax Definition: HRESULT Median Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector3_REAL& a Median ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Median Tc Vn Vector3_REAL [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.2.19 Median Element Elementwise (Tc Vn Vector3_SINT) Gets the element wise median container element. Syntax Definition: HRESULT Median Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector3_SINT& a Median ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Median Tc Vn Vector3_SINT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 2227
## Page 2228

API reference System Requirements 6.2.3.8.2.20 Median Element Elementwise (Tc Vn Vector3_UINT) Gets the element wise median container element. Syntax Definition: HRESULT Median Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector3_UINT& a Median ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Median Tc Vn Vector3_UINT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.2.21 Median Element Elementwise (Tc Vn Vector3_USINT) Gets the element wise median container element. Syntax Definition: HRESULT Median Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector3_USINT& a Median ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Median Tc Vn Vector3_USINT [} 1663]& Returns the requested element 2228 Version: 2.4.0 TF7000 - TF7810
## Page 2229

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.2.22 Median Element Elementwise (Tc Vn Vector4_DINT) Gets the element wise median container element. Syntax Definition: HRESULT Median Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_DINT& a Median ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Median Tc Vn Vector4_DINT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.2.23 Median Element Elementwise (Tc Vn Vector4_INT) Gets the element wise median container element. Syntax Definition: HRESULT Median Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_INT& a Median ) TF7000 - TF7810 Version: 2.4.0 2229
## Page 2230

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Median Tc Vn Vector4_INT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.2.24 Median Element Elementwise (Tc Vn Vector4_LREAL) Gets the element wise median container element. Syntax Definition: HRESULT Median Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_LREAL& a Median ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Median Tc Vn Vector4_LREAL [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.2.25 Median Element Elementwise (Tc Vn Vector4_SINT) Gets the element wise median container element. 2230 Version: 2.4.0 TF7000 - TF7810
## Page 2231

API reference Syntax Definition: HRESULT Median Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_SINT& a Median ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Median Tc Vn Vector4_SINT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.2.26 Median Element Elementwise (Tc Vn Vector4_UINT) Gets the element wise median container element. Syntax Definition: HRESULT Median Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_UINT& a Median ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Median Tc Vn Vector4_UINT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 2231
## Page 2232

API reference System Requirements 6.2.3.8.2.27 Median Element Elementwise (Tc Vn Vector4_USINT) Gets the element wise median container element. Syntax Definition: HRESULT Median Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_USINT& a Median ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Median Tc Vn Vector4_USINT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.2.28 Median Element Elementwise (ULONG) Gets the element wise median container element. Syntax Definition: HRESULT Median Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, ULONG& n Median ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container n Median ULONG& Returns the requested element 2232 Version: 2.4.0 TF7000 - TF7810
## Page 2233

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.2.29 Median Element Elementwise (USHORT) Gets the element wise median container element. Syntax Definition: HRESULT Median Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, USHORT& n Median ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container n Median USHORT& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.2.30 Median Element Elementwise (ULONGLONG) Gets the element wise median container element. Syntax Definition: HRESULT Median Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, ULONGLONG& n Median ) TF7000 - TF7810 Version: 2.4.0 2233
## Page 2234

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container n Median ULONGLONG& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.2.31 Median Element Elementwise (unsigned char) Gets the element wise median container element. Syntax Definition: HRESULT Median Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, unsigned char& n Median ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container n Median unsigned char& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.2.32 Median Element Elementwise (Tc Vn Vector4_REAL) Gets the element wise median container element. 2234 Version: 2.4.0 TF7000 - TF7810
## Page 2235

API reference Syntax Definition: HRESULT Median Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_REAL& a Median ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Median Tc Vn Vector4_REAL [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.3 Min Element Elementwise This chapter contains functions to determine the min value according to the data type for each element. This function is available for containers with basic elements. For example, with a Tc Vn Point2_DINT, the minimum X-value and the minimum Y-value are determined independently of each other, so the values do not have to come from the same point. 6.2.3.8.3.1 Min Element Elementwise (LONG) Gets the element wise minimum container element. Syntax Definition: HRESULT Min Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, LONG& n Min ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container n Min LONG& Returns the requested element TF7000 - TF7810 Version: 2.4.0 2235
## Page 2236

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.3.2 Min Element Elementwise (SHORT) Gets the element wise minimum container element. Syntax Definition: HRESULT Min Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, SHORT& n Min ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container n Min SHORT& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.3.3 Min Element Elementwise (double) Gets the element wise minimum container element. Syntax Definition: HRESULT Min Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, double& f Min ) 2236 Version: 2.4.0 TF7000 - TF7810
## Page 2237

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container f Min double& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.3.4 Min Element Elementwise (float) Gets the element wise minimum container element. Syntax Definition: HRESULT Min Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, float& f Min ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container f Min float& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.3.5 Min Element Elementwise (char) Gets the element wise minimum container element. TF7000 - TF7810 Version: 2.4.0 2237
## Page 2238

API reference Syntax Definition: HRESULT Min Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, char& n Min ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container n Min char& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.3.6 Min Element Elementwise (Tc Vn Point2_DINT) Gets the element wise minimum container element. Syntax Definition: HRESULT Min Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Point2_DINT& a Min ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Min Tc Vn Point2_DINT [} 1661]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base 2238 Version: 2.4.0 TF7000 - TF7810
## Page 2239

API reference System Requirements 6.2.3.8.3.7 Min Element Elementwise (Tc Vn Point2_LREAL) Gets the element wise minimum container element. Syntax Definition: HRESULT Min Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Point2_LREAL& a Min ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Min Tc Vn Point2_LREAL [} 1661]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.3.8 Min Element Elementwise (Tc Vn Point2_REAL) Gets the element wise minimum container element. Syntax Definition: HRESULT Min Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Point2_REAL& a Min ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Min Tc Vn Point2_REAL [} 1661]& Returns the requested element TF7000 - TF7810 Version: 2.4.0 2239
## Page 2240

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.3.9 Min Element Elementwise (Tc Vn Point3_LREAL) Gets the element wise minimum container element. Syntax Definition: HRESULT Min Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Point3_LREAL& a Min ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Min Tc Vn Point3_LREAL [} 1661]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.3.10 Min Element Elementwise (Tc Vn Point3_REAL) Gets the element wise minimum container element. Syntax Definition: HRESULT Min Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Point3_REAL& a Min ) 2240 Version: 2.4.0 TF7000 - TF7810
## Page 2241

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Min Tc Vn Point3_REAL [} 1661]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.3.11 Min Element Elementwise (Tc Vn Vector2_DINT) Gets the element wise minimum container element. Syntax Definition: HRESULT Min Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_DINT& a Min ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Min Tc Vn Vector2_DINT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.3.12 Min Element Elementwise (Tc Vn Vector2_INT) Gets the element wise minimum container element. TF7000 - TF7810 Version: 2.4.0 2241
## Page 2242

API reference Syntax Definition: HRESULT Min Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_INT& a Min ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Min Tc Vn Vector2_INT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.3.13 Min Element Elementwise (Tc Vn Vector2_REAL) Gets the element wise minimum container element. Syntax Definition: HRESULT Min Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_REAL& a Min ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Min Tc Vn Vector2_REAL [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base 2242 Version: 2.4.0 TF7000 - TF7810
## Page 2243

API reference System Requirements 6.2.3.8.3.14 Min Element Elementwise (Tc Vn Vector2_SINT) Gets the element wise minimum container element. Syntax Definition: HRESULT Min Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_SINT& a Min ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Min Tc Vn Vector2_SINT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.3.15 Min Element Elementwise (Tc Vn Vector2_UINT) Gets the element wise minimum container element. Syntax Definition: HRESULT Min Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_UINT& a Min ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Min Tc Vn Vector2_UINT [} 1663]& Returns the requested element TF7000 - TF7810 Version: 2.4.0 2243
## Page 2244

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.3.16 Min Element Elementwise (Tc Vn Vector2_USINT) Gets the element wise minimum container element. Syntax Definition: HRESULT Min Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector2_USINT& a Min ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Min Tc Vn Vector2_USINT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.3.17 Min Element Elementwise (Tc Vn Vector3_INT) Gets the element wise minimum container element. Syntax Definition: HRESULT Min Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector3_INT& a Min ) 2244 Version: 2.4.0 TF7000 - TF7810
## Page 2245

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Min Tc Vn Vector3_INT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.3.18 Min Element Elementwise (Tc Vn Vector3_REAL) Gets the element wise minimum container element. Syntax Definition: HRESULT Min Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector3_REAL& a Min ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Min Tc Vn Vector3_REAL [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.3.19 Min Element Elementwise (Tc Vn Vector3_SINT) Gets the element wise minimum container element. TF7000 - TF7810 Version: 2.4.0 2245
## Page 2246

API reference Syntax Definition: HRESULT Min Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector3_SINT& a Min ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Min Tc Vn Vector3_SINT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.3.20 Min Element Elementwise (Tc Vn Vector3_UINT) Gets the element wise minimum container element. Syntax Definition: HRESULT Min Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector3_UINT& a Min ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Min Tc Vn Vector3_UINT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base 2246 Version: 2.4.0 TF7000 - TF7810
## Page 2247

API reference System Requirements 6.2.3.8.3.21 Min Element Elementwise (Tc Vn Vector3_USINT) Gets the element wise minimum container element. Syntax Definition: HRESULT Min Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector3_USINT& a Min ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Min Tc Vn Vector3_USINT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.3.22 Min Element Elementwise (Tc Vn Vector4_DINT) Gets the element wise minimum container element. Syntax Definition: HRESULT Min Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_DINT& a Min ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Min Tc Vn Vector4_DINT [} 1663]& Returns the requested element TF7000 - TF7810 Version: 2.4.0 2247
## Page 2248

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.3.23 Min Element Elementwise (Tc Vn Vector4_INT) Gets the element wise minimum container element. Syntax Definition: HRESULT Min Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_INT& a Min ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Min Tc Vn Vector4_INT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.3.24 Min Element Elementwise (Tc Vn Vector4_LREAL) Gets the element wise minimum container element. Syntax Definition: HRESULT Min Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_LREAL& a Min ) 2248 Version: 2.4.0 TF7000 - TF7810
## Page 2249

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Min Tc Vn Vector4_LREAL [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.3.25 Min Element Elementwise (Tc Vn Vector4_SINT) Gets the element wise minimum container element. Syntax Definition: HRESULT Min Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_SINT& a Min ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Min Tc Vn Vector4_SINT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.3.26 Min Element Elementwise (Tc Vn Vector4_UINT) Gets the element wise minimum container element. TF7000 - TF7810 Version: 2.4.0 2249
## Page 2250

API reference Syntax Definition: HRESULT Min Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_UINT& a Min ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Min Tc Vn Vector4_UINT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.3.27 Min Element Elementwise (Tc Vn Vector4_USINT) Gets the element wise minimum container element. Syntax Definition: HRESULT Min Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_USINT& a Min ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Min Tc Vn Vector4_USINT [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base 2250 Version: 2.4.0 TF7000 - TF7810
## Page 2251

API reference System Requirements 6.2.3.8.3.28 Min Element Elementwise (ULONG) Gets the element wise minimum container element. Syntax Definition: HRESULT Min Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, ULONG& n Min ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container n Min ULONG& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.3.29 Min Element Elementwise (USHORT) Gets the element wise minimum container element. Syntax Definition: HRESULT Min Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, USHORT& n Min ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container n Min USHORT& Returns the requested element TF7000 - TF7810 Version: 2.4.0 2251
## Page 2252

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.3.30 Min Element Elementwise (ULONGLONG) Gets the element wise minimum container element. Syntax Definition: HRESULT Min Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, ULONGLONG& n Min ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container n Min ULONGLONG& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.3.31 Min Element Elementwise (unsigned char) Gets the element wise minimum container element. Syntax Definition: HRESULT Min Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, unsigned char& n Min ) 2252 Version: 2.4.0 TF7000 - TF7810
## Page 2253

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container n Min unsigned char& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.3.32 Min Element Elementwise (Tc Vn Vector4_REAL) Gets the element wise minimum container element. Syntax Definition: HRESULT Min Element Elementwise( HRESULT hr Prev, ITc Vn Container* ip Container, Tc Vn Vector4_REAL& a Min ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container ITc Vn Container* [} 1836] Source container a Min Tc Vn Vector4_REAL [} 1663]& Returns the requested element Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.4 Container Average Calculate the average of elements in a container. TF7000 - TF7810 Version: 2.4.0 2253
## Page 2254

API reference Syntax Definition: HRESULT Container Average( HRESULT hr Prev, ITc Vn Container* ip Src Container, double& f Average ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Container ITc Vn Container* [} 1836] Source container (Arithmetic, point and vector element types are supported. For points and vectors, the euclidean norm is used.) f Average double& Returns the calculated average value Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.5 Container Average Elementwise (2) Calculate the elementwise average of 2D elements in a container. Syntax Definition: HRESULT Container Average Elementwise( HRESULT hr Prev, ITc Vn Container* ip Src Container, Tc Vn Vector2_LREAL& a Average ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Container ITc Vn Container* [} 1836] Source container with 2D points or vectors a Average Tc Vn Vector2_LREAL [} 1663]& Returns the calculated average values 2254 Version: 2.4.0 TF7000 - TF7810
## Page 2255

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.6 Container Average Elementwise (3) Calculate the elementwise average of 3D elements in a container. Syntax Definition: HRESULT Container Average Elementwise( HRESULT hr Prev, ITc Vn Container* ip Src Container, Tc Vn Vector3_LREAL& a Average ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Container ITc Vn Container* [} 1836] Source container with 3D points or vectors a Average Tc Vn Vector3_LREAL [} 1663]& Returns the calculated average values Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.7 Container Average Elementwise (4) Calculate the elementwise average of 4D elements in a container. Syntax Definition: HRESULT Container Average Elementwise( HRESULT hr Prev, ITc Vn Container* ip Src Container, Tc Vn Vector4_LREAL& a Average ) TF7000 - TF7810 Version: 2.4.0 2255
## Page 2256

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Container ITc Vn Container* [} 1836] Source container with 4D vectors a Average Tc Vn Vector4_LREAL [} 1663]& Returns the calculated average values Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.8 Container Average Variance Calculate the average and variance of elements in a container. Syntax Definition: HRESULT Container Average Variance( HRESULT hr Prev, ITc Vn Container* ip Src Container, double& f Average, double& f Variance ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Container ITc Vn Container* [} 1836] Source container (Arithmetic, point and vector element types are supported. For points and vectors, the euclidean norm is used.) f Average double& Returns the calculated average value f Variance double& Returns the calculated variance value Return value HRESULT [} 144] Required License TC3 Vision Base 2256 Version: 2.4.0 TF7000 - TF7810
## Page 2257

API reference System Requirements 6.2.3.8.9 Container Average Variance Elementwise (2) Calculate the elementwise average and variance of 2D elements in a container. Syntax Definition: HRESULT Container Average Variance Elementwise( HRESULT hr Prev, ITc Vn Container* ip Src Container, Tc Vn Vector2_LREAL& a Average, Tc Vn Vector2_LREAL& a Variance ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Container ITc Vn Container* [} 1836] Source container with 2D points or vectors a Average Tc Vn Vector2_LREAL [} 1663]& Returns the calculated average values a Variance Tc Vn Vector2_LREAL [} 1663]& Returns the calculated variance values Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.10 Container Average Variance Elementwise (3) Calculate the elementwise average and variance of 3D elements in a container. Syntax Definition: HRESULT Container Average Variance Elementwise( HRESULT hr Prev, ITc Vn Container* ip Src Container, Tc Vn Vector3_LREAL& a Average, Tc Vn Vector3_LREAL& a Variance ) TF7000 - TF7810 Version: 2.4.0 2257
## Page 2258

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Container ITc Vn Container* [} 1836] Source container with 3D points or vectors a Average Tc Vn Vector3_LREAL [} 1663]& Returns the calculated average values a Variance Tc Vn Vector3_LREAL [} 1663]& Returns the calculated variance values Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.11 Container Average Variance Elementwise (4) Calculate the elementwise average and variance of 4D elements in a container. Syntax Definition: HRESULT Container Average Variance Elementwise( HRESULT hr Prev, ITc Vn Container* ip Src Container, Tc Vn Vector4_LREAL& a Average, Tc Vn Vector4_LREAL& a Variance ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Container ITc Vn Container* [} 1836] Source container with 4D vectors a Average Tc Vn Vector4_LREAL [} 1663]& Returns the calculated average values a Variance Tc Vn Vector4_LREAL [} 1663]& Returns the calculated variance values Return value HRESULT [} 144] Required License TC3 Vision Base 2258 Version: 2.4.0 TF7000 - TF7810
## Page 2259

API reference System Requirements 6.2.3.8.12 Max Element Gets the maximum element of a container. Syntax Definition: HRESULT Max Element( HRESULT hr Prev, ITc Vn Container* ip Src Container, ITc Vn Bidirectional Iterator*& ip Dest Iterator, ULONGLONG& n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Container ITc Vn Container* [} 1836] Source container (Arithmetic, point and vector element types are supported. For points and vectors, the euclidean norm is used.) ip Dest Iterator ITc Vn Bidirectional Iterator* Returns an iterator to the requested element [} 1827]& n Index ULONGLONG& Returns the position of the requested element within the container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.13 Median Element Gets the median element of a container. Syntax Definition: HRESULT Median Element( HRESULT hr Prev, ITc Vn Container* ip Src Container, ITc Vn Bidirectional Iterator*& ip Dest Iterator, ULONGLONG& n Index ) TF7000 - TF7810 Version: 2.4.0 2259
## Page 2260

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Container ITc Vn Container* [} 1836] Source container (Arithmetic, point and vector element types are supported. For points and vectors, the euclidean norm is used.) ip Dest Iterator ITc Vn Bidirectional Iterator* Returns an iterator to the requested element [} 1827]& n Index ULONGLONG& Returns the position of the requested element within the container Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.8.14 Min Element Gets the minimum element of a container. Syntax Definition: HRESULT Min Element( HRESULT hr Prev, ITc Vn Container* ip Src Container, ITc Vn Bidirectional Iterator*& ip Dest Iterator, ULONGLONG& n Index ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Container ITc Vn Container* [} 1836] Source container (Arithmetic, point and vector element types are supported. For points and vectors, the euclidean norm is used.) ip Dest Iterator ITc Vn Bidirectional Iterator* Returns an iterator to the requested element [} 1827]& n Index ULONGLONG& Returns the position of the requested element within the container 2260 Version: 2.4.0 TF7000 - TF7810
## Page 2261

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.9 Contour Analysis The group contains functions for the analysis of contours: Functions Shape approximation • Approximate Polygon [} 2262] • Convex Hull Points [} 2273] • Enclosing Circle [} 2276] • Enclosing Rectangle [} 2276] • Enclosing Triangle [} 2277] • Fit Ellipse [} 2278] • Fit Line [} 2278] • Upright Bounding Rectangle [} 2285] Points • Check If Point Is Inside Contour [} 2262] • Contour Extreme Point [} 2268] • Convexity Defects [} 2274] Geometrical features • Contour Area [} 2263] • Contour Center Of Mass [} 2264] • Contour Circularity [} 2265] • Contour Convexity [} 2266] • Contour Eccentricity [} 2266] • Contour Elongation [} 2267] • Contour Inertia Ratio [} 2268] • Contour Moments [} 2269] • Contour Orientation [} 2270] • Contour Perimeter [} 2271] • Contour Roundness [} 2272] • Fourier Descriptors [} 2280] Matching • Match Contours [} 2281] • Match Contours1vs N [} 2283] TF7000 - TF7810 Version: 2.4.0 2261
## Page 2262

API reference User-defined operations • Custom Element Wise Container Operation_ITc Vn Container [} 2274] • Custom Element Wise Container Operation_ITc Vn Forward Iterator [} 2275] 6.2.3.9.1 Approximate Polygon Approximate a contour to a simplified polygon (using the Douglas-Peucker algorithm). Syntax Definition: HRESULT Approximate Polygon( HRESULT hr Prev, ITc Vn Container* ip Src Contour, ITc Vn Container*& ip Dest Contour, double f Max Dist, bool b Closed ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Contour ITc Vn Container* [} 1836] Single contour (Container Type_Vector_Tc Vn Point 2_DINT or Container Type_Vector_Tc Vn Point2 _REAL; The elements of this container are the points of the contour.) ip Dest Contour ITc Vn Container* [} 1836]& Returns a container which is filled with the approximated polygon points (same type ID as ip Src Contour; Non-zero interface pointers are reused.) f Max Dist double Maximum distance between the original contour and its approximation b Closed bool Specify, if the contour is closed (first and last points connected) or not Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.9.2 Check If Point Is Inside Contour Checks if a point is inside a contour (and optionally return the distance to it). 2262 Version: 2.4.0 TF7000 - TF7810
## Page 2263

API reference Syntax Definition: HRESULT Check If Point Is Inside Contour( HRESULT hr Prev, ITc Vn Container* ip Contour, Tc Vn Point2_REAL& a Point, double& f Dist, bool b Measure Distance ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Contour ITc Vn Container* [} 1836] Single contour (Container Type_Vector_Tc Vn Point 2_DINT or Container Type_Vector_Tc Vn Point2 _REAL) a Point Tc Vn Point2_REAL [} 1661]& Point position to check f Dist double& Returns the result (> 0: the point is inside the contour; 0: the point is on the contour; < 0: the point is outside the contour) b Measure Distance bool If true, f Dist returns the distance to the nearest contour edge. Otherwise, f Dist only returns -1, 0 or +1 (recommended to set to false if the distance is not required, as this is faster). Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.9.3 Contour Area Estimate the contour area using Green's formula. Syntax Definition: HRESULT Contour Area( HRESULT hr Prev, ITc Vn Container* ip Contour, double& f Area ) TF7000 - TF7810 Version: 2.4.0 2263
## Page 2264

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Contour ITc Vn Container* [} 1836] Single contour (Container Type_Vector_Tc Vn Point 2_DINT or Container Type_Vector_Tc Vn Point2 _REAL; The elements of this container are the points of the contour.) f Area double& Returns the estimated contour area (The actual contour area may differ depending on the shape of the contour.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.9.4 Contour Center Of Mass Computes the center of mass of a contour. Syntax Definition: HRESULT Contour Center Of Mass( HRESULT hr Prev, ITc Vn Container* ip Contour, Tc Vn Point2_LREAL& a Center Of Mass ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Contour ITc Vn Container* [} 1836] Single contour (Container Type_Vector_Tc Vn Point 2_DINT or Container Type_Vector_Tc Vn Point2 _REAL; The elements of this container are the points of the contour.) a Center Of Mass Tc Vn Point2_LREAL [} 1661]& Returns the center of mass of the contour 2264 Version: 2.4.0 TF7000 - TF7810
## Page 2265

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.9.5 Contour Circularity Computes the circularity of a contour (1.0: ideal circle, 0.0: straight line). Syntax Definition: HRESULT Contour Circularity( HRESULT hr Prev, ITc Vn Container* ip Contour, double& f Circularity, ETc Vn Circularity Calculation Method e Method = CCM_DEFAULT ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Contour ITc Vn Container* [} 1836] Single contour (Container Type_Vector_T c Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL; The elements of this container are the points of the contour.) f Circularity double& Returns the circularity of the contour [0..1] e Method CCM_DEFAULT Method used for ETc Vn Circularity Calculatio computing the circularity n Method [} 1712] Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 2265
## Page 2266

API reference System Requirements 6.2.3.9.6 Contour Convexity Computes the convexity of a contour as the ratio between the contour's area and the area of the convex hull (1.0: convex shapes (i.e. rectangle, circle, ..., etc.), 0.0: zero area (i.e. a line or an empty contour)). Syntax Definition: HRESULT Contour Convexity( HRESULT hr Prev, ITc Vn Container* ip Contour, double& f Convexity ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Contour ITc Vn Container* [} 1836] Single contour (Container Type_Vector_Tc Vn Point 2_DINT or Container Type_Vector_Tc Vn Point2 _REAL; The elements of this container are the points of the contour.) f Convexity double& Returns the convexity of the contour [0..1] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.9.7 Contour Eccentricity Computes the eccentricity of a contour (0.0: circular, 1.0: linear). Syntax Definition: HRESULT Contour Eccentricity( HRESULT hr Prev, ITc Vn Container* ip Contour, double& f Eccentricity ) 2266 Version: 2.4.0 TF7000 - TF7810
## Page 2267

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Contour ITc Vn Container* [} 1836] Single contour (Container Type_Vector_Tc Vn Point 2_DINT or Container Type_Vector_Tc Vn Point2 _REAL; The elements of this container are the points of the contour.) f Eccentricity double& Returns the eccentricity of the contour [0..1] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.9.8 Contour Elongation Computes the elongation factor of a contour. Syntax Definition: HRESULT Contour Elongation( HRESULT hr Prev, ITc Vn Container* ip Contour, double& f Elongation ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Contour ITc Vn Container* [} 1836] Single contour (Container Type_Vector_Tc Vn Point 2_DINT or Container Type_Vector_Tc Vn Point2 _REAL; The elements of this container are the points of the contour.) f Elongation double& Returns the elongation of the contour TF7000 - TF7810 Version: 2.4.0 2267
## Page 2268

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.9.9 Contour Extreme Point Finds the contour extreme point. Syntax Definition: HRESULT Contour Extreme Point( HRESULT hr Prev, ITc Vn Container* ip Contour, ETc Vn Extreme Point Direction e Direction, Tc Vn Point2_LREAL& a Extreme Point ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Contour ITc Vn Container* [} 1836] Source container with 2D points (Tc Vn Point2_DINT or Tc Vn Point2_REAL or Tc Vn Point2_LREAL) e Direction ETc Vn Extreme Point Direction Selects the search direction for the extreme point [} 1690] a Extreme Point Tc Vn Point2_LREAL [} 1661]& Returns the extreme point of the contour, according to e Direction Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.9.10 Contour Inertia Ratio Computes the inertia ratio of a contour which reflects how a contour/shape is elongated (i.e. circle: 1.0, line: 0.0). Syntax Definition: 2268 Version: 2.4.0 TF7000 - TF7810
## Page 2269

API reference HRESULT Contour Inertia Ratio( HRESULT hr Prev, ITc Vn Container* ip Contour, double& f Inertia Ratio ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Contour ITc Vn Container* [} 1836] Single contour (Container Type_Vector_Tc Vn Point 2_DINT or Container Type_Vector_Tc Vn Point2 _REAL; The elements of this container are the points of the contour.) f Inertia Ratio double& Returns the inertia raio of the contour [0..1] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.9.11 Contour Moments Computes the spatial moments, the central moments, and the central normalized moments of a contour up to the third order. Syntax Definition: HRESULT Contour Moments( HRESULT hr Prev, ITc Vn Container* ip Contour, Tc Vn Moments& st Moments ) TF7000 - TF7810 Version: 2.4.0 2269
## Page 2270

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Contour ITc Vn Container* [} 1836] Single contour (Container Type_Vector_Tc Vn Point 2_DINT or Container Type_Vector_Tc Vn Point2 _REAL; The elements of this container are the points of the contour.) st Moments Tc Vn Moments [} 1720]& Returns a struct containing the moments Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.9.12 Contour Orientation Calculate the orientation of a contour or a set of points. Syntax Definition: HRESULT Contour Orientation( HRESULT hr Prev, ITc Vn Container* ip Contour, Tc Vn Rotated Rectangle& st Orientation, ETc Vn Orientation Method e Method = OM_PCA ) 2270 Version: 2.4.0 TF7000 - TF7810
## Page 2271

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Contour ITc Vn Container* [} 1836] Source point set (Container Type_Vector_T c Vn Point2_DINT, Container Type_Vector_Tc Vn Point2_REAL, or Container Type_Vector_Tc Vn Point2_LREAL. The elements of this container are the individual points.) st Orientation Tc Vn Rotated Rectangle Resulting rotated rectangle, containig center [} 1733]& of mass, lenghts of axes, and rotation angle of the contour in clockwise direction. e Method ETc Vn Orientation Method OM_PCA Method for calculating the orientation. [} 1699] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.9.13 Contour Perimeter Computes the perimeter of a contour (curve length if the contour is not closed). Syntax Definition: HRESULT Contour Perimeter( HRESULT hr Prev, ITc Vn Container* ip Contour, double& f Perimeter, bool b Closed ) TF7000 - TF7810 Version: 2.4.0 2271
## Page 2272

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Contour ITc Vn Container* [} 1836] Single contour (Container Type_Vector_Tc Vn Point 2_DINT or Container Type_Vector_Tc Vn Point2 _REAL; The elements of this container are the points of the contour.) f Perimeter double& Returns the perimeter of the contour b Closed bool Specifys, if the contour is closed (first and last points connected) or not Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.9.14 Contour Roundness Computes the roundness of a contour (perimeter^2 / area). Syntax Definition: HRESULT Contour Roundness( HRESULT hr Prev, ITc Vn Container* ip Contour, double& f Roundness ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Contour ITc Vn Container* [} 1836] Single contour (Container Type_Vector_Tc Vn Point 2_DINT or Container Type_Vector_Tc Vn Point2 _REAL; The elements of this container are the points of the contour.) f Roundness double& Returns the roundness of the contour 2272 Version: 2.4.0 TF7000 - TF7810
## Page 2273

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.9.15 Convex Hull Points Determines the convex hull of a point set. Syntax Definition: HRESULT Convex Hull Points( HRESULT hr Prev, ITc Vn Container* ip Point Set, ITc Vn Container*& ip Convex Hull, bool b Clockwise = false ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Point Set ITc Vn Container* [} 1836] Source point set (Container Type_Vector_T c Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL; The elements of this container are the individual points.) ip Convex Hull ITc Vn Container* [} 1836]& Returns a container which is filled with the sorted convex hull points (same type ID as ip Point Set; Non-zero interface pointers are reused.) b Clockwise bool false Selects the sorting direction of the hull points, assuming cartesian coordinates. Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 2273
## Page 2274

API reference System Requirements 6.2.3.9.16 Convexity Defects Finds the convexity defects of a point set. Syntax Definition: HRESULT Convexity Defects( HRESULT hr Prev, ITc Vn Container* ip Contour, ITc Vn Container*& ip Convexity Defects ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Contour ITc Vn Container* [} 1836] Source contour (Container Type_Vector_Tc Vn Point 2_DINT; The elements of this container are the individual points.) ip Convexity Defects ITc Vn Container* [} 1836]& Returns a container which is filled with the convexity defects (Container Type_Vector_Tc Vn Vect or4_DINT with [start Index, end Index, furthest Point Index, fixed Point Distance (8 fraction bits, i.e. divide by 256 to get the distance in pixels)]; Non-zero interface pointers are reused.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.9.17 Custom Element Wise Container Operation (ITc Vn Container*) Performs a custom, element wise operation on a set of up to 3 containers. Syntax Definition: HRESULT Custom Element Wise Container Operation( HRESULT hr Prev, ITc Vn Container* ip Container1, ITc Vn Container* ip Container2, ITc Vn Container* ip Container3, ITc Vn Custom Container Operation_ITc Vn Container* ip Operation FB ) 2274 Version: 2.4.0 TF7000 - TF7810
## Page 2275

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container1 ITc Vn Container* [} 1836] Container 1 ip Container2 ITc Vn Container* [} 1836] Container 2 ip Container3 ITc Vn Container* [} 1836] Container 3 ip Operation FB Custom operation on the container ITc Vn Custom Container Operation_I elements Tc Vn Container* [} 1734] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.9.18 Custom Element Wise Container Operation (ITc Vn Forward Iterator*) Performs a custom, element wise operation on a set of up to 3 containers. Syntax Definition: HRESULT Custom Element Wise Container Operation( HRESULT hr Prev, ITc Vn Container* ip Container1, ITc Vn Container* ip Container2, ITc Vn Container* ip Container3, ITc Vn Custom Container Operation_ITc Vn Forward Iterator* ip Operation FB ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Container1 ITc Vn Container* [} 1836] Container 1 ip Container2 ITc Vn Container* [} 1836] Container 2 ip Container3 ITc Vn Container* [} 1836] Container 3 ip Operation FB Custom operation on the elements ITc Vn Custom Container Operation_I Tc Vn Forward Iterator* [} 1735] Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 2275
## Page 2276

API reference Required License TC3 Vision Base System Requirements 6.2.3.9.19 Enclosing Circle Searchs for a minimum area circle enclosing a set of points. Syntax Definition: HRESULT Enclosing Circle( HRESULT hr Prev, ITc Vn Container* ip Point Set, Tc Vn Point2_REAL& a Center, float& f Radius ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Point Set ITc Vn Container* [} 1836] Source point set (Container Type_Vector_Tc Vn Point 2_DINT or Container Type_Vector_Tc Vn Point2 _REAL; The elements of this container are the individual points.) a Center Tc Vn Point2_REAL [} 1661]& Returns the center of the circle f Radius float& Returns the radius of the circle Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.9.20 Enclosing Rectangle Searches for a minimum area rectangle enclosing a set of points. Syntax Definition: HRESULT Enclosing Rectangle( HRESULT hr Prev, ITc Vn Container* ip Point Set, Tc Vn Rotated Rectangle& st Rectangle ) 2276 Version: 2.4.0 TF7000 - TF7810
## Page 2277

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Point Set ITc Vn Container* [} 1836] Source point set (Container Type_Vector_Tc Vn Point 2_DINT or Container Type_Vector_Tc Vn Point2 _REAL; The elements of this container are the individual points.) st Rectangle Tc Vn Rotated Rectangle [} 1733]& Returns the determined rectangle Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.9.21 Enclosing Triangle Searches for a minimum area triangle enclosing a set of points. Syntax Definition: HRESULT Enclosing Triangle( HRESULT hr Prev, ITc Vn Container* ip Point Set, Tc Vn Array3_Point2_REAL& a Triangle Vertices, double& f Area ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Point Set ITc Vn Container* [} 1836] Source point set (Container Type_Vector_Tc Vn Point 2_DINT or Container Type_Vector_Tc Vn Point2 _REAL; The elements of this container are the individual points.) a Triangle Vertices Tc Vn Array3_Point2_REAL [} 1663]& Returns the 3 triangle vertices f Area double& Returns the triangle area Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 2277
## Page 2278

API reference Required License TC3 Vision Base System Requirements 6.2.3.9.22 Fit Ellipse Fit an ellipse in a point set. Syntax Definition: HRESULT Fit Ellipse( HRESULT hr Prev, ITc Vn Container* ip Point Set, Tc Vn Rotated Rectangle& st Ellipse ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Point Set ITc Vn Container* [} 1836] Source point set (Container Type_Vector_Tc Vn Point 2_DINT or Container Type_Vector_Tc Vn Point2 _REAL; At least 5 reasonable points are required! The elements of this container are the individual points.) st Ellipse Tc Vn Rotated Rectangle [} 1733]& Resulting ellipse, described by a rotated rectangle. Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.9.23 Fit Line Fit a line into a point set. Syntax Definition: HRESULT Fit Line( HRESULT hr Prev, ITc Vn Container* ip Point Set, Tc Vn Vector4_LREAL& a Fit Line, ETc Vn Distance Type e Distance Type = DT_L2, double f Param = 0, 2278 Version: 2.4.0 TF7000 - TF7810
## Page 2279

API reference double f Eps Radius = 0.001, double f Eps Angle = 0.001 ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Point Set ITc Vn Container* [} 1836] Source point set (Container Type_Vector_T c Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL; The elements of this container are the individual points.) a Fit Line Tc Vn Vector4_LREAL Resulting line. The first and second element [} 1663]& describe the x and y component of a vector collinear to the line. The third and fourth element describe the x and y component of a point on the line. e Distance Type ETc Vn Distance Type DT_L2 Distance computation method (supported: L1, [} 1686] L2, L12, FAIR, WELSCH, HUBER) f Param double 0 Numerical parameter (c) for some e Distance Type (should be >= 0). If 0, an optimal value is chosen internally. f Eps Radius double 0.001 Accuracy of the radius (distance of the line from the coordinate origin, should be > 0). A smaller value means higher accuracy. f Eps Angle double 0.001 Accuracy of the angle (should be > 0). A smaller value means higher accuracy. Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 2279
## Page 2280

API reference System Requirements 6.2.3.9.24 Fourier Descriptors Computes the fourier descriptors for a closed contour. Syntax Definition: HRESULT Fourier Descriptors( HRESULT hr Prev, ITc Vn Container* ip Contour, ITc Vn Container*& ip Descriptors, LONG n Descriptors ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Contour ITc Vn Container* [} 1836] Closed contour (Container Type_Vector_Tc Vn Point 2_DINT or Container Type_Vector_Tc Vn Point2 _REAL or Container Type_Vector_Tc Vn Point2 _LREAL. Providing the full contour is strongly recommended, i.e. use TCVN_CAM_NONE for contour detection algorithms.) ip Descriptors ITc Vn Container* [} 1836]& Returns the fourier descriptors for ip Contour (Re0, Im0, Re1, Im1, ...; Container Type_Vector_LREAL if ip Contour is of type Container Type_Vector_Tc Vn Point2 _LREAL, else Container Type_Vector_REAL.) n Descriptors LONG Specifies how many descriptors should be returned (set to -1 to return all computed descriptors, i.e. at least as many as the number of contour points) Return value HRESULT [} 144] Required License TC3 Vision Base 2280 Version: 2.4.0 TF7000 - TF7810
## Page 2281

API reference System Requirements 6.2.3.9.25 Match Contours Compare contours using the Hu moment invariants (and optionally further aspects). In case of multiple contours in each container, the best matches are found and the average dissimilarity over all matched contours is returned. Syntax Definition: HRESULT Match Contours( HRESULT hr Prev, ITc Vn Container* ip Contour1, ITc Vn Container* ip Contour2, ETc Vn Contours Match Comparison Method e Comparison Method, double& f Dissimilarity, double f Area Factor = 0, double f Abs Position Factor = 0, double f Rel Position Factor = 0, double f Num Diff Factor = 0 ) TF7000 - TF7810 Version: 2.4.0 2281
## Page 2282

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Contour1 ITc Vn Container* [} 1836] First contour (Container Type_Vector_T c Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL; The elements of this container are the points of the contour) or collection of multiple contours (Container Type_Vector_V ector_Tc Vn Point2_DINT) ip Contour2 ITc Vn Container* [} 1836] Second contour (same type as ip Contour1) e Comparison Method Method used for ETc Vn Contours Match Com comparing the Hu moment invariants of the parison Method [} 1684] contours f Dissimilarity double& Returns the dissimilarity of the contours depending on the chosen comparison method f Area Factor double 0 If > 0, the relative area difference between contours is scaled by this factor and added to the computed dissimilarity f Abs Position Factor double 0 If > 0, the absolute position difference between contours (i.e. the coordinates of the geometric contour centers) is scaled by this factor and added to the computed dissimilarity f Rel Position Factor double 0 If > 0, the relative position difference between contours is scaled by this factor and added to the computed dissimilarity (only used if matching multiple contours) f Num Diff Factor double 0 If > 0, the difference between the number of contours in both containers is scaled by this factor and added to the computed dissimilarity (only used if matching multiple contours) 2282 Version: 2.4.0 TF7000 - TF7810
## Page 2283

API reference Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.2.3.9.26 Match Contours1vs N Compare a reference contour with multiple other contours using the Hu moment invariants (and optionally further aspects). Returns a sorted list of best matches. Syntax Definition: HRESULT Match Contours1vs N( HRESULT hr Prev, ITc Vn Container* ip Ref Contour, ITc Vn Container* ip Contours, ITc Vn Container*& ip Match Indexes, ITc Vn Container*& ip Dissimilarities, double f Dissimilarity Threshold, ETc Vn Contours Match Comparison Method e Comparison Method, double f Area Factor = 0, double f Abs Position Factor = 0 ) TF7000 - TF7810 Version: 2.4.0 2283
## Page 2284

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Ref Contour ITc Vn Container* [} 1836] Reference contour (Container Type_Vector_T c Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL; The elements of this container are the points of the contour) ip Contours ITc Vn Container* [} 1836] Collection of multiple contours (CTc Vn Container_Vector_ Vector_Tc Vn Point2_DINT ) ip Match Indexes ITc Vn Container* [} 1836]& Returns the indexes of the best matches (CTc Vn Container_Vector_ ULINT; sorted, first element is best match, i.e. has lowest dissimilarity) ip Dissimilarities ITc Vn Container* [} 1836]& Returns the computed dissimilarities of the best matches (CTc Vn Container_Vector_ LREAL; Optional, set to 0 if not required; sorted corresponding to ip Match Indexes) f Dissimilarity Threshold double Neglect irrelevant matches, i.e. dissimilarity > f Dissimilarity Threshold e Comparison Method Method used for ETc Vn Contours Match Com comparing the Hu moment invariants of the parison Method [} 1684] contours f Area Factor double 0 If > 0, the relative area difference between contours is scaled by this factor and added to the computed dissimilarity f Abs Position Factor double 0 If > 0, the absolute position difference between contours (i.e. the coordinates of the geometric contour centers) is scaled by this factor and added to the computed dissimilarity Return value HRESULT [} 144] 2284 Version: 2.4.0 TF7000 - TF7810
## Page 2285

API reference Required License TC3 Vision Matching System Requirements 6.2.3.9.27 Upright Bounding Rectangle Determines the upright bounding rectangle of a set of points. Syntax Definition: HRESULT Upright Bounding Rectangle( HRESULT hr Prev, ITc Vn Container* ip Point Set, Tc Vn Rectangle_UDINT& st Rectangle ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Point Set ITc Vn Container* [} 1836] Source point set (Container Type_Vector_Tc Vn Point 2_DINT or Container Type_Vector_Tc Vn Point2 _REAL; The elements of this container are the individual points.) st Rectangle Tc Vn Rectangle_UDINT [} 1733]& Returns the determined rectangle Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.10 Control Functions This group contains functions for sequential control, e.g. for the handling of watchdogs [} 149]. Functions Watchdogs • Start Abs Watchdog [} 2285] • Start Rel Watchdog [} 2286] • Stop Watchdog [} 2287] 6.2.3.10.1 Start Abs Watchdog Start a cooperative watchdog given an absolute stop time. TF7000 - TF7810 Version: 2.4.0 2285
## Page 2286

API reference Syntax Definition: HRESULT Start Abs Watchdog( HRESULT hr Prev, LONG t Stop, ETc Watchdog Accumulation Type e Watchdog Acc Type = WD_ACC_TYPE_PRODUCT ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) t Stop LONG Stop time in us e Watchdog Acc Type WD_ACC_TYPE_PRODU Accumalation method ETc Watchdog Accumulatio CT used for combining the results of multiple n Type [} 1709] functions enclosed by this watchdog Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.10.2 Start Rel Watchdog Start a cooperative watchdog given a stop time relative to the current time. Syntax Definition: HRESULT Start Rel Watchdog( HRESULT hr Prev, LONG t Stop, ETc Watchdog Accumulation Type e Watchdog Acc Type = WD_ACC_TYPE_PRODUCT ) 2286 Version: 2.4.0 TF7000 - TF7810
## Page 2287

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) t Stop LONG Stop time in us e Watchdog Acc Type WD_ACC_TYPE_PRODU Accumalation method ETc Watchdog Accumulatio CT used for combining the results of multiple n Type [} 1709] functions enclosed by this watchdog Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.10.3 Stop Watchdog Stops a watchdog and provide runtime information. Syntax Definition: HRESULT Stop Watchdog( HRESULT hr Start Watchdog, ULONGLONG& n Functions Monitored, ULONG& n Fraction Processed, LONG& t Rest ) Parameters Name Type Description hr Start Watchdog HRESULT [} 144] HRESULT indicating the result of the function used to start the watchdog (If SUCCEEDED(hr Start Watchdog) equals false, no operation is executed.) n Functions Monitored ULONGLONG& Returns the number of functions monitored n Fraction Processed ULONG& Returns the fraction processed accumulated over the monitored functions in percent t Rest LONG& Returns the remaining computation time in us (may be negative) TF7000 - TF7810 Version: 2.4.0 2287
## Page 2288

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.11 Drawing This group contains functions for painting and describing images. Handling 4-channel colors 4-channel colors are accepted directly into the result image. No alpha blending or similar takes place. Functions Arrow • Draw Arrow [} 2289] • Draw Arrow_Tc Vn Vector4_DINT [} 2290] Circles and Arcs • Draw Circle [} 2291] • Draw Circles [} 2292] • Draw Circular Arc [} 2293] • Fill Circle [} 2312] Components • Draw Components [} 2294] Contours • Draw Contours [} 2295] • Fill Contours [} 2313] Ellipse • Draw Ellipse [} 2296] • Fill Ellipse [} 2314] Keypoints and Matches • Draw Keypoints [} 2297] • Draw Matches [} 2302] Lines • Draw Line [} 2298] • Draw Lines [} 2301] • Draw Line_Tc Vn Vector4_DINT [} 2299] • Draw Line_Tc Vn Vector4_LREAL [} 2300] Orientation 2288 Version: 2.4.0 TF7000 - TF7810
## Page 2289

API reference • Draw Orientation(Exp) [} 2305] Points • Draw Point [} 2306] • Draw Points [} 2307] Polygon • Draw Polygon [} 2308] • Fill Polygon [} 2314] Rectangle • Draw Rectangle [} 2309] • Draw Rectangle_Tc Vn Rectangle_DINT [} 2310] • Draw Rectangle_Tc Vn Rectangle_UDINT [} 2311] • Draw Rotated Rectangle [} 2311] • Fill Rectangle [} 2315] • Fill Rotated Rectangle [} 2316] Intensity Profile • Plot Intensity Profile [} 2316] Text • Put Label [} 2318] • Put Text [} 2318] Painting and filling For many shapes there is an option to paint both the outline of the shape and the filled shape. Two function groups are available for this purpose (Draw... and Fill...). In addition, setting the outline thickness n Thickness to -1 leads to the shape being filled. 6.2.3.11.1 Draw Arrow Draws an arrowed line. Syntax Definition: HRESULT Draw Arrow( HRESULT hr Prev, ULONG n X1, ULONG n Y1, ULONG n X2, ULONG n Y2, ITc Vn Image* ip Dest Image, Tc Vn Vector4_LREAL& a Color, LONG n Thickness, bool b Double Head, ETc Vn Line Type e Line Type = LT_8_CONNECTED, ULONG n Shift = 0, double f Tip Lenght = 0.1 ) TF7000 - TF7810 Version: 2.4.0 2289
## Page 2290

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n X1 ULONG x coordinate of the start point n Y1 ULONG y coordinate of the start point n X2 ULONG x coordinate of the end point n Y2 ULONG y coordinate of the end point ip Dest Image ITc Vn Image* [} 1870] Destination image a Color Tc Vn Vector4_LREAL Color [} 1663]& n Thickness LONG Line thickness b Double Head bool To draw an arrow on each side of the line. e Line Type ETc Vn Line Type [} 1696] LT_8_CONNECTED Line type n Shift ULONG 0 Fractional bits of the coordinates (bit shift) f Tip Lenght double 0.1 Lenght of the arrow's tip as a fraction of the line's lenght Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.11.2 Draw Arrow (Tc Vn Vector4_DINT) Draws an arrowed line. Syntax Definition: HRESULT Draw Arrow( HRESULT hr Prev, Tc Vn Vector4_DINT& a Line, ITc Vn Image* ip Dest Image, Tc Vn Vector4_LREAL& a Color, LONG n Thickness, bool b Double Head, ETc Vn Line Type e Line Type = LT_8_CONNECTED, ULONG n Shift = 0, double f Tip Lenght = 0.1 ) 2290 Version: 2.4.0 TF7000 - TF7810
## Page 2291

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Line Tc Vn Vector4_DINT The start and end point of a line segment [x1, y1, x2, [} 1663]& y2] ip Dest Image ITc Vn Image* [} 1870] Destination image a Color Tc Vn Vector4_LREAL Color [} 1663]& n Thickness LONG Line thickness b Double Head bool To draw an arrow on each side of the line. e Line Type ETc Vn Line Type [} 1696] LT_8_CONNECTED Line type n Shift ULONG 0 Fractional bits of the coordinates (bit shift) f Tip Lenght double 0.1 Lenght of the arrow's tip as a fraction of the line's lenght Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.11.3 Draw Circle Draws a circle. Syntax Definition: HRESULT Draw Circle( HRESULT hr Prev, ULONG n Center X, ULONG n Center Y, ULONG n Radius, ITc Vn Image* ip Dest Image, Tc Vn Vector4_LREAL& a Color, LONG n Thickness, ETc Vn Line Type e Line Type = LT_8_CONNECTED ) TF7000 - TF7810 Version: 2.4.0 2291
## Page 2292

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n Center X ULONG x coordinate of the center n Center Y ULONG y coordinate of the center n Radius ULONG Radius ip Dest Image ITc Vn Image* [} 1870] Destination image a Color Tc Vn Vector4_LREAL Color [} 1663]& n Thickness LONG Line thickness (if negative, the circle is filled) e Line Type ETc Vn Line Type [} 1696] LT_8_CONNECTED Line type Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.11.4 Draw Circles Draws circles. Syntax Definition: HRESULT Draw Circles( HRESULT hr Prev, ITc Vn Container* ip Circles, LONG n Circle Index, ITc Vn Image* ip Dest Image, Tc Vn Vector4_LREAL& a Color, LONG n Thickness, ETc Vn Line Type e Line Type = LT_8_CONNECTED ) 2292 Version: 2.4.0 TF7000 - TF7810
## Page 2293

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Circles ITc Vn Container* [} 1836] Container with circles (Container Type_Vector_T c Vn Vector3_REAL; Each container element contains the x coordinate of the circle center [0], the y coordinate of the circle center [1], and the radius [2].) n Circle Index LONG Index of a specific circle to be drawn (if negative, all circles within the container are drawn) ip Dest Image ITc Vn Image* [} 1870] Destination image a Color Tc Vn Vector4_LREAL Color [} 1663]& n Thickness LONG Line thickness (if negative, the circle is filled) e Line Type ETc Vn Line Type [} 1696] LT_8_CONNECTED Line type Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.11.5 Draw Circular Arc Draws a circular arc. Syntax Definition: HRESULT Draw Circular Arc( HRESULT hr Prev, Tc Vn Circular Arc& st Circular Arc, ITc Vn Image* ip Dest Image, Tc Vn Vector4_LREAL& a Color, LONG n Thickness, ETc Vn Line Type e Line Type = LT_8_CONNECTED ) TF7000 - TF7810 Version: 2.4.0 2293
## Page 2294

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) st Circular Arc Tc Vn Circular Arc [} 1716]& Circular arc definition ip Dest Image ITc Vn Image* [} 1870] Destination image a Color Tc Vn Vector4_LREAL Color [} 1663]& n Thickness LONG Line thickness (if negative, the arc is filled) e Line Type ETc Vn Line Type [} 1696] LT_8_CONNECTED Line type Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.11.6 Draw Components Draw the results of connected component function. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Draw Components( HRESULT hr Prev, ITc Vn Image* ip Label Image, LONG n Label ID, ITc Vn Image*& ip Dest Image, bool b Show Label ID, Tc Vn Vector4_LREAL& a Color = {-1, -1, -1, -1}, LONG n Thickness = 1, double f Font Scale = 1 ) 2294 Version: 2.4.0 TF7000 - TF7810
## Page 2295

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Label Image ITc Vn Image* [} 1870] Image contains labels for each pixel (1 channel DINT or UINT). n Label ID LONG Value of a specific label to be drawn (if negative, all components within the image are drawn) ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate image will be created if required. The output image is 1 or 3 channels USINT). b Show Label ID bool Show lable ID in the center of the component on the destination image a Color Tc Vn Vector4_LREAL {-1, -1, -1, -1} Color to draw the components (for {-1, -1, [} 1663]& -1, -1}, a random color is chosen for each component) n Thickness LONG 1 Text line thickness f Font Scale double 1 Scaling factor for the text Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.11.7 Draw Contours Draws a single point set or multiple point sets that are interpreted as contours. Syntax Definition: HRESULT Draw Contours( HRESULT hr Prev, ITc Vn Container* ip Contours, LONG n Contour Index, ITc Vn Image* ip Dest Image, Tc Vn Vector4_LREAL& a Color, LONG n Thickness, ETc Vn Line Type e Line Type = LT_8_CONNECTED, ITc Vn Container* ip Hierarchy = nullptr, LONG n Max Level = 2147483647, Tc Vn Point& a Offset = {0, 0} ) TF7000 - TF7810 Version: 2.4.0 2295
## Page 2296

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Contours ITc Vn Container* [} 1836] Single contour (Container Type_Vector_T c Vn Point2_DINT) or multiple contours (Container Type_Vector_V ector_Tc Vn Point2_DINT) n Contour Index LONG Index of a specific contour to be drawn (if negative, all contours within the container are drawn) ip Dest Image ITc Vn Image* [} 1870] Destination image a Color Tc Vn Vector4_LREAL Color [} 1663]& n Thickness LONG Line thickness (if negative, the contours are filled) e Line Type ETc Vn Line Type [} 1696] LT_8_CONNECTED Line type ip Hierarchy ITc Vn Container* [} 1836] nullptr Contour hierarchy (Container Type_Vector_T c Vn Vector4_DINT) n Max Level LONG 2147483647 Maximum level of contours to be drawn a Offset Tc Vn Point [} 1661]& {0, 0} Offset by which every contour point is shifted Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.11.8 Draw Ellipse Draws an ellipse. Syntax Definition: HRESULT Draw Ellipse( HRESULT hr Prev, Tc Vn Rotated Rectangle& st Ellipse, ITc Vn Image* ip Dest Image, Tc Vn Vector4_LREAL& a Color, LONG n Thickness, ETc Vn Line Type e Line Type = LT_8_CONNECTED ) 2296 Version: 2.4.0 TF7000 - TF7810
## Page 2297

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) st Ellipse Tc Vn Rotated Rectangle Ellipse to be drawn (rotation angle in degrees) [} 1733]& ip Dest Image ITc Vn Image* [} 1870] Destination image a Color Tc Vn Vector4_LREAL Color [} 1663]& n Thickness LONG Line thickness (if negative, the ellipse is filled) e Line Type ETc Vn Line Type [} 1696] LT_8_CONNECTED Line type Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.11.9 Draw Keypoints Draws the keypoints for visualization purpose. Syntax Definition: HRESULT Draw Keypoints( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Container* ip Key Points, ITc Vn Image*& ip Dest Image, Tc Vn Vector4_LREAL& a Color = {-1, -1, -1, -1}, ETc Vn Draw Matches Flags e Flags = DMF_DEFAULT ) TF7000 - TF7810 Version: 2.4.0 2297
## Page 2298

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (elements of type USINT) ip Key Points ITc Vn Container* [} 1836] Container with the keypoints (Container Type_Vector_T c Vn Key Point) ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate color image will be created if required.) a Color Tc Vn Vector4_LREAL {-1, -1, -1, -1} Color to draw the keypoints (for {-1, -1, -1, [} 1663]& -1}, a random color is chosen for each point) e Flags ETc Vn Draw Matches Flags DMF_DEFAULT A combination of flags to support overdrawing an [} 1687] existing destination image and/or drawing additional (Rich-)Keypoint information (size and orientation) Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.2.3.11.10 Draw Line Draws a line. Syntax Definition: HRESULT Draw Line( HRESULT hr Prev, ULONG n X1, ULONG n Y1, ULONG n X2, ULONG n Y2, ITc Vn Image* ip Dest Image, Tc Vn Vector4_LREAL& a Color, LONG n Thickness, ETc Vn Line Type e Line Type = LT_8_CONNECTED, ULONG n Shift = 0 ) 2298 Version: 2.4.0 TF7000 - TF7810
## Page 2299

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n X1 ULONG x coordinate of the start point n Y1 ULONG y coordinate of the start point n X2 ULONG x coordinate of the end point n Y2 ULONG y coordinate of the end point ip Dest Image ITc Vn Image* [} 1870] Destination image a Color Tc Vn Vector4_LREAL Color [} 1663]& n Thickness LONG Line thickness e Line Type ETc Vn Line Type [} 1696] LT_8_CONNECTED Line type n Shift ULONG 0 Fractional bits of the coordinates (bit shift) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.11.11 Draw Line (Tc Vn Vector4_DINT) Draws a line. Syntax Definition: HRESULT Draw Line( HRESULT hr Prev, Tc Vn Vector4_DINT& a Line, ITc Vn Image* ip Dest Image, Tc Vn Vector4_LREAL& a Color, LONG n Thickness, ETc Vn Line Type e Line Type = LT_8_CONNECTED, ULONG n Shift = 0 ) TF7000 - TF7810 Version: 2.4.0 2299
## Page 2300

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Line Tc Vn Vector4_DINT The start and end point of a line segment [x1, y1, x2, [} 1663]& y2] ip Dest Image ITc Vn Image* [} 1870] Destination image a Color Tc Vn Vector4_LREAL Color [} 1663]& n Thickness LONG Line thickness e Line Type ETc Vn Line Type [} 1696] LT_8_CONNECTED Line type n Shift ULONG 0 Fractional bits of the coordinates (bit shift) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.11.12 Draw Line (Tc Vn Vector4_LREAL) Draws a line. Syntax Definition: HRESULT Draw Line( HRESULT hr Prev, Tc Vn Vector4_LREAL& a Line, ITc Vn Image* ip Dest Image, Tc Vn Vector4_LREAL& a Color, LONG n Thickness, ETc Vn Line Type e Line Type = LT_8_CONNECTED, ULONG n Shift = 0 ) 2300 Version: 2.4.0 TF7000 - TF7810
## Page 2301

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Line Tc Vn Vector4_LREAL The first and second element describe the x [} 1663]& and y component of the direction vector. The third and fourth element describe the x and y component of the position vector. ip Dest Image ITc Vn Image* [} 1870] Destination image a Color Tc Vn Vector4_LREAL Color [} 1663]& n Thickness LONG Line thickness e Line Type ETc Vn Line Type [} 1696] LT_8_CONNECTED Line type n Shift ULONG 0 Fractional bits of the coordinates (bit shift) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.11.13 Draw Lines Draws lines. Syntax Definition: HRESULT Draw Lines( HRESULT hr Prev, ITc Vn Container* ip Lines, LONG n Line Index, ITc Vn Image* ip Dest Image, Tc Vn Vector4_LREAL& a Color, LONG n Thickness, ETc Vn Line Type e Line Type = LT_8_CONNECTED, ULONG n Shift = 0 ) TF7000 - TF7810 Version: 2.4.0 2301
## Page 2302

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Lines ITc Vn Container* [} 1836] Container with line descriptions (Container Type_Vector_T c Vn Vector2_REAL: the distance from the origin [0] in pixels and the rotation angle [1] in radians. Container Type_Vector_Tc Vn Vector4_LREAL: the first and second element describe the x and y component of a vector collinear to the line. The third and fourth element describe the x and y component of a point on the line. Container Type_Vector_Tc Vn Vector4_DINT: start and end point [x1, y1, x2, y2]) n Line Index LONG Index of a specific line to be drawn (if negative, all lines within the container are drawn) ip Dest Image ITc Vn Image* [} 1870] Destination image a Color Tc Vn Vector4_LREAL Color [} 1663]& n Thickness LONG Line thickness e Line Type ETc Vn Line Type [} 1696] LT_8_CONNECTED Line type n Shift ULONG 0 Fractional bits of the coordinates (bit shift) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.11.14 Draw Matches Draws the keypoints and matches for visualization purpose. Can use available Twin CAT Job Tasks for executing parallel code regions. 2302 Version: 2.4.0 TF7000 - TF7810
## Page 2303

API reference Syntax Definition: HRESULT Draw Matches( HRESULT hr Prev, ITc Vn Image* ip Src Image1, ITc Vn Container* ip Key Points1, ITc Vn Image* ip Src Image2, ITc Vn Container* ip Key Points2, ITc Vn Container* ip Matches1To2, ITc Vn Image*& ip Dest Image, Tc Vn Vector4_LREAL& a Match Color = {-1, -1, -1, -1}, Tc Vn Vector4_LREAL& a Single Color = {-1, -1, -1, -1}, ITc Vn Container* ip Matches Mask = nullptr, ETc Vn Draw Matches Flags e Flags = DMF_DEFAULT ) TF7000 - TF7810 Version: 2.4.0 2303
## Page 2304

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image1 ITc Vn Image* [} 1870] Source image 1 (elements of type USINT) ip Key Points1 ITc Vn Container* [} 1836] Container with the keypoints 1 (Container Type_Vector_T c Vn Key Point) ip Src Image2 ITc Vn Image* [} 1870] Source image 2 (elements of type USINT, must have the same number of channels as ip Src Image1) ip Key Points2 ITc Vn Container* [} 1836] Container with the keypoints 2 (Container Type_Vector_T c Vn Key Point) ip Matches1To2 ITc Vn Container* [} 1836] Container with the descriptor matches (Container Type_Vector_T c Vn DMatch) ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate color image will be created if required.) a Match Color Tc Vn Vector4_LREAL {-1, -1, -1, -1} Color to draw the matches (for {-1, -1, -1, -1}, a [} 1663]& random color is chosen for each point and line) a Single Color Tc Vn Vector4_LREAL {-1, -1, -1, -1} Color to draw the single keypoints (for {-1, -1, -1, [} 1663]& -1}, a random color is chosen for each point) ip Matches Mask ITc Vn Container* [} 1836] nullptr Mask to select the matches to be drawn (Container Type_Vector_S INT; Set to 0 if all matches should be drawn.) e Flags ETc Vn Draw Matches Flags DMF_DEFAULT A combination of flags to support overdrawing an [} 1687] existing destination image and/or drawing additional (Rich-)Keypoint information (size and orientation) and/or skipping single keypoints Return value HRESULT [} 144] Required License TC3 Vision Matching 2304 Version: 2.4.0 TF7000 - TF7810
## Page 2305

API reference System Requirements 6.2.3.11.15 Draw Orientation Draw the main axis of a set of points/contour based on a rotated rectangle. Syntax Definition: HRESULT Draw Orientation( HRESULT hr Prev, Tc Vn Rotated Rectangle& st Orientation, ITc Vn Image* ip Dest Image, Tc Vn Vector4_LREAL& a Color Main Axis, LONG n Thickness ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) st Orientation Tc Vn Rotated Rectangle [} 1733]& Rotated rectangle, containig center of mass, lenghts of axes, and rotation angle in clockwise direction ip Dest Image ITc Vn Image* [} 1870] Destination image a Color Main Axis Tc Vn Vector4_LREAL [} 1663]& Color of the major axis n Thickness LONG Line thickness Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.11.16 Draw Orientation (Exp) Draw the main axis, the horizontal axis and the angle of a set of points/contour based on a rotated rectangle. Syntax Definition: HRESULT Draw Orientation( HRESULT hr Prev, Tc Vn Rotated Rectangle& st Orientation, ITc Vn Image* ip Dest Image, Tc Vn Vector4_LREAL& a Color Main Axis, LONG n Thickness, Tc Vn Vector4_LREAL& a Color Horizontal Axis, double f Font Scale ) TF7000 - TF7810 Version: 2.4.0 2305
## Page 2306

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) st Orientation Tc Vn Rotated Rectangle [} 1733]& Rotated rectangle, containig center of mass, lenghts of axes, and rotation angle in clockwise direction ip Dest Image ITc Vn Image* [} 1870] Destination image a Color Main Axis Tc Vn Vector4_LREAL [} 1663]& Color of the major axis n Thickness LONG Line thickness a Color Horizontal Axis Tc Vn Vector4_LREAL [} 1663]& Color of the horizontal axis f Font Scale double Scaling factor for the text Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.11.17 Draw Point Draw a point. Syntax Definition: HRESULT Draw Point( HRESULT hr Prev, ULONG n X, ULONG n Y, ITc Vn Image* ip Dest Image, ETc Vn Draw Shape e Shape, Tc Vn Vector4_LREAL& a Color, ULONG n Size = 3, LONG n Thickness = 1, ETc Vn Line Type e Line Type = LT_8_CONNECTED ) 2306 Version: 2.4.0 TF7000 - TF7810
## Page 2307

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n X ULONG x coordinate of the point n Y ULONG y coordinate of the point ip Dest Image ITc Vn Image* [} 1870] Destination image e Shape ETc Vn Draw Shape [} 1687] Point shape a Color Tc Vn Vector4_LREAL Color (for {-1, -1, -1, -1}, a random color is chosen) [} 1663]& n Size ULONG 3 Size of the shape (half width) n Thickness LONG 1 Line thickness (if negative, the shape is filled if it is closed) e Line Type ETc Vn Line Type [} 1696] LT_8_CONNECTED Line type Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.11.18 Draw Points Draw a collection of points. Syntax Definition: HRESULT Draw Points( HRESULT hr Prev, ITc Vn Container* ip Points, ITc Vn Image* ip Dest Image, ETc Vn Draw Shape e Shape, Tc Vn Vector4_LREAL& a Color, ULONG n Size = 3, LONG n Thickness = 1, ETc Vn Line Type e Line Type = LT_8_CONNECTED ) TF7000 - TF7810 Version: 2.4.0 2307
## Page 2308

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Points ITc Vn Container* [} 1836] Container with Tc Vn Point2_DINT or Tc Vn Point2_REAL elements ip Dest Image ITc Vn Image* [} 1870] Destination image e Shape ETc Vn Draw Shape [} 1687] Point shape a Color Tc Vn Vector4_LREAL Color (for {-1, -1, -1, -1}, a random color is chosen [} 1663]& for each point) n Size ULONG 3 Size of the shape (half width) n Thickness LONG 1 Line thickness (if negative, the shape is filled if it is closed) e Line Type ETc Vn Line Type [} 1696] LT_8_CONNECTED Line type Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.11.19 Draw Polygon Draw a pologon using collection of points. Syntax Definition: HRESULT Draw Polygon( HRESULT hr Prev, ITc Vn Container* ip Points, ITc Vn Image* ip Dest Image, Tc Vn Vector4_LREAL& a Color, LONG n Thickness, bool b Is Closed = true, ETc Vn Line Type e Line Type = LT_8_CONNECTED, ULONG n Shift = 0 ) 2308 Version: 2.4.0 TF7000 - TF7810
## Page 2309

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Points ITc Vn Container* [} 1836] Container with Tc Vn Point2_DINT, Tc Vn Point2_REAL, or Tc Vn Point2_LREAL elements ip Dest Image ITc Vn Image* [} 1870] Destination image a Color Tc Vn Vector4_LREAL Color [} 1663]& n Thickness LONG Line thickness (if negative, the shape is filled) b Is Closed bool true If it is true, the function draws a line from the last point to the first point to close the polygon. e Line Type ETc Vn Line Type [} 1696] LT_8_CONNECTED Line type n Shift ULONG 0 Fractional bits of the coordinates (bit shift) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.11.20 Draw Rectangle Draw a rectangle. Syntax Definition: HRESULT Draw Rectangle( HRESULT hr Prev, ULONG n Top Left X, ULONG n Top Left Y, ULONG n Bottom Right X, ULONG n Bottom Right Y, ITc Vn Image* ip Dest Image, Tc Vn Vector4_LREAL& a Color, LONG n Thickness ) TF7000 - TF7810 Version: 2.4.0 2309
## Page 2310

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n Top Left X ULONG x coordinate of the top left corner n Top Left Y ULONG y coordinate of the top left corner n Bottom Right X ULONG x coordinate of the bottom right corner n Bottom Right Y ULONG y coordinate of the bottom right corner ip Dest Image ITc Vn Image* [} 1870] Destination image a Color Tc Vn Vector4_LREAL [} 1663]& Color n Thickness LONG Line thickness (if negative, the rectangle is filled) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.11.21 Draw Rectangle (Tc Vn Rectangle_DINT) Draw a rectangle. Syntax Definition: HRESULT Draw Rectangle( HRESULT hr Prev, Tc Vn Rectangle_DINT& st Rectangle, ITc Vn Image* ip Dest Image, Tc Vn Vector4_LREAL& a Color, LONG n Thickness ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) st Rectangle Tc Vn Rectangle_DINT [} 1732]& Rectangle to be drawn ip Dest Image ITc Vn Image* [} 1870] Destination image a Color Tc Vn Vector4_LREAL [} 1663]& Color n Thickness LONG Line thickness (if negative, the rectangle is filled) 2310 Version: 2.4.0 TF7000 - TF7810
## Page 2311

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.11.22 Draw Rectangle (Tc Vn Rectangle_UDINT) Draw a rectangle. Syntax Definition: HRESULT Draw Rectangle( HRESULT hr Prev, Tc Vn Rectangle_UDINT& st Rectangle, ITc Vn Image* ip Dest Image, Tc Vn Vector4_LREAL& a Color, LONG n Thickness ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) st Rectangle Tc Vn Rectangle_UDINT [} 1733]& Rectangle to be drawn ip Dest Image ITc Vn Image* [} 1870] Destination image a Color Tc Vn Vector4_LREAL [} 1663]& Color n Thickness LONG Line thickness (if negative, the rectangle is filled) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.11.23 Draw Rotated Rectangle Draw a rectangle. Syntax Definition: HRESULT Draw Rotated Rectangle( HRESULT hr Prev, Tc Vn Rotated Rectangle& st Rectangle, ITc Vn Image* ip Dest Image, Tc Vn Vector4_LREAL& a Color, TF7000 - TF7810 Version: 2.4.0 2311
## Page 2312

API reference LONG n Thickness, ETc Vn Line Type e Line Type = LT_8_CONNECTED ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) st Rectangle Tc Vn Rotated Rectangle Rectangle to be drawn (rotation angle in degrees) [} 1733]& ip Dest Image ITc Vn Image* [} 1870] Destination image a Color Tc Vn Vector4_LREAL Color [} 1663]& n Thickness LONG Line thickness (if negative, the rectangle is filled) e Line Type ETc Vn Line Type [} 1696] LT_8_CONNECTED Line type Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.11.24 Fill Circle Paint a filled circle. Syntax Definition: HRESULT Fill Circle( HRESULT hr Prev, ULONG n Center X, ULONG n Center Y, ULONG n Radius, ITc Vn Image* ip Dest Image, Tc Vn Vector4_LREAL& a Color ) 2312 Version: 2.4.0 TF7000 - TF7810
## Page 2313

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n Center X ULONG x coordinate of the center n Center Y ULONG y coordinate of the center n Radius ULONG Radius ip Dest Image ITc Vn Image* [} 1870] Destination image a Color Tc Vn Vector4_LREAL [} 1663]& Color Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.11.25 Fill Contours Paint a single point set or multiple point sets that are interpreted as contours. Syntax Definition: HRESULT Fill Contours( HRESULT hr Prev, ITc Vn Container* ip Contours, LONG n Contour Index, ITc Vn Image* ip Dest Image, Tc Vn Vector4_LREAL& a Color ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Contours ITc Vn Container* [} 1836] Single contour (Container Type_Vector_Tc Vn Point 2_DINT) or multiple contours (Container Type_Vector_Vector_Tc Vn Point2_DINT) n Contour Index LONG Index of a specific contour to be drawn (if negative, all contours within the container are drawn) ip Dest Image ITc Vn Image* [} 1870] Destination image a Color Tc Vn Vector4_LREAL [} 1663]& Color TF7000 - TF7810 Version: 2.4.0 2313
## Page 2314

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.11.26 Fill Ellipse Paint a filled ellipse. Syntax Definition: HRESULT Fill Ellipse( HRESULT hr Prev, Tc Vn Rotated Rectangle& st Ellipse, ITc Vn Image* ip Dest Image, Tc Vn Vector4_LREAL& a Color ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) st Ellipse Tc Vn Rotated Rectangle [} 1733]& Ellipse to be painted (rotation angle in degrees) ip Dest Image ITc Vn Image* [} 1870] Destination image a Color Tc Vn Vector4_LREAL [} 1663]& Color Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.11.27 Fill Polygon Paint a filled pologon using a set of points. Syntax Definition: HRESULT Fill Polygon( HRESULT hr Prev, ITc Vn Container* ip Points, ITc Vn Image* ip Dest Image, Tc Vn Vector4_LREAL& a Color ) 2314 Version: 2.4.0 TF7000 - TF7810
## Page 2315

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Points ITc Vn Container* [} 1836] Container with Tc Vn Point2_DINT, Tc Vn Point2_REAL, or Tc Vn Point2_LREAL elements ip Dest Image ITc Vn Image* [} 1870] Destination image a Color Tc Vn Vector4_LREAL [} 1663]& Color Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.11.28 Fill Rectangle Paint a filled rectangle. Syntax Definition: HRESULT Fill Rectangle( HRESULT hr Prev, ULONG n Top Left X, ULONG n Top Left Y, ULONG n Bottom Right X, ULONG n Bottom Right Y, ITc Vn Image* ip Dest Image, Tc Vn Vector4_LREAL& a Color ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n Top Left X ULONG x coordinate of the top left corner n Top Left Y ULONG y coordinate of the top left corner n Bottom Right X ULONG x coordinate of the bottom right corner n Bottom Right Y ULONG y coordinate of the bottom right corner ip Dest Image ITc Vn Image* [} 1870] Destination image a Color Tc Vn Vector4_LREAL [} 1663]& Color TF7000 - TF7810 Version: 2.4.0 2315
## Page 2316

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.11.29 Fill Rotated Rectangle Paint a filled rectangle. Syntax Definition: HRESULT Fill Rotated Rectangle( HRESULT hr Prev, Tc Vn Rotated Rectangle& st Rectangle, ITc Vn Image* ip Dest Image, Tc Vn Vector4_LREAL& a Color ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) st Rectangle Tc Vn Rotated Rectangle [} 1733]& Rectangle to be painted (rotation angle in degrees) ip Dest Image ITc Vn Image* [} 1870] Destination image a Color Tc Vn Vector4_LREAL [} 1663]& Color Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.11.30 Plot Intensity Profile Plots the pixel intensity profile along a line segment in an image. Syntax Definition: HRESULT Plot Intensity Profile( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, Tc Vn Point2_REAL& a Start Point, Tc Vn Point2_REAL& a End Point, Tc Vn Vector4_LREAL& a Background Color = {0, 0, 0, 0}, 2316 Version: 2.4.0 TF7000 - TF7810
## Page 2317

API reference Tc Vn Vector4_LREAL& a Line Color = {255, 255, 255, 255}, Tc Vn Vector4_LREAL& a Grid Color = {64, 64, 64, 64}, LONG n Scale X = 2, LONG n Scale Y = 2, LONG n Thickness = 1, LONG n Dest Channels = 1 ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (USINT, 1 channel) ip Dest Image ITc Vn Image* [} 1870]& Destination image (USINT, 1 channel. x: position, y: intensity, origin: bottom left. An appropriate destination image will be created if required.) a Start Point Tc Vn Point2_REAL Start point of the line segment [} 1661]& a End Point Tc Vn Point2_REAL End point of the line segment [} 1661]& a Background Color Tc Vn Vector4_LREAL {0, 0, 0, 0} Background color [} 1663]& a Line Color Tc Vn Vector4_LREAL {255, 255, 255, 255} Line color [} 1663]& a Grid Color Tc Vn Vector4_LREAL {64, 64, 64, 64} Grid color [} 1663]& n Scale X LONG 2 Scale in x direction (ip Dest Image will have a width of n Scale X * (ip Src Image width - 1) + 1) n Scale Y LONG 2 Scale in y direction (ip Dest Image will have a height of n Scale Y * 255 + 1) n Thickness LONG 1 Line thickness n Dest Channels LONG 1 ip Dest Image channels (1 or 3) Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 2317
## Page 2318

API reference System Requirements 6.2.3.11.31 Put Label Write a label (text on unified background) into an image. Syntax Definition: HRESULT Put Label( HRESULT hr Prev, PCCH s Text, ITc Vn Image* ip Dest Image, ULONG n X, ULONG n Y, double f Font Scale, ULONG n Thickness = 1, ETc Vn Font Type e Font Type = FT_HERSHEY_SIMPLEX, Tc Vn Vector4_LREAL& a Font Color = {0, 0, 0, 0}, Tc Vn Vector4_LREAL& a Background Color = {255, 255, 255, 255}, ETc Vn Line Type e Line Type = LT_4_CONNECTED ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) s Text PCCH Text ip Dest Image ITc Vn Image* [} 1870] Destination image n X ULONG x coordinate (bottom left) n Y ULONG y coordinate (bottom left) f Font Scale double Scaling factor n Thickness ULONG 1 Line thickness e Font Type ETc Vn Font Type [} 1692] FT_HERSHEY_SIMPLEX Font type a Font Color Tc Vn Vector4_LREAL {0, 0, 0, 0} Font color [} 1663]& a Background Color Tc Vn Vector4_LREAL {255, 255, 255, 255} Background color [} 1663]& e Line Type ETc Vn Line Type [} 1696] LT_4_CONNECTED Line type Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.11.32 Put Text Write text into an image. 2318 Version: 2.4.0 TF7000 - TF7810
## Page 2319

API reference Syntax Definition: HRESULT Put Text( HRESULT hr Prev, PCCH s Text, ITc Vn Image* ip Dest Image, ULONG n X, ULONG n Y, ETc Vn Font Type e Font Type, double f Font Scale, Tc Vn Vector4_LREAL& a Color, LONG n Thickness = 1, ETc Vn Line Type e Line Type = LT_8_CONNECTED, bool b Bottom Left Origin = false ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) s Text PCCH Text ip Dest Image ITc Vn Image* [} 1870] Destination image n X ULONG x coordinate (bottom left) n Y ULONG y coordinate (bottom left) e Font Type ETc Vn Font Type [} 1692] Font type f Font Scale double Scaling factor a Color Tc Vn Vector4_LREAL Text color [} 1663]& n Thickness LONG 1 Line thickness e Line Type ETc Vn Line Type [} 1696] LT_8_CONNECTED Line type b Bottom Left Origin bool false Sets the image origin to the bottom left corner, if true Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.12 Fourier Analysis This group contains functions for frequency analysis and frequency filtering in images. Functions Butterworth filter • Create Bandpass Butterworth Filter [} 2320] • Create Bandreject Butterworth Filter [} 2322] TF7000 - TF7810 Version: 2.4.0 2319
## Page 2320

API reference • Create Highpass Butterworth Filter [} 2324] • Create Lowpass Butterworth Filter [} 2326] Gaussian filter • Create Bandpass Gaussian Filter [} 2321] • Create Bandreject Gaussian Filter [} 2323] • Create Highpass Gaussian Filter [} 2325] • Create Lowpass Gaussian Filter [} 2327] Discrete Fourier transform • Dft [} 2328] • Inverse Dft [} 2329] • Optimal Dft Size [} 2330] 6.2.3.12.1 Create Bandpass Butterworth Filter Creates a bandpass Butterworth filter, which can be applied to a frequency domain image by element-wise multiplication. Syntax Definition: HRESULT Create Bandpass Butterworth Filter( HRESULT hr Prev, ITc Vn Image*& ip Filter, ULONG n Width, ULONG n Height, bool b Double Precision, bool b Origin At Center, double f Cutoff Distance, double f Band Width, ULONG n Order, double f Scale ) 2320 Version: 2.4.0 TF7000 - TF7810
## Page 2321

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Filter ITc Vn Image* [} 1870]& Returns the created filter (1 channel of type REAL or LREAL, depending on b Double Precision. Non-zero interface pointers are reused.). n Width ULONG Filter width (even, >= 2, must match the width of the image it is applied to) n Height ULONG Filter height (even, >= 2, must match the height of the image it is applied to) b Double Precision bool If true, the filter is generated with double precision (LREAL) instead of single precision (REAL). b Origin At Center bool If true, the filter origin is shifted to the image center. f Cutoff Distance double The cutoff distance of the Butterworth filter (> 0). f Band Width double The band width of the Butterworth filter (> 0). n Order ULONG The order of the Butterworth filter (> 0). f Scale double The scale factor of the Butterworth filter denominator term (> 0, e.g. 0.414 or 1.0). Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.12.2 Create Bandpass Gaussian Filter Creates a bandpass Gaussian filter, which can be applied to a frequency domain image by element-wise multiplication. Syntax Definition: HRESULT Create Bandpass Gaussian Filter( HRESULT hr Prev, ITc Vn Image*& ip Filter, ULONG n Width, ULONG n Height, bool b Double Precision, bool b Origin At Center, TF7000 - TF7810 Version: 2.4.0 2321
## Page 2322

API reference double f Cutoff Distance, double f Band Width ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Filter ITc Vn Image* [} 1870]& Returns the created filter (1 channel of type REAL or LREAL, depending on b Double Precision. Non-zero interface pointers are reused.). n Width ULONG Filter width (even, >= 2, must match the width of the image it is applied to) n Height ULONG Filter height (even, >= 2, must match the height of the image it is applied to) b Double Precision bool If true, the filter is generated with double precision (LREAL) instead of single precision (REAL). b Origin At Center bool If true, the filter origin is shifted to the image center. f Cutoff Distance double The cutoff distance of the Gaussian filter (> 0). f Band Width double The band width of the Gaussian filter (> 0). Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.12.3 Create Bandreject Butterworth Filter Creates a bandreject Butterworth filter, which can be applied to a frequency domain image by element-wise multiplication. Syntax Definition: HRESULT Create Bandreject Butterworth Filter( HRESULT hr Prev, ITc Vn Image*& ip Filter, ULONG n Width, ULONG n Height, bool b Double Precision, bool b Origin At Center, double f Cutoff Distance, double f Band Width, ULONG n Order, double f Scale ) 2322 Version: 2.4.0 TF7000 - TF7810
## Page 2323

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Filter ITc Vn Image* [} 1870]& Returns the created filter (1 channel of type REAL or LREAL, depending on b Double Precision. Non-zero interface pointers are reused.). n Width ULONG Filter width (even, >= 2, must match the width of the image it is applied to) n Height ULONG Filter height (even, >= 2, must match the height of the image it is applied to) b Double Precision bool If true, the filter is generated with double precision (LREAL) instead of single precision (REAL). b Origin At Center bool If true, the filter origin is shifted to the image center. f Cutoff Distance double The cutoff distance of the Butterworth filter (> 0). f Band Width double The band width of the Butterworth filter (> 0). n Order ULONG The order of the Butterworth filter (> 0). f Scale double The scale factor of the Butterworth filter denominator term (> 0, e.g. 0.414 or 1.0). Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.12.4 Create Bandreject Gaussian Filter Creates a bandreject Gaussian filter, which can be applied to a frequency domain image by element-wise multiplication. Syntax Definition: HRESULT Create Bandreject Gaussian Filter( HRESULT hr Prev, ITc Vn Image*& ip Filter, ULONG n Width, ULONG n Height, bool b Double Precision, bool b Origin At Center, TF7000 - TF7810 Version: 2.4.0 2323
## Page 2324

API reference double f Cutoff Distance, double f Band Width ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Filter ITc Vn Image* [} 1870]& Returns the created filter (1 channel of type REAL or LREAL, depending on b Double Precision. Non-zero interface pointers are reused.). n Width ULONG Filter width (even, >= 2, must match the width of the image it is applied to) n Height ULONG Filter height (even, >= 2, must match the height of the image it is applied to) b Double Precision bool If true, the filter is generated with double precision (LREAL) instead of single precision (REAL). b Origin At Center bool If true, the filter origin is shifted to the image center. f Cutoff Distance double The cutoff distance of the Gaussian filter (> 0). f Band Width double The band width of the Gaussian filter (> 0). Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.12.5 Create Highpass Butterworth Filter Creates a highpass Butterworth filter, which can be applied to a frequency domain image by element-wise multiplication. Syntax Definition: HRESULT Create Highpass Butterworth Filter( HRESULT hr Prev, ITc Vn Image*& ip Filter, ULONG n Width, ULONG n Height, bool b Double Precision, bool b Origin At Center, double f Cutoff Distance, ULONG n Order, double f Scale ) 2324 Version: 2.4.0 TF7000 - TF7810
## Page 2325

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Filter ITc Vn Image* [} 1870]& Returns the created filter (1 channel of type REAL or LREAL, depending on b Double Precision. Non-zero interface pointers are reused.). n Width ULONG Filter width (even, >= 2, must match the width of the image it is applied to) n Height ULONG Filter height (even, >= 2, must match the height of the image it is applied to) b Double Precision bool If true, the filter is generated with double precision (LREAL) instead of single precision (REAL). b Origin At Center bool If true, the filter origin is shifted to the image center. f Cutoff Distance double The cutoff distance of the Butterworth filter (> 0). n Order ULONG The order of the Butterworth filter (> 0). f Scale double The scale factor of the Butterworth filter denominator term (> 0, e.g. 0.414 or 1.0). Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.12.6 Create Highpass Gaussian Filter Creates a highpass Gaussian filter, which can be applied to a frequency domain image by element-wise multiplication. Syntax Definition: HRESULT Create Highpass Gaussian Filter( HRESULT hr Prev, ITc Vn Image*& ip Filter, ULONG n Width, ULONG n Height, bool b Double Precision, bool b Origin At Center, double f Cutoff Distance ) TF7000 - TF7810 Version: 2.4.0 2325
## Page 2326

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Filter ITc Vn Image* [} 1870]& Returns the created filter (1 channel of type REAL or LREAL, depending on b Double Precision. Non-zero interface pointers are reused.). n Width ULONG Filter width (even, >= 2, must match the width of the image it is applied to) n Height ULONG Filter height (even, >= 2, must match the height of the image it is applied to) b Double Precision bool If true, the filter is generated with double precision (LREAL) instead of single precision (REAL). b Origin At Center bool If true, the filter origin is shifted to the image center. f Cutoff Distance double The cutoff distance of the Gaussian filter (> 0). Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.12.7 Create Lowpass Butterworth Filter Creates a lowpass Butterworth filter, which can be applied to a frequency domain image by element-wise multiplication. Syntax Definition: HRESULT Create Lowpass Butterworth Filter( HRESULT hr Prev, ITc Vn Image*& ip Filter, ULONG n Width, ULONG n Height, bool b Double Precision, bool b Origin At Center, double f Cutoff Distance, ULONG n Order, double f Scale ) 2326 Version: 2.4.0 TF7000 - TF7810
## Page 2327

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Filter ITc Vn Image* [} 1870]& Returns the created filter (1 channel of type REAL or LREAL, depending on b Double Precision. Non-zero interface pointers are reused.). n Width ULONG Filter width (even, >= 2, must match the width of the image it is applied to) n Height ULONG Filter height (even, >= 2, must match the height of the image it is applied to) b Double Precision bool If true, the filter is generated with double precision (LREAL) instead of single precision (REAL). b Origin At Center bool If true, the filter origin is shifted to the image center. f Cutoff Distance double The cutoff distance of the Butterworth filter (> 0). n Order ULONG The order of the Butterworth filter (> 0). f Scale double The scale factor of the Butterworth filter denominator term (> 0, e.g. 0.414 or 1.0). Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.12.8 Create Lowpass Gaussian Filter Creates a lowpass Gaussian filter, which can be applied to a frequency domain image by element-wise multiplication. Syntax Definition: HRESULT Create Lowpass Gaussian Filter( HRESULT hr Prev, ITc Vn Image*& ip Filter, ULONG n Width, ULONG n Height, bool b Double Precision, bool b Origin At Center, double f Cutoff Distance ) TF7000 - TF7810 Version: 2.4.0 2327
## Page 2328

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Filter ITc Vn Image* [} 1870]& Returns the created filter (1 channel of type REAL or LREAL, depending on b Double Precision. Non-zero interface pointers are reused.). n Width ULONG Filter width (even, >= 2, must match the width of the image it is applied to) n Height ULONG Filter height (even, >= 2, must match the height of the image it is applied to) b Double Precision bool If true, the filter is generated with double precision (LREAL) instead of single precision (REAL). b Origin At Center bool If true, the filter origin is shifted to the image center. f Cutoff Distance double The cutoff distance of the Gaussian filter (> 0). Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.12.9 Dft Computes the DFT for a given image. Syntax Definition: HRESULT Dft( HRESULT hr Prev, ITc Vn Image* ip Spatial Image, ITc Vn Image*& ip Frequency Image, bool b Packed CCS, bool b Auto Padding ) 2328 Version: 2.4.0 TF7000 - TF7810
## Page 2329

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Spatial Image ITc Vn Image* [} 1870] Source image (elements of type REAL or LREAL, 1 (Re) or 2 (Re + Im) channels) ip Frequency Image ITc Vn Image* [} 1870]& Destination image (same type as ip Spatial Image, but number of channels and size can vary depending on b Packed CCS and b Auto Padding. b Packed CCS bool If true and ip Spatial Image has only 1 channel, the result image will have 1 channel with packed complex-conjugate-symmetrical format results. Otherwise, the result image will have 2 separate channels (Re + Im), containing the full spectrum. b Auto Padding bool If true, the input image is automatically padded (with 0s) to optimal size if required, to speed up dft (Creates a temporary copy so that ip Spatial Image content stays unchanged, which also requires some additional computation power. Therefore, it is recommended to compare execution times with and without padding.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.12.10 Inverse Dft Compute the inverse DFT for a given frequency image. Syntax Definition: HRESULT Inverse Dft( HRESULT hr Prev, ITc Vn Image* ip Frequency Image, ITc Vn Image*& ip Spatial Image, bool b Real Output ) TF7000 - TF7810 Version: 2.4.0 2329
## Page 2330

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Frequency Image ITc Vn Image* [} 1870] Source frequency image (elements of type REAL or LREAL, 1 (packed CCS) or 2 (Re + Im) channels) ip Spatial Image ITc Vn Image* [} 1870]& Destination image (Same type as ip Frequency Image, but number of channels can vary depending on b Real Output. An appropriate image will be created if required.) b Real Output bool Only relevant if ip Frequency Image has 2 channels. If true, the result image will have only 1 channel. Otherwise, the result image will have 2 separate channels (Re + Im). If ip Frequency Image has only 1 channel, packed CCS format is assumed and the result image will always have only 1 channel. Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.12.11 Optimal Dft Size Computes the optimal image size for applying a dft (can lead to better performance). Syntax Definition: HRESULT Optimal Dft Size( HRESULT hr Prev, ITc Vn Image* ip Image, ULONG& n Opt Width, ULONG& n Opt Height ) 2330 Version: 2.4.0 TF7000 - TF7810
## Page 2331

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Image ITc Vn Image* [} 1870] Source image for which to compute the optimal width and height n Opt Width ULONG& Returns the optimal width of the image n Opt Height ULONG& Returns the optimal height of the image Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13 Geometric and Coordinate Transformations This group contains functions for transforming images and pixels. Functions Calibration [} 2332] • Intrinsic and extrinsic calibration • Compensation of optical distortions • Transformation between image and world coordinates Affine Transformation • Apply Rotation To Affine Transformation [} 2363] • Apply Scaling To Affine Transformation [} 2364] • Apply Translation To Affine Transformation [} 2365] • Apply YAxis Inversion To Affine Transformation [} 2366] • Decompose Affine Transformation [} 2374] • Generate Affine Transformation Unit Matrix2D [} 2379] • Get Affine Transformation [} 2379] • Get Affine Transformation2D [} 2380] • Invert Affine Transformation [} 2383] • Warp Affine(Exp) [} 2391] • Warp Affine_Container [} 2392] • Warp Affine_Point [} 2393] • Warp Affine_Rectangle [} 2393] Transformation between cartesian and polar coordinates • Convert Cartesian To Polar Angle Image [} 2367] TF7000 - TF7810 Version: 2.4.0 2331
## Page 2332

API reference • Convert Cartesian To Polar Angles [} 2368] • Convert Cartesian To Polar Images [} 2368] • Convert Cartesian To Polar Magnitude Image [} 2369] • Convert Cartesian To Polar Magnitudes [} 2370] • Convert Cartesian To Polar Points [} 2371] • Convert Polar To Cartesian Images [} 2372] • Convert Polar To Cartesian Points [} 2373] • Remap Image To Log Polar Space [} 2386] • Remap Image To Polar Space [} 2387] Simple image operations • Flip Image [} 2378] • Pyramid Down [} 2385] • Pyramid Up [} 2385] • Resize Image [} 2388] Image alignment and rotation • Align Rotated Image Region [} 2362] • Rotate Image(Exp) [} 2389] Perspective transformation • Decompose Homography [} 2375] • Get Perspective Transformation [} 2381] • Homography [} 2382] • Perspective Transformation [} 2384] • Warp Perspective(Exp) [} 2395] • Warp Perspective_Container [} 2396] • Warp Perspective_Point [} 2397] • Warp Perspective_Rectangle [} 2397] 6.2.3.13.1 Calibration This subgroup contains functions for the correlation between pixels and real world pixels. They are usually used together with the measurement functions [} 2542]. Functions Calibration • Calibrate Camera(Exp) [} 2333] • Calibrate Camera Manually [} 2338] • Calibrate Camera Planar [} 2340] • Calibrate Linescan Camera [} 2341] • Detect Pattern Points [} 2350] • Generate Calibration Pattern Reference Points [} 2353] • Sort Detected Pattern Points [} 2357] • Solve Pn P [} 2355] 2332 Version: 2.4.0 TF7000 - TF7810
## Page 2333

API reference Compensation of lens distortion • Compensate Lens Distortion [} 2345] • Compensate Lens Distortion For Points [} 2347] Transformation between image and world coordinates • Transform Coordinates Image To World [} 2358] • Transform Coordinates World To Image [} 2362] • Transform Coordinates Planar [} 2360] • Image Points World Distance [} 2354] Requirements for the input images The input images should not be used in a packed or filtered format, such as Bayer format. In the case of the calibration functions, this has the consequence that the recognition of the patterns is disturbed, which can lead to poorer calibration results or no calibration results at all. Since an interpolation takes place during the compensation functions, in which the original arrangement of the pixels is changed, the image can no longer be converted correctly afterwards. Therefore, it is recommended to always perform a conversion first before using a function from this subgroup. Requirements for the camera matrix éf x 0 c xù ê ú Camera Matrix = 0 f c ê y yú ê0 0 1ú ë û The camera matrix is made up of the focal lengths fx and fy and the principal point (cx,cy), which are expressed in pixel units. The principal point, which is the intersection of the optical axis with the image, is normally located near the center of the image. The following conditions must be met: • 0 < fx and fy • cx >= 0 and <= image width -1 • cy >= 0 and <= image height • The other positions in the matrix must be filled with 0 or 1, as shown in the figure. Other values are not permissible. 6.2.3.13.1.1 Calibrate Camera Compute the camera parameters (intrinsic + extrinsic) by evaluating an image containing a calibration pattern (circles). Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Calibrate Camera( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Container* ip Reference Points, Tc Vn Matrix3x3_LREAL& a Camera Matrix, Tc Vn Array8_LREAL& a Distortion Coefficients, Tc Vn Matrix3x3_LREAL& a Rotation Matrix, Tc Vn Vector3_LREAL& a Translation Vector, double& f Reproj Error, Tc Vn Params Blob Detection& st Blob Detection Params, Tc Vn Camera Calibration Options& st Calibration Options ) TF7000 - TF7810 Version: 2.4.0 2333
## Page 2334

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image containing a calibration pattern (1 channel, USINT elements) ip Reference Points ITc Vn Container* [} 1836] Reference calibration pattern point positions (Container Type_Vector_Tc Vn Point 3_REAL) a Camera Matrix Tc Vn Matrix3x3_LREAL [} 1663]& Returns the camera matrix a Distortion Coefficients Tc Vn Array8_LREAL [} 1663]& Returns the lens distortion coefficients [k1, k2, p1, p2, k3, k4, k5, k6] a Rotation Matrix Tc Vn Matrix3x3_LREAL [} 1663]& Returns the rotation matrix a Translation Vector Tc Vn Vector3_LREAL [} 1663]& Returns the translation vector f Reproj Error double& Returns the reprojection error st Blob Detection Params Tc Vn Params Blob Detection Parameters for the internally used F_VN_Detect Blobs function [} 1722]& st Calibration Options Tc Vn Camera Calibration Options Calibration options [} 1715]& Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D System Requirements 6.2.3.13.1.2 Calibrate Camera (Exp) Compute the camera parameters (intrinsic + extrinsic) by evaluating images containing a calibration pattern (circles). The extrinsic parameters are computed for the first image in the array. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Calibrate Camera( HRESULT hr Prev, PVOID p Src Images, USHORT n Src Array Size, ITc Vn Container* ip Reference Points, Tc Vn Matrix3x3_LREAL& a Camera Matrix, Tc Vn Array8_LREAL& a Distortion Coefficients, Tc Vn Matrix3x3_LREAL& a Rotation Matrix, Tc Vn Vector3_LREAL& a Translation Vector, double& f Reproj Error, Tc Vn Params Blob Detection& st Blob Detection Params, Tc Vn Camera Calibration Options& st Calibration Options, bool b Subpixel Accuracy = false, ETc Vn Edge Direction e Edge Direction = ED_DARK_TO_LIGHT, float f Min Strength = 50, 2334 Version: 2.4.0 TF7000 - TF7810
## Page 2335

API reference ULONG n Max Thickness = 10, ULONG n Subpixels Iterations = 10, ULONG n Search Lines = 92, float f Approx Precision = 0.001f, ETc Vn Edge Detection Algorithm e Algorithm = EDA_INTERPOLATION, ETc Vn World Coordinate System e World System = WCS_X_RIGHT_Y_DOWN ) TF7000 - TF7810 Version: 2.4.0 2335
## Page 2336

API reference Parameters 2336 Version: 2.4.0 TF7000 - TF7810
## Page 2337

API reference Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) p Src Images PVOID Pointer to an array of source images, each containing the same calibration pattern (1 channel, USINT elements) n Src Array Size USHORT p Src Images array size ip Reference Points ITc Vn Container* [} 1836] Reference calibration pattern point positions (Container Type_Vector_T c Vn Point3_REAL) a Camera Matrix Tc Vn Matrix3x3_LREAL Returns the camera matrix [} 1663]& a Distortion Coefficients Tc Vn Array8_LREAL Returns the lens distortion coefficients [k1, k2, p1, [} 1663]& p2, k3, k4, k5, k6] a Rotation Matrix Tc Vn Matrix3x3_LREAL Returns the rotation matrix [} 1663]& a Translation Vector Tc Vn Vector3_LREAL Returns the translation vector [} 1663]& f Reproj Error double& Returns the reprojection error st Blob Detection Params Tc Vn Params Blob Detection Parameters for the internally used [} 1722]& F_VN_Detect Blobs function st Calibration Options Calibration options Tc Vn Camera Calibration Op tions [} 1715]& b Subpixel Accuracy bool false If true, the pattern points are detected with subpixel accuracy e Edge Direction ETc Vn Edge Direction ED_DARK_TO_LIGHT Specification of the edge direction to search for [} 1688] (from center to outside ellipse) f Min Strength float 50 Specification of the minimum strength (intensity difference) of the edge to search for n Max Thickness ULONG 10 Specification of the maximum thickness of the edge to search for, which means f Min Strength must be reached within n Max Thickness pixels TF7000 - TF7810 Version: 2.4.0 2337
## Page 2338

API reference Name Type Default Description n Subpixels Iterations ULONG 10 Specifies the number of subpixels (for INTERPOLATION, 10 - 20 usually is sufficient) or maximum number of iterations for optimizing the parameters (for APPROX_ERF and APPROX_GAUSSIAN, 50 - 100 usually is sufficient) n Search Lines ULONG 92 Specifies the amount of search lines, which are equally distributed in all directions (must be >= 8 and a multiple of 4) f Approx Precision float 0.001f Specifies the approximation precision for APPROX_ERF and APPROX_GAUSSIAN (0.001 usually is sufficient, unused for INTERPOLATION) e Algorithm EDA_INTERPOLATION Selection of the edge ETc Vn Edge Detection Algor detection algorithm ithm [} 1688] e World System WCS_X_RIGHT_Y_DOW World coordinate system ETc Vn World Coordinate Sys N orientation tem [} 1709] Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D System Requirements 6.2.3.13.1.3 Calibrate Camera Manually Compute the camera parameters (intrinsic + extrinsic). The extrinsic parameters are computed for the first inner container. Syntax Definition: HRESULT Calibrate Camera Manually( HRESULT hr Prev, ITc Vn Container* ip Image Points, ULONG n Image Width, ULONG n Image Height, ITc Vn Container* ip Reference Points, Tc Vn Matrix3x3_LREAL& a Camera Matrix, Tc Vn Array8_LREAL& a Distortion Coefficients, Tc Vn Matrix3x3_LREAL& a Rotation Matrix, Tc Vn Vector3_LREAL& a Translation Vector, double& f Reproj Error, Tc Vn Camera Calibration Options& st Calibration Options, ETc Vn World Coordinate System e World System = WCS_X_RIGHT_Y_DOWN ) 2338 Version: 2.4.0 TF7000 - TF7810
## Page 2339

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Image Points ITc Vn Container* [} 1836] Provided image points of multiple images (Container Type_Vector_V ector_Tc Vn Point2_REAL, each inner container with at least 6 points). The container and point order must match ip Reference Points. n Image Width ULONG Image width n Image Height ULONG Image height ip Reference Points ITc Vn Container* [} 1836] Reference world points (Container Type_Vector_V ector_Tc Vn Point3_REAL). The number of inner containers and their amount of points must match ip Image Points. a Camera Matrix Tc Vn Matrix3x3_LREAL Returns the camera matrix [} 1663]& a Distortion Coefficients Tc Vn Array8_LREAL Returns the lens distortion coefficients [k1, k2, p1, [} 1663]& p2, k3, k4, k5, k6] a Rotation Matrix Tc Vn Matrix3x3_LREAL Returns the rotation matrix (for the first inner [} 1663]& container) a Translation Vector Tc Vn Vector3_LREAL Returns the translation vector (for the first inner [} 1663]& container) f Reproj Error double& Returns the reprojection error st Calibration Options Calibration options Tc Vn Camera Calibration Op tions [} 1715]& e World System WCS_X_RIGHT_Y_DOW World coordinate system ETc Vn World Coordinate Sys N orientation tem [} 1709] Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D TF7000 - TF7810 Version: 2.4.0 2339
## Page 2340

API reference System Requirements 6.2.3.13.1.4 Calibrate Camera Planar Calibrate camera using a planar calibration pattern comprised of four circles marking the corners of a rectangle. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Calibrate Camera Planar( HRESULT hr Prev, ITc Vn Image* ip Src Image, Tc Vn Array4_Point2_REAL& a Marker Positions, Tc Vn Matrix3x3_LREAL& a Transformation Matrix, Tc Vn Array4_Point2_REAL& a Marker Image Positions, ULONG n Min Marker Area = 100, ULONG n Max Marker Area = 10000, double f Max Marker Eccentricity = 0.05 ) 2340 Version: 2.4.0 TF7000 - TF7810
## Page 2341

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Binary source image (background zero, markers non-zero) a Marker Positions Tc Vn Array4_Point2_REAL Marker positions within their plane using world [} 1663]& units (right-handed coordinate system) a Transformation Matrix Tc Vn Matrix3x3_LREAL Returns a 3-by-3 matrix for the transformation [} 1663]& from image coordinates into the reference coordinate system a Marker Image Positions Tc Vn Array4_Point2_REAL Returns the marker positions in image [} 1663]& coordinates (left-handed coordinate system) n Min Marker Area ULONG 100 Minimum area for the detection of markers (Smaller markers are ignored.) n Max Marker Area ULONG 10000 Maximum area for the detection of markers (Larger markers are ignored.) f Max Marker Eccentricity double 0.05 Maximum eccenticity for the detection of markers (The eccentricity measures deviations from a round shape (eccentricity = 0: round object; eccentricity = 1.0: linear object).) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.1.5 Calibrate Linescan Camera Compute the camera parameters (intrinsic + extrinsic) by evaluating images containing a line calibration pattern. The pattern must consist of alternating vertical and diagonal lines, with each diagonal having the same constant slope: |\|\|...\|. The results are only valid for the x-direction of a line scan image. To get accurate x-values for a transformation into world coordinates, the y-coordinate must be set to half the sensor TF7000 - TF7810 Version: 2.4.0 2341
## Page 2342

API reference width and so equal to the cy-value of the camera matrix. For other y-values, the results are approximated and can be inaccurate. The extrinsic parameters are computed for the first image in the array. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Calibrate Linescan Camera( HRESULT hr Prev, PVOID p Src Images, USHORT n Src Array Size, ITc Vn Container* ip Pattern Line Origins, double f Slope Rad, Tc Vn Matrix3x3_LREAL& a Camera Matrix, Tc Vn Array8_LREAL& a Distortion Coefficients, Tc Vn Matrix3x3_LREAL& a Rotation Matrix, Tc Vn Vector3_LREAL& a Translation Vector, double& f Reproj Error, Tc Vn Camera Calibration Options& st Calibration Options, ETc Vn Edge Direction e Edge Direction, float f Min Strength = 100, ULONG n Max Search Lines = 11, ULONG n Max Thickness = 5, ULONG n Subpixels Iterations = 50, float f Approx Precision = 0.001f, ETc Vn Edge Detection Algorithm e Algorithm = EDA_APPROX_ERF ) 2342 Version: 2.4.0 TF7000 - TF7810
## Page 2343

API reference Parameters TF7000 - TF7810 Version: 2.4.0 2343
## Page 2344

API reference Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) p Src Images PVOID Pointer to an array of 1 or more source images (1 channel). If the images have more than 1 row, each row must contain an image of the same pattern position. n Src Array Size USHORT p Src Images array size ip Pattern Line Origins ITc Vn Container* [} 1836] X position of the pattern line origins (Container Type_Vector_R EAL, usually same origin for vertical and following diagonal line) f Slope Rad double Slope of the diagonal line in rad (> 0, < PI/2), relative to the vertical line (i.e., 0 would be a vertical line, PI/2 a horizontal line) a Camera Matrix Tc Vn Matrix3x3_LREAL Returns the camera matrix [} 1663]& a Distortion Coefficients Tc Vn Array8_LREAL Returns the lens distortion coefficients [k1, k2, p1, [} 1663]& p2, k3, k4, k5, k6] a Rotation Matrix Tc Vn Matrix3x3_LREAL Returns the rotation matrix [} 1663]& a Translation Vector Tc Vn Vector3_LREAL Returns the translation vector [} 1663]& f Reproj Error double& Returns the reprojection error st Calibration Options Calibration options Tc Vn Camera Calibration Op (recommended to set b Fix Aspect Ratio, tions [} 1715]& b Fix Principal Point, b Zero Tangent Dist) e Edge Direction ETc Vn Edge Direction Specification of the edge direction to search for [} 1688] f Min Strength float 100 Specification of the minimum strength (intensity difference) of the edge to search for n Max Search Lines ULONG 11 Maximum number of search lines (equally distributed over the image height, at most 1 searchline per image row) 2344 Version: 2.4.0 TF7000 - TF7810
## Page 2345

API reference Name Type Default Description n Max Thickness ULONG 5 Specification of the maximum thickness of the edge to search for, which means f Min Strength must be reached within n Max Thickness pixels n Subpixels Iterations ULONG 50 Specifies the number of subpixels (for INTERPOLATION, 10 - 20 usually is sufficient) or maximum number of iterations for optimizing the parameters (for APPROX_ERF and APPROX_GAUSSIAN, 50 - 100 usually is sufficient) f Approx Precision float 0.001f Specifies the approximation precision for APPROX_ERF and APPROX_GAUSSIAN (0.001 usually is sufficient, unused for INTERPOLATION) e Algorithm EDA_APPROX_ERF Selection of the edge ETc Vn Edge Detection Algor detection algorithm ithm [} 1688] Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D System Requirements 6.2.3.13.1.6 Compensate Lens Distortion Transforms an image to compensate the lens distortion. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Compensate Lens Distortion( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, Tc Vn Matrix3x3_LREAL& a Camera Matrix, Tc Vn Array4_LREAL& a Distortion Coefficients ) TF7000 - TF7810 Version: 2.4.0 2345
## Page 2346

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (Must be different from ip Src Image! An appropriate destination image will be created if required.) a Camera Matrix Tc Vn Matrix3x3_LREAL [} 1663]& Camera matrix containing the intrinsic parameters a Distortion Coefficients Tc Vn Array4_LREAL [} 1663]& Lens distortion coefficients [k1, k2, p1, p2] Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D System Requirements 6.2.3.13.1.7 Compensate Lens Distortion (Exp1) Transforms an image to compensate the lens distortion. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Compensate Lens Distortion( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, Tc Vn Matrix3x3_LREAL& a Camera Matrix, Tc Vn Array8_LREAL& a Distortion Coefficients ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (Must be different from ip Src Image! An appropriate destination image will be created if required.) a Camera Matrix Tc Vn Matrix3x3_LREAL [} 1663]& Camera matrix containing the intrinsic parameters a Distortion Coefficients Tc Vn Array8_LREAL [} 1663]& Lens distortion coefficients [k1, k2, p1, p2, k3, k4, k5, k6] 2346 Version: 2.4.0 TF7000 - TF7810
## Page 2347

API reference Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D System Requirements 6.2.3.13.1.8 Compensate Lens Distortion (Exp2) Transforms an image to compensate the lens distortion. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Compensate Lens Distortion( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, Tc Vn Matrix3x3_LREAL& a Camera Matrix, Tc Vn Array8_LREAL& a Distortion Coefficients, Tc Vn Matrix3x3_LREAL& a New Camera Matrix ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (Must be different from ip Src Image! An appropriate destination image will be created if required.) a Camera Matrix Tc Vn Matrix3x3_LREAL [} 1663]& Camera matrix containing the intrinsic parameters a Distortion Coefficients Tc Vn Array8_LREAL [} 1663]& Lens distortion coefficients [k1, k2, p1, p2, k3, k4, k5, k6] a New Camera Matrix Tc Vn Matrix3x3_LREAL [} 1663]& Allows additional scaling and shifting of the result image Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D System Requirements 6.2.3.13.1.9 Compensate Lens Distortion For Points Transforms point coordinates to compensate the lens distortion. TF7000 - TF7810 Version: 2.4.0 2347
## Page 2348

API reference Syntax Definition: HRESULT Compensate Lens Distortion For Points( HRESULT hr Prev, ITc Vn Container* ip Src Points, ITc Vn Container*& ip Dest Points, Tc Vn Matrix3x3_LREAL& a Camera Matrix, Tc Vn Array4_LREAL& a Distortion Coefficients ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Points ITc Vn Container* [} 1836] Container with source point coordinates (Container Type_Vector_Tc Vn Point 2_REAL or Container Type_Vector_Tc Vn Point2 _DINT) ip Dest Points ITc Vn Container* [} 1836]& Returns a container with the transformed point coordinates (Container Type_Vector_Tc Vn Point 2_REAL) a Camera Matrix Tc Vn Matrix3x3_LREAL [} 1663]& Camera matrix containing the intrinsic parameters a Distortion Coefficients Tc Vn Array4_LREAL [} 1663]& Lens distortion coefficients [k1, k2, p1, p2] Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D System Requirements 6.2.3.13.1.10 Compensate Lens Distortion For Points (Exp1) Transforms point coordinates to compensate the lens distortion. Syntax Definition: HRESULT Compensate Lens Distortion For Points( HRESULT hr Prev, ITc Vn Container* ip Src Points, ITc Vn Container*& ip Dest Points, Tc Vn Matrix3x3_LREAL& a Camera Matrix, Tc Vn Array8_LREAL& a Distortion Coefficients ) 2348 Version: 2.4.0 TF7000 - TF7810
## Page 2349

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Points ITc Vn Container* [} 1836] Container with source point coordinates (Container Type_Vector_Tc Vn Point 2_REAL or Container Type_Vector_Tc Vn Point2 _DINT) ip Dest Points ITc Vn Container* [} 1836]& Returns a container with the transformed point coordinates (Container Type_Vector_Tc Vn Point 2_REAL) a Camera Matrix Tc Vn Matrix3x3_LREAL [} 1663]& Camera matrix containing the intrinsic parameters a Distortion Coefficients Tc Vn Array8_LREAL [} 1663]& Lens distortion coefficients [k1, k2, p1, p2, k3, k4, k5, k6] Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D System Requirements 6.2.3.13.1.11 Compensate Lens Distortion For Points (Exp2) Transforms point coordinates to compensate the lens distortion. Syntax Definition: HRESULT Compensate Lens Distortion For Points( HRESULT hr Prev, ITc Vn Container* ip Src Points, ITc Vn Container*& ip Dest Points, Tc Vn Matrix3x3_LREAL& a Camera Matrix, Tc Vn Array8_LREAL& a Distortion Coefficients, Tc Vn Matrix3x3_LREAL& a New Camera Matrix ) TF7000 - TF7810 Version: 2.4.0 2349
## Page 2350

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Points ITc Vn Container* [} 1836] Container with source point coordinates (Container Type_Vector_Tc Vn Point 2_REAL or Container Type_Vector_Tc Vn Point2 _DINT) ip Dest Points ITc Vn Container* [} 1836]& Returns a container with the transformed point coordinates (Container Type_Vector_Tc Vn Point 2_REAL) a Camera Matrix Tc Vn Matrix3x3_LREAL [} 1663]& Camera matrix containing the intrinsic parameters a Distortion Coefficients Tc Vn Array8_LREAL [} 1663]& Lens distortion coefficients [k1, k2, p1, p2, k3, k4, k5, k6] a New Camera Matrix Tc Vn Matrix3x3_LREAL [} 1663]& Allows additional shifting of the result point coordinates Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D System Requirements 6.2.3.13.1.12 Detect Pattern Points Detects calibration pattern points (circles) within the provided image. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Detect Pattern Points( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Container*& ip Pattern Points, Tc Vn Params Blob Detection& st Blob Detection Params, ULONG n Number Of Points, float f Size Diff Thres Factor = 0.3f, bool b Subpixel Accuracy = false, ETc Vn Edge Direction e Edge Direction = ED_DARK_TO_LIGHT, float f Min Strength = 50, ULONG n Max Thickness = 10, ULONG n Subpixels Iterations = 10, ULONG n Search Lines = 92, float f Approx Precision = 0.001f, ETc Vn Edge Detection Algorithm e Algorithm = EDA_INTERPOLATION ) 2350 Version: 2.4.0 TF7000 - TF7810
## Page 2351

API reference Parameters TF7000 - TF7810 Version: 2.4.0 2351
## Page 2352

API reference Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (USINT, 1 channel) ip Pattern Points ITc Vn Container* [} 1836]& Returns the pattern point positions (Container Type_Vector_T c Vn Point2_REAL; Non- zero interface pointers are reused.) st Blob Detection Params Tc Vn Params Blob Detection Parameters to detect and filter contours. [} 1722]& n Number Of Points ULONG Expected number of pattern points f Size Diff Thres Factor float 0.3f Threshold for filtering contours whose area differs from the average contour area by more than (average * f Size Diff Thres Factor) b Subpixel Accuracy bool false If true, the pattern points are detected with subpixel accuracy e Edge Direction ETc Vn Edge Direction ED_DARK_TO_LIGHT Specification of the edge direction to search for [} 1688] (from center to outside circle) f Min Strength float 50 Specification of the minimum strength (intensity difference) of the edge to search for n Max Thickness ULONG 10 Specification of the maximum thickness of the edge to search for, which means f Min Strength must be reached within n Max Thickness pixels n Subpixels Iterations ULONG 10 Specifies the number of subpixels (for INTERPOLATION, 10 - 20 usually is sufficient) or maximum number of iterations for optimizing the parameters (for APPROX_ERF and APPROX_GAUSSIAN, 50 - 100 usually is sufficient) n Search Lines ULONG 92 Specifies the amount of search lines, which are equally distributed in all directions (must be >= 8 and a multiple of 4) 2352 Version: 2.4.0 TF7000 - TF7810
## Page 2353

API reference Name Type Default Description f Approx Precision float 0.001f Specifies the approximation precision for APPROX_ERF and APPROX_GAUSSIAN (0.001 usually is sufficient, unused for INTERPOLATION) e Algorithm EDA_INTERPOLATION Selection of the edge ETc Vn Edge Detection Algor detection algorithm ithm [} 1688] Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D System Requirements 6.2.3.13.1.13 Generate Calibration Pattern Reference Points Generate reference points for common calibration patterns. Syntax Definition: HRESULT Generate Calibration Pattern Reference Points( HRESULT hr Prev, ITc Vn Container*& ip Reference Points, ETc Vn Calibration Pattern e Pattern, ETc Vn Calibration Pattern Origin e Origin, ULONG n Width, ULONG n Height, float f Dist X, float f Dist Y ) TF7000 - TF7810 Version: 2.4.0 2353
## Page 2354

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Reference Points ITc Vn Container* [} 1836]& Returns the generated reference points (Container Type_Vector_Tc Vn Point 3_REAL) e Pattern ETc Vn Calibration Pattern [} 1667] Calibration pattern type e Origin ETc Vn Calibration Pattern Origin Calibration pattern origin [} 1667] n Width ULONG Pattern width, i.e. number of pattern points in x direction n Height ULONG Pattern height, i.e. number of pattern points in y direction f Dist X float Distance between pattern points in x direction f Dist Y float Distance between pattern points in y direction Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D System Requirements 6.2.3.13.1.14 Image Points World Distance Computes the distance in the world coordinate system between two points (in the same world coordinate z layer) given in image coordinates. Syntax Definition: HRESULT Image Points World Distance( HRESULT hr Prev, Tc Vn Point2_REAL& a Image Point1, Tc Vn Point2_REAL& a Image Point2, double& f World Distance, Tc Vn Matrix3x3_LREAL& a Camera Matrix, Tc Vn Array8_LREAL& a Distortion Coefficients, Tc Vn Matrix3x3_LREAL& a Rotation Matrix, Tc Vn Vector3_LREAL& a Translation Vector, double f Z ) 2354 Version: 2.4.0 TF7000 - TF7810
## Page 2355

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Image Point1 Tc Vn Point2_REAL [} 1661]& First point in the image coordinate system a Image Point2 Tc Vn Point2_REAL [} 1661]& Second point in the image coordinate system f World Distance double& Returns the distance between a Image Point1 and a Image Point2 in the world coordinate system a Camera Matrix Tc Vn Matrix3x3_LREAL [} 1663]& 3x3 camera matrix containing the intrinsic parameters a Distortion Coefficients Tc Vn Array8_LREAL [} 1663]& Lens distortion coefficients [k1, k2, p1, p2, k3, k4, k5, k6] a Rotation Matrix Tc Vn Matrix3x3_LREAL [} 1663]& 3x3 rotation matrix a Translation Vector Tc Vn Vector3_LREAL [} 1663]& Translation vector f Z double z coordinate (world coordinate system) of the given points (0 would be at (toplevel) calibration pattern) Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D System Requirements 6.2.3.13.1.15 Solve Pn P Computes the rotation matrix and translation vector from 3D-2D point correspondences. Syntax Definition: HRESULT Solve Pn P( HRESULT hr Prev, ITc Vn Container* ip Image Points, ITc Vn Container* ip Reference Points, Tc Vn Matrix3x3_LREAL& a Camera Matrix, Tc Vn Array8_LREAL& a Distortion Coefficients, Tc Vn Matrix3x3_LREAL& a Rotation Matrix, Tc Vn Vector3_LREAL& a Translation Vector, double& f Reproj Error, ETc Vn Solve Pn PMethod e Method = SPM_ITERATIVE, bool b Use Extrinsic Guess = false ) TF7000 - TF7810 Version: 2.4.0 2355
## Page 2356

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Image Points ITc Vn Container* [} 1836] Image points (Container Type_Vector_T c Vn Point2_REAL, requires at least 4 points in the same order as in ip Reference Points) ip Reference Points ITc Vn Container* [} 1836] Reference world points (Container Type_Vector_T c Vn Point3_REAL, same number of points as in ip Image Points) a Camera Matrix Tc Vn Matrix3x3_LREAL Camera matrix (e.g. computed with one of the [} 1663]& Calibrate Camera functions) a Distortion Coefficients Tc Vn Array8_LREAL Lens distortion coefficients [k1, k2, p1, [} 1663]& p2, k3, k4, k5, k6] (e.g. computed with one of the Calibrate Camera functions) a Rotation Matrix Tc Vn Matrix3x3_LREAL Returns the rotation matrix [} 1663]& a Translation Vector Tc Vn Vector3_LREAL Returns the translation vector [} 1663]& f Reproj Error double& Returns the reprojection error e Method ETc Vn Solve Pn PMethod SPM_ITERATIVE Solve Pn P method [} 1703] b Use Extrinsic Guess bool false If true, the provided rotation matrix and translation vector are used as an initial guess for further optimization (only supported for the SPM_ITERATIVE method). Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D 2356 Version: 2.4.0 TF7000 - TF7810
## Page 2357

API reference System Requirements 6.2.3.13.1.16 Sort Detected Pattern Points Sort the detected pattern points according to the relative positions of the calibration pattern points. Syntax Definition: HRESULT Sort Detected Pattern Points( HRESULT hr Prev, ITc Vn Container* ip Image Points, ITc Vn Container* ip Pattern Points ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Image Points ITc Vn Container* [} 1836] Detected pattern point positions in the image coordinate system (will be sorted by this function, Container Type_Vector_Tc Vn Point2 _REAL) ip Pattern Points ITc Vn Container* [} 1836] The pattern points in the calibration pattern coordinate system, used as a reference to sort ip Image Points (Container Type_Vector_Tc Vn Point 3_REAL) Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D System Requirements 6.2.3.13.1.17 Transform Coordinates Image To World (Container) Transform 2D image point coordinates to 3D world coordinates (using intrinsic + extrinsic calibration results). Syntax Definition: HRESULT Transform Coordinates Image To World( HRESULT hr Prev, ITc Vn Container* ip Src Points2D, ITc Vn Container*& ip Dest Points3D, Tc Vn Matrix3x3_LREAL& a Camera Matrix, Tc Vn Array8_LREAL& a Distortion Coefficients, Tc Vn Matrix3x3_LREAL& a Rotation Matrix, Tc Vn Vector3_LREAL& a Translation Vector, double f Z ) TF7000 - TF7810 Version: 2.4.0 2357
## Page 2358

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Points2D ITc Vn Container* [} 1836] Container with 2D source points (Tc Vn Point2_DINT or Tc Vn Point2_REAL or Tc Vn Point2_LREAL) ip Dest Points3D ITc Vn Container* [} 1836]& Returns the transformed 3D points (Tc Vn Point3_LREAL) a Camera Matrix Tc Vn Matrix3x3_LREAL [} 1663]& 3x3 camera matrix containing the intrinsic parameters a Distortion Coefficients Tc Vn Array8_LREAL [} 1663]& Lens distortion coefficients [k1, k2, p1, p2, k3, k4, k5, k6] a Rotation Matrix Tc Vn Matrix3x3_LREAL [} 1663]& 3x3 rotation matrix a Translation Vector Tc Vn Vector3_LREAL [} 1663]& Translation vector f Z double z coordinate (world coordinate system) of the transformed points (0 would be at (toplevel) calibration pattern) Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D System Requirements 6.2.3.13.1.18 Transform Coordinates Image To World (Point) Transform 2D image point coordinate to 3D world coordinate (using intrinsic + extrinsic calibration results). Syntax Definition: HRESULT Transform Coordinates Image To World( HRESULT hr Prev, Tc Vn Point2_LREAL& a Src Point, Tc Vn Point3_LREAL& a Dest Point, Tc Vn Matrix3x3_LREAL& a Camera Matrix, Tc Vn Array8_LREAL& a Distortion Coefficients, Tc Vn Matrix3x3_LREAL& a Rotation Matrix, Tc Vn Vector3_LREAL& a Translation Vector, double f Z ) 2358 Version: 2.4.0 TF7000 - TF7810
## Page 2359

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Src Point Tc Vn Point2_LREAL [} 1661]& Point in the image coordinate system a Dest Point Tc Vn Point3_LREAL [} 1661]& Returns the point in the world coordinate system a Camera Matrix Tc Vn Matrix3x3_LREAL [} 1663]& 3x3 camera matrix containing the intrinsic parameters a Distortion Coefficients Tc Vn Array8_LREAL [} 1663]& Lens distortion coefficients [k1, k2, p1, p2, k3, k4, k5, k6] a Rotation Matrix Tc Vn Matrix3x3_LREAL [} 1663]& 3x3 rotation matrix a Translation Vector Tc Vn Vector3_LREAL [} 1663]& Translation vector f Z double z coordinate (world coordinate system) of the transformed points (0 would be at (toplevel) calibration pattern) Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D System Requirements 6.2.3.13.1.19 Transform Coordinates Planar (Container) Compute real-world coordinates for given image points or vice versa. Syntax Definition: HRESULT Transform Coordinates Planar( HRESULT hr Prev, ITc Vn Container* ip Src Points, ITc Vn Container*& ip Dest Points, Tc Vn Matrix3x3_LREAL& a Transformation Matrix ) TF7000 - TF7810 Version: 2.4.0 2359
## Page 2360

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Points ITc Vn Container* [} 1836] Container with 2D source points (Tc Vn Point2_DINT or Tc Vn Point2_REAL or Tc Vn Point2_LREAL) ip Dest Points ITc Vn Container* [} 1836]& Returns the transformed 2D points (Tc Vn Point2_LREAL) a Transformation Matrix Tc Vn Matrix3x3_LREAL [} 1663]& Transformation matrix obtained with Vn Calibrate Camera Planar() or its inverse matrix obtained with Vn Invert Matrix3x3() Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.1.20 Transform Coordinates Planar (Point) Compute real-world coordinates for a given image point or vice versa. Syntax Definition: HRESULT Transform Coordinates Planar( HRESULT hr Prev, Tc Vn Point2_LREAL& a Src Point, Tc Vn Point2_LREAL& a Dest Point, Tc Vn Matrix3x3_LREAL& a Transformation Matrix ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Src Point Tc Vn Point2_LREAL [} 1661]& Point in the source coordinate system a Dest Point Tc Vn Point2_LREAL [} 1661]& Returns point in the destination coordinate system a Transformation Matrix Tc Vn Matrix3x3_LREAL [} 1663]& Transformation matrix obtained with Vn Calibrate Camera Planar() or its inverse matrix obtained with Vn Invert Matrix3x3() 2360 Version: 2.4.0 TF7000 - TF7810
## Page 2361

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.1.21 Transform Coordinates World To Image (Container) Transform 3D world coordinates to 2D image coordinates (using intrinsic + extrinsic calibration results). Syntax Definition: HRESULT Transform Coordinates World To Image( HRESULT hr Prev, ITc Vn Container* ip Src Points3D, ITc Vn Container*& ip Dest Points2D, Tc Vn Matrix3x3_LREAL& a Camera Matrix, Tc Vn Array8_LREAL& a Distortion Coefficients, Tc Vn Matrix3x3_LREAL& a Rotation Matrix, Tc Vn Vector3_LREAL& a Translation Vector, bool b Integer ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Points3D ITc Vn Container* [} 1836] Container with 3D source points (Tc Vn Point3_LREAL) ip Dest Points2D ITc Vn Container* [} 1836]& Returns the transformed 2D points (Tc Vn Point2_REAL or Tc Vn Point2_DINT, depending on b Integer) a Camera Matrix Tc Vn Matrix3x3_LREAL [} 1663]& 3x3 camera matrix containing the intrinsic parameters a Distortion Coefficients Tc Vn Array8_LREAL [} 1663]& Lens distortion coefficients [k1, k2, p1, p2, k3, k4, k5, k6] a Rotation Matrix Tc Vn Matrix3x3_LREAL [} 1663]& 3x3 rotation matrix a Translation Vector Tc Vn Vector3_LREAL [} 1663]& Translation vector b Integer bool Selects whether the function returns a container of Tc Vn Point2_DINT or Tc Vn Point2_REAL Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D TF7000 - TF7810 Version: 2.4.0 2361
## Page 2362

API reference System Requirements 6.2.3.13.1.22 Transform Coordinates World To Image (Point) Transform 3D world coordinates to 2D image coordinates (using intrinsic + extrinsic calibration results). Syntax Definition: HRESULT Transform Coordinates World To Image( HRESULT hr Prev, Tc Vn Point3_LREAL& a Src Point, Tc Vn Point2_REAL& a Dest Point, Tc Vn Matrix3x3_LREAL& a Camera Matrix, Tc Vn Array8_LREAL& a Distortion Coefficients, Tc Vn Matrix3x3_LREAL& a Rotation Matrix, Tc Vn Vector3_LREAL& a Translation Vector ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Src Point Tc Vn Point3_LREAL [} 1661]& 3D source point (world coordinate system) a Dest Point Tc Vn Point2_REAL [} 1661]& Returns the transformed 2D point (image coordinate system) a Camera Matrix Tc Vn Matrix3x3_LREAL [} 1663]& 3x3 camera matrix containing the intrinsic parameters a Distortion Coefficients Tc Vn Array8_LREAL [} 1663]& Lens distortion coefficients [k1, k2, p1, p2, k3, k4, k5, k6] a Rotation Matrix Tc Vn Matrix3x3_LREAL [} 1663]& 3x3 rotation matrix a Translation Vector Tc Vn Vector3_LREAL [} 1663]& Translation vector Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D System Requirements 6.2.3.13.2 Align Rotated Image Region Copies the provided image region and aligns it to the image axes. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Align Rotated Image Region( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, Tc Vn Rotated Rectangle& st Region, ETc Vn Interpolation Type e Interpolation Type = IT_BILINEAR, 2362 Version: 2.4.0 TF7000 - TF7810
## Page 2363

API reference ETc Vn Border Interpolation Method e Border Interpolation = BIM_CONSTANT, Tc Vn Vector4_LREAL& a Border Value = {0, 0, 0, 0} ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate image will be created if required.) st Region Tc Vn Rotated Rectangle Image region to be aligned [} 1733]& e Interpolation Type ETc Vn Interpolation Type IT_BILINEAR Interpolation method [} 1694] e Border Interpolation BIM_CONSTANT Border interpolation ETc Vn Border Interpolation method (ISOLATED not supported) Method [} 1666] a Border Value Tc Vn Vector4_LREAL {0, 0, 0, 0} Border value, if CONSTANT is used [} 1663]& Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.3 Apply Rotation To Affine Transformation Apply a rotation to an existing 2D affine transformation matrix. Syntax Definition: HRESULT Apply Rotation To Affine Transformation( HRESULT hr Prev, Tc Vn Matrix2x3_LREAL& a Transformation Matrix, double f Angle, bool b Use Pre Multiplication = true ) TF7000 - TF7810 Version: 2.4.0 2363
## Page 2364

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Transformation Matrix Tc Vn Matrix2x3_LREAL Affine transformation matrix to which the [} 1663]& rotation is applied f Angle double Angle in radians (positive means counter-clockwise) b Use Pre Multiplication bool true Select if pre- or post- multiplication should be used Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.4 Apply Scaling To Affine Transformation Apply a scaling to an existing 2D affine transformation matrix. Syntax Definition: HRESULT Apply Scaling To Affine Transformation( HRESULT hr Prev, Tc Vn Matrix2x3_LREAL& a Transformation Matrix, double f Scale X, double f Scale Y, bool b Use Pre Multiplication = true ) 2364 Version: 2.4.0 TF7000 - TF7810
## Page 2365

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Transformation Matrix Tc Vn Matrix2x3_LREAL Affine transformation matrix to which the scaling [} 1663]& is applied f Scale X double Scaling factor in x direction f Scale Y double Scaling factor in y direction b Use Pre Multiplication bool true Select if pre- or post- multiplication should be used Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.5 Apply Translation To Affine Transformation Apply a translation to an existing 2D affine transformation matrix. Syntax Definition: HRESULT Apply Translation To Affine Transformation( HRESULT hr Prev, Tc Vn Matrix2x3_LREAL& a Transformation Matrix, double f Delta X, double f Delta Y, bool b Use Pre Multiplication = true ) TF7000 - TF7810 Version: 2.4.0 2365
## Page 2366

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Transformation Matrix Tc Vn Matrix2x3_LREAL Affine transformation matrix to which the [} 1663]& translation is applied f Delta X double Translation in x direction f Delta Y double Translation in y direction b Use Pre Multiplication bool true Select if pre- or post- multiplication should be used Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.6 Apply YAxis Inversion To Affine Transformation Apply an inversion of the y-axis direction to an existing 2D affine transformation matrix. Syntax Definition: HRESULT Apply YAxis Inversion To Affine Transformation( HRESULT hr Prev, Tc Vn Matrix2x3_LREAL& a Transformation Matrix, bool b Use Pre Multiplication = true ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Transformation Matrix Tc Vn Matrix2x3_LREAL Affine transformation matrix to which the [} 1663]& inversion of the y-axis direction is applied b Use Pre Multiplication bool true Select if pre- or post- multiplication should be used 2366 Version: 2.4.0 TF7000 - TF7810
## Page 2367

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.7 Convert Cartesian To Polar Angle Image Converts cartesian coordinates (x, y) to polar angle. Syntax Definition: HRESULT Convert Cartesian To Polar Angle Image( HRESULT hr Prev, ITc Vn Image* ip Src Image X, ITc Vn Image* ip Src Image Y, ITc Vn Image*& ip Dest Image Ang, bool b Angle In Degrees = false ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image X ITc Vn Image* [} 1870] Source image containing the x values (elements of type REAL or LREAL) ip Src Image Y ITc Vn Image* [} 1870] Source image containing the y values (Same element type as ip Src Image X) ip Dest Image Ang ITc Vn Image* [} 1870]& Destination image containing the angles (Same element type as source images. An appropriate destination image will be created if required.) b Angle In Degrees bool false Specifys, if the angles should be in degrees or radians Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 2367
## Page 2368

API reference System Requirements 6.2.3.13.8 Convert Cartesian To Polar Angles Converts cartesian coordinates (x, y) to polar angle. Syntax Definition: HRESULT Convert Cartesian To Polar Angles( HRESULT hr Prev, ITc Vn Container* ip Src Points Cart, ITc Vn Container*& ip Dest Angles, bool b Angle In Degrees = false ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Points Cart ITc Vn Container* [} 1836] Container with cartesian points (Container Type_Vector_T c Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL or Container Type_Vector_Tc Vn Point2_LREAL) ip Dest Angles ITc Vn Container* [} 1836]& Returns a container which is filled with the angles (Container Type_Vector_R EAL, if source points are of type Tc Vn Point2_DINT or Tc Vn Point2_REAL; else Container Type_Vector_L REAL. Non-zero interface pointers are reused.) b Angle In Degrees bool false Specify, if the angles should be in degrees or radians Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.9 Convert Cartesian To Polar Images Converts cartesian coordinates (x, y) to polar coordinates (magnitude, angle). 2368 Version: 2.4.0 TF7000 - TF7810
## Page 2369

API reference Syntax Definition: HRESULT Convert Cartesian To Polar Images( HRESULT hr Prev, ITc Vn Image* ip Src Image X, ITc Vn Image* ip Src Image Y, ITc Vn Image*& ip Dest Image Mag, ITc Vn Image*& ip Dest Image Ang, bool b Angle In Degrees = false ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image X ITc Vn Image* [} 1870] Source image containing the x values (elements of type REAL or LREAL) ip Src Image Y ITc Vn Image* [} 1870] Source image containing the y values (Same element type as ip Src Image X) ip Dest Image Mag ITc Vn Image* [} 1870]& Destination image containing the magnitudes (Same element type as source images. An appropriate destination image will be created if required.) ip Dest Image Ang ITc Vn Image* [} 1870]& Destination image containing the angles (Same element type as source images. An appropriate destination image will be created if required.) b Angle In Degrees bool false Specifys, if the angles should be in degrees or radians Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.10 Convert Cartesian To Polar Magnitude Image Converts cartesian coordinates (x, y) to polar magnitude. TF7000 - TF7810 Version: 2.4.0 2369
## Page 2370

API reference Syntax Definition: HRESULT Convert Cartesian To Polar Magnitude Image( HRESULT hr Prev, ITc Vn Image* ip Src Image X, ITc Vn Image* ip Src Image Y, ITc Vn Image*& ip Dest Image Mag ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image X ITc Vn Image* [} 1870] Source image containing the x values (elements of type REAL or LREAL) ip Src Image Y ITc Vn Image* [} 1870] Source image containing the y values (Same element type as ip Src Image X) ip Dest Image Mag ITc Vn Image* [} 1870]& Destination image containing the magnitudes (Same element type as source images. An appropriate destination image will be created if required.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.11 Convert Cartesian To Polar Magnitudes Converts cartesian coordinates (x, y) to polar magnitude. Syntax Definition: HRESULT Convert Cartesian To Polar Magnitudes( HRESULT hr Prev, ITc Vn Container* ip Src Points Cart, ITc Vn Container*& ip Dest Mags ) 2370 Version: 2.4.0 TF7000 - TF7810
## Page 2371

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Points Cart ITc Vn Container* [} 1836] Container with cartesian points (Container Type_Vector_Tc Vn Point 2_DINT or Container Type_Vector_Tc Vn Point2 _REAL or Container Type_Vector_Tc Vn Point2 _LREAL) ip Dest Mags ITc Vn Container* [} 1836]& Returns a container which is filled with the magnitudes (Container Type_Vector_REAL, if source points are of type Tc Vn Point2_DINT or Tc Vn Point2_REAL; else Container Type_Vector_LREAL. Non-zero interface pointers are reused.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.12 Convert Cartesian To Polar Points Converts cartesian coordinates (x, y) to polar coordinates (magnitude, angle). Syntax Definition: HRESULT Convert Cartesian To Polar Points( HRESULT hr Prev, ITc Vn Container* ip Src Points Cart, ITc Vn Container*& ip Dest Points Polar, bool b Angle In Degrees = false ) TF7000 - TF7810 Version: 2.4.0 2371
## Page 2372

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Points Cart ITc Vn Container* [} 1836] Container with cartesian points (Container Type_Vector_T c Vn Point2_DINT or Container Type_Vector_Tc Vn Point2_REAL or Container Type_Vector_Tc Vn Point2_LREAL) ip Dest Points Polar ITc Vn Container* [} 1836]& Returns a container which is filled with the converted points in polar coordinates (Container Type_Vector_T c Vn Point2_REAL, if source points are of type Tc Vn Point2_DINT or Tc Vn Point2_REAL; else Container Type_Vector_Tc Vn Point2_LREAL. Non- zero interface pointers are reused.) b Angle In Degrees bool false Specifys, if the angles should be in degrees or radians Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.13 Convert Polar To Cartesian Images Converts polar coordinates (magnitude, angle) to cartesian coordinates (x, y). Syntax Definition: HRESULT Convert Polar To Cartesian Images( HRESULT hr Prev, ITc Vn Image* ip Src Image Mag, ITc Vn Image* ip Src Image Ang, ITc Vn Image*& ip Dest Image X, ITc Vn Image*& ip Dest Image Y, bool b Angle In Degrees = false ) 2372 Version: 2.4.0 TF7000 - TF7810
## Page 2373

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image Mag ITc Vn Image* [} 1870] Source image containing the magnitudes (elements of type REAL or LREAL) ip Src Image Ang ITc Vn Image* [} 1870] Source image containing the angles (Same element type as ip Src Image Mag) ip Dest Image X ITc Vn Image* [} 1870]& Destination image containing the x values (Same element type as source images. An appropriate destination image will be created if required.) ip Dest Image Y ITc Vn Image* [} 1870]& Destination image containing the y values (Same element type as source images. An appropriate destination image will be created if required.) b Angle In Degrees bool false Specifys, if the angles are in degrees or radians Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.14 Convert Polar To Cartesian Points Converts polar coordinates (magnitude, angle) to cartesian coordinates (x, y). Syntax Definition: HRESULT Convert Polar To Cartesian Points( HRESULT hr Prev, ITc Vn Container* ip Src Points Polar, ITc Vn Container*& ip Dest Points Cart, bool b Angle In Degrees = false ) TF7000 - TF7810 Version: 2.4.0 2373
## Page 2374

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Points Polar ITc Vn Container* [} 1836] Container with polar coordinates (Container Type_Vector_T c Vn Point2_REAL or Container Type_Vector_Tc Vn Point2_LREAL) ip Dest Points Cart ITc Vn Container* [} 1836]& Returns a container which is filled with the converted points in cartesian coordinates (same type ID as ip Src Points Polar. Non- zero interface pointers are reused.) b Angle In Degrees bool false Specifys, if the angles are in degrees or radians Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.15 Decompose Affine Transformation Decompose an affine transformation matrix and return the rotation angle (clockwise) in radian, translation vector (pixels), scale, and skew vectors (angle in radian). The decomposition method assumes the following order of transformation: Translation, Rotation, Scale, and Skew. Syntax Definition: HRESULT Decompose Affine Transformation( HRESULT hr Prev, Tc Vn Matrix2x3_LREAL& a Affine Transform, double& f Rotation Angle, Tc Vn Vector2_LREAL& a Translation Vector = {0, 0}, Tc Vn Vector2_LREAL& a Scale Vector = {0, 0}, Tc Vn Vector2_LREAL& a Skew Vector = {0, 0} ) 2374 Version: 2.4.0 TF7000 - TF7810
## Page 2375

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Affine Transform Tc Vn Matrix2x3_LREAL Affine transformation matrix [} 1663]& f Rotation Angle double& Rotation angle (radian) in the clockwise direction. The rotation center is the origin point (0,0) a Translation Vector Tc Vn Vector2_LREAL {0, 0} 2D translation vector. The values are in pixels [} 1663]& a Scale Vector Tc Vn Vector2_LREAL {0, 0} 2D scale vector [} 1663]& a Skew Vector Tc Vn Vector2_LREAL {0, 0} 2D skew vector. The values are the skew [} 1663]& angles in x and y directions in radian Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.16 Decompose Homography Decompose a homography matrix and verify four solutions of rotation, translation, and plane normal. It uses visible reference points being in front of the camera to confirm which solution(s) of the four solutions (maximum two solutions) are consistent with all reference points. Syntax Definition: HRESULT Decompose Homography( HRESULT hr Prev, Tc Vn Matrix3x3_LREAL& a Homography, Tc Vn Matrix3x3_LREAL& a Camera Matrix, Tc Vn Matrix3x3_LREAL& a Rotation Matrix A, Tc Vn Vector3_LREAL& a Translation Vector A, Tc Vn Vector3_LREAL& a Norm Vector A, Tc Vn Matrix3x3_LREAL& a Rotation Matrix B, Tc Vn Vector3_LREAL& a Translation Vector B, Tc Vn Vector3_LREAL& a Norm Vector B, ULONG& n Solutions, ITc Vn Container* ip Points Src = nullptr, ITc Vn Container* ip Points Des = nullptr, ITc Vn Container* ip Inlier Mask = nullptr ) TF7000 - TF7810 Version: 2.4.0 2375
## Page 2376

API reference Parameters 2376 Version: 2.4.0 TF7000 - TF7810
## Page 2377

API reference Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Homography Tc Vn Matrix3x3_LREAL Homography matrix (a perspective [} 1663]& transformation between two planes) a Camera Matrix Tc Vn Matrix3x3_LREAL Camera matrix [} 1663]& a Rotation Matrix A Tc Vn Matrix3x3_LREAL Rotation matrix of the first solution (Ra) [} 1663]& a Translation Vector A Tc Vn Vector3_LREAL Translation vector of the first solution (Ta) [} 1663]& a Norm Vector A Tc Vn Vector3_LREAL Norm vector of the first solution (Na) [} 1663]& a Rotation Matrix B Tc Vn Matrix3x3_LREAL Rotation matrix of the second solution (Rb) [} 1663]& a Translation Vector B Tc Vn Vector3_LREAL Translation vector of the second solution (Tb) [} 1663]& a Norm Vector B Tc Vn Vector3_LREAL Norm vector of the second solution (Nb) [} 1663]& n Solutions ULONG& Return the number of true potential solutions [0,1, or 2]. 0: no true potential solutions for the given corresponding points are confirmed. 1: the solution (Ra, Ta, Na) is confirmed. 2: both solution (Ra, Ta, Na) and (Rb, Tb, Nb) are confirmed. In all cases the function returns two solutions (Ra, Ta, Nb) and (Rb, Tb, Nb). The third and the fourth solutions can be calculated as follows: (Ra, -Ta, -Na) and (Rb, -Tb, -Nb). ip Points Src ITc Vn Container* [} 1836] nullptr Container with source points (Container Type_Vector_T c Vn Point2_REAL) ip Points Des ITc Vn Container* [} 1836] nullptr Container with destination points (same number as ip Points1, Container Type_Vector_Tc Vn Point2_REAL) TF7000 - TF7810 Version: 2.4.0 2377
## Page 2378

API reference Name Type Default Description ip Inlier Mask ITc Vn Container* [} 1836] nullptr A mask marking the inliers (optional, set to 0 if not available; Container Type_Vector_SI NT or Container Type_Vector_U SINT) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.17 Flip Image Flip an image (mirror and shift back to prior coordinates). Syntax Definition: HRESULT Flip Image( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, ETc Vn Flip Axis e Flip Axis ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) e Flip Axis ETc Vn Flip Axis [} 1692] Selects the axis around which to flip the image Return value HRESULT [} 144] Required License TC3 Vision Base 2378 Version: 2.4.0 TF7000 - TF7810
## Page 2379

API reference System Requirements 6.2.3.13.18 Generate Affine Transformation Unit Matrix2D Generate an affine transformation 2D unit matrix. Syntax Definition: HRESULT Generate Affine Transformation Unit Matrix2D( HRESULT hr Prev, Tc Vn Matrix2x3_LREAL& a Transformation Matrix ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Transformation Matrix Tc Vn Matrix2x3_LREAL [} 1663]& Resulting affine transformation unit matrix Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.19 Get Affine Transformation Calculate the affine transformation between three corresponding point pairs. The points mark the corners of the corresponding triangles. Syntax Definition: HRESULT Get Affine Transformation( HRESULT hr Prev, Tc Vn Array3_Point2_REAL& a Src Points, Tc Vn Array3_Point2_REAL& a Dest Points, Tc Vn Matrix2x3_LREAL& a Transformation Matrix ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Src Points Tc Vn Array3_Point2_REAL [} 1663]& Source points a Dest Points Tc Vn Array3_Point2_REAL [} 1663]& Destination points a Transformation Matrix Tc Vn Matrix2x3_LREAL [} 1663]& Resulting transformation matrix TF7000 - TF7810 Version: 2.4.0 2379
## Page 2380

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.20 Get Affine Transformation2D Estimate the affine transformation between two planar point sets. Syntax Definition: HRESULT Get Affine Transformation2D( HRESULT hr Prev, ITc Vn Container* ip Src Points, ITc Vn Container* ip Dest Points, Tc Vn Matrix2x3_LREAL& a Affine Transform, ETc Vn Estimation Algorithm e Algorithm = EA_RANSAC, double f Reproj Threshold = 3, ITc Vn Container** pip Inlier Mask = nullptr, ULONG n Max Iterations = 2000, double f Confidence = 0.995, ULONG n Refine Iters = 10 ) 2380 Version: 2.4.0 TF7000 - TF7810
## Page 2381

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Points ITc Vn Container* [} 1836] Container with at least 3 source points (Container Type_Vector_T c Vn Point2_REAL) ip Dest Points ITc Vn Container* [} 1836] Container with destination points (same number as ip Src Points, Container Type_Vector_Tc Vn Point2_REAL) a Affine Transform Tc Vn Matrix2x3_LREAL Returns the affine transformation matrix, [} 1663]& which transforms the source points to the destination points e Algorithm ETc Vn Estimation Algorithm EA_RANSAC Estimation algorithm (only RANSAC and LMEDS are [} 1689] supported) f Reproj Threshold double 3 Maximum allowed reprojection error to treat a point pair as an inlier pip Inlier Mask ITc Vn Container* [} 1836]* nullptr Returns a mask marking the inliers (optional, set to 0 if not required; Container Type_Vector_U SINT) n Max Iterations ULONG 2000 Maximum number of iterations f Confidence double 0.995 Confidence (0..1) n Refine Iters ULONG 10 Maximum number of iterations of Levenberg- Marquardt algorithm to refine further the affine transform (using only inliers). Set to 0 to disable refining. Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.21 Get Perspective Transformation Calculate the perspective transformation between four corresponding point pairs. The points mark the corners of the corresponding rectangles. TF7000 - TF7810 Version: 2.4.0 2381
## Page 2382

API reference Syntax Definition: HRESULT Get Perspective Transformation( HRESULT hr Prev, Tc Vn Array4_Point2_REAL& a Src Points, Tc Vn Array4_Point2_REAL& a Dest Points, Tc Vn Matrix3x3_LREAL& a Transformation Matrix ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Src Points Tc Vn Array4_Point2_REAL [} 1663]& Source points a Dest Points Tc Vn Array4_Point2_REAL [} 1663]& Destination points a Transformation Matrix Tc Vn Matrix3x3_LREAL [} 1663]& Resulting transformation matrix Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.22 Homography Find the homography (perspective transformation) between two planar point sets. Syntax Definition: HRESULT Homography( HRESULT hr Prev, ITc Vn Container* ip Src Points, ITc Vn Container* ip Dest Points, Tc Vn Matrix3x3_LREAL& a Perspective Transform, ETc Vn Estimation Algorithm e Algorithm = EA_DEFAULT, double f Reproj Threshold = 3, ITc Vn Container** pip Inlier Mask = nullptr, ULONG n Max Iterations = 2000, double f Confidence = 0.995 ) 2382 Version: 2.4.0 TF7000 - TF7810
## Page 2383

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Points ITc Vn Container* [} 1836] Container with at least 4 source points (Container Type_Vector_T c Vn Point2_REAL) ip Dest Points ITc Vn Container* [} 1836] Container with destination points (same number as ip Src Points, Container Type_Vector_Tc Vn Point2_REAL) a Perspective Transform Tc Vn Matrix3x3_LREAL Returns the perspective transformation matrix, [} 1663]& which transforms the source points to the destination points e Algorithm ETc Vn Estimation Algorithm EA_DEFAULT Estimation algorithm [} 1689] f Reproj Threshold double 3 Maximum allowed reprojection error to treat a point pair as an inlier (only for RANSAC, RHO) pip Inlier Mask ITc Vn Container* [} 1836]* nullptr Returns a mask marking the inliers (optional, set to 0 if not required; Container Type_Vector_SI NT; only for RANSAC, LMEDS) n Max Iterations ULONG 2000 Maximum number of RANSAC iterations f Confidence double 0.995 Confidence (0..1) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.23 Invert Affine Transformation Invert a 2D affine transformation matrix. The inverted transformation compensates the affine transformation on an image if it is used in the F_VN_Warp Affine function. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 2383
## Page 2384

API reference HRESULT Invert Affine Transformation( HRESULT hr Prev, Tc Vn Matrix2x3_LREAL& a Transformation Matrix, Tc Vn Matrix2x3_LREAL& a Inverted Transformation Matrix ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Transformation Matrix Tc Vn Matrix2x3_LREAL [} 1663]& Source affine transformation matrix a Inverted Transformation Matrix Tc Vn Matrix2x3_LREAL [} 1663]& Resulting inverted affine transformation matrix Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.24 Perspective Transformation Apply a perspective transformation (rotation + translation, e.g. from extrinsic calibration) to 3D point coordinates. Syntax Definition: HRESULT Perspective Transformation( HRESULT hr Prev, ITc Vn Container* ip Src Points, ITc Vn Container*& ip Dest Points, Tc Vn Matrix3x3_LREAL& a Rotation Matrix, Tc Vn Vector3_LREAL& a Translation Vector ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Points ITc Vn Container* [} 1836] Container with 3D source points (Tc Vn Point3_REAL or Tc Vn Point3_LREAL) ip Dest Points ITc Vn Container* [} 1836]& Returns the transformed points (same type as ip Src Points) a Rotation Matrix Tc Vn Matrix3x3_LREAL [} 1663]& 3x3 rotation matrix a Translation Vector Tc Vn Vector3_LREAL [} 1663]& Translation vector 2384 Version: 2.4.0 TF7000 - TF7810
## Page 2385

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.25 Pyramid Down Downsamples an image to half width and height. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Pyramid Down( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.26 Pyramid Up Upsamples an image to double width and height. Syntax Definition: HRESULT Pyramid Up( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image ) TF7000 - TF7810 Version: 2.4.0 2385
## Page 2386

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.27 Remap Image To Log Polar Space Remap an image to log-polar space. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Remap Image To Log Polar Space( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, Tc Vn Point2_REAL& a Center, double f Scale = 0, ETc Vn Interpolation Type e Interpolation Type = IT_BILINEAR, LONG n Dest Width = -1, LONG n Dest Height = -1 ) 2386 Version: 2.4.0 TF7000 - TF7810
## Page 2387

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (Must not be the same as ip Src Image! An appropriate destination image will be created if required.) a Center Tc Vn Point2_REAL Center point for the transformation [} 1661]& f Scale double 0 Magnitude scale parameter, i.e. image width / ln(radius) (set to 0 for auto select) e Interpolation Type ETc Vn Interpolation Type IT_BILINEAR Interpolation type [} 1694] n Dest Width LONG -1 Destination image width (set to -1 for source image width, 0 to auto scale to transformed radius, > 0 for a user defined width) n Dest Height LONG -1 destination image height (set to -1 for source image height, 0 to auto scale to transformed radius * PI, > 0 for a user defined height) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.28 Remap Image To Polar Space Remap an image to polar space. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Remap Image To Polar Space( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, Tc Vn Point2_REAL& a Center, TF7000 - TF7810 Version: 2.4.0 2387
## Page 2388

API reference double f Max Radius = 0, ETc Vn Interpolation Type e Interpolation Type = IT_BILINEAR, LONG n Dest Width = -1, LONG n Dest Height = -1 ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (Must not be the same as ip Src Image! An appropriate destination image will be created if required.) a Center Tc Vn Point2_REAL Center point for the transformation [} 1661]& f Max Radius double 0 Maximum radius for the transformation (set to 0 for auto select) e Interpolation Type ETc Vn Interpolation Type IT_BILINEAR Interpolation type [} 1694] n Dest Width LONG -1 Destination image width (set to -1 for source image width, 0 to auto scale to transformed radius, > 0 for a user defined width) n Dest Height LONG -1 destination image height (set to -1 for source image height, 0 to auto scale to transformed radius * PI, > 0 for a user defined height) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.29 Resize Image Resize an image using a specific interpolation type while maintaining its aspect ratio. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. 2388 Version: 2.4.0 TF7000 - TF7810
## Page 2389

API reference Syntax Definition: HRESULT Resize Image( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, ULONG n Width, ULONG n Height, ETc Vn Interpolation Type e Interpolation Type, ETc Vn Padding Mode e Padding Mode = PM_NONE, Tc Vn Vector4_LREAL& a Border Value = {0, 0, 0, 0} ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate image will be created if required.) n Width ULONG New width n Height ULONG New height e Interpolation Type ETc Vn Interpolation Type Interpolation type [} 1694] e Padding Mode ETc Vn Padding Mode PM_NONE Image padding mode [} 1700] a Border Value Tc Vn Vector4_LREAL {0, 0, 0, 0} Border value, if TCVN_PM_LETTERBOX [} 1663]& is used Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.30 Rotate Image Rotate an image by 90, 180, or 270 degrees in clockwise direction. Syntax Definition: HRESULT Rotate Image( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, ETc Vn Rotation Angle e Angle ) TF7000 - TF7810 Version: 2.4.0 2389
## Page 2390

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate image will be created if required.) e Angle ETc Vn Rotation Angle [} 1702] Rotation angle Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.31 Rotate Image (Exp) Rotate an image by an individual rotation angle in degrees. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: HRESULT Rotate Image( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, double f Angle Deg, bool b Adjust Dest Size, ETc Vn Interpolation Type e Interpolation Type = IT_BILINEAR, ETc Vn Border Interpolation Method e Border Interpolation = BIM_CONSTANT, Tc Vn Vector4_LREAL& a Border Value = {0, 0, 0, 0} ) 2390 Version: 2.4.0 TF7000 - TF7810
## Page 2391

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate image will be created if required.) f Angle Deg double Rotation angle in degree (positive: counter- clockwise, negative: clockwise) b Adjust Dest Size bool If true, ip Dest Image size is adjusted so that the whole rotated ip Src Image is contained. Otherwise, ip Dest Image size is set to ip Src Image size. e Interpolation Type ETc Vn Interpolation Type IT_BILINEAR Interpolation method [} 1694] e Border Interpolation BIM_CONSTANT Border interpolation ETc Vn Border Interpolation method (ISOLATED not supported) Method [} 1666] a Border Value Tc Vn Vector4_LREAL {0, 0, 0, 0} Border value, if CONSTANT is used [} 1663]& Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.32 Warp Affine Apply an affine transformation to an image. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: HRESULT Warp Affine( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, Tc Vn Matrix2x3_LREAL& a Transformation Matrix ) TF7000 - TF7810 Version: 2.4.0 2391
## Page 2392

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate image will be created if required.) a Transformation Matrix Tc Vn Matrix2x3_LREAL [} 1663]& Affine transformation matrix Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.33 Warp Affine (Container) Apply an affine transformation to a container of 2D points. Syntax Definition: HRESULT Warp Affine( HRESULT hr Prev, ITc Vn Container* ip Src Points, ITc Vn Container*& ip Dest Points, Tc Vn Matrix2x3_LREAL& a Transformation Matrix ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Points ITc Vn Container* [} 1836] Source points (Container Type_Vector_Tc Vn Point 2_DINT or Container Type_Vector_Tc Vn Point2 _REAL or Container Type_Vector_Tc Vn Point2 _LREAL) ip Dest Points ITc Vn Container* [} 1836]& Returns the transformed points (same type ID as ip Src Points; Non- zero interface pointers are reused.) a Transformation Matrix Tc Vn Matrix2x3_LREAL [} 1663]& Affine transformation matrix Return value HRESULT [} 144] 2392 Version: 2.4.0 TF7000 - TF7810
## Page 2393

API reference Required License TC3 Vision Base System Requirements 6.2.3.13.34 Warp Affine (Point) Apply an affine transformation to a 2D point. Syntax Definition: HRESULT Warp Affine( HRESULT hr Prev, Tc Vn Point2_LREAL& a Src Point, Tc Vn Point2_LREAL& a Dest Point, Tc Vn Matrix2x3_LREAL& a Transformation Matrix ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Src Point Tc Vn Point2_LREAL [} 1661]& Source point a Dest Point Tc Vn Point2_LREAL [} 1661]& Destination point a Transformation Matrix Tc Vn Matrix2x3_LREAL [} 1663]& Affine transformation matrix Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.35 Warp Affine (Rectangle) Use an affine transform to warp a rectangle. Syntax Definition: HRESULT Warp Affine( HRESULT hr Prev, ULONG n Top Left X, ULONG n Top Left Y, ULONG n Bottom Right X, ULONG n Bottom Right Y, ITc Vn Container*& ip Dest Points, Tc Vn Matrix2x3_LREAL& a Transformation Matrix ) TF7000 - TF7810 Version: 2.4.0 2393
## Page 2394

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n Top Left X ULONG x coordinate of the top left corner n Top Left Y ULONG y coordinate of the top left corner n Bottom Right X ULONG x coordinate of the bottom right corner n Bottom Right Y ULONG y coordinate of the bottom right corner ip Dest Points ITc Vn Container* [} 1836]& Returns the 4 transformed points (Container Type_Vector_Tc Vn Point 2_REAL) a Transformation Matrix Tc Vn Matrix2x3_LREAL [} 1663]& Affine transformation matrix Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.36 Warp Affine (Exp) Apply an affine transformation to an image. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: HRESULT Warp Affine( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, Tc Vn Matrix2x3_LREAL& a Transformation Matrix, ULONG n Dest Width, ULONG n Dest Height, ETc Vn Interpolation Type e Interpolation Type, bool b Warp Inverse, ETc Vn Border Interpolation Method e Border Interpolation, double f Border Value ) 2394 Version: 2.4.0 TF7000 - TF7810
## Page 2395

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate image will be created if required.) a Transformation Matrix Tc Vn Matrix2x3_LREAL [} 1663]& Affine transformation matrix n Dest Width ULONG Width of the destination image n Dest Height ULONG Height of the destination image e Interpolation Type ETc Vn Interpolation Type [} 1694] Interpolation method b Warp Inverse bool Handle a Transformation Matrix as the inverse transformation e Border Interpolation ETc Vn Border Interpolation Method Border interpolation method (ISOLATED not supported) [} 1666] f Border Value double Border value, if CONSTANT is used Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.37 Warp Perspective Apply a perspective transformation to an image. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: HRESULT Warp Perspective( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, Tc Vn Matrix3x3_LREAL& a Transformation Matrix ) TF7000 - TF7810 Version: 2.4.0 2395
## Page 2396

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate image will be created if required.) a Transformation Matrix Tc Vn Matrix3x3_LREAL [} 1663]& Perspective transformation matrix Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.38 Warp Perspective (Container) Apply a perspective transformation to a container of 2D points. Syntax Definition: HRESULT Warp Perspective( HRESULT hr Prev, ITc Vn Container* ip Src Points, ITc Vn Container*& ip Dest Points, Tc Vn Matrix3x3_LREAL& a Transformation Matrix ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Points ITc Vn Container* [} 1836] Source points (Container Type_Vector_Tc Vn Point 2_DINT or Container Type_Vector_Tc Vn Point2 _REAL or Container Type_Vector_Tc Vn Point2 _LREAL) ip Dest Points ITc Vn Container* [} 1836]& Returns the transformed points (same type ID as ip Src Points; Non- zero interface pointers are reused.) a Transformation Matrix Tc Vn Matrix3x3_LREAL [} 1663]& Perspective transformation matrix Return value HRESULT [} 144] 2396 Version: 2.4.0 TF7000 - TF7810
## Page 2397

API reference Required License TC3 Vision Base System Requirements 6.2.3.13.39 Warp Perspective (Point) Apply a perspective transformation to a 2D point. Syntax Definition: HRESULT Warp Perspective( HRESULT hr Prev, Tc Vn Point2_LREAL& a Src Point, Tc Vn Point2_LREAL& a Dest Point, Tc Vn Matrix3x3_LREAL& a Transformation Matrix ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Src Point Tc Vn Point2_LREAL [} 1661]& Source point a Dest Point Tc Vn Point2_LREAL [} 1661]& Destination point a Transformation Matrix Tc Vn Matrix3x3_LREAL [} 1663]& Perspective transformation matrix Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.40 Warp Perspective (Rectangle) Use a perspective transform to warp a rectangle. Syntax Definition: HRESULT Warp Perspective( HRESULT hr Prev, ULONG n Top Left X, ULONG n Top Left Y, ULONG n Bottom Right X, ULONG n Bottom Right Y, ITc Vn Container*& ip Dest Points, Tc Vn Matrix3x3_LREAL& a Transformation Matrix ) TF7000 - TF7810 Version: 2.4.0 2397
## Page 2398

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n Top Left X ULONG x coordinate of the top left corner n Top Left Y ULONG y coordinate of the top left corner n Bottom Right X ULONG x coordinate of the bottom right corner n Bottom Right Y ULONG y coordinate of the bottom right corner ip Dest Points ITc Vn Container* [} 1836]& Returns the 4 transformed points (Container Type_Vector_Tc Vn Point 2_REAL) a Transformation Matrix Tc Vn Matrix3x3_LREAL [} 1663]& Perspective transformation matrix Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.13.41 Warp Perspective (Exp) Apply a perspective transformation to an image. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: HRESULT Warp Perspective( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, Tc Vn Matrix3x3_LREAL& a Transformation Matrix, ULONG n Dest Width, ULONG n Dest Height, ETc Vn Interpolation Type e Interpolation Type, bool b Warp Inverse, ETc Vn Border Interpolation Method e Border Interpolation, double f Border Value ) 2398 Version: 2.4.0 TF7000 - TF7810
## Page 2399

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate image will be created if required.) a Transformation Matrix Tc Vn Matrix3x3_LREAL [} 1663]& Perspective transformation matrix n Dest Width ULONG Width of the destination image n Dest Height ULONG Height of the destination image e Interpolation Type ETc Vn Interpolation Type [} 1694] Interpolation method b Warp Inverse bool Handle a Transformation Matrix as the inverse transformation e Border Interpolation ETc Vn Border Interpolation Method Border interpolation method (ISOLATED not supported) [} 1666] f Border Value double Border value, if CONSTANT is used Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.14 Image Analysis This group contains functions for extracting information from images. Functions Object detection [} 2400] • Contour search • Object finding by Hough transformation • Matching by image comparison Statistical image features • Image Average [} 2420] • Image Average Std Dev [} 2421] • Image Absolute Average [} 2427] • Image Median [} 2423] • Max Pixel Value [} 2424] • Min Pixel Value [} 2425] Edge detection • Canny Edge Detection [} 2414] TF7000 - TF7810 Version: 2.4.0 2399
## Page 2400

API reference Finding contiguous image regions • Connected Components [} 2415] • Connected Components With Stats [} 2416] • Get Connected Component [} 2419] Alignment of a region • Region Orientation [} 2426] • Upright Inner Rectangle [} 2428] Miscellaneous • Count Non Zero Pixels [} 2418] • Distance Transformation [} 2418] • Image Center Of Mass [} 2422] • Image Moments [} 2424] 6.2.3.14.1 Object Detection This subgroup contains functions for object detection. Functions Object detection • Detect Blobs [} 2401] • Find Contours [} 2403] • Find Contour Hierarchy Exp [} 2402] • Hough Circles [} 2404] • Hough Lines [} 2407] • Hough Lines P [} 2408] Matching • Match Image Hu Moments [} 2409] • Match Template [} 2410] • Match Template And Evaluate [} 2411] Miscellaneous • Adjust Active Contour [} 2400] 6.2.3.14.1.1 Adjust Active Contour Adjust active contour (snake) in order to minimize its cummulative (internal and external) energy. Syntax Definition: HRESULT Adjust Active Contour( HRESULT hr Prev, ITc Vn Image* ip Image, ITc Vn Container* ip Active Contour, float f Alpha, float f Beta, float f Gamma, ULONG n Window Width, 2400 Version: 2.4.0 TF7000 - TF7810
## Page 2401

API reference ULONG n Window Height, ULONG n Max Iterations, bool b Use Gradient ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Image ITc Vn Image* [} 1870] Source image (1 channel, USINT elements) ip Active Contour ITc Vn Container* [} 1836] Initial contour, which will be adjusted f Alpha float Continuity energy coefficient f Beta float Curvature energy coefficient f Gamma float Image energy coefficient n Window Width ULONG Window width (3, 5, 7, ...) n Window Height ULONG Window height (3, 5, 7, ...) n Max Iterations ULONG Maximum iterations b Use Gradient bool If true, the gradient magnitude is used as image energy (otherwise: pixel intensity) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.14.1.2 Detect Blobs Detects blob-contours. Applies a threshold, a contour search and offers several options for filtering the found contours. Provides easy setup for multiple thresholds and combination of results. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: HRESULT Detect Blobs( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Container*& ip Blob Contours, Tc Vn Params Blob Detection& st Params, Tc Vn Point& a Offset = {0, 0} ) TF7000 - TF7810 Version: 2.4.0 2401
## Page 2402

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (USINT or REAL, 1 channel or 3 channel (3 channel input is expected to be RGB and internally converted to Gray)) ip Blob Contours ITc Vn Container* [} 1836]& Returns a container which is filled with the found contours (Container Type_Vector_V ector_Tc Vn Point2_DINT; The elements of this container are single contours. Non-zero interface pointers are reused.) st Params Tc Vn Params Blob Detection Parameters to filter the detected contours. [} 1722]& a Offset Tc Vn Point [} 1661]& {0, 0} Offset by which every contour point is shifted Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.14.1.3 Find Contour Hierarchy (Exp) Search for object contours in a binary image and determine their hierarchical relationship. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: HRESULT Find Contour Hierarchy( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Container*& ip Contours, ITc Vn Container*& ip Hierarchy, ETc Vn Contour Retrieval Mode e Retrieval Mode, ETc Vn Contour Approximation Method e Approximation Method, Tc Vn Point& a Offset ) 2402 Version: 2.4.0 TF7000 - TF7810
## Page 2403

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (1 channel, binary) ip Contours ITc Vn Container* [} 1836]& Returns a container which is filled with the found contours (Container Type_Vector_Vector_Tc Vn Point2_DINT; The elements of this container are single contours. Non-zero interface pointers are reused.) ip Hierarchy ITc Vn Container* [} 1836]& Returns a container which is filled with information on the found contours' hierarchy (Container Type_Vector_Tc Vn Vect or4_DINT; The elements of this container are four-dimensional vectors containing the 0-based indices of the next [0] and the previous contour [1] at the same level, the first child [2], and the parent [3]. Non-zero interface pointers are reused.) e Retrieval Mode ETc Vn Contour Retrieval Mode Specifies which contours are retrieved and how their relationship [} 1684] is encoded e Approximation Method Contour encoding ETc Vn Contour Approximation Meth od [} 1683] a Offset Tc Vn Point [} 1661]& Offset by which every contour point is shifted Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.14.1.4 Find Contours Search for object contours in a binary image. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: HRESULT Find Contours( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Container*& ip Contours, ETc Vn Contour Retrieval Mode e Retrieval Mode = CRM_EXTERNAL, TF7000 - TF7810 Version: 2.4.0 2403
## Page 2404

API reference ETc Vn Contour Approximation Method e Approximation Method = CAM_SIMPLE, Tc Vn Point& a Offset = {0, 0} ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (1 channel, binary) ip Contours ITc Vn Container* [} 1836]& Returns a container which is filled with the found contours (Container Type_Vector_V ector_Tc Vn Point2_DINT; The elements of this container are single contours. Non-zero interface pointers are reused.) e Retrieval Mode CRM_EXTERNAL Specifies which contours ETc Vn Contour Retrieval Mo are retrieved and how their relationship is de [} 1684] encoded e Approximation Method CAM_SIMPLE Contour encoding ETc Vn Contour Approximati on Method [} 1683] a Offset Tc Vn Point [} 1661]& {0, 0} Offset by which every contour point is shifted Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.14.1.5 Hough Circles Search for circles using the Hough transform. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: HRESULT Hough Circles( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Container*& ip Circles, double f Inv Accu Ratio, double f Min Dist, ETc Vn Hough Method e Hough Method = HM_GRADIENT, 2404 Version: 2.4.0 TF7000 - TF7810
## Page 2405

API reference double f Param1 = 100, double f Param2 = 100, ULONG n Min Radius = 0, ULONG n Max Radius = 0 ) TF7000 - TF7810 Version: 2.4.0 2405
## Page 2406

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (USINT, 1 channel, gray-level) ip Circles ITc Vn Container* [} 1836]& Returns a container which is filled with the found circles (Container Type_Vector_T c Vn Vector3_REAL; Each container element contains the x coordinate of the circle center [0], the y coordinate of the circle center [1], and the radius [2], respectively. Non-zero interface pointers are reused.) f Inv Accu Ratio double Inverted ratio of the accumulator size in relation to the source image's size (must be > 0. A value of 2 means that the size is halved in both directions.) f Min Dist double Smallest allowed distance of two circles (must be > 0) e Hough Method ETc Vn Hough Method HM_GRADIENT Hough method to use (GRADIENT or [} 1693] GRADIENT_ALT) f Param1 double 100 First method specific parameter (GRADIENT, GRADIENT_ALT: upper threshold for canny edge detection, which must be > 0) f Param2 double 100 Second method specific parameter (GRADIENT: accumulator threshold for detecting circle centers, which must be > 0. GRADIENT_ALT: required circle perfectness, which must be > 0 and < 1, 1 would be a perfect circle) n Min Radius ULONG 0 Minimum circle radius allowed n Max Radius ULONG 0 Maximum circle radius allowed (if 0, the value is internally set to max(image rows, image columns)) 2406 Version: 2.4.0 TF7000 - TF7810
## Page 2407

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.14.1.6 Hough Lines Search for lines using the standard Hough transform. Syntax Definition: HRESULT Hough Lines( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Container*& ip Lines, double f Dist Res, double f Angle Res, ULONG n Accu Threshold, double f Dist Res Div = 0, double f Angle Res Div = 0 ) TF7000 - TF7810 Version: 2.4.0 2407
## Page 2408

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (USINT, 1 channel, binary, may be modified by the function) ip Lines ITc Vn Container* [} 1836]& Returns a container which is filled with the found lines (Container Type_Vector_T c Vn Vector2_REAL; Each container element contains the distance from the origin [0] in pixels and the rotation angle [1] in radians, respectively. Non-zero interface pointers are reused.) f Dist Res double Distance resolution of the accumulator (in pixels, must be > 0) f Angle Res double Angle resolution of the accumulator (in radians, must be > 0) n Accu Threshold ULONG Accumulator threshold f Dist Res Div double 0 Divisor of the distance resolution for the multi- scale Hough transform (>= 0, must be > 0 if f Angle Res Div is > 0) f Angle Res Div double 0 Divisor of the angle resolution for the multi- scale Hough transform (>= 0, must be > 0 if f Dist Res Div is > 0) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.14.1.7 Hough Lines P Search for line segments using the probabilistic Hough transform. Syntax Definition: 2408 Version: 2.4.0 TF7000 - TF7810
## Page 2409

API reference HRESULT Hough Lines P( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Container*& ip Lines, double f Dist Res, double f Angle Res, ULONG n Accu Threshold, double f Min Line Length = 0, double f Max Line Gap = 0 ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (USINT, 1 channel, binary, may be modified by the function) ip Lines ITc Vn Container* [} 1836]& Returns a container which is filled with the found line segments (Container Type_Vector_T c Vn Vector4_DINT; Each container element contains the two ending points. Non-zero interface pointers are reused.) f Dist Res double Distance resolution of the accumulator (in pixels, must be > 0) f Angle Res double Angle resolution of the accumulator (in radians, must be > 0) n Accu Threshold ULONG Accumulator threshold f Min Line Length double 0 Minimum line length to search for f Max Line Gap double 0 Maximum gap between points on the same line Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.14.1.8 Match Image Hu Moments Compare two images using the Hu moment invariants. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 2409
## Page 2410

API reference HRESULT Match Image Hu Moments( HRESULT hr Prev, ITc Vn Image* ip Image1, ITc Vn Image* ip Image2, ETc Vn Contours Match Comparison Method e Comparison Method, double& f Dissimilarity ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Image1 ITc Vn Image* [} 1870] First image (1 channel) ip Image2 ITc Vn Image* [} 1870] Second image (1 channel) e Comparison Method Method used for comparing the Hu ETc Vn Contours Match Comparison M moment invariants of the images ethod [} 1684] f Dissimilarity double& Returns the dissimilarity of the image Hu moment invariants depending on the chosen comparison method Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.2.3.14.1.9 Match Template Match a template image with every location in the source image and save the comparison results. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: HRESULT Match Template( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image* ip Template Image, ITc Vn Image*& ip Result Image, ETc Vn Template Match Method e Match Method = TMM_CCORR_NORMED, ITc Vn Image* ip Template Mask = nullptr ) 2410 Version: 2.4.0 TF7000 - TF7810
## Page 2411

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (USINT or REAL, 1 or 3 channels) ip Template Image ITc Vn Image* [} 1870] Template image (same type as ip Src Image, smaller width and height) ip Result Image ITc Vn Image* [} 1870]& Returns the result image (REAL, 1 channel, dimensions: (ip Src Image.width - ip Template Image.width + 1) x (ip Src Image.height - ip Template Image.height + 1). The best match is the global minimum (SQDIFF(_NORMED)) or maximum (CCORR(_NORMED), CCOEFF(_NORMED)). The position in ip Result Image is the top- left corner of ip Template Image position in ip Src Image) e Match Method TMM_CCORR_NORMED Specifies the template ETc Vn Template Match Met match method hod [} 1706] ip Template Mask ITc Vn Image* [} 1870] nullptr Optional mask for ip Template Image (same type and size as ip Template Image) Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.2.3.14.1.10 Match Template And Evaluate Match a template image with every location in the source image and evaluate the comparison results. Returns a sorted list of possible matches (best match first). Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. TF7000 - TF7810 Version: 2.4.0 2411
## Page 2412

API reference Syntax Definition: HRESULT Match Template And Evaluate( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image* ip Template Image, ITc Vn Container*& ip Matches, float f Match Threshold, ETc Vn Template Match Method e Match Method = TMM_CCORR_NORMED, ITc Vn Image* ip Template Mask = nullptr, float f Scale Factor = 1, ETc Vn Interpolation Type e Interpolation Type = IT_BILINEAR, ITc Vn Container** pip Match Values = nullptr ) 2412 Version: 2.4.0 TF7000 - TF7810
## Page 2413

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (USINT or REAL, 1 or 3 channels) ip Template Image ITc Vn Image* [} 1870] Template image (same type as ip Src Image, smaller width and height) ip Matches ITc Vn Container* [} 1836]& Returns the matching positions (Container Type_Vector_T c Vn Point2_DINT, where each element represents the top-left corner of ip Template Image) in ip Src Image, sorted by relevance (best match first) f Match Threshold float Threshold to separate relevant from irrelevant matches (0..1 for NORMED methods, otherwise dependent on template size and content. To find a suitable value, you could evaluate some sample result images of F_VN_Match Template Exp .) e Match Method TMM_CCORR_NORMED Specifies the template ETc Vn Template Match Met match method hod [} 1706] ip Template Mask ITc Vn Image* [} 1870] nullptr Optional mask for ip Template Image (same type and size as ip Template Image) f Scale Factor float 1 Factor (0..1] to reduce source and template image width and height for better performance (but less accuracy!) e Interpolation Type ETc Vn Interpolation Type IT_BILINEAR Image resize interpolation type (only used if [} 1694] f Scale Factor != 1, TCVN_IT_BILINEAR recommended for most cases) pip Match Values ITc Vn Container* [} 1836]* nullptr Optionally returns the matching values (Container Type_Vector_R EAL, same size and sort order as ip Matches. Set to 0 if not required.) TF7000 - TF7810 Version: 2.4.0 2413
## Page 2414

API reference Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.2.3.14.2 Canny Edge Detection Find edges using the Canny edge detection algorithm. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Canny Edge Detection( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, double f Threshold Low, double f Threshold High, ULONG n Aperture Size = 3, bool b L2Gradient = false ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (elements of type USINT) ip Dest Image ITc Vn Image* [} 1870]& Destination image (elements of type USINT. An appropriate destination image will be created if required.) f Threshold Low double Low threshold f Threshold High double High threshold n Aperture Size ULONG 3 Aperture size for the Sobel operator (3, 5, 7) b L2Gradient bool false If true, the more accurate (and slower) L2 norm is used instead of the L1 norm Return value HRESULT [} 144] Required License TC3 Vision Base 2414 Version: 2.4.0 TF7000 - TF7810
## Page 2415

API reference System Requirements 6.2.3.14.3 Connected Components Computes the connected components of an image. Syntax Definition: HRESULT Connected Components( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Label Image, LONG& n Labels, ETc Vn Pixel Connectivity e Connectivity = PC_8, ETc Vn Element Type e Label Type = TCVN_ET_DINT, ETc Vn Connected Components Algorithm e Algorithm = CCA_GRANA ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (USINT, 1 channel, binary) ip Label Image ITc Vn Image* [} 1870]& Returns the labels for each source image pixel (1 channel, type depends on e Label Type. An appropriate destination image will be created if required.) n Labels LONG& Returns the number of labels e Connectivity ETc Vn Pixel Connectivity PC_8 Selects if 4- or 8-way pixel connectivity should be [} 1700] used e Label Type ETc Vn Element Type TCVN_ET_DINT Selects the type of ip Label Image (only UINT [} 1689] or DINT supported) e Algorithm CCA_GRANA Selects the applied ETc Vn Connected Compon algorithm ents Algorithm [} 1683] Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 2415
## Page 2416

API reference System Requirements 6.2.3.14.4 Connected Components With Stats Computes the connected components and corresponding statistics of an image. Syntax Definition: HRESULT Connected Components With Stats( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Label Image, ITc Vn Container*& ip Bounding Boxes, ITc Vn Container*& ip Num Pixels, ITc Vn Container*& ip Centroids, LONG& n Labels, ETc Vn Pixel Connectivity e Connectivity = PC_8, ETc Vn Element Type e Label Type = TCVN_ET_DINT, ETc Vn Connected Components Algorithm e Algorithm = CCA_GRANA ) 2416 Version: 2.4.0 TF7000 - TF7810
## Page 2417

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (USINT, 1 channel, binary) ip Label Image ITc Vn Image* [} 1870]& Returns the labels for each source image pixel (1 channel, DINT. An appropriate destination image will be created if required.) ip Bounding Boxes ITc Vn Container* [} 1836]& Returns the bounding boxes for each labeled region. (Container Type_Vector_T c Vn Rectangle_DINT; Non-zero interface pointers are reused.) ip Num Pixels ITc Vn Container* [} 1836]& Returns the number of pixels for each labeled region. (Container Type_Vector_D INT; Non-zero interface pointers are reused.) ip Centroids ITc Vn Container* [} 1836]& Returns the centroids for each labeled region. (Container Type_Vector_T c Vn Point2_LREAL; Non- zero interface pointers are reused.) n Labels LONG& Returns the number of labels e Connectivity ETc Vn Pixel Connectivity PC_8 Selects if 4- or 8-way pixel connectivity should be [} 1700] used e Label Type ETc Vn Element Type TCVN_ET_DINT Selects the type of ip Label Image (only UINT [} 1689] or DINT supported) e Algorithm CCA_GRANA Selects the applied ETc Vn Connected Compon algorithm ents Algorithm [} 1683] Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 2417
## Page 2418

API reference System Requirements 6.2.3.14.5 Count Non Zero Pixels Counts the non-zero pixels in a single-channel image (e.g. useful to analyze threshold results). Syntax Definition: HRESULT Count Non Zero Pixels( HRESULT hr Prev, ITc Vn Image* ip Src Image, ULONGLONG& n Non Zero ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (1 channel) n Non Zero ULONGLONG& Returns the number of non-zero pixels in ip Src Image Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.14.6 Distance Transformation Calculates the distance transformation, which is the distance to the closest zero pixel in a binary image. Additionally, an image with component labels is created (discrete Voronoi diagram). Syntax Definition: HRESULT Distance Transformation( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, ETc Vn Distance Type e Distance Type, ETc Vn Distance Transformation Mask e Mask Size, ITc Vn Image** pip Dest Labels = nullptr, ETc Vn Distance Transformation Label e Label Type = DTL_CCOMP ) 2418 Version: 2.4.0 TF7000 - TF7810
## Page 2419

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (USINT, 1 channel) ip Dest Image ITc Vn Image* [} 1870]& Destination image (REAL, 1 channel. An appropriate destination image will be created if required.) e Distance Type ETc Vn Distance Type Distance computation method (supported: L1, [} 1686] L2, C) e Mask Size Size of the distance ETc Vn Distance Transforma transformation mask (PRECISE not supported tion Mask [} 1686] for label computation) pip Dest Labels ITc Vn Image* [} 1870]* nullptr Returns the component labels (Discrete Voronoi diagram; DINT, 1 channel. An appropriate image will be created if required.) e Label Type DTL_CCOMP Type of the labels ETc Vn Distance Transforma tion Label [} 1685] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.14.7 Get Connected Component Get the mask image (and optionally the outer contour) of a connected component from a label image based on the label ID. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Get Connected Component( HRESULT hr Prev, ITc Vn Image* ip Label Image, LONG n Label ID, ITc Vn Image*& ip Mask Image, ITc Vn Container** pip Contour Points = nullptr ) TF7000 - TF7810 Version: 2.4.0 2419
## Page 2420

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Label Image ITc Vn Image* [} 1870] Image containing labels for each pixel (1 channel DINT or UINT). n Label ID LONG Value of the requested label ip Mask Image ITc Vn Image* [} 1870]& Returns a mask image marking the pixels that belong to the component (1 channel USINT. Mask is optional, set to 0 if not required.) pip Contour Points ITc Vn Container* [} 1836]* nullptr Returns the outer contour of the component(Container Typ e_Vector_Tc Vn Point2_DI NT. Contour is optional, set to 0 if not required.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.14.8 Image Average Computes the (channel-wise) average pixel value of an image. Syntax Definition: HRESULT Image Average( HRESULT hr Prev, ITc Vn Image* ip Src Image, Tc Vn Vector4_LREAL& a Average, ITc Vn Image* ip Mask = nullptr ) 2420 Version: 2.4.0 TF7000 - TF7810
## Page 2421

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (1 - 4 channels) a Average Tc Vn Vector4_LREAL Returns the (channel- wise) average pixel value [} 1663]& of ip Src Image ip Mask ITc Vn Image* [} 1870] nullptr Mask of type USINT (1 channel) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.14.9 Image Average Std Dev Computes the (channel-wise) average pixel value and the corresponding standard deviation of an image. Syntax Definition: HRESULT Image Average Std Dev( HRESULT hr Prev, ITc Vn Image* ip Src Image, Tc Vn Vector4_LREAL& a Average, Tc Vn Vector4_LREAL& a Std Dev, ITc Vn Image* ip Mask = nullptr ) TF7000 - TF7810 Version: 2.4.0 2421
## Page 2422

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (1 - 4 channels) a Average Tc Vn Vector4_LREAL Returns the (channel- wise) average pixel value [} 1663]& of ip Src Image a Std Dev Tc Vn Vector4_LREAL Returns the (channel- wise) pixel value standard [} 1663]& deviation of ip Src Image ip Mask ITc Vn Image* [} 1870] nullptr Mask of type USINT (1 channel) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.14.10 Image Center Of Mass Computes the center of mass of an image. Syntax Definition: HRESULT Image Center Of Mass( HRESULT hr Prev, ITc Vn Image* ip Src Image, Tc Vn Point2_LREAL& a Center Of Mass, ITc Vn Image* ip Mask = nullptr ) 2422 Version: 2.4.0 TF7000 - TF7810
## Page 2423

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (1 channel) a Center Of Mass Tc Vn Point2_LREAL Returns the center of mass of the image [} 1661]& ip Mask ITc Vn Image* [} 1870] nullptr Optional mask (1 channel of type USINT, same width and height as ip Src Image) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.14.11 Image Median Computes the (approximated, channel-wise) median pixel value of an image. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Image Median( HRESULT hr Prev, ITc Vn Image* ip Src Image, Tc Vn Vector4_LREAL& a Median, ITc Vn Image* ip Mask = nullptr ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (1 - 4 channels) a Median Tc Vn Vector4_LREAL Returns the (approximated, channel- [} 1663]& wise) median pixel value of ip Src Image ip Mask ITc Vn Image* [} 1870] nullptr Mask of type USINT (1 channel) TF7000 - TF7810 Version: 2.4.0 2423
## Page 2424

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.14.12 Image Moments Computes the spatial moments, the central moments, and the central normalized moments of an image up to the third order. Syntax Definition: HRESULT Image Moments( HRESULT hr Prev, ITc Vn Image* ip Image, Tc Vn Moments& st Moments, bool b Binary Image ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Image ITc Vn Image* [} 1870] Source image (1 channel, elements of type USINT or REAL) st Moments Tc Vn Moments [} 1720]& Returns a struct containing the moments b Binary Image bool If true, all non-zero pixels are treated as ones Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.14.13 Max Pixel Value Finds the maximum pixel value in an image (1 - 4 channels supported). Syntax Definition: HRESULT Max Pixel Value( HRESULT hr Prev, ITc Vn Image* ip Image, Tc Vn Vector4_LREAL& a Max Value, 2424 Version: 2.4.0 TF7000 - TF7810
## Page 2425

API reference Tc Vn Point2_DINT& a Position, ITc Vn Image* ip Mask = nullptr, ETc Vn Vector Compare Method e Vector Compare Method = VCM_EUCLIDEAN ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Image ITc Vn Image* [} 1870] Source image a Max Value Tc Vn Vector4_LREAL Returns the maximum pixel value [} 1663]& a Position Tc Vn Point2_DINT Returns the first found position of a Max Value [} 1661]& (not supported for multi- channel images with ELEMENTWISE) ip Mask ITc Vn Image* [} 1870] nullptr Optional mask to specify which pixel positions are considered (USINT, set parameter to 0 if not required) e Vector Compare Method VCM_EUCLIDEAN Select a vector compare ETc Vn Vector Compare Met method for multi-channel images hod [} 1708] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.14.14 Min Pixel Value Finds the minimum pixel value in an image (1 - 4 channels supported). Syntax Definition: HRESULT Min Pixel Value( HRESULT hr Prev, ITc Vn Image* ip Image, Tc Vn Vector4_LREAL& a Min Value, Tc Vn Point2_DINT& a Position, ITc Vn Image* ip Mask = nullptr, ETc Vn Vector Compare Method e Vector Compare Method = VCM_EUCLIDEAN ) TF7000 - TF7810 Version: 2.4.0 2425
## Page 2426

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Image ITc Vn Image* [} 1870] Source image a Min Value Tc Vn Vector4_LREAL Returns the minimum pixel value [} 1663]& a Position Tc Vn Point2_DINT Returns the first found position of a Min Value (not [} 1661]& supported for multi- channel images with ELEMENTWISE) ip Mask ITc Vn Image* [} 1870] nullptr Optional mask to specify which pixel positions are considered (USINT, set parameter to 0 if not required) e Vector Compare Method VCM_EUCLIDEAN Select a vector compare ETc Vn Vector Compare Met method for multi-channel images hod [} 1708] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.14.15 Region Orientation Calculate the orientation of a region based on a binary image that contains a non zero value for every pixel in that region. Syntax Definition: HRESULT Region Orientation( HRESULT hr Prev, ITc Vn Image* ip Src Image, Tc Vn Rotated Rectangle& st Orientation, ETc Vn Orientation Method e Method = OM_PCA ) 2426 Version: 2.4.0 TF7000 - TF7810
## Page 2427

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (1 channel, binary) st Orientation Tc Vn Rotated Rectangle Resulting rotated rectangle, containig center [} 1733]& of mass, lenghts of axes, and rotation angle of the region in clockwise direction. e Method ETc Vn Orientation Method OM_PCA Method for calculating the orientation. [} 1699] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.14.16 Image Absolute Average Computes the average absolute pixel value of an image. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: HRESULT Image Absolute Average( HRESULT hr Prev, ITc Vn Image* ip Src Image, double& f Average ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image f Average double& Returns the average absolute pixel value Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 2427
## Page 2428

API reference Required License TC3 Vision Base System Requirements 6.2.3.14.17 Upright Inner Rectangle Computes the maximum area upright inner rectangle inside an area. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: HRESULT Upright Inner Rectangle( HRESULT hr Prev, ITc Vn Image* ip Src Image, Tc Vn Rectangle_DINT& st Rectangle, LONG n Down Scale Factor = -1 ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (USINT, 1 channel, binary, values > 0 mark valid area) st Rectangle Tc Vn Rectangle_DINT Returns the maximum area upright inner [} 1732]& rectangle n Down Scale Factor LONG -1 To tradeoff performance vs. accuracy, a factor can be provided, to reduce the internally used image resolution. As long as invalid areas enclosed in the valid area are larger than n Down Scale Factor, the result usually still is the optimal one. Use -1 to auto select depending on ip Src Image resolution, 0 to always use full resolution (slower but always optimal result). Return value HRESULT [} 144] Required License TC3 Vision Base 2428 Version: 2.4.0 TF7000 - TF7810
## Page 2429

API reference System Requirements 6.2.3.15 Image Color and Contrast Processing This group contains functions for color and contrast processing. Functions Frequency distribution, intensity and contrast Adjustment of an image • Clahe [} 2431] • Histogram [} 2434] • Histogram Equalization [} 2436] • Normalize Image [} 2437] • Normalize Image For Display [} 2438] Look-Up Table and Color Maps • Apply Color Map [} 2429] • Apply Lut [} 2430] • Generate Color Map [} 2433] • Generate Custom Color Map [} 2434] Color Matching • Reference Color Similarity [} 2439] • Train Image Color [} 2442] • Train Image Color_ITc Vn Ml Model [} 2445] White balance • White Balance [} 2448] Miscellaneous • Convert Color Space [} 2432] • Invert Image Color [} 2436] 6.2.3.15.1 Apply Color Map Apply a color map to a gray-level image. Syntax Definition: HRESULT Apply Color Map( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, ITc Vn Container* ip Color Map ) TF7000 - TF7810 Version: 2.4.0 2429
## Page 2430

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (TCVN_ET_USINT or TCVN_ET_UINT, 1 channel) ip Dest Image ITc Vn Image* [} 1870]& Returns the colored image (TCVN_ET_USINT, 3 channel. An appropriate image will be created if required.) ip Color Map ITc Vn Container* [} 1836] Color map to be applied to ip Src Image (Container Type_Vector_Tc Vn Vect or3_REAL with 256 or 65536 elements, dependent on ip Src Image type). Can be either custom or created with F_VN_Generate Color Map. Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.15.2 Apply Lut Apply a lookup table to an image to manipulate its colors. Syntax Definition: HRESULT Apply Lut( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, ITc Vn Container* ip Lut ) 2430 Version: 2.4.0 TF7000 - TF7810
## Page 2431

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (1-4 channels of 8 or 16 bit types SINT, USINT, INT, UINT) ip Dest Image ITc Vn Image* [} 1870]& Returns the result image (same size, type and channels as ip Src Image. An appropriate image will be created if required.) ip Lut ITc Vn Container* [} 1836] Lookup table with elements matching ip Src Image type and either 256 (8 bit images) or 65536 (16 bit images) elements. E.g. Container Type_Vector_USINT for 1-4 channel USINT image (in this case, the same lookup values are used for each channel) or Container Type_Vector_Tc Vn Vecto r3_USINT for a 3 channel USINT image (in this case, each channel uses an individual lookup value). Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.15.3 Clahe Apply Constrast Limited Adaptive Histogram Equalization. This applies local histogram equalization to individual tiles. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Clahe( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, double f Clip Limit = 40, ULONG n Tiles X = 8, ULONG n Tiles Y = 8 ) TF7000 - TF7810 Version: 2.4.0 2431
## Page 2432

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (TCVN_ET_USINT or TCVN_ET_UINT, 1 channel) ip Dest Image ITc Vn Image* [} 1870]& Returns the resulting image (An appropriate image will be created if required.) f Clip Limit double 40 Threshold for contrast limit (set to <= 0 to disable clipping) n Tiles X ULONG 8 Number of tiles in x direction n Tiles Y ULONG 8 Number of tiles in y direction Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.15.4 Convert Color Space Convert image from one color space to another. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: HRESULT Convert Color Space( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, ETc Vn Color Space Transform e Transform ) 2432 Version: 2.4.0 TF7000 - TF7810
## Page 2433

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) e Transform ETc Vn Color Space Transform Transforms to be applied [} 1671] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.15.5 Generate Color Map Generates a pre-defined color map. Syntax Definition: HRESULT Generate Color Map( HRESULT hr Prev, ITc Vn Container*& ip Color Map, ETc Vn Color Map e Color Map, ETc Vn Color Map Size e Color Map Size ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Color Map ITc Vn Container* [} 1836]& Returns the color map (Container Type_Vector_Tc Vn Vect or3_REAL with 256 or 65536 elements) e Color Map ETc Vn Color Map [} 1669] Selects a color map (similar to GNU Octave/MATLAB types) e Color Map Size ETc Vn Color Map Size [} 1670] Defines how many elements the generated color map should have Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 2433
## Page 2434

API reference Required License TC3 Vision Base System Requirements 6.2.3.15.6 Generate Custom Color Map Generate a custom color map by interpolating between user defined colors (equally distributed, linear for each channel). Syntax Definition: HRESULT Generate Custom Color Map( HRESULT hr Prev, ITc Vn Container*& ip Color Map, ITc Vn Container* ip Initial Colors, ETc Vn Color Map Size e Color Map Size ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Color Map ITc Vn Container* [} 1836]& Returns the color map (Container Type_Vector_Tc Vn Vect or3_REAL with 256 or 65536 elements) ip Initial Colors ITc Vn Container* [} 1836] User defined colors (Container Type_Vector_Tc Vn Vect or3_REAL, at least 2 elements) e Color Map Size ETc Vn Color Map Size [} 1670] Defines how many elements the generated color map should have Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.15.7 Histogram Calculate the (multi-channel) histogram of an image. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Histogram( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Container*& ip Dest Histogram, ULONG& n Bins = 0, 2434 Version: 2.4.0 TF7000 - TF7810
## Page 2435

API reference double& f Lower Bound = 0, double& f Upper Bound = 0, ITc Vn Image* ip Mask = nullptr ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Histogram ITc Vn Container* [} 1836]& Returns a container with a multi-channel histogram, where every channel is represented as a vector of UDINT (Container Type_Vector_V ector_UDINT. Non-zero interface pointers are reused.) n Bins ULONG& 0 Desired number of bins or 0 to keep the default for the corresponding image format (in) and default number of bins (out) f Lower Bound double& 0 Lower (inclusive) boundary of the 0-th histogram bin (in), or receive the default if f Lower Bound AND f Upper Bound are set to 0 (out) f Upper Bound double& 0 Upper (exclusive) boundary of the last histogram bin n Bins-1 (in), or receive the default if f Lower Bound AND f Upper Bound are set to 0 (out) ip Mask ITc Vn Image* [} 1870] nullptr Source image mask (TCVN_ET_USINT, 1 channel. Mask is optional, set to 0 if not required.) Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 2435
## Page 2436

API reference System Requirements 6.2.3.15.8 Histogram Equalization Equalize the histogram of a grayscale or color image, which normalizes the brightness and improves the contrast. The channel index that should be equalized has to be specified (-1 expects a RGB image, converts it to YCb Cr, equalizes the Y channel and converts the image back to RGB). Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Histogram Equalization( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, SHORT n Channel Idx = -1 ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (USINT) ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) n Channel Idx SHORT -1 Index of the image channel that should be equalized (-1 expects a RGB image, converts it to YCb Cr, equalizes the Y channel and converts the image back to RGB) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.15.9 Invert Image Color Invert the color of an image. For signed integer or negative floating point values, only the signs will be switched. If the image contains only positive floating point values, each pixel value is subtracted from the maximum available pixel value (or 1.0, whatever is higher). Syntax Definition: 2436 Version: 2.4.0 TF7000 - TF7810
## Page 2437

API reference HRESULT Invert Image Color( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, double f Max Value = -1 ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate image will be created if required.) f Max Value double -1 Maximum pixel value (e.g. if a 16 bit image contains 12 bit values). -1 means the default values are used. Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.15.10 Normalize Image Normalize an image regarding its value range (e.g. stretch pixel values [50..150] to full range [0..255]) or scale the values regarding a specific normalization (e.g. L2-norm). Syntax Definition: HRESULT Normalize Image( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, double f Alpha = 0, double f Beta = 255, ETc Vn Normalization Type e Norm Type = NT_MINMAX, ETc Vn Element Type e Dest Type = TCVN_ET_SAME_AS_SOURCE, ITc Vn Image* ip Mask = nullptr ) TF7000 - TF7810 Version: 2.4.0 2437
## Page 2438

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) f Alpha double 0 Lower range boundary (in case of normalizing the value range) or value to normalize to (|| ip Dest Image|| = f Alpha) f Beta double 255 Upper range boundary (in case of normalizing the value range) e Norm Type ETc Vn Normalization Type NT_MINMAX Normalization type (only INF, L1, L2 or MINMAX) [} 1697] e Dest Type ETc Vn Element Type TCVN_ET_SAME_AS_S Destination image depth OURCE (usually [} 1689] SAME_AS_SOURCE) ip Mask ITc Vn Image* [} 1870] nullptr Mask to restrict the normalization to specific pixel positions (set 0 to normalize the whole image) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.15.11 Normalize Image For Display Normalize an image for display, i.e. scale it to the full value range of the underlying data type (-1 to 1 for floating point). Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: HRESULT Normalize Image For Display( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, ETc Vn Signed Normalization e Signed Normalization ) 2438 Version: 2.4.0 TF7000 - TF7810
## Page 2439

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) e Signed Normalization ETc Vn Signed Normalization Option for normalizing signed values [} 1703] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.15.12 Reference Color Similarity (ITc Vn Color Model*) Computes the similarity to a reference color model for each pixel in the source image. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: HRESULT Reference Color Similarity( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, ITc Vn Color Model* ip Color Model, float f Variance = 0.15f, float f Luminance Weight = 0 ) TF7000 - TF7810 Version: 2.4.0 2439
## Page 2440

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] RGB source image (USINT, 3 channels) ip Dest Image ITc Vn Image* [} 1870]& Returns the similarity to ip Color Model for each pixel in ip Src Image (USINT, 1 channel. An appropriate destination image will be created if required.) ip Color Model ITc Vn Color Model* Color model [} 1876] f Variance float 0.15f Allowed color variance (0.1 - 0.3 might be a good start to try) f Luminance Weight float 0 Weight the impact of the luminance ([0..1], e.g. set to 0 to be more resistant to unequal illumination, but might be required to differentiate between some colors. Ignored if ip Color Model is of type RGB.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.15.13 Reference Color Similarity (ITc Vn Ml Model*) Computes the similarity to a reference color model for each pixel in the source image. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: HRESULT Reference Color Similarity( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, ITc Vn Ml Model* ip Color Model, float f Variance = 0.15f, float f Luminance Weight = 0 ) 2440 Version: 2.4.0 TF7000 - TF7810
## Page 2441

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] RGB source image (USINT, 3 channels) ip Dest Image ITc Vn Image* [} 1870]& Returns the similarity to ip Color Model for each pixel in ip Src Image (USINT, 1 channel. An appropriate destination image will be created if required.) ip Color Model ITc Vn Ml Model* [} 1877] Color model f Variance float 0.15f Allowed color variance (0.1 - 0.3 might be a good start to try) f Luminance Weight float 0 Weight the impact of the luminance ([0..1], e.g. set to 0 to be more resistant to unequal illumination, but might be required to differentiate between some colors. Ignored if ip Color Model is of type RGB.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.15.14 Reference Color Similarity (Tc Vn Vector3_LREAL) Computes the similarity to a reference color for each pixel in the source image. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: HRESULT Reference Color Similarity( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, Tc Vn Vector3_LREAL& a Ref Color, float f Variance = 0.15f, float f Luminance Weight = 0 ) TF7000 - TF7810 Version: 2.4.0 2441
## Page 2442

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] RGB source image (USINT, 3 channels) ip Dest Image ITc Vn Image* [} 1870]& Returns the similarity to a Ref Color for each pixel in ip Src Image (USINT, 1 channel. An appropriate destination image will be created if required.) a Ref Color Tc Vn Vector3_LREAL Reference color (RGB, [0..255]) [} 1663]& f Variance float 0.15f Allowed color variance (0.1 - 0.3 might be a good start to try) f Luminance Weight float 0 Weight the impact of the luminance ([0..1], e.g. set to 0 to be more resistant to unequal illumination, but might be required to differentiate between some colors) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.15.15 Train Image Color Create a new color model, describing the image color. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: HRESULT Train Image Color( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Color Model*& ip Color Model, ULONG n Different Colors, ETc Vn Color Training Method e Method = CTM_LAB, ITc Vn Image* ip Mask = nullptr, ULONG n Skip Pixels = 0, ETc Vn Clustering Algorithm e Clustering Algorithm = CA_KMEANSPP, LONG n Max Cluster Radius = 50, bool b Single Split Steps = true ) 2442 Version: 2.4.0 TF7000 - TF7810
## Page 2443

API reference Parameters TF7000 - TF7810 Version: 2.4.0 2443
## Page 2444

API reference Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (3 channels (RGB) of type USINT) ip Color Model ITc Vn Color Model* Returns the color model [} 1876]& n Different Colors ULONG Maximum number of different colors to distinguish (if LBG is used as a clustering algorithm, the result might have less different colors, depending on n Max Cluster Radius) e Method CTM_LAB Color training method ETc Vn Color Training Metho d [} 1682] ip Mask ITc Vn Image* [} 1870] nullptr Optional image mask (1 channel of type USINT, set to 0 if not required) n Skip Pixels ULONG 0 Number of pixels to skip between each evaluated color sample (to achieve a better performance). 0 takes every pixel into account and tends to be more accurate. e Clustering Algorithm ETc Vn Clustering Algorithm CA_KMEANSPP Clustering algorithm [} 1669] n Max Cluster Radius LONG 50 Only used for the LBG clustering algorithm. Maximum allowed radius (> 0) of a single cluster, i.e. clusters with a higher radius will be split into smaller ones, until a global number of n Different Colors is reached. 2444 Version: 2.4.0 TF7000 - TF7810
## Page 2445

API reference Name Type Default Description b Single Split Steps bool true Only used for the LBG clustering algorithm. If true, the global optimization is always run after a single cluster has been split. If false, several clusters are split within the same step before applying the global optimization. Applying the global optimization less often is faster, but can lead to less optimal results, especially having 2 nearby clusters that could be represented by 1) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.15.16 Train Image Color (ITc Vn Ml Model*) Create a new color model, describing the image color. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: HRESULT Train Image Color( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Ml Model*& ip Color Model, ULONG n Different Colors, ETc Vn Color Training Method e Method = CTM_LAB, ITc Vn Image* ip Mask = nullptr, ULONG n Skip Pixels = 0, ETc Vn Clustering Algorithm e Clustering Algorithm = CA_KMEANSPP, LONG n Max Cluster Radius = 50, bool b Single Split Steps = true ) TF7000 - TF7810 Version: 2.4.0 2445
## Page 2446

API reference Parameters 2446 Version: 2.4.0 TF7000 - TF7810
## Page 2447

API reference Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (3 channels (RGB) of type USINT) ip Color Model ITc Vn Ml Model* [} 1877]& Returns the color model n Different Colors ULONG Maximum number of different colors to distinguish (if LBG is used as a clustering algorithm, the result might have less different colors, depending on n Max Cluster Radius) e Method CTM_LAB Color training method ETc Vn Color Training Metho d [} 1682] ip Mask ITc Vn Image* [} 1870] nullptr Optional image mask (1 channel of type USINT, set to 0 if not required) n Skip Pixels ULONG 0 Number of pixels to skip between each evaluated color sample (to achieve a better performance). 0 takes every pixel into account and tends to be more accurate. e Clustering Algorithm ETc Vn Clustering Algorithm CA_KMEANSPP Clustering algorithm [} 1669] n Max Cluster Radius LONG 50 Only used for the LBG clustering algorithm. Maximum allowed radius (> 0) of a single cluster, i.e. clusters with a higher radius will be split into smaller ones, until a global number of n Different Colors is reached. b Single Split Steps bool true Only used for the LBG clustering algorithm. If true, the global optimization is always run after a single cluster has been split. If false, several clusters are split within the same step before applying the global optimization. Applying the global optimization less often is faster, but can lead to less optimal results, especially having 2 nearby clusters that could be represented by 1) TF7000 - TF7810 Version: 2.4.0 2447
## Page 2448

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.15.17 White Balance Calculates the white balance ratios for a RGB image. Uses the green channel as a reference and computes the relative ratios for the red and blue channels. Requires a non-reflecting, not overexposed white colored object (e.g. a sheet of paper) in at least 100 pixels of the image to provide reasonable results. The resulting ratios can then be set on the camera (multiply with existing ratios), or applied in the PLC via Multiply Image With Vector. Syntax Definition: HRESULT White Balance( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image** pip Dest Image, float& f Ratio Red, float& f Ratio Blue, ULONG n Max Value ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (3 channels (RGB), USINT or UINT) pip Dest Image ITc Vn Image* [} 1870]* Destination image with white balance applied (optional, set to 0 if not required. An appropriate image will be created if required.) f Ratio Red float& Returns the ratio for the red channel f Ratio Blue float& Returns the ratio for the blue channel n Max Value ULONG Specify the maximum pixel value that would be achieved by overexposure (usually 255 for 8 bit or 4095 for 12 bit data) Return value HRESULT [} 144] Required License TC3 Vision Base 2448 Version: 2.4.0 TF7000 - TF7810
## Page 2449

API reference System Requirements 6.2.3.16 Image Filtering This group contains functions for filtering images. Functions Blurring • Bilateral Filter [} 2449] • Box Filter [} 2450] • Gaussian Filter [} 2455] • Median Filter [} 2459] Edge detection • Laplacian Filter [} 2456] • Scharr Filter [} 2461] • Sobel Filter [} 2463] User-defined filters • Custom Filter [} 2453] • Separable Custom Filter [} 2462] Fill areas • Bright Border Objects [} 2451] • Dark Border Objects [} 2454] • Fill Holes [} 2454] Morphological operator • Create Structuring Element [} 2452] • Morphological Operator [} 2459] Local extremes • Local Maxima [} 2457] • Local Minima [} 2458] • Remove Local Maxima [} 2460] • Remove Local Minima [} 2461] Local variance • Variance Filter [} 2464] 6.2.3.16.1 Bilateral Filter Apply a Bilateral filter to smooth the image but preserve edges. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Bilateral Filter( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, TF7000 - TF7810 Version: 2.4.0 2449
## Page 2450

API reference LONG n Diameter, double f Sigma Color, double f Sigma Space, ETc Vn Border Interpolation Method e Border Type = BIM_DEFAULT ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (Must be different from ip Src Image! An appropriate destination image will be created if required.) n Diameter LONG Diameter of the pixel neighborhood used for filtering (e.g. 5, 7, 9). If <= 0, it is automatically chosen dependend on f Sigma Space. f Sigma Color double Sigma used for color space filtering (> 0). A larger value means that farther colors are mixed together. f Sigma Space double Sigma used for coordinate space filtering (> 0). A larger value means that farther pixels can influence each other. e Border Type BIM_DEFAULT Image border handling ETc Vn Border Interpolation Method [} 1666] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.16.2 Box Filter Apply a box filter to an image. Syntax Definition: 2450 Version: 2.4.0 TF7000 - TF7810
## Page 2451

API reference HRESULT Box Filter( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, ULONG n Filter Width, ULONG n Filter Height, ETc Vn Element Type e Dest Depth = TCVN_ET_SAME_AS_SOURCE, Tc Vn Point& a Anchor = {-1, -1}, bool b Normalize = true, ETc Vn Border Interpolation Method e Border Type = BIM_DEFAULT ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) n Filter Width ULONG Filter width in pixels n Filter Height ULONG Filter height in pixels e Dest Depth ETc Vn Element Type TCVN_ET_SAME_AS_S Destination image depth OURCE [} 1689] a Anchor Tc Vn Point [} 1661]& {-1, -1} Anchor point of the kernel ([-1, -1] for center) b Normalize bool true If true, the kernel is normalized by n Filter Width * n Filter Height e Border Type BIM_DEFAULT Image border handling ETc Vn Border Interpolation Method [} 1666] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.16.3 Bright Border Objects Find bright objects connected to the image border within a gray-scale single-channel image. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 2451
## Page 2452

API reference HRESULT Bright Border Objects( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (USINT, UINT, INT, REAL, or LREAL, 1 channel) ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.16.4 Create Structuring Element Creates a structuring element for the usage with morphological operators and allocate an appropriate data buffer. The initial reference count is set to one if a new image interface is created and kept, otherwise. Syntax Definition: HRESULT Create Structuring Element( HRESULT hr Prev, ITc Vn Image*& ip Structuring Element, ETc Vn Structuring Element Shape e Shape, ULONG n Width, ULONG n Height ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Structuring Element ITc Vn Image* [} 1870]& Returns the created structuring element (Non-zero interface pointers are reused.) e Shape ETc Vn Structuring Element Shape Shape of the structuring element (rectangle, cross, or ellipse) [} 1704] n Width ULONG Width n Height ULONG Height 2452 Version: 2.4.0 TF7000 - TF7810
## Page 2453

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.16.5 Custom Filter Apply a custom filter to the image. Syntax Definition: HRESULT Custom Filter( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, ETc Vn Element Type e Dest Depth, Tc Vn Matrix& st Kernel, Tc Vn Point& a Anchor = {-1, -1}, double f Delta = 0, ETc Vn Border Interpolation Method e Border Type = BIM_DEFAULT ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) e Dest Depth ETc Vn Element Type Destination image depth [} 1689] st Kernel Tc Vn Matrix [} 1720]& Custom filter kernel with values of type REAL or LREAL a Anchor Tc Vn Point [} 1661]& {-1, -1} Anchor point of the kernel f Delta double 0 Value added to each pixel after filtering e Border Type BIM_DEFAULT Image border handling ETc Vn Border Interpolation Method [} 1666] Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 2453
## Page 2454

API reference Required License TC3 Vision Base System Requirements 6.2.3.16.6 Dark Border Objects Find dark objects connected to the image border within a gray-scale single-channel image. (equivalent to filling holes) Syntax Definition: HRESULT Dark Border Objects( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (USINT, UINT, INT, REAL, or LREAL, 1 channel) ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.16.7 Fill Holes Fill holes within a gray-scale single-channel image. (equivalent to finding dark border objects) Syntax Definition: HRESULT Fill Holes( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image ) 2454 Version: 2.4.0 TF7000 - TF7810
## Page 2455

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (USINT, UINT, INT, REAL, or LREAL, 1 channel) ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.16.8 Gaussian Filter Apply a Gaussian filter to smooth the image. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Gaussian Filter( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, ULONG n Filter Width, ULONG n Filter Height, double f Sigma X = 0, double f Sigma Y = 0, ETc Vn Border Interpolation Method e Border Type = BIM_DEFAULT ) TF7000 - TF7810 Version: 2.4.0 2455
## Page 2456

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) n Filter Width ULONG Filter width in pixels (1, 3, 5, 7, ...) n Filter Height ULONG Filter height in pixels (1, 3, 5, 7, ...) f Sigma X double 0 Gaussian kernel standard deviation in X direction (>= 0, automatically chosen if 0) f Sigma Y double 0 Gaussian kernel standard deviation in Y direction (>= 0, automatically chosen if 0) e Border Type BIM_DEFAULT Image border handling ETc Vn Border Interpolation Method [} 1666] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.16.9 Laplacian Filter Apply a Laplacian filter to an image. Syntax Definition: HRESULT Laplacian Filter( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, ETc Vn Element Type e Dest Depth, ULONG n Kernel Size = 1, double f Scale = 1, double f Delta = 0, ETc Vn Border Interpolation Method e Border Type = BIM_DEFAULT ) 2456 Version: 2.4.0 TF7000 - TF7810
## Page 2457

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) e Dest Depth ETc Vn Element Type Destination image depth [} 1689] n Kernel Size ULONG 1 Aperture size used to compute the second- derivative filters (1, 3, 5, ..., 31) f Scale double 1 Scale factor for the computed derivative values f Delta double 0 Delta value that is added to the results before storing them e Border Type BIM_DEFAULT Image border handling ETc Vn Border Interpolation Method [} 1666] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.16.10 Local Maxima Find local maxima in a gray-scale single-channel image. The found maxima are marked by a value of 1 in the destination image. Syntax Definition: HRESULT Local Maxima( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image ) TF7000 - TF7810 Version: 2.4.0 2457
## Page 2458

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (USINT or UINT, 1 channel) ip Dest Image ITc Vn Image* [} 1870]& Destination image (Must be different from ip Src Image! An appropriate destination image will be created if required.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.16.11 Local Minima Find local minima in a gray-scale single-channel image. The found minima are marked by a value of 1 in the destination image. Syntax Definition: HRESULT Local Minima( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (USINT or UINT, 1 channel) ip Dest Image ITc Vn Image* [} 1870]& Destination image (Must be different from ip Src Image! An appropriate destination image will be created if required.) Return value HRESULT [} 144] Required License TC3 Vision Base 2458 Version: 2.4.0 TF7000 - TF7810
## Page 2459

API reference System Requirements 6.2.3.16.12 Median Filter Apply a Median filter to an image. Syntax Definition: HRESULT Median Filter( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, ULONG n Filter Size ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (for n Filter Size 3 or 5: USINT, UINT, REAL. For bigger filters, only USINT is supported. ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) n Filter Size ULONG Size (width and height) of the filter (3, 5, 7, ...) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.16.13 Morphological Operator Apply a morphological operator. Syntax Definition: HRESULT Morphological Operator( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, ETc Vn Morphological Operator e Operator, ITc Vn Image* ip Structuring Element ) TF7000 - TF7810 Version: 2.4.0 2459
## Page 2460

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (only 1 channel supported for reconstruction operators) ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) e Operator ETc Vn Morphological Operator Operator type [} 1696] ip Structuring Element ITc Vn Image* [} 1870] Structuring element to be applied (Typically created via F_VN_Create Structuring Element.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.16.14 Remove Local Maxima Remove local maxima up to a given height from a gray-scale single-channel image. Syntax Definition: HRESULT Remove Local Maxima( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, double f Height ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (USINT, UINT, INT, REAL, or LREAL, 1 channel) ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) f Height double Maximum height of the maxima to be removed (must be greater than 0) 2460 Version: 2.4.0 TF7000 - TF7810
## Page 2461

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.16.15 Remove Local Minima Remove local minima up to a given height from a gray-scale single-channel image. Syntax Definition: HRESULT Remove Local Minima( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, double f Height ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (USINT, UINT, INT, REAL, or LREAL, 1 channel) ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) f Height double Maximum height of the minima to be removed (must be greater than 0) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.16.16 Scharr Filter Calculates the first order derivative in x or y direction using a Scharr filter. Syntax Definition: HRESULT Scharr Filter( HRESULT hr Prev, ITc Vn Image* ip Src Image, TF7000 - TF7810 Version: 2.4.0 2461
## Page 2462

API reference ITc Vn Image*& ip Dest Image, ETc Vn Element Type e Dest Depth, ETc Vn Filter Direction e Filter Direction, double f Scale = 1, double f Delta = 0, ETc Vn Border Interpolation Method e Border Type = BIM_DEFAULT ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) e Dest Depth ETc Vn Element Type Destination image depth [} 1689] e Filter Direction ETc Vn Filter Direction Filter direction [} 1692] f Scale double 1 Scale factor for the computed derivative values f Delta double 0 Delta value that is added to the results prior to storing them in dest e Border Type BIM_DEFAULT Image border handling ETc Vn Border Interpolation Method [} 1666] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.16.17 Separable Custom Filter Apply a separable custom filter to the image. Syntax Definition: HRESULT Separable Custom Filter( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, ETc Vn Element Type e Dest Depth, Tc Vn Matrix& st Kernel X, Tc Vn Matrix& st Kernel Y, Tc Vn Point& a Anchor = {-1, -1}, 2462 Version: 2.4.0 TF7000 - TF7810
## Page 2463

API reference double f Delta = 0, ETc Vn Border Interpolation Method e Border Type = BIM_DEFAULT ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) e Dest Depth ETc Vn Element Type Destination image depth [} 1689] st Kernel X Tc Vn Matrix [} 1720]& 1D custom row-filter kernel with values of type REAL or LREAL st Kernel Y Tc Vn Matrix [} 1720]& 1D custom column-filter kernel with values of type REAL or LREAL a Anchor Tc Vn Point [} 1661]& {-1, -1} Anchor point of the kernel f Delta double 0 Value added to each pixel after filtering e Border Type BIM_DEFAULT Image border handling ETc Vn Border Interpolation Method [} 1666] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.16.18 Sobel Filter Calculates the first, second, third, or mixed image derivatives using an extended Sobel filter. Syntax Definition: HRESULT Sobel Filter( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, ETc Vn Element Type e Dest Depth, ULONG n XOrder, ULONG n YOrder, ULONG n Kernel Size = 3, double f Scale = 1, TF7000 - TF7810 Version: 2.4.0 2463
## Page 2464

API reference double f Delta = 0, ETc Vn Border Interpolation Method e Border Type = BIM_DEFAULT ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) e Dest Depth ETc Vn Element Type Destination image depth [} 1689] n XOrder ULONG Order of the x-derivative (must be < n Kernel Size) n YOrder ULONG Order of the y-derivative (must be < n Kernel Size) n Kernel Size ULONG 3 Size of the extended Sobel kernel (3, 5, 7, ..., 31) f Scale double 1 Scale factor for the computed derivative values f Delta double 0 Delta value that is added to the results prior to storing them in dest e Border Type BIM_DEFAULT Image border handling ETc Vn Border Interpolation Method [} 1666] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.16.19 Variance Filter Calculates the local variance of an image. Syntax Definition: HRESULT Variance Filter( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, ULONG n Kernel Size, 2464 Version: 2.4.0 TF7000 - TF7810
## Page 2465

API reference double f Scale = 1, ETc Vn Border Interpolation Method e Border Type = BIM_DEFAULT ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image. Only TCVN_ET_USINT Type is supported. ip Dest Image ITc Vn Image* [} 1870]& Destination image of type TCVN_ET_UINT (An appropriate destination image will be created if required.) n Kernel Size ULONG Size of the kernel f Scale double 1 Scale factor for the computed variance values e Border Type BIM_DEFAULT Image border handling ETc Vn Border Interpolation Method [} 1666] Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.17 Image Segmentation This group contains functions for segmenting images. Functions Segmentation • Adaptive Threshold [} 2465] • Check Color Range [} 2467] • Double Threshold [} 2467] • Threshold [} 2468] • Watershed Segmentation Exp [} 2469] • Sauvola Threshold [} 2470] 6.2.3.17.1 Adaptive Threshold Apply an adaptive threshold to a gray level image. Can return partial results when canceled by Watchdog. TF7000 - TF7810 Version: 2.4.0 2465
## Page 2466

API reference Syntax Definition: HRESULT Adaptive Threshold( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, double f Max Value, ETc Vn Adaptive Threshold Method e Adaptive Method = ATM_MEAN, ETc Vn Threshold Type e Threshold Type = TT_BINARY, ULONG n Block Size = 3, double f Constant = 5 ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (1 channel, elements of type USINT) ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) f Max Value double Value assigned to pixels for which the threshold condition is true e Adaptive Method ATM_MEAN Adaptive threshold ETc Vn Adaptive Threshold method to be applied (MEAN: threshold value Method [} 1664] will be calculated as a mean of the n Block Size x n Block Size neighborhood of (x,y) minus f Constant. GAUSSIAN: threshold value is a weighted sum (cross-correlation with a Gaussian window) of the n Block Size x n Block Size neighborhood of (x,y) minus f Constant. e Threshold Type ETc Vn Threshold Type TT_BINARY Threshold type to be applied (only BINARY and [} 1707] BINARY_INV are supported) n Block Size ULONG 3 Size of the pixel neighborhood to calculate the local threshold (3, 5, 7, ...) f Constant double 5 Constant that is subtracted from the weighted mean of the pixel neighborhood, which leads to the local threshold 2466 Version: 2.4.0 TF7000 - TF7810
## Page 2467

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.17.2 Check Color Range Check if the pixel values of an image lie in a given range. The destination image has the same size as the source image but only one channel with a pixel element size of 8 bit. Its elements are set to 255 if the corresponding pixels of the source image are in the checked range and set to 0 otherwise. Syntax Definition: HRESULT Check Color Range( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, Tc Vn Vector4_LREAL& a Lower Bounds, Tc Vn Vector4_LREAL& a Upper Bounds ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) a Lower Bounds Tc Vn Vector4_LREAL [} 1663]& Channel-wise lower bounds (Unused channels are ignored.) a Upper Bounds Tc Vn Vector4_LREAL [} 1663]& Channel-wise upper bounds (Unused channels are ignored.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.17.3 Double Threshold Apply a double threshold (also called hysteresis threshold) using morphological reconstruction. Can use available Twin CAT Job Tasks for executing parallel code regions. TF7000 - TF7810 Version: 2.4.0 2467
## Page 2468

API reference Syntax Definition: HRESULT Double Threshold( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, double f Low Threshold, double f High Threshold, double f Max Value ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (USINT, UINT, INT, REAL, or LREAL, 1 channel) ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) f Low Threshold double Low threshold determinining the shape of found regions f High Threshold double High threshold selecting found regions (Each region must at least contain a single pixel if the high threshold is applied.) f Max Value double Maximum pixel value Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.17.4 Threshold Apply a fixed threshold or a dynamic threshold according to Otsu. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: HRESULT Threshold( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, double f Threshold, double f Max Value, ETc Vn Threshold Type e Threshold Type ) 2468 Version: 2.4.0 TF7000 - TF7810
## Page 2469

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (For Otsu and Triangle threshold types, only 1 channel of TCVN_ET_USINT is supported) ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) f Threshold double Fixed threshold (unused if dynamic thresholding is selected) f Max Value double Maximum pixel value e Threshold Type ETc Vn Threshold Type [} 1707] Threshold type to be applied Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.17.5 Watershed Segmentation (Exp) Apply a marker-based watershed segmentation. Syntax Definition: HRESULT Watershed Segmentation( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, ITc Vn Image* ip Markers ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (USINT, 3 channels) ip Dest Image ITc Vn Image* [} 1870]& Destination image (DINT, 1 channel. An appropriate image will be created if required.) ip Markers ITc Vn Image* [} 1870] Marker image (DINT, 1 channel) TF7000 - TF7810 Version: 2.4.0 2469
## Page 2470

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.17.6 Sauvola Threshold Apply Sauvola local threshold to source image. Syntax Definition: HRESULT Sauvola Threshold( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& pip Dest Image, ULONG n Block Size, double f Param K, double f Max Sigma, ETc Vn Threshold Type e Threshold Type ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (USINT, UINT, INT, REAL, or LREAL, 1 channel) pip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate single channel destination image will be created if required.)) n Block Size ULONG Size of the pixel neighborhood to calculate the local threshold (3, 5, 7, ...) f Param K double parameter K which takes positive values in range (0,1). Recommended are K in range [0.2, 0.5] f Max Sigma double Maximum value of the standard deviation, required to be strictly positive. (f Max Sigma = 128 for a grayscale document). e Threshold Type ETc Vn Threshold Type [} 1707] Threshold type to be applied. Supported are TCVN_TT_BINARY and TCVN_TT_BINARY_INV. Return value HRESULT [} 144] Required License TC3 Vision Base 2470 Version: 2.4.0 TF7000 - TF7810
## Page 2471

API reference System Requirements 6.2.3.18 Keypoint Features This group contains functions for finding and matching distinctive features in an image. NOTICE Long computing duration Many functions for finding keypoint features require a long computing duration. Therefore, pay attention to the set cycle time and if necessary use a watchdog [} 149] to secure the real-time behavior. Functions Key Points • Key Points AGAST [} 2487] • Key Points FAST [} 2492] • Key Points GFTT [} 2493] • Key Points MSER [} 2494] • Key Points SB [} 2495] Key points and descriptors • Key Points And Descriptors AKAZE [} 2488] • Key Points And Descriptors BRISK [} 2489] • Key Points And Descriptorsa KAZE [} 2490] • Key Points And Descriptors ORB [} 2491] Descriptor matching • Filter Good Matches [} 2471] • Get Match Coordinates [} 2486] • Match Descriptors BF [} 2496] • Match Descriptors Flann Lsh [} 2497] • Match Descriptors Knn BF [} 2498] • Match Descriptors Knn Flann Lsh [} 2500] Key Points Referenz Matching • Find Reference Key Points In Image [} 2472] • Find Reference Key Points In Image AKAZE [} 2476] • Find Reference Key Points In Image BRISK [} 2480] • Find Reference Key Points In Image ORB [} 2483] Miscellaneous • Regions MSER [} 2501] 6.2.3.18.1 Filter Good Matches Filter the descriptor matches and return only good ones. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 2471
## Page 2472

API reference HRESULT Filter Good Matches( HRESULT hr Prev, ITc Vn Container* ip Matches, ITc Vn Container*& ip Good Matches, float f Max Dist, float f Max Knn Ratio ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Matches ITc Vn Container* [} 1836] Container with descriptor matches (Container Type_Vector_Tc Vn DMat ch or Container Type_Vector_Vector_Tc Vn DMatch) ip Good Matches ITc Vn Container* [} 1836]& Returns a container with good matches (Container Type_Vector_Tc Vn DMat ch) f Max Dist float Maximum allowed descriptor distance (-1 disables this filter criterion) f Max Knn Ratio float Maximum allowed distance ratio between first and second best match ([0..1], used for knn match results only, -1 disables this filter criterion) Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.2.3.18.2 Find Reference Key Points In Image Searches a reference image, represented by its keypoints and corresponding descriptors, in a given source image. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Find Reference Key Points In Image( HRESULT hr Prev, ITc Vn Container* ip Src Key Points, ITc Vn Image* ip Src Descriptors, ITc Vn Container* ip Ref Key Points, ITc Vn Image* ip Ref Descriptors, ULONG n Ref Image Width, ULONG n Ref Image Height, ITc Vn Container*& ip Edge Points, float f Max Dist, float f Max Knn Ratio, 2472 Version: 2.4.0 TF7000 - TF7810
## Page 2473

API reference ETc Vn Normalization Type e Norm Type, Tc Vn Matrix3x3_LREAL& a Perspective Transform, ULONG& n Number Of Good Matches, ULONG& n Number Of Inliers, ETc Vn Estimation Algorithm e Algorithm = EA_RANSAC, double f Reproj Threshold = 3, ULONG n Max Iterations = 2000, double f Confidence = 0.995, ITc Vn Container** pip Good Matches = nullptr, ITc Vn Container** pip Inlier Mask = nullptr ) TF7000 - TF7810 Version: 2.4.0 2473
## Page 2474

API reference Parameters 2474 Version: 2.4.0 TF7000 - TF7810
## Page 2475

API reference Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Key Points ITc Vn Container* [} 1836] Key Points of the source image, e.g. (Container Type_Vector_T c Vn Key Point) ip Src Descriptors ITc Vn Image* [} 1870] Descriptors of the source image Key Points ip Ref Key Points ITc Vn Container* [} 1836] Key Points of the reference image (Container Type_Vector_T c Vn Key Point) ip Ref Descriptors ITc Vn Image* [} 1870] Descriptors of the reference image Key Points n Ref Image Width ULONG Width of the reference image in pixels n Ref Image Height ULONG Height of the reference image in pixels ip Edge Points ITc Vn Container* [} 1836]& Returns a container with the 4 edge points of the reference image transformed into the coordinates of the source image (Container Type_Vector_T c Vn Point2_REAL) f Max Dist float Maximum allowed descriptor distance (-1 disables this filter criterion) f Max Knn Ratio float Maximum allowed distance ratio between first and second best match ([0..1], -1 disables this filter criterion) e Norm Type ETc Vn Normalization Type Normalization type used for descriptor matching [} 1697] (HAMMING recommended for AKAZE, ORB, and BRISK. HAMMING2 is recommended for ORB if the ORB n Brief Points parameter is 3 or 4. ) a Perspective Transform Tc Vn Matrix3x3_LREAL Returns the perspective transformation matrix, [} 1663]& which transforms the reference points to the source points n Number Of Good Matches ULONG& Return the number of good matches n Number Of Inliers ULONG& Return the number of inlier matches TF7000 - TF7810 Version: 2.4.0 2475
## Page 2476

API reference Name Type Default Description e Algorithm ETc Vn Estimation Algorithm EA_RANSAC Estimation algorithm used for computing the [} 1689] perspective transformation between the two point sets f Reproj Threshold double 3 Maximum allowed reprojection error to treat a point pair as an inlier (only used if e Algorithm is RANSAC, RHO) n Max Iterations ULONG 2000 Maximum number of RANSAC iterations f Confidence double 0.995 Confidence (0..1) pip Good Matches ITc Vn Container* [} 1836]* nullptr Returns a container with good matches (optional, set to 0 if not required; Container Type_Vector_Tc Vn DMatch) pip Inlier Mask ITc Vn Container* [} 1836]* nullptr Returns a mask marking the inliers (optional, set to 0 if not required; Container Type_Vector_SI NT; only for RANSAC, LMEDS) Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.2.3.18.3 Find Reference Key Points In Image AKAZE Searches a reference image, represented by its AKAZE keypoints and corresponding descriptors, in a given source image. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Find Reference Key Points In Image AKAZE( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Container* ip Ref Key Points, ITc Vn Image* ip Ref Descriptors, ULONG n Ref Image Width, ULONG n Ref Image Height, ITc Vn Container*& ip Edge Points, float f Max Dist, float f Max Knn Ratio, Tc Vn Matrix3x3_LREAL& a Perspective Transform, ULONG& n Number Of Good Matches, ULONG& n Number Of Inliers, ETc Vn Normalization Type e Norm Type = NT_HAMMING, ITc Vn Image* ip Src Image Mask = nullptr, Tc Vn Params AKAZE& st Akaze Params = {FDT_AKAZE_MLDB, 0, 3, 0.001f, 2, 1, DT1_KAZE_PM_G2}, ETc Vn Estimation Algorithm e Algorithm = EA_RANSAC, double f Reproj Threshold = 3, 2476 Version: 2.4.0 TF7000 - TF7810
## Page 2477

API reference ULONG n Max Iterations = 2000, double f Confidence = 0.995 ) TF7000 - TF7810 Version: 2.4.0 2477
## Page 2478

API reference Parameters 2478 Version: 2.4.0 TF7000 - TF7810
## Page 2479

API reference Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Ref Key Points ITc Vn Container* [} 1836] Key Points of the reference image, e.g. computed with F_VN_Key Points And Desc riptors AKAZE (Container Type_Vector_T c Vn Key Point) ip Ref Descriptors ITc Vn Image* [} 1870] Descriptors of the reference image Key Points, e.g. computed with F_VN_Key Points And Desc riptors AKAZE n Ref Image Width ULONG Width of the reference image in pixels n Ref Image Height ULONG Height of the reference image in pixels ip Edge Points ITc Vn Container* [} 1836]& Returns a container with the 4 edge points of the reference image transformed into ip Src Image coordinates (Container Type_Vector_T c Vn Point2_REAL) f Max Dist float Maximum allowed descriptor distance (-1 disables this filter criterion) f Max Knn Ratio float Maximum allowed distance ratio between first and second best match ([0..1], -1 disables this filter criterion) a Perspective Transform Tc Vn Matrix3x3_LREAL Returns the perspective transformation matrix, [} 1663]& which transforms the reference points to the source points n Number Of Good Matches ULONG& Return the number of good matches n Number Of Inliers ULONG& Return the number of inlier matches e Norm Type ETc Vn Normalization Type NT_HAMMING Normalization type used for descriptor matching [} 1697] ip Src Image Mask ITc Vn Image* [} 1870] nullptr Mask to specify, where to look for keypoints in ip Src Image (set to 0 if no mask required) TF7000 - TF7810 Version: 2.4.0 2479
## Page 2480

API reference Name Type Default Description st Akaze Params Tc Vn Params AKAZE {FDT_AKAZE_MLDB, 0, Parameters to configure 3, 0.001f, 2, 1, the keypoint and [} 1722]& DT1_KAZE_PM_G2} descriptor computation for ip Src Image (resulting descriptors must be compatible to ip Ref Descriptors!) e Algorithm ETc Vn Estimation Algorithm EA_RANSAC Estimation algorithm used for computing the [} 1689] perspective transformation between the two point sets f Reproj Threshold double 3 Maximum allowed reprojection error to treat a point pair as an inlier (only used if e Algorithm is RANSAC, RHO) n Max Iterations ULONG 2000 Maximum number of RANSAC iterations f Confidence double 0.995 Confidence (0..1) Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.2.3.18.4 Find Reference Key Points In Image BRISK Searches a reference image, represented by its BRISK keypoints and corresponding descriptors, in a given source image. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Find Reference Key Points In Image BRISK( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Container* ip Ref Key Points, ITc Vn Image* ip Ref Descriptors, ULONG n Ref Image Width, ULONG n Ref Image Height, ITc Vn Container*& ip Edge Points, float f Max Dist, float f Max Knn Ratio, Tc Vn Matrix3x3_LREAL& a Perspective Transform, ULONG& n Number Of Good Matches, ULONG& n Number Of Inliers, ETc Vn Normalization Type e Norm Type = NT_HAMMING, ITc Vn Image* ip Src Image Mask = nullptr, Tc Vn Params BRISK& st Brisk Params = {30, 3, 1}, ETc Vn Estimation Algorithm e Algorithm = EA_RANSAC, double f Reproj Threshold = 3, ULONG n Max Iterations = 2000, double f Confidence = 0.995 ) 2480 Version: 2.4.0 TF7000 - TF7810
## Page 2481

API reference Parameters TF7000 - TF7810 Version: 2.4.0 2481
## Page 2482

API reference Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Ref Key Points ITc Vn Container* [} 1836] Key Points of the reference image, e.g. computed with F_VN_Key Points And Desc riptors BRISK (Container Type_Vector_T c Vn Key Point) ip Ref Descriptors ITc Vn Image* [} 1870] Descriptors of the reference image Key Points, e.g. computed with F_VN_Key Points And Desc riptors BRISK n Ref Image Width ULONG Width of the reference image in pixels n Ref Image Height ULONG Height of the reference image in pixels ip Edge Points ITc Vn Container* [} 1836]& Returns a container with the 4 edge points of the reference image transformed into ip Src Image coordinates (Container Type_Vector_T c Vn Point2_REAL) f Max Dist float Maximum allowed descriptor distance (-1 disables this filter criterion) f Max Knn Ratio float Maximum allowed distance ratio between first and second best match ([0..1], -1 disables this filter criterion) a Perspective Transform Tc Vn Matrix3x3_LREAL Returns the perspective transformation matrix, [} 1663]& which transforms the reference points to the source points n Number Of Good Matches ULONG& Return the number of good matches n Number Of Inliers ULONG& Return the number of inlier matches e Norm Type ETc Vn Normalization Type NT_HAMMING Normalization type used for descriptor matching [} 1697] ip Src Image Mask ITc Vn Image* [} 1870] nullptr Mask to specify, where to look for keypoints in ip Src Image (set to 0 if no mask required) 2482 Version: 2.4.0 TF7000 - TF7810
## Page 2483

API reference Name Type Default Description st Brisk Params Tc Vn Params BRISK {30, 3, 1} Parameters to configure the keypoint and [} 1726]& descriptor computation for ip Src Image (resulting descriptors must be compatible to ip Ref Descriptors!) e Algorithm ETc Vn Estimation Algorithm EA_RANSAC Estimation algorithm used for computing the [} 1689] perspective transformation between the two point sets f Reproj Threshold double 3 Maximum allowed reprojection error to treat a point pair as an inlier (only used if e Algorithm is RANSAC, RHO) n Max Iterations ULONG 2000 Maximum number of RANSAC iterations f Confidence double 0.995 Confidence (0..1) Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.2.3.18.5 Find Reference Key Points In Image ORB Searches a reference image, represented by its ORB keypoints and corresponding descriptors, in a given source image. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Find Reference Key Points In Image ORB( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Container* ip Ref Key Points, ITc Vn Image* ip Ref Descriptors, ULONG n Ref Image Width, ULONG n Ref Image Height, ITc Vn Container*& ip Edge Points, float f Max Dist, float f Max Knn Ratio, Tc Vn Matrix3x3_LREAL& a Perspective Transform, ULONG& n Number Of Good Matches, ULONG& n Number Of Inliers, ETc Vn Normalization Type e Norm Type = NT_HAMMING, ITc Vn Image* ip Src Image Mask = nullptr, Tc Vn Params ORB& st Orb Params = {500, 1.2f, 8, 31, 0, 2, FST_ORB_HARRIS, 31, 20}, ETc Vn Estimation Algorithm e Algorithm = EA_RANSAC, double f Reproj Threshold = 3, ULONG n Max Iterations = 2000, double f Confidence = 0.995 ) TF7000 - TF7810 Version: 2.4.0 2483
## Page 2484

API reference Parameters 2484 Version: 2.4.0 TF7000 - TF7810
## Page 2485

API reference Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Ref Key Points ITc Vn Container* [} 1836] Key Points of the reference image, e.g. computed with F_VN_Key Points And Desc riptors ORB (Container Type_Vector_T c Vn Key Point) ip Ref Descriptors ITc Vn Image* [} 1870] Descriptors of the reference image Key Points, e.g. computed with F_VN_Key Points And Desc riptors ORB n Ref Image Width ULONG Width of the reference image in pixels n Ref Image Height ULONG Height of the reference image in pixels ip Edge Points ITc Vn Container* [} 1836]& Returns a container with the 4 edge points of the reference image transformed into ip Src Image coordinates (Container Type_Vector_T c Vn Point2_REAL) f Max Dist float Maximum allowed descriptor distance (-1 disables this filter criterion) f Max Knn Ratio float Maximum allowed distance ratio between first and second best match ([0..1], -1 disables this filter criterion) a Perspective Transform Tc Vn Matrix3x3_LREAL Returns the perspective transformation matrix, [} 1663]& which transforms the reference points to the source points n Number Of Good Matches ULONG& Return the number of good matches n Number Of Inliers ULONG& Return the number of inlier matches e Norm Type ETc Vn Normalization Type NT_HAMMING Normalization type used for descriptor matching [} 1697] (HAMMING recommended for ORB, HAMMING2 if the ORB n Brief Points parameter is 3 or 4) TF7000 - TF7810 Version: 2.4.0 2485
## Page 2486

API reference Name Type Default Description ip Src Image Mask ITc Vn Image* [} 1870] nullptr Mask to specify, where to look for keypoints in ip Src Image (set to 0 if no mask required) st Orb Params Tc Vn Params ORB {500, 1.2f, 8, 31, 0, 2, Parameters to configure FST_ORB_HARRIS, 31, the keypoint and [} 1729]& 20} descriptor computation for ip Src Image (resulting descriptors must be compatible to ip Ref Descriptors!) e Algorithm ETc Vn Estimation Algorithm EA_RANSAC Estimation algorithm used for computing the [} 1689] perspective transformation between the two point sets f Reproj Threshold double 3 Maximum allowed reprojection error to treat a point pair as an inlier (only used if e Algorithm is RANSAC, RHO) n Max Iterations ULONG 2000 Maximum number of RANSAC iterations f Confidence double 0.995 Confidence (0..1) Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.2.3.18.6 Get Match Coordinates Return the coordinates of keypoints that match each other. Syntax Definition: HRESULT Get Match Coordinates( HRESULT hr Prev, ITc Vn Container* ip Query Key Points, ITc Vn Container* ip Train Key Points, ITc Vn Container* ip Matches, ITc Vn Container*& ip Query Coordinates, ITc Vn Container*& ip Train Coordinates ) 2486 Version: 2.4.0 TF7000 - TF7810
## Page 2487

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Query Key Points ITc Vn Container* [} 1836] Container with query Keypoints (i.e. keypoints of a reference/ template image) of type CTc Vn Container_Vector_Tc Vn Key Point ip Train Key Points ITc Vn Container* [} 1836] Container with training Keypoints (i.e. keypoints of a source/input image) of type CTc Vn Container_Vector_Tc Vn Key Point ip Matches ITc Vn Container* [} 1836] Container with matches between query and train Keypoints (CTc Vn Container_Vector_Tc Vn DM atch). ip Query Coordinates ITc Vn Container* [} 1836]& Returns a container with the coordinates of keypoints from the query Keypoints that exist in ip Matches (CTc Vn Container_Vector_Tc Vn Poi nt2_REAL) ip Train Coordinates ITc Vn Container* [} 1836]& Returns a container with the coordinates of keypoints from the training Keypoints that exist in ip Matches (CTc Vn Container_Vector_Tc Vn Poi nt2_REAL) Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.2.3.18.7 Key Points AGAST Detects keypoints using the AGAST method. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Key Points AGAST( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Container*& ip Key Points, ITc Vn Image* ip Mask = nullptr, Tc Vn Params AGAST& st Params = {10, true, KDT_AGAST_9_16} ) TF7000 - TF7810 Version: 2.4.0 2487
## Page 2488

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Key Points ITc Vn Container* [} 1836]& Returns a container which is filled with the keypoints (Container Type_Vector_T c Vn Key Point; Non-zero interface pointers are reused.) ip Mask ITc Vn Image* [} 1870] nullptr Mask to specify, where to look for keypoints (set to 0 if no mask required) st Params Tc Vn Params AGAST {10, true, Additional expert KDT_AGAST_9_16} parameters [} 1721]& Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.2.3.18.8 Key Points And Descriptors AKAZE Detects keypoints and compute descriptors using the AKAZE method. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Key Points And Descriptors AKAZE( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Container*& ip Key Points, ITc Vn Image*& ip Descriptors, ITc Vn Image* ip Mask = nullptr, Tc Vn Params AKAZE& st Params = {FDT_AKAZE_MLDB, 0, 3, 0.001f, 2, 1, DT1_KAZE_PM_G2} ) 2488 Version: 2.4.0 TF7000 - TF7810
## Page 2489

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Key Points ITc Vn Container* [} 1836]& Returns a container which is filled with the keypoints (Container Type_Vector_T c Vn Key Point; Non-zero interface pointers are reused.) ip Descriptors ITc Vn Image* [} 1870]& Descriptor image (set to 0 if not required; 1 descriptor in each row; An appropriate image will be created if required.) ip Mask ITc Vn Image* [} 1870] nullptr Mask to specify, where to look for keypoints (set to 0 if no mask required) st Params Tc Vn Params AKAZE {FDT_AKAZE_MLDB, 0, Additional expert 3, 0.001f, 2, 1, parameters [} 1722]& DT1_KAZE_PM_G2} Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.2.3.18.9 Key Points And Descriptors BRISK Detects keypoints and compute descriptors using the BRISK method. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Key Points And Descriptors BRISK( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Container*& ip Key Points, ITc Vn Image*& ip Descriptors, ITc Vn Image* ip Mask = nullptr, Tc Vn Params BRISK& st Params = {30, 3, 1} ) TF7000 - TF7810 Version: 2.4.0 2489
## Page 2490

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Key Points ITc Vn Container* [} 1836]& Returns a container which is filled with the keypoints (Container Type_Vector_T c Vn Key Point; Non-zero interface pointers are reused.) ip Descriptors ITc Vn Image* [} 1870]& Descriptor image (set to 0 if not required; 1 descriptor in each row; An appropriate image will be created if required.) ip Mask ITc Vn Image* [} 1870] nullptr Mask to specify, where to look for keypoints (set to 0 if no mask required) st Params Tc Vn Params BRISK {30, 3, 1} Additional expert parameters [} 1726]& Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.2.3.18.10 Key Points And Descriptors KAZE Detects keypoints and compute descriptors using the KAZE method. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Key Points And Descriptors KAZE( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Container*& ip Key Points, ITc Vn Image*& ip Descriptors, ITc Vn Image* ip Mask = nullptr, Tc Vn Params KAZE& st Params = {false, false, 0.001f, 4, 2, DT1_KAZE_PM_G2} ) 2490 Version: 2.4.0 TF7000 - TF7810
## Page 2491

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Key Points ITc Vn Container* [} 1836]& Returns a container which is filled with the keypoints (Container Type_Vector_T c Vn Key Point; Non-zero interface pointers are reused.) ip Descriptors ITc Vn Image* [} 1870]& Descriptor image (set to 0 if not required; 1 descriptor in each row; An appropriate image will be created if required.) ip Mask ITc Vn Image* [} 1870] nullptr Mask to specify, where to look for keypoints (set to 0 if no mask required) st Params Tc Vn Params KAZE {false, false, 0.001f, 4, 2, Additional expert DT1_KAZE_PM_G2} parameters [} 1728]& Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.2.3.18.11 Key Points And Descriptors ORB Detect keypoints and compute descriptors using the ORB method. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Key Points And Descriptors ORB( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Container*& ip Key Points, ITc Vn Image*& ip Descriptors, ITc Vn Image* ip Mask = nullptr, Tc Vn Params ORB& st Params = {500, 1.2f, 8, 31, 0, 2, FST_ORB_HARRIS, 31, 20} ) TF7000 - TF7810 Version: 2.4.0 2491
## Page 2492

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Key Points ITc Vn Container* [} 1836]& Returns a container which is filled with the keypoints (Container Type_Vector_T c Vn Key Point; Non-zero interface pointers are reused.) ip Descriptors ITc Vn Image* [} 1870]& Descriptor image (set to 0 if not required; 1 descriptor in each row; An appropriate image will be created if required.) ip Mask ITc Vn Image* [} 1870] nullptr Mask to specify, where to look for keypoints (set to 0 if no mask required) st Params Tc Vn Params ORB {500, 1.2f, 8, 31, 0, 2, Additional expert FST_ORB_HARRIS, 31, parameters [} 1729]& 20} Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.2.3.18.12 Key Points FAST Detects keypoints using the FAST method. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Key Points FAST( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Container*& ip Key Points, ITc Vn Image* ip Mask = nullptr, Tc Vn Params FAST& st Params = {10, true, KDT_FAST_9_16} ) 2492 Version: 2.4.0 TF7000 - TF7810
## Page 2493

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Key Points ITc Vn Container* [} 1836]& Returns a container which is filled with the keypoints (Container Type_Vector_T c Vn Key Point; Non-zero interface pointers are reused.) ip Mask ITc Vn Image* [} 1870] nullptr Mask to specify, where to look for keypoints (set to 0 if no mask required) st Params Tc Vn Params FAST {10, true, Additional expert KDT_FAST_9_16} parameters [} 1727]& Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.2.3.18.13 Key Points GFTT Detects keypoints using the GFTT method, which detects strong corners. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Key Points GFTT( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Container*& ip Key Points, ITc Vn Image* ip Mask = nullptr, Tc Vn Params GFTT& st Params = {1000, 0.01, 1, 3, false, 0.04} ) TF7000 - TF7810 Version: 2.4.0 2493
## Page 2494

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Key Points ITc Vn Container* [} 1836]& Returns a container which is filled with the keypoints (Container Type_Vector_T c Vn Key Point; Non-zero interface pointers are reused.) ip Mask ITc Vn Image* [} 1870] nullptr Mask to specify, where to look for keypoints (set to 0 if no mask required) st Params Tc Vn Params GFTT {1000, 0.01, 1, 3, false, Additional expert 0.04} parameters [} 1727]& Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.2.3.18.14 Key Points MSER Detects keypoints using the MSER method. Syntax Definition: HRESULT Key Points MSER( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Container*& ip Key Points, ITc Vn Image* ip Mask = nullptr, Tc Vn Params MSER& st Params = {5, 60, 14400, 0.25, 0.2, 200, 1.01, 0.003, 5} ) 2494 Version: 2.4.0 TF7000 - TF7810
## Page 2495

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Key Points ITc Vn Container* [} 1836]& Returns a container which is filled with the keypoints (Container Type_Vector_T c Vn Key Point; Non-zero interface pointers are reused.) ip Mask ITc Vn Image* [} 1870] nullptr Mask to specify, where to look for keypoints (set to 0 if no mask required) st Params Tc Vn Params MSER {5, 60, 14400, 0.25, 0.2, Additional expert 200, 1.01, 0.003, 5} parameters [} 1728]& Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.2.3.18.15 Key Points SB Detects keypoints using a Simple Blob method - several iterations apply different thresholds to source image - connected components (blobs) are detected - the center and radius of the blobs are returned as keypoints Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Key Points SB( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Container*& ip Key Points, ITc Vn Image* ip Mask = nullptr, Tc Vn Params SB& st Params = {true, false, false, false, false, 25, 15000, 0, 1, 255, 0, 1, 0, 1, 5, 2, 30, 225, 10} ) TF7000 - TF7810 Version: 2.4.0 2495
## Page 2496

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Key Points ITc Vn Container* [} 1836]& Returns a container which is filled with the keypoints (Container Type_Vector_T c Vn Key Point; Non-zero interface pointers are reused.) ip Mask ITc Vn Image* [} 1870] nullptr Mask to specify, where to look for keypoints (optional, set to 0 if not required) st Params Tc Vn Params SB [} 1730]& {true, false, false, false, Several parameters to false, 25, 15000, 0, 1, filter the detected blobs 255, 0, 1, 0, 1, 5, 2, 30, 225, 10} Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.2.3.18.16 Match Descriptors BF Match descriptors using a brute force approach. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Match Descriptors BF( HRESULT hr Prev, ITc Vn Image* ip Query Descriptors, ITc Vn Image* ip Train Descriptors, ITc Vn Container*& ip Matches, ITc Vn Image* ip Mask = nullptr, ETc Vn Normalization Type e Norm Type = NT_L2, bool b Cross Check = false ) 2496 Version: 2.4.0 TF7000 - TF7810
## Page 2497

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Query Descriptors ITc Vn Image* [} 1870] Query descriptors (i.e. descriptors of a reference/ template image) ip Train Descriptors ITc Vn Image* [} 1870] Training descriptors (i.e. descriptors of a source/ input image) ip Matches ITc Vn Container* [} 1836]& Returns a container which is filled with the descriptor matches (Container Type_Vector_T c Vn DMatch; Non-zero interface pointers are reused.) ip Mask ITc Vn Image* [} 1870] nullptr Mask to specify permissable matches, i.e. query[i] can be matched with train[j] only if mask[i] [j] != 0 (set to 0 if no mask required) e Norm Type ETc Vn Normalization Type NT_L2 Normalization type (only L1, L2, L2SQR, [} 1697] HAMMING, HAMMING2 supported). HAMMING2 should be used for ORB descriptors if the ORB n Brief Points parameter is 3 or 4) b Cross Check bool false If true, only consistent matches are returned, i.e. query->train and train- >query detect the same match Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.2.3.18.17 Match Descriptors Flann Lsh Match descriptors using a FLANN based approach with LSH index. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 2497
## Page 2498

API reference HRESULT Match Descriptors Flann Lsh( HRESULT hr Prev, ITc Vn Image* ip Query Descriptors, ITc Vn Image* ip Train Descriptors, ITc Vn Container*& ip Matches, ULONG n Table Number = 12, ULONG n Key Size = 20, ULONG n Multi Probe Level = 2, ULONG n Checks = 32 ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Query Descriptors ITc Vn Image* [} 1870] Query descriptors (i.e. descriptors of a reference/ template image) ip Train Descriptors ITc Vn Image* [} 1870] Training descriptors (i.e. descriptors of a source/ input image) ip Matches ITc Vn Container* [} 1836]& Returns a container which is filled with the descriptor matches (Container Type_Vector_T c Vn DMatch; Non-zero interface pointers are reused.) n Table Number ULONG 12 Number of tables n Key Size ULONG 20 Key size n Multi Probe Level ULONG 2 Multi-probe level n Checks ULONG 32 Maximum number of visited leafs when searching for neighbors Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.2.3.18.18 Match Descriptors Knn BF Match descriptors (k nearest neighbors) using a brute force approach. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Match Descriptors Knn BF( HRESULT hr Prev, ITc Vn Image* ip Query Descriptors, 2498 Version: 2.4.0 TF7000 - TF7810
## Page 2499

API reference ITc Vn Image* ip Train Descriptors, ITc Vn Container*& ip Matches, ULONG n K, ITc Vn Image* ip Mask = nullptr, bool b Compact Result = false, ETc Vn Normalization Type e Norm Type = NT_L2, bool b Cross Check = false ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Query Descriptors ITc Vn Image* [} 1870] Query descriptors (i.e. descriptors of a reference/ template image) ip Train Descriptors ITc Vn Image* [} 1870] Training descriptors (i.e. descriptors of a source/ input image) ip Matches ITc Vn Container* [} 1836]& Returns a container which is filled with the descriptor matches (Container Type_Vector_V ector_Tc Vn DMatch; Non- zero interface pointers are reused.) n K ULONG Number of required best train matches for each query descriptor (i.e. nk := 2) ip Mask ITc Vn Image* [} 1870] nullptr Mask to specify permissable matches, i.e. query[i] can be matched with train[j] only if mask[i] [j] != 0 (set to 0 if no mask required) b Compact Result bool false If true, matches vector does not contain entries for fully masked-out query descriptors e Norm Type ETc Vn Normalization Type NT_L2 Normalization type (only L1, L2, L2SQR, [} 1697] HAMMING, HAMMING2 supported). HAMMING2 should be used for ORB descriptors if the ORB n Brief Points parameter is 3 or 4) b Cross Check bool false If true, only consistent matches are returned, i.e. query->train and train- >query detect the same match (only used if n K = 1) TF7000 - TF7810 Version: 2.4.0 2499
## Page 2500

API reference Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.2.3.18.19 Match Descriptors Knn Flann Lsh Match descriptors (k nearest neighbors) using a FLANN based approach with LSH index. Syntax Definition: HRESULT Match Descriptors Knn Flann Lsh( HRESULT hr Prev, ITc Vn Image* ip Query Descriptors, ITc Vn Image* ip Train Descriptors, ITc Vn Container*& ip Matches, ULONG n K, ULONG n Table Number = 12, ULONG n Key Size = 20, ULONG n Multi Probe Level = 2, ULONG n Checks = 32 ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Query Descriptors ITc Vn Image* [} 1870] Query descriptors (i.e. descriptors of a reference/ template image) ip Train Descriptors ITc Vn Image* [} 1870] Training descriptors (i.e. descriptors of a source/ input image) ip Matches ITc Vn Container* [} 1836]& Returns a container which is filled with the descriptor matches (Container Type_Vector_V ector_Tc Vn DMatch; Non- zero interface pointers are reused.) n K ULONG Number of required best train matches for each query descriptor (i.e. nk := 2) n Table Number ULONG 12 Number of tables n Key Size ULONG 20 Key size n Multi Probe Level ULONG 2 Multi-probe level n Checks ULONG 32 Maximum number of visited leafs when searching for neighbors 2500 Version: 2.4.0 TF7000 - TF7810
## Page 2501

API reference Return value HRESULT [} 144] Required License TC3 Vision Matching System Requirements 6.2.3.18.20 Regions MSER Detects regions using the MSER method. Syntax Definition: HRESULT Regions MSER( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Container*& ip Regions, ITc Vn Container*& ip Bounding Boxes, Tc Vn Params MSER& st Params = {5, 60, 14400, 0.25, 0.2, 200, 1.01, 0.003, 5} ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Regions ITc Vn Container* [} 1836]& Returns a container which is filled with the region points (Container Type_Vector_V ector_Tc Vn Point2_DINT; Non-zero interface pointers are reused.) ip Bounding Boxes ITc Vn Container* [} 1836]& Returns a container which is filled with the region bounding boxes (Container Type_Vector_T c Vn Rectangle_DINT; Non-zero interface pointers are reused.) st Params Tc Vn Params MSER {5, 60, 14400, 0.25, 0.2, Additional expert 200, 1.01, 0.003, 5} parameters [} 1728]& Return value HRESULT [} 144] Required License TC3 Vision Matching TF7000 - TF7810 Version: 2.4.0 2501
## Page 2502

API reference System Requirements 6.2.3.19 Machine Learning This group contains functions for creating, training and applying Machine Learning models as well as functions for feature pre-processing. A brief overview of the possible applications of Machine Learning [} 146] and further descriptions can be found under the software concept [} 140]. Functions for creating a model: • Create Boost Classifier [} 2503] • Create Kmpp Model [} 2504] • Create Knn Model [} 2505] • Create Lbg Model [} 2506] • Create Lda Transform [} 2508] • Create Lda Transform Via Component Num [} 2508] • Create Nbc Model [} 2509] • Create Pca Transform [} 2510] • Create Pca Transform Via Component Num [} 2511] • Create Pca Transform Via Variance [} 2512] • Create RTrees Model [} 2512] • Create Sta Model [} 2515] • Create Svm Model [} 2518] • Create Svm Sgd Classifier [} 2521] Functions for training a model: • Train Batch [} 2537] • Train Batch Clusters [} 2538] • Train Sample [} 2539] • Train Sample Class [} 2540] • Train Sample Cluster [} 2540] • Train Sample Scalar [} 2541] • Train Sample Vector [} 2542] Functions for obtaining information on the cluster models: • Get Cluster Center [} 2526] • Get Cluster Num [} 2527] Functions for applying models to a sample: • Get Sample Cluster [} 2528] • Get Sample Novelty [} 2529] • Predict Sample Class [} 2534] • Predict Sample Scalar [} 2535] • Predict Sample Vector [} 2536] Functions for applying models to a batch: • Get Batch Clusters [} 2524] • Get Batch Novelties [} 2525] 2502 Version: 2.4.0 TF7000 - TF7810
## Page 2503

API reference • Predict Batch [} 2533] Functions for applying models for feature transformation / dimension reduction: • Feature Transform [} 2524] • Inverse Feature Transform [} 2532] Functions for feature normalization: • Get Feature Scales [} 2527] • Feature Scaling [} 2522] • Inverse Feature Scaling [} 2530] • Inverse Feature Scaling_REAL [} 2531] 6.2.3.19.1 Create Boost Classifier Create a Boost classifier. The initial reference count is set to one if a new model is created and kept, otherwise. The Boost classifier is only applicable to binary classification problems. It learns to distinguish between samples labelled with two user-defined class labels by incrementally adding weak classifiers to improve the classification results. Models of this type neither support on-line training (sample by sample) nor retraining. Syntax Definition: HRESULT Create Boost Classifier( HRESULT hr Prev, ITc Vn Ml Model*& ip Ml Model, ETc Vn Boost Classifier Type e Type = BCT_REAL, ULONG n Max Depth = 1, ULONG n Min Samples = 10, ULONG n Weak Classifiers = 100, double f Weight Trim Rate = 0.95, ITc Vn Container* ip Class Priors = nullptr ) TF7000 - TF7810 Version: 2.4.0 2503
## Page 2504

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Ml Model ITc Vn Ml Model* [} 1877]& Returns the created model (Non-zero interface pointers are reused.) e Type ETc Vn Boost Classifier Type BCT_REAL Learning algorithm type (default: [} 1666] TCVN_BCT_REAL) n Max Depth ULONG 1 Maximum tree depth (default: 1) n Min Samples ULONG 10 Minimum number of samples within a node required for splitting (default: 10) n Weak Classifiers ULONG 100 Number of weak classifiers (default: 100) f Weight Trim Rate double 0.95 Weight threshold used during training (off: 0; default: 0.95). ip Class Priors ITc Vn Container* [} 1836] nullptr Class priors (Container Type_Vector_R EAL or Container Type_Vector_L REAL; only for classifiers; optional, set to 0 if not required or not allowed; default: 0) Return value HRESULT [} 144] Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.3.19.2 Create Kmpp Model Create a k-means++ model of the specified type. The initial reference count is set to one if a new model is created and kept, otherwise. Models of this type neither support on-line training (sample by sample) nor retraining. Syntax Definition: HRESULT Create Kmpp Model( HRESULT hr Prev, ITc Vn Ml Model*& ip Ml Model, ETc Vn Prototype Clusterer e Kmpp Type, ULONG n K, bool b Double Precision = false, 2504 Version: 2.4.0 TF7000 - TF7810
## Page 2505

API reference ULONG n Max Iterations = 0, double f Epsilon = 0.0 ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Ml Model ITc Vn Ml Model* [} 1877]& Returns the created model (Non-zero interface pointers are reused.) e Kmpp Type ETc Vn Prototype Clusterer k-means++ model type [} 1702] n K ULONG Parameter k (number of clusters) b Double Precision bool false If true, the model is generated with double precision (LREAL) instead of single precision (REAL). (default: FALSE) n Max Iterations ULONG 0 Maximum number of iterations (triggers the usage of the default value of 10 if it equals 0) f Epsilon double 0.0 Maximum allowed difference of the error between two successive iterations (triggers the usage of the default value of 0.001 if it equals 0) Return value HRESULT [} 144] Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.3.19.3 Create Knn Model Create a k-nearest neighbors model of the specified type. The initial reference count is set to one if a new model is created and kept, otherwise. Models of this type support on-line training (sample by sample) and retraining. Predictions can only be scalar. Syntax Definition: HRESULT Create Knn Model( HRESULT hr Prev, ITc Vn Ml Model*& ip Ml Model, TF7000 - TF7810 Version: 2.4.0 2505
## Page 2506

API reference ETc Vn Knn e Knn Type, ULONG n K ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Ml Model ITc Vn Ml Model* [} 1877]& Returns the created model (Non- zero interface pointers are reused.) e Knn Type ETc Vn Knn [} 1695] k-nearest neighbors model type n K ULONG Parameter k used for prediction (number of considered neighbors) Return value HRESULT [} 144] Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.3.19.4 Create Lbg Model Create a LBG model of the specified type. The initial reference count is set to one if a new model is created and kept, otherwise. Models of this type neither support on-line training (sample by sample) nor retraining. Syntax Definition: HRESULT Create Lbg Model( HRESULT hr Prev, ITc Vn Ml Model*& ip Ml Model, ETc Vn Prototype Clusterer e Lbg Type, ULONG n Max Clusters, double f Max Cluster Radius, bool b Single Split Steps, bool b Double Precision = false, ULONG n Max Iterations = 0, double f Epsilon = 0.0 ) 2506 Version: 2.4.0 TF7000 - TF7810
## Page 2507

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Ml Model ITc Vn Ml Model* [} 1877]& Returns the created model (Non-zero interface pointers are reused.) e Lbg Type ETc Vn Prototype Clusterer LBG model type [} 1702] n Max Clusters ULONG Maximum number of clusters f Max Cluster Radius double Maximum allowed radius (L2 norm) of a single cluster, i.e. clusters with a higher radius will be split into smaller ones, until a global number of n Max Clusters is reached. b Single Split Steps bool If true, the global optimization is always run after a single cluster has been split. If false, several clusters are split within the same step before applying the global optimization. Applying the global optimization less often is faster, but can lead to less optimal results, especially having 2 nearby clusters that could be represented by 1. b Double Precision bool false If true, the model is generated with double precision (LREAL) instead of single precision (REAL). (default: FALSE) n Max Iterations ULONG 0 Maximum number of iterations (triggers the usage of the default value of 10 if it equals 0) f Epsilon double 0.0 Maximum allowed difference of the error between two successive iterations (triggers the usage of the default value of 0.001 if it equals 0) Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 2507
## Page 2508

API reference Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.3.19.5 Create Lda Transform Create an LDA-based feature transform from the provided data. The number of samples must be >= the number of features and the number of classes must be >= 2. The initial reference count is set to one if a new model is created and kept, otherwise. Syntax Definition: HRESULT Create Lda Transform( HRESULT hr Prev, ITc Vn Ml Model*& ip Ml Model, ITc Unknown* ip Samples, ITc Vn Container* ip Classes ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Ml Model ITc Vn Ml Model* [} 1877]& Returns the created feature transform (Non-zero interface pointers are reused.) ip Samples ITc Unknown* [} 1883] Container holding a batch of input samples (Container Type_Vector_Vector_RE AL or Container Type_Vector_Vector_LR EAL) ip Classes ITc Vn Container* [} 1836] Class labels corresponding to the input samples (Container Type_Vector_DINT) Return value HRESULT [} 144] Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.3.19.6 Create Lda Transform Via Component Num Create an LDA-based feature transform from the provided data where the number of components to be used is predefined. The number of samples must be >= the number of features and the number of classes must be >= 2. The initial reference count is set to one if a new model is created and kept, otherwise. 2508 Version: 2.4.0 TF7000 - TF7810
## Page 2509

API reference Syntax Definition: HRESULT Create Lda Transform Via Component Num( HRESULT hr Prev, ITc Vn Ml Model*& ip Ml Model, ITc Unknown* ip Samples, ITc Vn Container* ip Classes, ULONG n Component Num ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Ml Model ITc Vn Ml Model* [} 1877]& Returns the created feature transform (Non-zero interface pointers are reused.) ip Samples ITc Unknown* [} 1883] Container holding a batch of input samples (Container Type_Vector_Vector_RE AL or Container Type_Vector_Vector_LR EAL) ip Classes ITc Vn Container* [} 1836] Class labels corresponding to the input samples (Container Type_Vector_DINT) n Component Num ULONG Number of components (n Component Num must be smaller than the number of classes. A value of 0 results in the automatic computation of the maximum number of components.) Return value HRESULT [} 144] Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.3.19.7 Create Nbc Model Create a normal Bayes classifier of the specified type. The initial reference count is set to one if a new model is created and kept, otherwise. In order to train normal Bayes classifiers, a sufficiently high number of samples is required for each class. It depends on the number of features and the distribution of the data. Hence, it needs to be tested for each application. Models of this type do not support on-line training (sample by sample). For the retraining of such classifier models, the set of presented classes must be identical to the previous learning steps. Otherwise, an exception is raised. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 2509
## Page 2510

API reference HRESULT Create Nbc Model( HRESULT hr Prev, ITc Vn Ml Model*& ip Ml Model, ETc Vn Nbc e Nbc Type ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Ml Model ITc Vn Ml Model* [} 1877]& Returns the created model (Non- zero interface pointers are reused.) e Nbc Type ETc Vn Nbc [} 1697] Normal Bayes classifier type Return value HRESULT [} 144] Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.3.19.8 Create Pca Transform Create a PCA-based feature transform from the provided data. The maximum number of principal components that can be computed equals the minimum of the number of samples and the number of features. The initial reference count is set to one if a new model is created and kept, otherwise. Syntax Definition: HRESULT Create Pca Transform( HRESULT hr Prev, ITc Vn Ml Model*& ip Ml Model, ITc Unknown* ip Samples ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Ml Model ITc Vn Ml Model* [} 1877]& Returns the created feature transform (Non-zero interface pointers are reused.) ip Samples ITc Unknown* [} 1883] Container holding a batch of input samples (Container Type_Vector_Vector_RE AL or Container Type_Vector_Vector_LR EAL) 2510 Version: 2.4.0 TF7000 - TF7810
## Page 2511

API reference Return value HRESULT [} 144] Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.3.19.9 Create Pca Transform Via Component Num Create a PCA-based feature transform from the provided data where the number of prinicpal components to be used is predefined. The maximum number of principal components that can be computed equals the minimum of the number of samples and the number of features. The initial reference count is set to one if a new model is created and kept, otherwise. Syntax Definition: HRESULT Create Pca Transform Via Component Num( HRESULT hr Prev, ITc Vn Ml Model*& ip Ml Model, ITc Unknown* ip Samples, ULONG n Component Num ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Ml Model ITc Vn Ml Model* [} 1877]& Returns the created feature transform (Non-zero interface pointers are reused.) ip Samples ITc Unknown* [} 1883] Container holding a batch of input samples (Container Type_Vector_Vector_RE AL or Container Type_Vector_Vector_LR EAL) n Component Num ULONG Number of principal components (A value of 0 results in the automatic computation of the maximum number of components.) Return value HRESULT [} 144] Required License TC3 Machine Learning Realtime Inference TF7000 - TF7810 Version: 2.4.0 2511
## Page 2512

API reference System Requirements 6.2.3.19.10 Create Pca Transform Via Variance Create a PCA-based feature transform from the provided data based on a given fraction of variance to be retained. The maximum number of principal components that can be computed equals the minimum of the number of samples and the number of features. The initial reference count is set to one if a new model is created and kept, otherwise. Syntax Definition: HRESULT Create Pca Transform Via Variance( HRESULT hr Prev, ITc Vn Ml Model*& ip Ml Model, ITc Unknown* ip Samples, double f Retained Variance ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Ml Model ITc Vn Ml Model* [} 1877]& Returns the created feature transform (Non-zero interface pointers are reused.) ip Samples ITc Unknown* [} 1883] Container holding a batch of input samples (Container Type_Vector_Vector_RE AL or Container Type_Vector_Vector_LR EAL) f Retained Variance double Fraction of variance that is to be retained by the PCA (A value of 1.0 signifies 100%.) Return value HRESULT [} 144] Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.3.19.11 Create RTrees Model Create a random trees model of the specified type. The initial reference count is set to one if a new model is created and kept, otherwise. Models of this type neither support on-line training (sample by sample) nor retraining. Predictions can only be scalar. Syntax Definition: 2512 Version: 2.4.0 TF7000 - TF7810
## Page 2513

API reference HRESULT Create RTrees Model( HRESULT hr Prev, ITc Vn Ml Model*& ip Ml Model, ETc Vn RTrees e RTrees Type, ULONG n Max Depth = 5, ULONG n Min Samples = 10, ULONG n Active Variables = 0, ULONG n Max Iterations = 0, double f Epsilon = 0.0, float f Regression Accuracy = 0, ITc Vn Container* ip Class Priors = nullptr ) TF7000 - TF7810 Version: 2.4.0 2513
## Page 2514

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Ml Model ITc Vn Ml Model* [} 1877]& Returns the created model (Non-zero interface pointers are reused.) e RTrees Type ETc Vn RTrees [} 1703] Random trees model type n Max Depth ULONG 5 Maximum tree depth (default: 5) n Min Samples ULONG 10 Minimum number of samples within a node required for splitting (default: 10) n Active Variables ULONG 0 Number of variables considered for splitting (0 means sqrt(total number of variables); default: 0) n Max Iterations ULONG 0 Maximum number of iterations (disabled if it equals 0 and f Epsilon is different from 0.0; triggers the usage of the default value of 50 if n Max Iterations and f Epsilon equal 0) f Epsilon double 0.0 Maximum allowed difference of the error between two successive iterations (disabled if it equals 0.0 and n Max Iterations is different from 0; triggers the usage of the default value of 0.1 if n Max Iterations and f Epsilon equal 0) f Regression Accuracy float 0 Termination criterion for regressors (only for regressors; set to default if not allowed; default: 0.0) ip Class Priors ITc Vn Container* [} 1836] nullptr Class priors (Container Type_Vector_R EAL or Container Type_Vector_L REAL; only for classifiers; optional, set to 0 if not required or not allowed; default: 0) Return value HRESULT [} 144] 2514 Version: 2.4.0 TF7000 - TF7810
## Page 2515

API reference Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.3.19.12 Create Sta Model Create a Simplified Topo ART neural network of the specified type. The initial reference count is set to one if a new model is created and kept, otherwise. Models of this type support on-line training (sample by sample), retraining, as well as scalar and vectorial predictions. It requires all input except class labels (i.e., samples and training outputs/predictions) to lie in the interval [0.0, 1.0]. The predictions of regressors need to be rescaled from the interval [0.0, 1.0] to their respective value range before usage. Depending on the parameter settings and the number of available training samples, repeated training with the same data may improve the results. Like other neural networks based on the Adaptive Resonance Theory (ART), Simplified Topo ART neural networks are not prone to catastrophic inference and patricularly well-suited to incremental learning tasks. (additional expert function providing parameters for fine-tuning and noise reduction) Syntax Definition: HRESULT Create Sta Model( HRESULT hr Prev, ITc Vn Ml Model*& ip Ml Model, ETc Vn Sta e Sta Type, double f Rho, ULONG n Nu = 3, bool b Double Precision = false, double f Beta Sbm = 0.0, ULONG n Phi = 1, ULONG n Tau = 100 ) TF7000 - TF7810 Version: 2.4.0 2515
## Page 2516

API reference Parameters 2516 Version: 2.4.0 TF7000 - TF7810
## Page 2517

API reference Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Ml Model ITc Vn Ml Model* [} 1877]& Returns the created model (Non-zero interface pointers are reused.) e Sta Type ETc Vn Sta [} 1704] Simpified Topo ART model type f Rho double Vigilance parameter (controls the number of neurons that are inserted and the maximum size of the formed categories; valid range: [0.0, 1.0]; suggested range: [0.8, 1.0)) n Nu ULONG 3 Number of neurons used for classification and prediction (must be larger than or equal to 1; suggested range: [1, 10); default: 3) b Double Precision bool false If true, the model is generated with double precision (LREAL) instead of single precision (REAL). (default: FALSE) f Beta Sbm double 0.0 Learning rate of the second best-matching neuron (learning the second best-matching neuron keeps related categories closer together and might improve the results but may require a higher number of neurons and training runs; a value of 0.0 disables learning of the second best-matching neuron; valid range: [0.0, 1.0]; suggested range: [0.0, 0.5]); default: 0.0 n Phi ULONG 1 Number of samples a neuron must have learnt to become permanent (required for noise reduction; works in conjunction with n Tau; must be larger than or equal to 1; higher values intensify noise reduction; a value of 1 disables removal of neuron candidates; default: 1) TF7000 - TF7810 Version: 2.4.0 2517
## Page 2518

API reference Name Type Default Description n Tau ULONG 100 Number of learning steps after which node removal is performed (required for noise reduction; works in conjunction with n Phi; must be large enough to allow neuron candidates representing non-noise samples to become the best-matching neuron at least n Phi times before node removal; default: 100) Return value HRESULT [} 144] Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.3.19.13 Create Svm Model Create an SVM model of the specified type. The initial reference count is set to one if a new model is created and kept, otherwise. Models of this type neither support on-line training (sample by sample) nor retraining. Predictions can only be scalar. (additional expert function for C support vector classifiers) Syntax Definition: HRESULT Create Svm Model( HRESULT hr Prev, ITc Vn Ml Model*& ip Ml Model, ETc Vn Svm e Svm Type, double f C, double f Nu, double f P, ETc Vn Svm Kernel Type e Kernel Type, double f Gamma, double f Coef0, double f Degree, ULONG n Max Iterations = 0, double f Epsilon = 0.0, ITc Vn Container* ip Class Weights = nullptr ) 2518 Version: 2.4.0 TF7000 - TF7810
## Page 2519

API reference Parameters TF7000 - TF7810 Version: 2.4.0 2519
## Page 2520

API reference Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Ml Model ITc Vn Ml Model* [} 1877]& Returns the created model (Non-zero interface pointers are reused.) e Svm Type ETc Vn Svm [} 1705] SVM model type f C double Parameter C (required for TCVN_SVM_C_CLASSIFI ER, TCVN_SVM_EPS_REGR ESSOR, and TCVN_SVM_NU_REGRE SSOR; ignored otherwise) f Nu double Parameter nu (required for TCVN_SVM_NU_CLASSI FIER, TCVN_SVM_NOVELTY_ DETECTOR, and TCVN_SVM_NU_REGRE SSOR; ignored otherwise) f P double Parameter p (required for TCVN_SVM_EPS_REGR ESSOR; ignored otherwise) e Kernel Type ETc Vn Svm Kernel Type Kernel type [} 1705] f Gamma double Parameter gamma (used by polynomial, RBF, sigmoid, and chi-squared kernels; ignored otherwise) f Coef0 double Parameter coef0 (used by polynomial and sigmoid kernels; ignored otherwise) f Degree double Degree (used by polynomial kernels; ignored otherwise) n Max Iterations ULONG 0 Maximum number of iterations (disabled if it equals 0 and f Epsilon is different from 0.0; triggers the usage of the default value of 100000 if n Max Iterations and f Epsilon equal 0) 2520 Version: 2.4.0 TF7000 - TF7810
## Page 2521

API reference Name Type Default Description f Epsilon double 0.0 Maximum allowed difference of the error between two successive iterations (disabled if it equals 0.0 and n Max Iterations is different from 0; triggers the usage of the default value of 0.00001 if n Max Iterations and f Epsilon equal 0) ip Class Weights ITc Vn Container* [} 1836] nullptr Class weights (Container Type_Vector_R EAL or Container Type_Vector_L REAL; only valid if e Svm Type equals TCVN_SVM_C_CLASSIFI ER; optional, set to 0 if not required or not allowed; default: 0) Return value HRESULT [} 144] Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.3.19.14 Create Svm Sgd Classifier Create a linear SVM classifier using stochastic gradient descent for training. The initial reference count is set to one if a new model is created and kept, otherwise. This SVM classifier is only applicable to binary classification problems. It learns a separating hyperplane between a class with label -1 and a class with label 1. These class labels are predefined. For training, any positive class labels are mapped to 1 and any negative class labels are mapped to -1. Models of this type neither support on-line training (sample by sample) nor retraining. Syntax Definition: HRESULT Create Svm Sgd Classifier( HRESULT hr Prev, ITc Vn Ml Model*& ip Ml Model, ETc Vn Svm Sgd Classifier Type e Type = SSCT_ASGD, ETc Vn Svm Sgd Classifier Margin Type e Margin Type = SSCMT_SOFT_MARGIN, float f Margin Regularization = 0.00001f, float f Initial Step Size = 0.05f, float f Step Decreasing Power = 0.75f, ULONG n Max Iterations = 0, double f Epsilon = 0.0 ) TF7000 - TF7810 Version: 2.4.0 2521
## Page 2522

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Ml Model ITc Vn Ml Model* [} 1877]& Returns the created model (Non-zero interface pointers are reused.) e Type SSCT_ASGD Learning algorithm type ETc Vn Svm Sgd Classifier Ty (default: TCVN_SSCT_ASGD) pe [} 1706] e Margin Type SSCMT_SOFT_MARGIN Margin type (default: ETc Vn Svm Sgd Classifier Ma TCVN_SSCMT_SOFT_M ARGIN) rgin Type [} 1706] f Margin Regularization float 0.00001f Margin regularization parameter (default: 0.00001) f Initial Step Size float 0.05f Initial step size (default: 0.05) f Step Decreasing Power float 0.75f Power parameter (default: 0.75) n Max Iterations ULONG 0 Maximum number of iterations (disabled if it equals 0 and f Epsilon is different from 0.0; triggers the usage of the default value of 100000 if n Max Iterations and f Epsilon equal 0) f Epsilon double 0.0 Maximum allowed difference of the error between two successive iterations (disabled if it equals 0.0 and n Max Iterations is different from 0; triggers the usage of the default value of 0.00001 if n Max Iterations and f Epsilon equal 0) Return value HRESULT [} 144] Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.3.19.15 Feature Scaling Apply a feature scaling to one or more sample(s) and get output range between [f A, f B] in the case of TCVN_FST1_MINMAX. 2522 Version: 2.4.0 TF7000 - TF7810
## Page 2523

API reference Syntax Definition: HRESULT Feature Scaling( HRESULT hr Prev, ITc Vn Container* ip Samples, ITc Vn Container* ip Scales, ITc Vn Container*& ip Scaled Samples, double f A = 0.0, double f B = 1.0 ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Samples ITc Vn Container* [} 1836] Container holding one or more input sample(s) (Container Type_Vector_R EAL, Container Type_Vector_L REAL, Container Type_Vector_V ector_REAL, or Container Type_Vector_V ector_LREAL) ip Scales ITc Vn Container* [} 1836] Container with the scaling parameters of each feature (type Container Type_Vector_R EAL or Container Type_Vector_L REAL). ip Scaled Samples ITc Vn Container* [} 1836]& Returns the scaled sample(s) using the same type like ip Samples. If the same container ip Samples is uesd, the source data will be replaced. f A double 0.0 represents the lower bound of the range for TCVN_FST1_MINMAX f B double 1.0 represents the upper bound of the range for TCVN_FST1_MINMAX Return value HRESULT [} 144] Required License TC3 Machine Learning Realtime Inference TF7000 - TF7810 Version: 2.4.0 2523
## Page 2524

API reference System Requirements 6.2.3.19.16 Feature Transform Apply a feature transform to one or more sample(s). Syntax Definition: HRESULT Feature Transform( HRESULT hr Prev, ITc Vn Ml Model* ip Feature Transform, ITc Unknown* ip Samples, ITc Unknown** pip Transformed ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Feature Transform ITc Vn Ml Model* [} 1877] Feature transform instance to be used ip Samples ITc Unknown* [} 1883] Container holding one or more of input sample(s) (Container Type_Vector_REAL, Container Type_Vector_LREAL, Container Type_Vector_Vector_RE AL, or Container Type_Vector_Vector_LR EAL) pip Transformed ITc Unknown* [} 1883]* Returns the transformed sample(s) using the same type like ip Samples Return value HRESULT [} 144] Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.3.19.17 Get Batch Clusters Get the IDs of the best-matching clusters of a batch of samples. Syntax Definition: HRESULT Get Batch Clusters( HRESULT hr Prev, ITc Vn Ml Model* ip Clusterer, ITc Unknown* ip Samples, ITc Vn Container*& ip Clusters, ITc Vn Container** pip Novelties = nullptr ) 2524 Version: 2.4.0 TF7000 - TF7810
## Page 2525

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Clusterer ITc Vn Ml Model* [} 1877] Clusterer to be used ip Samples ITc Unknown* [} 1883] Container holding a batch of input samples (Container Type_Vector_V ector_REAL or Container Type_Vector_V ector_LREAL) ip Clusters ITc Vn Container* [} 1836]& Returns the cluster IDs (Container Type_Vector_D INT) pip Novelties ITc Vn Container* [} 1836]* nullptr Returns the degree of novelty (0.0 if a sample is completely known; > 0.0 otherwise) of each sample (Container Type_Vector_R EAL; optional, set to 0 if not required) Return value HRESULT [} 144] Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.3.19.18 Get Batch Novelties Get the degree of novelty of multiple samples. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Get Batch Novelties( HRESULT hr Prev, ITc Vn Ml Model* ip Novelty Detector, ITc Unknown* ip Samples, ITc Vn Container*& ip Novelties ) TF7000 - TF7810 Version: 2.4.0 2525
## Page 2526

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Novelty Detector ITc Vn Ml Model* [} 1877] Novelty detector to be used ip Samples ITc Unknown* [} 1883] Container holding a batch of input samples (Container Type_Vector_Vector_RE AL or Container Type_Vector_Vector_LR EAL) ip Novelties ITc Vn Container* [} 1836]& Returns the degree of novelty (0.0 if a sample is completely known; > 0.0 otherwise) of each sample (Container Type_Vector_REAL) Return value HRESULT [} 144] Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.3.19.19 Get Cluster Center Get the center of a cluster. Syntax Definition: HRESULT Get Cluster Center( HRESULT hr Prev, ITc Vn Ml Model* ip Clusterer, LONG n Cluster, ITc Vn Container*& ip Center ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Clusterer ITc Vn Ml Model* [} 1877] Clusterer to be used n Cluster LONG Cluster ID of the cluster the center of which is requested ip Center ITc Vn Container* [} 1836]& Returns the cluster center (Container Type_Vector_REAL or Container Type_Vector_LREAL depending on the floating point type internally used by the clusterer) 2526 Version: 2.4.0 TF7000 - TF7810
## Page 2527

API reference Return value HRESULT [} 144] Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.3.19.20 Get Cluster Num Get the number of clusters used by this clusterer. Syntax Definition: HRESULT Get Cluster Num( HRESULT hr Prev, ITc Vn Ml Model* ip Clusterer, ULONGLONG& n Cluster Num ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Clusterer ITc Vn Ml Model* [} 1877] Clusterer to be used n Cluster Num ULONGLONG& Returns the number of clusters Return value HRESULT [} 144] Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.3.19.21 Get Feature Scales Calculate the scaling parameters for each feature in the input samples based on the scaling type. Syntax Definition: HRESULT Get Feature Scales( HRESULT hr Prev, ITc Vn Container* ip Samples, ITc Vn Container*& ip Scales, ETc Vn Feature Scaling Type e Feature Scaling Type ) TF7000 - TF7810 Version: 2.4.0 2527
## Page 2528

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Samples ITc Vn Container* [} 1836] Container holding input sample(s) (Container Type_Vector_REAL, Container Type_Vector_LREAL, Container Type_Vector_Vector_RE AL or Container Type_Vector_Vector_LR EAL) ip Scales ITc Vn Container* [} 1836]& Returns a container with the scaling parameters for each feature (Vector_REAL or Vector_LREAL depending on the type of ip Samples). e Feature Scaling Type ETc Vn Feature Scaling Type [} 1691] Feature scaling type Return value HRESULT [} 144] Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.3.19.22 Get Sample Cluster Get the ID of the best-matching cluster of a single sample. Syntax Definition: HRESULT Get Sample Cluster( HRESULT hr Prev, ITc Vn Ml Model* ip Clusterer, ITc Unknown* ip Sample, LONG& n Cluster, float* p Novelty = nullptr ) 2528 Version: 2.4.0 TF7000 - TF7810
## Page 2529

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Clusterer ITc Vn Ml Model* [} 1877] Clusterer to be used ip Sample ITc Unknown* [} 1883] Container holding a single input sample (Container Type_Vector_R EAL or Container Type_Vector_L REAL) n Cluster LONG& Returns the ID of the cluster the sample has been assigned to p Novelty float* nullptr Returns the degree of novelty (0.0 if a sample is completely known; > 0.0 otherwise) of the presented sample (optional, set to 0 if not required) Return value HRESULT [} 144] Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.3.19.23 Get Sample Novelty Get the degree of novelty of a single sample. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Get Sample Novelty( HRESULT hr Prev, ITc Vn Ml Model* ip Novelty Detector, ITc Unknown* ip Sample, float& f Novelty ) TF7000 - TF7810 Version: 2.4.0 2529
## Page 2530

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Novelty Detector ITc Vn Ml Model* [} 1877] Novelty detector to be used ip Sample ITc Unknown* [} 1883] Container holding a single input sample (Container Type_Vector_REAL or Container Type_Vector_LREAL) f Novelty float& Returns the degree of novelty (0.0 if a sample is completely known; > 0.0 otherwise) of the presented sample Return value HRESULT [} 144] Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.3.19.24 Inverse Feature Scaling Apply the inverse of feature scaling to one or more sample(s). [f A, f B] should be used if the scaling has been performed using TCVN_FST1_MINMAX with a predetermined output range.. Syntax Definition: HRESULT Inverse Feature Scaling( HRESULT hr Prev, ITc Vn Container* ip Samples, ITc Vn Container* ip Scales, ITc Vn Container*& ip Inverse Samples, double f A = 0.0, double f B = 1.0 ) 2530 Version: 2.4.0 TF7000 - TF7810
## Page 2531

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Samples ITc Vn Container* [} 1836] Container holding one or more input sample(s) (Container Type_Vector_R EAL, Container Type_Vector_L REAL, Container Type_Vector_V ector_REAL, or Container Type_Vector_V ector_LREAL) ip Scales ITc Vn Container* [} 1836] Container with the scaling parameters of each feature (type Container Type_Vector_R EAL or Container Type_Vector_L REAL). ip Inverse Samples ITc Vn Container* [} 1836]& Returns the inversed sample(s) using the scaling type and parameters of ip Scales. It has the same type of ip Samples. If the same container ip Samples is used, the source data will be replaced. f A double 0.0 represents the lower bound of the range for TCVN_FST1_MINMAX f B double 1.0 represents the upper bound of the range for TCVN_FST1_MINMAX Return value HRESULT [} 144] Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.3.19.25 Inverse Feature Scaling (float) Apply the inverse of feature scaling to a single value. [f A, f B] should be used if the scaling has been performed using TCVN_FST1_MINMAX with a predetermined output range. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 2531
## Page 2532

API reference HRESULT Inverse Feature Scaling( HRESULT hr Prev, float f Sample, ITc Vn Container* ip Scales, float& f Inverse Sample, double f A = 0.0, double f B = 1.0 ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) f Sample float Sample value ip Scales ITc Vn Container* [} 1836] Container with the scaling parameters of each feature (type Container Type_Vector_R EAL or Container Type_Vector_L REAL). f Inverse Sample float& Returns the inversed sample. f A double 0.0 represents the lower bound of the range for TCVN_FST1_MINMAX f B double 1.0 represents the upper bound of the range for TCVN_FST1_MINMAX Return value HRESULT [} 144] Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.3.19.26 Inverse Feature Transform Apply an inverse feature transform to one or more sample(s). Syntax Definition: HRESULT Inverse Feature Transform( HRESULT hr Prev, ITc Vn Ml Model* ip Feature Transform, ITc Unknown* ip Samples, ITc Unknown** pip Transformed ) 2532 Version: 2.4.0 TF7000 - TF7810
## Page 2533

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Feature Transform ITc Vn Ml Model* [} 1877] Feature transform instance to be used ip Samples ITc Unknown* [} 1883] Container holding one or more of input sample(s) (Container Type_Vector_REAL, Container Type_Vector_LREAL, Container Type_Vector_Vector_RE AL, or Container Type_Vector_Vector_LR EAL) pip Transformed ITc Unknown* [} 1883]* Returns the transformed sample(s) using the same type like ip Samples Return value HRESULT [} 144] Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.3.19.27 Predict Batch Compute predictions for a batch of samples. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Predict Batch( HRESULT hr Prev, ITc Vn Ml Model* ip Ml Model, ITc Unknown* ip Samples, ITc Vn Container*& ip Predictions, ITc Vn Container** pip Novelties = nullptr ) TF7000 - TF7810 Version: 2.4.0 2533
## Page 2534

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Ml Model ITc Vn Ml Model* [} 1877] Classifier or regressor to be used ip Samples ITc Unknown* [} 1883] Container holding a batch of input samples (Container Type_Vector_V ector_REAL or Container Type_Vector_V ector_LREAL) ip Predictions ITc Vn Container* [} 1836]& Returns the predicted outputs (depending on ip Samples; class labels (for classification, Container Type_Vector_DI NT) or real-valued predictions (for regression with scalar output, Container Type_Vector_R EAL or Container Type_Vector_L REAL; for regression with vectorial output, Container Type_Vector_V ector_REAL or Container Type_Vector_V ector_LREAL)) pip Novelties ITc Vn Container* [} 1836]* nullptr Returns the degree of novelty (0.0 if a sample is completely known; > 0.0 otherwise) of each sample (Container Type_Vector_R EAL; optional, set to 0 if not required) Return value HRESULT [} 144] Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.3.19.28 Predict Sample Class Classify a single sample. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: 2534 Version: 2.4.0 TF7000 - TF7810
## Page 2535

API reference HRESULT Predict Sample Class( HRESULT hr Prev, ITc Vn Ml Model* ip Classifier, ITc Unknown* ip Sample, LONG& n Class, float* p Novelty = nullptr ) Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Classifier ITc Vn Ml Model* [} 1877] Classifier to be used ip Sample ITc Unknown* [} 1883] Container holding a single input sample (Container Type_Vector_R EAL or Container Type_Vector_L REAL) n Class LONG& Returns the classification result p Novelty float* nullptr Returns the degree of novelty (0.0 if a sample is completely known; > 0.0 otherwise) of the presented sample (optional, set to 0 if not required) Return value HRESULT [} 144] Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.3.19.29 Predict Sample Scalar Compute a scalar prediction for a single sample. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Predict Sample Scalar( HRESULT hr Prev, ITc Vn Ml Model* ip Regressor, ITc Unknown* ip Sample, float& f Prediction, float* p Novelty = nullptr ) TF7000 - TF7810 Version: 2.4.0 2535
## Page 2536

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Regressor ITc Vn Ml Model* [} 1877] Regressor to be used ip Sample ITc Unknown* [} 1883] Container holding a single input sample (Container Type_Vector_R EAL or Container Type_Vector_L REAL) f Prediction float& Returns the predicted output p Novelty float* nullptr Returns the degree of novelty (0.0 if a sample is completely known; > 0.0 otherwise) of the presented sample (optional, set to 0 if not required) Return value HRESULT [} 144] Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.3.19.30 Predict Sample Vector Compute a vectorial prediction for a single sample. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Predict Sample Vector( HRESULT hr Prev, ITc Vn Ml Model* ip Regressor, ITc Unknown* ip Sample, ITc Vn Container*& ip Prediction, float* p Novelty = nullptr ) 2536 Version: 2.4.0 TF7000 - TF7810
## Page 2537

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Regressor ITc Vn Ml Model* [} 1877] Regressor to be used ip Sample ITc Unknown* [} 1883] Container holding a single input sample (Container Type_Vector_R EAL or Container Type_Vector_L REAL) ip Prediction ITc Vn Container* [} 1836]& Returns the predicted output (Container Type_Vector_R EAL or Container Type_Vector_L REAL, depending on ip Sample) p Novelty float* nullptr Returns the degree of novelty (0.0 if a sample is completely known; > 0.0 otherwise) of the presented sample (optional, set to 0 if not required) Return value HRESULT [} 144] Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.3.19.31 Train Batch Train a classifier, a clusterer, a novelty detector, or a regressor with a batch of samples. On-line trainable models are trained once with each sample. Depending on the application and the number of available training samples, repeated training of such models with the same data may improve the results. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Train Batch( HRESULT hr Prev, ITc Vn Ml Model* ip Ml Model, ITc Unknown* ip Samples, ITc Vn Container* ip Outputs ) TF7000 - TF7810 Version: 2.4.0 2537
## Page 2538

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Ml Model ITc Vn Ml Model* [} 1877] Classifier, clusterer, novelty detector, or regressor to be used ip Samples ITc Unknown* [} 1883] Container holding a batch of input samples (Container Type_Vector_Vector_RE AL or Container Type_Vector_Vector_LR EAL) ip Outputs ITc Vn Container* [} 1836] Class labels (for classification, Container Type_Vector_DINT) or target outputs (for regression with scalar output, Container Type_Vector_REAL or Container Type_Vector_LREAL; for regression with vectorial output, Container Type_Vector_Vector_RE AL or Container Type_Vector_Vector_LR EAL) to be learnt (must be 0 for clusterers and for novelty detectors) Return value HRESULT [} 144] Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.3.19.32 Train Batch Clusters Train a clusterer with a batch of samples and return the IDs of the clusters the samples have been assigned to, if requested. On-line trainable clusterers are trained once with each sample. Depending on the application and the number of available training samples, repeated training of such models with the same data may improve the results. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Train Batch Clusters( HRESULT hr Prev, ITc Vn Ml Model* ip Clusterer, ITc Unknown* ip Samples, ITc Vn Container*& ip Clusters ) 2538 Version: 2.4.0 TF7000 - TF7810
## Page 2539

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Clusterer ITc Vn Ml Model* [} 1877] Clusterer to be used ip Samples ITc Unknown* [} 1883] Container holding a batch of input samples (Container Type_Vector_Vector_RE AL or Container Type_Vector_Vector_LR EAL) ip Clusters ITc Vn Container* [} 1836]& Returns the IDs of the clusters the samples have been assigned to (Container Type_Vector_DINT; optional, set to 0 if not required) Return value HRESULT [} 144] Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.3.19.33 Train Sample Train a clusterer or a novelty detector with a single sample. Syntax Definition: HRESULT Train Sample( HRESULT hr Prev, ITc Vn Ml Model* ip Ml Model, ITc Unknown* ip Sample ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Ml Model ITc Vn Ml Model* [} 1877] Clusterer or novelty detector to be used ip Sample ITc Unknown* [} 1883] Container holding a single input sample (Container Type_Vector_REAL or Container Type_Vector_LREAL) Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 2539
## Page 2540

API reference Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.3.19.34 Train Sample Class Train a classifier with a single sample. Syntax Definition: HRESULT Train Sample Class( HRESULT hr Prev, ITc Vn Ml Model* ip Classifier, ITc Unknown* ip Sample, LONG n Class ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Classifier ITc Vn Ml Model* [} 1877] Classifier to be used ip Sample ITc Unknown* [} 1883] Container holding a single input sample (Container Type_Vector_REAL or Container Type_Vector_LREAL) n Class LONG Class label to be learnt Return value HRESULT [} 144] Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.3.19.35 Train Sample Cluster Train a clusterer with a single sample and return the ID of the cluster the sample has been assigned to, if requested. The clusterer must be online trainable. Syntax Definition: HRESULT Train Sample Cluster( HRESULT hr Prev, ITc Vn Ml Model* ip Clusterer, ITc Unknown* ip Sample, LONG* p Cluster ) 2540 Version: 2.4.0 TF7000 - TF7810
## Page 2541

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Clusterer ITc Vn Ml Model* [} 1877] Clusterer to be used ip Sample ITc Unknown* [} 1883] Container holding a single input sample (Container Type_Vector_REAL or Container Type_Vector_LREAL) p Cluster LONG* Returns the ID of the cluster the sample has been assigned to (If the pointer is 0, no cluster ID is requested.) Return value HRESULT [} 144] Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.3.19.36 Train Sample Scalar Train a regressor with a single sample and scalar output. Syntax Definition: HRESULT Train Sample Scalar( HRESULT hr Prev, ITc Vn Ml Model* ip Regressor, ITc Unknown* ip Sample, float f Output ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Regressor ITc Vn Ml Model* [} 1877] Regressor to be used ip Sample ITc Unknown* [} 1883] Container holding a single input sample (Container Type_Vector_REAL or Container Type_Vector_LREAL) f Output float Scalar output to be learnt Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 2541
## Page 2542

API reference Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.3.19.37 Train Sample Vector Train a regressor with a single sample and vectorial output. Syntax Definition: HRESULT Train Sample Vector( HRESULT hr Prev, ITc Vn Ml Model* ip Regressor, ITc Unknown* ip Sample, ITc Vn Container* ip Output ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Regressor ITc Vn Ml Model* [} 1877] Regressor to be used ip Sample ITc Unknown* [} 1883] Container holding a single input sample (Container Type_Vector_REAL or Container Type_Vector_LREAL) ip Output ITc Vn Container* [} 1836] Vectorial output to be learnt (Container Type_Vector_REAL or Container Type_Vector_LREAL) Return value HRESULT [} 144] Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.3.20 Measurement The group contains functions for the measurement of objects in images. Functions Edge localization • Locate Circular Arc [} 2550] for localizing proportional circular arcs • Locate Edge [} 2553] for localizing linear edges • Locate Edges [} 2557] for localizing several linear edges • Locate Ellipse [} 2562] for localizing complete ellipses 2542 Version: 2.4.0 TF7000 - TF7810
## Page 2543

API reference Geometrical features • Closest Points BF [} 2549] for calculating the closest points in two point clouds • Measure Angle Between Edges [} 2565] for measuring the angle between two edges • Measure Edge Distance [} 2570] for measuring the average distance between two edges • Measure Min Edge Distance [} 2574] for measuring the minimum distance between two edges Miscellaneous • Adjust Search Window Orientation To Linear Edge [} 2548] for aligning the search field to an edge Parameters for edge localization The borders of an image object often don't lie exactly on the border between two pixels. Instead, they run independently of pixel grids. Therefore edge localization with sub-pixel accuracy is necessary. This not only considers the transition between two pixels, but also determines the edge position within a pixel on the basis of the overall intensity gradient of an object border. NOTICE Don't process the image before measuring Don't process the image before calling the measurement function. Processing can lead to loss of information and lower accuracy accordingly. This basic functionality of edge localization is used by all measurement functions. The functions differ mainly by the geometric arrangement in which they perform the edge localization (e.g. Locate Ellipse [} 2562] for round objects) and the properties that you calculate from them (e.g. Measure Angle Between Edges [} 2565] for angle measurement). Certain parameters must be defined for each function that uses edge localization. These include: • Definition of the search area: where is the edge sought? • Definition of edge contrast: What is detected as an edge? • Definition of the measurement algorithm: How to determine the exact position of the edge. These parameters are described below. In the case of expert parameters, standard values are specified in addition. Search area TF7000 - TF7810 Version: 2.4.0 2543
## Page 2544

API reference Parameter Description Position of the search lines The position of the search lines is defined according to the feature to be localized. The position of search lines for a linear edge is defined as a single line with the a Start Point start point and a End Point end point. The position of search lines for an ellipse is defined by a a Center center point and a f Search Radius radius. The position of search lines for angles is defined by a a Inner Point inner point and two a Outer Point1 and a Outer Point2 outer points. The position of the search lines should always be set such that the search lines cut the edges to be localized orthogonally. A rectangular search area can be adjusted orthogonally to an edge with the function Adjust Search Window Orientation To Linear Edge [} 2548]. Number of search lines This specifies how many search lines are to be used for the edge localization. The simplest edge n Search Lines localization has one search line on which the edge must be found. Depending on the geometric feature to be determined, multiple search lines are distributed locally so that several edge transitions are localized. This can be necessary in the following cases: • Not only the position, but also the gradient or the rotation of the edge are required. • The geometrical feature (e.g. ellipse) necessitates several search lines. • An average value is required. When localizing linear edges, the search lines are arranged symmetrically on both sides of the central search line, the central search line being included in n Search Lines. Thus, an odd number of search lines is always required. Distance between the search lines The search lines distance defines the distance between neighboring search lines in pixels (> 0, f Searchline Dist default 1). This allows flexible balancing between (Expert) accuracy and computing time. Default: 1 Inversion of the search direction The localization algorithm always searches for the edge from one end of the search line to the other. b Invert Search Direction e.g. searching takes place from a Start Point to (Expert) a End Point. If it is necessary to invert this search Default: false direction due to the image properties (i.e. to start from the other end of the search lines), this parameter helps. Edge contrast 2544 Version: 2.4.0 TF7000 - TF7810
## Page 2545

API reference Parameter Description Edge direction The ETc Vn Edge Direction edge direction determines whether an edge transition from light to e Edge Direction dark or from dark to light should be found. The following values are available for this: • ED_DARK_TO_LIGHT • ED_LIGHT_TO_DARK Minimum strength The minimum strength defines the minimum difference in intensity required within an edge for it to f Min Strength be found. This makes it possible to control how much contrast an edge must have in order to be found. Maximum thickness The maximum thickness specifies the number of pixels within which f Min Strength must be reached. n Max Thickness This allows you to control whether only sharp edges (Expert) or also very blurred edges are to be found. Default: 10 Algorithm TF7000 - TF7810 Version: 2.4.0 2545
## Page 2546

API reference Parameter Description Algorithm The ETc Vn Edge Detection Algorithm parameter defines the localization algorithm used. The available e Algorithm options are: (Expert) • EDA_INTERPOLATION Default: EDA_INTERPOLATION • EDA_APPROX_ERF • EDA_APPROX_GAUSSIAN EDA_APPROX_ERF and EDA_APPROX_GAUSSIAN are slower than the EDA_INTERPOLATION standard algorithm, but can achieve higher accuracy. The prerequisite for this, however, is that the intensity gradient of the edge also corresponds as well as possible to the specified model. The erf error function or the Gaussian function is used as a model. The erf function is well suited for edges if the transition from bright to dark extends over several pixels and remains approximately constant on both sides of the light or dark area respectively. A Gaussian function is well suited for lines, i.e. a dark-light-dark transition or vice versa. However, the brightness plateau may only be a few pixels wide, otherwise the erf function should be used. Subpixels / Iterations The meaning of this parameter depends on the localization algorithm used. n Subpixels Iterations At EDA_INTERPOLATION: (Expert) the number of subpixels considered defines the fine Default: 10 granularity with which the search line evaluates the underlying pixel intensities. A value of 10, for example, specifies that 10 measured values are taken over a length of 1 pixel. Recommended: 5 - 10 At EDA_APPROX_ERF and EDA_APPROX_GAUSSIAN: the number of iterations is an abort criterion that defines the maximum number of iterations with which the edge model is to be approximated for the pixel intensities. More iterations increase the runtime; if this is too high the interpolation method should be used. Recommended: 50 - 100 Approximation accuracy The approximation accuracy is a further abort criterion of the edge localization. It is only observed if f Approx Precision the localization algorithm is EDA_APPROX_ERF or (Expert) EDA_APPROX_GAUSSIAN. Default: 0.001 The approximation of the edge or line is aborted if either the number of iterations of n Sub Pixel Iterations is reached or the relative deviation in pixels is less than f Approximation Precision for two consecutive iterations 2546 Version: 2.4.0 TF7000 - TF7810
## Page 2547

API reference Parameter Description Recommended: 0.01 - 0.0001 Limitation of the edge width The factor for the relative edge strength of -0.9 to 0.9 limits the intensity range of the pixels used for the f Range Cutoff Factor approximation. The parameter is only observed if the (Expert) localization algorithm is TCVN_EDA_APPROX_ERF or Default: 0.135 TCVN_EDA_APPROX_GAUSSIAN. Negative numbers are permissible in order to take into account noise, i.e. differences in intensity in the other edge direction. However, a negative value can lead to a deterioration in the results, especially if two edges are close together. A maximum of n Max Thickness pixels are taken into account in both directions. Interpretation of the HRESULT The HRESULT [} 144] return values have the following meaning for measurement functions: Code Name Description 0x000 S_OK Function was successfully executed and an edge was located on all search lines. 0x001 S_FALSE Function was successfully executed, but edges were not located on each search line. 0x256 S_WATCHDOGTIME Function was aborted by the watchdog. In this case, all measurement OUT functions can return partial results. 0x70C NOTFOUND Function was executed successfully, but no edge could be found on any search line. It is assumed that a measurement function is only called if it is ensured that the image contains an object with the parameterized edge properties. If none of the search lines are found, this indicates incorrect parameterization or an unsuitable call of the function. Therefore, an error code is output in this case. 0x7xx All error codes Function was not executed successfully. See: ADS Return Codes [} 2864] except NOTFOUND The following query, for example, can be used for the processing of the return value: if (SUCCEEDED(hr)) { // Process results if (hr != S_OK) { // Emit warning that not all search lines were found } } else if (hr == ADS_E_NOTFOUND) { // Emit warning for wrong parametrization or missing piece } else { // Error handling } Reducing execution time The execution time for a fixed search window varies slightly depending on the position of the component in the image. If the edge that is found is closer to the starting point, the execution time is shorter than for an edge further away. A larger fluctuation can occur with the two approximation algorithms, since these require different iterations in order to approximate the model parameters using the surrounding pixel intensities. TF7000 - TF7810 Version: 2.4.0 2547
## Page 2548

API reference In general, fewer iterations are required if the search lines of the search window hit the edge as orthogonally as possible. If the position and orientation of the objects in the image are subject to little or no fluctuation, the search window can be adjusted accordingly to achieve shorter execution times. In addition, the maximum time required can be reduced by reducing the maximum number of iterations, but this may lead to less accurate results. In addition, the time can be limited with an external watchdog, which terminates the execution of the function if necessary and returns the existing partial results. 6.2.3.20.1 Adjust Search Window Orientation To Linear Edge Adjust the search window to be orthogonal to a linear edge. Might be helpful before calling edge localization and distance measurement functions that rely on the search window. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Adjust Search Window Orientation To Linear Edge( HRESULT hr Prev, ITc Vn Image* ip Src Image, Tc Vn Point2_REAL& a Start Point, Tc Vn Point2_REAL& a End Point, ETc Vn Edge Direction e Edge Direction, float f Min Strength, ULONG n Max Thickness, ULONG n Search Lines ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image a Start Point Tc Vn Point2_REAL [} 1661]& Position from which to start the search process (in the direction of a End Point), which is not changed a End Point Tc Vn Point2_REAL [} 1661]& Position where the search process ends, which is adjusted by this function e Edge Direction ETc Vn Edge Direction [} 1688] Specification of the edge direction to search for f Min Strength float Specification of the minimum strength (intensity difference) of the edge to search for n Max Thickness ULONG Specification of the maximum thickness of the edge to search for, which means f Min Strength must be reached within n Max Thickness pixels n Search Lines ULONG Width of the search window, i.e. the number of search lines (3, 5, 7, ...), centered around the line specified by a Start Point and a End Point 2548 Version: 2.4.0 TF7000 - TF7810
## Page 2549

API reference Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D System Requirements 6.2.3.20.2 Closest Points BF Find the closest distance between two 2d point sets of the same type, using a brute force approach. Syntax Definition: HRESULT Closest Points BF( HRESULT hr Prev, ITc Vn Container* ip Point Set1, ITc Vn Container* ip Point Set2, double& f Min Dist, Tc Vn Point2_LREAL& a Point1, Tc Vn Point2_LREAL& a Point2 ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Point Set1 ITc Vn Container* [} 1836] Container with 1st set of 2d points ip Point Set2 ITc Vn Container* [} 1836] Container with 2nd set of 2d points f Min Dist double& Returns the minimum distance between 2 points of the different point sets a Point1 Tc Vn Point2_LREAL [} 1661]& Returns the point out of ip Point Set1, for which f Min Dist is achieved a Point2 Tc Vn Point2_LREAL [} 1661]& Returns the point out of ip Point Set2, for which f Min Dist is achieved Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D TF7000 - TF7810 Version: 2.4.0 2549
## Page 2550

API reference System Requirements 6.2.3.20.3 Locate Circular Arc Locate a circular arc. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: HRESULT Locate Circular Arc( HRESULT hr Prev, ITc Vn Image* ip Src Image, Tc Vn Circular Arc& st Circular Arc, Tc Vn Point2_REAL& a Center, float f Search Radius, double f Arc Direction Rad, ETc Vn Edge Direction e Edge Direction, float f Min Strength, double f Angle Step Rad = 0.1, ULONG n Max Thickness = 10, bool b Invert Search Direction = false, ULONG n Subpixels Iterations = 10, float f Approx Precision = 0.001f, ETc Vn Edge Detection Algorithm e Algorithm = EDA_INTERPOLATION, ITc Vn Container** pip Contour Points = nullptr, float f Range Cutoff Factor = 0.135f ) 2550 Version: 2.4.0 TF7000 - TF7810
## Page 2551

API reference Parameters TF7000 - TF7810 Version: 2.4.0 2551
## Page 2552

API reference Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (1 channel) st Circular Arc Tc Vn Circular Arc [} 1716]& Returns the circular arc parameters a Center Tc Vn Point2_REAL Input estimated circle center (only used as a [} 1661]& starting point to search for the circle contour, not used for the circle center estimation) f Search Radius float Input search radius (starting from a Center, should be greater than the actual circle radius but a Center + f Search Radius should be within the image borders) f Arc Direction Rad double Input search starting direction in radian. Valid range is [-pi, +pi], where right is 0 rad, top is -pi/2 rad and bottom +pi/2 rad. The circular arc should at least be valid in range f Arc Direction Rad +- 4 * f Angle Step Rad) e Edge Direction ETc Vn Edge Direction Specification of the edge direction to search for [} 1688] f Min Strength float Specification of the minimum strength (intensity difference) of the edge to search for f Angle Step Rad double 0.1 Search step in rad (should be chosen so that about 20 - 60 steps are available for the whole arc. In most cases 0.1 rad (5.7 deg) is a good value) n Max Thickness ULONG 10 Specification of the maximum thickness of the edge to search for, which means f Min Strength must be reached within n Max Thickness pixels b Invert Search Direction bool false If true, the search starts from outside the circular arc in direction of the center 2552 Version: 2.4.0 TF7000 - TF7810
## Page 2553

API reference Name Type Default Description n Subpixels Iterations ULONG 10 Specifies the number of subpixels (for INTERPOLATION, 10 - 20 usually is sufficient) or maximum number of iterations for optimizing the parameters (for APPROX_ERF and APPROX_GAUSSIAN, 50 - 100 usually is sufficient) f Approx Precision float 0.001f Specifies the approximation precision for APPROX_ERF and APPROX_GAUSSIAN (0.001 usually is sufficient, unused for INTERPOLATION) e Algorithm EDA_INTERPOLATION Selection of the edge ETc Vn Edge Detection Algor detection algorithm ithm [} 1688] pip Contour Points ITc Vn Container* [} 1836]* nullptr Returns the subpixel accurate contour (optional, set to 0 if not required; Container Type_Vector_Tc Vn Point2_REAL; Non- zero interface pointers are reused.) f Range Cutoff Factor float 0.135f Relative edge strength factor to cut off the range of pixels used for approximation. Negative numbers are valid to include noise, i.e. intensity differences in the other direction. At most n Max Thickness pixels are used in each direction. Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D System Requirements 6.2.3.20.4 Locate Edge Locate the points of the first occuring edge inside a specified search window with subpixel accuracy. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 2553
## Page 2554

API reference HRESULT Locate Edge( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Container*& ip Edge Points, Tc Vn Point2_REAL& a Start Point, Tc Vn Point2_REAL& a End Point, ETc Vn Edge Direction e Edge Direction, float f Min Strength, ULONG n Search Lines, float& f Avg Strength, float f Search Line Dist = 1, ULONG n Max Thickness = 10, ULONG n Subpixels Iterations = 10, float f Approx Precision = 0.001f, ETc Vn Edge Detection Algorithm e Algorithm = EDA_INTERPOLATION, float f Range Cutoff Factor = 0.135f, ITc Vn Container** pip Edge Strengths = nullptr ) 2554 Version: 2.4.0 TF7000 - TF7810
## Page 2555

API reference Parameters TF7000 - TF7810 Version: 2.4.0 2555
## Page 2556

API reference Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (1 channel) ip Edge Points ITc Vn Container* [} 1836]& Returns the detected edge points (Container Type_Vector_T c Vn Point2_REAL) a Start Point Tc Vn Point2_REAL Position from which to start the search process [} 1661]& (in the direction of a End Point) a End Point Tc Vn Point2_REAL Position where the search process ends [} 1661]& e Edge Direction ETc Vn Edge Direction Specification of the edge direction to search for [} 1688] f Min Strength float Specification of the minimum strength (intensity difference) of the edge to search for n Search Lines ULONG Width of the search window, i.e. the number of search lines (1, 3, 5, 7, ...), centered around the line specified by a Start Point and a End Point f Avg Strength float& Returns the average strength of the detected edge f Search Line Dist float 1 Distance between the search lines in pixels (> 0) n Max Thickness ULONG 10 Specification of the maximum thickness of the edge to search for, which means f Min Strength must be reached within n Max Thickness pixels n Subpixels Iterations ULONG 10 Specifies the number of subpixels (for INTERPOLATION, 10 - 20 usually is sufficient) or maximum number of iterations for optimizing the parameters (for APPROX_ERF and APPROX_GAUSSIAN, 50 - 100 usually is sufficient) 2556 Version: 2.4.0 TF7000 - TF7810
## Page 2557

API reference Name Type Default Description f Approx Precision float 0.001f Specifies the approximation precision for APPROX_ERF and APPROX_GAUSSIAN (0.001 usually is sufficient, unused for INTERPOLATION) e Algorithm EDA_INTERPOLATION Selection of the edge ETc Vn Edge Detection Algor detection algorithm ithm [} 1688] f Range Cutoff Factor float 0.135f Relative edge strength factor to cut off the range of pixels used for approximation. Negative numbers are valid to include noise, i.e. intensity differences in the other direction. At most n Max Thickness pixels are used in each direction. pip Edge Strengths ITc Vn Container* [} 1836]* nullptr Returns the detected edge strengths (optional, set to 0 if not required; Container Type_Vector_R EAL) Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D System Requirements 6.2.3.20.5 Locate Edges Locate the points of multiple occuring edges inside a specified search window with subpixel accuracy. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: HRESULT Locate Edges( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Container*& ip Edge Points, Tc Vn Point2_REAL& a Start Point, Tc Vn Point2_REAL& a End Point, ULONG n Num Edges, ETc Vn Edge Direction e Edge Direction, bool b Alternate Direction, float f Min Strength, ULONG n Search Lines, float& f Avg Strength, float f Search Line Dist = 1, ULONG n Max Thickness = 10, ULONG n Subpixels Iterations = 10, float f Approx Precision = 0.001f, ETc Vn Edge Detection Algorithm e Algorithm = EDA_INTERPOLATION, TF7000 - TF7810 Version: 2.4.0 2557
## Page 2558

API reference float f Range Cutoff Factor = 0.135f, ITc Vn Container** pip Edge Strengths = nullptr, bool b Avg Edge Strengths = false ) 2558 Version: 2.4.0 TF7000 - TF7810
## Page 2559

API reference Parameters TF7000 - TF7810 Version: 2.4.0 2559
## Page 2560

API reference Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (1 channel) ip Edge Points ITc Vn Container* [} 1836]& Returns the detected edge points (Container Type_Vector_V ector_Tc Vn Point2_REAL) a Start Point Tc Vn Point2_REAL Position from which to start the search process [} 1661]& (in the direction of a End Point) a End Point Tc Vn Point2_REAL Position where the search process ends [} 1661]& n Num Edges ULONG The (maximum) number of edges to search for e Edge Direction ETc Vn Edge Direction Specification of the edge direction to search for [} 1688] b Alternate Direction bool If true, e Edge Direction is alternated after each detected edge. Else, only edges with e Edge Direction are searched for. f Min Strength float Specification of the minimum strength (intensity difference) of the edge to search for n Search Lines ULONG Width of the search window, i.e. the number of search lines (1, 3, 5, 7, ...), centered around the line specified by a Start Point and a End Point f Avg Strength float& Returns the average strength of the detected edges f Search Line Dist float 1 Distance between the search lines in pixels (> 0) n Max Thickness ULONG 10 Specification of the maximum thickness of the edge to search for, which means f Min Strength must be reached within n Max Thickness pixels 2560 Version: 2.4.0 TF7000 - TF7810
## Page 2561

API reference Name Type Default Description n Subpixels Iterations ULONG 10 Specifies the number of subpixels (for INTERPOLATION, 10 - 20 usually is sufficient) or maximum number of iterations for optimizing the parameters (for APPROX_ERF and APPROX_GAUSSIAN, 50 - 100 usually is sufficient) f Approx Precision float 0.001f Specifies the approximation precision for APPROX_ERF and APPROX_GAUSSIAN (0.001 usually is sufficient, unused for INTERPOLATION) e Algorithm EDA_INTERPOLATION Selection of the edge ETc Vn Edge Detection Algor detection algorithm ithm [} 1688] f Range Cutoff Factor float 0.135f Relative edge strength factor to cut off the range of pixels used for approximation. Negative numbers are valid to include noise, i.e. intensity differences in the other direction. At most n Max Thickness pixels are used in each direction. pip Edge Strengths ITc Vn Container* [} 1836]* nullptr Returns the detected edge strengths (optional, set to 0 if not required; Container Type_Vector_V ector_REAL or Container Type_Vector_R EAL, depending on b Avg Edge Strengths) b Avg Edge Strengths bool false If true, ip Edge Strengths returns the average strength per edge instead of individual strengths for each search line Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D TF7000 - TF7810 Version: 2.4.0 2561
## Page 2562

API reference System Requirements 6.2.3.20.6 Locate Ellipse Locate an ellipse. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: HRESULT Locate Ellipse( HRESULT hr Prev, ITc Vn Image* ip Src Image, Tc Vn Rotated Rectangle& st Ellipse, Tc Vn Point2_REAL& a Center, float f Search Radius, ETc Vn Edge Direction e Edge Direction, float f Min Strength, ULONG n Max Thickness = 10, bool b Invert Search Direction = false, float f Min Search Radius = 0, ULONG n Subpixels Iterations = 10, ULONG n Search Lines = 92, float f Approx Precision = 0.001f, ETc Vn Edge Detection Algorithm e Algorithm = EDA_INTERPOLATION, ITc Vn Container** pip Contour Points = nullptr, float f Range Cutoff Factor = 0.135f ) 2562 Version: 2.4.0 TF7000 - TF7810
## Page 2563

API reference Parameters TF7000 - TF7810 Version: 2.4.0 2563
## Page 2564

API reference Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (1 channel) st Ellipse Tc Vn Rotated Rectangle Returns the detected ellipse [} 1733]& a Center Tc Vn Point2_REAL The expected ellipse center [} 1661]& f Search Radius float Radius around a Center to search for edges e Edge Direction ETc Vn Edge Direction Specification of the edge direction to search for [} 1688] (from center to outside ellipse or other way round, if b Invert Search Direction is true) f Min Strength float Specification of the minimum strength (intensity difference) of the edge to search for n Max Thickness ULONG 10 Specification of the maximum thickness of the edge to search for, which means f Min Strength must be reached within n Max Thickness pixels b Invert Search Direction bool false If true, the search starts from outside the ellipse in direction of the center f Min Search Radius float 0 Radius around a Center to skip before starting to search for edges (e.g. to save time or if the center contains edges that should be ignored) n Subpixels Iterations ULONG 10 Specifies the number of subpixels (for INTERPOLATION, 10 - 20 usually is sufficient) or maximum number of iterations for optimizing the parameters (for APPROX_ERF and APPROX_GAUSSIAN, 50 - 100 usually is sufficient) n Search Lines ULONG 92 Specifies the amount of search lines, which are equally distributed in all directions (must be >= 8 and a multiple of 4) 2564 Version: 2.4.0 TF7000 - TF7810
## Page 2565

API reference Name Type Default Description f Approx Precision float 0.001f Specifies the approximation precision for APPROX_ERF and APPROX_GAUSSIAN (0.001 usually is sufficient, unused for INTERPOLATION) e Algorithm EDA_INTERPOLATION Selection of the edge ETc Vn Edge Detection Algor detection algorithm ithm [} 1688] pip Contour Points ITc Vn Container* [} 1836]* nullptr Returns the subpixel accurate ellipse contour (optional, set to 0 if not required; Container Type_Vector_Tc Vn Point2_REAL; Non- zero interface pointers are reused.) f Range Cutoff Factor float 0.135f Relative edge strength factor to cut off the range of pixels used for approximation. Negative numbers are valid to include noise, i.e. intensity differences in the other direction. At most n Max Thickness pixels are used in each direction. Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D System Requirements 6.2.3.20.7 Measure Angle Between Edges Measure the angle between 2 edges. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: HRESULT Measure Angle Between Edges( HRESULT hr Prev, ITc Vn Image* ip Src Image, float& f Angle, Tc Vn Point2_REAL& a Inner Point, Tc Vn Point2_REAL& a Outer Point1, Tc Vn Point2_REAL& a Outer Point2, ETc Vn Edge Direction e Edge Direction, float f Min Strength, ULONG n Search Lines, float f Search Line Dist = 1, ULONG n Max Thickness = 10, bool b Invert Search Direction = false, TF7000 - TF7810 Version: 2.4.0 2565
## Page 2566

API reference ULONG n Subpixels Iterations = 10, bool b Angle In Degrees = false, float f Approx Precision = 0.001f, ETc Vn Edge Detection Algorithm e Algorithm = EDA_INTERPOLATION, ITc Vn Container** pip Edge Points1 = nullptr, ITc Vn Container** pip Edge Points2 = nullptr, float f Range Cutoff Factor = 0.135f ) 2566 Version: 2.4.0 TF7000 - TF7810
## Page 2567

API reference Parameters TF7000 - TF7810 Version: 2.4.0 2567
## Page 2568

API reference Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (1 channel) f Angle float& Returns the angle between the detected edges (radians or degrees, depending on b Angle In Degrees) a Inner Point Tc Vn Point2_REAL Position inside the angle to measure, from which to [} 1661]& start the edge search process (in the direction of a Outer Point1 and a Outer Point2) a Outer Point1 Tc Vn Point2_REAL Position where the search process for edge 1 ends [} 1661]& a Outer Point2 Tc Vn Point2_REAL Position where the search process for edge 2 ends [} 1661]& e Edge Direction ETc Vn Edge Direction Specification of the edge direction from a Inner Point [} 1688] to a Outer Point1 and a Outer Point2 to search for f Min Strength float Specification of the minimum strength (intensity difference) of the edge to search for n Search Lines ULONG Width of the search window, i.e. the number of search lines (3, 5, 7, ...), centered around the line specified by a Inner Point and a Outer Point1, a Outer Point2 f Search Line Dist float 1 Distance between the search lines in pixels (> 0) n Max Thickness ULONG 10 Specification of the maximum thickness of the edge to search for, which means f Min Strength must be reached within n Max Thickness pixels b Invert Search Direction bool false If true, the search starts from each a Outer Point in direction of a Inner Point 2568 Version: 2.4.0 TF7000 - TF7810
## Page 2569

API reference Name Type Default Description n Subpixels Iterations ULONG 10 Specifies the number of subpixels (for INTERPOLATION, 10 - 20 usually is sufficient) or maximum number of iterations for optimizing the parameters (for APPROX_ERF and APPROX_GAUSSIAN, 50 - 100 usually is sufficient) b Angle In Degrees bool false f Angle is in degrees, if true f Approx Precision float 0.001f Specifies the approximation precision for APPROX_ERF and APPROX_GAUSSIAN (0.001 usually is sufficient, unused for INTERPOLATION) e Algorithm EDA_INTERPOLATION Selection of the edge ETc Vn Edge Detection Algor detection algorithm ithm [} 1688] pip Edge Points1 ITc Vn Container* [} 1836]* nullptr Returns the detected edge points between a Inner Point and a Outer Point1 (Container Type_Vector_T c Vn Point2_REAL) pip Edge Points2 ITc Vn Container* [} 1836]* nullptr Returns the detected edge points between a Inner Point and a Outer Point2 (Container Type_Vector_T c Vn Point2_REAL) f Range Cutoff Factor float 0.135f Relative edge strength factor to cut off the range of pixels used for approximation. Negative numbers are valid to include noise, i.e. intensity differences in the other direction. At most n Max Thickness pixels are used in each direction. Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D TF7000 - TF7810 Version: 2.4.0 2569
## Page 2570

API reference System Requirements 6.2.3.20.8 Measure Edge Distance Measure the distance between 2 parallel edges. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: HRESULT Measure Edge Distance( HRESULT hr Prev, ITc Vn Image* ip Src Image, float& f Avg Distance, Tc Vn Point2_REAL& a Start Point, Tc Vn Point2_REAL& a End Point, ETc Vn Edge Direction e Edge Direction, float f Min Strength, ULONG n Search Lines, float f Search Line Dist = 1, ULONG n Max Thickness = 10, bool b Invert Search Direction = false, float f Search Gap = 0, ULONG n Subpixels Iterations = 10, float f Approx Precision = 0.001f, ETc Vn Edge Detection Algorithm e Algorithm = EDA_INTERPOLATION, ITc Vn Container** pip Edge Points1 = nullptr, ITc Vn Container** pip Edge Points2 = nullptr, ITc Vn Container** pip Distances = nullptr, float f Range Cutoff Factor = 0.135f ) 2570 Version: 2.4.0 TF7000 - TF7810
## Page 2571

API reference Parameters TF7000 - TF7810 Version: 2.4.0 2571
## Page 2572

API reference Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (1 channel) f Avg Distance float& Returns the average distance between the detected edges a Start Point Tc Vn Point2_REAL Position from which to start the search process [} 1661]& (in the direction of a End Point) a End Point Tc Vn Point2_REAL Position where the search process ends [} 1661]& e Edge Direction ETc Vn Edge Direction Specification of the edge direction from a Start Point [} 1688] to a End Point to search for f Min Strength float Specification of the minimum strength (intensity difference) of the edge to search for n Search Lines ULONG Width of the search window, i.e. the number of search lines (1, 3, 5, 7, ...), centered around the line specified by a Start Point and a End Point f Search Line Dist float 1 Distance between the search lines in pixels (> 0) n Max Thickness ULONG 10 Specification of the maximum thickness of the edge to search for, which means f Min Strength must be reached within n Max Thickness pixels b Invert Search Direction bool false If true, the search starts from the center point between a Start Point and a End Point in both directions f Search Gap float 0 Optional width of a gap (>= 0, centered between a Start Point and a End Point), that is neglected for searching edges (can reduce execution time). The 2 edges to search for must be on different sides of the gap. 2572 Version: 2.4.0 TF7000 - TF7810
## Page 2573

API reference Name Type Default Description n Subpixels Iterations ULONG 10 Specifies the number of subpixels (for INTERPOLATION, 10 - 20 usually is sufficient) or maximum number of iterations for optimizing the parameters (for APPROX_ERF and APPROX_GAUSSIAN, 50 - 100 usually is sufficient) f Approx Precision float 0.001f Specifies the approximation precision for APPROX_ERF and APPROX_GAUSSIAN (0.001 usually is sufficient, unused for INTERPOLATION) e Algorithm EDA_INTERPOLATION Selection of the edge ETc Vn Edge Detection Algor detection algorithm ithm [} 1688] pip Edge Points1 ITc Vn Container* [} 1836]* nullptr Returns the detected edge points of the edge near a Start Point (optional, set to 0 if not required; Container Type_Vector_Tc Vn Point2_REAL) pip Edge Points2 ITc Vn Container* [} 1836]* nullptr Returns the detected edge points of the edge near a End Point (optional, set to 0 if not required; Container Type_Vector_Tc Vn Point2_REAL) pip Distances ITc Vn Container* [} 1836]* nullptr Returns the distances between the detected edge points (optional, set to 0 if not required; Container Type_Vector_R EAL) f Range Cutoff Factor float 0.135f Relative edge strength factor to cut off the range of pixels used for approximation. Negative numbers are valid to include noise, i.e. intensity differences in the other direction. At most n Max Thickness pixels are used in each direction. Return value HRESULT [} 144] Required License TC3 Vision Metrology 2D TF7000 - TF7810 Version: 2.4.0 2573
## Page 2574

API reference System Requirements 6.2.3.20.9 Measure Min Edge Distance Measure the minimum distance within the specified search window between 2 edges. Can use available Twin CAT Job Tasks for executing parallel code regions. Can return partial results when canceled by Watchdog. Syntax Definition: HRESULT Measure Min Edge Distance( HRESULT hr Prev, ITc Vn Image* ip Src Image, float& f Min Distance, Tc Vn Point2_REAL& a Start Point, Tc Vn Point2_REAL& a End Point, ETc Vn Edge Direction e Edge Direction, float f Min Strength, ULONG n Search Lines, Tc Vn Point2_REAL& a Point1, Tc Vn Point2_REAL& a Point2, float f Search Line Dist = 1, ULONG n Max Thickness = 10, bool b Invert Search Direction = false, float f Search Gap = 0, ULONG n Subpixels Iterations = 10, float f Approx Precision = 0.001f, ETc Vn Edge Detection Algorithm e Algorithm = EDA_INTERPOLATION, ITc Vn Container** pip Edge Points1 = nullptr, ITc Vn Container** pip Edge Points2 = nullptr, float f Range Cutoff Factor = 0.135f ) 2574 Version: 2.4.0 TF7000 - TF7810
## Page 2575

API reference Parameters TF7000 - TF7810 Version: 2.4.0 2575
## Page 2576

API reference Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (1 channel) f Min Distance float& Returns the minimum distance between the detected edges a Start Point Tc Vn Point2_REAL Position from which to start the search process [} 1661]& (in the direction of a End Point) a End Point Tc Vn Point2_REAL Position where the search process ends [} 1661]& e Edge Direction ETc Vn Edge Direction Specification of the edge direction from a Start Point [} 1688] to a End Point to search for f Min Strength float Specification of the minimum strength (intensity difference) of the edge to search for n Search Lines ULONG Width of the search window, i.e. the number of search lines (1, 3, 5, 7, ...), centered around the line specified by a Start Point and a End Point a Point1 Tc Vn Point2_REAL Returns the point on the edge near a Start Point, for [} 1661]& which the minimum distance is achieved a Point2 Tc Vn Point2_REAL Returns the point on the edge near a End Point, for [} 1661]& which the minimum distance is achieved f Search Line Dist float 1 Distance between the search lines in pixels (> 0) n Max Thickness ULONG 10 Specification of the maximum thickness of the edge to search for, which means f Min Strength must be reached within n Max Thickness pixels b Invert Search Direction bool false If true, the search starts from the center point between a Start Point and a End Point in both directions 2576 Version: 2.4.0 TF7000 - TF7810
## Page 2577

API reference Name Type Default Description f Search Gap float 0 Optional width of a gap (>= 0, centered between a Start Point and a End Point), that is neglected for searching edges (can reduce execution time). The 2 edges to search for must be on different sides of the gap. n Subpixels Iterations ULONG 10 Specifies the number of subpixels (for INTERPOLATION, 10 - 20 usually is sufficient) or maximum number of iterations for optimizing the parameters (for APPROX_ERF and APPROX_GAUSSIAN, 50 - 100 usually is sufficient) f Approx Precision float 0.001f Specifies the approximation precision for APPROX_ERF and APPROX_GAUSSIAN (0.001 usually is sufficient, unused for INTERPOLATION) e Algorithm EDA_INTERPOLATION Selection of the edge ETc Vn Edge Detection Algor detection algorithm ithm [} 1688] pip Edge Points1 ITc Vn Container* [} 1836]* nullptr Returns the detected edge points of the edge near a Start Point (optional, set to 0 if not required; Container Type_Vector_Tc Vn Point2_REAL) pip Edge Points2 ITc Vn Container* [} 1836]* nullptr Returns the detected edge points of the edge near a End Point (optional, set to 0 if not required; Container Type_Vector_Tc Vn Point2_REAL) f Range Cutoff Factor float 0.135f Relative edge strength factor to cut off the range of pixels used for approximation. Negative numbers are valid to include noise, i.e. intensity differences in the other direction. At most n Max Thickness pixels are used in each direction. Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 2577
## Page 2578

API reference Required License TC3 Vision Metrology 2D System Requirements 6.2.3.21 Miscellaneous This group contains further functions that can be used across groups. Functions Geometrical auxiliary functions • Clip Line To Boundary [} 2579] • Clip Line To Boundary_ITc Vn Image [} 2580] • Clip Line To Boundary_Tc Vn Rectangle_DINT [} 2581] • Line Intersection Point [} 2588] • Line Intersection Point And Angle [} 2588] • Rotated Rectangle Corners [} 2590] • Rotated Rectangle Intersection [} 2591] • Orthogonal Vector_Tc Vn Vector2_DINT [} 2592] • Orthogonal Vector_Tc Vn Vector2_LREAL [} 2593] • Orthogonal Vector_Tc Vn Vector2_REAL [} 2594] • Point To Line Distance_Tc Vn Point2_DINT [} 2595] • Point To Line Distance_Tc Vn Point2_LREAL [} 2595] • Point To Line Distance_Tc Vn Point2_REAL [} 2596] • Point To Point Direction_Tc Vn Point2_DINT [} 2597] • Point To Point Direction_Tc Vn Point2_LREAL [} 2597] • Point To Point Direction_Tc Vn Point2_REAL [} 2598] • Point To Point Distance_Tc Vn Point2_DINT [} 2599] • Point To Point Distance_Tc Vn Point2_LREAL [} 2599] • Point To Point Distance_Tc Vn Point2_REAL [} 2600] Timestamp • Get Timestamp [} 2585] • Update Timestamp [} 2592] Auxiliary functions for matrices • Init Matrix Struct [} 2586] • Invert Matrix3x3 [} 2587] • Multiply Matrices [} 2589] Converting interfaces • Convert ITc Unknown To ITc Vn Bitmap Export [} 2582] • Convert ITc Unknown To ITc Vn Container [} 2583] • Convert ITc Unknown To ITc Vn Image [} 2583] • Convert ITc Unknown To ITc Vn Ml Model [} 2584] 2578 Version: 2.4.0 TF7000 - TF7810
## Page 2579

API reference Initialization function • Check Function Initialization [} 2579] • Deinitialize Function [} 2584] Miscellaneous • Hu Moment Invariants [} 2586] • Set Rng Seed [} 2591] 6.2.3.21.1 Check Function Initialization Check if a function is initialized with the specified options. Syntax Definition: HRESULT Check Function Initialization( HRESULT hr Prev, ETc Vn Initializable Function e Function, ULONGLONG n Options ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) e Function ETc Vn Initializable Function [} 1694] Initializable function n Options ULONGLONG Initialization options for the function Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.21.2 Clip Line To Boundary Clips a line to a rectangular boundary. Syntax Definition: HRESULT Clip Line To Boundary( HRESULT hr Prev, Tc Vn Vector4_LREAL& a Line, LONG n X1, LONG n Y1, LONG n X2, LONG n Y2, Tc Vn Point2_REAL& a Start Point, Tc Vn Point2_REAL& a End Point ) TF7000 - TF7810 Version: 2.4.0 2579
## Page 2580

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Line Tc Vn Vector4_LREAL [} 1663]& The first and second element describe the x and y component of the direction vector. The third and fourth element describe the x and y component of the position vector. n X1 LONG x of top left rectangle point n Y1 LONG y of top left rectangle point n X2 LONG x of bottom right rectangle point n Y2 LONG Y of bottom right rectangle point a Start Point Tc Vn Point2_REAL [} 1661]& Returns the clipped starting point of the line. a End Point Tc Vn Point2_REAL [} 1661]& Returns the clipped end point of the line. Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.21.3 Clip Line To Boundary (ITc Vn Image*) Clips a line to the boundary of an image. Syntax Definition: HRESULT Clip Line To Boundary( HRESULT hr Prev, Tc Vn Vector4_LREAL& a Line, ITc Vn Image* ip Image, Tc Vn Point2_REAL& a Start Point, Tc Vn Point2_REAL& a End Point ) 2580 Version: 2.4.0 TF7000 - TF7810
## Page 2581

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Line Tc Vn Vector4_LREAL [} 1663]& The first and second element describe the x and y component of the direction vector. The third and fourth element describe the x and y component of the position vector. ip Image ITc Vn Image* [} 1870] Image, from which to derive the boundary a Start Point Tc Vn Point2_REAL [} 1661]& Returns the clipped starting point of the line. a End Point Tc Vn Point2_REAL [} 1661]& Returns the clipped end point of the line. Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.21.4 Clip Line To Boundary (Tc Vn Rectangle_DINT) Clips a line to a rectangular boundary. Syntax Definition: HRESULT Clip Line To Boundary( HRESULT hr Prev, Tc Vn Vector4_LREAL& a Line, Tc Vn Rectangle_DINT& st Rectangle, Tc Vn Point2_REAL& a Start Point, Tc Vn Point2_REAL& a End Point ) TF7000 - TF7810 Version: 2.4.0 2581
## Page 2582

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Line Tc Vn Vector4_LREAL [} 1663]& The first and second element describe the x and y component of the direction vector. The third and fourth element describe the x and y component of the position vector. st Rectangle Tc Vn Rectangle_DINT [} 1732]& Rectangular boundary a Start Point Tc Vn Point2_REAL [} 1661]& Returns the clipped starting point of the line. a End Point Tc Vn Point2_REAL [} 1661]& Returns the clipped end point of the line. Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.21.5 Convert ITc Unknown To ITc Vn Bitmap Export Convert an ITc Unknown interface pointer to an ITc Vn Bitmap Export interface pointer. The destination pointer will be released (if existing) and set to the source pointer. The source pointer will be set to 0. Syntax Definition: HRESULT Convert ITc Unknown To ITc Vn Bitmap Export( HRESULT hr Prev, ITc Unknown*& ip Src, ITc Vn Bitmap Export*& ip Dest ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src ITc Unknown* [} 1883]& Source pointer ip Dest ITc Vn Bitmap Export* [} 1857]& Destination pointer Return value HRESULT [} 144] 2582 Version: 2.4.0 TF7000 - TF7810
## Page 2583

API reference Required License TC3 Vision Base System Requirements 6.2.3.21.6 Convert ITc Unknown To ITc Vn Container Convert an ITc Unknown interface pointer to an ITc Vn Container interface pointer. The destination pointer will be released (if existing) and set to the source pointer. The source pointer will be set to 0. Syntax Definition: HRESULT Convert ITc Unknown To ITc Vn Container( HRESULT hr Prev, ITc Unknown*& ip Src, ITc Vn Container*& ip Dest ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src ITc Unknown* [} 1883]& Source pointer ip Dest ITc Vn Container* [} 1836]& Destination pointer Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.21.7 Convert ITc Unknown To ITc Vn Image Convert an ITc Unknown interface pointer to an ITc Vn Image interface pointer. The destination pointer will be released (if existing) and set to the source pointer. The source pointer will be set to 0. Syntax Definition: HRESULT Convert ITc Unknown To ITc Vn Image( HRESULT hr Prev, ITc Unknown*& ip Src, ITc Vn Image*& ip Dest ) TF7000 - TF7810 Version: 2.4.0 2583
## Page 2584

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src ITc Unknown* [} 1883]& Source pointer ip Dest ITc Vn Image* [} 1870]& Destination pointer Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.21.8 Convert ITc Unknown To ITc Vn Ml Model Convert an ITc Unknown interface pointer to an ITc Vn Ml Model interface pointer. The destination pointer will be released (if existing) and set to the source pointer. The source pointer will be set to 0. Syntax Definition: HRESULT Convert ITc Unknown To ITc Vn Ml Model( HRESULT hr Prev, ITc Unknown*& ip Src, ITc Vn Ml Model*& ip Dest ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src ITc Unknown* [} 1883]& Source pointer ip Dest ITc Vn Ml Model* [} 1877]& Destination pointer Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.21.9 Deinitialize Function Deinitialize the specified options for the function. 2584 Version: 2.4.0 TF7000 - TF7810
## Page 2585

API reference Syntax Definition: HRESULT Deinitialize Function( HRESULT hr Prev, ETc Vn Initializable Function e Function, ULONGLONG n Options ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) e Function ETc Vn Initializable Function [} 1694] Initializable function n Options ULONGLONG Initialization options for the function Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.21.10 Get Timestamp Get the timestamp (actual DC time) from the last change of an object (e.g. ITc Vn Image or ITc Vn Container) Syntax Definition: HRESULT Get Timestamp( HRESULT hr Prev, ITc Unknown* ip Unknown, LONGLONG& n Timestamp ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Unknown ITc Unknown* [} 1883] An object implementing ITc Unknown and ITc Vn Timestamp (e.g. ITc Vn Image or ITc Vn Container) n Timestamp LONGLONG& Returns the timestamp Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 2585
## Page 2586

API reference Required License TC3 Vision Base System Requirements 6.2.3.21.11 Hu Moment Invariants Computes the Hu moment invariants. Syntax Definition: HRESULT Hu Moment Invariants( HRESULT hr Prev, Tc Vn Moments& st Moments, Tc Vn Array7_LREAL& a Hu Invariants ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) st Moments Tc Vn Moments [} 1720]& Moments from which to compute the Hu invariants a Hu Invariants Tc Vn Array7_LREAL [} 1663]& Returns the Hu moment invariants Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.21.12 Init Matrix Struct Initialize a struct of the type Tc Vn Matrix extending a buffer with metainformation so that it can be used as a matrix. Syntax Definition: HRESULT Init Matrix Struct( HRESULT hr Prev, PVOID p Src Buffer, Tc Vn Matrix& st Dest Matrix, ULONG n Rows, ULONG n Cols, ETc Vn Element Type e Element Type ) 2586 Version: 2.4.0 TF7000 - TF7810
## Page 2587

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) p Src Buffer PVOID Source buffer st Dest Matrix Tc Vn Matrix [} 1720]& Returns completed matrix struct n Rows ULONG Matrix rows n Cols ULONG Matrix columns e Element Type ETc Vn Element Type [} 1689] Type of the matrix elements Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.21.13 Invert Matrix3x3 Invert a 3x3 matrix. Syntax Definition: HRESULT Invert Matrix3x3( HRESULT hr Prev, Tc Vn Matrix3x3_LREAL& a Src Matrix, Tc Vn Matrix3x3_LREAL& a Inverted Matrix ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Src Matrix Tc Vn Matrix3x3_LREAL [} 1663]& Source matrix a Inverted Matrix Tc Vn Matrix3x3_LREAL [} 1663]& Returns inverted matrix Return value HRESULT [} 144] Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 2587
## Page 2588

API reference System Requirements 6.2.3.21.14 Line Intersection Point Computes the intersection point between two lines (returns S_FALSE if the provided lines are parallel). Syntax Definition: HRESULT Line Intersection Point( HRESULT hr Prev, Tc Vn Vector4_LREAL& a Line1, Tc Vn Vector4_LREAL& a Line2, Tc Vn Point2_REAL& a Intersec Point ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Line1 Tc Vn Vector4_LREAL [} 1663]& First line. The first and second element describe the x and y component of a vector collinear to the line. The third and fourth element describe the x and y component of a point on the line. a Line2 Tc Vn Vector4_LREAL [} 1663]& Second line. The first and second element describe the x and y component of a vector collinear to the line. The third and fourth element describe the x and y component of a point on the line. a Intersec Point Tc Vn Point2_REAL [} 1661]& Returns the intersection point of a Line1 and a Line2. Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.21.15 Line Intersection Point And Angle Computes the intersection point and angle between two lines (returns S_FALSE if the provided lines are parallel). Syntax Definition: HRESULT Line Intersection Point And Angle( HRESULT hr Prev, Tc Vn Vector4_LREAL& a Line1, Tc Vn Vector4_LREAL& a Line2, Tc Vn Point2_REAL& a Intersec Point, 2588 Version: 2.4.0 TF7000 - TF7810
## Page 2589

API reference float& f Angle, bool b Angle In Degrees ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Line1 Tc Vn Vector4_LREAL [} 1663]& First line. The first and second element describe the x and y component of a vector collinear to the line. The third and fourth element describe the x and y component of a point on the line. a Line2 Tc Vn Vector4_LREAL [} 1663]& Second line. The first and second element describe the x and y component of a vector collinear to the line. The third and fourth element describe the x and y component of a point on the line. a Intersec Point Tc Vn Point2_REAL [} 1661]& Returns the intersection point of a Line1 and a Line2. f Angle float& Returns the intersection angle of a Line1 and a Line2. b Angle In Degrees bool If TRUE, f Angle is in degrees. If FALSE, f Angle is in radians. Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.21.16 Multiply Matrices Matrix multiplication of two matrices (A * B = C). All matrices are represented by structs holding a pointer to an array of the appropriate size. Syntax Definition: HRESULT Multiply Matrices( HRESULT hr Prev, Tc Vn Matrix& st Src Matrix1, Tc Vn Matrix& st Src Matrix2, Tc Vn Matrix& st Dest Matrix ) TF7000 - TF7810 Version: 2.4.0 2589
## Page 2590

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) st Src Matrix1 Tc Vn Matrix [} 1720]& First source matrix (A) st Src Matrix2 Tc Vn Matrix [} 1720]& Second source matrix (B) st Dest Matrix Tc Vn Matrix [} 1720]& Destination matrix (C) (The destination matrix is filled by this function, but the required memory needs to be provided.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.21.17 Rotated Rectangle Corners Computes the 4 corner points of a rotated rectangle. Syntax Definition: HRESULT Rotated Rectangle Corners( HRESULT hr Prev, Tc Vn Rotated Rectangle& st Rect, Tc Vn Array4_Point2_REAL& a Corners ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) st Rect Tc Vn Rotated Rectangle [} 1733]& Rotated rectangle a Corners Tc Vn Array4_Point2_REAL [} 1663]& Returns the 4 corner points Return value HRESULT [} 144] Required License TC3 Vision Base 2590 Version: 2.4.0 TF7000 - TF7810
## Page 2591

API reference System Requirements 6.2.3.21.18 Rotated Rectangle Intersection Finds the intersection of 2 rotated rectangles. Syntax Definition: HRESULT Rotated Rectangle Intersection( HRESULT hr Prev, Tc Vn Rotated Rectangle& st Rect1, Tc Vn Rotated Rectangle& st Rect2, ITc Vn Container*& ip Intersection, ETc Vn Rectangle Intersection& e Intersection ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) st Rect1 Tc Vn Rotated Rectangle [} 1733]& Rotated rectangle 1 st Rect2 Tc Vn Rotated Rectangle [} 1733]& Rotated rectangle 2 ip Intersection ITc Vn Container* [} 1836]& Returns the intersection points (Container Type_Vector_Tc Vn Point 2_REAL, non-zero interface pointers are reused) e Intersection ETc Vn Rectangle Intersection Returns the intersection type [} 1702]& Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.21.19 Set Rng Seed Sets the internal pseudo random number generator seed (intended for testing purposes only). Syntax Definition: HRESULT Set Rng Seed( HRESULT hr Prev, LONG n Seed ) TF7000 - TF7810 Version: 2.4.0 2591
## Page 2592

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) n Seed LONG seed (0 sets the generator back to its initial state) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.21.20 Update Timestamp Update the timestamp of an object to the actual DC time (e.g. ITc Vn Image or ITc Vn Container) Syntax Definition: HRESULT Update Timestamp( HRESULT hr Prev, ITc Unknown* ip Unknown ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Unknown ITc Unknown* [} 1883] An object implementing ITc Unknown and ITc Vn Timestamp (e.g. ITc Vn Image or ITc Vn Container) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.21.21 Orthogonal Vector (Tc Vn Vector2_DINT) Computes an orthogonal vector to a given source vector. 2592 Version: 2.4.0 TF7000 - TF7810
## Page 2593

API reference Syntax Definition: HRESULT Orthogonal Vector( HRESULT hr Prev, Tc Vn Vector2_DINT& a Src, Tc Vn Vector2_LREAL& a Orthogonal, bool b Normalize ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Src Tc Vn Vector2_DINT [} 1663]& Source vector a Orthogonal Tc Vn Vector2_LREAL [} 1663]& Returns a vector orthogonal to a Src b Normalize bool If true, a Orthogonal length is normalized to 1, otherwise a Orthogonal has the same length as a Src Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.21.22 Orthogonal Vector (Tc Vn Vector2_LREAL) Computes an orthogonal vector to a given source vector. Syntax Definition: HRESULT Orthogonal Vector( HRESULT hr Prev, Tc Vn Vector2_LREAL& a Src, Tc Vn Vector2_LREAL& a Orthogonal, bool b Normalize ) TF7000 - TF7810 Version: 2.4.0 2593
## Page 2594

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Src Tc Vn Vector2_LREAL [} 1663]& Source vector a Orthogonal Tc Vn Vector2_LREAL [} 1663]& Returns a vector orthogonal to a Src b Normalize bool If true, a Orthogonal length is normalized to 1, otherwise a Orthogonal has the same length as a Src Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.21.23 Orthogonal Vector (Tc Vn Vector2_REAL) Computes an orthogonal vector to a given source vector. Syntax Definition: HRESULT Orthogonal Vector( HRESULT hr Prev, Tc Vn Vector2_REAL& a Src, Tc Vn Vector2_REAL& a Orthogonal, bool b Normalize ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Src Tc Vn Vector2_REAL [} 1663]& Source vector a Orthogonal Tc Vn Vector2_REAL [} 1663]& Returns a vector orthogonal to a Src b Normalize bool If true, a Orthogonal length is normalized to 1, otherwise a Orthogonal has the same length as a Src Return value HRESULT [} 144] 2594 Version: 2.4.0 TF7000 - TF7810
## Page 2595

API reference Required License TC3 Vision Base System Requirements 6.2.3.21.24 Point To Line Distance (Tc Vn Point2_DINT) Computes the shortest distance between a point and a line. Syntax Definition: HRESULT Point To Line Distance( HRESULT hr Prev, Tc Vn Point2_DINT& a Point, Tc Vn Point2_DINT& a Line Point1, Tc Vn Point2_DINT& a Line Point2, double& f Distance ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Point Tc Vn Point2_DINT [} 1661]& Point a Line Point1 Tc Vn Point2_DINT [} 1661]& Line Point 1 a Line Point2 Tc Vn Point2_DINT [} 1661]& Line Point 2 f Distance double& Returns the distance between the point and the line Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.21.25 Point To Line Distance (Tc Vn Point2_LREAL) Computes the shortest distance between a point and a line. Syntax Definition: HRESULT Point To Line Distance( HRESULT hr Prev, Tc Vn Point2_LREAL& a Point, Tc Vn Point2_LREAL& a Line Point1, Tc Vn Point2_LREAL& a Line Point2, double& f Distance ) TF7000 - TF7810 Version: 2.4.0 2595
## Page 2596

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Point Tc Vn Point2_LREAL [} 1661]& Point a Line Point1 Tc Vn Point2_LREAL [} 1661]& Line Point 1 a Line Point2 Tc Vn Point2_LREAL [} 1661]& Line Point 2 f Distance double& Returns the distance between the point and the line Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.21.26 Point To Line Distance (Tc Vn Point2_REAL) Computes the shortest distance between a point and a line. Syntax Definition: HRESULT Point To Line Distance( HRESULT hr Prev, Tc Vn Point2_REAL& a Point, Tc Vn Point2_REAL& a Line Point1, Tc Vn Point2_REAL& a Line Point2, double& f Distance ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Point Tc Vn Point2_REAL [} 1661]& Point a Line Point1 Tc Vn Point2_REAL [} 1661]& Line Point 1 a Line Point2 Tc Vn Point2_REAL [} 1661]& Line Point 2 f Distance double& Returns the distance between the point and the line Return value HRESULT [} 144] Required License TC3 Vision Base 2596 Version: 2.4.0 TF7000 - TF7810
## Page 2597

API reference System Requirements 6.2.3.21.27 Point To Point Direction (Tc Vn Point2_DINT) Computes the direction vector between 2 points. Syntax Definition: HRESULT Point To Point Direction( HRESULT hr Prev, Tc Vn Point2_DINT& a Point1, Tc Vn Point2_DINT& a Point2, Tc Vn Vector2_LREAL& a Direction, bool b Normalize ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Point1 Tc Vn Point2_DINT [} 1661]& Point 1 a Point2 Tc Vn Point2_DINT [} 1661]& Point 2 a Direction Tc Vn Vector2_LREAL [} 1663]& Returns the direction vector from a Point1 to a Point2 b Normalize bool If true, a Direction length is normalized to 1, otherwise a Direction length is the distance between a Point1 and a Point2 Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.21.28 Point To Point Direction (Tc Vn Point2_LREAL) Computes the direction vector between 2 points. Syntax Definition: HRESULT Point To Point Direction( HRESULT hr Prev, Tc Vn Point2_LREAL& a Point1, Tc Vn Point2_LREAL& a Point2, Tc Vn Vector2_LREAL& a Direction, bool b Normalize ) TF7000 - TF7810 Version: 2.4.0 2597
## Page 2598

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Point1 Tc Vn Point2_LREAL [} 1661]& Point 1 a Point2 Tc Vn Point2_LREAL [} 1661]& Point 2 a Direction Tc Vn Vector2_LREAL [} 1663]& Returns the direction vector from a Point1 to a Point2 b Normalize bool If true, a Direction length is normalized to 1, otherwise a Direction length is the distance between a Point1 and a Point2 Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.21.29 Point To Point Direction (Tc Vn Point2_REAL) Computes the direction vector between 2 points. Syntax Definition: HRESULT Point To Point Direction( HRESULT hr Prev, Tc Vn Point2_REAL& a Point1, Tc Vn Point2_REAL& a Point2, Tc Vn Vector2_REAL& a Direction, bool b Normalize ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Point1 Tc Vn Point2_REAL [} 1661]& Point 1 a Point2 Tc Vn Point2_REAL [} 1661]& Point 2 a Direction Tc Vn Vector2_REAL [} 1663]& Returns the direction vector from a Point1 to a Point2 b Normalize bool If true, a Direction length is normalized to 1, otherwise a Direction length is the distance between a Point1 and a Point2 2598 Version: 2.4.0 TF7000 - TF7810
## Page 2599

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.21.30 Point To Point Distance (Tc Vn Point2_DINT) Computes the distance between 2 points. Syntax Definition: HRESULT Point To Point Distance( HRESULT hr Prev, Tc Vn Point2_DINT& a Point1, Tc Vn Point2_DINT& a Point2, double& f Distance ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Point1 Tc Vn Point2_DINT [} 1661]& Point 1 a Point2 Tc Vn Point2_DINT [} 1661]& Point 2 f Distance double& Returns the distance between the points Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.21.31 Point To Point Distance (Tc Vn Point2_LREAL) Computes the distance between 2 points. Syntax Definition: HRESULT Point To Point Distance( HRESULT hr Prev, Tc Vn Point2_LREAL& a Point1, Tc Vn Point2_LREAL& a Point2, double& f Distance ) TF7000 - TF7810 Version: 2.4.0 2599
## Page 2600

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Point1 Tc Vn Point2_LREAL [} 1661]& Point 1 a Point2 Tc Vn Point2_LREAL [} 1661]& Point 2 f Distance double& Returns the distance between the points Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.21.32 Point To Point Distance (Tc Vn Point2_REAL) Computes the distance between 2 points. Syntax Definition: HRESULT Point To Point Distance( HRESULT hr Prev, Tc Vn Point2_REAL& a Point1, Tc Vn Point2_REAL& a Point2, double& f Distance ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) a Point1 Tc Vn Point2_REAL [} 1661]& Point 1 a Point2 Tc Vn Point2_REAL [} 1661]& Point 2 f Distance double& Returns the distance between the points Return value HRESULT [} 144] Required License TC3 Vision Base 2600 Version: 2.4.0 TF7000 - TF7810
## Page 2601

API reference System Requirements 6.2.3.22 Neural Network This group contains functions for pre- and post-processing, as well as for the execution of neural network models. Functions Pre- & Postprocessing • Convert Data Layout [} 2608] • Reshape Image [} 2615] Execution of neural networks • Execute Neural Network [} 2609] With one input and one output. • Execute Neural Network_MI [} 2601] With multiple inputs (MI) and one output. • Execute Neural Network_MIMO_String [} 2602] With multiple inputs and outputs (MIMO). • Execute Neural Network_MISO [} 2603] With multiple inputs and a single specified output (MISO). • Execute Neural Network_MO [} 2604] One input and several outputs (MO). • Execute Neural Network_SO [} 2605] With one input and a single specified output (SO). Postprocessing • Sigmoid [} 2616] • Soft Max [} 2617] • Non Max Suppression [} 2612] • Reduce [} 2614] • Reduce Arg [} 2614] Get the layer names • Get Neural Network Layer Names [} 2611] 6.2.3.22.1 Execute Neural Network (MI) Execute a neural network with multiple inputs (MI) using the provided images. Ensure all model input names are listed in s Input Names and that the images and names are in the same order. The result of one output layer is returned. The function doesn't perform any pre-processing or transformation. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Execute Neural Network( HRESULT hr Prev, ITc Vn Neural Network* ip Neural Network, PVOID p Src Images, USHORT n Src Array Size, PCCH s Input Names, ITc Vn Image*& ip Dest Image ) TF7000 - TF7810 Version: 2.4.0 2601
## Page 2602

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Neural Network ITc Vn Neural Network* [} 1885] Neural network model p Src Images PVOID Pointer to an array of source input images n Src Array Size USHORT The size of the array referenced by p Src Images. p Src Images must reference an array with a size equal to the number of model inputs. s Input Names PCCH Input names separated by ";" ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image based on the output layer is created. To process the destination image, use e.g. F_VN_Convert Data Layout or F_VN_Reshape Image if necessary. Return value HRESULT [} 144] Required License TC3 Neural Network Realtime Inference System Requirements 6.2.3.22.2 Execute Neural Network (MIMO_String) Execute a neural network with multiple inputs and multiple outputs (MIMO) using the provided images. Ensure all model input names are listed in s Input Names and that the images and names are in the same order. The result of the specified output layers are returned. The function doesn't perform any pre-processing or transformation. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Execute Neural Network( HRESULT hr Prev, ITc Vn Neural Network* ip Neural Network, PVOID p Src Images, USHORT n Src Array Size, PCCH s Input Names, ITc Vn Container*& ip Dest Images, PCCH s Output Names ) 2602 Version: 2.4.0 TF7000 - TF7810
## Page 2603

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Neural Network ITc Vn Neural Network* [} 1885] Neural network model p Src Images PVOID Pointer to an array of source input images n Src Array Size USHORT The size of the array referenced by p Src Images. p Src Images must reference an array with a size equal to the number of model inputs. s Input Names PCCH Input names separated by ";" ip Dest Images ITc Vn Container* [} 1836]& Container of images containing the output from the specified layers. s Output Names PCCH Names of output layers whose outputs are required separated by ";". If empty, the outputs of all unconnected output layers are provided. Return value HRESULT [} 144] Required License TC3 Neural Network Realtime Inference System Requirements 6.2.3.22.3 Execute Neural Network (MISO) Execute a neural network with multiple inputs and single output (MISO) using the provided images. Ensure all model input names are listed in s Input Names and that the images and names are in the same order. The result of the specified output layer is returned. The function doesn't perform any pre-processing or transformation. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Execute Neural Network( HRESULT hr Prev, ITc Vn Neural Network* ip Neural Network, PVOID p Src Images, USHORT n Src Array Size, PCCH s Input Names, ITc Vn Image*& ip Dest Image, PCCH s Output Name ) TF7000 - TF7810 Version: 2.4.0 2603
## Page 2604

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Neural Network ITc Vn Neural Network* [} 1885] Neural network model p Src Images PVOID Pointer to an array of source input images n Src Array Size USHORT The size of the array referenced by p Src Images. p Src Images must reference an array with a size equal to the number of model inputs. s Input Names PCCH Input names separated by ";" ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image based on the output layer is created. To process the destination image, use e.g. F_VN_Convert Data Layout or F_VN_Reshape Image if necessary. s Output Name PCCH Specify the name of the layer for which the output is required. If empty, the output of one output layer is provided. Return value HRESULT [} 144] Required License TC3 Neural Network Realtime Inference System Requirements 6.2.3.22.4 Execute Neural Network (MO) Execute a neural network using the provided image as input and provide the output of the specified output layers. The function doesn't perform any pre-processing or transformation. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Execute Neural Network( HRESULT hr Prev, ITc Vn Neural Network* ip Neural Network, ITc Vn Image* ip Src Image, ITc Vn Container*& ip Dest Images, ITc Vn Container* ip Output Names ) 2604 Version: 2.4.0 TF7000 - TF7810
## Page 2605

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Neural Network ITc Vn Neural Network* [} 1885] Neural network model ip Src Image ITc Vn Image* [} 1870] Source image (The image layout must be adapted to match the model's expected input format using e.g. F_VN_Convert Data Layout or F_VN_Reshape Image functions if necessary.) ip Dest Images ITc Vn Container* [} 1836]& Container of images containing the output from the specified layers. ip Output Names ITc Vn Container* [} 1836] Container of layer names whose outputs to be returned (Container Type_Vector_String_SIN T). If set to zero, the outputs of all unconnected output layers will be returned.. Return value HRESULT [} 144] Required License TC3 Neural Network Realtime Inference System Requirements 6.2.3.22.5 Execute Neural Network (SO) Execute a neural network using the provided image as input and provide the output of the specified output layer. The function doesn't perform any pre-processing or transformation. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Execute Neural Network( HRESULT hr Prev, ITc Vn Neural Network* ip Neural Network, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, PCCH s Output Name ) TF7000 - TF7810 Version: 2.4.0 2605
## Page 2606

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Neural Network ITc Vn Neural Network* [} 1885] Neural network model ip Src Image ITc Vn Image* [} 1870] Source image (The image layout must be adapted to match the model's expected input format using e.g. F_VN_Convert Data Layout or F_VN_Reshape Image functions if necessary.) ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image based on the output layer is created. To process the destination image, use e.g. F_VN_Convert Data Layout or F_VN_Reshape Image if necessary. s Output Name PCCH Specify the name of the layer for which the output is required. If empty, the output of one output layer is provided. Return value HRESULT [} 144] Required License TC3 Neural Network Realtime Inference System Requirements 6.2.3.22.6 Get Neural Network Layer Names (Exp) Get the name of model layers in the neural network model. Syntax Definition: HRESULT Get Neural Network Layer Names( HRESULT hr Prev, ITc Vn Neural Network* ip Neural Network, ITc Vn Container*& ip Layer Names, ETc Vn Layer Name Type e Layer Name Type ) 2606 Version: 2.4.0 TF7000 - TF7810
## Page 2607

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Neural Network ITc Vn Neural Network* [} 1885] Neural network model ip Layer Names ITc Vn Container* [} 1836]& Container with the layers names (Container Type_Vector_String_SIN T) e Layer Name Type ETc Vn Layer Name Type [} 1713] Layer name type Return value HRESULT [} 144] Required License TC3 Neural Network Realtime Inference System Requirements 6.2.3.22.7 Get Neural Network Layer Names (String) Get the name of model layers in the neural network model. Syntax Definition: HRESULT Get Neural Network Layer Names( HRESULT hr Prev, ITc Vn Neural Network* ip Neural Network, PCCH s Layer Names, ULONGLONG n Max Length, ETc Vn Layer Name Type e Layer Name Type ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Neural Network ITc Vn Neural Network* [} 1885] Neural network model s Layer Names PCCH Layer names separated by ";". Make sure to choose a sufficient STRING size! n Max Length ULONGLONG Maximum string length to export (including 0 termination). If the container content is longer, the string is cut off at n Max Length - 1 and 0 termination is appended. In this case, S_FALSE is returned. e Layer Name Type ETc Vn Layer Name Type [} 1713] Layer name type Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 2607
## Page 2608

API reference Required License TC3 Neural Network Realtime Inference System Requirements 6.2.3.22.8 Convert Data Layout Convert a data layout (the arrangement of dimensions in the input data) to another data layout. Syntax Definition: HRESULT Convert Data Layout( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, ULONGLONG n Src Data Layout, ULONGLONG n Dest Data Layout ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) n Src Data Layout ULONGLONG Data layout of the source image (Commonly used data layouts are available in the enumeration ETc Vn Data Layout. If n Src Data Layout is set to 0 or TCVN_DL_DEFAULT, the Data Layout will be automatically determined based on the dimension of the ip Src Image: 0x12 for 2D, 0x123 for 3D, 0x1234 for 4D, and so forth.) n Dest Data Layout ULONGLONG Required output data layout (Commonly used data layouts are available in the enumeration ETc Vn Data Layout. n Dest Data Layout must not equal 0 or TCVN_DL_DEFAULT.) Return value HRESULT [} 144] Required License TC3 Vision Base 2608 Version: 2.4.0 TF7000 - TF7810
## Page 2609

API reference System Requirements 6.2.3.22.9 Execute Neural Network Execute a neural network using the provided image as input and provide the output of one output layer. The function doesn't perform any pre-processing or transformation. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Execute Neural Network( HRESULT hr Prev, ITc Vn Neural Network* ip Neural Network, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Neural Network ITc Vn Neural Network* [} 1885] Neural network model ip Src Image ITc Vn Image* [} 1870] Source image (The image layout must be adapted to match the model's expected input format using e.g. F_VN_Convert Data Layout or F_VN_Reshape Image functions if necessary.) ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image based on the output layer is created. To process the destination image, use e.g. F_VN_Convert Data Layout or F_VN_Reshape Image if necessary. Return value HRESULT [} 144] Required License TC3 Neural Network Realtime Inference System Requirements 6.2.3.22.10 Execute Neural Network_Multi Layer Output This function is deprecated, please use F_VN_Execute Neural Network_MO. Execute a neural network using the provided image as input and provide the output of the specified output layers. The function doesn't perform any pre-processing or transformation. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 2609
## Page 2610

API reference HRESULT Execute Neural Network_Multi Layer Output( HRESULT hr Prev, ITc Vn Neural Network* ip Neural Network, ITc Vn Image* ip Src Image, ITc Vn Container*& ip Dest Images, ITc Vn Container* ip Layer Names ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Neural Network ITc Vn Neural Network* [} 1885] Neural network model ip Src Image ITc Vn Image* [} 1870] Source image (The image layout must be adapted to match the model's expected input format using e.g. F_VN_Convert Data Layout or F_VN_Reshape Image functions if necessary.) ip Dest Images ITc Vn Container* [} 1836]& Container of images containing the output from the specified layers. ip Layer Names ITc Vn Container* [} 1836] Container of layer names whose outputs to be returned (Container Type_Vector_String_SIN T). If set to zero, the outputs of all unconnected output layers will be returned.. Return value HRESULT [} 144] Required License TC3 Neural Network Realtime Inference System Requirements 6.2.3.22.11 Execute Neural Network_Single Layer Output This function is deprecated, please use F_VN_Execute Neural Network_SO. Execute a neural network using the provided image as input and provide the output of the specified output layer. The function doesn't perform any pre-processing or transformation. Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT Execute Neural Network_Single Layer Output( HRESULT hr Prev, ITc Vn Neural Network* ip Neural Network, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, PCCH s Layer Name ) 2610 Version: 2.4.0 TF7000 - TF7810
## Page 2611

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Neural Network ITc Vn Neural Network* [} 1885] Neural network model ip Src Image ITc Vn Image* [} 1870] Source image (The image layout must be adapted to match the model's expected input format using e.g. F_VN_Convert Data Layout or F_VN_Reshape Image functions if necessary.) ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image based on the output layer is created. To process the destination image, use e.g. F_VN_Convert Data Layout or F_VN_Reshape Image if necessary. s Layer Name PCCH Specify the name of the layer for which the output is required. If empty, the output of one output layer is provided. Return value HRESULT [} 144] Required License TC3 Neural Network Realtime Inference System Requirements 6.2.3.22.12 Get Neural Network Layer Names Get the name of all layers in the neural network model. If the b Only Ouput flag is set to true, only the unconnected output layer names are returned. Syntax Definition: HRESULT Get Neural Network Layer Names( HRESULT hr Prev, ITc Vn Neural Network* ip Neural Network, ITc Vn Container*& ip Layer Names, bool b Only Outputs ) TF7000 - TF7810 Version: 2.4.0 2611
## Page 2612

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Neural Network ITc Vn Neural Network* [} 1885] Neural network model ip Layer Names ITc Vn Container* [} 1836]& Container with the layers names (Container Type_Vector_String_SIN T) b Only Outputs bool If true, only the unconnected output layer names are returned. Return value HRESULT [} 144] Required License TC3 Neural Network Realtime Inference System Requirements 6.2.3.22.13 Non Max Suppression Perform non-maximum suppression on given bounding boxes and corresponding scores. Syntax Definition: HRESULT Non Max Suppression( HRESULT hr Prev, ITc Vn Container* ip Bounding Boxes, ITc Vn Container* ip Scores, ITc Vn Container*& ip Dest Indcies, float f Score Threshold, float f Overlap Threshold, ITc Vn Container* ip Class Indcies = nullptr, float f Eta = 1.0f, LONG n Top K = 0 ) 2612 Version: 2.4.0 TF7000 - TF7810
## Page 2613

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Bounding Boxes ITc Vn Container* [} 1836] Container of bounding boxes to apply the non maximum supresion (Container Type_Vector_T c Vn Rectangle_DINT) ip Scores ITc Vn Container* [} 1836] Container of coreeponding score for each bounding box (Container Type_Vector_R EAL) ip Dest Indcies ITc Vn Container* [} 1836]& Container of the kept indcies after apply the non maximum suppression (Container Type_Vector_D INT) f Score Threshold float A threshold [0.0 to 1.0] used to filter the bounding boxes by score f Overlap Threshold float A threshold [0.0 to 1.0] that determines the minimum degree of intersection over union (Io U) required for bounding boxes to be considered overlapping ip Class Indcies ITc Vn Container* [} 1836] nullptr Container of corresponding set of class indcies (Container Type_Vector_D INT) f Eta float 1.0f An adjustable threshold [0.0 to 1.0] used to dynamically reduce the overlap threshold during processing. Setting it to 1 maintains a constant value for the overlap threshold n Top K LONG 0 The maximum number of bounding boxes with the highest scores to undergo the suppression algorithm (must be >= 0). Setting it to zero applies the algorithm to all bounding boxes Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 2613
## Page 2614

API reference Required License TC3 Vision Base System Requirements 6.2.3.22.14 Reduce Reduce ip Src Image by applying the specified operation across rows/columns to obtain a single row/column/ channel with the resulting values. Syntax Definition: HRESULT Reduce( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, LONG n Dim, ETc Vn Reduce Type e Reduce Type ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (USINT or REAL elements, 1 channel) ip Dest Image ITc Vn Image* [} 1870]& Destination image. If ip Src Image is of type USINT and the reduction type is SUM or AVG, ip Dest Image will be of type REAL; otherwise, it retains the same type as ip Src Image (An appropriate single channel destination image will be created if required.) n Dim LONG Index along which the ITc Vn Image is reduced: 0 reduces the matrix to a single row, 1 reduces it to a single column, and 2 reduces to a single channel e Reduce Type ETc Vn Reduce Type [} 1711] Reduction operation Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.22.15 Reduce Arg Finds indices of max/min elements along provided axis and reduce the ip Src Image to a single row/column/ channel. 2614 Version: 2.4.0 TF7000 - TF7810
## Page 2615

API reference Syntax Definition: HRESULT Reduce Arg( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, LONG n Dim, LONG e Reduce Type ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image ip Dest Image ITc Vn Image* [} 1870]& Destination image of type DINT (An appropriate single channel destination image will be created if required.) n Dim LONG Index along which the ip Src Image is reduced: 0 reduces the matrix to a single row, 1 reduces it to a single column, and 2 reduces to a single channel e Reduce Type LONG Reduction operation REDUCE_MAX or REDUCE_MIN Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.22.16 Reshape Image Changes the shape of an ITc Vn Image. The total number of elements in the new shape must be equal to the total number of elements in ip Src Image. Syntax Definition: HRESULT Reshape Image( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, Tc Vn Array33_UDINT& a New Shape ) TF7000 - TF7810 Version: 2.4.0 2615
## Page 2616

API reference Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (1 channel) ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate single channel destination image will be created if required.) a New Shape Tc Vn Array33_UDINT [} 1663]& Specifies the shape of ip Dest Image. First entry is the number of dimensions (max. 32), followed by the sizes of each dimension. If one dimension is set to zero, its value will be automatically calculated based on the total elements of ip Src Image (Only one dimension can be set to zero.) Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.22.17 Sigmoid Apply the logistic function 1 / (1 + exp(-f Steepness * (x - f Shift))) element-wise to a single- or multi-channel REAL image. Syntax Definition: HRESULT Sigmoid( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, float f Shift = 0.0f, float f Steepness = 1.0f ) 2616 Version: 2.4.0 TF7000 - TF7810
## Page 2617

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (REAL) ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate destination image will be created if required.) f Shift float 0.0f Determines the intensity level around which the logistic function transitions. f Steepness float 1.0f Controls the sharpness of the transition. Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.22.18 Soft Max Apply softmax function pixel-wise to a single channel REAL image. Syntax Definition: HRESULT Soft Max( HRESULT hr Prev, ITc Vn Image* ip Src Image, ITc Vn Image*& ip Dest Image, bool b Flatten ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (REAL, 1 channel) ip Dest Image ITc Vn Image* [} 1870]& Destination image (An appropriate single channel destination image will be created if required.) b Flatten bool If true, the resulting image will be reshaped into a single row. TF7000 - TF7810 Version: 2.4.0 2617
## Page 2618

API reference Return value HRESULT [} 144] Required License TC3 Vision Base System Requirements 6.2.3.23 OCR This group contains functions for Optical Character Recognition. The OCR functions [} 2620] identify characters in an image and return the recognized characters as a string. The classification is based on classic Machine Learning models. The models are provided in a trained form so that the functions can be used directly. No additional settings or training are required. The supported characters and fonts depend on the data used in the training. For this reason, there are various models whose range of functions, as well as the general preconditions and requirements, are described below. For all characters that are recognized in an image, the models assign each character to a known class with the highest match. The result therefore always consists of the known characters of the model used. Rejection or removal of unknown characters is not included. The functions only support single-line character strings; several lines must be divided into individual ROIs and read with several function calls. General requirements for recognizing characters: • Character height min. 20 pixels • Line width min. 3 pixels • Points min. 3 x 3 pixels • Lines min. 3 x 6 pixels • Character spacing / separation min. 4 pixels • Characters must not overlap • Only horizontal alignment / arrangement of characters max. ± 6° deviation • The line / contour of a character must not be interrupted • The characters must not be mirrored or reversed General requirements for the image: • ROI only with the characters to be recognized and an interference-free zone around the characters • Within the ROI, the characters must not be enclosed by another contour such as a rectangle • Good contrast between character and background • Homogeneous, non-noisy or disturbed, non-transparent background Requirements for the fonts: • Only proportional fonts with equal character widths • Larger gaps are always recognized as a single space • Only sans serif fonts such as Arial, Tahoma, Courier, Univers, Frutiger, Verdana, OCR-B • No mixed fonts • No dot print or italic fonts Models: The enum ETc Vn Ocr Model Type [} 1698] allows access to the following models: • OMT_NUMBERS ◦ enables the classification of numbers 2618 Version: 2.4.0 TF7000 - TF7810
## Page 2619

API reference ◦ contains the characters of 0-9 • OMT_NUMBERS_SC ◦ enables the classification of numbers and special characters ◦ contains the characters from 0-9 and 6 special characters . / - : = + • OMT_UCLETTERS ◦ enables the classification of capital letters ◦ contains the characters of A-Z • OMT_NUMBERS_SC_UCLETTERS ◦ enables the classification of numbers, special characters and capital letters ◦ contains the characters from 0-9, the 6 special characters . / - : = + and A-Z When using the combined model (OMT_NUMBERS_SC_UCLETTERS), confusion can occur due to the great similarity of certain characters. Examples of this are O and 0, S and 5 and B and 8. If the position of a number or letter is known, the optional formatting specification (s Pattern) and the combination of the separate models should be used as an alternative. Alternatively, the characters of the result string (ip Characters) can also be analyzed individually, so that you can decide individually whether, for example, a 0 is also accepted instead of O. Initialize functions In order to be able to use the OCR function with one or more models, the function must first be initialized with the respective models using the function block Initialize Function [} 2637]. The time required to load the models depends on the performance of the IPC used and the model size and can take several hundred milliseconds or even several seconds. Therefore, cycle time overruns are to be expected with shorter task cycle times. If the combined model OMT_NUMBERS_SC_UCLETTERS is to be used, the router memory must be set to at least 512 MB due to the file size. The exact size depends on the other use of the router memory and any existing fragmentation. If the function block Initialize Function returns a return code 0x80004005, for example, this indicates insufficient router memory. The router memory should therefore be checked first and increased if necessary. After loading a model, a large part of the memory is released again and is available for the application. Interpretation of the HRESULT • The standard function returns S_OK if characters are recognized on the image. When using optional parameters, it depends on whether a s Pattern has been specified. If no formatting specification has been defined, the return corresponds to the standard function. If a formatting specification has been passed, S_OK is only returned if the recognized characters match the pattern specification. • If the standard function was executed successfully and no characters were found or if the characters found do not match the optional pattern specification, S_FALSE is returned. • If the transferred model is missing for an optional s Pattern specification, a HRESULT = ADSERR_DEVICE_NOTINIT is returned. • If several models are passed to the standard function, a HRESULT = ADSERR_DEVICE_INVALIDPARM is always returned, as the function only supports one model per call. When using optional parameters, it depends on whether a s Pattern has been specified. If s Pattern is empty, only the TCVN_OMT_NUMBERS_SC_UCLETTERS model is used. If this model has not been passed, a HRESULT = ADSERR_DEVICE_INVALIDPARM is returned. Examples for the use of s Pattern Additional possibilities arise when using the optional parameters s Pattern and e Ocr Options. Depending on the combination of characters on the input image, the information from s Pattern and e Ocr Options and the recognized characters, S_FALSE is returned if there is a mismatch. The characters of the result string (ip Characters) can then also be analyzed individually, as S_FALSE is also returned if the length differs, for example. The samples refer to the use of the OMT_NUMBERS_SC_UCLETTERS model. TF7000 - TF7810 Version: 2.4.0 2619
## Page 2620

API reference Characters on the ip- s Pattern e Ocr Options ip Characters HRESULT Src Image 12/34 dd.dd 12/34 S_OK 12534 dd.dd 12534 S_OK 12/34 dd!dd 1234 S_OK 12 34 dd!d 124 S_OK 12534 dd!dd 1234 S_OK 12 34 dd_dd 12 34 S_OK AB12/ uudd# AB12/ S_OK 12 34 dddd WITHBLANKS 12 34 S_OK 12/4 dd#d WITHBLANKS 12/4 S_OK 12 34 dd_dd WITHBLANKS 12 34 S_OK 12 34 56 dd_dddd WITHBLANKS 12 34 56 S_OK 12 3 4 dd.dd WITHBLANKS 12 3 4 S_FALSE 12 34 dd!dd 124 S_FALSE 12 34 dd.dd 1234 S_FALSE 1234 !dddd 234 S_FALSE 12 34 dd_dd 12.34 S_FALSE 12 3 dd_dd 123 S_FALSE 12 3 4 dd_d_d 123 4 S_FALSE AB12/ uddd# AB12/ S_FALSE AB12/ uuddd AB12/ S_FALSE 6.2.3.23.1 OCR Detects and recognizes characters in a binary image (white characters on black background). Can use available Twin CAT Job Tasks for executing parallel code regions. Syntax Definition: HRESULT OCR( HRESULT hr Prev, ITc Vn Image* ip Src Image, ULONGLONG e Model, ITc Vn Container*& ip Characters, float& f Min Confidence, PCCH s Pattern = "", ULONG e Ocr Options = OO_NONE, ITc Vn Container** pip Bounding Boxes = nullptr, ITc Vn Container** pip Confidences = nullptr ) 2620 Version: 2.4.0 TF7000 - TF7810
## Page 2621

API reference Parameters Name Type Default Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Src Image ITc Vn Image* [} 1870] Source image (USINT, 1 channel, binary) e Model ULONGLONG Selection of OCR model types (ETc Vn Ocr Model Type) ip Characters ITc Vn Container* [} 1836]& Returns the recognized characters (Container Type_Vector_S tring_SINT) f Min Confidence float& Returns the minimum value of the confidences s Pattern PCCH "" String pattern containing the format in which characters are presented e Ocr Options ULONG OO_NONE Specifies which options must be applied to the function (ETc Vn Ocr Options) pip Bounding Boxes ITc Vn Container* [} 1836]* nullptr Returns the corresponding bounding boxes of the recognized characters (Container Type_Vector_T c Vn Rectangle_DINT, optional, set to 0 if not required) pip Confidences ITc Vn Container* [} 1836]* nullptr Returns the corresponding classification confidences of the recognized characters (Container Type_Vector_R EAL, optional, set to 0 if not required) Return value HRESULT [} 144] Required License TC3 Vision OCR System Requirements 6.2.3.24 Texture Analysis This group contains functions for analyzing the texture of an image. TF7000 - TF7810 Version: 2.4.0 2621
## Page 2622

API reference Functions Granulometric properties • Granulometry [} 2622] Haralick features • Haralick Features [} 2623] 6.2.3.24.1 Granulometry Computes the granulometry of a textured image using morphological operations. Syntax Definition: HRESULT Granulometry( HRESULT hr Prev, ITc Vn Image* ip Image, ITc Vn Container*& ip Intensity Diffs, ETc Vn Morphological Operator e Morph Type, ULONG n Min Size, ULONG n Max Size, ULONG n Step ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Image ITc Vn Image* [} 1870] Source image (1 channel) ip Intensity Diffs ITc Vn Container* [} 1836]& Returns the intensity differences between successive structuring element sizes (CTc Vn Container_Vector_LREAL), which can be used as features for texture description. e Morph Type ETc Vn Morphological Operator Only opening or closing are supported. [} 1696] n Min Size ULONG Min structuring element size (odd, >= 3) n Max Size ULONG Max structuring element size (>= n Min Size) n Step ULONG Step, by which n Min Size is incremented until n Max Size is exceeded (even, >= 2). Return value HRESULT [} 144] Required License TC3 Machine Learning Realtime Inference 2622 Version: 2.4.0 TF7000 - TF7810
## Page 2623

API reference System Requirements 6.2.3.24.2 Haralick Features Computes the Haralick features of a graylevel image, which describe the texture. Syntax Definition: HRESULT Haralick Features( HRESULT hr Prev, ITc Vn Image* ip Image, ITc Vn Container*& ip Features, ULONG n Dist ) Parameters Name Type Description hr Prev HRESULT [} 144] HRESULT indicating the result of previous operations (If SUCCEEDED(hr Prev) equals false, no operation is executed.) ip Image ITc Vn Image* [} 1870] Source image (1 channel, USINT) ip Features ITc Vn Container* [} 1836]& Returns the computed Haralick features (CTc Vn Container_Vector_LREAL). The returned feature set contains the mean and standard deviation for each of the first 13 Haralick features, computed for 0, 45, 90, 135 degrees. So there will be 26 features in total (f1 mean, f1 std Dev, f2 mean, f2 std Dev, ..., f13 mean, f13 std Dev). n Dist ULONG Distance Return value HRESULT [} 144] Required License TC3 Machine Learning Realtime Inference System Requirements 6.2.4 Function Blocks Communication with Gig E Vision cameras or with the file system as well as complex image processing functions is mapped by function blocks. Grouping of function blocks All function blocks of the Twin CAT Vision library are sorted thematically into the following groups: • Camera Register Access [} 2625] • File Access [} 2635] • Image Acquisition [} 2649] TF7000 - TF7810 Version: 2.4.0 2623
## Page 2624

API reference • Image Processing [} 2667] 6.2.4.1 License Overview The following list shows the assignment of Twin CAT Vision function blocks to available licenses (see license model [} 12]). It shows which license is required for the application of certain function blocks. The basic license TC3 Vision Base (TF7100) is always required. TC3 Vision Base File Source Control [} 2651] Gev Camera Control [} 2654] Initialize Function [} 2637] Read Calibration Pattern [} 2638] Read Calibration Result [} 2639] Read Container [} 2640] Read Image [} 2642] Read Memory [} 2626] Read Ml Model [} 2643] Read Neural Network [} 2648] Read Register_REAL [} 2627] Read Register_UDINT [} 2628] Read Register_ULINT [} 2629] Simple Camera Control [} 2665] Write Calibration Result [} 2644] Write Container [} 2645] Write Image [} 2646] Write Memory [} 2630] Write Ml Model [} 2647] Write Register_REAL [} 2632] Write Register_UDINT [} 2633] Write Register_ULINT [} 2634] TC3 Vision Matching Generalized Hough Ballard [} 2668] SSIM [} 2671] 2624 Version: 2.4.0 TF7000 - TF7810
## Page 2625

API reference 6.2.4.2 Camera Register Access This group contains function blocks for reading and writing camera registers or memory areas. Function blocks UDINT register (4 bytes) • Read Register_UDINT [} 2628] • Write Register_UDINT [} 2633] ULINT register (8 bytes) • Read Register_ULINT [} 2629] • Write Register_ULINT [} 2634] REAL register (4 bytes) • Read Register_REAL [} 2627] • Write Register_REAL [} 2632] Larger memory areas • Read Memory [} 2626] • Write Memory [} 2630] Parameter The following parameters work in a similar way with all function blocks in this group: Address The n Address address specifies the register of the camera to be read or saved. The type GVCP_REGISTER_ADDRESS is merely an alias for UDINT; therefore, the address must be 4 bytes (or 32 bits) long. For larger memory areas of the camera (see Read Memory [} 2626]) the address points to the beginning of the area to be read or saved. Calling function blocks sequentially Please note that each time one of these function blocks is called, you must wait for the respective response from the camera. Therefore, only one function block can be active at a time. Before a further call or the use of another function block, you must wait until the active block is no longer b Busy. We therefore recommend sequential programming if several function blocks are to be used or register values are to be read or written. Execute the function The triggers for write and read commands are b Write and b Read respectively. They are triggered by a rising edge (change from false to true). The relevant input parameters are saved internally so that a parameter change during the execution has no effect. A falling edge of the trigger likewise has no effect. Calling function blocks Please note that the description of parameters for function blocks only has an effect if the function blocks are actually called. Timeout So as not to have to wait a long time for the execution of the function block in the case of an unknown error, the maximum permitted execution time can be set with n Timeout. The execution will be aborted if this time is exceeded without a successful result after triggering the command trigger. The timeout error is then recognizable by the two outputs b Error and n Error Id. Working state TF7000 - TF7810 Version: 2.4.0 2625
## Page 2626

API reference The output b Busy indicates whether the function block is busy. No new command can be triggered if b Busy == true. By means of a suitable if query it is possible to determine whether the execution of the function block is completed: if (!fb Read Or Write.b Busy) { // Function block execution is complete or error occurred. // Next write-command can be issued. } Error state The error state is indicated by b Error binarily indicating an error and n Error Id outputting the error code (ADS Return Code [} 2864]) if applicable. The error state is reset as soon as a new command is triggered. The error code is PENDING (0x71E) if the function block is busy (b Busy == true). The hexadecimal value of the error code can be extracted as follows: if (fb Read Or Write.b Error) { // Show relevant error code for debugging purposes: n Error Code = fb Read Or Write.n Error Id & 0x FFF; } 6.2.4.2.1 Read Memory This FB reads consecutive memory locations from the camera. Requires an open control channel (e.g. by calling FB_VN_Gev Camera Control. Open Camera() before) Syntax Constructor: Read Memory( OTCID oid ITc Vn Gev Image Provider ) Execute main: FB_Main() FB_Main( GVCP_REGISTER_ADDRESS n Address, USHORT n Length, PVOID p Buffer, bool b Read ) FB_Main( bool b Read ) 2626 Version: 2.4.0 TF7000 - TF7810
## Page 2627

API reference Inputs Name Type Default Description n Address The address of the first byte to read from GVCP_REGISTER_ADDRES the camera (must be 32-bit aligned) S [} 1661] n Length USHORT The number of bytes to read, starting with n Address (must be a multiple of 4, not more than 536) p Buffer PVOID Pointer to the buffer where the read memory content is written to (The buffer must have a size of at least n Length bytes!) b Read bool Reading the memory is triggered by a rising edge at this input. n Timeout unsigned int VISION_ADS_TIME Indicates the time before the function is OUT cancelled. Outputs Name Type Description b Busy bool This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error bool This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id ULONG Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. Required License TC3 Vision Base System Requirements 6.2.4.2.2 Read Register_REAL This FB reads a REAL register from the camera. Requires an open control channel (e.g. by calling FB_VN_Gev Camera Control. Open Camera() before) Syntax Constructor: Read Register_REAL( OTCID oid ITc Vn Gev Image Provider ) Execute main: FB_Main() FB_Main( GVCP_REGISTER_ADDRESS n Address, bool b Read TF7000 - TF7810 Version: 2.4.0 2627
## Page 2628

API reference ) FB_Main( bool b Read ) Inputs Name Type Default Description n Address The address of the register that should be GVCP_REGISTER_ADDRES read S [} 1661] n Endian USHORT OPTIONAL: The endianness of the register. 0 = Big, 1 = Little. Default: 0 b Read bool Reading the register is triggered by a rising edge at this input. n Timeout unsigned int VISION_ADS_TIME Indicates the time before the function is OUT cancelled. Outputs Name Type Description f Value float The read value b Busy bool This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error bool This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id ULONG Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. Required License TC3 Vision Base System Requirements 6.2.4.2.3 Read Register_UDINT This FB reads a DINT register from the camera. Requires an open control channel (e.g. by calling FB_VN_Gev Camera Control. Open Camera() before) Syntax Constructor: Read Register_UDINT( OTCID oid ITc Vn Gev Image Provider ) Execute main: FB_Main() FB_Main( 2628 Version: 2.4.0 TF7000 - TF7810
## Page 2629

API reference GVCP_REGISTER_ADDRESS n Address, bool b Read ) FB_Main( bool b Read ) Inputs Name Type Default Description n Address The address of the register that should be GVCP_REGISTER_ADDRES read S [} 1661] n Endian USHORT OPTIONAL: The endianness of the register. 0 = Big, 1 = Little. Default: 0 b Read bool Reading the register is triggered by a rising edge at this input. n Timeout unsigned int VISION_ADS_TIME Indicates the time before the function is OUT cancelled. Outputs Name Type Description n Value ULONG The read value b Busy bool This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error bool This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id ULONG Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. Required License TC3 Vision Base System Requirements 6.2.4.2.4 Read Register_ULINT This FB reads a ULINT register from the camera. Requires an open control channel (e.g. by calling FB_VN_Gev Camera Control. Open Camera() before) Syntax Constructor: Read Register_ULINT( OTCID oid ITc Vn Gev Image Provider ) Execute main: TF7000 - TF7810 Version: 2.4.0 2629
## Page 2630

API reference FB_Main() FB_Main( GVCP_REGISTER_ADDRESS n Address, bool b Read ) FB_Main( bool b Read ) Inputs Name Type Default Description n Address The address of the register that should be GVCP_REGISTER_ADDRES read S [} 1661] n Endian USHORT OPTIONAL: The endianness of the register. 0 = Big, 1 = Little. Default: 0 b Read bool Reading the register is triggered by a rising edge at this input. n Timeout unsigned int VISION_ADS_TIME Indicates the time before the function is OUT cancelled. Outputs Name Type Description n Value ULONGLONG The read value b Busy bool This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error bool This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id ULONG Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. Required License TC3 Vision Base System Requirements 6.2.4.2.5 Write Memory This FB writes data to consecutive memory locations on the camera. Requires an open control channel (e.g. by calling FB_VN_Gev Camera Control. Open Camera() before) Syntax Constructor: Write Memory( OTCID oid ITc Vn Gev Image Provider ) 2630 Version: 2.4.0 TF7000 - TF7810
## Page 2631

API reference Execute main: FB_Main() FB_Main( GVCP_REGISTER_ADDRESS n Address, USHORT n Length, PVOID p Data, bool b Write ) FB_Main( bool b Write ) Inputs Name Type Default Description n Address The address of the first byte to write to the GVCP_REGISTER_ADDRES camera (must be 32-bit aligned) S [} 1661] n Length USHORT The number of bytes to write, starting at n Address (must be a multiple of 4, not more than 536) p Data PVOID Pointer to the data that should be written to the camera (must have a size of at least n Length bytes!) b Write bool Writing the memory is triggered by a rising edge at this input. n Timeout unsigned int VISION_ADS_TIME Indicates the time before the function is OUT cancelled. Outputs Name Type Description b Busy bool This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error bool This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id ULONG Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. n Bytes Written USHORT The number of bytes that have been successfully written to the camera. Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 2631
## Page 2632

API reference System Requirements 6.2.4.2.6 Write Register_REAL This FB writes a REAL value into a register on the camera. Requires an open control channel (e.g. by calling FB_VN_Gev Camera Control. Open Camera() before) Syntax Constructor: Write Register_REAL( OTCID oid ITc Vn Gev Image Provider ) Execute main: FB_Main() FB_Main( GVCP_REGISTER_ADDRESS n Address, float f Value, bool b Write ) FB_Main( bool b Write ) Inputs Name Type Default Description n Address The address of the register that should be GVCP_REGISTER_ADDRES written S [} 1661] f Value float The value to write n Endian USHORT OPTIONAL: The endianness of the register. 0 = Big, 1 = Little. Default: 0 b Write bool Writing the register is triggered by a rising edge at this input. n Timeout unsigned int VISION_ADS_TIME Indicates the time before the function is OUT cancelled. Outputs Name Type Description b Busy bool This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error bool This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id ULONG Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. 2632 Version: 2.4.0 TF7000 - TF7810
## Page 2633

API reference Required License TC3 Vision Base System Requirements 6.2.4.2.7 Write Register_UDINT This FB writes a DINT value into a register on the camera. Requires an open control channel (e.g. by calling FB_VN_Gev Camera Control. Open Camera() before) Syntax Constructor: Write Register_UDINT( OTCID oid ITc Vn Gev Image Provider ) Execute main: FB_Main() FB_Main( GVCP_REGISTER_ADDRESS n Address, ULONG n Value, bool b Write ) FB_Main( bool b Write ) Inputs Name Type Default Description n Address The address of the register that should be GVCP_REGISTER_ADDRES written S [} 1661] n Value ULONG The value to write n Endian USHORT OPTIONAL: The endianness of the register. 0 = Big, 1 = Little. Default: 0 b Write bool Writing the register is triggered by a rising edge at this input. n Timeout unsigned int VISION_ADS_TIME Indicates the time before the function is OUT cancelled. TF7000 - TF7810 Version: 2.4.0 2633
## Page 2634

API reference Outputs Name Type Description b Busy bool This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error bool This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id ULONG Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. Required License TC3 Vision Base System Requirements 6.2.4.2.8 Write Register_ULINT This FB writes a ULINT value into a register on the camera. Requires an open control channel (e.g. by calling FB_VN_Gev Camera Control. Open Camera() before) Syntax Constructor: Write Register_ULINT( OTCID oid ITc Vn Gev Image Provider ) Execute main: FB_Main() FB_Main( GVCP_REGISTER_ADDRESS n Address, ULONGLONG n Value, bool b Write ) FB_Main( bool b Write ) 2634 Version: 2.4.0 TF7000 - TF7810
## Page 2635

API reference Inputs Name Type Default Description n Address The address of the register that should be GVCP_REGISTER_ADDRES written S [} 1661] n Value ULONGLONG The value to write n Endian USHORT OPTIONAL: The endianness of the register. 0 = Big, 1 = Little. Default: 0 b Write bool Writing the register is triggered by a rising edge at this input. n Timeout unsigned int VISION_ADS_TIME Indicates the time before the function is OUT cancelled. Outputs Name Type Description b Busy bool This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error bool This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id ULONG Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. Required License TC3 Vision Base System Requirements 6.2.4.3 File Access This group contains function blocks for reading and writing data on the file system. Function blocks Images • Read Image [} 2642] • Write Image [} 2646] Container • Read Container [} 2640] • Write Container [} 2645] Machine learning models • Read Ml Model [} 2643] • Write Ml Model [} 2647] TF7000 - TF7810 Version: 2.4.0 2635
## Page 2636

API reference Calibration pattern • Read Calibration Pattern [} 2638] • Read Calibration Result [} 2639] • Write Calibration Result [} 2644] Function initialization • Initialize Function [} 2637] Neural Network • Read Neural Network [} 2648] General These function blocks work asynchronously; the time from the first execution to the desired result extends over several cycles. The actual duration of each read/write operation depends on several factors, such as the size of the image and the behavior of the operating system. The following parameters are the same for all function blocks and are therefore described here once centrally. Parameter File path The file path s File Path specifies where to save a file or which file to load. Absolute and relative paths can be used. In the case of relative paths, the default paths set in the Service Configuration [} 67] are used as the basis. The file path is stored internally on a rising edge of the write command b Write so that changes to the path in later cycles have no effect. Execute the function The triggers for write and read commands are b Write and b Read respectively. They are triggered by a rising edge (change from false to true). The relevant input parameters are saved internally so that a parameter change during the execution has no effect. A falling edge of the trigger likewise has no effect. Calling function blocks Please note that the description of parameters for function blocks only has an effect if the function blocks are actually called. Timeout So as not to have to wait a long time for the execution of the function block in the case of an unknown error, the maximum permitted execution time can be set with n Timeout. The execution will be aborted if this time is exceeded without a successful result after triggering the command trigger. The timeout error is then recognizable by the two outputs b Error and n Error Id. Working state The output b Busy indicates whether the function block is busy. No new command can be triggered if b Busy == true. By means of a suitable if query it is possible to determine whether the execution of the function block is completed: if (!fb Read Or Write.b Busy) { // Function block execution is complete or error occurred. // Next write-command can be issued. } Error state 2636 Version: 2.4.0 TF7000 - TF7810
## Page 2637

API reference The error state is indicated by b Error binarily indicating an error and n Error Id outputting the error code (ADS Return Code [} 2864]) if applicable. The error state is reset as soon as a new command is triggered. The error code is PENDING (0x71E) if the function block is busy (b Busy == true). The hexadecimal value of the error code can be extracted as follows: if (fb Read Or Write.b Error) { // Show relevant error code for debugging purposes: n Error Code = fb Read Or Write.n Error Id & 0x FFF; } The most frequent error codes are: Hex Dec Name Meaning 0x006 6 TARGETPORTNOTFOUND ADS server not reachable. Essentially occurs when the Twin CAT Vision Service has not started. See Vision Service doesn't start [} 2849]. 0x700 1792 ERROR General error if saving or loading fails. This usually indicates that the specified file format is not supported or that the file path is unreachable. The error usually occurs in the Twin CAT Vision Service [} 67]. 0x70B 1803 INVALIDPARM Invalid parameter. This usually indicates that the interface pointer [} 140] is invalid. 0x719 1817 TIMEOUT Timeout. Loading or saving has exceeded the maximum execution time n Timeout. In general, this occurs mainly with a heavy load on ADS. 0x71E 1822 PENDING Not really an error, therefore the output b Error is not set here. This code signals that the function block is busy. It occurs in parallel to the output b Busy if a new rising edge is registered while the function block is busy. 6.2.4.3.1 Initialize Function This FB initializes selected functions. Syntax Constructor: Initialize Function() Execute main: TF7000 - TF7810 Version: 2.4.0 2637
## Page 2638

API reference FB_Main() FB_Main( ETc Vn Initializable Function e Function, ULONGLONG n Options, bool b Start ) FB_Main( bool b Start ) Inputs Name Type Default Description e Function ETc Vn Initializable Function Selects the function to initialize [} 1694] n Options ULONGLONG 0 Selects initialization options for the function b Start bool Function initialization is triggered by a rising edge at this input. n Timeout unsigned int VISION_ADS_TIME Indicates the time before the function is OUT cancelled. Outputs Name Type Description b Busy bool This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error bool This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id ULONG Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. Required License TC3 Vision Base System Requirements 6.2.4.3.2 Read Calibration Pattern This FB reads calibration pattern reference points from an xml file on the targte pc. Syntax Constructor: Read Calibration Pattern() Execute main: FB_Main() FB_Main( 2638 Version: 2.4.0 TF7000 - TF7810
## Page 2639

API reference PCCH s File Path, ITc Vn Container** pip Dest Container, bool b Read ) FB_Main( bool b Read ) Inputs Name Type Default Description s File Path PCCH Full path of the file or relative path to the default directory on the target pc pip Dest Contain ITc Vn Container* [} 1836]* Returns a container with the pattern points er (Container Type_Vector_Tc Vn Point3_REA L) b Read bool Reading the file is triggered by a rising edge at this input. n Timeout unsigned int VISION_ADS_TIME Indicates the time before the function is OUT cancelled. Outputs Name Type Description b Busy bool This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error bool This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id ULONG Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. Required License TC3 Vision Base System Requirements 6.2.4.3.3 Read Calibration Result This FB reads calibration results from a json file on the targte pc. Syntax Constructor: Read Calibration Result() Execute main: FB_Main() FB_Main( PCCH s File Path, Tc Vn Matrix3x3_LREAL* pa Camera Matrix, TF7000 - TF7810 Version: 2.4.0 2639
## Page 2640

API reference Tc Vn Array8_LREAL* pa Distortion Coefficients, Tc Vn Matrix3x3_LREAL* pa Rotation Matrix, Tc Vn Vector3_LREAL* pa Translation Vector, bool b Read ) FB_Main( bool b Read ) Inputs Name Type Default Description s File Path PCCH Full path of the file or relative path to the default directory on the target pc pa Camera Matri Tc Vn Matrix3x3_LREAL Returns the camera matrix x [} 1663]* pa Distortion Co Tc Vn Array8_LREAL Returns the distortion coefficients efficients [} 1663]* pa Rotation Matr Tc Vn Matrix3x3_LREAL Returns the rotation matrix ix [} 1663]* pa Translation V Tc Vn Vector3_LREAL Returns the translation vector ector [} 1663]* b Read bool Reading the file is triggered by a rising edge at this input. n Timeout unsigned int VISION_ADS_TIME Indicates the time before the function is OUT cancelled. Outputs Name Type Description b Busy bool This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error bool This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id ULONG Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. Required License TC3 Vision Base System Requirements 6.2.4.3.4 Read Container This FB reads a container from an xml file on the target pc. Syntax Constructor: 2640 Version: 2.4.0 TF7000 - TF7810
## Page 2641

API reference Read Container() Execute main: FB_Main() FB_Main( PCCH s File Path, ITc Vn Container** pip Dest Container, bool b Read ) FB_Main( PCCH s File Path, ITc Vn Container** pip Dest Container, GUID n Dest Type Guid, bool b Read ) FB_Main( bool b Read ) Inputs Name Type Default Description s File Path PCCH Full path of the file or relative path to the default directory on the target pc pip Dest Contain ITc Vn Container* [} 1836]* Returns a container with the loaded er content n Dest Type Gui GUID The type id of the container to return. If d this parameter is not set, a suitable container type will be determined automatically (except for csv files). b Read bool Reading the file is triggered by a rising edge at this input. n Timeout unsigned int VISION_ADS_TIME Indicates the time before the function is OUT cancelled. Outputs Name Type Description b Busy bool This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error bool This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id ULONG Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 2641
## Page 2642

API reference System Requirements 6.2.4.3.5 Read Image This FB reads an image from a file on the target pc. Syntax Constructor: Read Image() Execute main: FB_Main() FB_Main( PCCH s File Path, ITc Vn Image** pip Dest Image, bool b Read ) FB_Main( bool b Read ) Inputs Name Type Default Description s File Path PCCH Full path of the file or relative path to the default image directory on the target pc pip Dest Image ITc Vn Image* [} 1870]* Returns an image with the loaded content b Read bool Reading the file is triggered by a rising edge at this input. n Timeout unsigned int VISION_ADS_TIME Indicates the time before the function is OUT cancelled. Outputs Name Type Description b Busy bool This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error bool This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id ULONG Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. Required License TC3 Vision Base 2642 Version: 2.4.0 TF7000 - TF7810
## Page 2643

API reference System Requirements 6.2.4.3.6 Read Ml Model This FB reads a machine learning model from a file on the target pc. Syntax Constructor: Read Ml Model() Execute main: FB_Main() FB_Main( PCCH s File Path, ITc Vn Ml Model** pip Dest Ml Model, bool b Read ) FB_Main( bool b Read ) Inputs Name Type Default Description s File Path PCCH Full path of the file or relative path to the default directory on the target pc pip Dest Ml Mod ITc Vn Ml Model* [} 1877]* Returns the loaded machine learning el model b Read bool Reading the file is triggered by a rising edge at this input. n Timeout unsigned int VISION_ADS_TIME Indicates the time before the function is OUT cancelled. Outputs Name Type Description b Busy bool This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error bool This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id ULONG Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. Required License TC3 Vision Base TF7000 - TF7810 Version: 2.4.0 2643
## Page 2644

API reference System Requirements 6.2.4.3.7 Write Calibration Result This FB writes calibration results as a json file to the hard drive. Syntax Constructor: Write Calibration Result() Execute main: FB_Main() FB_Main( PCCH s File Path, Tc Vn Matrix3x3_LREAL* pa Camera Matrix, Tc Vn Array8_LREAL* pa Distortion Coefficients, Tc Vn Matrix3x3_LREAL* pa Rotation Matrix, Tc Vn Vector3_LREAL* pa Translation Vector, bool b Write ) FB_Main( bool b Write ) Inputs Name Type Default Description s File Path PCCH Full path of the file or relative path to the default directory on the target pc (e.g. only a file name). If the string is empty, a file name will be generated (containing the current time). pa Camera Matri Tc Vn Matrix3x3_LREAL Returns the camera matrix x [} 1663]* pa Distortion Co Tc Vn Array8_LREAL Returns the distortion coefficients efficients [} 1663]* pa Rotation Matr Tc Vn Matrix3x3_LREAL Returns the rotation matrix ix [} 1663]* pa Translation V Tc Vn Vector3_LREAL Returns the translation vector ector [} 1663]* b Write bool Writing the container is triggered by a rising edge at this input. n Timeout unsigned int VISION_ADS_TIME Indicates the time before the function is OUT cancelled. 2644 Version: 2.4.0 TF7000 - TF7810
## Page 2645

API reference Outputs Name Type Description b Busy bool This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error bool This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id ULONG Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. Required License TC3 Vision Base System Requirements 6.2.4.3.8 Write Container This FB writes a container as an xml file to the hard drive. Syntax Constructor: Write Container() Execute main: FB_Main() FB_Main( ITc Vn Container** pip Container, PCCH s File Path, ETc Vn Container Export Format e Export Format, bool b Write ) FB_Main( bool b Write ) TF7000 - TF7810 Version: 2.4.0 2645
## Page 2646

API reference Inputs Name Type Default Description pip Container ITc Vn Container* [} 1836]* The container to write s File Path PCCH Full path of the file or relative path to the default directory on the target pc (e.g. only a file name). If the string is empty, a file name will be generated (containing the current time). e Export Format CEF_XML Container export format (default is human ETc Vn Container Export For readable xml) mat [} 1683] b Write bool Writing the container is triggered by a rising edge at this input. n Timeout unsigned int VISION_ADS_TIME Indicates the time before the function is OUT cancelled. Outputs Name Type Description b Busy bool This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error bool This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id ULONG Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. Required License TC3 Vision Base System Requirements 6.2.4.3.9 Write Image This FB writes an image to the hard drive. Syntax Constructor: Write Image() Execute main: FB_Main() FB_Main( ITc Vn Image** pip Image, PCCH s File Path, bool b Write ) FB_Main( 2646 Version: 2.4.0 TF7000 - TF7810
## Page 2647

API reference bool b Write ) Inputs Name Type Default Description pip Image ITc Vn Image* [} 1870]* The image to write s File Path PCCH Full path of the file or relative path to the default directory on the target pc (e.g. only a file name). If the string is empty, a file name will be generated (containing the current time). b Write bool Writing the image is triggered by a rising edge at this input. n Timeout unsigned int VISION_ADS_TIME Indicates the time before the function is OUT cancelled. Outputs Name Type Description b Busy bool This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error bool This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id ULONG Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. Required License TC3 Vision Base System Requirements 6.2.4.3.10 Write Ml Model This FB writes a machine learning model to the hard drive. Syntax Constructor: Write Ml Model() Execute main: FB_Main() FB_Main( ITc Vn Ml Model** pip Ml Model, PCCH s File Path, bool b Write ) FB_Main( TF7000 - TF7810 Version: 2.4.0 2647
## Page 2648

API reference bool b Write ) Inputs Name Type Default Description pip Ml Model ITc Vn Ml Model* [} 1877]* The machine learning model to write s File Path PCCH Full path of the file or relative path to the default directory on the target pc (e.g. only a file name). If the string is empty, a file name will be generated (containing the current time). b Write bool Writing the machine learning model is triggered by a rising edge at this input. n Timeout unsigned int VISION_ADS_TIME Indicates the time before the function is OUT cancelled. Outputs Name Type Description b Busy bool This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error bool This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id ULONG Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. Required License TC3 Vision Base System Requirements 6.2.4.3.11 Read Neural Network This FB reads a neural network from a file on the target pc. Syntax Constructor: Read Neural Network() Execute main: FB_Main() FB_Main( PCCH s File Path, ITc Vn Neural Network** pip Dest Neural Network, bool b Read ) FB_Main( PCCH s File Path, 2648 Version: 2.4.0 TF7000 - TF7810
## Page 2649

API reference ITc Vn Neural Network** pip Dest Neural Network, Tc Vn Array33_UDINT* pa Input Shape, bool b Read ) FB_Main( bool b Read ) Inputs Name Type Default Description s File Path PCCH Full path of the file or relative path to the default directory on the target pc pip Dest Neural ITc Vn Neural Network* Returns the neural network Network [} 1885]* pa Input Shape Tc Vn Array33_UDINT Optional input shape for testing the execution of the neural network model. [} 1663]* The error code INCOMPATIBLE is returned if the execution fails. Setting a Input Shape = 0 or a Input Shape[0] = 0 disables the testing of the execution. b Read bool Reading the file is triggered by a rising edge at this input. n Timeout unsigned int VISION_ADS_TIME Indicates the time before the function is OUT cancelled. Outputs Name Type Description b Busy bool This output remains TRUE until the function block has executed a command, but at the longest for the duration supplied to the 'n Timeout' input. While b Busy = TRUE, no new command will be accepted at the inputs. b Error bool This output is switched to TRUE as soon as an error occurs during the execution of a command. The command-specific error code is contained in ‘n Error Id’. If the function block has a timeout error, 'b Error' is TRUE and 'n Error Id' is 1861 (hexadecimal 0x745). Is reset to FALSE by the execution of a command at the inputs. n Error Id ULONG Contains the ADS error code or the command-specific error code of the last executed command. Is reset to 0 by the execution of a command at the inputs. Required License TC3 Vision Base System Requirements 6.2.4.4 Image Acquisition This group contains function blocks for acquiring images with Vision devices (Gig E Vision cameras [} 70] and File Source [} 129] objects). Function blocks • Simple Camera Control [} 2665] for cameras and File Sources • Gev Camera Control [} 2654] for Gig E Vision cameras TF7000 - TF7810 Version: 2.4.0 2649
## Page 2650

API reference • File Source Control [} 2651] for File Sources General The function blocks in this group represent a proxy for the Image Provider Tc COM objects. Accordingly, they need not be called cyclically. Instead, the Tc COM object is controlled via the methods of the function block. State machine All function blocks for image acquisition include a state machine to manage the state of the represented device. Essentially, a function block must be placed in the ACQUIRING state in order to receive images continuously. The INITIAL state represents the starting point, after a restart or reset, from which the INITIALIZING can be triggered. From the OPENED state, the communication channel to the device is open in order, for example, to read or write register values. All states are represented by the enum ETc Vn Camera State [} 1668] and are explained below: Main states The main states are stationary states. They essentially indicate whether there is a connection to a Vision device (OPENED), whether the device is capturing images (ACQUIRING) and whether there is an error with the connection to the device (ERROR). You can switch between these states with the methods of the FBs. As a rule, the transition between two main states does not take place immediately, but over at least one cycle. In this intermediate time, the Vision device is in an intermediate state [} 2650]. State Description ERROR Error state from which every device can only be reactivated by calling the method Reset. INITIAL Initial state of each device. INITIALIZED Similar to INITIAL, where the camera was manually initialized (e.g. with Force- IP and the initialization commands) OPENED There is a connection to the camera, individual images can be triggered and camera registers can be read and written. This state can be skipped with the method Start Acquisition. ACQUIRING Device is in the acquisition state and is sending images depending on the settings. Intermediate states The intermediate states are necessary as most actions cannot be completed immediately (e.g. image acquisition). If the function blocks are in one of these intermediate states, the respective method must be called again in order to complete the transition to the respective main state. 2650 Version: 2.4.0 TF7000 - TF7810
## Page 2651

API reference State Description INITIALIZING INITIAL > INITIALIZED OPENING INITIAL > OPENED and INITIALIZED > OPENED STARTACQUISITION OPENED > ACQUIRING. STOPACQUISITION ACQUIRING > OPENED RESETTINGFEATURES OPENED > OPENED TRIGGERING OPENED > OPENED and ACQUIRING > ACQUIRING CLOSING OPENED > INITIALIZED Methods must be called in intermediate states! A respective method for state transitions must also be called in the intermediate states. The state transition is only complete and the method no longer needs to be called when a stationary state is detected using the Get State method after a corresponding method call. Triggering a method once and subsequently waiting does not result in the desired state transition. A state machine in C++ can then be implemented either with a switch structure or with a if … else if … structure. 6.2.4.4.1 File Source Control This FB provides access to the images send by a File Source instance. Syntax Constructor: File Source Control( OTCID oid ITc Vn File Image Provider ) Methods Name Description Get Current Image [} 2651] Gets the current available image (if any). Get Current Image And File Name Gets the current available image (if any) and the corresponding file name. [} 2652] Start Acquisition [} 2652] Activates the File Source. If not in trigger mode, it will start sending images. Stop Acquisition [} 2652] Deactivates the File Source. It will stop sending images. Reset [} 2653] Reset the controller to initial state (might require multiple calls depending on current state, until S_OK is returned) Get State [} 2653] Gets the current state of the internal camera control state machine. Trigger Image [} 2653] If in trigger mode, this function triggers the next image in the list. Trigger Image Exp [} 2653] If in trigger mode, this function triggers a specific image in the list. Trigger Image By Name [} 2654] If in trigger mode, this function triggers a specific image in the list by name. Required License TC3 Vision Base System Requirements 6.2.4.4.1.1 Get Current Image Gets the current available image (if any). TF7000 - TF7810 Version: 2.4.0 2651
## Page 2652

API reference Syntax Definition: HRESULT Get Current Image( ITc Vn Image*& ip Image ) Parameters Name Type Description ip Image ITc Vn Image* [} 1870]& Returns the image Return value HRESULT [} 144] 6.2.4.4.1.2 Get Current Image And File Name Gets the current available image (if any) and the corresponding file name. Syntax Definition: HRESULT Get Current Image And File Name( ITc Vn Image*& ip Image, PCHAR s File Name, USHORT n Max Len ) Parameters Name Type Description ip Image ITc Vn Image* [} 1870]& Returns the image s File Name PCHAR Returns the file name n Max Len USHORT Define the maximum allowed length for the file name Return value HRESULT [} 144] 6.2.4.4.1.3 Start Acquisition Activates the File Source. If not in trigger mode, it will start sending images. Syntax Definition: HRESULT Start Acquisition() Return value HRESULT [} 144] 6.2.4.4.1.4 Stop Acquisition Deactivates the File Source. It will stop sending images. 2652 Version: 2.4.0 TF7000 - TF7810
## Page 2653

API reference Syntax Definition: HRESULT Stop Acquisition() Return value HRESULT [} 144] 6.2.4.4.1.5 Reset Reset the controller to initial state (might require multiple calls depending on current state, until S_OK is returned) Syntax Definition: HRESULT Reset() Return value HRESULT [} 144] 6.2.4.4.1.6 Get State Gets the current state of the internal camera control state machine. Syntax Definition: ETc Vn Camera State Get State() Return value ETc Vn Camera State [} 1668] 6.2.4.4.1.7 Trigger Image If in trigger mode, this function triggers the next image in the list. Syntax Definition: HRESULT Trigger Image() Return value HRESULT [} 144] 6.2.4.4.1.8 Trigger Image Exp If in trigger mode, this function triggers a specific image in the list. Syntax Definition: TF7000 - TF7810 Version: 2.4.0 2653
## Page 2654

API reference HRESULT Trigger Image Exp( LONG n Skip Images ) Parameters Name Type Description n Skip Images LONG Amount of images to skip, relative to current Return value HRESULT [} 144] 6.2.4.4.1.9 Trigger Image By Name If in trigger mode, this function triggers a specific image in the list by name. Syntax Definition: HRESULT Trigger Image By Name( PCCH s Image Name ) Parameters Name Type Description s Image Name PCCH Name of the image to trigger Return value HRESULT [} 144] 6.2.4.4.2 Gev Camera Control This FB provides the basic functionality to control a Gig E Vision camera and access its calibration data. Syntax Constructor: Gev Camera Control( OTCID oid ITc Vn Gev Image Provider ) 2654 Version: 2.4.0 TF7000 - TF7810
## Page 2655

API reference Methods TF7000 - TF7810 Version: 2.4.0 2655
## Page 2656

API reference Name Description Clear Image Queue [} 2657] Delete all images contained in the Tc Vn Gev Image Provider Tc COM module receive queue and reset the corresponding omitted images counter. Close Camera [} 2657] Close the control channel to the camera. Get Calib Pattern Ref [} 2657] Gets the reference calibration pattern points from the Tc Vn Gev Image Provider Tc COM module (Can be set from the calibration assistant) Get Camera Matrix [} 2658] Gets the camera matrix from the Tc Vn Gev Image Provider Tc COM module (requires intrinsic calibration parameters, e.g. set by the calibration assistant) Get Current Image [} 2658] Gets the current available image (first in receive queue). Get Current Image Undistorted Gets the current available image (first in receive queue) with undistortion applied. Incompatible with pixel formats that contain an encoding, e.g. a [} 2658] Bayer pattern. Requires intrinsic calibration parameters in the Tc Vn Gev Image Provider Tc COM module, e.g. set by the calibration assistant. Get Current Image With Gvsp Info Gets the current available image (first in receive queue) and its corresponding GVSP info. [} 2659] Gets the current available image (first in receive queue) with its Get Current Image With Gvsp Info corresponding GVSP info and undistortion applied. Incompatible with pixel formats that contain an encoding, e.g. a Bayer pattern. Requires intrinsic Undistorted [} 2659] calibration parameters in the Tc Vn Gev Image Provider Tc COM module, e.g. set by the calibration assistant. Gets the current available image (first in receive queue) and corresponding Get Current Image With Timestam timestamps. ps [} 2660] Get Distortion Coefficients Gets the distortion coefficients from the Tc Vn Gev Image Provider Tc COM module (requires intrinsic calibration parameters, e.g. set by the calibration [} 2660] assistant) Get Last Image From Queue Gets the last received image from the queue. [} 2660] Get Omitted Images Num [} 2661]Gets the number of omitted images since the last call of Clear Image Queue(). If the image receive queue in the Tc Vn Gev Image Provider Tc COM module is full and a new image arrives, the first one in the queue will be deleted and the omitted counter is increased. Get Rotation Matrix [} 2661] Gets the rotation matrix from the Tc Vn Gev Image Provider Tc COM module (requires extrinsic calibration parameters, e.g. set by the calibration assistant) Get State [} 2662] Gets the current state of the internal camera control state machine. Get Translation Vector [} 2662] Gets the translation vector from the Tc Vn Gev Image Provider Tc COM module (requires extrinsic calibration parameters, e.g. set by the calibration assistant) Initialize Camera [} 2662] Initialize the camera to the intended state (includes sending the 'Init Camera Commands' defined in the Gev Image Acquisition Tc COM module to the camera). Open Camera [} 2662] Open a control channel to the camera. Reset [} 2663] Reset the camera controller to initial state (might require multiple calls depending on current state, until S_OK is returned) Reset Camera Features [} 2663] Reset the camera features to initial state (sends the 'Init Camera Commands' defined in the Gev Image Acquisition Tc COM module to the camera). Set Camera Matrix [} 2663] Sets the camera matrix to the Tc Vn Gev Image Provider Tc COM module Set Distortion Coefficients Sets the distortion coefficients to the Tc Vn Gev Image Provider Tc COM module [} 2664] 2656 Version: 2.4.0 TF7000 - TF7810
## Page 2657

API reference Name Description Set Rotation Matrix [} 2664] Sets the rotation matrix to the Tc Vn Gev Image Provider Tc COM module Set Translation Vector [} 2664] Sets the translation vector to the Tc Vn Gev Image Provider Tc COM module Start Acquisition [} 2665] Send the 'Start Acquisition Commands' defined in the Tc Vn Gev Image Provider Tc COM module to the camera. Stop Acquisition [} 2665] Send the 'Stop Acquisition Commands' defined in the Tc Vn Gev Image Provider Tc COM module to the camera. Trigger Image [} 2665] Send the 'Software Trigger Commands' defined in the Tc Vn Gev Image Provider Tc COM module to the camera. Required License TC3 Vision Base System Requirements 6.2.4.4.2.1 Clear Image Queue Delete all images contained in the Tc Vn Gev Image Provider Tc COM module receive queue and reset the corresponding omitted images counter. Syntax Definition: HRESULT Clear Image Queue() Return value HRESULT [} 144] 6.2.4.4.2.2 Close Camera Close the control channel to the camera. Syntax Definition: HRESULT Close Camera() Return value HRESULT [} 144] 6.2.4.4.2.3 Get Calib Pattern Ref Gets the reference calibration pattern points from the Tc Vn Gev Image Provider Tc COM module (Can be set from the calibration assistant) Syntax Definition: HRESULT Get Calib Pattern Ref( ITc Vn Container*& ip Calib Pattern Ref ) TF7000 - TF7810 Version: 2.4.0 2657
## Page 2658

API reference Parameters Name Type Description ip Calib Pattern Ref ITc Vn Container* [} 1836]& Returns the reference calibration pattern points (Container Type_Vector_Tc Vn Point 3_REAL) Return value HRESULT [} 144] 6.2.4.4.2.4 Get Camera Matrix Gets the camera matrix from the Tc Vn Gev Image Provider Tc COM module (requires intrinsic calibration parameters, e.g. set by the calibration assistant) Syntax Definition: HRESULT Get Camera Matrix( Tc Vn Matrix3x3_LREAL& a Camera Matrix ) Parameters Name Type Description a Camera Matrix Tc Vn Matrix3x3_LREAL [} 1663]& Returns the camera matrix Return value HRESULT [} 144] 6.2.4.4.2.5 Get Current Image Gets the current available image (first in receive queue). Syntax Definition: HRESULT Get Current Image( ITc Vn Image*& ip Image ) Parameters Name Type Description ip Image ITc Vn Image* [} 1870]& Returns the image Return value HRESULT [} 144] 6.2.4.4.2.6 Get Current Image Undistorted Gets the current available image (first in receive queue) with undistortion applied. Incompatible with pixel formats that contain an encoding, e.g. a Bayer pattern. Requires intrinsic calibration parameters in the Tc Vn Gev Image Provider Tc COM module, e.g. set by the calibration assistant. 2658 Version: 2.4.0 TF7000 - TF7810
## Page 2659

API reference Syntax Definition: HRESULT Get Current Image Undistorted( ITc Vn Image*& ip Image ) Parameters Name Type Description ip Image ITc Vn Image* [} 1870]& Returns the undistorted image Return value HRESULT [} 144] 6.2.4.4.2.7 Get Current Image With Gvsp Info Gets the current available image (first in receive queue) and its corresponding GVSP info. Syntax Definition: HRESULT Get Current Image With Gvsp Info( ITc Vn Image*& ip Image, GVSP_IMAGE_INFO& st Gvsp Info ) Parameters Name Type Description ip Image ITc Vn Image* [} 1870]& Returns the image st Gvsp Info GVSP_IMAGE_INFO [} 1714]& Returns the GVSP info Return value HRESULT [} 144] 6.2.4.4.2.8 Get Current Image With Gvsp Info Undistorted Gets the current available image (first in receive queue) with its corresponding GVSP info and undistortion applied. Incompatible with pixel formats that contain an encoding, e.g. a Bayer pattern. Requires intrinsic calibration parameters in the Tc Vn Gev Image Provider Tc COM module, e.g. set by the calibration assistant. Syntax Definition: HRESULT Get Current Image With Gvsp Info Undistorted( ITc Vn Image*& ip Image, GVSP_IMAGE_INFO& st Gvsp Info ) Parameters Name Type Description ip Image ITc Vn Image* [} 1870]& Returns the undistorted image st Gvsp Info GVSP_IMAGE_INFO [} 1714]& Returns the GVSP info TF7000 - TF7810 Version: 2.4.0 2659
## Page 2660

API reference Return value HRESULT [} 144] 6.2.4.4.2.9 Get Current Image With Timestamps Gets the current available image (first in receive queue) and corresponding timestamps. Syntax Definition: HRESULT Get Current Image With Timestamps( ITc Vn Image*& ip Image, ULONGLONG n Timestamps, LONGLONG* p Timestamps, GVSP_IMAGE_INFO& st Gvsp Info ) Parameters Name Type Description ip Image ITc Vn Image* [} 1870]& Returns the image n Timestamps ULONGLONG Select timestamps to return (ETc Vn Timestamp) p Timestamps LONGLONG* Returns the requested timestamps (make sure to provide an array of sufficient size). st Gvsp Info GVSP_IMAGE_INFO [} 1714]& Returns the GVSP info Return value HRESULT [} 144] 6.2.4.4.2.10 Get Distortion Coefficients Gets the distortion coefficients from the Tc Vn Gev Image Provider Tc COM module (requires intrinsic calibration parameters, e.g. set by the calibration assistant) Syntax Definition: HRESULT Get Distortion Coefficients( Tc Vn Array8_LREAL& a Distortion Coefficients ) Parameters Name Type Description a Distortion Coefficients Tc Vn Array8_LREAL [} 1663]& Returns the distortion coefficients [k1, k2, p1, p2, k3, k4, k5, k6] Return value HRESULT [} 144] 6.2.4.4.2.11 Get Last Image From Queue Gets the last received image from the queue. 2660 Version: 2.4.0 TF7000 - TF7810
## Page 2661

API reference Syntax Definition: HRESULT Get Last Image From Queue( ITc Vn Image*& ip Image ) Parameters Name Type Description ip Image ITc Vn Image* [} 1870]& Returns the image Return value HRESULT [} 144] 6.2.4.4.2.12 Get Omitted Images Num Gets the number of omitted images since the last call of Clear Image Queue(). If the image receive queue in the Tc Vn Gev Image Provider Tc COM module is full and a new image arrives, the first one in the queue will be deleted and the omitted counter is increased. Syntax Definition: HRESULT Get Omitted Images Num( ULONGLONG& n Omitted ) Parameters Name Type Description n Omitted ULONGLONG& Returns the number of omitted images Return value HRESULT [} 144] 6.2.4.4.2.13 Get Rotation Matrix Gets the rotation matrix from the Tc Vn Gev Image Provider Tc COM module (requires extrinsic calibration parameters, e.g. set by the calibration assistant) Syntax Definition: HRESULT Get Rotation Matrix( Tc Vn Matrix3x3_LREAL& a Rotation Matrix ) Parameters Name Type Description a Rotation Matrix Tc Vn Matrix3x3_LREAL [} 1663]& Returns the rotation matrix TF7000 - TF7810 Version: 2.4.0 2661
## Page 2662

API reference Return value HRESULT [} 144] 6.2.4.4.2.14 Get State Gets the current state of the internal camera control state machine. Syntax Definition: ETc Vn Camera State Get State() Return value ETc Vn Camera State [} 1668] 6.2.4.4.2.15 Get Translation Vector Gets the translation vector from the Tc Vn Gev Image Provider Tc COM module (requires extrinsic calibration parameters, e.g. set by the calibration assistant) Syntax Definition: HRESULT Get Translation Vector( Tc Vn Vector3_LREAL& a Translation Vector ) Parameters Name Type Description a Translation Vector Tc Vn Vector3_LREAL [} 1663]& Returns the translation vector Return value HRESULT [} 144] 6.2.4.4.2.16 Initialize Camera Initialize the camera to the intended state (includes sending the 'Init Camera Commands' defined in the Gev Image Acquisition Tc COM module to the camera). Syntax Definition: HRESULT Initialize Camera() Return value HRESULT [} 144] 6.2.4.4.2.17 Open Camera Open a control channel to the camera. 2662 Version: 2.4.0 TF7000 - TF7810
## Page 2663

API reference Syntax Definition: HRESULT Open Camera() Return value HRESULT [} 144] 6.2.4.4.2.18 Reset Reset the camera controller to initial state (might require multiple calls depending on current state, until S_OK is returned) Syntax Definition: HRESULT Reset() Return value HRESULT [} 144] 6.2.4.4.2.19 Reset Camera Features Reset the camera features to initial state (sends the 'Init Camera Commands' defined in the Gev Image Acquisition Tc COM module to the camera). Syntax Definition: HRESULT Reset Camera Features() Return value HRESULT [} 144] 6.2.4.4.2.20 Set Camera Matrix Sets the camera matrix to the Tc Vn Gev Image Provider Tc COM module Syntax Definition: HRESULT Set Camera Matrix( Tc Vn Matrix3x3_LREAL& a Camera Matrix ) Parameters Name Type Description a Camera Matrix Tc Vn Matrix3x3_LREAL [} 1663]& The camera matrix to be copied to the Tc COM module Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 2663
## Page 2664

API reference 6.2.4.4.2.21 Set Distortion Coefficients Sets the distortion coefficients to the Tc Vn Gev Image Provider Tc COM module Syntax Definition: HRESULT Set Distortion Coefficients( Tc Vn Array8_LREAL& a Distortion Coefficients ) Parameters Name Type Description a Distortion Coefficients Tc Vn Array8_LREAL [} 1663]& The distortion coefficients to be copied to the Tc COM module Return value HRESULT [} 144] 6.2.4.4.2.22 Set Rotation Matrix Sets the rotation matrix to the Tc Vn Gev Image Provider Tc COM module Syntax Definition: HRESULT Set Rotation Matrix( Tc Vn Matrix3x3_LREAL& a Rotation Matrix ) Parameters Name Type Description a Rotation Matrix Tc Vn Matrix3x3_LREAL [} 1663]& The rotation matrix to be copied to the Tc COM module Return value HRESULT [} 144] 6.2.4.4.2.23 Set Translation Vector Sets the translation vector to the Tc Vn Gev Image Provider Tc COM module Syntax Definition: HRESULT Set Translation Vector( Tc Vn Vector3_LREAL& a Translation Vector ) Parameters Name Type Description a Translation Vector Tc Vn Vector3_LREAL [} 1663]& The translation vector to be copied to the Tc COM module 2664 Version: 2.4.0 TF7000 - TF7810
## Page 2665

API reference Return value HRESULT [} 144] 6.2.4.4.2.24 Start Acquisition Send the 'Start Acquisition Commands' defined in the Tc Vn Gev Image Provider Tc COM module to the camera. Syntax Definition: HRESULT Start Acquisition() Return value HRESULT [} 144] 6.2.4.4.2.25 Stop Acquisition Send the 'Stop Acquisition Commands' defined in the Tc Vn Gev Image Provider Tc COM module to the camera. Syntax Definition: HRESULT Stop Acquisition() Return value HRESULT [} 144] 6.2.4.4.2.26 Trigger Image Send the 'Software Trigger Commands' defined in the Tc Vn Gev Image Provider Tc COM module to the camera. Syntax Definition: HRESULT Trigger Image() Return value HRESULT [} 144] 6.2.4.4.3 Simple Camera Control This FB provides the basic functionality to control a camera or a File Source. Syntax Constructor: Simple Camera Control( OTCID oid ITc Vn Image Provider ) TF7000 - TF7810 Version: 2.4.0 2665
## Page 2666

API reference Methods Name Description Get Current Image [} 2666] Get the current available image (if any). Get State [} 2666] Get the current state of the internal camera control state machine. Reset [} 2666] Reset the camera to initial state (might require multiple calls depending on current state, until S_OK is returned) Start Acquisition [} 2667] Start the image acquisition. Stop Acquisition [} 2667] Stop the image acquisition. Trigger Image [} 2667] Trigger the next image. Required License TC3 Vision Base System Requirements 6.2.4.4.3.1 Get Current Image Get the current available image (if any). Syntax Definition: HRESULT Get Current Image( ITc Vn Image*& ip Image ) Parameters Name Type Description ip Image ITc Vn Image* [} 1870]& Returns the image Return value HRESULT [} 144] 6.2.4.4.3.2 Get State Get the current state of the internal camera control state machine. Syntax Definition: ETc Vn Camera State Get State() Return value ETc Vn Camera State [} 1668] 6.2.4.4.3.3 Reset Reset the camera to initial state (might require multiple calls depending on current state, until S_OK is returned) 2666 Version: 2.4.0 TF7000 - TF7810
## Page 2667

API reference Syntax Definition: HRESULT Reset() Return value HRESULT [} 144] 6.2.4.4.3.4 Start Acquisition Start the image acquisition. Syntax Definition: HRESULT Start Acquisition() Return value HRESULT [} 144] 6.2.4.4.3.5 Stop Acquisition Stop the image acquisition. Syntax Definition: HRESULT Stop Acquisition() Return value HRESULT [} 144] 6.2.4.4.3.6 Trigger Image Trigger the next image. Syntax Definition: HRESULT Trigger Image() Return value HRESULT [} 144] 6.2.4.5 Image Processing This group contains function blocks for image processing. In these comprehensive function blocks, the values once set are retained after an execution. Furthermore, the function blocks can also contain several methods. The functions contained in the chapter Functions [} 1888], on the other hand, have no internal status information and the variable values are not retained. TF7000 - TF7810 Version: 2.4.0 2667
## Page 2668

API reference Function blocks • Generalized Hough Ballard [} 2668] • SSIM [} 2671] 6.2.4.5.1 Generalized Hough Ballard This FB provides the Generalized Hough Ballard functionality. First, set the parameters via the corresponding methods (optional, defaults are used otherwise). Then, set the template (required). Afterwards, the Detect method can be executed. Syntax Constructor: Generalized Hough Ballard() Methods Name Description Detect [} 2668] Detect the template in an image (Set Template must have been called before). Set Canny Threshold [} 2669] Sets the canny edge detection thresholds. Set Inv Accu Ratio [} 2669] Sets the inverted ratio of the accumulator size in relation to the source image's size (e.g. a value of 2 means that the size is halved in both directions.) Set Levels [} 2670] Sets the number of R-table levels. Set Min Dist [} 2670] Sets the minimum distance between the centers of different objects. Set Template [} 2670] Sets the template image to search for in the Detect method. Set Votes Threshold [} 2671] Sets the accumulator threshold, i.e. the number of votes required to detect a match (too small values lead to false detections). Required License TC3 Vision Matching System Requirements 6.2.4.5.1.1 Detect Detect the template in an image (Set Template must have been called before). Syntax Definition: HRESULT Detect( ITc Vn Image* ip Image, ITc Vn Container*& ip Positions ) 2668 Version: 2.4.0 TF7000 - TF7810
## Page 2669

API reference Parameters Name Type Description ip Image ITc Vn Image* [} 1870] Source image (1 channel, USINT) ip Positions ITc Vn Container* [} 1836]& Returns the centers of the detected template positions (Container Type_Vector_Tc Vn Point 2_REAL; Non-zero interface pointers are reused.) Return value HRESULT [} 144] 6.2.4.5.1.2 Set Canny Threshold Sets the canny edge detection thresholds. Syntax Definition: HRESULT Set Canny Threshold( LONG n Low = 50, LONG n High = 100 ) Parameters Name Type Description n Low LONG Low threshold (> 0) n High LONG High threshold (> n Low, usually 2 to 3 * n Low) Return value HRESULT [} 144] 6.2.4.5.1.3 Set Inv Accu Ratio Sets the inverted ratio of the accumulator size in relation to the source image's size (e.g. a value of 2 means that the size is halved in both directions.) Syntax Definition: HRESULT Set Inv Accu Ratio( double f Inv Accu Ratio = 1.0 ) Parameters Name Type Description f Inv Accu Ratio double Inverted accumulator ratio (> 0) Return value HRESULT [} 144] TF7000 - TF7810 Version: 2.4.0 2669
## Page 2670

API reference 6.2.4.5.1.4 Set Levels Sets the number of R-table levels. Syntax Definition: HRESULT Set Levels( LONG n Levels = 360 ) Parameters Name Type Description n Levels LONG Number of R-table levels (> 0) Return value HRESULT [} 144] 6.2.4.5.1.5 Set Min Dist Sets the minimum distance between the centers of different objects. Syntax Definition: HRESULT Set Min Dist( double f Min Dist = 1.0 ) Parameters Name Type Description f Min Dist double Minimum distance (> 0) Return value HRESULT [} 144] 6.2.4.5.1.6 Set Template Sets the template image to search for in the Detect method. Syntax Definition: HRESULT Set Template( ITc Vn Image* ip Image ) Parameters Name Type Description ip Image ITc Vn Image* [} 1870] Template image (1 channel, USINT) 2670 Version: 2.4.0 TF7000 - TF7810
## Page 2671

API reference Return value HRESULT [} 144] 6.2.4.5.1.7 Set Votes Threshold Sets the accumulator threshold, i.e. the number of votes required to detect a match (too small values lead to false detections). Syntax Definition: HRESULT Set Votes Threshold( LONG n Votes = 100 ) Parameters Name Type Description n Votes LONG Number of votes required to detect a match (> 0) Return value HRESULT [} 144] 6.2.4.5.2 SSIM This FB provides the structural similarity (SSIM) functionality. First, set the reference image. Afterwards, the Compute method can be executed. Syntax Constructor: SSIM() Methods Name Description Compute [} 2671] Compute the structural similarity (Set Reference must have been called before). Set Reference [} 2672] Sets the reference image, used by the SSIM method. Required License TC3 Vision Matching System Requirements 6.2.4.5.2.1 Compute Compute the structural similarity (Set Reference must have been called before). Syntax Definition: TF7000 - TF7810 Version: 2.4.0 2671
## Page 2672

API reference HRESULT Compute( ITc Vn Image* ip Src Image, ITc Vn Image*& ip SSIM ) Parameters Name Type Description ip Src Image ITc Vn Image* [} 1870] Source image (USINT) ip SSIM ITc Vn Image* [} 1870]& Returns the SSIM (REAL, values from 0 to 1) Return value HRESULT [} 144] 6.2.4.5.2.2 Set Reference Sets the reference image, used by the SSIM method. Syntax Definition: HRESULT Set Reference( ITc Vn Image* ip Image ) Parameters Name Type Description ip Image ITc Vn Image* [} 1870] Reference image (USINT) Return value HRESULT [} 144] 2672 Version: 2.4.0 TF7000 - TF7810
## Page 2673

Twin CAT HMI packages 7 Twin CAT HMI packages This chapter deals with the interaction of Twin CAT Vision and the Twin CAT HMI. This consists of a server extension [} 2673], with which images [} 152] from the PLC can be displayed in the Twin CAT HMI, and a controls package [} 2678] for visualization and interaction with images and colors. Integration of packages The integration of packages takes place in the case of Twin CAT HMI versions from 1.12 via the package management Nu Get. In a Twin CAT HMI project, right-click References and select Manage Nu Get Packages…. Then click on Browse and select "Twin CAT HMI Official" or "Nuget.org" as Package source. You will now see a list of the available Twin CAT HMI packages, from which you can select Beckhoff. Twin CAT. HMI. Vision or Beckhoff. Twin CAT. HMI. Vision. Controls, for example. From Twin CAT HMI version 1.14, the Twin CAT. HMI. Vision and Twin CAT. HMI. Vision. Controls packages can be installed via the Twin CAT Package Manager. The packages must then be integrated into the HMI project via the "Beckhoff Offline Packages" package source, as described above. General information can be found in the Twin CAT HMI documentation, e.g. with the detailed description of package management. 7.1 Server extension The Nu Get package Beckhoff. Twin CAT. HMI. Vision (Twin CAT package "Twin CAT. HMI. Vision") contains the Tc Hmi Vision HMI server extension, which can be used to retrieve image data from the PLC and display it in the Twin CAT HMI. For this purpose, all ADS symbols of the type ITc Vn Displayable Image [} 413] from the configured runtimes are listed and can be linked in various formats with an HMI symbol. See System requirements [} 15] for the required . NET version. Configuration Once the package has been successfully integrated into the HMI project, enter the Ams Net Id and the port of the target PLC under Server > Tc Hmi Vision > General: In addition, individual target systems can be enabled or disabled via the Enabled setting. The Streaming server port defines which streaming port is used for sending the images configured with Stream as the transmission format. TF7000 - TF7810 Version: 2.4.0 2673
## Page 2674

Twin CAT HMI packages If individual symbols from the PLC are not to be listed by the extension, they can be hidden using the Tc Hmi Symbol. Hide PLC attribute. If, on the other hand, only certain symbols are to be listed, the Use Whitelisting setting must be enabled. Corresponding variables can then be marked with the Tc Hmi Symbol. Show PLC attribute. Statistics Under Server > Tc Hmi Vision > General , set Number of image transmissions for statistics to a value higher than 0 to enable statistical data collection. For example, if you set the value to 100, the last 100 image transmissions will be included in the statistics. To reset the statistics in Engineering, first enter a 0 and then re-enter the previously used number. Statistical data is listed under Server > Tc Hmi Vision > Diagnostics > Statistics. The individual values are calculated for each configured image symbol. 1. Image resolution: Image resolution in pixels 2. Received image size: Image size of the received image 3. Converted image size: Image size after conversion e.g. to Jpeg or Png depending on the configured image format and then to a Base64 string 4. Framerate: Image transmissions per second 5. ADS transmission time: Duration of the transmission of an image via ADS 6. Image conversion time: Duration of the conversion of an image 7. Processing time: The time required by the extension for an image transmission including conversion. 8. Time between image requests: The time that elapses between a response from the extension and the next image request from the server. In this phase, the server waits for the set symbol interval. If the image transmission has been paused, this value may be distorted. To prevent falsified values, the 2674 Version: 2.4.0 TF7000 - TF7810
## Page 2675

Twin CAT HMI packages statistics can be reset as explained below. Alternatively, you can wait until further images have been transferred and the statistics have been adjusted. In addition, this value may vary if multiple data bindings exist for the same symbol. 9. Evaluated image transmissions: Number of image transmissions currently included in the statistics Graphical representation of the sequence of an image transmission, with the statistical values marked in red: To reset the statistics from the application, an empty value must be written to the Tc Hmi Vision. Reset Statistics symbol. For example, drag a Write To symbol into the Actions and Conditions of an event. In the left-hand field, click on Create data binding... In order for the symbol to be listed, you must enable Show advanced items in the window settings. Now link the corresponding symbol under: Mapped symbols > Tc Hmi Vision > Reset Statistics. TF7000 - TF7810 Version: 2.4.0 2675
## Page 2676

Twin CAT HMI packages To display the statistics in the application, the individual values can be mapped via the symbols, which are also listed with Show advanced items. Diagnostics Under Server > Tc Hmi Vision > Diagnostics, you can obtain information on the connection status of the configured target system: 2676 Version: 2.4.0 TF7000 - TF7810
## Page 2677

Twin CAT HMI packages Application 1. Navigate to an HMI view and add an Image control. 2. Open the properties of the control and click on Create data binding… under the parameter Src… 3. Link the Src parameter of the Image control to the corresponding image symbol at the following location: Server symbols > Tc Hmi Vision > PLC > MAIN > ip Image > <image format> Linking images Linking images is only possible if the process image of the configured target system contains corresponding image variables. TF7000 - TF7810 Version: 2.4.0 2677
## Page 2678

Twin CAT HMI packages Interval The speed at which images can be retrieved from the PLC depends on the system, image size and workload. We therefore recommend specifying a fixed interval in the Binding dialog at Settings to prevent the system from being overloaded. If several images are to be displayed on one page, it is also recommended to use different intervals, e.g. 200 ms and 201 ms. This way, the images are retrieved separately from each other, which can be advantageous for larger amounts of data. Transmission formats The server extension contains the image data from the PLC in BMP format and forwards them as a Base64 string to the Twin CAT HMI client. In order to reduce the data quantity transmitted to a client, images can be compressed in the server extension. The following image formats are available: • BMP: uncompressed • JPEG: lossy compressed, good for natural images • PNG: compressed (lossless), good for artificially created images • Stream: for continuous image streams (e.g. live camera picture, not recommended!) For transmission as a stream the HMI server must be started as administrator. Otherwise no image transmission is possible. 7.2 Controls The Nu Get package Beckhoff. Twin CAT. HMI. Vision. Controls (Twin CAT package "Twin CAT. HMI. Vision. Controls") provides some controls for displaying and manipulating Vision data. This documentation assumes basic knowledge of Twin CAT HMI concepts see TE2000 and refers to them. A detailed description of the use of controls can also be found there. Controls The package contains the following controls that can be added to HMI pages via the HMI Toolbox: Control Category Type Description Image Watch Vision Tc Hmi Vn Image • Displaying images [} 2679] • Zoom and drag options • Extracting image information • Marking image areas with different shapes • Multi-image selection • Overlay graphics • Toolbar with operating functions • Infobar for displaying image and shape information Color [} 2706] Vision Tc Hmi Vn Color Displaying and setting colors History [} 2719] Vision Tc Hmi Vn History Display and control of the image history functionality of an Image Watch Control. Rectangle Shapes Tc Hmi Vn Rectangl Interactive display and drawing of a rectangle. (Interactive) e [} 2723] Polygon Shapes Tc Hmi Vn Polygon Interactive display and drawing of a polygon. (Interactive) [} 2725] 2678 Version: 2.4.0 TF7000 - TF7810
## Page 2679

Twin CAT HMI packages Shape controls The Rectangle (Interactive) and Polygon (Interactive) controls are primarily auxiliary controls that are reused in the Image Watch control. If necessary, they can also be used alone. In addition, the controls can also be used for derived shapes such as a point, a line, a circle, an ellipse or a square with the help of their attributes. In addition, the package contains the following help functions: Function Category Description Box Color Converter [} 2727] Vision Converts the Color Value attribute of the Color [} 2706] control for display in the color box and vice versa. Convert Color [} 2727] Vision Converts color values between different formats. Pixel Color Formatter [} 2728] Formatting Formats the Pixel Color attribute of the Image Watch [} 2679] control to text for display in the Toolbar [} 2694]. Shape Value Formatter [} 2729] Formatting Formats the Shape Value attribute of the Image Watch [} 2679] control to text for display in the Toolbar [} 2694]. To Rotated Rectangle [} 2729] Data Converts a rectangle of type Tc Vn Rectangle [} 2731] to type Conversion Tc Vn Rotated Rectangle [} 2731]. To Upright Rectangle [} 2730] Data Converts a rectangle of type Tc Vn Rotated Rectangle [} 2731] to Conversion type Tc Vn Rectangle [} 2731]. 7.2.1 Image Watch The Tc Hmi Vn Image Image Watch Control offers many other tools and information displays in addition to the image display. An overview of the areas and components can be found in the subchapter Structure of the control [} 2689]. The description of each configuration option can be found under the following categories on this page. For each category there are sub-chapters with further information, details and application examples. In order to directly display Twin CAT Vision images from the PLC, the Vision extension [} 2673] for the HMI server is also required. TF7000 - TF7810 Version: 2.4.0 2679
## Page 2680

Twin CAT HMI packages For all the following attributes, the control has a getter and a setter method. For example, both the get Bar Color(): Solid Color and set Bar Color(value: Solid Color): void methods exist for the Bar Color attribute. The use of the attributes is explained in more detail in the linked subchapters. All further attributes, events and permissions provided by the Controls base class can be found in the Twin CAT HMI documentation. Category: Colors Attribute Type Description Bar Color Solid Color Toolbar and Infobar color (see categories Toolbar and Infobar). Shape Stroke Color Solid Color Color of the contours of the shapes that can be drawn on the image (see Shapes category). Shape Handle Color Solid Color Color of the handles of the shapes that can be drawn on the picture (see Shapes category). Category: Common The following attributes specify the resource [} 2689] from which the images to be displayed are loaded. 2680 Version: 2.4.0 TF7000 - TF7810
## Page 2681

Twin CAT HMI packages Attribute Type Description Image String Resource for the image to be displayed. Can be either a path to an image file or a data URI. Image List Image List List of named image resources. If the list is not empty, the binding of Image will be replaced with the resource selected by Image Index. Image Index Number Selects which of the image resources from the list will be displayed if Image List is not empty. Alt String Alternative text that will be displayed if the current image resource is not available. Function Description download Image(file Name: string): void Triggers a browser-specific download of the currently displayed image in its original size. Can alternatively be triggered via a UI element in the Toolbar [} 2694]. Category: View The following attributes and functions determine the section of the displayed image [} 2691] and how it can be changed. TF7000 - TF7810 Version: 2.4.0 2681
## Page 2682

Twin CAT HMI packages Attributes Type Description Image Freeze Boolean If active, the currently displayed image is fixed and will not be updated until Image Freeze is disabled. Offset [Number, Number] Position of the upper left corner of the image in the coordinate system of the control. Scale Number (%) Scaling of the image in percent based on Scale Reference. Scale Reference Scale Reference At Image Size, 100% corresponds to the original image size. At Control Width, 100% corresponds to the width of the control. At Control Height, 100% corresponds to the height of the control. At Control Size, 100% corresponds to either the width or the height of the control, depending on which limits the size of the image first. Fit Image Boolean If active, the image scaling is in "Fit" mode. In the process, Offset and Scale are adjusted so that the image is displayed centered and filled in the control. If Offset or Scale are changed elsewhere during runtime, this attribute is automatically set to false. However, it can be reset at any time at true. Draggable Boolean If active, the image can be moved using the mouse or touch. In the process, Offset is automatically adjusted. Scalable Boolean If active, the image can be scaled using the mouse wheel or multitouch. In the process, Offset and Scale are automatically adjusted. Scale Min Number Minimum Scale when scaling via mouse wheel or multitouch. Scale Max Number Maximum Scale when scaling via mouse wheel or multitouch. 2682 Version: 2.4.0 TF7000 - TF7810
## Page 2683

Twin CAT HMI packages Attributes Type Description Scaling Center Scaling Center Point that remains fixed when scaled via the Scale attribute . At Top Left Corner the upper left corner of the image remains fixed. At Image Center the center point of the image remains fixed. At Control Center the center of the control remains fixed. When scaling using the mouse wheel, the position of the cursor always remains fixed. View Number[4] Specifies the displayed section of (readonly) the image in terms of a region of interest. The format is: [X, Y, Breite, Höhe]. Function Description center Image To Control(): void Adjusts the Offset so that the current image is in the center of the control. fit Image To Control(center: boolean): Obsolete, use the Fit Image attribute instead. void Adjusts Offset and Scale so that the current image is centered and filled in the control. set View(view: number[]): void Changes Offset and Scale so that the specified section of the image is displayed. Does not necessarily have to match View if the aspect ratio of the clipping does not match the control. Category: Toolbar The following attributes can be used to customize the Toolbar [} 2694] of the control. Attribute Type Description Toolbar Visible Boolean Toolbar display. Toolbar Items Toolbar Items Selection of elements to be displayed in the toolbar. Scale Options Number[] Scaling values displayed and selectable in the Scale Selection combo box in addition to the "Fit" option. Toolbar Height Number (px) Height of the toolbar. Image Selection Width Number (px) Width of the Image Selection combo box. Scale Selection Width Number (px) Width of the Scale Selection combo box. Queue Index Width Number (px) Width of the Queue Index input field and the total number of entries. Scale Selection Editable Boolean If active, values can be manually typed into the Scale Selection. If inactive, selection is only possible from the offered Scale Options. TF7000 - TF7810 Version: 2.4.0 2683
## Page 2684

Twin CAT HMI packages Category: Infobar The following attributes can be used to customize the Infobar [} 2696] of the control. Attribute Type Description Infobar Visible Boolean Display of the infobar. Infobar Items Infobar Items Selection of elements to be displayed in the infobar. Pixel Color Format Function Function that generates a text for the infobar from the value of the Pixel Color attribute. Shape Value Format Function Function that generates a text for the infobar from the value of the Shape Value attribute. Infobar Height Number (px) Height of the infobar. Category: Shapes The following attributes help to draw shapes [} 2699] on the image. 2684 Version: 2.4.0 TF7000 - TF7810
## Page 2685

Twin CAT HMI packages Attribute Type Description Shape Selection Active Boolean If active, a shape (based on Shape Type) can be drawn, displayed and edited on the image. Shape Type Shape Type Shape type. Possible are: • Dotted • Line • Rectangle / square • Ellipse / circle • Polygon Shape Is Rotatable Boolean If active, suitable shapes can be rotated using a handle in the UI. (line, rectangle, square, ellipse, polygon) Shape Data Shape Data Geometric description of the shape. Can be used to query the data of a drawn shape or to display a specific predefined shape. Shape Auto Clear Boolean If active, Shape Data is reset to the base value of the respective Shape Type when Shape Selection Active is deactivated. Shape Stroke Thickness Number (px) Thickness of the lines of the displayed shape. Shape Handle Size Number (px) Size of the handles of the displayed shape. Shape Clickable Size Number (px) Size of the clickable area for the handles of the displayed shape. Can be used to simplify editing the shape on touch panels without displaying the handles unnecessarily large. Shape Angle Interval Number (°) Step size in which the rotation of the shape can be changed. For example, with a value of 90, there are only four possible alignments. At 0 the rotation is arbitrary. Shape Is In Image Area Boolean Indicates whether the displayed (readonly) shape is completely within the image area or not. Can be useful to check the validity of Shape Data for certain PLC functions. Only the corner points are used for the calculation. Shape Limit To Image Boolean If active, the shape can only be drawn or edited within the image. Shape Data Update Data Update Specifies whether Shape Data should be updated during (on Changed) or at the end (on Confirmed) of a graphical interaction. TF7000 - TF7810 Version: 2.4.0 2685
## Page 2686

Twin CAT HMI packages Function Description clear Shape(): void Deletes the displayed shape, also resetting Shape Data to the base value of the respective Shape Type. Category: Thumbnail The following attributes determine the display of a thumbnail. The thumbnail [} 2702] gives an overview of which section of the image is visible. Attribute Type Description Thumbnail Visible Boolean Display of the thumbnail. Thumbnail Position Thumbnail Position Position of the thumbnail. Thumbnail Size Number (px) Size of the thumbnail. Determines the width of the thumbnail; the height is automatically calculated based on the aspect ratio. Category: Overlay The following attributes allow objects to be overlaid [} 2703] on the image (e.g. as positioning or marking aids). Attribute Type Description Overlay Visible Boolean Display overlays. Overlay Image String Image overlaid on the displayed image. Overlay Elements Overlay Elements Geometric elements overlaid on the displayed image. Category: Info The following attributes can be used to obtain information [} 2704] about the image or specific pixels of the image. Attribute Type Description Pixel Info Update Pixel Info Update Determines when Pixel Color and Pixel Position are updated. • At Never they are never updated. • At At Click, they are updated when you click on a specific part of the image. • At At Cursor they are updated every time the cursor moves on the image. This always displays the values of the current cursor position. Pixel Color [Number, Number, Number, Color of the selected image pixel. (readonly) Number] Pixel Position [Number, Number] Position of the selected image pixel (readonly) in image coordinates. Image Size [Number, Number] Original size of the displayed (readonly) image. Image Display Size [Number, Number] Display size of the displayed (readonly) image. 2686 Version: 2.4.0 TF7000 - TF7810
## Page 2687

Twin CAT HMI packages Category: History The following attributes can be used to customize the History [} 2705] functionality of the control. Attribute Type Description Queue Index Number Sets the index of the history image to be displayed. 0 corresponds to the last image received. Only works when Freeze is activated. Queue Size Number Fixes how many of the last received images should be saved temporarily. The oldest images are deleted first according to the FIFO principle (First In First Out). Image Timestamp Number Timestamp of the history image (readonly) displayed when Image Freeze is activated in milliseconds. Function Description clear History(): void Deletes the entire history queue. Category: Statistic The following attributes can be used to customize the Statistic [} 2706] functionality of the control. Attribute Type Description Number Of Image Transmissions Number Fixes how many of the last received images should be included in the statistics. Image Render Time Number Average time to render the images in the browser in milliseconds. Function Description reset Statistic(): void Resets the entire statistics. Events All events are listed in the "Vision" category. Event Description .on Pixel Info This event is triggered if Pixel Info Update <> Never and the user clicks on a position in the image or moves the mouse pointer over it to select a pixel. Internally, the event updates the values of the Pixel Color and Pixel Position attributes. .on Image Received This event is triggered when the control receives an image. .on Shape Changed This event is triggered as soon as the Shape Data attribute changes. .on Shape Confirmed This event is triggered when a shape is set or an interaction with it is completed. Themed Resources The following attributes can be used to change the appearance of sub-controls (the combo boxes in the toolbar) at the Themes settings. A detailed description of the individual attributes can be found in the standard HMI documentation. TF7000 - TF7810 Version: 2.4.0 2687
## Page 2688

Twin CAT HMI packages Attribute Type Image Selection_Content Padding Padding Image Selection_Data Height Data Height Image Selection_Drop Down Background Color Color Image Selection_Drop Down Font Family Font Family Image Selection_Drop Down Font Size Measurement Value Image Selection_Drop Down Font Style Font Style Image Selection_Drop Down Font Weight Font Weight Image Selection_Drop Down Horizontal Alignm Horizontal Alignment ent Image Selection_Drop Down Text Color Solid Color Image Selection_Drop Down Vertical Alignmen Vertical Alignment t Image Selection_Drop Down Style Tc Hmi Combobox. Drop Down Style Image Selection_Font Family Font Family Image Selection_Font Size Number (px) Image Selection_Font Style Font Style Image Selection_Font Weight Font Weight Image Selection_Horizontal Alignment Horizontal Alignment Image Selection_Max List Height Number (px) Image Selection_Text Color Solid Color Queue Index_Background Color Color Queue Index_Content Padding Padding Queue Index_Font Family Font Family Queue Index_Font Size Number (px) Queue Index_Font Style Font Style Queue Index_Font Weight Font Weight Queue Index_Horizontal Alignment Horizontal Alignment Queue Index_Text Color Solid Color Queue Index_Vertical Alignment Vertical Alignment Scale Selection_Content Padding Padding Scale Selection_Data Height Data Height Scale Selection_Drop Down Background Color Color Scale Selection_Drop Down Font Family Font Family Scale Selection_Drop Down Font Size Measurement Value Scale Selection_Drop Down Font Style Font Style Scale Selection_Drop Down Font Weight Font Weight Scale Selection_Drop Down Horizontal Alignm Horizontal Alignment ent Scale Selection_Drop Down Style Tc Hmi Combobox. Drop Down Style Scale Selection_Drop Down Text Color Solid Color Scale Selection_Drop Down Vertical Alignmen Vertical Alignment t Scale Selection_Font Family Font Family Scale Selection_Font Size Number (px) Scale Selection_Font Style Font Style Scale Selection_Font Weight Font Weight Scale Selection_Horizontal Alignment Horizontal Alignment 2688 Version: 2.4.0 TF7000 - TF7810
## Page 2689

Twin CAT HMI packages Attribute Type Scale Selection_Max List Height Number (px) Scale Selection_Text Color Solid Color 7.2.1.1 Structure of the control The Image Watch Control consists of areas for displaying tools and information (Toolbar [} 2694] and Infobar [} 2696]), and a main area for displaying the image. Within this area, the image can be moved and scaled programmatically, by mouse or by touch. Other features like the thumbnail or the selection of shapes can be used application specific. 7.2.1.2 Image resources The attributes and functions explained on this page can be found in the Common category. Image resources The image resource defines which image will be displayed in the Image Viewer. The intended use is to link as an image resource a ITc Vn Displayable Image symbol using the HMI. Vision extension [} 2673]. In general, however, the image resource only needs to be a valid image URL. This can be either a direct path in the project, a URL to an external server or a Data URL. This works analogously to the Src attribute of the standard image control. In the simplest case, the image resource is specified via the Image attribute: TF7000 - TF7810 Version: 2.4.0 2689
## Page 2690

Twin CAT HMI packages Furthermore, it is possible to store multiple image resources in the Image List attribute: The Image Index attribute can be used to select which of the resources is actually used. This can be used, for example, to easily switch between image symbols from the PLC. The switch can also be made graphically via the Image Selection combo box in the Toolbar [} 2694]. For this purpose, not only the respective image resource but also an associated image name can be assigned in the Image List . Simultaneous use of Image and Image List is mutually exclusive Internally, using the Image List property causes the respective image symbol of the selected Image List element to be bound to the Image symbol. Therefore, the use of Image and Image List are mutually exclusive; you should not bind an image symbol to the Image attribute if you are already using Image List. Receive event Each time the control receives a new image, the on Image Received event is triggered. Alternative text If no image resource is specified or no valid image could be loaded from the specified resource, an alternative text is displayed. This can be changed by the Alt attribute and is "No image available." by default. 2690 Version: 2.4.0 TF7000 - TF7810
## Page 2691

Twin CAT HMI packages Image download The currently displayed image can be saved locally on the client device via browser-specific download. The download can be triggered either by the download Image function or the download button in the Toolbar [} 2694]. The image is saved in its original size. The file name can be specified as a parameter in programmatic calls. A file extension does not need to be specified as it is automatically appended. If the parameter remains empty, the file name is also created automatically. For a symbol, the symbol name is used first; for a data URL, the control name is used accordingly: <symbol name/control name>_<date>_<time>-<MS>.<file extension> For an image path, the file name and file extension from the specified path are used without appending a timestamp. The selection of the save path is not possible within the control, but corresponds to the download path setting of the used browser. The usual download path is C:\User\<User>\Downloads\. Requirements and restrictions of the image download Since the image download is done via a browser-specific functionality, the possibilities, settings and functionality depend on the used web browser for the Twin CAT HMI Client. The download Image function requires the operate authorization of the Twin CAT HMI user management. This function cannot be used with images that are linked as a stream, as well as in the live view of HMI engineering. 7.2.1.3 Image view The attributes and functions explained on this page can be found in the View category. Internally, the size and position of the displayed image is precisely defined by the Offset, Scale and Scale Reference properties. However, the typical use case for changing size and position is using interactive features such as touch and mouse gestures. Thereby the above mentioned properties are automatically changed internally by those gestures. Property: Offset The Offset property specifies the image position relative to the control itself. The upper left corner is defined as the origin, with the X-axis to the right and the Y-axis down. The offset of the image is also measured from the upper left corner of the image. The offset coordinates are specified in pixels. As mentioned earlier, the Offset property is changed by the control itself, for example, when the user interacts with the image using touch or mouse gestures. By default, the offset property is associated with a Two Way binding. Properties: Scale and Scale Reference The Scale property specifies a scaling factor in percent to calculate the pixel size in which the image is displayed on the screen. The size is always calculated in relation to the original image size or in relation to the size of the control, depending on the value of the Scale Reference attribute. The Scale Reference can be one of the following values: TF7000 - TF7810 Version: 2.4.0 2691
## Page 2692

Twin CAT HMI packages Image Size The size of the displayed image is equal to the original image size multiplied by the value of the Scale property. Example: the original size of the image is 300x200, the Scale property is 150%. The resulting size of the displayed image is 450x300. Control Size Wid The size of the displayed image is equal to the width of the control (or more precisely, the th image frame within the control) multiplied by the value of the Scale property. Control Size Hei The size of the displayed image is equal to the height of the control (or more precisely, the ght image frame within the control) multiplied by the value of the Scale property. Control Size The size of the displayed image is equal to the size of the control (or more precisely, the image frame within the control) multiplied by the value of the Scale property. If the aspect ratio of the control does not match the aspect ratio of the image, either the height or the width is used as the reference size, depending on which dimension differs more. The advantage of the Image Size setting is the direct relationship between the displayed size and the original size of the image. Two images with different sizes in the PLC always have different sizes in the HMI. The advantage of the Control Size setting is the automatic adjustment of the image to the control. The images are always the same size, regardless of how large they actually are within the PLC. Aspect ratio The height and width of the image are always calculated to maintain the aspect ratio of the original image. Example: Offset, Scale and Scale Reference Property: Fit Image To automatically center the image and adjust it to the control size, the Fit Image properties can be activated. Fit mode is then active so that all future or past (history) images are displayed scaled and positioned accordingly, even if the resolution is different. If Scale or Offset are changed in any other way during runtime, e.g. by dragging with the mouse, scrolling or by programmatic setting, Fit Image is automatically set to false. Fit mode is then ended. This can also be done manually, and fit mode can be reactivated at any time by going to true. Function: Fit Image To Control (obsolete, use Fit Image instead) To maximize and center the currently displayed image within the Image Viewer, the Fit Image To Control function can be called. If this is to be done from the beginning, the function should be linked to the .on Attached event. Once this function has been activated, all subsequent images will also be centered and maximized until the view is changed elsewhere, thereby canceling the mode. 2692 Version: 2.4.0 TF7000 - TF7810
## Page 2693

Twin CAT HMI packages Property: Scaling Center The Scaling Center offers a possibility to adjust the scaling behavior. An individual change of the Scale properties always results in a change of the lower right corner of the image, while the upper left corner remains fixed. To change this and fix other points, the Scaling Center property can be used. In this case, the Offset property is automatically adjusted. The following options are available: Scale Center value Description Top Left Corner Upper left corner of the image stays centered when zooming. Image Center Center of the image remains centered when zooming. Control Center Center of the control remains centered when zooming. Gestures The user can change the size and position of the image by the following gestures/interactions: • Hold the left mouse button anywhere in the image frame and drag the mouse to move the image and thus change the Offset property. The Scale property remains unaffected. • Touch the image frame with one finger and move your finger to move the image to change the Offset property. The Scale property remains unaffected. • Scroll with the mouse wheel to change the size of the image and thus the Scale property. The center of the scaling will always be the position of the mouse pointer. As a result, the Offset property may also change accordingly. The mouse pointer must always be positioned over the control. • Touch the picture frame with two fingers and move both fingers in one direction, towards or away from each other, to change the position and size of the picture. Both the Offset and Scale properties are adjusted. To prevent these user interactions, both the Draggable and Scalable properties can be set to false to prevent a user-induced change of position or size. Changing the value (e.g. by writing to the symbol) is always possible and is not affected by the two properties. Properties: Scale Min and Scale Max The control positioning and scaling system applies limiting rules to prevent the user from creating confusing or disorienting views of the image. The Scale Min and Scale Max properties represent limits on the setting of the Scale property for user interactions. In addition, the control automatically restricts the image to its borders with a certain outer padding (currently 10px). Positions outside this limit are not useful as you cannot see the image. Property: View (read-only) The Offset and Scale properties are good for internal handling of the image view, but are not necessarily intuitive for the user (e.g. to define an image area). People often tend to think in terms of regions of interest or similar representations. Therefore, after changing the size or position of the image, the currently visible area of the image is calculated and provided via the read-only View property. The internal calculation always sets the coordinate origin to the upper left corner of the image and calculates from there the upper left position as well as the width and height of the image frame. The View property is provided as an array in the [X, Y, Breite, Höhe] form. To set the position and size using a view description, see the next section on the Set View function. Function: Set View The Set View function allows the user to display a specific area of the image. When this function is called, the image area specified by a parameter is maximized and centered within the image frame. TF7000 - TF7810 Version: 2.4.0 2693
## Page 2694

Twin CAT HMI packages The area must be specified in the original image coordinates as [x, y, Breite, Höhe]. Differing views Depending on the aspect ratios of the specified area and the image frame, the requested view may differ from the actual view. This in turn can be retrieved via the read-only View property. Separate action The view functionality is not accessible via a property, but via a read-only property and a setter method. The reason for this is the difference between an ordered view and the actual view mentioned above, and also that a View property would conflict with the Offset and Scale properties as to which view should be achieved. This is prevented by the view setter being a one- time action instead of a bound property. Stop image flow If the Image Freeze property is true, the currently displayed image does not change even if new images are received. The intended use case is to freeze the current image for further review without adding additional logic within the PLC. If the Image Freeze property is changed from true to false, the control immediately displays the last image again and ignores the intermediate images. The Image Freeze property can be controlled by the Freeze button in the toolbar (see Freeze Button Visible property in the Toolbar [} 2694] category). 7.2.1.4 Toolbar The attributes and functions explained on this page can be found in the Toolbar category. The controls in the toolbar can be used to interactively perform various actions that are otherwise only accessible via the attributes. Each element can be shown or hidden. In addition, the entire toolbar can be adjusted in height or completely hidden. The positioning of the elements in the toolbar is fixed and cannot be customized. If such adjustments are nevertheless necessary, you can hide the corresponding elements using the Toolbar Items property, implement them yourself with your own controls and place them on the Image Control toolbar. The available toolbar elements are divided into the General and History groups. The individual elements are described below for each group from left to right, the General group starts with the displayed choice of the Result image: 2694 Version: 2.4.0 TF7000 - TF7810
## Page 2695

Twin CAT HMI packages Category: General Image Selection Combo box for selecting images from the image list to be displayed (see Image List property in the Common category). Only displayed if the image list contains at least one element. When switching between images, expect a short loading time. Scale Selection Combo box for selecting specific scaling values to adjust the current image. The selectable scaling values can be adjusted via the Scale Options property. If Scale Selection Editable is deactivated while a user-defined scale is set, the combo box will no longer display a value. This is the default behavior of the combo box control. Shape Button Button for setting the value of the Scale Selection Active property. If active, an existing shape is displayed and can be edited. If no shape is displayed, a new one can be drawn. Freeze Button Button for setting the value of the Image Freeze property. If active, the currently displayed image is fixed and will not be updated. Download Button Button for downloading the current image with default name (see download Image function under Image download [} 2689]). To assign a different file name, this button can be implemented by the customer and then call the function with a self-defined name. Category: History Queue Index Input value of the index for the choice or display of the specified history image when Image Freeze is activated. 0 corresponds to the last image received. Navigation Buttons Buttons to go forward or back one image entry in the image history when Image Freeze is activated. Navigation End Butt Buttons to jump to the first or last image received in the history when Image Freeze is ons activated. Functions also programmatically accessible Any action that is accessible through the interface elements of the toolbar is also accessible programmatically through the properties of the control. Size settings The toolbar offers several customization options, for example, the height can be adjusted via the Toolbar Height property. Furthermore, the width of individual elements can be adjusted using the Image Selection Width, Scale Selection Width and Queue Index Width properties. The width of all buttons is automatically adjusted to the height of the toolbar so that they are square. The width of the dropdown button of the combo boxes cannot be adjusted, because this functionality is not available in the standard combo box control. Internally, the Toolbar Height property is limited to a maximum of 150 pixels. Background color The background color of the toolbar is a semi-transparent white "rgba(255, 255, 255, 0.5)" by default or R: 255, G: 255, B: 255, A: 127 and can be customized using the Bar Color property in the Colors category. Advanced settings Further graphical settings (e.g. font of the combo boxes) can be changed via Themed Resources. Basically, attributes of the combo boxes, text blocks, and numeric input are provided. Themed Resources can be customized in the Theme editor at Tc Hmi Vn Image > Themed Resources. These settings will then apply to all instances of the Image Viewer control. TF7000 - TF7810 Version: 2.4.0 2695
## Page 2696

Twin CAT HMI packages 7.2.1.5 Infobar The attributes and functions explained on this page can be found in the Infobar category. The display elements in the infobar can be used to display various information about shape values, pixel values or the image size. Each element can be shown or hidden. In addition, the entire infobar can be adjusted in height or completely hidden. The positioning of the elements in the infobar is fixed and cannot be customized. If such adjustments are nevertheless necessary, you can hide the corresponding elements using the Infobar Items property and implement them yourself with your own controls and place them on the Image Control infobar. The available infobar elements from left to right are: Shape Value Calculated value to the currently displayed shape. This value is calculated by the function bound to the Shape Value Format property. The Shape Value Formatter standard formatting function [} 2729] returns a specific value depending on the selected shape type: • Coordinate from the point • Length of the line • Area of the square, rectangle, circle or ellipse • Number of points of the polygon This example [} 2696] describes the implementation and use of a custom formatter function. Pixel Color Color value(s) of the selected pixel. This value is calculated by the function bound to the Pixel Color Format property. The Pixel Color Formatter standard formatting function [} 2728] returns a specific value depending on the selected color space. Selectable color formats are: Gray, RGB, RGBa, HSV, HSV FULL, HLS, HLS FULL, Lab, YUV, YCr Cb. You can also set whether and how rounding should take place. You can choose between 0-3 Decimals and Unrounded. The Piyel Type can also be set. Possible values here are 8-Bit (USINT) and 16-Bit (UINT). This example [} 2697] describes the implementation and use of a custom formatter function. Pixel Position Position of the selected pixel. Image Size Original size of the currently displayed image. Size settings The infobar offers customization options for its own height via the Infobar Height property, which is internally limited to a maximum of 150 pixels. Background color The background color of the Infobar is a semi-transparent white "rgba(255, 255, 255, 0.5)" by default or R: 255, G: 255, B: 255, A: 127 and can be customized using the Bar Color property in the Colors category. 7.2.1.5.1 Shape Value Formatting function As an alternative to the Shape Value Formatter function, a custom formatter function can be created to display other shape information in the infobar. The following example shows how such a function is created and which interfaces it must have. The general use of functions is explained in the HMI documentation. 2696 Version: 2.4.0 TF7000 - TF7810
## Page 2697

Twin CAT HMI packages After creating the Type Script function, two parameters must be created. The first one gets the Shape description passed in the same way as the Shape Data property, as it can be retrieved from the control. This parameter must be created as type Any. The second parameter is passed the shape type analogous to the Shape Type property. This parameter must be specified as type Tc Hmi. Controls. Beckhoff. Vision. Shape Type. It should be noted that these passed parameters may differ from the values of the corresponding control properties at the time of function execution for timing reasons. The function must return a value of type String, which is then displayed in the infobar. The function is called whenever the shape description changes and thus the string in the infobar needs to be updated. In the following code sample, the width and height are returned if the objects are included in the shape data: namespace Tc Hmi { export namespace Functions { export namespace Tc Hmi Project { export function Formatter(shape Data: any, shape Type: any) { if (shape Data.st Size != null && shape Data.st Size.f Width != null && shape Data.st Size.f Height != null) { return 'w: ' + shape Data.st Size.f Width.to Fixed(0) + ' h: ' + shape Data.st Size.f Height.to Fixed(0); } else { return ''; } } } } } Tc Hmi. Functions.register Function Ex('Formatter', 'Tc Hmi. Functions. Tc Hmi Project', Tc Hmi. Functions. Tc Hmi Project. Formatter); To use a formatter function you have created, click on the Select button at the Shape Value Format property and select the function you have just created in the Function Editor. 7.2.1.5.2 Pixel Color Formatting function As an alternative to the Pixel Color Formatter function, a user-defined formatter function can be created to format the color of the selected pixel differently. The function gets the color value of the pixel and returns a string that is displayed in the infobar. The following example shows how such a function is created and which interfaces it must have. TF7000 - TF7810 Version: 2.4.0 2697
## Page 2698

Twin CAT HMI packages The general use of functions is explained in the HMI documentation. After creating the Type Script function, the Wait Mode must be changed to Asynchronous. As a result, the parameter "ctx" is created, which is required for the return. A further parameter of the type “Array” must then be created, which receives the color value as an array in the same way as the Pixel Color property of the control. It should be noted that the parameter passed may differ from the value of the corresponding control properties at the time of function execution for timing reasons. The function must return a value of type String so that it can be displayed in the infobar. The call is always made when the value of the Pixel Color property changes and the string in the infobar therefore needs to be updated. In the following code block, 3 color values in red, green and blue are returned as an example, provided at least 3 elements are present in pixel Color. The values are multiplied by 256 to convert them into 16 bits: namespace Tc Hmi { export namespace Functions { export namespace Tc Hmi Project { export function Formatter(ctx: any, pixel Color: number[]) { if (pixel Color.length >= 3) { ctx.success(`<span style="color:red;">${pixel Color[0] * 256}</span>, ` + `<span style="color:green;">${pixel Color[1] * 256}</span>, ` + `<span style="color:blue;">${pixel Color[2] * 256}</span>`); } else { ctx.success(''); } } } } } Tc Hmi. Functions.register Function Ex('Formatter', 'Tc Hmi. Functions. Tc Hmi Project', Tc Hmi. Functions. Tc Hmi Project. Formatter); To use a formatter function you have created, click on the Select button at the Pixel Color Format property and select the function you have just created in the Function Editor. 2698 Version: 2.4.0 TF7000 - TF7810
## Page 2699

Twin CAT HMI packages 7.2.1.6 Shapes The attributes and functions explained on this page can be found in the Shapes category. A common use case is the selection of certain image areas by the user. This can be a region of interest or the position of an object. Another related use case is user-defined measurement of distances or areas within an image. To accommodate all these use cases, the properties in the Shapes category offer flexible functionality for drawing and editing different shapes on the image and retrieving their respective geometric descriptions. Property: Shape Selection Active The selection of a shape can be activated via the Shape Selection Active property or via the Shape button in the Toolbar [} 2694]. As long as this property is active, the shape can be drawn by clicking on the image surface and edited by dragging and dropping the corner points or the shape itself. If this property is set to false and the Shape Auto Clear property is active, the current shape will be reset and lost, so any data needed must be extracted first. The geometric description of the drawn shape can be retrieved via the Shape Data property. Depending on the Shape Type property (see below) the shape data have a different format. You can expect exactly the same format used in the interactive controls themselves (for example, Tc Hmi Vn Polygon and Tc Hmi Vn Rectangle), because the symbol is bound directly to the shape control used internally. The Shape Limit To Image property can be used to restrict the shape to the image area. If this is not the case (default), please note that the shapes can also assume negative values. The shape Is In Image Area function can be used to query whether the shape is located within the image. Properties: Shape Type und Shape Data Different types of shapes are available, based on two different data types. You can select one of the following shapes using the Shape Type property: Shape Type Shape Data PLC Declaration Point [[x, y]] ARRAY[0..0] OF Tc Vn Point2_REAL or ARRAY[0..0] OF Tc Vn Point2_LREAL Line [[x1, y1], [x2, y2]] ARRAY[0..1] OF Tc Vn Point2_REAL or ARRAY[0..1] OF Tc Vn Point2_LREAL Square, { Tc Vn Rotated Rectangle Rectangle, f Angle: angle, Circle, a Center: [cx, cy], Ellipse st Size: { f Width: width, f Height: height, }, } Polygon [[x1, y1], [x2, y2], …, …, [xn, yn]] ARRAY[0..n] OF Tc Vn Point2_REAL or ARRAY[0..n] OF Tc Vn Point2_LREAL The values in Shape Data refer to the image coordinates of the original image. TF7000 - TF7810 Version: 2.4.0 2699
## Page 2700

Twin CAT HMI packages Since the shape types square and circle always have the same height and width by definition, they will not be drawn exactly to this endpoint when the second position is clicked if the aspect ratio is not the same. In this case, the desired position can be reached by moving the corresponding corner. The To Upright Rectangle [} 2730] conversion function is available to transfer the data of the shape types Square and Rectangle of type Tc Vn Rotated Rectangle [} 2731] directly to a PLC variable of type Tc Vn Rectangle_UDINT [} 251] or a Tc Vn Rectangle [} 2731] and use it as an upright bounding rectangle without a rotation angle. For the opposite case there is the To Rotated Rectangle [} 2729] function. Programmatically, the Shape Data property can be changed via Java script as follows: let control = Tc Hmi. Controls.get("Tc Hmi Vn Image") // Polygon with 4 Points control.set Shape Data([[10, 10], [10, 100], [150, 150], [100, 10]]) // Rectangle control.set Shape Data({"a Center":[200,200],"f Angle":15,"st Size":{"f Width":150,"f Height":150}}) In the first sample, a polygon with an array of 4 points is written. To write a point you need only the first element and for a line the first two. In the second sample, a rectangle is written. Since the shape types square, circle and ellipse are based on the same data type, the same notation can be used for these types as well. The data can also be written to Shape Data via Write To Symbol action. To do this, copy the part inside the round brackets of the set Shape Data() function and paste it as an object value. Property: Shape Auto Clear If the Shape Auto Clear property is active and the Shape Type is changed while Shape Selection Active is true, the current shape is reset and a new shape of the selected shape type can be drawn. If Shape Auto Clear is not active and you switch between shape types of the same base control, the data is retained when the Shape Type is switched and the new shape is displayed directly. The point, line and polygon types belong to one group that use the same base control, while the square, rectangle, circle and ellipse types belong to the other. Appearance The appearance of the shape and the control points can be changed by adjusting the color and size/ thickness of the contour: • With Shape Stroke Thickness you can set the thickness of the lines in pixels. • With Shape Handle Size you can set the size of the displayed control points of the shape in pixels • With Shape Clickable Size the size of the clickable area of a control point can be set in pixels. This can simplify operation on touch panels without having to display the handles unnecessarily large. • Via Shape Stroke Color and Shape Handle Color the color of the lines and that of the control points can be set independently. Property: Shape Is Rotatable If Shape Is Rotatable is active, an additional handle is displayed for suitable shapes (line, rectangle, square, ellipse, polygon), with which the shape can be rotated. Using the Shape Angle Interval property, the step size in which the rotation of the shape can be changed can be set in degrees. With the default value 0°, the shape can be rotated as desired. For example, if the shape may only be placed in 4 positions, you would enter 90° as the value. 2700 Version: 2.4.0 TF7000 - TF7810
## Page 2701

Twin CAT HMI packages Property: Shape Limit To Image und Shape Is In Image Area It is often necessary for a shape to lie completely within the image, e.g. to be able to set a region of interest. If the Shape Limit To Image property is active, a shape can only be drawn and moved within the image. This restriction does not affect the programmatic setting of a shape, but only graphical interactions. It should also be noted that if Shape Is Rotatable and Shape Angle Interval are set, the shape can still be rotated without restriction. If Shape Limit To Image is not active, the positioning of the shape can be queried via the Shape Is In Image Area property. This only returns true if valid Shape Data is currently available and if all corner points of the shape lie within the image area. The corner points are also used to check the circle and ellipse shapes. To be able to differentiate between a shape that is not present and one that is not in the image, you should also check whether Shape Selection Active is set and Shape Data is valid. Property: Shape Data Update The Shape Data Update property can be used to specify when the Shape Data property should be updated. If on Changed is selected, Shape Data is continuously updated during a graphical interaction. If, on the other hand, on Confirmed is chosen, Shape Data is only updated at the end of an interaction. Properties: Shape Polygon Num Points und Shape Polygon Closed If the Shape Type property is set to Polygon, the number of points from which a polygon is considered complete can be defined via the Shape Polygon Num Points property. For example, if three points are specified, the polygon is automatically completed when the third point is drawn. If the default value 0 is used, the number of points is arbitrary. The polygon is then only completed when you click on the first point. The Shape Polygon Closed property can also be used to specify whether the first and last points of the polygon should be connected, i.e. whether the polygon should be displayed closed or not. Function: clear Shape() The drawn shape can be deleted programmatically by calling the clear Shape function. Display element To support the use case of measuring distances or areas within the image, the Infobar [} 2696] provides an element for displaying text that represents the currently drawn shape. By default, the coordinate is displayed for the "Point" shape type, the line length for "Line", the number of points for "Polygon" and the area for the "Square", "Rectangle", "Circle" and "Ellipse" shape types. If further or other information is to be displayed, this can be implemented using a separate Shape Value Formatting function [} 2696]. Query the shape types and data values Depending on the selected shape type, the data in Shape Data can have different formats. To determine which format is present, the current Shape Type can be queried or it can be determined from the data values, e.g. whether the f Angle property is defined. If this is the case, a Tc Vn Rotated Rectangle type is present, otherwise an array of points. To query how many points are contained in the array, the length can be queried. The number can then be used to determine whether there is a point, a line or a polygon with what number of points. Furthermore, it is possible to check whether valid data are available by querying the individual values. When deleting or resetting the shape data, the individual values are written with 0, which represents an invalid value. These queries can be used to ensure that the various shape types are each written to a designated PLC variable of the same type and that only valid data can be transferred to the control program. TF7000 - TF7810 Version: 2.4.0 2701
## Page 2702

Twin CAT HMI packages Events: on Shape Changed und on Shape Confirmed Both the on Shape Changed and on Shape Confirmed events are available to inform you of a change in shape. The on Shape Changed event is triggered as soon as Shape Data changes. A change can occur when Shape Data is set programmatically, when the clear Shape() function is called and during graphical interactions. This event is used to track the change of Shape Data live, provided that Shape Data Update is set to the on Changed value. The on Shape Confirmed event is triggered when the shape is set programmatically or after a graphic interaction with the shape has been completed. This event is triggered on the condition that Shape Data is valid. Advanced use of shapes The Shape functionality is implemented via separate controls that are integrated into the Image Watch control. These shape controls have some properties that are not directly available from the Image Watch control. This includes, for example, the exact aspect ratio of a rectangle. These properties can be accessed either programmatically or by using the shape controls separately. 7.2.1.7 Thumbnail The attributes and functions explained on this page can be found in the category Thumbnail. The thumbnail indicates which section of the image is visible in the control. It is closely related to the View of the image (see read-only property View in the View category), but differs in some respects. Whether the thumbnail is visible is determined by the Thumbnail Visbile property. Its general position and size is determined by the properties Thumbnail Position and Thumbnail Size and is always square. If the aspect ratio of the image is not 1:1, the thumbnail size is the full width of the image, while the height is adjusted to the aspect ratio. When the entire image frame is covered with the image, the thumbnail display is virtually identical to the read-only property View. Otherwise, it differs in that areas outside the image are included in the View but not in the thumbnail. 2702 Version: 2.4.0 TF7000 - TF7810
## Page 2703

Twin CAT HMI packages 7.2.1.8 Overlays The attributes and functions explained on this page can be found in the category Overlay. Overlays can be used to help set up the camera or position objects within the image, for example. Predefined geometric shapes The control provides predefined geometric objects (such as circles, rectangles, crosses, frames) that can be displayed in the center of the image. These shapes can serve, for example, as crosshairs or for frames and marks at certain positions in the image. Several objects can also be displayed at the same time (e.g. a circle and a crosshair cursor). This is done using the array property Overlay Elements. The configuration of an object looks like this: The objects are always centered in the image. They have a fixed scale defined by size and do not scale with the image. Overlay image If this functionality is not flexible enough for a particular application, you can specify an overlay image using the Overlay Source property. This is displayed in exactly the same place and size as the main image, i.e. the overlay image is stretched/squeezed to fit the main image. We therefore recommend that the overlay image has at least the same aspect ratio and preferably the same size as the main image and is transparent except for relevant parts. As an example, you could draw a user-defined crosshair cursor with additional accessories on a transparent image and use it as an overlay. To create a transparent image, a 4-channel image must be created with the color value 0 at the fourth channel of the background color. The cursor lines to be drawn in then get the color value 255 at the fourth channel, so that these elements overlay the background image. View For example, an overlay image with a rectangle and a text might produce the following result: TF7000 - TF7810 Version: 2.4.0 2703
## Page 2704

Twin CAT HMI packages In the following example, an overlay image from the PLC (green lines) was combined with two objects defined in the control: Please note that the PNG or BMP image format must be used when transmitting transparent images with the "Twin CAT. HMI. Vision" server extension, as JPEG and Stream do not support transparent image content with an alpha channel. 7.2.1.9 Information The attributes and functions explained on this page can be found in the category Info. You can use the following attributes to query information about the displayed image or specific pixels in that image. Image Size Original size of the displayed image. This corresponds to the image size in the PLC. Image Display Size Displayed size of the image in pixels. Pixel Color Color of a specific selected pixel (see below for details). The color is provided as an array of four elements representing the color channels [R, G, B, A]. Pixel Position Position of a specific selected pixel (see below for details). The position is specified as an array with two elements [X, Y] in original image coordinates, not in display coordinates. The Pixel Color and Pixel Position are calculated for a specific pixel. The selection of this pixel is done by a click, a touch or by the position of the cursor on the displayed image. 2704 Version: 2.4.0 TF7000 - TF7810
## Page 2705

Twin CAT HMI packages The property Pixel Info Update determines whether the calculation is performed at all or by which event it is triggered. Never Pixel Color and Pixel Position are not updated at all. At Click Pixel Color and Pixel Position are updated when the user clicks or touches a specific pixel. The values are reset when the user clicks or touches a point on the image frame outside the current image. At Cursor Pixel Color and Pixel Position are continuously updated as the user moves the mouse pointer over the image. The values are reset when the mouse pointer is not on the image. Each time the pixel color and position are updated, the event on Pixel Info is triggered. Display The current Pixel Color, Pixel Position and Image Size information can be displayed in the infobar (see property Infobar Items in the Infobar category). 7.2.1.10 History The attributes and functions explained on this page can be found in the History category. The Image Watch control offers the option of temporarily saving a defined number of received images. In order to use the history functions and to be able to choose and display these images, the Image Freeze property must be activated as a prerequisite. Property: Queue Size The Queue Size property fixes how many of the most recently received images are to be saved and, accordingly, how large the history queue is. The image history function can be deactivated at 0. If the queue is full and another image is received, the oldest image is deleted according to the FIFO principle (First In First Out). To access the history, Image Freeze must be activated. You can then use Queue Index to determine which image should be displayed. The 0 entry always corresponds to the latest image that is at the top of the queue and was received last. Property: Image Timestamp (read only) The timestamp of the currently selected history image can be read out in millisecond format via the Image Timestamp property. To process this further, e.g. for display, the Java Script Date class can be used, as the following example shows: new Date(/**Timestamp Symbol**/).to Locale String() // output: "4/8/2025, 1:45:13 PM" Function: clear History The clear History function deletes the entire history queue. TF7000 - TF7810 Version: 2.4.0 2705
## Page 2706

Twin CAT HMI packages Temporary data storage The image data in the history queue is stored temporarily and deleted when the respective Image Watch- Control instance is released. This happens, for example, when leaving a page or when changing content. Performance When configuring Queue Size, particular attention should be paid to the image size. This depends on the image resolution, the number of channels and the transmission format. The converted image size can be taken from the statistics in the server extension [} 2673]. With the BMP transfer format, the image data is uncompressed, which results in a larger amount of data. In connection with a larger Queue Size, this can lead to "Out Of Memory Exceptions" from the browser. We therefore recommend that you do not select Queue Size too large and that you use the compressed JPEG or PNG transfer formats. 7.2.1.11 Statistics The attributes and functions explained on this page can be found in the Statistic category. Image Watch Control offers the option of recording statistical data on the duration of image rendering. To obtain further statistics on the image size and image transmission via ADS, the statistics of the Tc Hmi Vision [} 2673] human-machine interface extension can be read out. Property: Number Of Image Transmissions To analyze how long the browser takes to process received images, the Number Of Image Transmissions property can be used to specify how many of the most recently received images should be included in the statistics. The statistics functionality can be deactivated at 0. Property: Image Render Time (read only) The average time it took to render the image in the browser can be read out in milliseconds via Image Render Time. Function: reset Statistic The reset Statistic function resets the statistics. 7.2.2 Color The Color Control Tc Hmi Vn Color displays colors and makes them adjustable if necessary. It contains various display elements to represent the color values, which, depending on the configuration, can also be used to set the color values. An overview of the components and the set-up can be found in the Display elements [} 2709] subchapter. The description of each configuration option can be found under the following categories on this page. For each category there are sub-chapters with further information, details and application examples. 2706 Version: 2.4.0 TF7000 - TF7810
## Page 2707

Twin CAT HMI packages For all the following attributes, the control has a getter and a setter method. For example, both the get Orientation and set Orientation methods exist for the Orientation attribute. The use of the attributes is explained in more detail in the linked subchapters. All further attributes, events and permissions provided by the Controls base class can be found in the Twin CAT HMI documentation. Category: Common The following attributes represent a data interface for the color value [} 2711] of the control. It is used on the one hand to set the displayed color of the control, and on the other hand to retrieve a color value entered by the user. Attribute Type Description Color Symbol Color Symbol [} 2730] HMI symbol containing the current color value. Color Channels Color Channels [} 2730] Defines the format of the color. This includes: • Number of channels • Min/max values of the channels • Integer or Float Display colors of the channels Box Color Conversion Function Function that converts the respective color value into a string that can be interpreted by the browser and vice versa. This is necessary to tell the control the meaning of each color channel if it differs from the default RGB format. Color Value Color Value [} 2730] Color value. This can be retrieved (readonly) without a symbol being linked as Color Symbol. The Color Value attribute always adapts to the data type of the mapped PLC variable. The default is a 4- channel array (Tc Vn Vector4_LREAL) which is also used without mapping. For more options, see Linking with PLC [} 2711]. Function Description set Color Value(color Value: Color Value Sets the color value. Can be called without a symbol being linked as Color Symbol. [} 2730]): void Category: Usage The following attributes specify the behavior of the control. TF7000 - TF7810 Version: 2.4.0 2707
## Page 2708

Twin CAT HMI packages Attribute Type Description Box Usage Usage Mode [} 2731] Determines whether the color box is displayed and whether it is editable. Values Usage Usage Mode [} 2731] Determines whether the individual color values are displayed and whether they are editable. Slider Usage Usage Mode [} 2731] Determines whether the individual color values are displayed as sliders and whether they are editable. Slider Value Update Data Update Specifies whether the color symbol should be updated during on Changed or at the end of on Confirmed of an interaction with the sliders. Category: Appearance The following attributes determine the appearance [} 2709] of the control. Attribute Type Description Orientation Orientation [} 2730] Orientation of the control; analogous to the orientation of the Linear Gauge controls. Horizontal or Vertical. Box Size Number (px) Determines the width or height of the color box depending on the orientation (value of Orientation). Labels Size Number (px) Determines the width or height of the displayed color names depending on the orientation (value of Orientation). Values Size Number (px) Determines the width or height of the displayed color values depending on the orientation (value of Orientation). Events All events are listed in the "Vision" category. Event Description .on Value Changed This event is triggered as soon as the Color Value attribute changes. Themed Resources The following attributes can be used to change the appearance of sub-controls (the text boxes for the color values and channel names) at the Themes settings. A detailed description of the individual attributes can be found in the standard HMI documentation. Attribute Type Text Font Family Font Family Text Font Size Measurement Value Text Font Size Unit Measurement Value Text Font Style Font Style Text Font Weight Font Weight Text Padding Padding 2708 Version: 2.4.0 TF7000 - TF7810
## Page 2709

Twin CAT HMI packages 7.2.2.1 Display elements Elements The following elements can be displayed in the color control. The corresponding usage attributes (Box Usage, Values Usage und Slider Usage) determine in each case whether the element is hidden (Hide) or displayed (View Only) and whether a user can change the color with the help of this element (Editable). Name Description Color Box This is a rectangular area where the current color is displayed. If the Box Usage property is set to "Editable", clicking on the Color Box opens a browser-specific dialog box for selecting the color. Depending on the browser, this may look like a separate window or an overlay, or it may show nothing. Since each browser controls the appearance and functionality of the dialog itself, we have no influence on it. For example, the color pipette takes a screenshot of the screen, so it doesn't work with changing images. Further information can be found in chapter Color boxes in different browsers [} 2710]. Color Labels This area includes the labels of the color channels. The number of value elements and their text color are taken from the Color Channels property. Color Values This area includes text fields for viewing and editing the color values stored in the control. The number of value elements and their text color are taken from the Color Channels property. Color Sliders This area includes linear sliders corresponding to Color Values. Arrangement The arrangement of the display elements depends on the Orientation attribute. "Horizontal" places the elements next to each other and "Vertical" places them on top of each other. Depending on the orientation, the Box Size and Values Size attributes define the width or height of the respective elements. The width or height of the slider automatically corresponds to the rest of the available space. NOTICE Small sizes If the control is very small in the selected orientation, it may not be possible to display all elements completely and correctly. This mainly affects the sliders. Above a certain size, a warning is displayed in the Java Script console that the size may affect the function of the control. TF7000 - TF7810 Version: 2.4.0 2709
## Page 2710

Twin CAT HMI packages Number The number of displayed color values and sliders always corresponds to the number of channels in the set color format [} 2713]. The color format is set by means of the Color Channels attribute. Text The text boxes for the color values can be customized via various font properties using Themed Resources in the theme editor. 7.2.2.1.1 Color boxes in different browsers If the Box Usage attribute is set to Editable, another selection dialog for the color can be opened by clicking on the color box. This dialog is browser dependent. Following are some dialogs of the most used browsers: Google™ Chrome and Microsoft Edge Pipette The pipette function in Chromium™-based browsers takes a screenshot of the browser window when the tool is selected. The selected color then comes from this screenshot. This means that when images change, the selected color will not be the one displayed at the time of the click. Therefore, it is recommended to stop the scrolling by means of the Image Freeze attribute before using the pipette function. 2710 Version: 2.4.0 TF7000 - TF7810
## Page 2711

Twin CAT HMI packages Mozilla Firefox 7.2.2.2 Color data The Color Symbol attribute can be bound to different symbols. To avoid inconsistencies between the output color value and the data type of the symbol, the Color Control reads the type of the symbol and tries to automatically derive the correct return type. For example, if three color channels are to be displayed, but an array of type Tc Vn Vector4_LREAL is linked in the PLC, these types do not match. The Color Control automatically recognizes this and writes an array with four values instead of three into the symbol, so that no error occurs. The rest of the channel is left empty. The read-only Color Value attribute is used to make the color programmatically accessible without binding a symbol to the Color Symbol property. Other than that, there is no difference. It is possible to use both versions at the same time. Please note that Color Value also outputs the data type of the symbol that is bound to Color Symbol. The Slider Value Update attribute is used to specify whether the color symbol should be updated during on Changed or at the end of an interaction on Confirmed with the sliders. In analogy to the Color Value property, the Set Color Value function provides a way to set the color values of this control without linking a symbol with the Color Symbol property. The two ways of accessing the color value are explained in the following samples: • Linking with PLC [} 2711] • Programmatic use [} 2712] The Conversion to HMI color object [} 2712] example shows how the color data can also be used for other use cases. 7.2.2.2.1 Linking with PLC In the simplest case, the Color Control can be used to represent a color variable from the PLC. For this purpose, for example, a PLC variable of type Tc Vn Vector4_LREAL is linked to the Color Symbol attribute. In addition, all Vector3 and Vector4 data types as well as INT, DINT, SINT, UINT, USINT and LREAL are supported. TF7000 - TF7810 Version: 2.4.0 2711
## Page 2712

Twin CAT HMI packages Now PLC variable and the control are synchronized with each other: The fourth element of the PLC array is ignored, because by default only three channels are displayed as RGB in the control. This can be set via the color format [} 2713]. 7.2.2.2.2 Programmatic use If the color value of the Color Control is not to be linked directly to a symbol, it can be accessed programmatically instead. To set a color in the control, use the set Color Value function, either via Java Script code or via the Actions and conditions dialog: Tc Hmi. Controls.get("Background").set Color Value([0, 0, 255]) To query the color of the control, use the Read Only Color Value attribute: In Java Script, the attribute must be retrieved using the get Color Value function: const color = Tc Hmi. Controls.get("Background").get Color Value() 7.2.2.2.3 Conversion to HMI color object In order to use a color in the Twin CAT HMI, e.g. as a background or for other properties such as text or frames, it must be converted into an object of type Tc Hmi. Color. The following example shows how such a function is created and which interfaces it must have. The general use of functions is explained in the HMI documentation. After creating the Type Script function, a parameter must be created. This gets the color value e.g. from the Pixel Color property of the Image Control or the Color Value from the Color Control and must therefore be created of the type Array. It should be noted that the parameter passed may differ from the value of the corresponding control properties at the time of function execution for timing reasons. The function must return a value of type Color, which can then be used for other properties in the HMI. 2712 Version: 2.4.0 TF7000 - TF7810
## Page 2713

Twin CAT HMI packages The following code sample shows the conversion of an RGB color value: namespace Tc Hmi { export namespace Functions { export namespace Tc Hmi Project { export function Stringify Color(color: any){ if (color.length >= 3){ return { color: `rgb(${color[0]}, ${color[1]}, ${color[2]})` }; } throw new Error("Could not stringify color."); } } } } Tc Hmi. Functions.register Function Ex('Stringify Color', 'Tc Hmi. Functions. Tc Hmi Project', Tc Hmi. Functions. Tc Hmi Project. Stringify Color); To be accepted as a color object, the return value must be of type Color and must be structured as follows: { color: 'rgb(<red>, <green>, <blue>)' } Such a function can be used, for example, by converting the color value of a Tc Hmi Vn Color control with the function and then setting it as the background color of another UI element. 7.2.2.3 Color format There are many different ways to represent a color. The most common formats such as Mono (1 channel grayscale value), RGB color space (3 channels color value), HSV / HLS color space (3 channels color value) are described in more detail below. However, the control offers many configuration options so that special color formats can also be set and used. Setting the color format To adapt the control to any color format, the general conditions can be set in detail: • Number of channels (objects) • Display color of each channel. This is used as the color of the respective slider and the displayed color value. • Data type (float or integer) of each channel • Label of each channel • Maximum value of each channel TF7000 - TF7810 Version: 2.4.0 2713
## Page 2714

Twin CAT HMI packages If the label attributes of all color channels are empty, the color designations are hidden and the other elements move closer together. The adjustments can be made via the dialog of the Color Channels attribute. The RGB format is preset as default. For example, to set a Mono 8 format, two of the three existing channels (Object) must first be deleted. After that, the color representation can be adjusted to an average grayscale value like 128 in the R, G and B channels. Configuration examples are available for the following color formats: • RGB(a) (standard) [} 2715] • HSV / HLS (value adjustments) [} 2716] • Percent RGB (custom format) [} 2717] Color box conversion This section is only relevant if the color box is used and the color does not correspond to the standard RGB format. For the display of the color value by means of numbers and sliders no deeper knowledge about the color format is needed, because it is only the display of numerical values. However, in order to display the color in the color box, it must be defined how the individual color channels and their values are to be interpreted. For example, RGB values must be displayed differently than HSV values. 2714 Version: 2.4.0 TF7000 - TF7810
## Page 2715

Twin CAT HMI packages Since the browser-specific color input elements process RGB colors by default, all other color formats must first be converted to RGB to enable display in the color box. This conversion is to be set via the Box Color Conversion attribute. Conversion functions already exist for the formats Gray, RGBa, HSV, HSV FULL, HLS, HLS FULL, Luv, YUV and YCr Cb, as well as for 8- and 16-bit data types. General color converter In addition to this special conversion function for the color box, a general color converter with the same set of color formats for general use in the HMI is also available as Convert Color [} 2727]. For completely different color formats or color formats with different scaling, user-defined functions [} 2717] can be created. 7.2.2.3.1 Standard RGB(a) colour format By default, three channels are defined, all of which are configured as integers with a maximum value of 255 and whose display colors correspond to the RGB colour format. The values of the Color Channels attribute can be written by script as follows: [ { "color": { "color": "rgba(255, 0, 0, 1)" }, "float": false, "label": "R", "max Value": 255.0 }, { "color": { "color": "rgba(0, 255, 0, 1)" }, "float": false, "label": "G", "max Value": 255.0 }, { "color": { "color": "rgba(0, 0, 255, 1)" }, "float": false, "label": "B", "max Value": 255.0 } ] TF7000 - TF7810 Version: 2.4.0 2715
## Page 2716

Twin CAT HMI packages The Box Color Conversion attribute is set to the supplied Box Color Converter function and this is configured with the format “RGB” and the pixel type “8-bit (USINT)”. RGBa color format To be able to display transparent colors, an additional color channel must be added in the Color Channels attribute. It is advisable to configure this with the display color "rgba(128, 128, 128, 1)". As the Box Color Converter already has a conversion to RGBa, this must then be selected as the color format. 7.2.2.3.2 HSV/ HLS (FULL) color format If a color is to be displayed in HSV format with the Color Control, some adjustments are necessary. The value range of the "Hue" channel is only defined from 0 to 180, therefore the max Value of the first channel must be reduced to 180. The other two channels are scaled from 0 to 255. Since the individual channels of the HSV format cannot be assigned to specific colors, the colors for displaying the sliders and numerical values, for example, should be set to a uniform grayscale value so that no confusion arises. The same settings and value ranges can be used for the HLS color space, since only the calculation of the L and S channels differs. When using the "HSV FULL" and "HLS FULL" color formats, all color channels are defined from 0 to 255. The values of the Color Channels attribute can be written by script as follows: [ { "color": { "color": "rgba(90, 90, 90, 1)" }, "float": false, "label": "H", "max Value": 180.0 }, { 2716 Version: 2.4.0 TF7000 - TF7810
## Page 2717

Twin CAT HMI packages "color": { "color": "rgba(90, 90, 90, 1)" }, "float": false, "label": "S", "max Value": 255.0 }, { "color": { "color": "rgba(90, 90, 90, 1)" }, "float": false, "label": "V", "max Value": 255.0 } ] Finally, the conversion for the color box in the Box Color Conversion attribute must be adjusted. To do this, the corresponding color format must be selected in the Box Color Converter function: 7.2.2.3.3 User-defined color format As another example of the Color Control configuration, an RGB color format with a value range between 0 and 1 is considered. To display this in the Color Control, the channels must be set in the Color Channel attribute as float and with a max Value of 1. The values of the Color Channels attribute can be written by script as follows: [ { "color": { "color": "rgba(255, 0, 0, 1)" }, "float": true, "label": "R", "max Value": 1.0 }, { "color": { "color": "rgba(0, 255, 0, 1)" }, "float": true, "label": "G" "max Value": 1.0 }, { "color": { "color": "rgba(0, 0, 255, 1)" }, TF7000 - TF7810 Version: 2.4.0 2717
## Page 2718

Twin CAT HMI packages "float": true, "label": "B", "max Value": 1.0 } ] Color Box Formatting function In order for the color box to display the correct color despite the changed value range, the Box Color Conversion attribute must be adjusted. Unlike the standard conversions, there is no ready- made function for this. Instead, the creation of a separate function is necessary. The following sample shows how such a function is created for the use case mentioned above and which interfaces it must have. The general use of functions is explained in the HMI documentation. After creating the Type Script function, the Wait Mode must be changed to Asynchronous. As a result, the parameter "ctx" is created, which is required for the return. Two parameters must then be created. The first one gets the color value to be converted and therefore must be created of type Tc Hmi. Controls. Beckhoff. Vision. Vector4. The second parameter specifies the conversion direction and must be created as Boolean. With True the values are converted to RGB and with False from RGB back to the user-defined color format. It should be noted that these passed parameters may differ from the values of the corresponding control properties at the time of function execution for timing reasons. The function must return a value of type Tc Hmi. Controls. Beckhoff. Vision. Tc Hmi Vn Color. Color Value, which is then displayed in the color box. In the following code sample, the scaling of the color values is adjusted. If the parameter is reverse = false, the color values are transferred from the control to the function in the user-defined format. The color format must then be converted to RGB(a) in order to be displayed in the Color Box. The color values transferred in the "color" parameter are always 4-channel. If no transparent color is to be displayed in the Color Box, the returned color values must be 3-channel. Alternatively, the fourth channel can also be set to 255. If the parameter is reverse = true, color values from the color selection dialog are transferred to the function in RGBa format. The color format must then be converted to the user-defined color format. The fourth channel is taken from the color values of the control because the color selection dialog does not support transparency. namespace Tc Hmi { export namespace Functions { export namespace Tc Hmi Project { export function Convert RGB(ctx: any, color: any, reverse: any) { // Important: color has 4 channels. If the Color Box should be RGB, return a 3 channel color or set the fourth channel (a) to 255 2718 Version: 2.4.0 TF7000 - TF7810
## Page 2719

Twin CAT HMI packages if (!reverse) { ctx.success(color.slice(0, 3).map((value: number) => value * 255)); } else { ctx.success(color.slice(0, 3).map((value: number) => value / 255)); } } } } } Tc Hmi. Functions.register Function Ex('Convert RGB', 'Tc Hmi. Functions. Tc Hmi Project', Tc Hmi. Functions. Tc Hmi Project. Convert RGB); This ensures that the color box displays the correct color and that manually changing the color in the color box results in correct color values. 7.2.3 History The Tc Hmi Vn History history control controls the history functionality of an Image Watch [} 2679] control via a toolbar and provides a graphical list (Image List) of the history images. The description of each configuration option can be found under the following categories on this page. For each category there are sub-chapters with further information. This control can only be used in connection with an Image Watch control and only provides the display and operation of the history functionality. The data and the associated configuration [} 2705] can be found in Image Watch Control. For all the following attributes, the control has a getter and a setter method. For example, both the get Bar Color(): Solid Color and set Bar Color(value: Solid Color): void methods exist for the Bar Color attribute. The use of the attributes is explained in more detail in the linked subchapters. All further attributes, events and permissions provided by the Controls base class can be found in the Twin CAT HMI documentation. Category: Colors Attribute Type Description Bar Color Solid Color Color of the toolbar (see Categories Toolbar). TF7000 - TF7810 Version: 2.4.0 2719
## Page 2720

Twin CAT HMI packages Category: Common The following attribute is used to specify the link to the Image Watch control. Attribute Type Description Image Watch Control Tc Hmi Vn Image Link to the Image Watch Control instance that is to be controlled. Category: Toolbar The following attributes can be used to customize the Toolbar [} 2720] of the control. Attribute Type Description Toolbar Visible Boolean Toolbar display. Queue Index Visible Boolean Input value of the index for the choice or display of the specified history image when Image Freeze is activated. 0 corresponds to the last image received. Navigation Buttons Visible Boolean Buttons to go forward or back one image entry in the image history when Image Freeze is activated. Navigation End Buttons Visibl Boolean Buttons to jump to the first or last e image received in the history when Image Freeze is activated. Freeze Button Visible Boolean Button to pause the image update of the linked Image Watch. The history functionality can only be used if Image Freeze is activated. Download Button Visible Boolean Button to trigger a browser-specific download of the currently displayed image in original size, see Image download [} 2689]. Toolbar Height Number (px) Height of the toolbar. Queue Index Width Number (px) Width of the Queue Index input field and the total number of entries. Category: List The following attributes can be used to customize the image list [} 2721] of the control. Attribute Type Description Image List Visible Boolean Display of the image list. List Font Family Font Family Font of the Image List. List Font Size Measurement Value Font size of the Image List. List Font Style Font Style Font Style of the Image List. List Font Weight Font Weight Font Weight of the Image List. 7.2.3.1 Toolbar The attributes and functions explained on this page can be found in the Toolbar category. The controls in the toolbar can be used to interactively perform various actions that are otherwise only accessible via the attributes. Each element can be shown or hidden. In addition, the entire toolbar can be adjusted in height or completely hidden. 2720 Version: 2.4.0 TF7000 - TF7810
## Page 2721

Twin CAT HMI packages The positioning of the elements in the toolbar is fixed and cannot be customized. If such adjustments are nevertheless necessary, you can hide the corresponding elements, implement them yourself with your own controls and place them on the History Control toolbar. The available toolbar elements from left to right are: Queue Index Input value of the index for the choice or display of the specified history image when Image Freeze is activated. 0 corresponds to the last image received. Navigation Buttons Buttons to go forward or back one image entry in the image history when Image Freeze is activated. Navigation End Butt Buttons to jump to the first or last image received in the history when Image Freeze is ons activated. Freeze Button Button to pause the image update of the linked Image Watch. The history functionality can only be used if Image Freeze is activated. Download Button Button to trigger a browser-specific download of the currently displayed image in original size, see Image download [} 2689]. Functions also programmatically accessible Any action that is accessible through the interface elements of the toolbar is also accessible programmatically through the properties of the control. Size settings The toolbar offers customization options for its own height via the Toolbar Height property and for the width of the input field of the index via Queue Index Width. If the image list is hidden, the toolbar always has the same height as the control. The width of all buttons is automatically adjusted to the height of the toolbar so that they are square. Internally, the Toolbar Height property is limited to a maximum of 150 pixels. Background color The background color of the toolbar is a semi-transparent white "rgba(255, 255, 255, 0.5)" by default or R: 255, G: 255, B: 255, A: 127 and can be customized using the Bar Color property in the Colors category. 7.2.3.2 Image list The attributes and functions explained on this page can be found in the List category. TF7000 - TF7810 Version: 2.4.0 2721
## Page 2722

Twin CAT HMI packages Property: Image List Visible The Image List Visible property can be used to hide and show the image list. If the list is hidden, the toolbar takes up the entire area of the control. As the control is initialized in portrait format, the height should be adjusted for this case. Image list The image list shows an entry for all temporarily saved history images if Image Freeze of the linked Image Watch control is activated. The index number and timestamp are displayed in the list for each image. The timestamp is from the time at which the corresponding image was received by the Image Watch control. As a prerequisite, the Queue Size of the Image Watch control must be greater than 0. In the following cases, an alternative text is displayed instead of the image list: • If no Image Watch control is linked: "Link an Image Watch control to use the image history" • If Image Freeze is not active: "Activate freeze to show the image history" • If the history queue is empty: "The image history queue is empty" The topmost list entry always represents the current, most recently received image. An image can be chosen by clicking on an entry. The image selected in the list is highlighted and displayed in the linked Image Watch control. Performance When Image Freeze of the Image Watch control is activated for the first time, the image list of the History control is created. For larger Queue Size values and depending on the system performance, this may require more time. Each time Image Freeze is activated, only the list entries are updated, provided the number of entries remains the same, which is much faster. We therefore recommend that you do not select Queue Size too large. Properties for customizing the font The List Font Family, List Font Size, List Font Style and List Font Weight properties are available to customize the list stylistically. 2722 Version: 2.4.0 TF7000 - TF7810
## Page 2723

Twin CAT HMI packages 7.2.4 Rectangle (Interactive) The Rectangle (Interactive) Tc Hmi Vn Rectangle Control provides an environment to display or draw a rectangle by clicks. Mainly, the control is used within the Image Watch [} 2679] control; however, it can also be used stand-alone. Thus, for example, image regions can be selected to mark objects or define ROIs. In addition to a rectangle, you can also draw squares, circles or ellipses. To do this, the Stroke Shape and Aspect Ratio attributes must be adjusted accordingly. For all the following attributes, the control has a getter and a setter method. All further attributes, events and permissions provided by the Controls base class can be found in the Twin CAT HMI documentation. Category: Colors Attribute Type Description Stroke Color Solid Color Color of the contours of the drawn rectangle. Handle Color Solid Color Color of the handles of the drawn rectangle. Category: Common Attribute Type Description Shape Data Tc Vn Rotated Rectangle Contains the description of the rectangle. Can be used both to retrieve a drawn rectangle and to set a specific rectangle. Aspect Ratio Number Specifies the aspect ratio that is enforced when drawing the rectangle. The 0 value does not force a specific aspect ratio. Function Description clear Deletes the drawn rectangle and description from the Shape Data attribute. TF7000 - TF7810 Version: 2.4.0 2723
## Page 2724

Twin CAT HMI packages Category: Usage Attribute Type Description Initial Selection Initial Selection Specifies whether the rectangle can be drawn with two clicks or with a sweeping motion, or using both options. Center Handle Boolean Displays an element in the center of the rectangle to move it. Corner Handles Boolean Displays elements at the corners of the rectangle to change its size. Edge Handles Boolean Displays elements on the edges of the rectangle to resize it. Rotation Handle Boolean Displays an element on the outside of the rectangle to rotate it. Shape Dragging Boolean Determines whether the rectangle can be moved at the edges. Angle Interval Number Specifies the steps in which the rectangle can be rotated. At 0, the rectangle can be rotated as desired. Boundary Boundary Defines an area in which the shape can be drawn and edited using the five properties X, Y, Width, Height and Is Active. The shape cannot leave this area. Is Shape In Boundary Boolean Indicates whether all corner points of the current shape are within the set Boundary. Data Update Data Update Specifies whether Shape Data should be updated during on Changed or at the end on Confirmed of a graphical interaction. Category: Appearance Attribute Type Description Stroke Thickness Measurement Value Line thickness of the rectangle. Handle Size Measurement Value Size of the elements to move and change the rectangle. Stroke Shape Stroke Shape Specifies whether a rectangle or an ellipse is painted. The description is identical for both. To get a square or a circle, the Aspect Ratio can be set to 1. Clickable Size Measurement Value Size of the clickable area around above elements to move and change the rectangle. This can simplify touch screen use without changing the appearance. Offset Vector2 Specifies the offset with which the shape is to be displayed. Scale Number Specifies the scaling in which the shape is to be displayed. The 1 value corresponds to 100%. 2724 Version: 2.4.0 TF7000 - TF7810
## Page 2725

Twin CAT HMI packages Events Event Description .on Shape Changed This event is triggered as soon as the Shape Data attribute changes. .on Shape Confirmed This event is triggered when a shape is set or an interaction with it is completed. 7.2.5 Polygon (Interactive) The Polygon (Interactive) Tc Hmi Vn Polygon Control provides an environment to display a polygon or draw it by clicks. The control is mainly used within the Image Watch [} 2679] control, but it can also be used stand- alone. In addition to a polygon, lines or individual points, for example, can also be displayed or drawn. To do this, the Num Points property must be set to 1 or 2 accordingly. For all the following attributes, the control has a getter and a setter method. All further attributes, events and permissions provided by the Controls base class can be found in the Twin CAT HMI documentation. Category: Colors Attribute Type Description Stroke Color Solid Color Color of the contours of the drawn polygon. Handle Color Solid Color Color of the handles of the drawn polygon. Category: Common Attribute Type Description Shape Data Polygon Data Contains the description of the polygon. Can be used both to retrieve a drawn polygon and to set a specific polygon. Num Points Number Specifies how many points the complete polygon should have. At 0, any number of points are possible. This specification is important to be able to handle the polygon as complete. Closed Boolean Indicates whether the polygon is closed or whether it is a polyline. Function Description clear Deletes the drawn polygon and description from the Shape Data attribute. TF7000 - TF7810 Version: 2.4.0 2725
## Page 2726

Twin CAT HMI packages Category: Usage Attribute Type Description Rotation Handle Boolean Displays an element on the outside of the polygon to rotate it. Shape Dragging Boolean Fixes whether the polygon can be moved along the lines. Angle Interval Number Specifies the steps in which the polygon can be rotated. At 0, the polygon can be rotated as desired. Boundary Boundary Defines an area in which the shape can be drawn and edited using the five properties X, Y, Width, Height and Is Active. The shape cannot leave this area. Is Shape In Boundary Boolean Indicates whether all corner points of the current shape are within the set Boundary. Data Update Data Update Specifies whether Shape Data should be updated during on Changed or at the end on Confirmed of a graphical interaction. Category: Appearance Attribute Type Description Stroke Thickness Measurement Value Line thickness of the polygon. Handle Size Measurement Value Size of the elements to move and change the polygon. Clickable Size Measurement Value Size of the clickable area around above elements to move and change the polygon. This can simplify touch screen use without changing the appearance. Offset Vector2 Specifies the offset with which the shape is to be displayed. Scale Number Specifies the scaling in which the shape is to be displayed. The 1 value corresponds to 100%. Events Event Description .on Shape Changed This event is triggered as soon as the Shape Data attribute changes. .on Shape Confirmed This event is triggered when a shape is set or an interaction with it is completed. 7.2.6 Help Functions The following help functions are used as default behavior by certain controls or to ensure interoperability with PLC data types. 2726 Version: 2.4.0 TF7000 - TF7810
## Page 2727

Twin CAT HMI packages Box Color Converter The function Box Color Converter is listed in the category Vision. It is used as the default value for the Box Color Conversion attribute of the Color Control [} 2706]. It converts between the RGB and the color format specified by the Format parameter. Parameter Data type Description ctx Selectable Required<Tc Hmi. C Is used internally in the HMI to ontext, 'success' | receive asynchronous returns. Can 'error'> | null be set to null when called up in Java Script. Color Vector4 The color value to be converted. Reverse Boolean Direction of the conversion: false: format to RGBa true: RGBa to format Format Color Space Format for conversion: Gray, RGB, HSV, HLS, RGBa, HSV FULL, HLS FULL, Lab, YUV, YCr Cb Pixel Type Element Type Scaling of the color values: 8-Bit (USINT), 16-Bit (UINT) As the function works asynchronously, it returns the converted color as a future value, i.e. as Promise<Color Value | null>. See Convert Color for handling Promise. Errors during conversion result in null being returned. Convert Color The function Convert Color is listed in the category Vision. It converts a color array between the formats Gray, RGB, RGBa, HSV, HSV FULL, and HLS, HLS FULL, Lab, YUV and YCr Cb. TF7000 - TF7810 Version: 2.4.0 2727
## Page 2728

Twin CAT HMI packages Parameter Data type Description ctx Selectable Required<Tc Hmi. C Is used internally in the HMI to ontext, 'success' | receive asynchronous returns. Can 'error'> | null be set to null when called up in Java Script. Color Vector4 The color value to be converted. Src Format Color Space Format of the incoming color value: Gray, RGB, HSV, HLS, RGBa, HSV FULL, HLS FULL, Lab, YUV, YCr Cb Dest Format Color Space Format to which is converted: Gray, RGB, HSV, HLS, RGBa, HSV FULL, HLS FULL, Lab, YUV, YCr Cb Precision Precision Specifies the number of decimal places to round to. Unrounded is not rounded. Src Pixel Type Element Type Scaling of the incoming color values: 8-Bit (USINT), 16-Bit (UINT) Dest Pixel Type Element Type Scaling of the converted color values: 8-Bit (USINT), 16-Bit (UINT) Errors during conversion result in zero being returned. As the function is asynchronous, it returns the converted color as a future value, i.e. as Promise<Color Value | null>. For example, to convert the color red in RGB format to HLS format, the following function call can be used: let rgb = [255, 0, 0]; let promise = Tc Hmi. Functions. Beckhoff. Vision. Convert Color(null, rgb, "RGB", "HLS", "2 Decimals", "8-Bit (USINT)", "8-Bit (USINT)"); promise.then(hls => console.log(hls.to String())); //console output //0,127.5,255 //console output with Dest Pixel Type "16-Bit (UINT)" //0,32640,65280 In order to be able to process the future Color Value, this can be waited for with await. Alternatively, as shown in this sample, the function then can be used to pass an anonymous function, e.g. hls => console.log(hls.to String()) . This receives the Color Value after the conversion has been completed. The Color Value is then output as string in the console. Pixel Color Formatter The function Pixel Color Formatter is listed in the category Formatting. It is the default value for the Pixel Color Format property of the Image Watch Control [} 2679]. It converts the Pixel Color value into a string that can be displayed via HTML. Specifically, the color values of the individual channels are appended to each other and also highlighted in color for certain color formats: 2728 Version: 2.4.0 TF7000 - TF7810
## Page 2729

Twin CAT HMI packages Parameter Data type Description ctx Selectable Required<Tc Hmi. C Is used internally in the HMI to ontext, 'success' | receive asynchronous returns. Can 'error'> | null be set to null when called up in Java Script. Pixel Color Vector4 The color value to be converted. Format Color Space Format for conversion: Gray, RGB, HSV, HLS, RGBa, HSV FULL, HLS FULL, Lab, YUV, YCr Cb Precision Precision Specifies the number of decimal places to round to. With "Unrounded" there is no rounding. Pixel Type Element Type Scaling of the color values: 8-Bit (USINT), 16-Bit (UINT) The function returns a String coded as HTML as Promise<string>. See Convert Color for handling Promise. Shape Value Formatter The Shape Value Formatter function is listed in the Formatting category. It is the default value for the Shape Value Format property of the Image Watch Control [} 2679]. It converts the Shape Value value into a string that can be displayed via HTML. For example, for a rectangle, the area is calculated in pixels and returned as a string: Parameter Data type Description Shape Data Any The shape data to be converted. Shape Type Shape Type [} 2731] Type of the shape passed. The function returns an HTML coded String. To Rotated Rectangle The To Rotated Rectangle function is listed in the Data Conversion category. It converts a Upright Rectangle to a Rotated Rectangle with angle 0. Parameter Data type Description rectangle Tc Vn Rectangle [} 2731] The rectangle to be converted. The function returns the converted rectangle as Tc Vn Rotated Rectangle [} 2731] and can be applied as follows: let upright = { n Width: 100, n Height: 60, n X: 200, n Y: 100, } let rotated = Tc Hmi. Functions. Beckhoff. Vision. To Rotated Rectangle(upright); console.log(rotated); //console output // { // a Center: [250, 130], // f Angle: 0, // st Size: { f Width: 100, f Height: 60 }, // } TF7000 - TF7810 Version: 2.4.0 2729
## Page 2730

Twin CAT HMI packages To Upright Rectangle The To Upright Rectangle function is listed in the Data Conversion category. It converts a Rotated Rectangle to a Upright Rectangle, discarding the angle. Parameter Data type Description rectangle Tc Vn Rotated Rectangle [} 2731] The rectangle to be converted. The function returns the converted rectangle as Tc Vn Rectangle [} 2731] and can be applied as follows: let rotated = { a Center: [250, 130], f Angle: 0, st Size: { f Width: 100, f Height: 60 }, } let upright = Tc Hmi. Functions. Beckhoff. Vision. To Upright Rectangle(rotated); console.log(upright); //console output // { // n Width: 100, // n Height: 60, // n X: 200, // n Y: 100, // } 7.2.7 Data types Color Channels Defines the channels of a color format. Is an array of objects that have the following attributes and each describe a color channel: Property Data type Description color Solid Color Display color of the channel. max Value Number Upper limit of the allowed value range. The lower limit is always 0. float Boolean Defines whether the channel is described by a float or by an integer. Used, for example, in Color Control [} 2713]. Color Symbol Defines a symbol with a Color Value compatible data type. Color Value Defines a value that can be interpreted as a color. Is either a number describing a grayscale value or a 3- or 4-element array describing a color with a corresponding number of channels. Valid values are for example: • 0 • 128 • [0, 0, 255] • [0, 0, 255, 255] Orientation Defines the orientation of a display element. Possible values are "Horizontal" and "Vertical". 2730 Version: 2.4.0 TF7000 - TF7810
## Page 2731

Twin CAT HMI packages Tc Vn Rotated Rectangle Represents a rectangle, which can be rotated. Is an object with the following properties: Property Data type Description a Center Tc Vn Point2_REAL Center of the rectangle . f Angle DINT Angle by which the rectangle is rotated. st Size Tc Vn Size2_REAL Size of the rectangle around the center point. Shape Type Defines the type of selectable shape in Image Watch Control [} 2679]. Is an enum with the following values: • Point • Line • Square • Rectangle • Circle • Ellipse • Polygon Tc Vn Rectangle Represents an axis-aligned rectangle and is an object with the following properties: Property Data type Description n Height DINT Height of the rectangle. n Width DINT Width of the rectangle. n X DINT X coordinate of the upper right corner. n Y DINT Y-coordinate of the upper right corner. Usage Mode Defines the display and editability of display elements. Possible values: Value Description Hidden The element is not displayed. View Only The element is displayed, but is not editable. Editable The element is displayed and editable. Mainly used in Color Control [} 2709]. TF7000 - TF7810 Version: 2.4.0 2731
## Page 2732

Samples and tools 8 Samples and tools In this chapter you will find samples for the application of many functions and function blocks in the PLC, as well as wizards and camera configuration. Before you start looking at the PLC samples, please have a look at First steps [} 28]. The samples are independent of each other. Each sample has a focus under which it is grouped below. Samples that focus on a function or a function block are listed based on the API structure. You will also find additional support tools: • Neural Network (ONNX) Compatibility Check Tool [} 2840] Download The samples can be obtained from a repository on Git Hub: https://github.com/Beckhoff/TF7xxx_Samples. There you have the option to clone the repository or download a ZIP file containing all samples. Sample images must be downloaded separately The Git Hub repository contains only the Twin CAT projects with the corresponding code. The image data "TF7xxx_Sample_Images.zip" must be downloaded separately from the Beckhoff website. The link and more information can also be found in the Readme file in the Git Hub repository. Project resources Each sample is provided in a separate folder, according to the outline order and with the name of the chapter headings. In it there is a Twin CAT project with the corresponding PLC code. The separate zip folder containing the sample images, for example, can be unzipped to the Images folder within the repository. The folder names as well as the structure in which the sample images are stored is identical to the project structure. Therefore, the assignment of the images is simply done via the path with the same folder name. Pay attention to short paths to the repository or to the Twin CAT projects, for example Due to the possible limitation of the path length in the operating system to 255 characters, problems may occur when executing Twin CAT projects if the folder paths are too long. Since the folder structure with the chapter headings is already quite long for the sake of comprehensibility, a short path should be selected for the complete repository or for individual Twin CAT projects, e.g. C: \TF7xxx_Samples\. 2732 Version: 2.4.0 TF7000 - TF7810
## Page 2733

Samples and tools Before you execute a project, please adjust the system configuration [} 32] according to your target system, with particular attention to configuration of the CPU cores, the router memory and the PLC cycle time. Furthermore, check the version of the Tc COM objects of camera or file source as well as the PLC library as described in the Version overview [} 16] and adjust the version if necessary. In the Git Hub repository you can find a Power Shell script (Set Tc COMModule Version.ps1) which adjusts the version in all projects of the PLC folder. To do this, run the script, e.g. via the Power Shell console, specifying the desired version as follows: PS C:\TF7xxx_Samples> .\Set Tc COMModule Version.ps1 4.0.4.8 If images or streams are needed, integrate them via the File Source Control [} 130] or the Record/Playback [} 104] tab of the camera object. 8.1 Function samples All of the following samples focus on a single function and are sorted in accordance with the Twin CAT Vision API reference. For each sample there are corresponding images that can be loaded to the PLC via the File Source. In addition, the respective sample descriptions show which function parameters have to be changed in order to see certain effects. The general steps for starting the function samples are: 1. Add the attached sample images in the file source control. When using your own images, pay attention to the expected image format, this may vary depending on the example. 2. Activate the configuration and switch Twin CAT and the PLC to Run mode. ð You can now see the images from the PLC via View > Other Windows > ADS Image Watch. - ip Image In Disp always show the input image and - ip Image Res Disp always show the result image (Both image names can of course be different for you, we have always named the variables the same in the examples so that they can be easily recognized and you can quickly find your way around in any project) - if required, other images show results of intermediate steps or further information. Details can be found in the respective sample description. In the sample descriptions you will also find the function parameters to be written in logged-in Run mode via Prepared value, followed by click on write values. The effects can then be seen again in the images displayed in Ads Image Watch. Samples • Basic Image Operations [} 2736] • Code Reading [} 2739] • Contour Analysis [} 2750] • Image Analysis [} 2759] • Image Color And Contrast Processing [} 2780] • Image Segmentation [} 2790] • Measurement [} 2793] Sample of writing your own functions If you repeatedly use certain sequences of Twin CAT Vision API functions for your application, it is a good idea to encapsulate them in a function. The following sample explains what you should observe when doing this: Sample: Self-written functions [} 2815] TF7000 - TF7810 Version: 2.4.0 2733
## Page 2734

Samples and tools 8.1.1 Basic Container Operations 8.1.1.1 Selections of container elements In this sample, container elements are filtered with the help of a user-defined condition. The function F_VN_Copy Container Elements Conditional_ITc Vn Container [} 735] is used for this, as the container elements are in turn containers. If the container elements are iterators, the F_VN_Copy Container Elements Conditional_ITc Vn Forward Iterator [} 736] function can also be used for this. Explanation If the elements of multidimensional containers are to be filtered, this can quickly result in a great deal of programming effort due to the access to the sub-elements. To counteract this, Twin CAT Vision provides a function precisely for this, which is used as follows, for example: A function block is created that implements the ITc Vn Custom Element Condition_ITc Vn Container interface. This interface possesses the Condition method, which accepts an element of the type ITc Vn Container. The filter condition that is to be applied to the element is defined in the implementation of this method. The function block with the filter condition is then transferred to the F_VN_Copy Container Elements Conditional_ITc Vn Container function in order to carry out the filtering of all elements of a container. In this sample the elements are filtered according to whether they possess more than five sub-elements. Application By way of example, the sub-containers of a container are filtered according to how many elements each of them possesses. Specifically, only those sub-containers that have more than five elements are to be accepted into a new container. The structure of the container can be varied by means of the a Container Structure array. The elements indicate how many sub-elements each sub-container has. If the number of sub-containers itself is likewise varied, the c Number Of Sub Containers constant must be matched to it. Program MAIN First of all a constant integer is defined in order to be able to simply vary the sub-containers to be filtered: VAR CONSTANT c Number Of Sub Containers : INT := 5; END_VAR Then all necessary variables are declared: VAR a Container Structure : ARRAY [0..(c Number Of Sub Containers-1)] OF INT := [2, 7, 3, 5, 12]; ip Helper : ITc Vn Container; ip Container Base : ITc Vn Container; ip Container Filtered : ITc Vn Container; fb Condition : FB_Condition More Than Five; n Selected Containers : ULINT; hr : HRESULT; i : INT; END_VAR 2734 Version: 2.4.0 TF7000 - TF7810
## Page 2735

Samples and tools a Container Structure Definition of the container structure. An array of the 5 length with the [2, 7, 3, 5, 12] initialization values means, for example, that a container with 5 sub-containers is to be created in the sample. The first sub-containers is to have 2 elements, the second sub-container 7 elements and so on. The length of the array is defined by the c Number Of Sub Containers constant. ip Helper Auxiliary interface pointer that is used to fill the ip Container main container with sub-containers. ip Container Base Container in which the sub-containers defined in a Number Of Element are created. fb Condition Function block that contains the filter condition. ip Container Filtered Container that, at the end, is to contain only the sub-containers from ip Container that fulfill the filter condition. n Selected Containers Integer that indicates how many sub-containers actually fulfill the filter condition. hr Status variable of the type HRESULT [} 144]. i Auxiliary variable In the program part, a container is created that is filled with the sub-containers defined above. The calling of F_VN_Reserve Container Memory [} 754] is optional and only serves to achieve a better performance. hr := F_VN_Create Container(ip Container Base, Container Type_Vector_Vector_REAL, 0, hr); hr := F_VN_Reserve Container Memory(ip Container Base, TO_ULINT(c Number Of Sub Containers), hr); FOR i:=0 TO (c Number Of Sub Containers-1) DO hr := F_VN_Create Container(ip Helper, Container Type_Vector_REAL, TO_ULINT(a Container Structure[i]), hr); hr := F_VN_Append To Container_ITc Vn Container(ip Helper, ip Container Base, hr); END_FOR The container that has just been created is then filtered. The function block with the self-written condition is specified as the filter condition. hr := F_VN_Copy Container Elements Conditional_ITc Vn Container( ip Src Container := ip Container Base, ip Dest Container := ip Container Filtered, ip Condition FB := fb Condition, hr); In order to comprehend the functionality of the function, the elements that fulfill the described condition are counted. The n Selected Containers variable now changes depending on the sub-containers and the filter condition. hr := F_VN_Get Number Of Elements(ip Container Filtered, n Selected Containers, hr); In this case the number indicates how many sub-containers have more than five sub-elements. Function block with filter condition The filter condition is transferred as a function block with a Condition method. So that a self-written function block can be transferred to the function, it must implement the ITc Vn Custom Element Condition_ITc Vn Container [} 254] interface: FUNCTION_BLOCK FB_Condition More Than Five IMPLEMENTS ITc Vn Custom Element Condition_ITc Vn Container The Condition method defines the filter condition. It is called individually for each sub-container. Depending on whether the return value is TRUE or FALSE, the respective sub-container is accepted into the new container or not. METHOD Condition : BOOL With each call of the method, the current sub-container is transferred as the input parameter: VAR_INPUT ip Element : ITc Vn Container; END_VAR In this case an element is to be accepted if it has more than five sub-elements. For this purpose the number of sub-elements is calculated and, depending on the result, the TRUE or FALSE value is returned. TF7000 - TF7810 Version: 2.4.0 2735
## Page 2736

Samples and tools hr := F_VN_Get Number Of Elements(ip Element, n Number Of Elements, hr); IF FAILED(hr) OR n Number Of Elements <= 5 THEN Condition := FALSE; ELSE Condition := TRUE; END_IF The required variables are declared as follows: VAR n Number Of Elements : ULINT; hr : HRESULT; END_VAR Both the function block itself and the Condition method must contain the {attribute 'c+ +_compatible'} compiler attribute. 8.1.2 Basic Image Operations 8.1.2.1 Fusing several images In this sample, five images are joined using the F_VN_Fuse Images Array [} 776] function. This functionality is particularly useful in conjunction with line scan cameras and seamless recording of continuous material flow. Explanation The F_VN_Fuse Images Array [} 776] function accepts an array of (up to ten) images and joins them in a new image. In the following sample program, initially 5 differently colored images with a height of 10px are created. The number can be changed with the variable n Images and the height with n Height. Be sure to vary this number in the range 1-10 only. The size of the result image is determined by specifying the image lines with the parameters n First Line and n Num Lines. This makes it possible to crop the first and last image. The function F_VN_Fuse Images [} 775] can also be used if only two images are to be joined. Program The following variables are declared: VAR hr : HRESULT; a Images : ARRAY[0..9] OF ITc Vn Image; ip Image Fused : ITc Vn Image; ip Image Fused Disp : ITc Vn Displayable Image; n Images : INT := 5; n Height : UDINT := 10; a Color : ARRAY[0..9] OF Tc Vn Vector4_LREAL := [[255,0,0], [200,50,0], [150,100,0], [100,150,0], [50,200,0], [0,250,0], [0,200,50], [0,150,100], [0,100,150], [0,50,200]]; i : INT; VAR hr Status variable of the type HRESULT [} 144]. a Images Array with several images that are to be joined together. ip Image Fused Result image in which several images from a Images are joined together. ip Image Fused Disp Displayable result image. n Images Number of images to be joined. a Color Ten different colors in order to be able to tell the images in a Images apart. i Auxiliary variable. In the program the images in the array a Images are first of all initialized and colored. In order to be able to visually tell the images apart, ten different colors from a Color are used. 2736 Version: 2.4.0 TF7000 - TF7810
## Page 2737

Samples and tools FOR i := 0 TO n Images-1 DO hr := F_VN_Create Image And Set Pixels(a Images[i], 100, n Height, ETc Vn Element Type. TCVN_ET_USINT, 3, a Color[i], hr); END_FOR After that a defined number n Images of images from a Images are joined vertically in the image ip Image Fused: hr := F_VN_Fuse Images Array(a Images, n Images, ip Image Fused, 0, n Images * n Height, hr); Finally, the image is displayed: hr := F_VN_Transform Into Displayable Image(ip Image Fused, ip Image Fused Disp, hr); Result n Images = 2: n Images = 5: n Images = 10: Similar samples Copy image areas [} 2737] 8.1.2.2 Copy image areas In this sample, two images are copied to another image using different methods: • Using the F_VN_Copy Image Region To Region [} 763] function, • Selecting a ROI and copying an image, and • Selecting a ROI and adding two images using the F_VN_Add Images [} 507] function. Explanation The methods shown below can be used to swap rectangular image areas between images. If required, this can also be done in a partially transparent manner with the aid of arithmetic image operations. The F_VN_Copy Image Region To Region [} 763] function takes two images and two image regions and copies the contents of one image region to the other. Both image regions have the same size and must be fully present in the image. The function is used in the sample to copy the red image to the mixed image. However, to copy the blue image, a programmed version with the same functionality is used. The advantage of this version is that instead of copying, it is also possible to mix the blue and the mixed image. In the sample, the position of the two copied images can be changed using the a Position Red and a Position Blue variables. The b Copy Blue parameter determines whether the blue image is copied or mixed. Variables hr : HRESULT; ip Image Merge : ITc Vn Image; TF7000 - TF7810 Version: 2.4.0 2737
## Page 2738

Samples and tools ip Image Red : ITc Vn Image; ip Image Blue : ITc Vn Image; ip Image Merge Disp : ITc Vn Displayable Image; a Black : Tc Vn Vector4_LREAL := [0, 0, 0]; a Red : Tc Vn Vector4_LREAL := [255, 0, 0]; a Blue : Tc Vn Vector4_LREAL := [0, 0, 255]; a Position Red : Tc Vn Point := [20, 20]; a Position Blue : Tc Vn Point := [480, 480]; b Copy Blue : BOOL := FALSE; Program // create images & set colors hr := F_VN_Create Image And Set Pixels(ip Image Merge, 1000, 1000, TCVN_ET_USINT, 3, a Black, hr); hr := F_VN_Create Image And Set Pixels(ip Image Red, 500, 500, TCVN_ET_USINT, 3, a Red, hr); hr := F_VN_Create Image And Set Pixels(ip Image Blue, 500, 500, TCVN_ET_USINT, 3, a Blue, hr); // Copy red image to selected region in merge-image hr := F_VN_Copy Image Region To Region( ip Src Image := ip Image Red, n XSrc := 0, n YSrc := 0, n Width := 500, n Height := 500, ip Dest Image := ip Image Merge, n XDest := TO_UDINT(a Position Red[0]), n YDest := TO_UDINT(a Position Red[1]), hr Prev := hr ); // Copy or mix blue image to selected region in merge-image hr := F_VN_Set Roi(TO_UDINT(a Position Blue[0]), TO_UDINT(a Position Blue[1]), 500, 500, ip Image Merge, hr); IF b Copy Blue THEN hr := F_VN_Copy Image(ip Image Blue, ip Image Merge, hr); ELSE hr := F_VN_Add Images(ip Image Blue, ip Image Merge, ip Image Merge, hr); END_IF hr := F_VN_Reset Roi(ip Image Merge, hr); hr := F_VN_Transform Into Displayable Image(ip Image Merge, ip Image Merge Disp, hr); Result The following are samples of the program results. In the images on the left and in the center, the blue square was added, in the image on the right it was copied. In addition, the target positions of the squares are different. Similar samples Fusing several images [} 2736] 2738 Version: 2.4.0 TF7000 - TF7810
## Page 2739

Samples and tools 8.1.3 Code Reading 8.1.3.1 EAN-13 Barcode Reading This sample illustrates the following • One EAN13 code is read per image using the function F_VN_Read Barcode Exp [} 832] • The execution time of the function is monitored via a watchdog [} 149]. Explanation • The functions F_VN_Read Barcode [} 830] / F_VN_Read Barcode Exp [} 832] can search and read barcodes of different types in the image. To speed up the processing time, the barcode type (e Barcode Type) can be specified. In this example, these are TCVN_BT_EAN13. In addition, the processing time can be monitored via a watchdog. The sample Blob Detection with watchdog monitoring [} 2759] provides more comprehensive information on the watchdog. • Compared to F_VN_Read Barcode [} 832], the function F_VN_Read Barcode Exp [} 830], which is used in this example, has the following features: ◦ in addition to the barcode type, the search direction (e Search Direction) can be specified: - TCVN_BSD_ANY first searches in horizontal direction and then in vertical direction - TCVN_BSD_HORIZONTAL only searches in horizontal direction - TCVN_BSD_VERTICAL only searches in vertical direction ◦ the code section in which the readout took place can be returned. Variables hr : HRESULT; ip Image In : ITc Vn Image; ip Image In Dsply : ITc Vn Displayable Image; ip Image Res : ITc Vn Image; ip Image Res Dsply : ITc Vn Displayable Image; // Barcode ip Code Decoded List : ITc Vn Container; ip Code Contour List : ITc Vn Container; s Code As String : STRING(255); e Barcode Search Direction : ETc Vn Barcode Search Direction := TCVN_BSD_ANY; e Barcode Type : ETc Vn Barcode Type := TCVN_BT_EAN13; // Watchdog hr WD : HRESULT; t Stop : DINT := 50000; t Rest : DINT; // Output s Text : STRING; // Color a Color Red : Tc Vn Vector4_LREAL := [255, 0, 0]; Code // Execute the Barcode Reading Function with EAN13 selected monitored by the Watchdog-Function // --------------------------------------------------------------- hr WD := F_VN_Start Rel Watchdog(t Stop, S_OK); hr := F_VN_Read Barcode Exp( ip Src Image := ip Image In, ip Decoded Data := ip Code Decoded List, ip Contours := ip Code Contour List, e Barcode Type := e Barcode Type, n Code Number := 1, e Search Direction := e Barcode Search Direction, hr Prev := hr); hr WD := F_VN_Stop Watchdog(hr WD, t Rest => t Rest); // Check if the function was executed successfully IF hr = S_OK THEN // Export Code into String TF7000 - TF7810 Version: 2.4.0 2739
## Page 2740

Samples and tools hr := F_VN_Export Sub Container_String(ip Code Decoded List, 0, s Code As String, 255, hr); // Write Code into Result Image hr := F_VN_Put Text Exp(s Code As String, ip Image Res, 50, 100, ETc Vn Font Type. TCVN_FT_HERSHEY_PLAIN, 5, a Color Red,3, TCVN_LT_4_CONNECTED, FALSE, hr); // Draw Code Contour into Result Image hr := F_VN_Draw Contours(ip Code Contour List, 0, ip Image Res, a Color Red, 3, hr); ELSE // Write HRESULT into Result Image s Text := CONCAT('Returncode ', DINT_TO_STRING(hr)); hr := F_VN_Put Text Exp(s Text, ip Image Res, 50, 100, ETc Vn Font Type. TCVN_FT_HERSHEY_PLAIN, 5, a Color Red,3, TCVN_LT_4_CONNECTED, FALSE, hr); END_IF // Write Code Reading proceeded time into Result Image s Text := CONCAT(CONCAT('Time: ', DINT_TO_STRING(t Stop - t Rest)), 'us'); hr := F_VN_Put Text Exp(s Text, ip Image Res, 50, 200, ETc Vn Font Type. TCVN_FT_HERSHEY_PLAIN, 5, a Color Red,3, TCVN_LT_4_CONNECTED, FALSE, hr); Results If TCVN_BSD_ANY is selected as the search direction, both horizontal and vertical EAN13 codes will be detected. When comparing the watchdog time, however, it becomes apparent that horizontal EAN13 codes (first image) are recognized much faster than vertical EAN13 codes (second image), since the code search initially takes place in horizontal direction. 2740 Version: 2.4.0 TF7000 - TF7810
## Page 2741

Samples and tools If the search direction is set to TCVN_BSD_VERTICAL, the vertical EAN13 code is recognized much faster (third image). However, in this case there is no search for horizontal codes. Similar samples • Data Matrix Code Reading [} 2742] • Pharma-Code Reading [} 2743] • QR-Code Reading [} 2745] TF7000 - TF7810 Version: 2.4.0 2741
## Page 2742

Samples and tools • Result evaluation during Code Reading [} 2747] 8.1.3.2 Data Matrix Code Reading This sample illustrates the following • For each image a Data Matrix Code is read using the function F_VN_Read Data Matrix Code Exp [} 838] • The execution time of the function is monitored via a watchdog [} 149]. Explanation The function F_VN_Read Data Matrix Code Exp [} 838] searches for Data Matrix Codes in the specified image and reads them. In contrast to the F_VN_Read Data Matrix Code [} 836] function, the number of codes to be searched for each image can be specified. In this sample, it is one code per image. In addition, the contour of the code that is found is returned. TCVN_CSS_ONLY_NOT_FLIPPED is selected as the search strategy, since the image is not mirrored. If there are areas in the image that look similar to codes, or if there is no code at all in the image, this can have a negative effect on the execution time. To prevent cycle time overruns, in this sample the function F_VN_Read Data Matrix Code Exp [} 838] is monitored with the aid of a watchdog [} 149] (see the sample on Blob Detection with watchdog monitoring [} 2759]). Variables hr : HRESULT; ip Image In : ITc Vn Image; ip Image In Disp : ITc Vn Displayable Image; ip Image Res : ITc Vn Image; ip Image Res Disp : ITc Vn Displayable Image; // Data Matrix Code ip Code Decoded List : ITc Vn Container; ip Code Contour List : ITc Vn Container; s Code As String : STRING(255); // Watchdog hr WD : HRESULT; t Stop : DINT := 20000; t Rest : DINT; // Output s Text : STRING; // Color a Color Red : Tc Vn Vector4_LREAL := [255, 0, 0]; Code // Execute the DMC Code Reading Function monitored by the Watchdog function // --------------------------------------------------------------- hr WD := F_VN_Start Rel Watchdog(t Stop, S_OK); hr := F_VN_Read Data Matrix Code Exp( ip Src Image := ip Image In, ip Decoded Data := ip Code Decoded List, ip Contours := ip Code Contour List, n Code Number := 1, e Search Strategy := TCVN_CSS_ONLY_NOT_FLIPPED, hr Prev := hr ); hr WD := F_VN_Stop Watchdog(hr WD, t Rest => t Rest); // Check if the function was executed successfully IF hr = S_OK THEN // Export Code into String hr := F_VN_Export Sub Container_String(ip Code Decoded List, 0, s Code As String, 255, hr); // Write Code into Result Image hr := F_VN_Put Text(s Code As String, ip Image Res, 25, 50, ETc Vn Font Type. TCVN_FT_HERSHEY_PLAIN, 2, a Color Red, hr); 2742 Version: 2.4.0 TF7000 - TF7810
## Page 2743

Samples and tools // Draw Code Contour into Result Image hr := F_VN_Draw Contours(ip Code Contour List, 0, ip Image Res, a Color Red, 3, hr); ELSE // Write HRESULT into Result Image s Text := CONCAT('Returncode ', DINT_TO_STRING(hr)); hr := F_VN_Put Label Exp(s Text, ip Image Res, 25, 50, 2, 2, ETc Vn Font Type. TCVN_FT_HERSHEY_PLAIN, a Color Red, a Color White, ETc Vn Line Type. TCVN_LT_8_CONNECTED, hr); END_IF // Write Code Reading proceeded time into Result Image s Text := CONCAT(CONCAT('Time: ', DINT_TO_STRING(t Stop - t Rest)), 'us'); hr := F_VN_Put Text(s Text, ip Image Res, 25, 80, ETc Vn Font Type. TCVN_FT_HERSHEY_PLAIN, 2, a Color Red, hr); Result Similar samples • EAN-13 Barcode Reading [} 2739] • Pharma-Code Reading [} 2743] • QR-Code Reading [} 2745] • Result evaluation during Code Reading [} 2747] 8.1.3.3 Pharma-Code Reading This sample illustrates the following • One pharma code is read per image using the function F_VN_Read Pharma Code Exp [} 843] • The execution time of the function is monitored via a watchdog [} 149]. TF7000 - TF7810 Version: 2.4.0 2743
## Page 2744

Samples and tools Explanation • The function F_VN_Read Pharma Code Exp [} 843] searches for pharma codes in the specified image and reads them. In contrast to the function F_VN_Read Pharma Code [} 841], the code position is also returned. • Code-like structures have a negative effect on the execution time. To prevent cycle time overruns, in the sample the function F_VN_Read Pharma Code Exp [} 843] is monitored via a watchdog [} 149]. The sample Blob Detection with watchdog monitoring [} 2759] explains how to use a watchdog [} 149]. Variables hr : HRESULT; ip Image In : ITc Vn Image; ip Image In Disp : ITc Vn Displayable Image; ip Image Res : ITc Vn Image; ip Image Res Disp : ITc Vn Displayable Image; // Pharma-Code ip Code Decoded List : ITc Vn Container; ip Code Contour List : ITc Vn Container; s Code As String : STRING(255); a Code Contour : ARRAY[0..3] OF Tc Vn Point2_DINT; // Watchdog hr WD : HRESULT; t Stop : DINT := 5000; t Rest : DINT; // Output s Text : STRING; // Color a Color Red : Tc Vn Vector4_LREAL := [255, 0, 0]; Code // Execute the Pharma-Code Reading Function monitored by the Watchdog-Function // --------------------------------------------------------------- hr WD := F_VN_Start Rel Watchdog(t Stop, S_OK); hr := F_VN_Read Pharma Code Exp( ip Src Image := ip Image In, ip Decoded Data := ip Code Decoded List, ip Contours := ip Code Contour List, n Code Number := 1, n Min Bar Number := 4, hr Prev := hr); hr WD := F_VN_Stop Watchdog(hr WD, t Rest => t Rest); // Check if the function was executed successfully IF hr = S_OK THEN // Export Code into String hr := F_VN_Export Sub Container_String(ip Code Decoded List, 0, s Code As String, 255, hr); // Write Code into Result Image s Text := CONCAT('Code: ', s Code As String); hr := F_VN_Put Text Exp(s Text, ip Image Res, 25, 50, ETc Vn Font Type. TCVN_FT_HERSHEY_PLAIN, 3, a Color Red, 2, TCVN_LT_4_CONNECTED, FALSE, hr); // Draw Code Contour into Result Image hr := F_VN_Draw Contours(ip Code Contour List, 0, ip Image Res, a Color Red, 3, hr); ELSE // Write HRESULT into Result Image s Text := CONCAT('Returncode ', DINT_TO_STRING(hr)); hr := F_VN_Put Text Exp(s Text, ip Image Res, 25, 50, ETc Vn Font Type. TCVN_FT_HERSHEY_PLAIN, 3, a Color Red,2, TCVN_LT_4_CONNECTED, FALSE, hr); END_IF // Write Code Reading proceeded time into Result Image s Text := CONCAT(CONCAT('Time: ', DINT_TO_STRING(t Stop - t Rest)), 'us'); hr := F_VN_Put Text Exp(s Text, ip Image Res, 25, 100, ETc Vn Font Type. TCVN_FT_HERSHEY_PLAIN, 3, a Color Red,2, TCVN_LT_4_CONNECTED, FALSE, hr); 2744 Version: 2.4.0 TF7000 - TF7810
## Page 2745

Samples and tools Result Similar samples • Data Matrix Code Reading [} 2742] • EAN-13 Barcode Reading [} 2739] • QR-Code Reading [} 2745] • Result evaluation during Code Reading [} 2747] 8.1.3.4 QR-Code Reading This sample illustrates the following • One QR code is read per image using the function F_VN_Read Barcode Exp [} 848] • The execution time of the function is monitored via a watchdog [} 149]. Explanation The function F_VN_Read Pharma Code Exp [} 848] searches for QR codes in the specified image and reads them. In contrast to the function F_VN_Read QRCode [} 846], the contour of the code that is found is also returned. If there are areas in the image that look similar to codes, or if there is no code at all in the image, this can have a negative effect on the execution time. To prevent cycle time overruns, in this sample the function F_VN_Read QRCode Exp [} 848] is monitored with the aid of a watchdog [} 149] (see the sample on Blob Detection with watchdog monitoring [} 2759]). TF7000 - TF7810 Version: 2.4.0 2745
## Page 2746

Samples and tools Variables hr : HRESULT; ip Image In : ITc Vn Image; ip Image In Disp : ITc Vn Displayable Image; ip Image Res : ITc Vn Image; ip Image Res Disp : ITc Vn Displayable Image; // QR Code ip Code Decoded List : ITc Vn Container; ip Code Contour List : ITc Vn Container; s Code As String : STRING(255); // Watchdog hr WD : HRESULT; t Stop : DINT := 20000; t Rest : DINT; // Output s Text : STRING; // Color a Color Red : Tc Vn Vector4_LREAL := [255, 0, 0]; Code // Execute the QR Code Reading Function monitored by the Watchdog-Function // --------------------------------------------------------------- hr WD := F_VN_Start Rel Watchdog(t Stop, S_OK); hr := F_VN_Read QRCode Exp( ip Src Image := ip Image In, ip Decoded Data := ip Code Decoded List, ip Contours := ip Code Contour List, n Code Number := 1, e Search Strategy := TCVN_CSS_ONLY_NOT_INVERTED + TCVN_CSS_ONLY_NOT_FLIPPED, hr Prev := hr ); hr WD := F_VN_Stop Watchdog(hr WD, t Rest => t Rest); // Check if the function was executed successfully IF hr = S_OK THEN // Export Code into String hr := F_VN_Export Sub Container_String(ip Code Decoded List, 0, s Code As String, 255, hr); // Write Code into Result Image hr := F_VN_Put Text Exp(s Code As String, ip Image Res, 50, 100, ETc Vn Font Type. TCVN_FT_HERSHEY_PLAIN, 5, a Color Red,3, TCVN_LT_4_CONNECTED, FALSE, hr); // Draw Code Contour into Result Image hr := F_VN_Draw Contours(ip Code Contour List, 0, ip Image Res, a Color Red, 3, hr); ELSE // Write HRESULT into Result Image s Text := CONCAT('Returncode ', DINT_TO_STRING(hr)); hr := F_VN_Put Text Exp(s Text, ip Image Res, 50, 100, ETc Vn Font Type. TCVN_FT_HERSHEY_PLAIN, 5, a Color Red,3, TCVN_LT_4_CONNECTED, FALSE, hr); END_IF // Write Code Reading proceeded time into Result Image s Text := CONCAT(CONCAT('Time: ', DINT_TO_STRING(t Stop - t Rest)), 'us'); hr := F_VN_Put Text Exp(s Text, ip Image Res, 50, 200, ETc Vn Font Type. TCVN_FT_HERSHEY_PLAIN, 5, a Color Red,3, TCVN_LT_4_CONNECTED, FALSE, hr); 2746 Version: 2.4.0 TF7000 - TF7810
## Page 2747

Samples and tools Result Similar samples • Data Matrix Code Reading [} 2742] • EAN-13 Barcode Reading [} 2739] • Pharma-Code Reading [} 2743] • Result evaluation during Code Reading [} 2747] 8.1.3.5 Result evaluation during Code Reading This sample illustrates the following • One EAN13 code is read per image using the function F_VN_Read Barcode [} 832] • The execution time of the function is monitored via a watchdog [} 149]. • Handling of different return codes of the function. Explanation • The function F_VN_Read Barcode [} 830] can search and read barcodes of different types in the image. Details of the use of the function can be found in the sample EAN-13 Barcode Reading [} 2739]. • The handling of the return code of the function is explained using a corresponding query. A distinction is made between the following cases: ◦ Successful execution of the function, code was found and decoded. ◦ Successful execution of the function, code is not present in the image or cannot be found / decoded. ◦ The function itself has no error and was aborted by the watchdog. ◦ Function has other error. You can find a detailed explanation of the return codes for Code Reading functions in the overview chapter Code Reading [} 820]. TF7000 - TF7810 Version: 2.4.0 2747
## Page 2748

Samples and tools Variables hr : HRESULT; // Images ip Image In : ITc Vn Image; ip Image In Disp : ITc Vn Displayable Image; ip Image Res : ITc Vn Image; ip Image Res Disp : ITc Vn Displayable Image; // Barcode ip Code Decoded List : ITc Vn Container; ip Code Contour List : ITc Vn Container; s Code As String : STRING(255); // Watchdog hr WD : HRESULT; t Stop : DINT := 50000; t Rest : DINT; // Color a Color Green : Tc Vn Vector4_LREAL := [0, 255, 0]; // Return code n Return Code : DWORD; s Return Code : STRING; s Result Text : STRING; Code // Execute the Barcode Reading Function with EAN13 selected monitored by the Watchdog-Function hr WD := F_VN_Start Rel Watchdog(t Stop, S_OK); hr := F_VN_Read Barcode( ip Src Image := ip Image In, ip Decoded Data := ip Code Decoded List, e Barcode Type := ETc Vn Barcode Type. TCVN_BT_EAN13, hr Prev := hr ); hr WD := F_VN_Stop Watchdog(hr WD, t Rest => t Rest); // Handle return-code IF hr = S_OK THEN // Prepare code result in string hr := F_VN_Export Sub Container_String(ip Code Decoded List, 0, s Code As String, 255, hr); s Result Text := CONCAT('Code: ', s Code As String); ELSE // Check for succeeded return codes or add specific error handling CASE hr OF S_FALSE: s Result Text := 'No code found...'; S_WATCHDOG_TIMEOUT: s Result Text := 'Cancelled by watchdog...'; ELSE // Extract error-code from HRESULT & react accordingly n Return Code := DINT_TO_DWORD(hr) AND 16#FFF; s Return Code := DWORD_TO_HEXSTR(n Return Code, 3, FALSE); s Result Text := CONCAT('Returncode ', s Return Code); END_CASE END_IF // Draw result image hr := F_VN_Put Text Exp(s Result Text, ip Image Res, 50, 100, ETc Vn Font Type. TCVN_FT_HERSHEY_PLAIN, 4, a Color Green, 3, TCVN_LT_4_CONNECTED, FALSE, S_OK); hr := F_VN_Transform Into Displayable Image(ip Image Res, ip Image Res Disp, hr); NOTICE Reserve hr Make sure not to use the variable hr between the call of the Code Reading function and the evaluation as a return value of another function. Results If a code is found as expected, is hr = S_OK and the result can be output. 2748 Version: 2.4.0 TF7000 - TF7810
## Page 2749

Samples and tools If the expected code cannot be found, the return code is S_FALSE. If execution is aborted by a watchdog [} 149], the code is 16#256. A corresponding message can be output. If the function is not executed correctly, the error code can be output. This does not occur in the sample and is only caused by incorrect use of Code Reading functions. Similar samples • Data Matrix Code Reading [} 2742] • EAN-13 Barcode Reading [} 2739] • Pharma-Code Reading [} 2743] • QR-Code Reading [} 2745] TF7000 - TF7810 Version: 2.4.0 2749
## Page 2750

Samples and tools 8.1.4 Contour analysis 8.1.4.1 Match Contours 1vs N (manual shapes) In this sample, contours are compared with reference contours using the function F_VN_Match Contours1vs N [} 967]. Where • the reference contours are idealized, manually created polygons • and the other contours are extracted from an image. Explanation The function F_VN_Match Contours [} 966] compares two contours used in the sample based on the Hu moments. The function F_VN_Match Contours1vs N [} 967] represents an extension that can be used to compare a contour simultaneously with several other contours. In this sample, this is used to classify workpieces according to predefined reference shapes. The reference shapes are idealized, manually created polygons of an isosceles triangle, a rectangle/square and a trapezoid. Since only the corner points were specified for the polygons, the reference shapes differ greatly from the test contours in the number of descriptive contour points. Furthermore, they differ in position, orientation, size and the degree of interference within the contour. The function F_VN_Detect Blobs [} 1149] is used to search for contours with a certain minimum size in order to extract the shape of the components from the image. The contours that are found are then used for the described matching. Input parameters In addition to the contours to be compared, only a parameter hast to be passed to the function that describes the calculation method used to determine the dissimilarity from the Hu moments (e Comparison Method of type ETc Vn Contours Match Comparison Method [} 197]). The method TCVN_CMCM_CONTOURS_MATCH_I1 calculates the sum of the differences in the reciprocal values of the individual characteristics, while the method TCVN_CMCM_CONTOURS_MATCH_I2 calculates the sum of the differences in the pure characteristics. Unlike the first two methods, the third variant TCVN_CMCM_CONTOURS_MATCH_I3 only calculates the maximum difference between the individual characteristics. Which of the three methods is best suited for comparing two contours depends on the use case. Variables Data type only in this sample The Custom Tc Vn Array4_Point2_DINT data type is not included in Twin CAT Vision, but was created explicitly for this sample. The implementation can be found in the download of this sample. // Indexes representing the different shapes TRIANGLE : USINT := 0; RECTANGLE : USINT := 1; TRAPEZOID : USINT := 2; // Images ip Image In : ITc Vn Image; ip Image In Disp : ITc Vn Displayable Image; ip Image Res : ITc Vn Image; ip Image Res Disp : ITc Vn Displayable Image; // Contours ip Contour List : ITc Vn Container; ip Contour : ITc Vn Container; ip Iterator : ITc Vn Forward Iterator; a Shape Arrays : ARRAY [0..2] OF Custom Tc Vn Array4_Point2_DINT := [[[0,0],[40,0],[20, LREAL_TO_DINT(SQRT(1200))], [0,0]], // Triangle [[0,0],[40,0],[40,40],[0,40]], // Rectangle [[0,0],[40,0],[60,22],[20,22]]]; // Trapezoid; a Shapes : ARRAY[0..2] OF ITc Vn Container; ip Shapes : ITc Vn Container; // Matching 2750 Version: 2.4.0 TF7000 - TF7810
## Page 2751

Samples and tools ip Match Indexes : ITc Vn Container; ip Dissimilarities : ITc Vn Container; a Match Indexes : ARRAY [0..2] OF ULINT; a Dissimilarities : ARRAY [0..2] OF LREAL; // Parameters st Blob Params : Tc Vn Params Blob Detection; f Threshold : REAL := 170; f Min Area : REAL := 10000; f Max Dissimilarity : LREAL := 0.02; e Comparison Method : ETc Vn Contours Match Comparison Method := TCVN_CMCM_CONTOURS_MATCH_I3; // drawing a Colors : ARRAY[0..2] OF Tc Vn Vector4_LREAL := [[0, 175, 0, 0], [0, 0, 255, 0], [255, 0, 0, 0]]; // green, blue, red a Color White : Tc Vn Vector4_LREAL := [255, 255, 255]; a Color Black : Tc Vn Vector4_LREAL := [0, 0, 0]; a Texts : ARRAY[0..2] OF STRING := ['Triangle', 'Rectangle', 'Trapezoid']; s Text : STRING(255); n Top Left X : UDINT; n Top Left Y : UDINT; // Miscellaneous a Pixel Value : Tc Vn Vector4_LREAL; I : USINT; st Bounding Rectangle : Tc Vn Rectangle_UDINT; a Offsets : ARRAY [0..2] OF Tc Vn Point := [[20, 50], [20, 100], [20, 160]]; hr : HRESULT; Code // Fill manually defined shapes into one container hr := F_VN_Create Container(ip Shapes, Container Type_Vector_Vector_Tc Vn Point2_DINT, 0, hr); FOR i:=TRIANGLE TO TRAPEZOID DO hr := F_VN_Create Container From Array(ADR(a Shape Arrays[i]), a Shapes[i], Container Type_Vector_Tc Vn Point2_DINT, 4, hr); hr := F_VN_Insert Into Container_ITc Vn Container(a Shapes[i], ip Shapes, i, hr); END_FOR // Prepare result image hr := F_VN_Convert Color Space(ip Image In, ip Image Res, TCVN_CST_GRAY_TO_RGB, hr); // Check if background is light or dark hr := F_VN_Get Pixel(ip Image In, a Pixel Value, 50, 50, hr); IF SUCCEEDED(hr) AND_THEN a Pixel Value[0] < 128 THEN st Blob Params.e Threshold Type := TCVN_TT_BINARY; ELSE st Blob Params.e Threshold Type := TCVN_TT_BINARY_INV; END_IF // Find contours in image st Blob Params.b Filter By Area := TRUE; st Blob Params.f Min Area := f Min Area; st Blob Params.f Min Threshold := f Threshold; hr := F_VN_Detect Blobs(ip Image In, ip Contour List, st Blob Params, hr); // Iterate through all found contours hr := F_VN_Get Forward Iterator(ip Contour List, ip Iterator, hr); WHILE hr = S_OK AND_THEN ip Iterator. Check If End() <> S_OK DO hr := F_VN_Get Container(ip Iterator, ip Contour, hr); hr := F_VN_Increment Iterator(ip Iterator, hr); // Match the current contour with the reference shapes hr := F_VN_Match Contours1vs N( ip Ref Contour:= ip Contour, ip Contours:= ip Shapes, ip Match Indexes:= ip Match Indexes, ip Dissimilarities:= ip Dissimilarities, f Dissimilarity Threshold:= 100, e Comparison Method:= e Comparison Method, hr Prev:= hr ); hr := F_VN_Export Container(ip Match Indexes, ADR(a Match Indexes), SIZEOF(a Match Indexes), hr); hr := F_VN_Export Container(ip Dissimilarities, ADR(a Dissimilarities), SIZEOF(a Dissimilarities), hr); // Draw matching results IF a Dissimilarities[0] < f Max Dissimilarity THEN TF7000 - TF7810 Version: 2.4.0 2751
## Page 2752

Samples and tools // Calculate position of object hr := F_VN_Upright Bounding Rectangle(ip Contour, st Bounding Rectangle, hr); n Top Left X := LREAL_TO_UDINT(st Bounding Rectangle.n X + 30); n Top Left Y := LREAL_TO_UDINT(st Bounding Rectangle.n Y + (st Bounding Rectangle.n Height / 2)); // Draw matching result hr := F_VN_Draw Contours(ip Contour, -1, ip Image Res, a Colors[a Match Indexes[0]], 5, hr); hr := F_VN_Put Text Exp(a Texts[a Match Indexes[0]], ip Image Res, n Top Left X, n Top Left Y, TCVN_FT_HERSHEY_SIMPLEX, 0.8, a Colors[a Match Indexes[0]], 2, TCVN_LT_8_CONNECTED, FALSE, hr); hr := F_VN_Draw Rectangle(n Top Left X, n Top Left Y + 5, n Top Left X + 200, n Top Left Y + 85, ip Image Res, a Color Black, -1, hr); // Draw all dissimilarity values FOR i:=0 TO 2 DO s Text := CONCAT(LEFT(a Texts[a Match Indexes[i]], 4), CONCAT(' ', REAL_TO_STRING(LREAL_TO_REAL(a Dissimilarities[i])))); hr := F_VN_Put Text Exp(s Text, ip Image Res, n Top Left X + 5, n Top Left Y + 30 + 20*i, TCVN_FT_HERSHEY_SIMPLEX, 0.6, a Color White, 1, TCVN_LT_8_CONNECTED, FALSE, hr); END_FOR END_IF END_WHILE // Draw reference shapes FOR i:=TRIANGLE TO TRAPEZOID DO hr := F_VN_Draw Contours Exp(a Shapes[i], -1, ip Image Res, a Colors[i], 2, TCVN_LT_8_CONNECTED, 0, 0, a Offsets[i], hr); END_FOR hr := F_VN_Transform Into Displayable Image(ip Image Res, ip Image Res Disp, hr); hr := F_VN_Transform Into Displayable Image(ip Image In, ip Image In Disp, hr); Results The result image shows the reference shapes (left border) and the found contours whose dissimilarity relating to all reference shapes does not exceed a maximum value. Furthermore, a visualization indicates which reference shape the contour resembles most closely. A corresponding description text (including dissimilarities for each reference shape) is superimposed over the respective contour. For the parameters used in this sample, the result for the Match Contours1.bmp image looks as follows: 2752 Version: 2.4.0 TF7000 - TF7810
## Page 2753

Samples and tools In each case the lowest value indicates the correct reference contour. If the parameter e Comparison Method is changed from TCVN_CMCM_CONTOURS_MATCH_I3 to TCVN_CMCM_CONTOURS_MATCH_I2, the results change considerably. This also means that the parameter for the maximum accepted dissimilarity must be adjusted: The new values allow a much less clear assignment to corresponding reference shapes, and the round component is incorrectly assigned to the rectangle reference shape. This calculation method is therefore obviously less suitable for this sample. Similar samples • Match Contours (extracted shapes) [} 2753] 8.1.4.2 Match Contours (extracted shapes) In this sample, two contours are compared using the function F_VN_Match Contours [} 966]. Explanation The function F_VN_Match Contours [} 966] compares two contours used in the sample based on the Hu moments. In this sample, the function is used to recognize a given component in a new situation. For this purpose, a component is selected in a reference image, its contour is saved and then compared with the contours from another image. In this way, the components that fall below a certain dissimilarity compared to the reference component are marked. Input parameters In addition to the contours to be compared, only a parameter hast to be passed to the function that describes the calculation method used to determine the dissimilarity from the Hu moments (e Comparison Method of type ETc Vn Contours Match Comparison Method [} 197]). The method TCVN_CMCM_CONTOURS_MATCH_I1 calculates the sum of the differences in the reciprocal values of the TF7000 - TF7810 Version: 2.4.0 2753
## Page 2754

Samples and tools individual characteristics, while the method TCVN_CMCM_CONTOURS_MATCH_I2 calculates the sum of the differences in the pure characteristics. Unlike the first two methods, the third variant TCVN_CMCM_CONTOURS_MATCH_I3 only calculates the maximum difference between the individual characteristics. Which of the three methods is best suited for comparing two contours depends on the use case. Variables hr : HRESULT; ip Image In : ITc Vn Image; ip Image In Disp : ITc Vn Displayable Image; ip Image Res : ITc Vn Image; ip Image Res Disp : ITc Vn Displayable Image; ip Iterator : ITc Vn Forward Iterator; // result ip Contour List : ITc Vn Container; ip Contour Reference : ITc Vn Container; ip Contour Check : ITc Vn Container; f Best Dissimilarity : LREAL; f Dissimilarity : LREAL; // parameters f Threshold : REAL := 170; f Min Area : REAL := 10000; f Max Dissimilarity : LREAL := 0.01; e Comparison Method : ETc Vn Contours Match Comparison Method := TCVN_CMCM_CONTOURS_MATCH_I3; // drawing a Color Green : Tc Vn Vector4_LREAL := [0, 175, 0]; a Color Blue : Tc Vn Vector4_LREAL := [0, 0, 255]; a Color Red : Tc Vn Vector4_LREAL := [255, 0, 0]; a Color Res : Tc Vn Vector4_LREAL; s Text : STRING(255); s Text Reference : STRING(255) := 'Reference contour'; s Text Check : STRING(255) := 'Check dissimilarity'; // other b Dark Background : BOOL; n Contours : ULINT; n Counter : UINT := 0; a Pixel Value : Tc Vn Vector4_LREAL; st Bounding Rectangle : Tc Vn Rectangle_UDINT; st Params : Tc Vn Params Blob Detection; Code // Prepare result image hr := F_VN_Convert Color Space(ip Image In, ip Image Res, TCVN_CST_GRAY_TO_RGB, hr); // Check if background is dark in order to identify reference image hr := F_VN_Get Pixel(ip Image In, a Pixel Value, 50, 50, hr); b Dark Background := SUCCEEDED(hr) AND_THEN a Pixel Value[0] < 128; IF b Dark Background THEN st Params.e Threshold Type := TCVN_TT_BINARY; ELSE st Params.e Threshold Type := TCVN_TT_BINARY_INV; END_IF // Find contours in image hr := F_VN_Detect Blobs(ip Image In, ip Contour List, st Params, hr); // Distinguish reference and test image IF b Dark Background THEN // Select one of the found contours as reference for matching hr := F_VN_Get Number Of Elements(ip Contour List, n Contours, hr); hr := F_VN_Get At_ITc Vn Container(ip Contour List, ip Contour Reference, n Counter MOD n Contours, hr); // Draw selected contour and text hr := F_VN_Put Text Exp(s Text Reference, ip Image Res, 50, 50, TCVN_FT_HERSHEY_SIMPLEX, 1.3, a Color Blue, 2, TCVN_LT_8_CONNECTED, FALSE, hr); hr := F_VN_Draw Contours(ip Contour Reference, -1, ip Image Res, a Color Blue, 5, hr); n Counter := n Counter + 1; 2754 Version: 2.4.0 TF7000 - TF7810
## Page 2755

Samples and tools ELSE f Best Dissimilarity := 10E300; // Iterate through all found contours hr := F_VN_Get Forward Iterator(ip Contour List, ip Iterator, hr); WHILE hr = S_OK AND_THEN ip Iterator. Check If End() <> S_OK DO hr := F_VN_Get Container(ip Iterator, ip Contour Check, hr); hr := F_VN_Increment Iterator(ip Iterator, hr); // Match the current contour with the selected reference contour hr := F_VN_Match Contours(ip Contour Reference, ip Contour Check, e Comparison Method, f Dissimilarity, hr); // Save best result IF f Best Dissimilarity > f Dissimilarity THEN f Best Dissimilarity := f Dissimilarity; END_IF // Choose action depending on the dissimilarity of both contours IF SUCCEEDED(hr) AND_THEN f Dissimilarity < f Max Dissimilarity THEN a Color Res := a Color Green; ELSE a Color Res := a Color Red; END_IF // Draw matching results s Text := REAL_TO_STRING(LREAL_TO_REAL(f Dissimilarity)); hr := F_VN_Upright Bounding Rectangle(ip Contour Check, st Bounding Rectangle, hr); hr := F_VN_Draw Contours(ip Contour Check, -1, ip Image Res, a Color Res, 5, hr); hr := F_VN_Put Text Exp(s Text, ip Image Res, LREAL_TO_UDINT(st Bounding Rectangle.n X + 30), LREAL_TO_UDINT(st Bounding Rectangle.n Y + (st Bounding Rectangle.n Height / 2)), TCVN_FT_HERSHEY_SIMPLEX, 0.8, a Color Res, 2, TCVN_LT_8_CONNECTED, FALSE, hr); END_WHILE // Draw text hr := F_VN_Put Text Exp(s Text Check, ip Image Res, 50, 50, TCVN_FT_HERSHEY_SIMPLEX, 1.3, a Color Green, 2, TCVN_LT_8_CONNECTED, FALSE, hr); s Text := CONCAT('Best match: ', REAL_TO_STRING(LREAL_TO_REAL(f Best Dissimilarity))); hr := F_VN_Put Text Exp(s Text, ip Image Res, 50, 100, TCVN_FT_HERSHEY_SIMPLEX, 1.3, a Color Green, 2, TCVN_LT_8_CONNECTED, FALSE, hr); END_IF hr := F_VN_Transform Into Displayable Image(ip Image Res, ip Image Res Disp, hr); hr := F_VN_Transform Into Displayable Image(ip Image In, ip Image In Disp, hr); Results The currently selected reference contour is marked in blue on the reference image: TF7000 - TF7810 Version: 2.4.0 2755
## Page 2756

Samples and tools You can see that the contour is slightly curved by the lens distortion and has some minor flaws. In the test pattern, contours whose dissimilarity relative to the reference contour falls below the set threshold value are displayed in green, the other contours are shown in red. In addition, the calculated dissimilarity is superimposed over all contours. The following illustration shows the result for the Match Contours1.bmp input imaged when the rectangle is selected as a reference component: 2756 Version: 2.4.0 TF7000 - TF7810
## Page 2757

Samples and tools It can be seen that the rectangular component has by far the smallest dissimilarity compared to the reference contour. If the parameter e Comparison Method is changed from TCVN_CMCM_CONTOURS_MATCH_I3 to TCVN_CMCM_CONTOURS_MATCH_I2, the calculated dissimilarities change accordingly: TF7000 - TF7810 Version: 2.4.0 2757
## Page 2758

Samples and tools In this case, the result is even clearer, but this does not apply to all shapes. If the triangle is selected as the reference component, the result with this setting is significantly less clear than with the original setting: 2758 Version: 2.4.0 TF7000 - TF7810
## Page 2759

Samples and tools This result demonstrates that different calculation methods can provide the best results, depending on the application. Similar sample • Match Contours 1vs N (manual shapes) [} 2750] 8.1.5 Image analysis 8.1.5.1 Object Detection 8.1.5.1.1 Blob Detection with watchdog monitoring This sample illustrates the following • The F_VN_Detect Blobs [} 1149] function is used to find round structures in images • The execution time of the function is monitored via a watchdog. Explanation The F_VN_Detect Blobs [} 1149] function facilitates the search for similar structures in the image. It combines setting threshold values with searching and filtering for contours in a single call. In this sample, the function is parameterized to return all round structures in the example images. Due to external influences, the actual image content can deviate greatly from the expected image content. With image processing algorithms whose execution time depends on the image content, this can lead to cycle time overruns and thus to undesired side effects. To prevent this there is a watchdog. The watchdog can abort functions marked with the sentence: "Can return partial results when canceled by Watchdog" in the API after a specified period of time. The results obtained up to this point can be used further. TF7000 - TF7810 Version: 2.4.0 2759
## Page 2760

Samples and tools F_VN_Detect Blobs is one the functions that can be monitored in this way. By changing the permissible t Stop execution time in the F_VN_Start Rel Watchdog [} 975] watchdog start function, a function termination followed by application of partial results can be observed and compared to full execution of F_VN_Detect Blobs. The watchdog can be stopped via F_VN_Stop Watchdog [} 976]. A positive return value in t Rest specifies the remaining time, while a negative return value in t Rest specifies the additional time required for termination. Task configuration Watchdog monitoring [} 149] must be enabled in the executing PLC task. Otherwise the watchdog function calls in the PLC are ignored and the start watchdog function returns the return value 16#71A: "No Interface". Variables hr : HRESULT; hr Func : HRESULT; ip Image In : ITc Vn Image; ip Image In Disp : ITc Vn Displayable Image; ip Image Res : ITc Vn Image; ip Image Res Disp : ITc Vn Displayable Image; // Blob Detection st Blob Params : Tc Vn Params Blob Detection; ip Contour List : ITc Vn Container; // Watchdog hr WD : HRESULT; t Stop : DINT := 5000; t Rest : DINT; n Fraction : UDINT; // Output s Text : STRING(255); // Color a Color Green : Tc Vn Vector4_LREAL := [0, 255, 0, 0]; // Image Infos st Pixel Format : Tc Vn Pixel Format; 2760 Version: 2.4.0 TF7000 - TF7810
## Page 2761

Samples and tools Code // Set Parameters // -------------------------------------------------------------- // - Set f Max Area to 100000 detect all circles or set it to 10000 // to detect only the small circles st Blob Params.b Filter By Area := TRUE; st Blob Params.f Min Area := 100; st Blob Params.f Max Area := 100000; st Blob Params.b Filter By Circularity := TRUE; st Blob Params.f Min Circularity := 0.80; st Blob Params.f Min Threshold := 70; st Blob Params.f Threshold Step := 0; // Execute Detect Blobs-Function monitored by Watchdog-Function // -------------------------------------------------------------- // - Set the Watchdog stop time t Stop from 5000us to 1000us to see // a Watchdog interrupt and that the interim results can be used hr WD := F_VN_Start Rel Watchdog(t Stop, S_OK); hr Func := F_VN_Detect Blobs( ip Src Image := ip Image In, ip Blob Contours := ip Contour List, st Params := st Blob Params, hr Prev := hr); hr WD := F_VN_Stop Watchdog(hr WD, t Rest => t Rest, n Fraction Processed => n Fraction); // Draw Result Image // -------------------------------------------------------------- hr := F_VN_Draw Contours(ip Contour List, -1, ip Image Res, a Color Green, 3, hr); s Text := CONCAT(CONCAT('Processed ', UDINT_TO_STRING(n Fraction)), '%'); hr := F_VN_Put Text Exp(s Text, ip Image Res, 25, 50, TCVN_FT_HERSHEY_SIMPLEX, 1.3, a Color Green, 2, TCVN_LT_8_CONNECTED, FALSE, hr); s Text := CONCAT(CONCAT('Time ', DINT_TO_STRING(t Stop - t Rest)), 'us'); hr := F_VN_Put Text Exp(s Text, ip Image Res, 25, 100, TCVN_FT_HERSHEY_SIMPLEX, 1.3, a Color Green, 2, TCVN_LT_8_CONNECTED, FALSE,hr); s Text := CONCAT('Returncode ', DINT_TO_STRING(hr Func)); hr := F_VN_Put Text Exp(s Text, ip Image Res, 25, 150, TCVN_FT_HERSHEY_SIMPLEX, 1.3, a Color Green, 2, TCVN_LT_8_CONNECTED, FALSE,hr); Results The input image TF7000 - TF7810 Version: 2.4.0 2761
## Page 2762

Samples and tools All circles were found in the image, with the parameterization of the sample code. 2762 Version: 2.4.0 TF7000 - TF7810
## Page 2763

Samples and tools Some of the circles were found in the image, by triggering the watchdog after 1 ms. Since the abort process takes some time, the actual time required is greater than 1 ms. hr WD := F_VN_Start Rel Watchdog(t Stop:=1000, WATCHDOG_ACCUMULATION_TYPE_MEAN, S_OK); TF7000 - TF7810 Version: 2.4.0 2763
## Page 2764

Samples and tools Only the small circles were found in the image by reducing the maximum enclosing area in pixels. st Blob Params.f Min Area := 100; st Blob Params.f Max Area := 10000; 2764 Version: 2.4.0 TF7000 - TF7810
## Page 2765

Samples and tools Similar sample • Find contour instead of Blob Detection [} 2765] 8.1.5.1.2 Find contour instead of Blob Detection This sample shows an alternative solution to the Blob Detection sample [} 2759] using F_VN_Find Contours Exp [} 1160]. Explanation The function F_VN_Detect Blobs [} 1149] consolidates many individual image processing steps in one function call. However, the internal processing steps can also be carried out by individual function calls. This can make it easier to set parameters because one can see the intermediate results. Therefore, in this sample the same images are used as in the Blob Detection sample [} 2759], and the same round structures are searched for. Variables hr : HRESULT; ip Image In : ITc Vn Image; ip Image In Disp : ITc Vn Displayable Image; ip Image Work : ITc Vn Image; ip Image Threshold Disp : ITc Vn Displayable Image; ip Image Res : ITc Vn Image; ip Image Res Disp : ITc Vn Displayable Image; // Sample Specific Variables ip Contour List : ITc Vn Container; ip Contour Result List : ITc Vn Container; ip Contour : ITc Vn Container; ip Iterator : ITc Vn Forward Iterator; TF7000 - TF7810 Version: 2.4.0 2765
## Page 2766

Samples and tools a Offset : Tc Vn Point; f Threshold : LREAL := 70; f Area : LREAL; f Area Min : LREAL := 100; f Area Max : LREAL := 100000; f Circularity : LREAL; f Circularity Min : LREAL := 0.8; // Image Infos st Pixel Format : Tc Vn Pixel Format; // COLORS a Color Green : Tc Vn Vector4_LREAL := [0, 255, 0]; Code Preprocessing for image segmentation // Image Segementation hr := F_VN_Threshold(ip Image In, ip Image Work, f Threshold, 255, TCVN_TT_Binary, hr); Contour search // Find Contours hr := F_VN_Find Contours Exp( ip Src Image := ip Image Work, ip Contours := ip Contour List, e Retrieval Mode := ETc Vn Contour Retrievalmode. TCVN_CRM_LIST, e Approximation Method := ETc Vn Contour Approximation Method. TCVN_CAM_SIMPLE, a Offset := a Offset, hr Prev := hr); Filtering of contours according to the surrounding area in pixels and circularity // Filter Contours hr := F_VN_Get Forward Iterator(ip Contour List, ip Iterator, hr); hr := F_VN_Create Container(ip Contour Result List, Container Type_Vector_Vector_Tc Vn Point2_DINT, 0, hr); WHILE SUCCEEDED(hr) AND_THEN ip Iterator. Check If End() <> S_OK DO 2766 Version: 2.4.0 TF7000 - TF7810
## Page 2767

Samples and tools hr := F_VN_Get Container(ip Iterator, ip Contour, hr); hr := F_VN_Increment Iterator(ip Iterator, hr); // Filter by Area hr := F_VN_Contour Area(ip Contour, f Area, hr); IF f Area > f Area Min AND f Area < f Area Max THEN // Filter by Circularity hr := F_VN_Contour Circularity(ip Contour, f Circularity, hr); IF f Circularity > f Circularity Min THEN // Add contour to the result contour container hr := F_VN_Append To Container_ITc Vn Container(ip Contour, ip Contour Result List, hr); END_IF END_IF END_WHILE Result output // Draw contours into the result image and display it hr := F_VN_Draw Contours(ip Contour Result List, -1, ip Image Res, a Color Green, 3, hr); hr := F_VN_Transform Into Displayable Image(ip Image Res, ip Image Res Disp, hr); Similar sample • Blob Detection with watchdog monitoring [} 2759] 8.1.5.1.3 Find Contour - Approximation Method This sample deals with the possible approximation modes (e Approximation Method of type ETc Vn Contour Approximation Method [} 192]) for contour search. TF7000 - TF7810 Version: 2.4.0 2767
## Page 2768

Samples and tools Explanation The F_VN_Find Contours [} 1158], F_VN_Find Contours Exp [} 1160] and F_VN_Find Contour By Hierarchy [} 1154] functions are used to detect contours in the image. The contours are described by points. Depending on the selected approximation mode (e Approximation Method of type ETc Vn Contour Approximation Method [} 192]) all points of each contour or a simplified point set are returned: • TCVN_CAM_NONE All points of the contour are returned • TCVN_CAM_SIMPLE Loss-free compression is applied • TCVN_CAM_TC89_L1 or TCVN_CAM_TC89_KCOS Both functions apply one of the variants of the Teh-Chin chain approximation algorithm Variables hr : HRESULT; ip Image In : ITc Vn Image; ip Image In Disp : ITc Vn Displayable Image; ip Image Res : ITc Vn Image; ip Image Res Disp : ITc Vn Displayable Image; // Sample Specific Variables ip Contour List : ITc Vn Container; ip Contour : ITc Vn Container; ip Iterator : ITc Vn Forward Iterator; e Retrieval Mode : ETc Vn Contour Retrieval Mode := TCVN_CRM_LIST; e Approximation Method : ETc Vn Contour Approximation Method := TCVN_CAM_SIMPLE; a Offset : Tc Vn Point; // Colors a Color Red : Tc Vn Vector4_LREAL := [255, 0, 0]; Code // Create Result Image hr := F_VN_Convert Color Space(ip Image In, ip Image Res, TCVN_CST_Gray_TO_RGB, hr); // Find Contours and their Hierarchy // ----------------------------------- hr := F_VN_Find Contours Exp( ip Src Image := ip Image In, ip Contours := ip Contour List, e Retrieval Mode := e Retrieval Mode, e Approximation Method := e Approximation Method, a Offset := a Offset, hr Prev := hr); // Draw the points of the contour hr := F_VN_Get Forward Iterator(ip Contour List, ip Iterator, hr); WHILE SUCCEEDED(hr) AND_THEN ip Iterator. Check If End() <> S_OK DO hr := F_VN_Get Container(ip Iterator, ip Contour, hr); hr := F_VN_Increment Iterator(ip Iterator, hr); hr := F_VN_Draw Points(ip Contour, ip Image Res, ETc Vn Draw Shape. TCVN_DS_CIRCLE, a Color Red, hr); END_WHILE Results The input image 2768 Version: 2.4.0 TF7000 - TF7810
## Page 2769

Samples and tools The result image with all points drawn according to ETc Vn Contour Approximation Method [} 192]. TCVN_CAM_NONE The result image with all points drawn according to ETc Vn Contour Approximation Method [} 192]. TCVN_CAM_TC89_L1 Similar samples • Find Contour - Hierarchy & Retrieval Mode [} 2770] • Find contour instead of Blob Detection [} 2765] TF7000 - TF7810 Version: 2.4.0 2769
## Page 2770

Samples and tools 8.1.5.1.4 Find Contour - Hierarchy & Retrieval Mode This sample shows the retrieval mode (ETc Vn Contour Retrieval Mode [} 194]) for the contour search (F_VN_Find Contours Exp [} 1160] and F_VN_Find Contour Hierarchy Exp [} 1154]) and how it affects the contour result and the returned hierarchy. Explanation The contour retrieval mode (e Retrieval Mode of type ETc Vn Contour Retrieval Mode [} 194]) can be used to specify how the contour hierarchy is taken into account during the contour search. This sample visualizes the results according to the selected mode. Detailed explanations of the hierarchy structure can be found in F_VN_Find Contour Hierarchy Exp [} 1154]. Variables hr : HRESULT; ip Image In : ITc Vn Image; ip Image In Disp : ITc Vn Displayable Image; ip Image Res : ITc Vn Image; ip Image Res Disp : ITc Vn Displayable Image; ip Image Hierarchy : ITc Vn Image; ip Image Hierarchy Disp : ITc Vn Displayable Image; // Sample Specific Variables ip Contour List : ITc Vn Container; ip Contour : ITc Vn Container; ip Hierarchy List : ITc Vn Container; a Hierarchy : Tc Vn Vector4_DINT; a Hierarchy Tree : Tc Vn Vector4_DINT; e Retrieval Mode : ETc Vn Contour Retrieval Mode := TCVN_CRM_LIST; e Approximation Method : ETc Vn Contour Approximation Method := TCVN_CAM_SIMPLE; a Offset : Tc Vn Point; n Num Of Elem : ULINT; n Parents : UINT; i : ULINT; j : ULINT; st Rect : Tc Vn Rectangle_UDINT; s Text : STRING(80); // Colors a Color White : Tc Vn Vector4_LREAL := [255, 255, 255]; a Color Black : Tc Vn Vector4_LREAL := [0, 0, 0]; a Color List : ARRAY[0..4] OF Tc Vn Vector4_LREAL := [ [255,0,0], [0,255,0], [0,0,255], [ 200,200,0], [200,0,200]]; Code // Create Result Image hr := F_VN_Convert Color Space(ip Image In, ip Image Res, TCVN_CST_Gray_TO_RGB, hr); hr := F_VN_Create Image(ip Image Hierarchy, 130, 200, Etc Vn Element Type. TCVN_ET_USINT, 3, hr); hr := F_VN_Set Pixels(ip Image Hierarchy, a Color White, hr); // Find Contours and their Hierarchy // ----------------------------------- hr := F_VN_Find Contour Hierarchy Exp( ip Src Image := ip Image In, ip Contours := ip Contour List, ip Hierarchy := ip Hierarchy List, e Retrieval Mode := e Retrieval Mode, e Approximation Method := e Approximation Method, a Offset := a Offset, hr Prev := hr); hr := F_VN_Get Number Of Elements(ip Contour List, n Num Of Elem, hr); IF n Num Of Elem > 0 THEN FOR i:= 0 TO (n Num Of Elem-1) BY 1 DO hr := F_VN_Get At_ITc Vn Container(ip Contour List, ip Contour, i, hr); 2770 Version: 2.4.0 TF7000 - TF7810
## Page 2771

Samples and tools hr := F_VN_Get At_Tc Vn Vector4_DINT(ip Hierarchy List, a Hierarchy, i, hr); // Count Parents and set a Color depending on parent number n Parents := 0; a Hierarchy Tree := a Hierarchy; WHILE SUCCEEDED(hr) AND_THEN a Hierarchy Tree[3] >= 0 DO n Parents := n Parents + 1; hr := F_VN_Get At_Tc Vn Vector4_DINT(ip Hierarchy List, a Hierarchy Tree, TO_ULINT(a Hierarchy Tree[3]), hr); END_WHILE // Draw contour and number into the result image s Text := TO_STRING(i); hr := F_VN_Upright Bounding Rectangle(ip Contour, st Rect, hr); hr := F_VN_Put Text(s Text, ip Image Res, st Rect.n X +10, st Rect.n Y +15, TCVN_FT_HERSHEY_PLAIN, 1, a Color List[(n Parents) MOD 4], hr); hr := F_VN_Draw Contours(ip Contour, -1, ip Image Res, a Color List[(n Parents) MOD 4], 2, hr); // Write Hierarchy hr := F_VN_Put Text(s Text, ip Image Hierarchy, 10, TO_UDINT(10 + i*10), TCVN_FT_HERSHEY_PLAIN, 0.5, a Color List[(n Parents) MOD 4], hr); FOR j := 0 TO 3 BY 1 DO s Text := TO_STRING(a Hierarchy[j]); hr := F_VN_Put Text(s Text, ip Image Hierarchy, TO_UDINT(10 + (j+1)*22), TO_UDINT(10 + i*10), TCVN_FT_HERSHEY_PLAIN, 0.5, a Color Black, hr); END_FOR END_FOR END_IF Results The input image The contours found with TCVN_CRM_TREE. The colors render contours at the same level The hierarchy for the above result image. Each row refers to a contour. The columns have the following meaning: • Contour index ("colored column“) • Index of the next contour on the same hierarchical level TF7000 - TF7810 Version: 2.4.0 2771
## Page 2772

Samples and tools • Index of the previous contour on the same hierarchical level • Index of the first child contour • Index of parent contour The number -1 indicates that no corresponding contour exists. Similar samples • Find Contour - Approximation Method [} 2767] • Find contour instead of Blob Detection [} 2765] 8.1.5.1.5 Template Matching with evaluation In this sample you will perform Template Matching in order to find a component on a printed circuit board. For this purpose, use: • F_VN_Match Template And Evaluate [} 1170] • F_VN_Draw Rectangle [} 1018] 2772 Version: 2.4.0 TF7000 - TF7810
## Page 2773

Samples and tools Application Remember to add both the input image and the template image to the respective File Source. Via the f Match Threshold threshold value you can set a limit as to how good a match must be in order to be accepted. Program Important in this sample is that you require a template image in addition to the normal input image in order to search for occurrences of the template in the input image. If both images are available, perform the template matching automatically with the F_VN_Match Template And Evaluate [} 1170] function. hr := F_VN_Match Template And Evaluate(ip Image In, ip Image Template, ip Matches, f Match Threshold, hr); The matches found whose degree of correlation is higher than the specified f Match Threshold threshold value are now located as points in the ip Matches container. Each point specifies the top left corner of each occurrence of ip Image Template in ip Image In. In principle you are now done with the Template Matching. By way of example, access the individual matches in the following in order to paint them into the image. For this purpose, use the construct for accessing container elements as explained in the Container [} 155] section. hr := F_VN_Get Image Height(ip Image Template, n Height, hr); hr := F_VN_Get Image Width(ip Image Template, n Width, hr); hr := F_VN_Get Forward Iterator(ip Matches, ip Iterator, hr); IF SUCCEEDED(hr) AND ip Iterator <> 0 THEN hr := ip Iterator. Tc Query Interface(IID_ITc Vn Access_Tc Vn Point2_DINT, ADR(ip Access)); IF SUCCEEDED(hr) AND ip Access <> 0 THEN WHILE SUCCEEDED(hr) AND ip Iterator. Check If End() <> S_OK DO hr := ip Access. Get(a Position); hr := F_VN_Draw Rectangle( DINT_TO_UDINT(a Position[0]), DINT_TO_UDINT(a Position[1]), DINT_TO_UDINT(a Position[0])+n Width, DINT_TO_UDINT(a Position[1])+n Height, ip Image Res, a Green, 5, hr); hr := F_VN_Increment Iterator(ip Iterator, hr); END_WHILE END_IF END_IF NOTICE Long execution duration Depending on the size of the input and template image, the performance of the Template Matching can take a very long time in comparison with other functions. Make sure that you set the cycle time accordingly and use a watchdog if necessary! Original image TF7000 - TF7810 Version: 2.4.0 2773
## Page 2774

Samples and tools Result image 2774 Version: 2.4.0 TF7000 - TF7810
## Page 2775

Samples and tools 8.1.5.2 Average intensity in shapes of any kind In this sample the average intensity of an image is calculated within a manually defined area of an image. For this purpose a circular image mask [} 160] is used. The following functions are mainly used: • F_VN_Image Average Exp [} 1188] • F_VN_Draw Circle [} 983] Explanation The Statistical image features [} 2777] sample shows how statistical image features (such as average, maximum and minimum) can be calculated. Frequently, however, these features are not calculated for the entire image, but only for certain image areas. The setting of an ROI [} 161] is helpful if these areas are rectangular. You have to work with image masks [} 160] in order to restrict the calculation to areas of any shape. These are essentially images whose intensity values describe which pixels in the original image are to be considered. A mask can thus assume any shape; this sample shows a circular mask. For this sample a quasi-binary image with a collection of screws will be observed. One conceivable use case would be, for example, that the number of screws is to be approximately determined on the basis of the average intensity value. TF7000 - TF7810 Version: 2.4.0 2775
## Page 2776

Samples and tools Application By varying the parameters n Circle Shrink and a Center Offset, you can change the size and position of the circular mask. According to this mask, the average intensity value changes: if the mask becomes smaller and shows less of the white background, the average value decreases. If the mask shifts and shows more of the white background, the average value increases. Result image Mask image Other images can be loaded into this sample if necessary. Note that the mask parameters may then have to be adjusted. Code The sample image is loaded via a File Source state machine as ip Image Work and processed with the following code. 2776 Version: 2.4.0 TF7000 - TF7810
## Page 2777

Samples and tools First of all the properties of the mask are defined. As the mask is circular, it is described by the a Center center point and the n Radius radius. The image center point corrected by the user-adjustable a Center Offset offset is used as the center point of the circle. The radius is calculated as the distance from the center point to the nearest border of the image, minus the n Circle Shrink value. hr := F_VN_Get Image Width(ip Image Work, n Width, hr); hr := F_VN_Get Image Height(ip Image Work, n Height, hr); a Center[0] := (n Width / 2) + a Center Offset[0]; a Center[1] := (n Height / 2) + a Center Offset[1]; n Radius := (MIN(n Width, n Height) / 2) - n Circle Shrink; A new image with the same size as the ip Image Work input image is created as the mask and painted with a white circle on a black background. The circle contains the calculated properties. The n Thickness value is selected as the -1 width of the border of the circle so that the circle is filled out. hr := F_VN_Create Image And Set Pixels(ip Image Mask, n Width, n Height, TCVN_ET_USINT, 1, a Color Black, hr); hr := F_VN_Draw Circle( n Center X := TO_UDINT(a Center[0]), n Center Y := TO_UDINT(a Center[1]), n Radius := n Radius, ip Dest Image := ip Image Mask, a Color := a Color White, n Thickness := -1, hr Prev := hr); The result is that a ip Image Mask mask image is now available with the desired circular shape: The average intensity value of the ip Image Work input image in the defined circular area is now calculated with the help of this ip Image Mask mask. The F_VN_Image Average Exp [} 1188] function returns the a Average array of the type Tc Vn Vector4_LREAL in order to cover the maximum number of image channels. As the input image in this sample only has one channel, the first array element is the desired average value and is saved separately. hr := F_VN_Image Average Exp( ip Src Image := ip Image Work, a Average := a Average, ip Mask := ip Image Mask, hr Prev := hr); f Average In Mask := a Average[0]; Finally, the mask circle and the calculated average value are drawn in a result image. hr := F_VN_Convert Color Space(ip Image Work, ip Image Res, TCVN_CST_GRAY_TO_RGB, hr); hr := F_VN_Draw Circle(TO_UDINT(a Center[0]), TO_UDINT(a Center[1]), n Radius, ip Image Res, a Color Green, 5, hr); s Text := CONCAT('Average: ', LREAL_TO_FMTSTR(f Average In Mask, 2, TRUE)); hr := F_VN_Put Text Exp(s Text, ip Image Res, 40, 60, TCVN_FT_HERSHEY_SIMPLEX, 2, a Color Blue, 3, TCVN_LT_ANTIALIASED, FALSE, hr); The Tc2_Utilities PLC library is required for the LREAL_TO_FMTSTR function. 8.1.5.3 Statistical image features In this sample, statistical features (min, max, median, average value, standard deviation) of images are calculated. The following functions are used for this: TF7000 - TF7810 Version: 2.4.0 2777
## Page 2778

Samples and tools • F_VN_Min Pixel Value [} 1197] • F_VN_Max Pixel Value [} 1195] • F_VN_Image Median [} 1193] • F_VN_Image Average Std Dev [} 1189] Application This project contains a File Source into which any RGB images can be loaded. These are converted in the program into grayscale images and analyzed with regard to various statistics. The result values are drawn in the image and can be viewed in the ADS Image Watch [} 134] under ip Image Res. Program // Prepare images hr := F_VN_Convert Color Space(ip Image In, ip Image In, TCVN_CST_RGB_TO_GRAY, hr); hr := F_VN_Copy Image(ip Image In, ip Image Res, hr); // Calculate image statistics hr := F_VN_Min Pixel Value( ip Image := ip Image In, a Min Value := a Min, a Position := a Pos, hr Prev := hr ); hr := F_VN_Max Pixel Value( ip Image := ip Image In, a Max Value := a Max, a Position := a Pos, hr Prev := hr ); hr := F_VN_Image Median( ip Src Image := ip Image In, a Median := a Median, hr Prev := hr ); hr := F_VN_Image Average Std Dev( ip Src Image := ip Image In, a Average := a Average, a Std Dev := a Std Dev, hr Prev := hr ); // Draw results s Text := CONCAT('Min: ', LREAL_TO_FMTSTR(a Min[0], 2, TRUE )); hr := F_VN_Put Label(s Text, ip Image Res, n Text X, (n Text YBase + (1 * n Text YIncrement)), f Font Scale, hr); s Text := CONCAT('Max: ', LREAL_TO_FMTSTR(a Max[0], 2, TRUE )); hr := F_VN_Put Label(s Text, ip Image Res, n Text X, (n Text YBase + (2 * n Text YIncrement)), f Font Scale, hr); s Text := CONCAT('Median: ', LREAL_TO_FMTSTR(a Median[0], 2, TRUE )); hr := F_VN_Put Label(s Text, ip Image Res, n Text X, (n Text YBase + (3 * n Text YIncrement)), f Font Scale, hr); s Text := CONCAT('Average: ', LREAL_TO_FMTSTR(a Average[0], 2, TRUE )); hr := F_VN_Put Label(s Text, ip Image Res, n Text X, (n Text YBase + (4 * n Text YIncrement)), f Font Scale, hr); s Text := CONCAT('Std Dev: ', LREAL_TO_FMTSTR(a Std Dev[0], 2, TRUE )); hr := F_VN_Put Label(s Text, ip Image Res, n Text X, (n Text YBase + (5 * n Text YIncrement)), f Font Scale, hr); hr := F_VN_Transform Into Displayable Image(ip Image In, ip Image In Disp, hr); hr := F_VN_Transform Into Displayable Image(ip Image Res, ip Image Res Disp, hr); The PLC library Tc2_Utilities is required for the function LREAL_TO_FMTSTR. 8.1.5.4 Inner circle by means of distance transformation In this sample you will find the inner circle of a misshapen object by means of distance transformation. For this purpose you essentially use the following functions: • F_VN_Distance Transformation [} 1182] • F_VN_Draw Circle [} 983] 2778 Version: 2.4.0 TF7000 - TF7810
## Page 2779

Samples and tools Explanation External contour approximations such as an enclosing rectangle or the convex envelope can be calculated via appropriate API functions. Conversely, an inner circle with a maximum size inside a contour can be found by means of a distance transformation. For this purpose, the point with the greatest Euclidean distance to the object edges is determined with a distance transformation. This point is then the center point of the inner circle of the object. If you use this sample with your own images, you should adjust the threshold value and the binarization via the variables b Invert and f Threshold. By means of the parameters e Distance Type and e Mask Size you can purposefully change the parameters of the function F_VN_Distance Transformation [} 1182]. Program The first step is to binarize the input image. This achieves a clear distinction between object and background. The binarization is important for the distance transformation, as the distance transformation only reacts to pixels with the value 0. If the object is black on a white background, it must be inverted by means of the threshold type BINARY_INV. IF b Invert THEN e Threshold Type := TCVN_TT_BINARY_INV; ELSE e Threshold Type := TCVN_TT_BINARY; END_IF hr := F_VN_Threshold(ip Image In, ip Image Work, f Threshold, 255, e Threshold Type, hr); Through the distance transformation you obtain an image in which each pixel value indicates the distance to the next pixel with a value of 0. The pixel with the highest value is thus the pixel with the greatest distance. If you use the L2 norm (Euclidean distance) as the distance type e Distance Type, you could interpret this pixel as the center point of a circle that fills out the object as much as possible. Therefore, determine the pixel with the maximum value using the function F_VN_Max Pixel Value [} 1195] and use its position as the center point of the circle and its value as the radius of the circle. TF7000 - TF7810 Version: 2.4.0 2779
## Page 2780

Samples and tools hr := F_VN_Distance Transformation( ip Src Image := ip Image Work, ip Dest Image := ip Image Work, e Distance Type := TCVN_DT_L2, e Mask Size := TCVN_DTM_5, hr Prev := hr ); hr := F_VN_Max Pixel Value(ip Image Work, a Max, a Pos, hr); f Radius := a Max[0]; a Center := a Pos; The mask size e Mask Size determines the accuracy of the distance calculation and has little influence on the result. Finally, paint the circle in the result image on the basis of the determined center point and radius in order to be able to validate the execution. hr := F_VN_Draw Circle( n Center X := TO_UDINT(a Center[0]), n Center Y := TO_UDINT(a Center[1]), n Radius := TO_UDINT(f Radius), ip Dest Image := ip Image Res, a Color := a Red, n Thickness := 2, hr Prev := hr ); hr := F_VN_Draw Point Exp(TO_UDINT(a Center[0]), TO_UDINT(a Center[1]), ip Image Res, TCVN_DS_X, a Red, 10, 2, TCVN_LT_ANTIALIASED, hr); 8.1.6 Image Color and Contrast Processing 8.1.6.1 Color similarity with RGB reference color In this sample, the function F_VN_Reference Color Similarity Exp_Tc Vn Vector3_LREAL [} 1226] calculates the similarity of each pixel to 3 reference colors and returns them as grayscale images. The objects in the reference colors are then detected on the basis of these grayscale images. Variables hr : HRESULT; // Images ip Image In : ITc Vn Image; ip Image In Disp : ITc Vn Displayable Image; ip Image Thres : ITc Vn Image; ip Image Thres Disp : ARRAY [0..2] OF ITc Vn Displayable Image; ip Image Work Col : ITc Vn Image; ip Image Work Col Disp : ARRAY [0..2] OF ITc Vn Displayable Image; ip Image Res : ITc Vn Image; ip Image Res Disp : ITc Vn Displayable Image; // Color i Color : INT; a Color Txt : ARRAY[0..2] OF STRING := [ 'RED', 'GREEN', 'BLUE' ]; a Color : ARRAY[0..2] OF Tc Vn Vector4_LREAL := [ [150, 0, 0], [0, 255, 0], [0, 0, 255] ]; a Color Ref : ARRAY[0..2] OF Tc Vn Vector3_LREAL := [ [255, 75, 60], [40, 140, 95], [40, 140, 190] ]; // Contours ip Contour List : ITc Vn Container; ip Iterator : ITc Vn Forward Iterator; a Offset : Tc Vn Point; ip Contour : ITc Vn Container; f Area : LREAL; a Center : Tc Vn Point2_LREAL; Code // Attention: With other images another color space transformation could be necessary hr := F_VN_Convert Color Space(ip Image In, ip Image Res, TCVN_CST_Bayer_RG_TO_RGB, hr); 2780 Version: 2.4.0 TF7000 - TF7810
## Page 2781

Samples and tools FOR i Color := 0 TO 2 DO // Compute the Color Similarity to a Reference Color hr := F_VN_Reference Color Similarity Exp_Tc Vn Vector3_LREAL( ip Src Image := ip Image Res, ip Dest Image := ip Image Work Col, a Ref Color := a Color Ref[i Color], f Variance := 0.1, f Luminance Weight := 0.2, hr Prev := hr); hr := F_VN_Threshold(ip Image Work Col, ip Image Thres, 200, 255, TCVN_TT_Binary, hr); // Find all objects / contours in the black and white image hr := F_VN_Find Contours(ip Image Thres, ip Contour List, hr); hr := F_VN_Get Forward Iterator(ip Contour List, ip Iterator, hr); // Filter the objects by size and draw the contours WHILE SUCCEEDED(hr) AND_THEN ip Iterator. Check If End() <> S_OK DO hr := F_VN_Get Container(ip Iterator, ip Contour, hr); hr := F_VN_Increment Iterator(ip Iterator, hr); // Filter contours by size hr := F_VN_Contour Area(ip Contour, f Area, hr); IF f Area > 5000 THEN // Draw Results into an Image hr := F_VN_Draw Contours(ip Contour, -1, ip Image Res, a Color[i Color], 3, hr); hr := F_VN_Contour Center Of Mass(ip Contour, a Center, hr); hr := F_VN_Put Text(a Color Txt[i Color], ip Image Res, LREAL_TO_UDINT(a Center[0])-30, LREAL_TO_UDINT(a Center[1])+10, TCVN_FT_HERSHEY_PLAIN, 2, a Color[i Color],hr); END_IF END_WHILE // Display effect of the Color-Similarity-Function hr := F_VN_Transform Into Displayable Image(ip Image Thres, ip Image Thres Disp[i Color], hr); hr := F_VN_Transform Into Displayable Image(ip Image Work Col, ip Image Work Col Disp[i Color], hr); END_FOR Result The input image in Bayer RG format TF7000 - TF7810 Version: 2.4.0 2781
## Page 2782

Samples and tools After converting the input image to an RGB image with the function F_VN_Convert Color Space [} 1208], the F_VN_Reference Color Similarity Exp_Tc Vn Vector3_LREAL [} 1226] can be used to determine the color similarity of each pixel compared to the reference color. The following applies in the returned result image: • The pixel value 255 (white) corresponds to a 100% match with the reference color • The pixel value 0 (black) corresponds to a 0% match with the reference color • and the pixel values between 0 and 255 a partial correlation to the reference color. // Compute the Color Similarity to a Reference Color hr := F_VN_Reference Color Similarity Exp_Tc Vn Vector3_LREAL( ip Src Image := ip Image Res, ip Dest Image := ip Image Work Col, a Ref Color := a Color Ref[i Color], f Variance := 0.1, f Luminance Weight := 0.2, hr Prev := hr); A threshold value (F_VN_Threshold [} 1298]) is used to define how close the match to the reference color should be in order to be assigned to it. hr := F_VN_Threshold(ip Image Work Col, ip Image Thres, 200, 255, TCVN_TT_Binary, hr); The result image, after subsequent detection. 2782 Version: 2.4.0 TF7000 - TF7810
## Page 2783

Samples and tools Similar sample • Check Color Range with RGB range [} 2790] 8.1.6.2 Display with color tables In this sample you apply color tables to the grayscale images. You essentially use the following functions: • F_VN_Generate Color Map [} 1209] • F_VN_Create Container From Array [} 738] • F_VN_Generate Custom Color Map [} 1210] • F_VN_Apply Color Map [} 1204] Explanation There are several reasons why you would want to apply a color table to a monochrome image. These include, for example, a more pleasant appearance and a display of the value range that is clearer to the human eye. This is above all relevant for 16-bit images, as the value spectrum is significantly more recognizable if it is distributed over three color channels. Depending on the use case, you would like to use various color tables. Twin CAT Vision provides some predefined color gradients via the enum ETc Vn Color Map [} 173]. You can also define your own color gradients and create color tables with them. In this sample you apply various color tables to the following grayscale gradient (with a value range of 16 bits). TF7000 - TF7810 Version: 2.4.0 2783
## Page 2784

Samples and tools Fig. 34: Grayscale gradient Of course, you can also use your own images. Note that you can only use 1-channel images, or you will have to perform an appropriate conversion beforehand using F_VN_Convert Color Space [} 1208]. Program Before a color table can be applied to an image, it must first be created. To this end, it must be known whether the color table is to be for 8-bit or 16-bit images, as depending on that it will require a different number of entries (see Color tables). Accordingly, you must set the parameter e Color Map Size of the type ETc Vn Color Map Size [} 178] to 256 in the case of 8-bit and 65536 in the case of 16-bit to match the bit depth of the input image ip Image In. You achieve this by querying the element size of the pixel format by means of F_VN_Get Image Info [} 779]: hr := F_VN_Get Image Info(ip Image In, st Image Info, hr); IF st Image Info.st Pixel Format.n Element Size = 8 THEN e Color Map Size := TCVN_CMS_256; ELSIF st Image Info.st Pixel Format.n Element Size = 16 THEN e Color Map Size := TCVN_CMS_65536; END_IF A color table is generated on the basis of a color gradient. You can either manually define a color gradient or use one from a template. This sample deals with the distinction on the basis of the parameter b Use Custom Colors. IF b Use Custom Colors THEN // create color map from custom-defined colors <...> ELSE // create color map from preset <...> END_IF You define a color gradient manually by creating a container with several entries of the type Tc Vn Vector3_REAL. Each entry represents a color. The colors are interpreted as being evenly distributed over the definition area when creating the color table; all other values are linearly interpolated for each of the three channels. A color gradient from the array a Colors with the three colors red, green and blue is used here. You then create the color table with the function F_VN_Generate Custom Color Map. VAR a Colors: ARRAY [0..(N_COLORS-1)] OF Tc Vn Vector3_REAL := [ [255, 0, 0], [0, 255, 0], [0, 0, 255] ]; END_VAR hr := F_VN_Create Container From Array(ADR(a Colors), ip Colors, Container Type_Vector_Tc Vn Vector3_REAL, N_COLORS, hr); hr := F_VN_Generate Custom Color Map( ip Color Map := ip Color Map, ip Initial Colors := ip Colors, e Color Map Size := e Color Map Size, hr Prev := hr ); In order to use a predefined color gradient, use the function F_VN_Generate Color Map [} 1209] and set the parameter e Color Map to the desired color gradient from the enum ETc Vn Color Map [} 173]. In this case this is initially set to JET. 2784 Version: 2.4.0 TF7000 - TF7810
## Page 2785

Samples and tools VAR e Color Map: ETc Vn Color Map := TCVN_CM_JET; END_VAR hr := F_VN_Generate Color Map( ip Color Map := ip Color Map, e Color Map := e Color Map, e Color Map Size := e Color Map Size, hr Prev := hr ); The color table created is a container [} 155] that stores a color to be issued for every possible value in the input image. Therefore you can also create a color table yourself by defining all 256 or 65536 entries and then directly creating a container out of them. In most cases, however, the use of the API functions is simpler. Finally, apply the color table created to the input image to obtain the desired result. The result image is always a 3-channel 8-bit image. hr := F_VN_Apply Color Map( ip Src Image := ip Image, ip Dest Image := ip Image, ip Color Map := ip Color Map, hr Prev := hr ); The application of a predefined JET color table to the input image shown above produces the following result: Fig. 35: Color gradient as result of the application of the JET color table 8.1.7 Image filtering 8.1.7.1 Blur filter In this sample the following blur filters are compared: • Bilateral filter [} 1242] • Gaussian filter [} 1260] • Median filter [} 1271] • Mean filter implemented as custom filter [} 1252] Explanation In some cases an image is to be smoothed or freed from noise. For tasks such as Code Reading it is necessary at the same time to obtain a good contrast and good edges on the image so that the downstream algorithms can successfully work on it. The bilateral filter is particularly suitable for the combination of image smoothing with the simultaneous retention of edges. For each pixel intensity it calculates a weighted average value of the surrounding pixels. The weighting depends not only on how far away the pixel is, but also on the difference in intensity. As a result, sharp edges are retained. The Gaussian filter smooths images with the help of a two-dimensional discrete approximation to the Gaussian bell function. This allows the image noise to be reduced. Smaller structures are lost, but coarser structures on the other hand are retained. Edges are therefore less blurred than with the two following filters, but larger disturbances are not removed so well. TF7000 - TF7810 Version: 2.4.0 2785
## Page 2786

Samples and tools The median filter sorts all pixel values of the specified mask in ascending order and then selects the median value, to which the corresponding pixel is then set. This filter is well suited for suppressing structures (disturbances) that are smaller than the applied filter mask and is very robust towards outliers. As a result, the small salt-and-pepper disturbances, for example, are removed best, but the disadvantage of this is that the other detailed information is also lost. The custom filter function was used in order to form a mean value. Here, the value of each pixel is replaced by the mean value of the kernel pixel, which results in blurring. Disturbances (noise) are suppressed as a result, but details and edges gradually become blurred as the number of kernels increases. As the custom filter function offers many different options for applying your own filters, the F_VN_Init Matrix Struct function is additionally required for the standardization of the filter kernel. Variables // Bilateral Filter ip Image Bilateral : ITc Vn Image; ip Image Bilateral Disp : ITc Vn Displayable Image; n Bilateral_Diameter : DINT := 7; f Bilateral_Sigma Color : LREAL := 100; f Bilateral_Sigma Space : LREAL := 100; // Gaussian Filter ip Image Gaussian : ITc Vn Image; ip Image Gaussian Disp : ITc Vn Displayable Image; n Filter Width : UDINT := 7; n Filter Height : UDINT := 7; // Median Filter ip Image Median : ITc Vn Image; ip Image Median Disp : ITc Vn Displayable Image; n Median_Filter Size : UDINT := 7; // Custom Filter e.g. Mean ip Image Custom : ITc Vn Image; ip Image Custom Disp : ITc Vn Displayable Image; st Kernel Matrix : Tc Vn Matrix; // 7x7 Mean Filter Kernel with weights of 1/49 ~ 0.0204081632653 a Matrix Array7x7 : ARRAY [0..6,0..6] OF REAL := [49(0.0204081632653)]; Code hr := F_VN_Bilateral Filter( ip Src Image := ip Image In, ip Dest Image := ip Image Bilateral, n Diameter := n Bilateral_Diameter, f Sigma Color := f Bilateral_Sigma Color, f Sigma Space := f Bilateral_Sigma Space, hr Prev := hr); hr := F_VN_Gaussian Filter( ip Src Image := ip Image In, ip Dest Image := ip Image Gaussian, n Filter Width := n Filter Width, n Filter Height := n Filter Height, hr Prev := hr); hr := F_VN_Median Filter( ip Src Image := ip Image In, ip Dest Image := ip Image Median, n Filter Size := n Median_Filter Size, hr Prev := hr); // Mean-Filter with Custom Filter Function hr := F_VN_Init Matrix Struct( p Src Buffer := ADR(a Matrix Array7x7), st Dest Matrix := st Kernel Matrix, n Rows := 7, n Cols := 7, e Element Type := TCVN_ET_REAL, hr Prev := hr); hr := F_VN_Custom Filter( ip Src Image := ip Image In, ip Dest Image := ip Image Custom, e Dest Depth := TCVN_ET_USINT, st Kernel := st Kernel Matrix, hr Prev := hr); 2786 Version: 2.4.0 TF7000 - TF7810
## Page 2787

Samples and tools Result The unprocessed original image (1st row) already exhibits fine structures on the surface of the gear wheels in the detail. In order to illustrate the effects of the filters, additional disturbances were added to the original image by Gauss noise (2nd row) and salt-and-pepper noise (3rd row). So that the effects of the different filters are as comparable as possible, a kernel size of 7 x 7 is used with all of them. Using other parameter values or kernel sizes, as well as further setting options for the EXP variants of the functions, other effects can be achieved in detail. As the filter effect very much depends on the content of the input image, it is recommended to test several filters with different parameter settings in order to compare them directly and find the best filter for the use case. The table below contains an overview of the result images: Original images Bilateral filter Gaussian filter Median filter Mean filter NOTICE Long or fluctuating execution times The duration of the execution of a filter essentially depends on the type of filter as well as the image and kernel size. Therefore, please note that a filter operation can take considerably longer than other functions, so you should adapt the cycle time of your task accordingly. If the filter parameters are changed during the runtime, in particular the kernel size, it is recommended to use watchdogs [} 149]. In the case of the median filter, the runtime can always fluctuate somewhat due to the principle. Furthermore, job tasks [} 65] can lead to a reduction in the total computing time, which should be tested according to the system. 8.1.7.2 Edge detection filters In this sample the following edge detection filters are compared: • Sobel filter [} 1286] • Scharr filter [} 1278] • Laplace filter [} 1264] Explanation The Sobel filter is a simple linear filter for marking gradients in an image. The Scharr filter is very similar to this; only the characteristic of the filter kernel is somewhat different. The Scharr filter has a better isotropy, i.e. the detection of edges is independent of the direction. The Laplace filter detects edges based on the zero points of the discrete 2nd derivation of the image. This variant is susceptible to noise by comparison. TF7000 - TF7810 Version: 2.4.0 2787
## Page 2788

Samples and tools Variables // Sobel ip Image Sobel : ITc Vn Image; ip Image Sobel Disp : ITc Vn Displayable Image; e Sobel_Dest Depth : ETc Vn Element Type := TCVN_ET_USINT; a Sobel_Deriv Order : ARRAY [0..1] OF UDINT := [1, 1]; n Sobel_Kernel Size : UDINT := 3; f Sobel_Scale : LREAL := 10; f Sobel_Delta : LREAL := 0; e Sobel_Border Extra : ETc Vn Border Interpolation Method := TCVN_BIM_DEFAULT; // Scharr ip Image Scharr : ITc Vn Image; ip Image Scharr Disp : ITc Vn Displayable Image; e Scharr_Dest Depth : ETc Vn Element Type := TCVN_ET_USINT; e Scharr_Filter Dir : ETc Vn Filter Direction := TCVN_FD_X; f Scharr_Scale : LREAL := 1; f Scharr_Delta : LREAL := 0; e Scharr_Border Extra : ETc Vn Border Interpolation Method := TCVN_BIM_DEFAULT; // Laplace ip Image Laplace : ITc Vn Image; ip Image Laplace Disp : ITc Vn Displayable Image; e Laplace_Dest Depth : ETc Vn Element Type := TCVN_ET_USINT; n Laplace_Kernel Size : UDINT := 3; f Laplace_Scale : LREAL := 10; f Laplace_Delta : LREAL := 0; e Laplace_Border Extra : ETc Vn Border Interpolation Method := TCVN_BIM_DEFAULT; Code // Execute the Sobel Filter hr := F_VN_Sobel Filter Exp( ip Src Image := ip Image In, ip Dest Image := ip Image Sobel, e Dest Depth := e Sobel_Dest Depth, n XOrder := a Sobel_Deriv Order[0], n YOrder := a Sobel_Deriv Order[1], n Kernel Size := n Sobel_Kernel Size, f Scale := f Sobel_Scale, f Delta := f Sobel_Delta, e Border Type := e Sobel_Border Extra, hr Prev := hr); // Execute the Scharr Filter hr := F_VN_Scharr Filter Exp( ip Src Image := ip Image In, ip Dest Image := ip Image Scharr, e Dest Depth := e Scharr_Dest Depth, e Filter Direction:= e Scharr_Filter Dir, f Scale := f Scharr_Scale, f Delta := f Scharr_Delta, e Border Type := e Scharr_Border Extra, hr Prev := hr); // Execute the Laplacian Filter hr := F_VN_Laplacian Filter Exp( ip Src Image := ip Image In, ip Dest Image := ip Image Laplace, e Dest Depth := e Laplace_Dest Depth, n Kernel Size := n Laplace_Kernel Size, f Scale := f Laplace_Scale, f Delta := f Laplace_Delta, e Border Type := e Laplace_Border Extra, hr Prev := hr); Results The sample project contains the functions calls of the three filters. The parameter configuration and its effect on a sample image can be tested in this sample. 2788 Version: 2.4.0 TF7000 - TF7810
## Page 2789

Samples and tools Original image Sobel filter Scharr filter Laplace filter 8.1.7.3 Morphological operators In this sample you apply morphological operators to an image. For this you use: • F_VN_Create Structuring Element [} 1251] • F_VN_Morphological Operator [} 1274] Explanation Objects in an image can be changed according to certain rules with a morphological operator. Morphological operators are mostly applied to binary images; however, application to grayscale images is generally also possible. Through combined operators such as OPENING and CLOSING it is possible, for example, to supplement missing parts in objects and small outliers can be removed. Variables ip Element : ITc Vn Image; e SEShape : ETc Vn Structuring Element Shape := TCVN_SES_RECTANGLE; a SESize : ARRAY [0..1] OF UDINT := [29, 29]; e Operator : ETc Vn Morphological Operator := TCVN_MO_OPENING; Program A morphological operator requires a structure element in order to define its area of influence for each pixel. For this purpose you can select various shapes from the enum ETc Vn Structuring Element Shape [} 221] and in different sizes. hr := F_VN_Create Structuring Element( ip Structuring Element := ip Element, e Shape := e SEShape, n Width := a SESize[0], n Height := a SESize[1], hr Prev := hr); You then define a morphological operation by means of the enum ETc Vn Morphological Operator [} 212] and apply it with the structure element created to the input image. hr := F_VN_Morphological Operator( ip Src Image := ip Image In, ip Dest Image := ip Image Res, e Operator := e Operator, ip Structuring Element := ip Element, hr Prev := hr); A morphological opening with a rectangular structure element of the size [31; 31] and previous threshold value, for example, produces the following result. It removes smaller or narrower objects from the image. TF7000 - TF7810 Version: 2.4.0 2789
## Page 2790

Samples and tools Input image Result image NOTICE Long execution duration Depending on the size of the input image and of the structure element, the execution of the morphological operator can take a very long time in comparison with other functions. Make sure that you set the cycle time accordingly and use a watchdog if necessary! 8.1.8 Image segmentation • Check Color Range with RGB range [} 2790] 8.1.8.1 Check Color Range with RGB range In this sample, the function F_VN_Check Color Range [} 1295] searches for red, green and blue objects in the image and labels them according to their color. The function is applied to RGB images. It is also possible to apply the function to images in other color spaces such as HSV, Lab and BGR, in which case the parameterization must be adapted accordingly. Variables hr : HRESULT; // Images ip Image In : ITc Vn Image; ip Image In Disp : ITc Vn Displayable Image; ip Image Work Col : ITc Vn Image; ip Image Work Col Disp : ARRAY [0..2] OF ITc Vn Displayable Image; ip Image Res : ITc Vn Image; ip Image Res Disp : ITc Vn Displayable Image; // Colors i Color : INT; a Color Txt : ARRAY[0..2] OF STRING := [ 'RED', 'GREEN', 'BLUE' ]; a Color : ARRAY[0..2] OF Tc Vn Vector4_LREAL := [ [150, 0, 0], [0, 255, 0], [0, 0, 255] ]; a Color Ref Low : ARRAY[0..2] OF Tc Vn Vector4_LREAL := [ [150, 50, 20], [35, 90, 60], [20, 40, 130] ]; a Color Ref Up : ARRAY[0..2] OF Tc Vn Vector4_LREAL := [ [255, 120, 100], [100, 200, 140], [60, 160, 255] ]; // Contours ip Contour List : ITc Vn Container; ip Iterator : ITc Vn Forward Iterator; ip Contour : ITc Vn Container; f Area : LREAL; a Center : Tc Vn Point2_LREAL; 2790 Version: 2.4.0 TF7000 - TF7810
## Page 2791

Samples and tools Code // Attention: With other images another color space transformation could be necessary hr := F_VN_Convert Color Space(ip Image In, ip Image Res, TCVN_CST_Bayer_RG_TO_RGB, hr); FOR i Color := 0 TO 2 DO // Apply a "Color-Threshold" on the image hr := F_VN_Check Color Range( ip Src Image := ip Image Res, ip Dest Image := ip Image Work Col, a Lower Bounds := a Color Ref Low[i Color], a Upper Bounds := a Color Ref Up[i Color], hr Prev := hr ); // Find all objects / contours in the black and white image hr := F_VN_Find Contours(ip Image Work Col, ip Contour List, hr); hr := F_VN_Get Forward Iterator(ip Contour List, ip Iterator, hr); // Filter the objects by size and draw the contours WHILE SUCCEEDED(hr) AND_THEN ip Iterator. Check If End() <> S_OK DO hr := F_VN_Get Container(ip Iterator, ip Contour, hr); hr := F_VN_Increment Iterator(ip Iterator, hr); // Filter contours by size hr := F_VN_Contour Area(ip Contour, f Area, hr); IF f Area > 5000 THEN // Draw Results into an Image hr := F_VN_Draw Contours(ip Contour, -1, ip Image Res, a Color[i Color], 3, hr); hr := F_VN_Contour Center Of Mass(ip Contour, a Center, hr); hr := F_VN_Put Text(a Color Txt[i Color], ip Image Res, LREAL_TO_UDINT(a Center[0])-30, LREAL_TO_UDINT(a Center[1])+10, TCVN_FT_HERSHEY_PLAIN, 2, a Color[i Color], hr); END_IF END_WHILE END_FOR Result The input image in Bayer RG format. TF7000 - TF7810 Version: 2.4.0 2791
## Page 2792

Samples and tools The input image is converted into an RGB image with the function F_VN_Convert Color Space [} 1208]. hr := F_VN_Convert Color Space(ip Image In, ip Image Res, TCVN_CST_Bayer_RG_TO_RGB, hr); The function F_VN_Check Color Range [} 1295] can then be used with the respective upper and lower threshold values. hr := F_VN_Check Color Range(ip Image Res, ip Image Work Col, a Color Ref Low[i Color], a Color Ref Up[i Color], hr); The result image, after subsequent detection 2792 Version: 2.4.0 TF7000 - TF7810
## Page 2793

Samples and tools Similar samples • Color similarity with RGB reference color [} 2780] 8.1.9 Measurement 8.1.9.1 Locate Circular Arc In this example, the F_VN_Locate Circular Arc [} 1448] function is used to locate and measure circular arcs. This function returns a Tc Vn Circular Arc structure containing the center, radius and bounding angles as result. To measure complete circles, use the F_VN_Locate Ellipse [} 1477] function instead. The start position of the search should correspond approximately to the expected circle center of the circular arc, which is 400, 300 in the corresponding sample images. To demonstrate that an approximate position is sufficient here, the corresponding parameter a Center in the sample was set to 420, 310. The sample illustrates that it is possible to compensate small positional changes of the objects to be examined in the image. Since the actual radius in the sample images is about 200 pixels and the starting point is deliberately inaccurate, the search radius f Radius was set to 270. In the specific sample, around 230 pixels would have been sufficient, but in practice it is always good to have an additional safety buffer, e.g. if the position of the object deviates more than expected. For the sample images, the search direction must be selected so that the objects are found correctly in all images. A good direction would be down left, around 2,356 rad (135°). To illustrate that this direction does not have to be exact, f Direction was set to 2.1 rad (120.3°) in the sample. In addition, a transition from light to dark, starting from the starting point, should be specified as a search criterion. The minimum contrast also has to be specified, above which the function detects an intensity difference between adjacent pixels as an edge. TF7000 - TF7810 Version: 2.4.0 2793
## Page 2794

Samples and tools In case these parameters are not sufficient to achieve good results, the F_VN_Locate Circular Arc Exp [} 1451] expert function offers a number of additional parameters, which are not considered in this sample. Variables hr : HRESULT; ip Image In : ITc Vn Image; ip Image In Disp : ITc Vn Displayable Image; ip Image Res : ITc Vn Image; ip Image Res Disp : ITc Vn Displayable Image; // result st Arc : Tc Vn Circular Arc; // input parameters (to specify where to start searching for the circular arc) a Center : Tc Vn Point2_REAL := [420, 310]; f Radius : REAL := 270; f Direction : LREAL := 2.1; // drawing a Color : Tc Vn Vector4_LREAL := [0, 175, 0]; s Text : STRING(255); Code hr := F_VN_Locate Circular Arc( ip Src Image := ip Image In, st Circular Arc := st Arc, a Center := a Center, f Search Radius := f Radius, f Arc Direction Rad := f Direction, e Edge Direction := TCVN_ED_LIGHT_TO_DARK, f Min Strength := 100, hr Prev := hr); // Draw result for visualization hr := F_VN_Convert Color Space(ip Image In, ip Image Res, TCVN_CST_GRAY_TO_RGB, hr); hr := F_VN_Draw Circular Arc(st Arc, ip Image Res, a Color, 2, hr); s Text := CONCAT(CONCAT(CONCAT('Center ', REAL_TO_STRING(st Arc.a Center[0])), ', '), REAL_TO_STRING(st Arc.a Center[1])); hr := F_VN_Put Text(s Text, ip Image Res, 420, 25, TCVN_FT_HERSHEY_SIMPLEX, 0.7, a Color, hr); s Text := CONCAT('Radius ', REAL_TO_STRING(st Arc.f Radius)); hr := F_VN_Put Text(s Text, ip Image Res, 420, 50, TCVN_FT_HERSHEY_SIMPLEX, 0.7, a Color, hr); s Text := CONCAT('Angle start ', REAL_TO_STRING(st Arc.f Start Angle * 180 / LREAL_TO_REAL(PI))); hr := F_VN_Put Text(s Text, ip Image Res, 420, 75, TCVN_FT_HERSHEY_SIMPLEX, 0.7, a Color, hr); s Text := CONCAT('Angle end ', REAL_TO_STRING(st Arc.f End Angle * 180 / LREAL_TO_REAL(PI))); hr := F_VN_Put Text(s Text, ip Image Res, 420, 100, TCVN_FT_HERSHEY_SIMPLEX, 0.7, a Color, hr); // Display source and result image hr := F_VN_Transform Into Displayable Image(ip Image In, ip Image In Disp, S_OK); hr := F_VN_Transform Into Displayable Image(ip Image Res, ip Image Res Disp, S_OK); Results For visualization, the circular arc found is drawn into the result image using the F_VN_Draw Circular Arc [} 987] function. The underlying numerical values are also displayed as text. 2794 Version: 2.4.0 TF7000 - TF7810
## Page 2795

Samples and tools Fig. 36: Locate Circular Arc_3Quarter Circle_Result TF7000 - TF7810 Version: 2.4.0 2795
## Page 2796

Samples and tools Fig. 37: Locate Circular Arc_Half Circle_Result 2796 Version: 2.4.0 TF7000 - TF7810
## Page 2797

Samples and tools Fig. 38: Locate Circular Arc_Quarter Circle_Result Similar samples • Locate Edge [} 2797] • Locate Ellipse [} 2802] • Measure Angle Between Edges [} 2807] 8.1.9.2 Locate Edge In this sample, • the function F_VN_Locate Edge Exp [} 1461] is used to locate an edge in a defined search window, • and the execution time is monitored with a watchdog and limited if necessary. Explanation A search window can be used to locate edges with the function F_VN_Locate Edge [} 1458]. Some parameters are fixed for simplicity. Alternatively, the function F_VN_Locate Edge Exp [} 1461] that is used here provides full access to all parameters. This sample is intended to illustrate the individual parameters. We recommend trying out configuration changes in addition to the standard configuration and consider the effects on the edge result and on the processing time. A selection of configuration changes including descriptions can be found under Results. Variables hr : HRESULT; hr Func : HRESULT; ip Image In : ITc Vn Image; TF7000 - TF7810 Version: 2.4.0 2797
## Page 2798

Samples and tools ip Image In Disp : ITc Vn Displayable Image; ip Image Res : ITc Vn Image; ip Image Res Disp : ITc Vn Displayable Image; // result ip Edge Points : ITc Vn Container; // parameters a Start Point : Tc Vn Point2_REAL := [850, 400]; a End Point : Tc Vn Point2_REAL := [550, 400]; e Direction : ETc Vn Edge Direction := TCVN_ED_DARK_TO_LIGHT; f Min Strength : REAL := 50; n Search Lines : UDINT := 31; f Search Line Dist : REAL := 1; n Max Thickness : UDINT := 7; n Subpix Iter : UDINT := 10; e Algorithm : ETc Vn Edge Detection Algorithm := TCVN_EDA_INTERPOLATION; f Avg Strength : REAL; // Watchdog hr WD : HRESULT; t Stop : DINT := 15000; t Rest : DINT; n Fraction : UDINT; // drawing a Line : Tc Vn Vector4_LREAL; a Color Green : Tc Vn Vector4_LREAL := [0, 175, 0]; a Color Blue : Tc Vn Vector4_LREAL := [0, 0, 255]; a Color Red : Tc Vn Vector4_LREAL := [255, 0, 0]; s Text : STRING(255); Code hr WD := F_VN_Start Rel Watchdog(t Stop, hr); hr Func := F_VN_Locate Edge Exp( ip Src Image := ip Image In, ip Edge Points := ip Edge Points, a Start Point := a Start Point, a End Point := a End Point, e Edge Direction := e Direction, f Min Strength := f Min Strength, n Search Lines := n Search Lines, f Search Line Dist := f Search Line Dist, n Max Thickness := n Max Thickness, n Subpixels Iterations := n Subpix Iter, f Approx Precision := 0.0001, e Algorithm := e Algorithm, hr Prev := hr, f Avg Strength => f Avg Strength); hr WD := F_VN_Stop Watchdog(hr WD, n Fraction Processed=>n Fraction, t Rest=>t Rest); // Draw result for visualization hr := F_VN_Convert Color Space(ip Image In, ip Image Res, TCVN_CST_GRAY_TO_RGB, hr); s Text := CONCAT(CONCAT('Processed ', UDINT_TO_STRING(n Fraction)), '%'); hr := F_VN_Put Text Exp(s Text, ip Image Res, 25, 50, TCVN_FT_HERSHEY_SIMPLEX, 1.3, a Color Green, 2, TCVN_LT_8_CONNECTED, FALSE, hr); s Text := CONCAT(CONCAT('Time ', DINT_TO_STRING(t Stop - t Rest)), 'us'); hr := F_VN_Put Text Exp(s Text, ip Image Res, 25, 100, TCVN_FT_HERSHEY_SIMPLEX, 1.3, a Color Green, 2, TCVN_LT_8_CONNECTED, FALSE,hr); s Text := CONCAT('Returncode ', DINT_TO_STRING(hr Func)); hr := F_VN_Put Text Exp(s Text, ip Image Res, 25, 150, TCVN_FT_HERSHEY_SIMPLEX, 1.3, a Color Green, 2, TCVN_LT_8_CONNECTED, FALSE,hr); hr := F_VN_Draw Point(REAL_TO_UDINT(a Start Point[0]), REAL_TO_UDINT(a Start Point[1]), ip Image Res, TCVN_DS_CIRCLE, a Color Red, hr); hr := F_VN_Draw Point(REAL_TO_UDINT(a End Point[0]), REAL_TO_UDINT(a End Point[1]), ip Image Res, TCVN_DS_X, a Color Red, hr); hr := F_VN_Fit Line(ip Edge Points, a Line, hr); hr := F_VN_Draw Line_Tc Vn Vector4_LREAL(a Line, ip Image Res, a Color Green, 2, hr); hr := F_VN_Draw Points Exp(ip Edge Points, ip Image Res, TCVN_DS_PLUS, a Color Blue, 1, 1, TCVN_LT_8_CONNECTED, hr); // Display source and result image hr := F_VN_Transform Into Displayable Image(ip Image In, ip Image In Disp, S_OK); hr := F_VN_Transform Into Displayable Image(ip Image Res, ip Image Res Disp, S_OK); 2798 Version: 2.4.0 TF7000 - TF7810
## Page 2799

Samples and tools Results For visualization, the edge points that are found are shown in blue, and a regression line is drawn in green in the output image. In addition, the starting point (red circle) and the end point (red X) are drawn. The processing percentage, the required execution time and the return value of the function are displayed in the top left corner. For the parameters used in this sample, the result looks like this: If the number of search lines is increased from 31 to 61 with the parameter n Search Lines, the required computing time is also doubled. In return, the regression line becomes more precise: TF7000 - TF7810 Version: 2.4.0 2799
## Page 2800

Samples and tools If you want to find the milling edge of the component instead of the outer edge, change the parameter e Direction to TCVN_ED_LIGHT_TO_DARK. This ignores the outer edge transition from dark to light and instead finds the following edge with the transition from light to dark: 2800 Version: 2.4.0 TF7000 - TF7810
## Page 2801

Samples and tools Reducing execution time It is noticeable that the execution time, despite otherwise identical parameters, is higher than when locating the outer edge. This is because the edge that is found is further away from the starting point. Conversely, this means that the execution time for a fixed search window varies slightly depending on the position of the component in the image, which can also be seen in the three sample images. An even greater fluctuation can occur with the two approximation algorithms, as they require different iterations to approximate the model parameters using the surrounding pixel intensities. In general, fewer iterations are required if the search lines of the search window hit the edge as orthogonally as possible. If the position and orientation of the objects in the image are subject to little or no fluctuation, the search window can be adjusted accordingly to achieve shorter execution times. In addition, the maximum time required can be reduced by reducing the maximum number of iterations, but this may lead to less accurate results. Using a watchdog In addition, the time can be limited with an external watchdog, which terminates the execution of the function if necessary and returns the existing partial results. For example, if the algorithm is changed to TCVN_EDA_APPROX_ERF and the maximum number of iterations is set to 60, the execution for the image Locate Edge2.bmp (outer edge orthogonal to the search lines) will take almost exactly 4 ms (depending on the installed CPU), while the other two images will take 4.3 and 4.4 ms. If the parameter t Stop is set to 4000, the execution of the function is stopped as soon as possible after 4 ms, and the partial results available up to then are returned. In other words, the function on the image Locate Edge2.bmp continues to be processed 100%, whereas the function on the other two images (in this case Locate Edge3.bmp) is terminated prematurely: TF7000 - TF7810 Version: 2.4.0 2801
## Page 2802

Samples and tools Since it is only possible to abort at certain points in the algorithm, and the partial results (previously found edge points on the search lines) are returned, the function is not terminated after exactly 4000 µs but takes a little longer, which must be taken into account when selecting the abort time. The maximum additional time required generally depends on the algorithm and the parameterization. Despite the termination, the partial results are sufficient to achieve the desired result, since only the results of one or two search lines are missing. Similar samples • Locate Circular Arc [} 2793] • Locate Ellipse [} 2802] • Measure Angle Between Edges [} 2807] 8.1.9.3 Locate Ellipse In this sample, • the function F_VN_Locate Ellipse Exp [} 1480] is used to locate a circular object in a defined search area • and the execution time is monitored with a watchdog and limited if necessary. Explanation For a basic understanding of the measurement functions and their parameters, please follow the Locate Edge sample [} 2797] first. The function F_VN_Locate Ellipse Exp [} 1480] differs from F_VN_Locate Edge Exp [} 1458] in that it uses a circular search window instead of a rectangular one. In this sample a large, inaccurate search window is parameterized, since the position of the circular objects changes slightly. The circles can be determined with the same search window in all images. 2802 Version: 2.4.0 TF7000 - TF7810
## Page 2803

Samples and tools The parameter b Invert Search Direction which was set to TRUE in this sample, was used to define that the search direction is reversed, i.e. from the outside towards a Center. This is necessary because the sample images also contain edges within the ellipse the system is looking for. The search direction was set to TCVN_ED_LIGHT_TO_DARK, since in this sample the objects are darker than the background. The parameter n Max Thickness, which defines the number of pixels with which f Min Strength must be reached, was set to "7". Variables hr : HRESULT; hr Func : HRESULT; ip Image In : ITc Vn Image; ip Image In Disp : ITc Vn Displayable Image; ip Image Res : ITc Vn Image; ip Image Res Disp : ITc Vn Displayable Image; // result st Ellipse : Tc Vn Rotated Rectangle; ip Contour Points : ITc Vn Container; // input parameters a Center : Tc Vn Point2_REAL := [650, 400]; f Radius : REAL := 300; f Min Radius : REAL := 100; f Min Strength : REAL := 30; n Sub Pix Iter : UDINT := 10; n Search Lines : UDINT := 40; e Algorithm : ETc Vn Edge Detection Algorithm := TCVN_EDA_INTERPOLATION; // Watchdog hr WD : HRESULT; t Stop : DINT := 15000; t Rest : DINT; n Fraction : UDINT; // drawing a Color Red : Tc Vn Vector4_LREAL := [200, 0, 0]; a Color Green : Tc Vn Vector4_LREAL := [0, 175, 0]; s Text : STRING(255); Code hr WD := F_VN_Start Rel Watchdog(t Stop, hr); hr Func := F_VN_Locate Ellipse Exp( ip Src Image := ip Image In, st Ellipse := st Ellipse, a Center := a Center, f Search Radius := f Radius, e Edge Direction := TCVN_ED_LIGHT_TO_DARK, f Min Strength := f Min Strength, n Max Thickness := 7, b Invert Search Direction := TRUE, f Min Search Radius := f Min Radius, n Subpixels Iterations := n Subpix Iter, n Search Lines := n Search Lines, f Approx Precision := 0.0001, e Algorithm := e Algorithm, ip Contour Points := ip Contour Points, hr Prev := hr); hr WD := F_VN_Stop Watchdog(hr WD, n Fraction Processed=>n Fraction, t Rest=>t Rest); // Draw result for visualization hr := F_VN_Convert Color Space(ip Image In, ip Image Res, TCVN_CST_GRAY_TO_RGB, hr); s Text := CONCAT(CONCAT('Processed ', UDINT_TO_STRING(n Fraction)), '%'); hr := F_VN_Put Text Exp(s Text, ip Image Res, 25, 50, TCVN_FT_HERSHEY_SIMPLEX, 1.3, a Color Green, 2, TCVN_LT_8_CONNECTED, FALSE, hr); s Text := CONCAT(CONCAT('Time ', DINT_TO_STRING(t Stop - t Rest)), 'us'); hr := F_VN_Put Text Exp(s Text, ip Image Res, 25, 100, TCVN_FT_HERSHEY_SIMPLEX, 1.3, a Color Green, 2, TCVN_LT_8_CONNECTED, FALSE,hr); hr := F_VN_Draw Circle(REAL_TO_UDINT(a Center[0]), REAL_TO_UDINT(a Center[1]), REAL_TO_UDINT(f Min Radius), ip Image Res, a Color Red, 2, hr); hr := F_VN_Draw Circle(REAL_TO_UDINT(a Center[0]), REAL_TO_UDINT(a Center[1]), REAL_TO_UDINT(f Radius), ip Image Res, a Color Red, 2, hr); TF7000 - TF7810 Version: 2.4.0 2803
## Page 2804

Samples and tools hr := F_VN_Draw Points(ip Contour Points, ip Image Res, TCVN_DS_X, a Color Green, hr); hr := F_VN_Draw Point(REAL_TO_UDINT(st Ellipse.a Center[0]), REAL_TO_UDINT(st Ellipse.a Center[1]), ip Image Res, TCVN_DS_PLUS, a Color Green, hr); hr := F_VN_Draw Ellipse(st Ellipse, ip Image Res, a Color Green, 1, hr); // Display source and result image hr := F_VN_Transform Into Displayable Image(ip Image In, ip Image In Disp, S_OK); hr := F_VN_Transform Into Displayable Image(ip Image Res, ip Image Res Disp, S_OK); Results The function returns the Tc Vn Rotated Rectangle structure st Ellipse, which defines the ellipse that was found by its center a Center, its height and width st Size.f Height / st Size.f Width and its angle f Angle. Optionally, one additional edge point per search line ip Contour Points can be returned from which the ellipse was approximated. For visualization, the search area is first drawn into the image in the form of two red circles around the specified center point. The ellipse that was found is drawn as a green line and the corresponding center as a green „+“. The individual measuring points from ip Contour Points are drawn as green x. In addition, the processing percentage and the required computing time are shown at the top left. For the parameters used in this sample, the result for the input image Locate Ellipse_T.bmp looks like this: If the number of search lines is increased from 40 to 180, the required computing time increases linearly as expected: 2804 Version: 2.4.0 TF7000 - TF7810
## Page 2805

Samples and tools In practice the computing time varies somewhat, depending on the input image. In many cases it is therefore useful to limit the computing time by means of a watchdog. If, for example, the number of search lines is set to 120 and the watchdog timeout t Stop to 2000 (depending on the CPU used), the function is terminated at around 85% of the processing time, and the partial results available at this point are returned: TF7000 - TF7810 Version: 2.4.0 2805
## Page 2806

Samples and tools Since the algorithm can only be interrupted and the partial results returned at specific points, the function does not abort exactly after 2000 µs but takes a little longer, which must be taken into account when selecting the abort time. The maximum additional time required generally depends on the algorithm and the parameterization. Although the results of some search lines are missing due to the termination (four relatively large gaps between the green x), the ellipse could still be correctly approximated, i.e. the partial results can be used as if the function had been processed 100%. This is also possible to a limited extent if the position of an object is partly outside the defined search range, e.g. because a previous positioning step was incorrect. If, for example, f Min Radius is set to 180, part of the outer contour of some sample images lies outside the specified range. Nevertheless, enough search points are available to approximate an ellipse. In practice, however, once should not rely on this and should set the search area large enough: 2806 Version: 2.4.0 TF7000 - TF7810
## Page 2807

Samples and tools Similar samples • Locate Circular Arc [} 2793] • Locate Edge [} 2797] • Measure Angle Between Edges [} 2807] 8.1.9.4 Measure Angle Between Edges In this sample, • the F_VN_Measure Angle Between Edges Exp [} 1488] function is used to measure the angle between two edges of an object • and the execution time is monitored with a watchdog and limited if necessary. Explanation After defining the search windows, the search direction was set to TCVN_ED_LIGHT_TO_DARK, because in this sample the search is performed from the inside to the outside and the objects are lighter than the background. The n Max Thickness parameter, which defines the number of pixels with which f Min Strength must be reached, was set to "7". Variables hr : HRESULT; hr Func : HRESULT; ip Image In : ITc Vn Image; ip Image In Disp : ITc Vn Displayable Image; ip Image Res : ITc Vn Image; TF7000 - TF7810 Version: 2.4.0 2807
## Page 2808

Samples and tools ip Image Res Disp : ITc Vn Displayable Image; // result f Angle : REAL; ip Edge Points1 : ITc Vn Container; ip Edge Points2 : ITc Vn Container; // parameters a Inner Point : Tc Vn Point2_REAL := [635, 350]; a Outer Point1 : Tc Vn Point2_REAL := [530, 280]; a Outer Point2 : Tc Vn Point2_REAL := [790, 280]; f Min Strength : REAL := 50; n Search Lines : UDINT := 41; f Search Line Dist : REAL := 1; n Subpix Iter : UDINT := 10; e Algorithm : ETc Vn Edge Detection Algorithm := TCVN_EDA_INTERPOLATION; // Watchdog hr WD : HRESULT; t Stop : DINT := 15000; t Rest : DINT; n Fraction : UDINT; // drawing a Line1 : Tc Vn Vector4_LREAL; a Line2 : Tc Vn Vector4_LREAL; a Color Red : Tc Vn Vector4_LREAL := [255, 0, 0]; a Color Green : Tc Vn Vector4_LREAL := [0, 175, 0]; a Color Yellow : Tc Vn Vector4_LREAL := [255, 255, 0]; s Text : STRING(255); Code hr WD := F_VN_Start Rel Watchdog(t Stop, hr); hr Func := F_VN_Measure Angle Between Edges Exp( ip Src Image := ip Image In, f Angle := f Angle, a Inner Point := a Inner Point, a Outer Point1 := a Outer Point1, a Outer Point2 := a Outer Point2, e Edge Direction := TCVN_ED_LIGHT_TO_DARK, f Min Strength := f Min Strength, n Search Lines := n Search Lines, f Search Line Dist := f Search Line Dist, n Max Thickness := 7, b Invert Search Direction := FALSE, n Subpixels Iterations := n Subpix Iter, b Angle In Degrees := TRUE, f Approx Precision := 0.0001, e Algorithm := e Algorithm, ip Edge Points1 := ip Edge Points1, ip Edge Points2 := ip Edge Points2, hr Prev := hr); hr WD := F_VN_Stop Watchdog(hr WD, n Fraction Processed=>n Fraction, t Rest=>t Rest); // Draw result for visualization hr := F_VN_Convert Color Space(ip Image In, ip Image Res, TCVN_CST_GRAY_TO_RGB, hr); s Text := CONCAT('Angle ', REAL_TO_STRING(f Angle)); hr := F_VN_Put Text Exp(s Text, ip Image Res, 25, 200, TCVN_FT_HERSHEY_SIMPLEX, 1.3, a Color Green, 2, TCVN_LT_8_CONNECTED, FALSE,hr); s Text := CONCAT(CONCAT('Time ', DINT_TO_STRING(t Stop - t Rest)), 'us'); hr := F_VN_Put Text Exp(s Text, ip Image Res, 25, 250, TCVN_FT_HERSHEY_SIMPLEX, 1.3, a Color Green, 2, TCVN_LT_8_CONNECTED, FALSE,hr); hr := F_VN_Draw Point Exp(REAL_TO_UDINT(a Inner Point[0]), REAL_TO_UDINT(a Inner Point[1]), ip Image Res, TCVN_DS_CIRCLE, a Color Green, 3, 2, TCVN_LT_8_CONNECTED, hr); hr := F_VN_Draw Point Exp(REAL_TO_UDINT(a Outer Point1[0]), REAL_TO_UDINT(a Outer Point1[1]), ip Image Res, TCVN_DS_X, a Color Red, 3, 2, TCVN_LT_8_CONNECTED, hr); hr := F_VN_Draw Point Exp(REAL_TO_UDINT(a Outer Point2[0]), REAL_TO_UDINT(a Outer Point2[1]), ip Image Res, TCVN_DS_X, a Color Yellow, 3, 2, TCVN_LT_8_CONNECTED, hr); hr := F_VN_Fit Line(ip Edge Points1, a Line1, hr); hr := F_VN_Fit Line(ip Edge Points2, a Line2, hr); hr := F_VN_Draw Line_Tc Vn Vector4_LREAL(a Line1, ip Image Res, a Color Green, 2, hr); hr := F_VN_Draw Line_Tc Vn Vector4_LREAL(a Line2, ip Image Res, a Color Green, 2, hr); hr := F_VN_Draw Points Exp(ip Edge Points1, ip Image Res, TCVN_DS_PLUS, a Color Red, 1, 1, TCVN_LT_8_CONNECTED, hr); hr := F_VN_Draw Points Exp(ip Edge Points2, ip Image Res, TCVN_DS_PLUS, a Color Yellow, 1, 1, TCVN_LT_8_CONNECTED, hr); 2808 Version: 2.4.0 TF7000 - TF7810
## Page 2809

Samples and tools // Display source and result image hr := F_VN_Transform Into Displayable Image(ip Image In, ip Image In Disp, S_OK); hr := F_VN_Transform Into Displayable Image(ip Image Res, ip Image Res Disp, S_OK); Results For visualization purposes, a Inner Point is first displayed as a green circle, a Outer Point1 as a red x and a Outer Point2 as a yellow x. The corresponding ip Edge Points1 and ip Edge Points2 edge points that were found are also drawn in red or yellow. The lines approximated from the edge points are drawn in green. The calculated f Angle angle in degrees and the required computing time in µs are displayed on the left in the image. For the parameters used in this sample, the result looks like this: To get a more accurate result, e Algorithm can be changed to TCVN_EDA_APPROX_ERF and n Subpix Iter to 50. However, this also significantly increases the computing time required: TF7000 - TF7810 Version: 2.4.0 2809
## Page 2810

Samples and tools Similar samples • Locate Circular Arc [} 2793] • Locate Edge [} 2797] • Locate Ellipse [} 2802] 8.1.10 OCR This sample shows how characters such as dates and batch numbers on product packaging can be recognized using the OCR (Optical Character Recognition) functionality. The code illustrates the application of the F_VN_OCR [} 1564] standard function as well as the F_VN_OCRExp [} 1565] extended function, including the required pre- and post-processing. Explanation The functions enable the recognition of alphanumerical characters in binary images (white characters on a black background). The classification is based on Machine Learning models with different function and character ranges. • The ETc Vn Ocr Model Type [} 214] enum can be used to access various models: ◦ TCVN_OMT_NUMBERS: Numbers ◦ TCVN_OMT_NUMBERS_SC: Numbers + special characters ◦ TCVN_OMT_UCLETTERS: Capital letters ◦ TCVN_OMT_NUMBERS_SC_UCLETTERS: Combined character set • The F_VN_OCRExp function offers extended options: ◦ s Pattern for defined format and character specifications (e.g. "uudd" for "AB12") 2810 Version: 2.4.0 TF7000 - TF7810
## Page 2811

Samples and tools ◦ e Ocr Options additional ETc Vn Ocr Options [} 215] that influence the functionality and result output ◦ ip Bounding Boxes for the return of bounding boxes for the recognized characters ◦ ip Confidences for the confidence values per character The complete description, the requirements and restrictions as well as further information can be found in the chapter OCR [} 1561] and under the respective functions. Model initialization For OCR recognition, the underlying character recognition model must be initialized before the first use. This is done via the FB_VN_Initialize Function [} 1591] function block, whereby the function to be initialized must first be specified at e Function. The models to be used later when calling up the OCR function are defined with n Options. Several models can be initialized simultaneously with one function call. F_VN_Check Function Initialization [} 1515] can then be used to check whether the respective model has been initialized correctly. If the model is to be changed at runtime or is no longer required, the model can be deinitialized with F_VN_Deinitialize Function [} 1522] in order to release the memory again. Variables b Initialized : BOOL := FALSE; fb Init : FB_VN_Initialize Function; n Return Code : UDINT; Code IF NOT b Initialized THEN fb Init( e Function := TCVN_IF_OCR, n Options := ETc Vn Ocr Model Type. TCVN_OMT_NUMBERS_SC OR ETc Vn Ocr Model Type. TCVN_OMT_UCLETTERS, b Start := TRUE); IF NOT fb Init.b Busy THEN fb Init(b Start := FALSE); IF NOT fb Init.b Error THEN b Initialized := TRUE; n Return Code := fb Init.n Error Id AND 16#FFF; ELSE n Return Code := fb Init.n Error Id AND 16#FFF; END_IF END_IF END_IF Preprocessing Some pre-processing steps are necessary or useful for using the OCR functions. First, an ROI must be defined that contains only the characters to be recognized in a line and an interference-free zone around the characters. Furthermore, this image region must be converted into a 1-channel binary image that contains only the white characters to be recognized on a black background. In this example, the F_VN_Threshold [} 1298] is used, which is applied normally or inverted depending on the background and the character color. As images of different products with different scenarios are used in the sample project, some parameters such as st Roi and f Threshold were stored individually for each test image within the F_Get ROI function and retrieved using the image name. In practice, the different parameter values are usually handled via a recipe in the user interface. The following image, in which the specified ROI is shown in red, is used to further describe the example application. TF7000 - TF7810 Version: 2.4.0 2811
## Page 2812

Samples and tools In addition to the necessary pre-processing, as shown in the example, filter operations for noise suppression and morphological operations such as opening or closing can be used to remove small disturbances and to smooth or complete character shapes. Contrast enhancement functions are also frequently used. The choice of suitable filter functions and parameters depends heavily on the specific properties of the image material, so other functions, e.g. from Image Color And Contrast Processing [} 1204], Image Filtering [} 1241] or Image Segmentation [} 1291], can also contribute to the improvement. Another helpful step can be the removal of border objects with the F_VN_Bright Border Objects [} 1249] and F_VN_Subtract Images [} 543] functions. This eliminates distracting objects at the edge of the image region. These often occur when the ROI definition is imprecise, such as when parts of adjacent characters or lines are inadvertently included in the section, especially if the distances between them are quite small. The following pre-processing steps are carried out in the sample project: 1. Set ROI 2. Filter image 3. Binarize image 4. Remove border objects Code 2812 Version: 2.4.0 TF7000 - TF7810
## Page 2813

Samples and tools // Set ROI hr := F_VN_Set Roi_Tc Vn Rectangle_UDINT(st Roi, ip Binary Image, hr); // Filter image hr := F_VN_Create Structuring Element(ip Struct Elem, ETc Vn Structuring Element Shape. TCVN_SES_RECTANGLE, 3,3, hr); hr := F_VN_Morphological Operator(ip Binary Image, ip Binary Image, ETcvn Morphological Operator. TCVN_MO_OPENING, ip Struct Elem, hr); // Binarize image depending on bright or dark text color IF b Invert Image THEN hr := F_VN_Threshold(ip Binary Image, ip Binary Image, f Threshold, 255, TCVN_TT_BINARY_INV, hr); ELSE hr := F_VN_Threshold(ip Binary Image, ip Binary Image, f Threshold, 255, TCVN_TT_BINARY, hr); END_IF // Remove border objects hr := F_VN_Bright Border Objects(ip Binary Image, ip Thresh Border, hr); hr := F_VN_Subtract Images(ip Binary Image, ip Thresh Border, ip Binary Image, hr); OCR application After successful pre-processing, the OCR function can be used. In the sample project, the b Use Exp Function parameter can be used to switch between the standard and the expert version. The following description refers to the use of the expert version and the additional options. The s Pattern parameter is used to specify the character format to be recognized. This option is particularly useful if the sequence and type of characters to be recognized are known in advance. You can then specify which character is expected for each position in the character string. This gives the function the information about which recognition model should be used for each character, which can lead to better results. The specific models contain fewer characters, which reduces the risk of confusion. Furthermore, the function directly returns S_FALSE if the recognized characters do not match the default. For the image shown, the pattern "uu#dddddddddd" is used to recognize the character string. This means that the TCVN_OMT_UCLETTERS model is used for the first two characters to identify capital letters. The function then uses the model TCVN_OMT_NUMBERS_SC for the following nine characters, whereby a special character is expected in the first position and a digit in each of the remaining eight positions. Code hr OCR := F_VN_OCRExp( ip Src Image := ip Binary Image, e Model := ETc Vn Ocr Model Type. TCVN_OMT_NUMBERS_SC or ETc Vn Ocr Model Type. TCVN_OMT_UCLETTERS, ip Characters := ip OCRResult, s Pattern := s Pattern, e Ocr Options := e Ocr Options, ip Bounding Boxes := ip Bounding Boxes, ip Confidences := ip Confidences, hr Prev := hr, f Min Confidence => f Min Confidence); // Check if characters were found hr := F_VN_Get Number Of Elements(ip OCRResult, n Number Of Elements, hr OCR); IF SUCCEEDED(hr) AND n Number Of Elements > 0 THEN // Export character to string hr := F_VN_Export Sub Container_String(ip OCRResult, 0, s Text, 255, hr); // Write text result to image hr := F_VN_Put Text(s Text, ip Original Image, st Roi.n X + 5, st Roi.n Y + 25, TCVN_FT_HERSHEY_DUPLEX, 1, a Green Color, hr); // Further processing … END_IF OCR result evaluation After calling the OCR function, the HRESULT return value should first be evaluated and checked to see whether or how many characters were recognized. If S_OK is returned, the standard function has recognized characters, with the expert version it depends on whether a s Pattern default has been passed. If there is a default, S_OK is only returned if the recognized characters match it. Otherwise, S_False is returned and you can examine the recognized characters yourself. TF7000 - TF7810 Version: 2.4.0 2813
## Page 2814

Samples and tools If characters are recognized, they can be exported to a string and, for example, drawn into an image for visual feedback. Furthermore, the number of characters, the entire string or individual characters can be compared with stored expected values. As these assessments are very individual and can be implemented with standard PLC functions, they are not used in this example. When using the expert version, the individual classification confidences of the recognized characters can be exported, viewed and used as acceptance criteria for a more detailed analysis. In order to be able to assign the boundaries, overlapping or possibly incorrectly recognized characters, it is possible to call up the bounding box modules of the individual recognized characters, evaluate them and draw in an image. When calculating and drawing, the previously set ROI may need to be taken into account. Code // Get number of Confidence elements and export them if array is large enough hr := F_VN_Get Number Of Elements(ip Confidences, n Number Of Elements, hr); // Check if number of elements fits to array size IF n Number Of Elements > 0 AND n Number Of Elements <= 12 THEN hr := F_VN_Export Container(ip Confidences, ADR(a Confidences), SIZEOF(a Confidences), hr); END_IF // Get bounding box rectangle and draw it to filtered and original image hr := F_VN_Get Number Of Elements(ip Bounding Boxes, n Number Of Elements, hr); IF n Number Of Elements > 0 THEN FOR n Iterator := 0 TO n Number Of Elements -1 DO hr := F_VN_Get At_Tc Vn Rectangle_DINT(ip Bounding Boxes, st Rectangle, n Iterator, hr); hr := F_VN_Draw Rectangle_Tc Vn Rectangle_DINT(st Rectangle, ip Binary Image, a White Color, 1, hr); // Add ROI Offset st Rectangle.n X := st Rectangle.n X + UDINT_TO_DINT(st Roi.n X); st Rectangle.n Y := st Rectangle.n Y + UDINT_TO_DINT(st Roi.n Y); hr := F_VN_Draw Rectangle_Tc Vn Rectangle_DINT(st Rectangle, ip Original Image, a Blue Color, 1, hr); END_FOR END_IF Presentation of results The following image shows the result display of the expert function. The recognized characters are shown in green and the optional bounding box modules in blue. The confidence values for each recognized character are available for further evaluation in the a Confidences array. 2814 Version: 2.4.0 TF7000 - TF7810
## Page 2815

Samples and tools 8.1.11 Self-written functions This sample explains what needs to be observed when writing your own functions for Vision applications. It essentially concerns: • the handling of the HRESULT [} 144] • the handling of interface pointers [} 140] Other structures too This function implementation is based on the structure of the Twin CAT Vision API functions. Other structures are also conceivable, but please pay attention to the points explained here. Methods too In this sample a function is described. However, it applies equally to methods. For this purpose, by way of example, a self-written function for the counting and painting of objects is considered: FUNCTION F_Count And Draw Objects : HRESULT Declaration part The attributes of the function are declared as follows in the VAR_INPUT part. The original image is transferred directly as ITc Vn Image. Since no variable values are stored in a function or method, nothing else needs to be observed in this case. On the other hand, the result image is passed as REFERENCE TO ITc Vn Displayable Image, since it is created in the function and is to be returned externally for further processing. In this case, no copy of the interface pointer is created due to the reference. VAR_INPUT ip Src Image : ITc Vn Image; ip Dest Image : REFERENCE TO ITc Vn Image; a Color : Tc Vn Vector4_LREAL; n Number Of Objects : REFERENCE TO ULINT; hr Prev : HRESULT; END_VAR In addition, some auxiliary variables required internally by the function are declared in the VAR. VAR hr : HRESULT; ip Contours : ITc Vn Container; st Params : Tc Vn Params Blob Detection; END_VAR TF7000 - TF7810 Version: 2.4.0 2815
## Page 2816

Samples and tools Input checks At the start of the function, some input checks are performed in order to ensure that the function can be executed properly. Initially, FAILED(hr Prev) is used to check whether an error has occurred in the previous processing chain. If so, the same error is displayed and the function is ended directly. IF FAILED(hr Prev) THEN F_Count And Draw Objects := hr Prev; RETURN; END_IF A check is also performed to ascertain whether all interface pointers that are transferred to the function as VAR_INPUT are valid. Otherwise the function cannot do anything with them and returns INVALIDPARM as the return code. IF ip Src Image = 0 THEN F_Count And Draw Objects := Tc2_System. E_HRESULTAds Err. INVALIDPARM; RETURN; END_IF If all input checks were successful, the reference counter of all interface pointers transferred as VAR_INPUT must be incremented, because due to the transfer of the interface pointer a copy is created that is retained after the function block is executed and has to be mapped in the reference counter. The method Tc Add Ref can be executed here directly without a prior <> 0 check, as this has already taken place during the input checks. As already described in the declaration part, incrementing the reference counter is not necessary for functions and methods, because the variable values, like in this case the pointer address, are not preserved after execution. Main processing The actual image processing sequence is located in the main part of the function. This is only an example here and will not be considered any further. The call of F_VN_Convert Color Space illustrates that interface pointers, which are transferred as REFERENCE TO for the purpose of the result return, can be written directly by Twin CAT Vision API functions. hr := F_VN_Convert Color Space(ip Src Image, ip Dest Image, TCVN_CST_GRAY_TO_RGB, hr); st Params.b Filter By Area := TRUE; st Params.f Min Area := 10_000; st Params.f Max Area := 100_000; hr := F_VN_Detect Blobs(ip Src Image, ip Contours, st Params, hr); hr := F_VN_Get Number Of Elements(ip Contours, n Number Of Objects, hr); hr := F_VN_Draw Contours(ip Contours, -1, ip Dest Image, a Color, 5, hr); By means of this image processing sequence, objects are painted in the result image and their quantity returned as ULINT: Original image Result image Number of objects found: 4 2816 Version: 2.4.0 TF7000 - TF7810
## Page 2817

Samples and tools Tidy up and return Following the actual image processing sequence, the interface pointers declared within the function are released again. This is the case because all variables declared in the function (i.e. the interface pointers too) are deleted after ending the function. If there are still data in the background that have not yet been released, this will lead to memory leaks. FW_Safe Release(ADR(ip Contours)); Finally, the HRESULT is assigned to the function as the return value in order to report any errors to the outside. So that it is not falsified, the return values of the FW_Safe Release functions should not be assigned to the HRESULT. F_Count And Draw Objects := hr; 8.2 Function block samples This section contains samples for the function blocks [} 1571]. 8.2.1 Camera Register Access 8.2.1.1 Reading/writing a register All camera parameters that can be read or written via the Configuration Assistant in Config mode can also be read from the PLC via the function blocks FB_VN_Read Register_UDINT [} 1577] and FB_VN_Read Register_REAL [} 1575] or written via FB_VN_Write Register_UDINT [} 1585] and FB_VN_Write Register_REAL [} 1583]. The function block required depends on the data type of the parameter and can be read in the Property list on the Register Type. In this sample, the exposure time is written and read as an integer. fb Read Value : FB_VN_Read Register_UDINT; fb Write Value : FB_VN_Write Register_UDINT; Both function blocks require the address of the parameter and an indication of the byte sequence (endianness). The Write function block additionally requires the parameter value that is to be written to the camera. As the value displayed or entered under Value need not directly conform to how the camera processes it internally, e.g. in the case of enums or other byte sequences, this can be read under the Value register. This information can be read from the Configuration Assistant: TF7000 - TF7810 Version: 2.4.0 2817
## Page 2818

Samples and tools NOTICE Camera-specific parameters The parameter names, properties and values shown here are vendor-specific or camera-specific and firmware-specific and may therefore differ. Variables b Trigger Read Value : BOOL; n Read Value : UDINT; fb Read Value : FB_VN_Read Register_UDINT; n Return Code Read : UDINT; b Trigger Write Value : BOOL; n Write Value : UDINT := 5000; fb Write Value : FB_VN_Write Register_UDINT; n Return Code Write : UDINT; Code fb Read Value( n Address := 16#20004BFC, // Check the Address of the Camera Parameter n Endian := 1, // 0 = Big, 1 = Little b Read := b Trigger Read Value, n Timeout := T#5S, n Value => n Read Value); fb Write Value( n Address := 16#20004BFC, // Check the Address of the Camera Parameter n Value := n Write Value, // Check the right Input Format n Endian := 1, // 0 = Big, 1 = Little b Write := b Trigger Write Value, n Timeout := T#5S); Conditions for the reading and writing of parameters Parameters can generally only be read or written with an opened camera connection (ETc Vn Camera State >= TCVN_CS_OPENED). Please refer to the respective vendor documentation for the camera for the exact conditions. Both function blocks must be initialized with the Image Provider of the camera: Fig. 39: Linking function blocks with a camera instance 8.2.2 File Access 8.2.2.1 Saving images from the PLC In this sample, images from the PLC are saved to a local drive. The function block FB_VN_Write Image [} 1606] is used for this purpose. The save process takes place asynchronously over several cycles. 2818 Version: 2.4.0 TF7000 - TF7810
## Page 2819

Samples and tools Duration of the save process The duration of the save process depends on various factors and can therefore not be stated in general terms. Variables hr : HRESULT; fb Camera : FB_VN_Simple Camera Control; ip Image In : ITc Vn Image; ip Image In Disp : ITc Vn Displayable Image; // Sample Specific Variables fb Write Image : FB_VN_Write Image := (n Timeout := T#500MS); s File Path : STRING(255) := ''; b Write Image Trigger : BOOL; b Write Image Wait Result: BOOL; b Write Image Done : BOOL; n Return Code : UDINT; In this sample an image can be saved by setting the trigger variable b Write Image Trigger to TRUE. Code The ip Image transferred is already completely accepted on the first call of fb Write Image with a rising edge at b Write and can therefore be released immediately afterwards, e.g. with F_VN_Transform Into Displayable Image. Thereafter, the fb Write Image must continue to be cyclically called until the b Busy output is FALSE again. This can be the case with an error or even with the first call, e.g. if no file extension or an incorrect one is specified. An evaluation of whether writing was successful or whether an error occurred takes place in the IF block below. If successful, b Write Image Done is set and remains unchanged until the next time b Write Image Trigger is set. IF SUCCEEDED(hr) AND ip Image In <> 0 THEN IF NOT fb Write Image.b Busy AND b Write Image Trigger THEN b Write Image Trigger := FALSE; b Write Image Done := FALSE; b Write Image Wait Result := TRUE; // With setting s File Path:= '' to an empty string the images are saved under the default path // The default path can be set at the service configuration tab of the Vision Node // If s File Path is set, it must contain the full path, image name and type // for example: s File Path := 'C:\Write Image\Image Name.bmp' fb Write Image(ip Image := ip Image In, s File Path := s File Path, b Write := TRUE); END_IF hr := F_VN_Transform Into Displayable Image(ip Image In, ip Image In Disp, hr); END_IF fb Write Image(s Filepath:= '', b Write := FALSE); IF b Write Image Wait Result AND NOT fb Write Image.b Busy THEN b Write Image Wait Result := FALSE; // Check if fb Write Image was finished successfully or implement error handling IF fb Write Image.b Error THEN n Return Code := fb Write Image.n Error Id AND 16#FFF; ELSE b Write Image Done := TRUE; n Return Code := 0; END_IF END_IF 8.2.2.2 Serial loading of images into the PLC In this sample you load images serially into the PLC. For this you use: • FB_VN_Read Image [} 1599] TF7000 - TF7810 Version: 2.4.0 2819
## Page 2820

Samples and tools This sample applies analogously to the loading of containers with FB_VN_Read Container [} 1597]. Explanation A frequent use case is where reference images are saved for comparison with the live image in the controller. These reference images should be replaced during operation, e.g. when a new reference is introduced. Images may be reloaded any number of times and at any interval. So as not to have to inform the PLC of the file name for every new reference image, define a naming convention. This could be, for example, Image<Index>.png, where <Index> is to be replaced by a sequential integer. Each new reference image is then given a file name with an index incremented by 1. The PLC thus knows what the name of the next reference image must be and can purposefully attempt to load it. NOTICE Risk of file corruption Never replace the content of an image file; instead, only create new images in the file system! Firstly, replaced images are not registered due to internal caching mechanisms of the Vision service. Secondly, simultaneous access to an image by several processes can lead to a file corruption. The cache settings can be adjusted alternatively. Application 6 color images with the name image<Index>.png and the empty folder load are attached to this sample. Define the absolute path of the load folder as s Base Path. After starting the sample PLC, move the images in order (starting with Index=0) to the load folder and observe in the ADS Image Watch that the image ip Image Ref Disp changes accordingly. Program In the cyclic program you initially calculate the path of the file to be loaded, based on the index n Index. Also, adjust the base path s Base Path in the variable declaration so that it matches the memory location of your images. s Path := CONCAT(CONCAT(s Base Path, TO_STRING(n Index)), '.png'); Using the calculated path, cyclically call the function block fb Read Image of the type FB_VN_Read Image [} 1599]. fb Read Image( s File Path := s Path, ip Dest Image := ip Image In, b Read := TRUE, n Timeout := T#1S ); In addition to calling the function block, you must react when it is ready. On the one hand, you reset the function block by means of a call with b Read:=FALSE; on the other, you increment the index and forward the image to the desired interface pointer, provided the execution is successful. Querying whether an error has occurred is very important, as you may only increment the index if the current image has already been loaded successfully. IF NOT fb Read Image.b Busy THEN IF NOT fb Read Image.b Error THEN n Return Code := 0; n Index := n Index + 1; IF ip Image In <> 0 THEN FW_Safe Release(ADR(ip Image Ref)); ip Image Ref := ip Image In; ip Image In. Tc Add Ref(); FW_Safe Release(ADR(ip Image In)); END_IF ELSE n Return Code := fb Read Image.n Error Id AND 16#FFF; END_IF fb Read Image(s File Path:='', b Read:=FALSE); END_IF 2820 Version: 2.4.0 TF7000 - TF7810
## Page 2821

Samples and tools In order to save memory and computing time, the forwarding of the image takes place here via an orderly transfer of the interface and not via a copy. 8.2.3 Image acquisition 8.2.3.1 Triggering an image by file name In this sample an image is purposefully triggered on the basis of the file name in the function block FB_VN_File Source Control [} 1614]. Application The sample displays alternately two images with the file names Image1.bmp and Image2.bmp from the file source in ADS Image Watch [} 134]. The sample includes the images with corresponding file names. You can replace the sample images with your own images or add them additionally. To do this, change or add to the file names in s File Name and adjust the number of elements if necessary. Note that all images to be displayed must be added in the File Source Control [} 130]. By setting b Loop to false you stop the automatic switching of images and then you can select the image to be triggered by setting n Image Index. Program hr : HRESULT; s File Name : ARRAY [0..1] OF STRING := ['Image1.bmp', 'Image2.bmp']; fb File Source : FB_VN_File Source Control; e State : ETc Vn Camera State; ip Image In : ITc Vn Image; ip Image In Disp : ITc Vn Displayable Image; b Trigger : BOOL := TRUE; b Loop : BOOL := TRUE; n Image Index : UINT := 0; fb File Source Function block for controlling the File Source [} 129] of the type FB_VN_File Source Control [} 1614]. e State State of the File Source ip Image In Input image ip Image In Disp Displayable input image b Trigger Trigger flag s File Name File name – change this variable in order to load a different image. However, this image must be added in the File Source Control [} 130]. hr Status variable of the type HRESULT [} 144]. In general, the usual state machine is used to operate the file source: e State := fb File Source. Get State(); CASE e State OF <...> END_CASE Resetting in case of errors and the starting of the image acquisition take place just as normal in the corresponding states: TCVN_CS_INITIAL, TCVN_CS_INITIALIZING, TCVN_CS_INITIALIZED, TCVN_CS_OPENING, TCVN_CS_OPENED, TCVN_CS_STARTACQUISITION: fb File Source. Start Acquisition(); TCVN_CS_ERROR: fb File Source. Reset(); However, so that the file source doesn't load images immediately when the image acquisition is started, the Trigger Mode must be activated in the File Source Control: TF7000 - TF7810 Version: 2.4.0 2821
## Page 2822

Samples and tools In the ACQUIRING state, the image with the corresponding file name will now be alternately triggered and then received. The method Trigger Image By Name [} 1622] is explicitly used here to trigger the image. This method exists only in the function block FB_VN_File Source Control [} 1614] and not in FB_VN_Simple Camera Control [} 1647]. TCVN_CS_ACQUIRING: IF b Trigger THEN hr := fb File Source. Trigger Image By Name(s File Name[n Image Index]); IF SUCCEEDED(hr) THEN b Trigger := FALSE; IF b Loop THEN n Image Index := n Image Index + 1; IF n Image Index >= 2 THEN n Image Index := 0; END_IF END_IF END_IF ELSE hr := fb File Source. Get Current Image(ip Image In); IF SUCCEEDED(hr) AND ip Image In <> 0 THEN b Trigger := TRUE; hr := F_VN_Transform Into Displayable Image(ip Image In, ip Image In Disp, hr); END_IF END_IF As the File Source temporarily enters the TRIGGERING state when triggering the image, triggering must continue in this state. This continues until the File Source has fully loaded the image and thus changed its state back to ACQUIRING. The file name of the image does not need to be transferred again for further triggering; it is sufficient to call the method Trigger Image [} 1621]. TCVN_CS_TRIGGERING: fb File Source. Trigger Image(); 2822 Version: 2.4.0 TF7000 - TF7810
## Page 2823

Samples and tools In this sample, the variable b Trigger is automatically set to TRUE for demonstration purposes when an image has been successfully loaded. In a real application the trigger would be set at a point that makes sense in terms of the sequence. 8.3 Samples of assistants 8.3.1 Calibration Assistant A geometric camera calibration is required to convert image points to world points, during which the required parameters are determined. This sample shows the geometric calibration of a camera using an asymmetric circle pattern and the Calibration Assistant. The steps can also be performed analogously for the other calibration patterns (see Camera Calibration [} 110]). Only step 2 has to be adapted accordingly. To run this sample, first open the project with the camera created and then open the calibration assistant for the camera instance. TF7000 - TF7810 Version: 2.4.0 2823
## Page 2824

Samples and tools Step 1 - Image acquisition First, images of the calibration pattern taken by the camera to be calibrated must be loaded into the Assistant. This can be done either by direct image acquisition with the camera or by loading existing images. For this sample, you will find four suitable images Img Calib Asym Circlesx.bmp of an asymmetrical circle pattern in the corresponding image folder. Load these images into the Calibration Assistant via Load Images.... Step 2 - Define asymmetric circle pattern In this sample an asymmetric circle pattern is used as calibration pattern. In order to use one of the other pattern types, observe the respective definition: • Chessboard pattern [} 119] • Symmetrical circles pattern [} 120] • Asymmetrical circles pattern [} 121] • Individual circles pattern [} 122] The asymmetric circle pattern must be selected in the Calibration Assistant for the loaded sample images: Due to the asymmetry, either the first (x1) or the second (x2) row of the circle pattern is indented. In this case the first (x1) row is indented, so Start Indent should be selected. The width of the Width pattern corresponds to the number of points/circles in a row, while the Height corresponds to the number of rows. Distance X is used to specify the shortest distance between two circles in X direction. In the asymmetrical pattern, this is the distance to the next circle in the row below / above. Note the marking in the image. The distance between two rows is specified in Distance Y. 2824 Version: 2.4.0 TF7000 - TF7810
## Page 2825

Samples and tools The Assistant expects black circles on white background. Since this example uses a pattern of white circles on a black background, the color must be inverted by selecting Color inverted. Step 3 - Calculate intrinsic parameters Once the calibration pattern has been fully defined, the intrinsic parameters can be calculated using the Calibrate Intrinsics button. The Reproj. Error should then be between 0 and 1, and the camera matrix and the distortion coefficients should be determined. TF7000 - TF7810 Version: 2.4.0 2825
## Page 2826

Samples and tools If this is not the case, the tooltip for the Reproj. Error provides information about the possible error. In addition, an image series is created under C:\Program Data\Beckhoff\Vision\_Calibration Assistant Output that provides further information on the recognition of the pattern. Write access for the directory is required. Step 4 - Calculate extrinsic parameters After the intrinsic parameters the extrinsic parameters can be calculated. Only one image is used for this purpose, namely the image where the pattern is located in the plane on which the components are later measured, for example. This is the first of the sample images. Therefore, click on the first loaded image so that it appears in the image preview. The zero point of the Extrinsic Orgin pattern can also be specified. By default, this is in the center of the pattern. The Calibrate Extrinsics button then calculates the rotation matrix and the translation vector. The results can be found under Results. Step 5 - Write results to the image provider of the camera If the calibration was successful, the results can be written to the Image Provider of the camera via Write Results. This step is necessary so that the FB_VN_Gev Camera Control [} 1622] camera function block in the PLC can access the calibration results. In the Image Provider, the calibration results can be found under Parameters (Init) if Show Hidden Parameters is selected. 2826 Version: 2.4.0 TF7000 - TF7810
## Page 2827

Samples and tools After this step, make sure to activate the configuration by clicking on . Otherwise the calibration results are not available in the PLC. Step 6 - Load calibration results into the PLC The FB_VN_Gev Camera Control [} 1622] function block can be used to load the calibration parameters into the PLC: Variables hr : HRESULT; fb Camera : FB_VN_Gev Camera Control; a Camera Matrix : Tc Vn Matrix3x3_LREAL; a Distortion Coefficients : Tc Vn Array8_LREAL; a Rotation Matrix : Tc Vn Matrix3x3_LREAL; a Translation Vector : Tc Vn Vector3_LREAL; Code hr := fb Camera. Get Camera Matrix(a Camera Matrix); hr := fb Camera. Get Distortion Coefficients(a Distortion Coefficients); hr := fb Camera. Get Rotation Matrix(a Rotation Matrix); hr := fb Camera. Get Translation Vector(a Translation Vector); Step 7 - Transform pixels into world coordinates Then use the F_VN_Transform Coordinates Image To World_Points [} 1084] function to determine the coordinates of a point in the image in the real world in relation to the zero point of the calibration pattern, for example: Variables a Point Image : Tc Vn Point2_LREAL; a Point World : Tc Vn Point3_LREAL Code hr := F_VN_Transform Coordinates Image To World_Point( a Src Point := a Point Image, a Dest Point := a Point World, a Camera Matrix := a Camera Matrix, a Distortion Coefficients := a Distortion Coefficients, TF7000 - TF7810 Version: 2.4.0 2827
## Page 2828

Samples and tools a Rotation Matrix := a Rotation Matrix, a Translation Vector := a Translation Vector, f Z := 0, hr Prev := hr); Step 8 - Transform world points into image coordinates. This transformation can be reversed with the F_VN_Transform Coordinates World To Image_Points [} 1088] function, so that points from the world coordinate system are transformed in such a way that they can be displayed at the correct position in the image. This is useful for displaying auxiliary lines for better orientation in the image. The following code shows the world coordinate system in the image. Variables i : INT; a Line : Tc Vn Vector4_DINT; a Coordinates World : ARRAY[0..4] OF Tc Vn Point3_LREAL := [ [0,0,0], [50,0,0], [-50, 0, 0], [0, 50, 0], [0, -50, 0] ]; a Coordinates Image : ARRAY[0..4] OF Tc Vn Point2_REAL; Code FOR i:= 0 TO 4 DO hr := F_VN_Transform Coordinates World To Image_Point( a Src Point := a Coordinates World[i], a Dest Point := a Coordinates Image[i], a Camera Matrix := a Camera Matrix, a Distortion Coefficients := a Distortion Coefficients, a Rotation Matrix := a Rotation Matrix, a Translation Vector := a Translation Vector, hr Prev := hr); IF i > 0 THEN a Line[0] := REAL_TO_DINT(a Coordinates Image[0][0]); a Line[1] := REAL_TO_DINT(a Coordinates Image[0][1]); a Line[2] := REAL_TO_DINT(a Coordinates Image[i][0]); a Line[3] := REAL_TO_DINT(a Coordinates Image[i][1]); hr := F_VN_Draw Line_Tc Vn Vector4_DINT(a Line , ip Image Res, a Color Green, 3, hr); END_IF END_FOR Step 9 – View the results When the program is executed, the playback of the camera stream [} 107] must be started first. To do this, open the Record/Playback tab of the camera object, select the Camera Simulation.tcs file in the corresponding image folder and start the playback. The resulting image can then be evaluated in the ADS Image Watch [} 134]. One can see the drawn coordinate axes and the determined world coordinates of the individual points on the image. 2828 Version: 2.4.0 TF7000 - TF7810
## Page 2829

Samples and tools The result will be different if a different image or coordinate origin is used for the extrinsic calibration in step 4. The coordinate axes are shifted and the world coordinates of the pixels are also adjusted. TF7000 - TF7810 Version: 2.4.0 2829
## Page 2830

Samples and tools 8.4 Camera configuration samples Since the parameters of each Gig E Vision camera may differ, it is not possible to provide a complete description. The following section provides an overview of frequently used camera parameters and how to configure them. Instructions for the configuration of Gen API parameters can be found in the chapter on the Configuration [} 80]. 8.4.1 Region of Interest (ROI) If the camera sensor records a larger field of view than required, it is advisable to place a Region of Interest (ROI) on the actually required field of view: • The sensor can be read out faster, depending on the camera sensor and the selected range. • The amount of data to be transferred is reduced, which also reduces the data transfer time. • At the same time, the processing time of all image processing algorithms, which take place over the entire image, is also reduced. • In addition, image noise can be reduced, making image processing more robust and easier. Checking the features of the camera Please refer to the manual for the camera to see whether the camera supports corresponding features. The same applies to the feature names that are actually used. The procedure using the feature names according to the Gen ICam Standard Features Naming Convention (Version 2.4) is described below. 2830 Version: 2.4.0 TF7000 - TF7810
## Page 2831

Samples and tools The features for setting a ROI can be found under Image Format Control or the corresponding category on your camera: • Width Max and Height Max specify the maximum width and height of the image in pixels. These values may vary depending on other features (e.g. binning [} 2831]). • Width and Height specify the width and height of the ROI, i.e. the field of view to be viewed, and must be set accordingly. • Offset X and Offset Y are used to position the ROI or the field of view. The starting point is the upper left corner of the image. When setting the features, note that: • Offset X + Width <= Width Max • Offset Y + Height <= Height Max 8.4.2 Binning Binning is the summation or averaging of several pixel values into one. It can be used to: • increase the light sensitivity, • improve the contrast, • reduce the image resolution with the same field of view, enabling faster frame rates and processing times. It should not be used if the required accuracies can no longer be achieved when the image resolution is reduced. When summing up or averaging pixels, a distinction is made between horizontal and vertical binning. TF7000 - TF7810 Version: 2.4.0 2831
## Page 2832

Samples and tools Checking the features of the camera Please refer to the manual for the camera to see whether the camera supports corresponding features. The same applies to the feature names that are actually used. The procedure using the feature names according to the Gen ICam Standard Features Naming Convention (Version 2.4) is described below. The features for setting up binning can be found under Image Format Control or the corresponding category on your camera: • Binning Selector indicates whether the binning applies to the entire sensor or an ROI [} 2830]. • Binning Horizontal Mode and Binning Vertical Mode indicate whether the pixels should be added up or averaged. Binning Horizontal and Binning Vertical indicate how many pixels should be combined in horizontal and vertical direction. A value of 1 indicates that there is no binning in the corresponding direction. Binning with a monochrome camera Four possible configurations for a monochrome camera are shown as examples (the coordinates of the pixels are shown): 2832 Version: 2.4.0 TF7000 - TF7810
## Page 2833

Samples and tools Binning Horizontal = 1 Binning Vertical = 1 ⇒ no merging of pixels Binning Horizontal = 2 Binning Vertical = 1 Binning Horizontal Mode = sum Binning Horizontal = 1 Binning Vertical = 2 Binning Vertical Mode = sum Binning Horizontal = 2 Binning Vertical = 2 Binning Horizontal Mode = sum Binning Vertical Mode = sum Binning with a color camera Binning support is rarer in color cameras than in monochrome cameras. It can be implemented in different ways. For details please refer to the camera user manual. TF7000 - TF7810 Version: 2.4.0 2833
## Page 2834

Samples and tools 8.4.3 Image acquisition and trigger The acquisition and trigger features are interrelated and are therefore be considered together below. The term Acquisition basically describes a state of cameras in which images can be taken, see Image Acquisition [} 1612]. Whether and when images are actually taken and sent is determined by the configuration of the Trigger parameter. The various configuration options and relationships between acquisition and trigger settings are described in more detail in the following chapters, which are arranged according to the Acquisition Mode. By far the most commonly used image capture options are: • Continuous Image Acquisition [} 2836] - the camera streams, it captures images at regular intervals without any other triggers. • Single image trigger with continuous image acquisition [} 2836] - the camera takes exactly one image after a trigger signal (hardware or software). The camera remains in the state ACQUIRING, therefore it is not necessary to write the Acquisition Start command repeatedly before each recording. Checking the features of the camera Please refer to the manual for the camera to see whether the camera supports corresponding features. The same applies to the feature names that are actually used. The procedure using the feature names according to the Gen ICam Standard Features Naming Convention (Version 2.4) is described below. Acquisition Mode The Acquisition Mode feature mainly specifies how many images are taken during an acquisition and refers to the TCVN_CS_ACQUIRING state of the camera state machine. To end a recording, the state must be exited with a Acquisition Stop command before the next recording can begin again with a Acquisition Start command. Therefore, the Continuous mode is the most frequently selected setting, since you can then remain permanently in the acquiring state. • Continuous ◦ Image acquisition begins with the Acquisition Start command and is only terminated by the Acquisition Stop command. In between, images are continuously captured depending on the trigger settings. ◦ Continuous image acquisition [} 2835] • Multi Frame ◦ Images are captured until the number of images specified in Acquisition Frame Count is reached. A Acquisition Start command is required for each image acquisition sequence. ◦ Multi-image acquisition [} 2837] • Single Frame ◦ A single image is captured. A Acquisition Start command is required for each image acquisition. ◦ Single image acquisition [} 2839] Trigger Source The Trigger Source feature specifies which internal or physical signal is to be interpreted as a trigger. The list of possible sources is long and varies depending on the camera. Some samples are provided below: • Software A software command sets the trigger. The PLC function blocks FB_VN_Gev Camera Control [} 1622] and FB_VN_Simple Camera Control [} 1647] provide the method Trigger Image [} 1646] for sending the command. • Line0, Line1, ... A physical camera input is the trigger source. Pay attention to the necessary edge steepness with the signal source connected to it. This may vary depending on the camera. 2834 Version: 2.4.0 TF7000 - TF7810
## Page 2835

Samples and tools • Encoder0, Encoder1, ... Line scan cameras are often connected to an encoder to trigger image acquisition. If no physical encoder is available, but the corresponding axis values are available in Twin CAT, the encoder signal can be output via an EL2521 or EL2522. Trigger Activation • Rising Edge The trigger is activated with a rising edge of the Trigger Source. • Falling Edge The trigger is activated with a falling edge of the Trigger Source. • Any Edge The trigger is activated with a rising or falling edge of the Trigger Source. • Level High The trigger is activated as long as a signal is present at the Trigger Source. • Level Low The trigger is activated as long as no signal is present at the Trigger Source. 8.4.3.1 Continuous image acquisition The settings for image acquisition and triggering are interlocked by default. The following explanatory section assumes that the Acquisition Mode is set to Continuous. The other cases are described under: • Multi-image acquisition [} 2837] • Single image acquisition [} 2839] TF7000 - TF7810 Version: 2.4.0 2835
## Page 2836

Samples and tools Checking the features of the camera Please refer to the manual for the camera to see whether the camera supports corresponding features. The same applies to the feature names that are actually used. The procedure using the feature names according to the Gen ICam Standard Features Naming Convention (Version 2.4) is described below. Continuous image acquisition The following configuration is required if the camera is to stream, i.e. take images at even intervals without further triggers: • Acquisition Mode = Continuous • Trigger Selector = Acquisition Start • Trigger Mode = Off The Acquisition Start command then starts the streaming and the Acquisition Stop command ends the streaming. Recording of the current image is completed, and the image is transferred. Single image trigger for continuous image acquisition If the camera is to capture just one image after a trigger signal, the following configuration is required: • Acquisition Mode = Continuous • Trigger Selector = Frame Start • Trigger Mode = On • Trigger Source = Line1 (exemplarisch) As in the other cases, the camera is ready to take images after the Acquisition Start command. Each image is recorded after a trigger signal from the selected source. Details of the trigger signal are specified in Trigger Activation. Continuous image acquisition after trigger start signal If you require the camera to continuously stream images after a trigger signal at even intervals, the following configuration is required: • Acquisition Mode = Continuous • Trigger Selector = Acquisition Start • Trigger Mode = On • Trigger Source = Line1 (exemplarisch) 2836 Version: 2.4.0 TF7000 - TF7810
## Page 2837

Samples and tools After the Acquisition Start command, the camera is ready to capture and transfer images. However, the recording only begins after a trigger signal, in the sample after a hardware trigger signal on Line 1. Streaming is ended by the Acquisition Stop command; however, the recording of the current image is still completed and transferred. Multi-image trigger for continuous image acquisition If the camera is to record a certain number of images after a trigger signal, the following configuration is required. The number is set to 2 as an example: • Acquisition Mode = Continuous • Acquisition Burst Frame Count = 2 (exemplarisch) • Trigger Selector = Frame Burst Start • Trigger Mode = On • Trigger Source = Line1 (exemplarisch) As in the other cases, the camera is ready to take images after the Acquisition Start command. The defined number of images is recorded after a trigger signal of the selected source. Details of the trigger signal are specified in Trigger Activation. If the Acquisition Stop command is issued during image acquisition/transfer, the image that has already been started is completed, but any missing images are no longer created. 8.4.3.2 Multi-image acquisition The settings for image acquisition and triggering are interlocked by default. The following explanatory section assumes that the Acquisition Mode is set to Multi Frame. The other cases are described under: • Continuous image acquisition [} 2835] • Single image acquisition [} 2839] Checking the features of the camera Please refer to the manual for the camera to see whether the camera supports corresponding features. The same applies to the feature names that are actually used. The procedure using the feature names according to the Gen ICam Standard Features Naming Convention (Version 2.4) is described below. Multi-image acquisition If the camera is to stream a certain number of images without using a trigger, the following configuration is required: • Acquisition Mode = Multi Frame TF7000 - TF7810 Version: 2.4.0 2837
## Page 2838

Samples and tools • Acquisition Frame Count = 2 (example) • Trigger Selector = Acquisition Start • Trigger Mode = Off Streaming starts when the Acquisition Start command is issued. It stops it when the specified number of frames (Acquisition Frame Count) is reached. Optionally, the Acquisition Stop command can then be issued and the lock can be canceled. This makes it possible to change camera features before the next Acquisition Start command. If the Acquisition Stop command is issued during image acquisition/ transfer, the image that has already been started is completed, but any missing images are no longer created. Multi-image acquisition after trigger start signal If the camera is to stream a certain number of images after a trigger signal, the following configuration is required: • Acquisition Mode = Multi Frame • Acquisition Frame Count = 2 (example) • Trigger Selector = Acquisition Start • Trigger Mode = On • Trigger Source = Line1 (example) The Acquisition Start command activates streaming. However, the recording of the specified images only begins after a trigger signal, in the sample after a hardware trigger signal on Line 1. As with the multi- image acquisition (without trigger), the Acquisition Stop command and the cancelation of the lock can optionally take place after reaching the specified number of images. Multi-image acquisition with single-image trigger Configuration: • Acquisition Mode = Multi Frame • Acquisition Frame Count = 2 (example) • Trigger Selector = Frame Start • Trigger Mode = On • Trigger Source = Line1 (example) 2838 Version: 2.4.0 TF7000 - TF7810
## Page 2839

Samples and tools Multi-image acquisition with multi-image trigger Configuration: • Acquisition Mode = Multi Frame • Acquisition Frame Count = 3 (example) • Acquisition Frame Burst Count = 2 (example) • Trigger Selector = Frame Burst Start • Trigger Mode = On • Trigger Source = Line1 (example) 8.4.3.3 Single image acquisition The settings for image acquisition and triggering are interlocked by default. The following explanatory section assumes that the Acquisition Mode is set to Single Frame. The other cases are described under: • Continuous image acquisition [} 2835] • Multi-image acquisition [} 2837] Checking the features of the camera Please refer to the manual for the camera to see whether the camera supports corresponding features. The same applies to the feature names that are actually used. The procedure using the feature names according to the Gen ICam Standard Features Naming Convention (Version 2.4) is described below. Single image acquisition If just one image is to be recorded after each Acquisition Start command, the following configuration is required: • Acquisition Mode = Single Frame • Trigger Selector = Acquisition Start • Trigger Mode = Off After the Acquisition Start command, just one image is captured. Between two Acquisition Start commands an Acquisition Stop command can be issued, and the lock can be canceled. Unlocking facilitates changing camera features between Acquisition Start commands. No image is captured if an Acquisition Stop command is issued too soon after the Acquisition Start command, when image acquisition has not yet started. TF7000 - TF7810 Version: 2.4.0 2839
## Page 2840

Samples and tools Single image acquisition with image acquisition trigger or single image acquisition with single image trigger The following configurations can be used if just one image is to be recorded after each Acquisition Start command in situations where a trigger signal is required: Configuration – single image acquisition with image acquisition trigger • Acquisition Mode = Single Frame • Trigger Selector = Acquisition Start • Trigger Mode = On • Trigger Source = Line1 (example) Configuration – single image acquisition with single image trigger • Acquisition Mode = Single Frame • Trigger Selector = Frame Start • Trigger Mode = On • Trigger Source = Line1 (example) 8.5 Neural Network Compatibility Check This tool offers the possibility to check the compatibility of ONNX models with the functions of the product "TF7810 | Twin CAT 3 Vision Neural Network". The "TF7810_Neural Network Supplements.zip" can be downloaded directly from the Beckhoff website. The package contains the executable file “Onnx Compatibility Check.exe”, the Power Shell script “Check Model Compatibility.ps1” for simplified use and a folder “ONNX_Samples” with a sample model. Execution of the Power Shell script After executing the script, the version information is displayed first. First from the application itself and then to the Twin CAT 3 Vision library versions to which the compatibility refers. As a user, you will be asked to specify a folder or model path. If a folder containing several ONNX models is specified, these are tested in alphabetical order. It is also possible to explicitly specify a model, e.g. "C: \ONNX_Samples\Lemon Model.onnx". 2840 Version: 2.4.0 TF7000 - TF7810
## Page 2841

Samples and tools A successful execution looks as follows, e.g. using the Lemon Sample model: At the end, the execution is paused so that you can view the output. Options of the Power Shell script When the user opens the script for editing, he will find the parameters $model Path and $input Shape in lines 2 and 3. The first parameter $model Path is empty by default, so that the user is prompted to enter the path. Alternatively, a folder or model path can be stored in the script. In this case, the user is not prompted to make an entry and the stored path is used directly. By default, the word "skip" is stored for the second optional $input Shape parameter, so that this query does not appear and the application is executed without the option. A fixed value, such as "1 3 224 224", can also be specified here for a single input. If there are several inputs, the entries must be separated by semicolons, e.g. "1,3,224,224;1,3,32,32" for two inputs. Alternatively, the word "skip" can be deleted so that the user is prompted to enter it. This prompt for the "Model Input Shape" can also be skipped by pressing "Enter" when executing the script. Application of the "Onnx Compatibility Check.exe" The "Onnx Compatibility Check.exe" can be executed directly without a Power Shell script. In the Windows command prompt, the successful test of the Lemon Sample model looks like this, for example: If only the name of the application is specified or -?, -h, -help is added and then confirmed with Enter, the following information and notes on the application are displayed. TF7000 - TF7810 Version: 2.4.0 2841
## Page 2842

Samples and tools Results The following describes the results that can be output in different scenarios: • At the start of execution, the system checks whether the path is valid and the file is in ONNX format. If this is not the case, execution is aborted and a corresponding message is displayed. • If the ONNX model could be loaded successfully, this is displayed as the first information, including the file name. • This is followed by information on the input and output layers of the model, which are read from the ONNX file: ◦ For the input layers, the number is output first, followed by a list of the layers with the respective designation and the form of the tensor in square brackets. The number of elements in the respective dimension is displayed. ◦ If an input layer has more than two dimensions, the ETc Vn Data Layout [} 228] for the conversion (F_VN_Convert Data Layout [} 1550]) from a 2D image to the respective input format of the model is also output. As a prerequisite for the correct detection of the ETc Vn Element Type, it is assumed that N (number of samples or batch size) = 1 and the number of channels is smaller than the width or height. ◦ For the input layer of the Lemon Sample Model, for example, this looks like this: “Model inputs: 1 ‘input.1’ [1, 3, 224, 224], TCVN_DL_4D_NCHW”. ◦ For a model with several input layers, this looks like this, for example: "Model inputs: 3 'input.0' [1, 3, 224, 224], TCVN_DL_4D_NCHW 'input1' [1, 5] 'input2' [1, 10]" ◦ For the output layers, the number is output first, followed by a list of the layers with their names and the shape of the tensor. The number of elements in the respective dimension is displayed. ◦ For the output layer of the Lemon Sample model, for example, it looks like this: "Model outputs: 1 Layer: '367' [1, 3]" • Neural networks can either be designed for a fixed (static) input format or offer the possibility of processing several different input formats (dynamic). For most models, the input layer is fixed and the values of the tensor are stored in the ONNX file. The values can then be read, displayed and used directly for testing. • If models support several input / image sizes, the information on the dimensions, such as the width and height of the image in the ONNX file, is missing in this case. This is referred to as a dynamic shape of the input layer. If this shape is recognized in an input layer, the word "dynamic" is displayed after the name of the layer instead of the shape of the tensor: ◦ "'input.1' dynamic To test the execution, please provide the optional [Model Inputshape] (For 1 input use e.g. Onnx Compatibility Check.exe Dynamic Shape.onnx "1,3,224,224")." 2842 Version: 2.4.0 TF7000 - TF7810
## Page 2843

Samples and tools • In order to be able to test a model with a dynamic input layer, the values for the "Model Input Shape" can also be transferred when the application is called up. A sample of the call and the transfer of the values is also output or can be seen in the help. • There are models in which the input layer is fixed in the ONNX file, but which can also be executed with other values. If the user has this information or knows the other values, they can also use the call with the additional specification of the "Model Input Shape". • The information on the supported input formats can usually be found in the documentation of the model provider, the source of the model or in the associated research article. If this information is not explicitly specified, it can also be derived by examining the model architecture or by using tools to inspect the ONNX file. • In the event that a model cannot be executed, an attempt is made to output a possible cause in addition to the basic information. If the cause is not clear, no additional information is displayed. Possible causes are, for example, unknown or unsupported operators / data types or a newer ONNX "opset number". If an operator is named as the cause, this can also be a subsequent problem. Therefore, the operators of the previous layer should also be analyzed. TF7000 - TF7810 Version: 2.4.0 2843
## Page 2844

Appendix 9 Appendix In this chapter you will find additional information such as FAQs, an overview of the paths used by Twin CAT Vision and a chapter on troubleshooting for the rectification of known problems. 9.1 FAQ What is Twin CAT Vision? Twin CAT Vision is an industrial image processing software. You can capture images with industrial cameras and calculate information about the recorded scene from them. Frequent use cases are: • Presence check • Object recognition • Optical measurement • Code Reading Can I test Twin CAT Vision free of charge? Yes, you can generate 7-day trial licenses for the runtime components. The engineering is free of charge. Do I need Twin CAT in order to use Twin CAT Vision? Yes, Twin CAT Vision is fully integrated in Twin CAT. A compatible Twin CAT version must be installed before Twin CAT Vision can be installed. What cameras can I use with Twin CAT Vision? Twin CAT Vision supports cameras with the Gig E Vision interface. Gig E Vision cameras are connected to the IPC via an Ethernet cable. Can I use several cameras at the same time? Yes, with the Twin CAT Gig E Vision Connector you can operate several cameras, depending on the license. Can I connect several cameras via a single switch? Yes. Pay attention to the maximum available bandwidth (e.g. 125 MB/s in case of 1 Gig E, effectively nearer 110-115 MB/s). Are there samples for Twin CAT Vision? Yes, in the chapter Samples [} 2732]. Are there benchmarks for the Twin CAT Vision functions? No, because the execution time of vision algorithms strongly depends on the performance of the IPC, the image size, the function parameters and the image content. Therefore, it is helpful to have a basic understanding of how algorithms work and what factors influence the respective computing time. Can other image processing software also be used in Twin CAT as an alternative to Twin CAT Vision? Images can be recorded via Gig E Vision with the TC3 Gig E Vision Connector. The image processing can then take place in various ways: • Use of the Twin CAT Vision API via the PLC library Tc3_Vision • Use of the self-written Twin CAT PLC or C++ algorithms • Using the Twin CAT Vision API in a C++ module 2844 Version: 2.4.0 TF7000 - TF7810
## Page 2845

Appendix • Use of MATLAB® and Simulink® • Retrieving image data via ADS from other applications What is the difference between image processing software such as Twin CAT Vision and smart cameras? Image processing software such as Twin CAT Vision: • Image data received from a camera • Process this on a computer • Send processed information to the controller • Advantage of Twin CAT Vision: control and image processing are the same software and run in the same system. Therefore, additional interfaces and protocols are not required. Smart cameras: • Have an internal processor • Carry out image processing operations directly on the camera • Supply processed information such as good/bad information or the position of a workpiece via additional interfaces Can Twin CAT Vision be executed on a GPU? No, Twin CAT Vision runs exclusively on a CPU in the Twin CAT real-time environment. Alternatively, Twin CAT Vision offers the option of an automatically parallelized execution by using the multi-core functionality of Twin CAT (in interaction with job tasks [} 65]). 9.2 Important paths Paths for Vision data NOTICE Paths that are relevant for data Make sure that the following standard paths are not affected by Write filters or similar programs. Failure to do so may result in data loss. If the corresponding path settings were adjusted manually, the same applies to the set paths. TF7000 - TF7810 Version: 2.4.0 2845
## Page 2846

Appendix Use Path Storage location for File Source images C:\Users\Public\Tc Vision\File Sources\<Unique Id> (Automatically defined by the File Source. <Unique Id> is different for every project.) Storage location for camera streams C:\Users\Public\Tc Vision\Camera Streams (May differ depending on the setting in Record/Playback [} 104].) Storage location for images that are read C:\Users\Public\Tc Vision\Images or written by PLC functions. (May differ depending on the setting in Service Configuration [} 67].) Storage location for containers that are C:\Users\Public\Tc Vision\Containers read or written by PLC functions. (May differ depending on the setting in Service Configuration [} 67].) Storage location for ML models that are C:\Users\Public\Tc Vision\Ml Models read or written by PLC functions. (May differ depending on the setting in Service Configuration [} 67].) Storage location for calibration results that C:\Users\Public\Tc Vision\Calibration Results are read or written by PLC functions. (May differ depending on the setting in Service Configuration [} 67].) Storage location for individual calibration C:\Users\Public\Tc Vision\Calibration Pattern patterns Paths for log files Log file Path Twin CAT Vision installation log C:\Users\<User>\ TF7xxx-Vision.exe.log (all other Twin CAT installation logs are From Build 4026: also located in this folder) C:\Program Data\Beckhoff\Tc Pkg\logs\ The individual product log files are located in the MSI subfolder. Twin CAT Vision Service Log C:\Program Data\Beckhoff\Tc Vn Service\Tc Vn Service.log General Twin CAT Vision log C:\Program Data\Beckhoff\Vision (May vary depending on the setting in Logging [} 69]) Result images of the Calibration Assistant C:\Program Data\Beckhoff\Vision\_Calibration Assistant Output [} 110] for analyzing the recognition of feature points on the calibration pattern 9.3 Troubleshooting Known error situations and corresponding solutions are described below. If you can attribute a problem to a specific function or function block, first read the corresponding entry in the API reference [} 140]! 9.3.1 Twin CAT system start Solutions to situations in which the start of the Twin CAT system is prevented are explained below. 9.3.1.1 Twin CAT system does not start If the Twin CAT system cannot be started, the following message frequently appears. On the basis of the error code with the red border, instructions for rectifying the problem can be given. Further below you will find information on the usual error codes with Twin CAT Vision applications. 2846 Version: 2.4.0 TF7000 - TF7810
## Page 2847

Appendix Invalid Object ID Error message ADS ERROR: invalid object id Solution 1 No task linked 1. Check whether the corresponding tasks have been created for each Vision device used and add missing tasks. ◦ Check whether a task for image acquisition has been created for each File Source Control (default cycle time 10 ms). ◦ Check whether each Gig E Vision camera is associated with a task for Image Acquisition (default cycle time 1 ms) and, if there is an Ads Communicator, this is also associated with a task (default cycle time 10 ms). 2. The tasks must be assigned to the corresponding Tc Com modules of the Vision devices. Check the assignment and correct it if necessary. ◦ Check whether the Image Provider Task of the File Source is linked to the Image Provider of the File Source Control. ◦ Check whether the Image Acquisition Task of the camera is linked to the Image Acquisition and Image Acquisition Simulation of the camera. ◦ Link the Ads Communicator Task with the Ads Communicator of the camera. ◦ Do not assign a task to the Image Provider of the camera. Solution 2 Network adapter invalid The network adapter was not adapted, e.g. following a system change. Adapt the network adapter to the current target system. In the respective network adapter, open the Adapter tab and select a new compatible adapter with Search… Solution 3 Network adapter deleted The network adapter was deleted, for example, on the assumption that it is not required for the simulation of the camera. However, each camera object always requires a network adapter; if necessary it can be deactivated but not deleted. Create a new network adapter with an Ip Stack and link the Ip Stack on the Interface Pointer tab of the acquisition object of the camera. Further information on the linking of Vision Tc COM objects can be found in the corresponding chapters for the camera [} 126] and the File Source [} 133]. TF7000 - TF7810 Version: 2.4.0 2847
## Page 2848

Appendix General ADS Error Error message ADS ERROR: General ADS Error Solution 1 More cameras than configured The default setting of the network adapter allows up to 2 cameras to be operated simultaneously. If you wish to operate more cameras on the same adapter, increase the Init parameters ip Max Receiver and Udp Max Receiver to twice the number of connected cameras (see Configuration of the network adapter [} 57]). 2848 Version: 2.4.0 TF7000 - TF7810
## Page 2849

Appendix 9.3.1.2 Vision Service doesn't start Situation The Twin CAT Vision Service doesn't start. This can be seen by the connection status "Offline" on the Service Configuration tab in the VISION node. Solution If the Twin CAT Version Service only fails to start once or fails, it can be reactivated with a Twin CAT restart (click ). However, if it generally fails to start (after the system startup), the service must be re- registered as a Twin CAT service. To do this, follow these steps: 1. Switch Twin CAT to the Config mode 2. Open a prompt as an administrator. 3. Switch to the corresponding folder via "cd C: \Twin CAT\3.1\Components\Vision\Tc Vision". 4. Execute the "Tc Vn Service.exe /tc3serverreg" command to start the Vision Service. 5. Confirm the subsequent dialog by clicking Yes. ð The Vision Service is started. Twin CAT must be in Config mode so that the Vision service can be started. Therefore, the machine must be restarted if the Vision service is to be restarted. If the Vision service is to be manually stopped, you can use the command "Tc Vn Service.exe /unregtc3server". TF7000 - TF7810 Version: 2.4.0 2849
## Page 2850

Appendix 9.3.1.3 Binary or repository could not be found/loaded Situation One of the two messages appears when the configuration is activated. Depending on the cause and the installed version, other file names or version numbers may appear in the message. The reason for the message is that the version used in the project does not match the version installed on the system. Solution 1 Checking the Vision Library Check the version of the Tc3_Vision library included in the project. If the version does not match the one in the folder C: \Twin CAT\3.1\Repository\Beckhoff Automation Gmb H\Tc3_Vision of the engineering system, either update the library in the project or install another setup version. Solution 2 Checking the TMC version of the camera or File Sorce Check under SYSTEM > Tc COM Objects > Project Objects the TMC version of the listed objects used in the project. If the version is highlighted in yellow, the specified version does not exist on the system or does not match. Now either update the corresponding TMC versions (select the version via pull-down of the version, then right click on one of the object IDs in the first column and select Reload TMI/TMC Description(s) with changed version) to the available version or install another setup version. Solution 3 The vision component is not available The corresponding repository file is missing on the current system because the vision component was not selected during installation. Basically, the versions of the engineering and target systems must match. Therefore, if the systems are different, check both installations. On pure runtime systems XAR, only the Vision Service can be installed since all other files are transferred by the engineering system XAE. Install the missing vision component or run the setup with the repair option. 9.3.2 PLC runtime environment Solutions for situations in which errors occur when the PLC is running are explained below. 2850 Version: 2.4.0 TF7000 - TF7810
## Page 2851

Appendix 9.3.2.1 Vision device in the ERROR state Camera function blocks switch between the ERROR and INITIAL state Situation The instance of the function block FB_VN_Gev_Camera Control [} 1622] or FB_VN_Simple Camera Control [} 1647] alternately returns TCVN_CS_ERROR and TCVN_CS_INITIAL on calling the method Get State. In the TCVN_CS_ERROR state, the Reset() method of the function block is executed successfully and the camera instance changes to the TCVN_CS_INITIAL state. If the camera remains in the TCVN_CS_ERROR state, refer to Device is permanently in ERROR state [} 2852]. e State := fb Camera. Get State() IF e State = TCVN_CS_ERROR THEN fb Camera. Reset(); END_IF In the TCVN_CS_INITIAL state, either function block method Open Camera() or Start Acquisition() is called. The call fails and the instance returns to state TCVN_CS_ERROR. e State := fb Camera. Get State() IF e State = TCVN_CS_INITIAL THEN fb Camera. Open Camera(); END_IF or e State := fb Camera. Get State() IF e State = TCVN_CS_INITIAL THEN fb Camera. Start Acquisition(); END_IF Solution 1 Check the physical connection to the camera and the power supply of the camera. Solution 2 Check the settings for the camera connection (IP address of the camera, network port). TF7000 - TF7810 Version: 2.4.0 2851
## Page 2852

Appendix Function block permanently in the ERROR state 2852 Version: 2.4.0 TF7000 - TF7810
## Page 2853

Appendix Situation The instance of the function block FB_VN_Gev Camera Control, FB_VN_Simple Camera Control or FB_VN_File Source Control permanently returns the state TCVN_CS_ERROR. Even when calling the function block method Reset, there is no change of state to TCVN_CS_INITIAL (if there is, see Device switches between ERROR and INITIAL state [} 2851]). fb Camera. Reset(); Solution 1 The symbol instance must be linked to the Image Provider - each instance of a FB_VN_Gev Camera Control, a FB_VN_Simple Camera Control and a FB_VN_File Source Control must be linked to a camera or File Source Control created in the Vision node. Proceed as follows: 1. Perform a successful rebuild of the PLC project. 2. Then double-click on the instance of the PLC project. 3. Under the Symbol Initialization tab, assign the Image Provider of the corresponding camera or the corresponding File Source Control to the instances of FB_VN_Gev Camera Control. 4. Reactivate the configuration. The FB_VN_Gev Camera Control can only be linked to the Image Provider of a camera. The FB_VN_File Source Control can only be linked to the Image Provider of a File Source Control. The FB_VN_Simple Camera Control can be linked to the Image Provider of a camera or to the Image Provider of a File Source Control. Solution 2 The instance of FB_VN_Gev Camera Control or FB_VN_Simple Camera Control or FB_VN_File Source Control is assigned the Image Provider of a camera or a File Source Control, yet the device is permanently in error state. Check the method calls of the instance of FB_VN_Gev Camera Control or FB_VN_Simple Camera Control or FB_VN_File Source Control. Many methods may only be called in a certain state. A detailed description of the states of Vision devices can be found in the section Function blocks for image acquisition [} 1612]. • In all states TF7000 - TF7810 Version: 2.4.0 2853
## Page 2854

Appendix ◦ Get State ◦ Get Calib Pattern Ref (from FB_VN_Gev Camera Control) ◦ Get Camera Matrix (from FB_VN_Gev Camera Control) ◦ Get Distortion Coefficients (from FB_VN_Gev Camera Control) ◦ Get Rotation Matrix (from FB_VN_Gev Camera Control) ◦ Get Translation Vector (from FB_VN_Gev Camera Control) ◦ Set Camera Matrix (from FB_VN_Gev Camera Control) ◦ Set Distortion Coefficients (from FB_VN_Gev Camera Control) ◦ Set Rotation Matrix (from FB_VN_Gev Camera Control) ◦ Set Translation Vector (from FB_VN_Gev Camera Control) • In the INITIAL state and in the INITIALIZING state ◦ Initialize Camera (from FB_VN_Gev Camera Control) • In INITIAL state and in OPENING state ◦ Open Camera (from FB_VN_Gev Camera Control) ◦ Start Acquisition • In OPENED state and in STARTACQUISITION state ◦ Start Acquisition • In OPENED state and in CLOSING state ◦ Close Camera (from FB_VN_Gev Camera Control) • In ACQUIRING state ◦ Get Current Image ◦ Get Current Image Undistorted (from FB_VN_Gev Camera Control) ◦ Get Current Image With Gvsp Info (from FB_VN_Gev Camera Control) ◦ Get Current Image And File Name (from FB_VN_File Source Control) ◦ Clear Image Queue (from FB_VN_Gev Camera Control) ◦ Get Last Image From Queue (from FB_VN_Gev Camera Control) ◦ Get Omitted Images Num (from FB_VN_Gev Camera Control) • In ACQUIRING state and TRIGGERING state ◦ Trigger Image ◦ Trigger Image Exp (from FB_VN_File Source Control) ◦ Trigger Image By Name (from FB_VN_File Source Control) • In ACQUIRING state and in STOPACQUISITION state ◦ Stop Acquisition • In ERROR state ◦ Reset 9.3.2.2 Camera not found after restart Situation Application is working entirely as usual. No connection can be established with the camera after restarting the machine. Solution 1 The IP address has changed. Use the Force-IP option in the Configuration Assistant [} 76] of the camera. 2854 Version: 2.4.0 TF7000 - TF7810
## Page 2855

Appendix 9.3.2.3 Error when starting a watchdog Situation The function F_VN_Start Abs Watchdog [} 973] or F_VN_Start Rel Watchdog [} 975] permanently returns the error code 16#71A (NOINTERFACE). Solution Activate the watchdog stack in the corresponding PLC task and then re-activate the configuration . TF7000 - TF7810 Version: 2.4.0 2855
## Page 2856

Appendix 9.3.2.4 Vision Error: Assertion failed Error message During the execution of a Vision application, an error message similar to the following appears. At the same time, Twin CAT enters the EXCEPTION state. This message indicates that there is a conflict in the execution of a Vision function that could not be intercepted. This essentially refers to the correct format of the input data and should only occur if the function is not used in accordance with the API reference. The error specification behind "Vision Error: Assertion failed" may vary depending on the use case. Solution with An image can be either single-channel or multi-channel. For certain function calls, an F_VN_Convert Color S image with a defined number of channels is expected. For example with the function F_VN_Convert Color Space, where the enum ETc Vn Color Space Transform is pace [} 1208] used to specify the format of the input image. If Engineering is logged in, the corresponding function call is marked in the PLC code. The function F_VN_Get Pixel Format, which returns the actual number of channels, can help to analyze why the actual number of channels differs from the expected number. Typical causes: • File Source Control In File Source a different image format is set than expected or the image format is set to "Original Format from File" and the actual image format is different than expected. For example, images that look monochrome are not always stored as monochrome images (single-channel image). • Camera For many cameras, the pixel format can be set in the configuration. Depending on the selected format, the number of image channels also changes. • Previous processing steps A previous function call may have changed the image and thus also the number of channels. 9.3.2.5 Error: SSE Invalid Operation Error message You get an error message called SSE Invalid Operation. Solution This error can occur unnecessarily if the Floating point exceptions handling is activated on the executing task. Follow the instructions in the section CPU cores and tasks [} 62], by deactivating the option Floating point exceptions. 9.3.2.6 File Source Error state Error pattern The File Source constantly switches to the error state when the PLC is running. Solution 1 Too little memory The router memory is set too small. Therefore, the File Source cannot load any image into the PLC and enters the error state when attempting to do so. Enlarge the router memory. 2856 Version: 2.4.0 TF7000 - TF7810
## Page 2857

Appendix Images from FS Control not in PLC Error pattern Images are selected in the File Source Control and the File Source function block in the PLC is in the ACQUISITION state. Nevertheless, no images can be retrieved via Get Current Image. Solution 1 Base Dir not set The Read from Target button was actuated for the first time after Twin CAT was activated. In this case, the path from which the File Source images are read has not yet been transferred to the running Tc COM object. Therefore no images can be loaded, even though they are selected in the File Source Control. Reactivate Twin CAT after you have pressed Read from Target. Solution 2 Trigger mode The Trigger mode is selected in the File Source Control, but only the method Get Current Image is called in the PLC, not Trigger Image. Trigger an image by calling the method Trigger Image in the PLC, or deactivate the Trigger mode in the File Source Control. 9.3.3 Assistants Solutions for situations in which problems occur with the operation of assistants are explained below. TF7000 - TF7810 Version: 2.4.0 2857
## Page 2858

Appendix 9.3.3.1 Timeouts 2858 Version: 2.4.0 TF7000 - TF7810
## Page 2859

Appendix Situation A timeout error occurred during the communication with a camera. This can happen in different places as illustrated by the following cases. During image display in the development environment: When creating the init commands: When using the Force IP command: When establishing a connection in the camera object: Solution In the case of timeout errors, two different types of timeout are essentially relevant: One is the transmission timeout, which limits the communication between the Image Acquisition module and the camera. The other is the ADS communication timeout, which limits the communication between the user interface and the Image Acquisition module. Adjust the transmission timeout in the Tc COM parameters of the GVCP module in the configuration tree [} 80]. Also adjust the number of Max Timeouts. Make sure that, if necessary, you adjust the ADS communication timeout in the Settings [} 88], as this should be larger than the product of Max Timeouts and Transmission Timeout. Gradually increase the times and, if necessary, the number of attempts until no more error messages occur. Make sure, however, that you do not set the times and number of attempts unnecessarily high, as otherwise very long waiting times can occur. TF7000 - TF7810 Version: 2.4.0 2859
## Page 2860

Appendix 9.3.3.2 Stalling image display Error pattern The image display in the ADS Image Watch and camera assistants occasionally stalls. Solution 1 Remote Desktop Protocol In individual cases it is possible that the Remote Desktop Protocol and the network card do not work well with the transfer from the Twin CAT Vision development environment or the image display tools. Work either locally and connect yourself with the target in Twin CAT or work directly on the target computer. Error pattern Not all images are displayed in the ADS Image Watch and camera assistants. Solution 1 Reduction of the data quantity As the images are retrieved from the controller by ADS in order to display them, it may be the case in particular with large images, high frame rates or several ADS Image Watch windows that not all image data can be retrieved. Therefore reduce the number of images to be displayed simultaneously, reduce the frame rate or the data quantity per image by using ROIs. 9.3.3.3 Camera not found with Device Discovery Situation You are in the process of creating a Gig E Vision Camera object. You have successfully set up a Twin CAT RT-Ethernet adapter with IP stack. Nevertheless, the Device Discovery dialog remains empty and there is no error message. Solution 1 Wrong network adapter selected Solution 2 No Gig E Vision camera A camera with a Gigabit Ethernet interface does not necessarily have to ‘speak’ Gig E Vision. Please pay close attention to the manufacturer's instructions for the transmission protocol. Solution 3 Incompatible network adapter The network adapter used... 2860 Version: 2.4.0 TF7000 - TF7810
## Page 2861

Appendix 9.3.3.4 Error when loading camera objects Error message In configuration mode, the following Visual Studio message appears when the camera modules are reloaded or a camera is to be selected via the Discover Devices button in the Choose Target Camera dialog. Solution More cameras are connected than have been configured. The default setting of the network adapter allows up to 2 cameras to be operated simultaneously. If you wish to operate more cameras, increase the Init parameters ip Max Receiver and Udp Max Receiver of the network adapter to twice the number of connected cameras (see Configuration of the network adapter [} 60]). 9.3.3.5 Warning: Reading/Writing is not permitted Warning This warning may appear when connecting a camera. Solution The warning indicates that a write or read command that Twin CAT Vision sends to the camera is not allowed. This can happen if the definition of the access rights on a register in the Gen API description deviates from the actual behavior of the camera. Usually this camera register is unimportant for the user. To ascertain which register this concerns, you can search for the displayed register address in the Configuration Assistant [} 76]. 9.3.4 Twin CAT HMI packages Solutions for situations in which Twin CAT HMI packages do not work as expected are explained below. 9.3.4.1 Server extension Images are not displayed Situation Images from the PLC are not displayed in the HMI, although the server extension [} 2673] is installed and the image symbols are appropriately linked. Solution 1 Missing administrator rights You have chosen "Stream" as the image format, but you haven't started the HMI server as an administrator. Either select a different image format (BMP, PNG or JPG), or start the HMI server as an administrator. TF7000 - TF7810 Version: 2.4.0 2861
## Page 2862

Appendix Images missing from a published page Situation The Tc Hmi Vision [} 2673] server extension has been successfully integrated into the project. Images are displayed in the Live View or on the HMI provided by the Engineering server. The project could also be published error-free on the standalone Tc Hmi server. However, no images are displayed on the published HMI. Solution 1 Missing target licenses A target license is included in the TC3 HMI server license. Additional licenses are required if the HMI server is to communicate with several targets (ADS connections). Solution 2 Wrong configuration of the runtime environment The default configuration used in Engineering may differ from the published configuration (different Ams Net Ids). Therefore, check the configuration of the runtime environment and adjust it if necessary. Solution 3 Restricted user rights The Twin CAT HMI user management is used and the currently logged-in user has no permissions to view the images or receive the extension data. Check the authorizations of your user groups. Solution 4 Limit the data quantity or the refresh interval As the data quantity can be quite large, especially in the case of several images that have to be retrieved simultaneously from the controller by ADS and converted by the HMI server, this can lead to bottlenecks. Several options are available to remedy this: reducing the size of the images in the controller, increasing the refresh rates of the individual images, using different refresh rates or using a compressed image format. 9.3.5 Camera communication In case of problems with the connection, especially with sent or received frames, as well as problems with the parameterization or missing images, you will find the following diagnostic information in the network adapter and under the Image Acquisition Module of the camera object. Diagnostic options in the RT Ethernet adapter 1. First select the RT Ethernet adapter used for the respective camera communication. 2. Open it by double-clicking and go to the Statistics tab. ð Here you can see whether frames are generally sent and received or whether errors occur. Furthermore you can read the utilization of the connection in percent at Recv Utilization. A very high utilization of more than 98% already indicates an overload, especially if several cameras are operated on one adapter. Further diagnostic information can be found in the Ip Stack. 2862 Version: 2.4.0 TF7000 - TF7810
## Page 2863

Appendix 1. To do this, first open the underlying Ip Stack by double-clicking on it. 2. Go to the Parameter (Online) tab. ð Here you can see the counter values for the individual categories. Diagnostic options in the Image Acquisition modules 1. First choose the relevant camera object. 2. Open the Parameters (online) tab under the Gvcp module. ð Here you get the information about the Control Protocol communication. This includes e.g. the heartbeat, reading and writing of registers and commands like Start Acquisition. If everything is OK, only the two n Success values should count up. If timeouts occur, refer to this TF7000 - TF7810 Version: 2.4.0 2863
## Page 2864

Appendix Timeouts [} 2858] chapter for remedies. For other problems a deeper diagnosis with Wireshark® is necessary. The diagnostic information for the Streaming Protocol can be found under the Gvsp module on the Parameter (online) tab. These counters refer purely to the transmitted image data and are divided into the individual telegrams/packages and complete images/blocks. If everything is Ok, only the n Success and the n Completed Blocks value should count up. The n Resend Requests already indicate problems, but in this case they could still be answered, because all other counters are still zero. In case of a timeout, the Block Timeout should be increased in the Configuration Assistant under the GVSP Module settings [} 104]. Counting up the n Block Id Overflows is normal and does not represent an error. The counter will eventually overflow due to the value range or will be reset when the camera is restarted. 9.4 ADS Return Codes Grouping of error codes: Global error codes: 0x0000 [} 2864]... (0x9811_0000 ...) Router error codes: 0x500 [} 2865]... (0x9811_0500 ...) General ADS errors: 0x700 [} 2865]... (0x9811_0700 ...) RTime error codes: 0x1000 [} 2867]... (0x9811_1000 ...) Global error codes 2864 Version: 2.4.0 TF7000 - TF7810
## Page 2865

Appendix Hex Dec HRESULT Name Description 0x0 0 0x98110000 ERR_NOERROR No error. 0x1 1 0x98110001 ERR_INTERNAL Internal error. 0x2 2 0x98110002 ERR_NORTIME No real time. 0x3 3 0x98110003 ERR_ALLOCLOCKEDMEM Allocation locked – memory error. 0x4 4 0x98110004 ERR_INSERTMAILBOX Mailbox full – the ADS message could not be sent. Reducing the number of ADS messages per cycle will help. 0x5 5 0x98110005 ERR_WRONGRECEIVEHMSG Wrong HMSG. 0x6 6 0x98110006 ERR_TARGETPORTNOTFOUND Target port not found – ADS server is not started, not reachable or not installed. 0x7 7 0x98110007 ERR_TARGETMACHINENOTFOUND Target computer not found – AMS route was not found. 0x8 8 0x98110008 ERR_UNKNOWNCMDID Unknown command ID. 0x9 9 0x98110009 ERR_BADTASKID Invalid task ID. 0x A 10 0x9811000A ERR_NOIO No IO. 0x B 11 0x9811000B ERR_UNKNOWNAMSCMD Unknown AMS command. 0x C 12 0x9811000C ERR_WIN32ERROR Win32 error. 0x D 13 0x9811000D ERR_PORTNOTCONNECTED Port not connected. 0x E 14 0x9811000E ERR_INVALIDAMSLENGTH Invalid AMS length. 0x F 15 0x9811000F ERR_INVALIDAMSNETID Invalid AMS Net ID. 0x10 16 0x98110010 ERR_LOWINSTLEVEL Installation level is too low –Twin CAT 2 license error. 0x11 17 0x98110011 ERR_NODEBUGINTAVAILABLE No debugging available. 0x12 18 0x98110012 ERR_PORTDISABLED Port disabled – Twin CAT system service not started. 0x13 19 0x98110013 ERR_PORTALREADYCONNECTED Port already connected. 0x14 20 0x98110014 ERR_AMSSYNC_W32ERROR AMS Sync Win32 error. 0x15 21 0x98110015 ERR_AMSSYNC_TIMEOUT AMS Sync Timeout. 0x16 22 0x98110016 ERR_AMSSYNC_AMSERROR AMS Sync error. 0x17 23 0x98110017 ERR_AMSSYNC_NOINDEXINMAP No index map for AMS Sync available. 0x18 24 0x98110018 ERR_INVALIDAMSPORT Invalid AMS port. 0x19 25 0x98110019 ERR_NOMEMORY No memory. 0x1A 26 0x9811001A ERR_TCPSEND TCP send error. 0x1B 27 0x9811001B ERR_HOSTUNREACHABLE Host unreachable. 0x1C 28 0x9811001C ERR_INVALIDAMSFRAGMENT Invalid AMS fragment. 0x1D 29 0x9811001D ERR_TLSSEND TLS send error – secure ADS connection failed. 0x1E 30 0x9811001E ERR_ACCESSDENIED Access denied – secure ADS access denied. Router error codes Hex Dec HRESULT Name Description 0x500 1280 0x98110500 ROUTERERR_NOLOCKEDMEMORY Locked memory cannot be allocated. 0x501 1281 0x98110501 ROUTERERR_RESIZEMEMORY The router memory size could not be changed. 0x502 1282 0x98110502 ROUTERERR_MAILBOXFULL The mailbox has reached the maximum number of possible messages. 0x503 1283 0x98110503 ROUTERERR_DEBUGBOXFULL The Debug mailbox has reached the maximum number of possible messages. 0x504 1284 0x98110504 ROUTERERR_UNKNOWNPORTTYPE The port type is unknown. 0x505 1285 0x98110505 ROUTERERR_NOTINITIALIZED The router is not initialized. 0x506 1286 0x98110506 ROUTERERR_PORTALREADYINUSE The port number is already assigned. 0x507 1287 0x98110507 ROUTERERR_NOTREGISTERED The port is not registered. 0x508 1288 0x98110508 ROUTERERR_NOMOREQUEUES The maximum number of ports has been reached. 0x509 1289 0x98110509 ROUTERERR_INVALIDPORT The port is invalid. 0x50A 1290 0x9811050A ROUTERERR_NOTACTIVATED The router is not active. 0x50B 1291 0x9811050B ROUTERERR_FRAGMENTBOXFULL The mailbox has reached the maximum number for fragmented messages. 0x50C 1292 0x9811050C ROUTERERR_FRAGMENTTIMEOUT A fragment timeout has occurred. 0x50D 1293 0x9811050D ROUTERERR_TOBEREMOVED The port is removed. General ADS error codes TF7000 - TF7810 Version: 2.4.0 2865
## Page 2866

Appendix Hex Dec HRESULT Name Description 0x700 1792 0x98110700 ADSERR_DEVICE_ERROR General device error. 0x701 1793 0x98110701 ADSERR_DEVICE_SRVNOTSUPP Service is not supported by the server. 0x702 1794 0x98110702 ADSERR_DEVICE_INVALIDGRP Invalid index group. 0x703 1795 0x98110703 ADSERR_DEVICE_INVALIDOFFSET Invalid index offset. 0x704 1796 0x98110704 ADSERR_DEVICE_INVALIDACCESS Reading or writing not permitted. Several causes are possible. For example, an incorrect password was entered when creating routes. 0x705 1797 0x98110705 ADSERR_DEVICE_INVALIDSIZE Parameter size not correct. 0x706 1798 0x98110706 ADSERR_DEVICE_INVALIDDATA Invalid data values. 0x707 1799 0x98110707 ADSERR_DEVICE_NOTREADY Device is not ready to operate. 0x708 1800 0x98110708 ADSERR_DEVICE_BUSY Device is busy. 0x709 1801 0x98110709 ADSERR_DEVICE_INVALIDCONTEXT Invalid operating system context. This can result from use of ADS blocks in different tasks. It may be possible to resolve this through multitasking synchronization in the PLC. 0x70A 1802 0x9811070A ADSERR_DEVICE_NOMEMORY Insufficient memory. 0x70B 1803 0x9811070B ADSERR_DEVICE_INVALIDPARM Invalid parameter values. 0x70C 1804 0x9811070C ADSERR_DEVICE_NOTFOUND Not found (files, ...). 0x70D 1805 0x9811070D ADSERR_DEVICE_SYNTAX Syntax error in file or command. 0x70E 1806 0x9811070E ADSERR_DEVICE_INCOMPATIBLE Objects do not match. 0x70F 1807 0x9811070F ADSERR_DEVICE_EXISTS Object already exists. 0x710 1808 0x98110710 ADSERR_DEVICE_SYMBOLNOTFOUND Symbol not found. 0x711 1809 0x98110711 ADSERR_DEVICE_SYMBOLVERSIONINVALID Invalid symbol version. This can occur due to an online change. Create a new handle. 0x712 1810 0x98110712 ADSERR_DEVICE_INVALIDSTATE Device (server) is in invalid state. 0x713 1811 0x98110713 ADSERR_DEVICE_TRANSMODENOTSUPP Ads Trans Mode not supported. 0x714 1812 0x98110714 ADSERR_DEVICE_NOTIFYHNDINVALID Notification handle is invalid. 0x715 1813 0x98110715 ADSERR_DEVICE_CLIENTUNKNOWN Notification client not registered. 0x716 1814 0x98110716 ADSERR_DEVICE_NOMOREHDLS No further handle available. 0x717 1815 0x98110717 ADSERR_DEVICE_INVALIDWATCHSIZE Notification size too large. 0x718 1816 0x98110718 ADSERR_DEVICE_NOTINIT Device not initialized. 0x719 1817 0x98110719 ADSERR_DEVICE_TIMEOUT Device has a timeout. 0x71A 1818 0x9811071A ADSERR_DEVICE_NOINTERFACE Interface query failed. 0x71B 1819 0x9811071B ADSERR_DEVICE_INVALIDINTERFACE Wrong interface requested. 0x71C 1820 0x9811071C ADSERR_DEVICE_INVALIDCLSID Class ID is invalid. 0x71D 1821 0x9811071D ADSERR_DEVICE_INVALIDOBJID Object ID is invalid. 0x71E 1822 0x9811071E ADSERR_DEVICE_PENDING Request pending. 0x71F 1823 0x9811071F ADSERR_DEVICE_ABORTED Request is aborted. 0x720 1824 0x98110720 ADSERR_DEVICE_WARNING Signal warning. 0x721 1825 0x98110721 ADSERR_DEVICE_INVALIDARRAYIDX Invalid array index. 0x722 1826 0x98110722 ADSERR_DEVICE_SYMBOLNOTACTIVE Symbol not active. 0x723 1827 0x98110723 ADSERR_DEVICE_ACCESSDENIED Access denied. Several causes are possible. For example, a unidirectional ADS route is used in the opposite direction. 0x724 1828 0x98110724 ADSERR_DEVICE_LICENSENOTFOUND Missing license. 0x725 1829 0x98110725 ADSERR_DEVICE_LICENSEEXPIRED License expired. 0x726 1830 0x98110726 ADSERR_DEVICE_LICENSEEXCEEDED License exceeded. 0x727 1831 0x98110727 ADSERR_DEVICE_LICENSEINVALID Invalid license. 0x728 1832 0x98110728 ADSERR_DEVICE_LICENSESYSTEMID License problem: System ID is invalid. 0x729 1833 0x98110729 ADSERR_DEVICE_LICENSENOTIMELIMIT License not limited in time. 0x72A 1834 0x9811072A ADSERR_DEVICE_LICENSEFUTUREISSUE Licensing problem: time in the future. 0x72B 1835 0x9811072B ADSERR_DEVICE_LICENSETIMETOLONG License period too long. 0x72C 1836 0x9811072C ADSERR_DEVICE_EXCEPTION Exception at system startup. 0x72D 1837 0x9811072D ADSERR_DEVICE_LICENSEDUPLICATED License file read twice. 0x72E 1838 0x9811072E ADSERR_DEVICE_SIGNATUREINVALID Invalid signature. 0x72F 1839 0x9811072F ADSERR_DEVICE_CERTIFICATEINVALID Invalid certificate. 0x730 1840 0x98110730 ADSERR_DEVICE_LICENSEOEMNOTFOUND Public key not known from OEM. 0x731 1841 0x98110731 ADSERR_DEVICE_LICENSERESTRICTED License not valid for this system ID. 2866 Version: 2.4.0 TF7000 - TF7810
## Page 2867

Appendix Hex Dec HRESULT Name Description 0x732 1842 0x98110732 ADSERR_DEVICE_LICENSEDEMODENIED Demo license prohibited. 0x733 1843 0x98110733 ADSERR_DEVICE_INVALIDFNCID Invalid function ID. 0x734 1844 0x98110734 ADSERR_DEVICE_OUTOFRANGE Outside the valid range. 0x735 1845 0x98110735 ADSERR_DEVICE_INVALIDALIGNMENT Invalid alignment. 0x736 1846 0x98110736 ADSERR_DEVICE_LICENSEPLATFORM Invalid platform level. 0x737 1847 0x98110737 ADSERR_DEVICE_FORWARD_PL Context – forward to passive level. 0x738 1848 0x98110738 ADSERR_DEVICE_FORWARD_DL Context – forward to dispatch level. 0x739 1849 0x98110739 ADSERR_DEVICE_FORWARD_RT Context – forward to real-time. 0x740 1856 0x98110740 ADSERR_CLIENT_ERROR Client error. 0x741 1857 0x98110741 ADSERR_CLIENT_INVALIDPARM Service contains an invalid parameter. 0x742 1858 0x98110742 ADSERR_CLIENT_LISTEMPTY Polling list is empty. 0x743 1859 0x98110743 ADSERR_CLIENT_VARUSED Var connection already in use. 0x744 1860 0x98110744 ADSERR_CLIENT_DUPLINVOKEID The called ID is already in use. 0x745 1861 0x98110745 ADSERR_CLIENT_SYNCTIMEOUT Timeout has occurred – the remote terminal is not responding in the specified ADS timeout. The route setting of the remote terminal may be configured incorrectly. 0x746 1862 0x98110746 ADSERR_CLIENT_W32ERROR Error in Win32 subsystem. 0x747 1863 0x98110747 ADSERR_CLIENT_TIMEOUTINVALID Invalid client timeout value. 0x748 1864 0x98110748 ADSERR_CLIENT_PORTNOTOPEN Port not open. 0x749 1865 0x98110749 ADSERR_CLIENT_NOAMSADDR No AMS address. 0x750 1872 0x98110750 ADSERR_CLIENT_SYNCINTERNAL Internal error in Ads sync. 0x751 1873 0x98110751 ADSERR_CLIENT_ADDHASH Hash table overflow. 0x752 1874 0x98110752 ADSERR_CLIENT_REMOVEHASH Key not found in the table. 0x753 1875 0x98110753 ADSERR_CLIENT_NOMORESYM No symbols in the cache. 0x754 1876 0x98110754 ADSERR_CLIENT_SYNCRESINVALID Invalid response received. 0x755 1877 0x98110755 ADSERR_CLIENT_SYNCPORTLOCKED Sync Port is locked. 0x756 1878 0x98110756 ADSERR_CLIENT_REQUESTCANCELLED The request was canceled. RTime error codes Hex Dec HRESULT Name Description 0x1000 4096 0x98111000 RTERR_INTERNAL Internal error in the real-time system. 0x1001 4097 0x98111001 RTERR_BADTIMERPERIODS Timer value is not valid. 0x1002 4098 0x98111002 RTERR_INVALIDTASKPTR Task pointer has the invalid value 0 (zero). 0x1003 4099 0x98111003 RTERR_INVALIDSTACKPTR Stack pointer has the invalid value 0 (zero). 0x1004 4100 0x98111004 RTERR_PRIOEXISTS The request task priority is already assigned. 0x1005 4101 0x98111005 RTERR_NOMORETCB No free TCB (Task Control Block) available. The maximum number of TCBs is 64. 0x1006 4102 0x98111006 RTERR_NOMORESEMAS No free semaphores available. The maximum number of semaphores is 64. 0x1007 4103 0x98111007 RTERR_NOMOREQUEUES No free space available in the queue. The maximum number of positions in the queue is 64. 0x100D 4109 0x9811100D RTERR_EXTIRQALREADYDEF An external synchronization interrupt is already applied. 0x100E 4110 0x9811100E RTERR_EXTIRQNOTDEF No external sync interrupt applied. 0x100F 4111 0x9811100F RTERR_EXTIRQINSTALLFAILED Application of the external synchronization interrupt has failed. 0x1010 4112 0x98111010 RTERR_IRQLNOTLESSOREQUAL Call of a service function in the wrong context 0x1017 4119 0x98111017 RTERR_VMXNOTSUPPORTED Intel® VT-x extension is not supported. 0x1018 4120 0x98111018 RTERR_VMXDISABLED Intel® VT-x extension is not enabled in the BIOS. 0x1019 4121 0x98111019 RTERR_VMXCONTROLSMISSING Missing function in Intel® VT-x extension. 0x101A 4122 0x9811101A RTERR_VMXENABLEFAILS Activation of Intel® VT-x fails. Specific positive HRESULT Return Codes: TF7000 - TF7810 Version: 2.4.0 2867
## Page 2868

Appendix HRESULT Name Description 0x0000_0000 S_OK No error. 0x0000_0001 S_FALSE No error. Example: successful processing, but with a negative or incomplete result. 0x0000_0203 S_PENDING No error. Example: successful processing, but no result is available yet. 0x0000_0256 S_WATCHDOG_TIMEOUT No error. Example: successful processing, but a timeout occurred. TCP Winsock error codes Hex Dec Name Description 0x274C 10060 WSAETIMEDOUT A connection timeout has occurred - error while establishing the connection, because the remote terminal did not respond properly after a certain period of time, or the established connection could not be maintained because the connected host did not respond. 0x274D 10061 WSAECONNREFUSED Connection refused - no connection could be established because the target computer has explicitly rejected it. This error usually results from an attempt to connect to a service that is inactive on the external host, that is, a service for which no server application is running. 0x2751 10065 WSAEHOSTUNREACH No route to host - a socket operation referred to an unavailable host. More Winsock error codes: Win32 error codes 9.5 Support and Service Beckhoff and their partners around the world offer comprehensive support and service, making available fast and competent assistance with all questions related to Beckhoff products and system solutions. Download finder Our download finder contains all the files that we offer you for downloading. You will find application reports, technical documentation, technical drawings, configuration files and much more. The downloads are available in various formats. Beckhoff's branch offices and representatives Please contact your Beckhoff branch office or representative for local support and service on Beckhoff products! The addresses of Beckhoff's branch offices and representatives round the world can be found on our internet page: www.beckhoff.com You will also find further documentation for Beckhoff components there. Beckhoff Support Support offers you comprehensive technical assistance, helping you not only with the application of individual Beckhoff products, but also with other, wide-ranging services: • support • design, programming and commissioning of complex automation systems • and extensive training program for Beckhoff system components Hotline: +49 5246 963-157 e-mail: support@beckhoff.com Beckhoff Service The Beckhoff Service Center supports you in all matters of after-sales service: • on-site service 2868 Version: 2.4.0 TF7000 - TF7810
## Page 2869

Appendix • repair service • spare parts service • hotline service Hotline: +49 5246 963-460 e-mail: service@beckhoff.com Beckhoff Headquarters Beckhoff Automation Gmb H & Co. KG Huelshorstweg 20 33415 Verl Germany Phone: +49 5246 963-0 e-mail: info@beckhoff.com web: www.beckhoff.com TF7000 - TF7810 Version: 2.4.0 2869
## Page 2870

Appendix 9.6 Third party Components This software contains third-party components. For further information, please refer to the license file, which is provided in the following folder: Different memory paths in Twin CAT 3.1 4024 and Twin CAT 3.1 4026 Up to and including Build 4024: <Twin Cat Install Path>\3.1\System\Legal\TF7xxx Additional license information.txt From Build 4026: • C:\Program Files (x86)\Beckhoff\Legal\Twin CAT-XAE-Gig EVision • C:\Program Files (x86)\Beckhoff\Legal\Twin CAT-XAE-TMX-Vision • C:\Program Files (x86)\Beckhoff\Legal\Twin CAT-XAE-Vision • C:\Program Files (x86)\Beckhoff\Legal\Twin CAT-XAR-Vision Service 2870 Version: 2.4.0 TF7000 - TF7810
## Page 2871

Trademark statements Beckhoff®, ATRO®, Ether CAT®, Ether CAT G®, Ether CAT G10®, Ether CAT P®, MX-System®, Safety over Ether CAT®, TC/BSD®, Twin CAT®, Twin CAT/BSD®, Twin SAFE®, XFC®, XPlanar® and XTS® are registered and licensed trademarks of Beckhoff Automation Gmb H. Third-party trademark statements Chrome, Chromium and Google are trademarks of Google LLC. DSP System Toolbox, Embedded Coder, MATLAB, MATLAB Coder, MATLAB Compiler, Math Works, Predictive Maintenance Toolbox, Simscape, Simscape™ Multibody™, Simulink, Simulink Coder, Stateflow and Thing Speak are registered trademarks of The Math Works, Inc. Intel, the Intel logo, Intel Core, Xeon, Intel Atom, Celeron and Pentium are trademarks of Intel Corporation or its subsidiaries. Microsoft, Microsoft Azure, Microsoft Edge, Power Shell, Visual Studio, Windows and Xbox are trademarks of the Microsoft group of companies. Mozilla and Firefox are trademarks of the Mozilla Foundation in the U. S. and other countries. Wireshark is a registered trademark of Sysdig, Inc.
## Page 2872

More Information: www.beckhoff.com/twincat-vision/ Beckhoff Automation Gmb H & Co. KG Hülshorstweg 20 33415 Verl Germany Phone: +49 5246 9630 info@beckhoff.com www.beckhoff.com
