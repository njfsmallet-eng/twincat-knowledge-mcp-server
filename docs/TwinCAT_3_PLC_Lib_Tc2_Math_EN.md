---
title: "TE1000 Twin CAT 3"
product: "TwinCAT"
category: "PLC"
tags: ["CAT", "PLC", "TWIN"]
language: "EN"
document_type: "Library"
version: "1.3.2"
source_pdf: "https://download.beckhoff.com/download/Document/automation/twincat3/TwinCAT_3_PLC_Lib_Tc2_Math_EN.pdf"
release_date: "2025-10-17"
---
Manual | EN TE1000 Twin CAT 3 | PLC Library: Tc2_Math 2025-10-17 | Version: 1.3.2
## Page 3

Table of contents Table of contents 1 Foreword.................................................................................................................................................... 5 1.1 Notes on the documentation............................................................................................................. 5 1.2 For your safety.................................................................................................................................. 5 1.3 Notes on information security............................................................................................................ 7 2 Overview.................................................................................................................................................... 8 3 Functions................................................................................................................................................... 9 3.1 CEIL.................................................................................................................................................. 9 3.2 FLOOR............................................................................................................................................ 10 3.3 FRAC............................................................................................................................................... 12 3.4 LMOD.............................................................................................................................................. 12 3.5 LTRUNC.......................................................................................................................................... 13 3.6 MODABS......................................................................................................................................... 15 3.7 MODTURNS.................................................................................................................................... 16 4 [obsolete functions]................................................................................................................................ 18 4.1 F_Get Version Tc Math...................................................................................................................... 18 5 Global constants..................................................................................................................................... 19 5.1 Library version................................................................................................................................. 19 TE1000 Version: 1.3.2 3
## Page 4

Table of contents 4 Version: 1.3.2 TE1000
## Page 5

Foreword 1 Foreword 1.1 Notes on the documentation This description is intended exclusively for trained specialists in control and automation technology who are familiar with the applicable national standards. The documentation and the following notes and explanations must be complied with when installing and commissioning the components. The trained specialists must always use the current valid documentation. The trained specialists must ensure that the application and use of the products described is in line with all safety requirements, including all relevant laws, regulations, guidelines, and standards. Disclaimer The documentation has been compiled with care. The products described are, however, constantly under development. We reserve the right to revise and change the documentation at any time and without notice. Claims to modify products that have already been supplied may not be made on the basis of the data, diagrams, and descriptions in this documentation. Trademarks Beckhoff®, ATRO® , Ether CAT®, Ether CAT G®, Ether CAT G10®, Ether CAT P®, MX-System®, Safety over Ether CAT®, TC/BSD®, Twin CAT®, Twin CAT/BSD®, Twin SAFE®, XFC®, XPlanar®, and XTS® are registered and licensed trademarks of Beckhoff Automation Gmb H. If third parties make use of the designations or trademarks contained in this publication for their own purposes, this could infringe upon the rights of the owners of the said designations. Ether CAT® is a registered trademark and patented technology, licensed by Beckhoff Automation Gmb H, Germany. Copyright © Beckhoff Automation Gmb H & Co. KG, Germany. The distribution and reproduction of this document, as well as the use and communication of its contents without express authorization, are prohibited. Offenders will be held liable for the payment of damages. All rights reserved in the event that a patent, utility model, or design are registered. Third-party trademarks Trademarks of third parties may be used in this documentation. You can find the trademark notices here: https://www.beckhoff.com/trademarks. 1.2 For your safety Safety regulations Read the following explanations for your safety. Always observe and follow product-specific safety instructions, which you may find at the appropriate places in this document. Exclusion of liability All the components are supplied in particular hardware and software configurations which are appropriate for the application. Modifications to hardware or software configurations other than those described in the documentation are not permitted, and nullify the liability of Beckhoff Automation Gmb H & Co. KG. TE1000 Version: 1.3.2 5
## Page 6

Foreword Personnel qualification This description is only intended for trained specialists in control, automation, and drive technology who are familiar with the applicable national standards. Signal words The signal words used in the documentation are classified below. In order to prevent injury and damage to persons and property, read and follow the safety and warning notices. Personal injury warnings DANGER Hazard with high risk of death or serious injury. WARNING Hazard with medium risk of death or serious injury. CAUTION There is a low-risk hazard that could result in medium or minor injury. Warning of damage to property or environment NOTICE The environment, equipment, or data may be damaged. Information on handling the product This information includes, for example: recommendations for action, assistance or further information on the product. 6 Version: 1.3.2 TE1000
## Page 7

Foreword 1.3 Notes on information security The products of Beckhoff Automation Gmb H & Co. KG (Beckhoff), insofar as they can be accessed online, are equipped with security functions that support the secure operation of plants, systems, machines and networks. Despite the security functions, the creation, implementation and constant updating of a holistic security concept for the operation are necessary to protect the respective plant, system, machine and networks against cyber threats. The products sold by Beckhoff are only part of the overall security concept. The customer is responsible for preventing unauthorized access by third parties to its equipment, systems, machines and networks. The latter should be connected to the corporate network or the Internet only if appropriate protective measures have been set up. In addition, the recommendations from Beckhoff regarding appropriate protective measures should be observed. Further information regarding information security and industrial security can be found in our https://www.beckhoff.com/secguide. Beckhoff products and solutions undergo continuous further development. This also applies to security functions. In light of this continuous further development, Beckhoff expressly recommends that the products are kept up to date at all times and that updates are installed for the products once they have been made available. Using outdated or unsupported product versions can increase the risk of cyber threats. To stay informed about information security for Beckhoff products, subscribe to the RSS feed at https:// www.beckhoff.com/secinfo. TE1000 Version: 1.3.2 7
## Page 8

Overview 2 Overview The Tc2_Math library contains extended mathematical functions for Twin CAT PLC. Functions CEIL [} 9] The CEIL function determines an integer value from a floating point number that is lower than or equal to that number. FLOOR [} 10] The FLOOR function determines an integral value from a floating point number that is a fraction smaller than or equal that number. FRAC [} 12] The FRAC function determines the decimal component of a floating point number. LMOD [} 12] The LMOD function carries out a modulo division and returns the signed divide remainder. LTRUNC [} 13] The LTRUNC function determines the integral component of a floating point number. MODABS [} 15] The MODABS function carries out a modulo division and determines the unsigned modulo value within the modulo range. MODTURNS [} 16] The MODTURNS function carries out a modulo division and determines the signed integral component. F_Get Version Tc Math [} 18] Returns the version information of the library 8 Version: 1.3.2 TE1000
## Page 9

Functions 3 Functions 3.1 CEIL The CEIL function determines an integer value from a floating point number that is lower than or equal to that number. It is always rounded up to the larger number. The resulting number is of type LREAL and is therefore not limited to the value range of integer variables. Examples CEIL(2.8) = 3 CEIL(-2.8) = -2 FUNCTION CEIL : LREAL Inputs VAR_INPUT lr_in : LREAL; END_VAR Name Type Description lr_in LREAL Function parameters of type LREAL Comparison with other rounding functions Similar functions: FLOOR [} 10], TRUNC, LTRUNC [} 13] Unlike CEIL, the LTRUNC [} 13] function always determines the integral part of a number. For positive values, this number is lower than or equal to the input parameter, for negative values it is greater than or equal to the input parameter. Example results of various rounding functions x 0 0.4 0.5 0.6 1 1.4 1.5 1.6 1.78 FLOOR(x) 0 0 0 0 1 1 1 1 1 CEIL(x) 0 1 1 1 1 2 2 2 2 LTRUNC(x) 0 0 0 0 1 1 1 1 1 TO_LINT(x) 0 0 1 1 1 1 2 2 2 x -1.78 -1.6 -1.5 -1.4 -1 -0.6 -0.5 -0.4 FLOOR(x) -2 -2 -2 -2 -1 -1 -1 -1 CEIL(x) -1 -1 -1 -1 -1 0 0 0 LTRUNC(x) -1 -1 -1 -1 -1 0 0 0 TO_LINT(x) -2 -2 -2 -1 -1 -1 -1 0 If you do not want to round to an integer value and instead want to round to a specific decimal place, this can be achieved by multiplying and dividing by a power of ten. The following example results show the rounding to the first decimal place. TE1000 Version: 1.3.2 9
## Page 10

Functions x 0 0.04 0.05 0.06 0.1 0.14 0.15 0.16 0.178 FLOOR(x * 10) / 10 0 0 0 0 0.1 0.1 0.1 0.1 0.1 CEIL(x * 10) / 10 0 0.1 0.1 0.1 0.1 0.2 0.2 0.2 0.2 LTRUNC(x * 10) / 10 0 0 0 0 0.1 0.1 0.1 0.1 0.1 TO_LINT(x * 10) / 10.0 0 0 0.1 0.1 0.1 0.1 0.2 0.2 0.2 x -0.178 -0.16 -0.15 -0.14 -0.1 -0.06 -0.05 -0.04 FLOOR(x * 10) / 10 -0.2 -0.2 -0.2 -0.2 -0.1 -0.1 -0.1 -0.1 CEIL(x * 10) / 10 -0.1 -0.1 -0.1 -0.1 -0.1 0 0 0 LTRUNC(x * 10) / 10 -0.1 -0.1 -0.1 -0.1 -0.1 0 0 0 TO_LINT(x * 10) / 10.0 -0.2 -0.2 -0.2 -0.1 -0.1 -0.1 -0.1 0 Prerequisites Development environment Target platform PLC libraries to include Twin CAT v3.1 >= 4026.13 PC or CX (x86) Tc2_Math >= v3.5.1.0 3.2 FLOOR The FLOOR function determines an integer value from a floating point number that is lower than or equal to that number. It is always rounded down to the lower number. The resulting number is of type LREAL and is therefore not limited to the value range of an integer variable. Examples FLOOR(2.8) = 2 FLOOR(-2.8) = -3 FUNCTION FLOOR : LREAL Inputs VAR_INPUT lr_in : LREAL; END_VAR Name Type Description lr_in LREAL Function parameters of type LREAL 10 Version: 1.3.2 TE1000
## Page 11

Functions Comparison with other rounding functions Similar functions: CEIL [} 9], TRUNC, LTRUNC [} 13] Unlike FLOOR, the LTRUNC [} 13] function always determines the integral part of a number. For positive values, this number is lower than or equal to the input parameter, for negative values it is greater than or equal to the input parameter. Example results of various rounding functions x 0 0.4 0.5 0.6 1 1.4 1.5 1.6 1.78 FLOOR(x) 0 0 0 0 1 1 1 1 1 CEIL(x) 0 1 1 1 1 2 2 2 2 LTRUNC(x) 0 0 0 0 1 1 1 1 1 TO_LINT(x) 0 0 1 1 1 1 2 2 2 x -1.78 -1.6 -1.5 -1.4 -1 -0.6 -0.5 -0.4 FLOOR(x) -2 -2 -2 -2 -1 -1 -1 -1 CEIL(x) -1 -1 -1 -1 -1 0 0 0 LTRUNC(x) -1 -1 -1 -1 -1 0 0 0 TO_LINT(x) -2 -2 -2 -1 -1 -1 -1 0 If you do not want to round to an integer value and instead want to round to a specific decimal place, this can be achieved by multiplying and dividing by a power of ten. The following example results show the rounding to the first decimal place. x 0 0.04 0.05 0.06 0.1 0.14 0.15 0.16 0.178 FLOOR(x * 10) / 10 0 0 0 0 0.1 0.1 0.1 0.1 0.1 CEIL(x * 10) / 10 0 0.1 0.1 0.1 0.1 0.2 0.2 0.2 0.2 LTRUNC(x * 10) / 10 0 0 0 0 0.1 0.1 0.1 0.1 0.1 TO_LINT(x * 10) / 10.0 0 0 0.1 0.1 0.1 0.1 0.2 0.2 0.2 x -0.178 -0.16 -0.15 -0.14 -0.1 -0.06 -0.05 -0.04 FLOOR(x * 10) / 10 -0.2 -0.2 -0.2 -0.2 -0.1 -0.1 -0.1 -0.1 CEIL(x * 10) / 10 -0.1 -0.1 -0.1 -0.1 -0.1 0 0 0 LTRUNC(x * 10) / 10 -0.1 -0.1 -0.1 -0.1 -0.1 0 0 0 TO_LINT(x * 10) / 10.0 -0.2 -0.2 -0.2 -0.1 -0.1 -0.1 -0.1 0 TE1000 Version: 1.3.2 11
## Page 12

Functions Requirements Development environment Target system type PLC libraries to include Twin CAT v3.0.0 PC or CX (x86) Tc2_Math 3.3 FRAC The FRAC function determines the decimal component of a floating point number. Examples FRAC(2.8) = 0.8 FRAC(-2.8) = -0.8 FUNCTION FRAC : LREAL Inputs VAR_INPUT lr_in : LREAL; END_VAR Name Type Description lr_in LREAL Function parameters of type LREAL Requirements Development environment Target system type PLC libraries to include Twin CAT v3.0.0 PC or CX (x86) Tc2_Math 3.4 LMOD 12 Version: 1.3.2 TE1000
## Page 13

Functions The LMOD function carries out a modulo division and returns the signed divide remainder. Examples LMOD(400.56, 360) = 40.56 LMOD(-400.56, 360) = -40.56 Similar functions: MOD, MODABS [} 15] Unlike MOD, the LMOD function operates with floating point variables and also determines non- integer remainders. In the context of NC axes, modulo values are usually used unsigned. These can be calculated with the MODABS [} 15] function. FUNCTION LMOD : LREAL Inputs VAR_INPUT lr_Value : LREAL; lr_Arg : LREAL; END_VAR Name Type Description lr_Value LREAL Input value lr_Arg LREAL Modulo range Requirements Development environment Target system type PLC libraries to include Twin CAT v3.0.0 PC or CX (x86) Tc2_Math 3.5 LTRUNC The LTRUNC function determines the integral part of a floating point number. TE1000 Version: 1.3.2 13
## Page 14

Functions Unlike TRUNC, the result from LTRUNC is of type LREAL and is therefore not limited to the value range of integer variables. Examples LTRUNC(2.8) = 2 LTRUNC(-2.8) = -2 FUNCTION LTRUNC : LREAL Inputs VAR_INPUT lr_in : LREAL; END_VAR Name Type Description lr_in LREAL Function parameters of type LREAL Comparison with other rounding functions Similar functions: TRUNC, CEIL [} 9], FLOOR [} 10] Example results of various rounding functions x 0 0.4 0.5 0.6 1 1.4 1.5 1.6 1.78 FLOOR(x) 0 0 0 0 1 1 1 1 1 CEIL(x) 0 1 1 1 1 2 2 2 2 LTRUNC(x) 0 0 0 0 1 1 1 1 1 TO_LINT(x) 0 0 1 1 1 1 2 2 2 x -1.78 -1.6 -1.5 -1.4 -1 -0.6 -0.5 -0.4 FLOOR(x) -2 -2 -2 -2 -1 -1 -1 -1 CEIL(x) -1 -1 -1 -1 -1 0 0 0 LTRUNC(x) -1 -1 -1 -1 -1 0 0 0 TO_LINT(x) -2 -2 -2 -1 -1 -1 -1 0 If you do not want to round to an integer value and instead want to round to a specific decimal place, this can be achieved by multiplying and dividing by a power of ten. The following example results show the rounding to the first decimal place. 14 Version: 1.3.2 TE1000
## Page 15

Functions x 0 0.04 0.05 0.06 0.1 0.14 0.15 0.16 0.178 FLOOR(x * 10) / 10 0 0 0 0 0.1 0.1 0.1 0.1 0.1 CEIL(x * 10) / 10 0 0.1 0.1 0.1 0.1 0.2 0.2 0.2 0.2 LTRUNC(x * 10) / 10 0 0 0 0 0.1 0.1 0.1 0.1 0.1 TO_LINT(x * 10) / 10.0 0 0 0.1 0.1 0.1 0.1 0.2 0.2 0.2 x -0.178 -0.16 -0.15 -0.14 -0.1 -0.06 -0.05 -0.04 FLOOR(x * 10) / 10 -0.2 -0.2 -0.2 -0.2 -0.1 -0.1 -0.1 -0.1 CEIL(x * 10) / 10 -0.1 -0.1 -0.1 -0.1 -0.1 0 0 0 LTRUNC(x * 10) / 10 -0.1 -0.1 -0.1 -0.1 -0.1 0 0 0 TO_LINT(x * 10) / 10.0 -0.2 -0.2 -0.2 -0.1 -0.1 -0.1 -0.1 0 Requirements Development environment Target system type PLC libraries to include Twin CAT v3.0.0 PC or CX (x86) Tc2_Math Also see about this 2 CEIL [} 9] 2 FLOOR [} 10] 3.6 MODABS The MODABS function performs a modulo division and determines the unsigned modulo value within the modulo range. Examples MODABS(400.56, 360) = 40.56 MODABS(-400.56, 360) = 319.44 Similar functions: MOD, LMOD [} 12] The MODABS function can be used to calculate the modulo set position of an NC axis from its absolute set position. Modulo Set Position := MODABS( Nc To Plc.f Pos Soll, 360 ); FUNCTION MODABS : LREAL Inputs VAR_INPUT lr_val : LREAL; lr_mod : LREAL; END_VAR Name Type Description lr_val LREAL Input value lr_mod LREAL Modulo range TE1000 Version: 1.3.2 15
## Page 16

Functions Requirements Development environment Target system type PLC libraries to include Twin CAT v3.0.0 PC or CX (x86) Tc2_Math 3.7 MODTURNS The MODTURNS function carries out a modulo division and determines the signed integral component (modulo periods, modulo rotations). Value range of DINT If the value of the result of MODTURNS lies outside of the value range of DINT, an undefined result will be delivered. Examples MODTURNS (800.56, 360) = 2 MODTURNS (-400.56, 360) = -2 The MODTURNS function can be used to calculate the number of modulo rotations of an NC axis from its absolute set position. Modulo Set Turns := MODTURNS ( Nc To Plc.f Pos Soll, 360 ); FUNCTION MODTURNS : DINT Inputs VAR_INPUT lr_Value : LREAL; lr_Arg : LREAL; END_VAR Name Type Description lr_Value LREAL Input value lr_Arg LREAL Modulo range 16 Version: 1.3.2 TE1000
## Page 17

Functions Requirements Development environment Target system type PLC libraries to include Twin CAT v3.0.0 PC or CX (x86) Tc2_Math TE1000 Version: 1.3.2 17
## Page 18

[obsolete functions] 4 [obsolete functions] 4.1 F_Get Version Tc Math This function can be used to read PLC library version information. FUNCTION F_Get Version Tc Math : UINT Inputs VAR_INPUT n Version Element : INT; END_VAR Name Type Description n Version Element INT Version element to be read. Possible parameters: • 1: major number; • 2: minor number; • 3: revision number Requirements Development environment Target system type PLC libraries to include Twin CAT v3.0.0 PC or CX (x86) Tc2_Math 18 Version: 1.3.2 TE1000
## Page 19

Global constants 5 Global constants 5.1 Library version All libraries have a certain version. The version is indicated in the PLC library repository, for example. A global constant contains the information about the library version: Global_Version VAR_GLOBAL CONSTANT st Lib Version_Tc2_Math : ST_Lib Version; END_VAR Name Type Description st Lib Version_Tc2 ST_Lib Version Version number of the Tc2_Math library (type: _Math ST_Lib Version) To see if you have the version you need, use the function F_Cmp Lib Version (defined in Tc2_System). All other options for comparing library versions, which you may know from Twin CAT 2, are outdated! TE1000 Version: 1.3.2 19
## Page 20

Trademark statements Beckhoff®, ATRO®, Ether CAT®, Ether CAT G®, Ether CAT G10®, Ether CAT P®, MX-System®, Safety over Ether CAT®, TC/BSD®, Twin CAT®, Twin CAT/BSD®, Twin SAFE®, XFC®, XPlanar® and XTS® are registered and licensed trademarks of Beckhoff Automation Gmb H.
## Page 21

More Information: www.beckhoff.com/te1000 Beckhoff Automation Gmb H & Co. KG Hülshorstweg 20 33415 Verl Germany Phone: +49 5246 9630 info@beckhoff.com www.beckhoff.com
