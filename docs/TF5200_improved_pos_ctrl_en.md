---
title: "TF5200_improved_pos_ctrl_en"
product: "TF5200"
category: "Motion_Control"
tags: ["NC"]
language: "EN"
document_type: "Manual"
version: "1.03"
source_pdf: "https://download.beckhoff.com/download/Document/automation/twincat3/TF5200_improved_pos_ctrl_en.pdf"
release_date: "2025-06-06"
---
Functional description | EN TF5200 | Twin CAT 3 CNC Improved Position Control 6/6/2025 | Version: 1.03
## Page 3

Notes on the documentation Notes on the documentation This description is only intended for the use of trained specialists in control and automation engineering who are familiar with the applicable national standards. It is essential that the documentation and the following notes and explanations are followed when installing and commissioning the components. It is the duty of the technical personnel to use the documentation published at the respective time of each installation and commissioning. The responsible staff must ensure that the application or use of the products described satisfy all the requirements for safety, including all the relevant laws, regulations, guidelines and standards. Disclaimer The documentation has been prepared with care. The products described are, however, constantly under development. We reserve the right to revise and change the documentation at any time and without prior announcement. No claims for the modification of products that have already been supplied may be made on the basis of the data, diagrams and descriptions in this documentation. Trademarks Beckhoff®, Twin CAT®, Twin CAT/BSD®, TC/BSD®, Ether CAT®, Ether CAT G®, Ether CAT G10®, Ether CAT P®, Safety over Ether CAT®, Twin SAFE®, XFC®, XTS® and XPlanar® are registered trademarks of and licensed by Beckhoff Automation Gmb H. Other designations used in this publication may be trademarks whose use by third parties for their own purposes could violate the rights of the owners. Patent Pending The Ether CAT technology is patent protected, in particular by the following applications and patents: EP1590927, EP1789857, EP1456722, EP2137893, DE102015105702 with corresponding applications or registrations in various other countries. Ether CAT® is registered trademark and patented technology, licensed by Beckhoff Automation Gmb H, Germany Copyright © Beckhoff Automation Gmb H & Co. KG, Germany. The reproduction, distribution and utilisation of this document as well as the communication of its contents to others without express authorisation are prohibited. Offenders will be held liable for the payment of damages. All rights reserved in the event of the grant of a patent, utility model or design. TF5200 | Twin CAT 3 CNC Version: 1.03 3 Improved Position Control
## Page 4

General and safety instructions General and safety instructions Icons used and their meanings This documentation uses the following icons next to the safety instruction and the associated text. Please read the (safety) instructions carefully and comply with them at all times. Icons in explanatory text 1. Indicates an action. ð Indicates an action statement. DANGER Acute danger to life! If you fail to comply with the safety instruction next to this icon, there is immediate danger to human life and health. CAUTION Personal injury and damage to machines! If you fail to comply with the safety instruction next to this icon, it may result in personal injury or damage to machines. NOTICE Restriction or error This icon describes restrictions or warns of errors. Tips and other notes This icon indicates information to assist in general understanding or to provide additional informa- tion. General example Example that clarifies the text. NC programming example Programming example (complete NC program or program sequence) of the described function or NC com- mand. Specific version information Optional or restricted function. The availability of this function depends on the configuration and the scope of the version. 4 Version: 1.03 TF5200 | Twin CAT 3 CNC Improved Position Control
## Page 5

Table of contents Table of contents Notes on the documentation.................................................................................................................... 3 General and safety instructions.............................................................................................................. 4 1 Overview.................................................................................................................................................... 8 2 Description................................................................................................................................................ 9 2.1 “DIRECT" mode.............................................................................................................................. 10 2.2 "INDIRECT" mode........................................................................................................................... 11 2.3 "SET_POINT" mode........................................................................................................................ 12 3 Enabling................................................................................................................................................... 13 3.1 Prerequisites................................................................................................................................... 13 3.2 Gantry axes..................................................................................................................................... 15 3.3 Application example........................................................................................................................ 15 4 Parameter................................................................................................................................................. 19 4.1 Overview......................................................................................................................................... 19 4.2 Description...................................................................................................................................... 20 5 Support and Service............................................................................................................................... 25 Index......................................................................................................................................................... 26 TF5200 | Twin CAT 3 CNC Version: 5 Improved Position Control
## Page 6

Table of contents 6 Version: TF5200 | Twin CAT 3 CNC Improved Position Control
## Page 7

List of figures List of figures Fig. 1 Extension of the cascade rule for *DIRECT" mode...................................................................... 10 Fig. 2 Extension of the cascade rule for "INDIRECT" mode.................................................................. 11 Fig. 3 "SET_POINT" mode .................................................................................................................... 12 Fig. 4 Representation of additive speed................................................................................................. 13 Fig. 5 Additive speed configured for CANopen...................................................................................... 14 Fig. 6 Predominant vibrations without Improved Position Control.......................................................... 15 Fig. 7 Vibration at 53Hz damped by using the “DIRECT" mode............................................................ 16 Fig. 8 Vibration at 11 Hz damped by the "INDIRECT" mode................................................................. 17 TF5200 | Twin CAT 3 CNC Version: 1.03 7 Improved Position Control
## Page 8

Overview 1 Overview Task Mechanical vibrations have a direct impact on the dynamics and machining results of machine tools. The following factors cause excitation in the machine in particular: • the natural frequencies of the machine and • frequencies impacting the machine from external influences. The "Improved Position Control" function provides active damping of these mechanical vibrations by control mechanisms. This function is available as of CNC Build V3.1.3077.08. Effectiveness The active damping of vibrations allows the setting of a higher proportional gain factor (K) in the position v control loop. This results in • better dynamics, • shorter machining times and • better workpiece quality. The possible applications include axes where individual frequencies affect the quality of machining. Parameterisation The "Improved Position Control" function is parameterised [} 19]for each single axis in the axis parameters. An exception to this are gantry slave axes. In this case, the parameters are adopted internally directly from the master axis. Mandatory note on references to other documents For the sake of clarity, links to other documents and parameters are abbreviated, e.g. [PROG] for the Programming Manual or P-AXIS-00001 for an axis parameter. For technical reasons, these links only function in the Online Help (HTML5, CHM) but not in pdf files since pdfs do not support cross-linking. 8 Version: 1.03 TF5200 | Twin CAT 3 CNC Improved Position Control
## Page 9

Description 2 Description Machine vibrations can often not be prevented during machining. The "Improved Position Control" function provides a flexible solution to counteract the problem of natural vibrations by adapting various parameters. Vibrations are actively damped by extending the classic PPI cascade control to allow an additional feedback of filtered speed values. Up to 3 frequencies can be damped simultaneously. Parameterisation is carried out using P-AXIS-00753 [} 21] and 3 modes are available for each frequency: • (NOT_ACTIVE = 0) • DIRECT = 1 • INDIRECT =2 • SET_POINT = 3 The operating principle of modes 1 - 3 is described in the sections below. NOTICE The "Improved Position Control" function is an intervention in the control loop and is therefore critical for system stability. TF5200 | Twin CAT 3 CNC Version: 1.03 9 Improved Position Control
## Page 10

Description 2.1 “DIRECT" mode “DIRECT" mode (P-AXIS-00753 [} 21]) only uses direct measured values to dampen vibrations; the vibrations to be damped (P-AXIS-00751 [} 20]) must therefore be contained in the actual values. The figure below shows the extension of the PPI cascade rule for “DIRECT" mode: Fig. 1: Extension of the cascade rule for *DIRECT" mode Ideally, frequencies to be damped are included in speed values from v and are recorded by a direct ist2 measuring system. The measured frequency range is reduced to the relevant frequency by using a suitable band-pass filter. After scaling the results, an additional additive speed (v ) is added to the manipulated add_ges variable of the position controller (v ) This results in a counter-motion of the motor to compensate for a soll particular vibration. If no direct measuring system is installed, the actual values of the motor (v ) can be used as an alternative, ist1 provided the vibration is visible in the actual speed of the motor encoder (v ). ist1 NOTICE Excessive scaling of the additive speed may cause the motor to vibrate. Consequence: The control loop becomes unstable. 10 Version: 1.03 TF5200 | Twin CAT 3 CNC Improved Position Control
## Page 11

Description 2.2 "INDIRECT" mode "INDIRECT" mode (P-AXIS-00753 [} 21]) can be used if the measuring system does not include the vibration to be damped (P-AXIS-00751 [} 20]). The mechanical vibration is simulated by a digital filter: Fig. 2: Extension of the cascade rule for "INDIRECT" mode A simulation of the mechanical vibration can be executed by specifying a separate damping ratio (P- AXIS-00756 [} 22]) for each of the frequencies to be damped. The simulation results are handled in the same way as the results from measurements taken from a direct measuring system. The frequency range is reduced to the relevant frequency by using a suitable band-pass filter. After weighting the results, an additive speed is added to the manipulated variable causing a counter-motion of the motor to compensate for the vibration. Advantage of "INDIRECT" mode Compared to *DIRECT" mode, "INDIRECT" mode offers the advantage of producing strong excitation in the simulation, even for weak vibrations that are not visible in the motor actual values or from the direct measuring system. This allows the "Improved Position Control" function to damp vibrations that are not suitable for *DIRECT" mode. NOTICE Excessive scaling of the additive speed may cause the motor to vibrate. Consequence: The control loop becomes unstable. NOTICE At high frequencies, a phase shift of the output additive speed may occur due to the dead time of the simulation. Consequence: Vibrations may be intensified instead of being damped. NOTICE Low damping ratios may cause the output of high additive speeds. Consequence: The drive may be excited to vibrate. TF5200 | Twin CAT 3 CNC Version: 1.03 11 Improved Position Control
## Page 12

Description 2.3 "SET_POINT" mode "SET_POINT" mode (P-AXIS-00753 [} 21]) is based on the same principle as "INDIRECT" mode. Fig. 3: "SET_POINT" mode As you can see in the figure above, mechanical vibration is also simulated in "SET_POINT" mode. The difference between this mode and "INDIRECT" mode lies in the values on which the simulation is based: "SET_POINT" mode uses the command speeds from the position controller directly. This avoids the dead time caused by the measurement and transfer of the actual speed. Advantage of "SET_POINT" mode The output additive speed values are therefore somewhat faster than in "INDIRECT" mode. As a result, the phase shift plays a minor role and higher frequencies can be damped. Another advantage of "SET_POINT" mode is that the drive is not excited to vibrate due to feedback of the actual values. On the downside, information that "INDIRECT" mode obtains by using the actual values of the motor is lost. NOTICE At high frequencies, a phase shift of the output additive speed may occur due to the dead time of the simulation. Consequence: Vibrations may be intensified instead of being damped. NOTICE Low damping ratios may cause the output of high additive speeds. Consequence: The drive may be excited to vibrate. 12 Version: 1.03 TF5200 | Twin CAT 3 CNC Improved Position Control
## Page 13

Enabling 3 Enabling As parameterising the "Improved Position Control" function is critical for system stability, the subsections below contain information on enabling the function. 3.1 Prerequisites Please observe the following when using "Improved Position Control": • The axis must be in the position control (CNC or drive). • For drives with internal position control, the "Improved Position Control" function is output by an additive speed. You must therefore configure this in the process data. The section below deals with the configuration for CANopen. For SERCOS, you must also configure the S-0-0037 parameter. Carry out scaling for the speed interface correctly by using the parameters P-AXIS-00205 [} 23], P- AXIS-00206 [} 24] and P-AXIS-00207 [} 24]. • If the axis exists in the CNC position control, the additive speed is directly included in the manipulated variable. Scaling takes place using the scaling factor of the drive manipulated variable P-AXIS-00128 [} 23] and P-AXIS-00129 [} 23]. • When you carry out an update of changed axis parameters for the “Improved Position Control” function, the axis must be at standstill. Fig. 4: Representation of additive speed TF5200 | Twin CAT 3 CNC Version: 1.03 13 Improved Position Control
## Page 14

Enabling Fig. 5: Additive speed configured for CANopen 14 Version: 1.03 TF5200 | Twin CAT 3 CNC Improved Position Control
## Page 15

Enabling 3.2 Gantry axes The "Improved Position Control" function allows the damping of vibrations in hard gantry systems. Enter the parameters in the master axis. Do not enable the function for slave axes in the gantry combination. If the function is enabled in the slave axis, an error with ID 70600 is output. The additive speed for gantry slave axes is included internally in the master axis parameters. When the calculated values are output via the additive command speed (position control in the drive), make sure you carry out the scaling of the speed interface for master and slave axes correctly using the parameters P-AXIS-00205 [} 23], P-AXIS-00206 [} 24] and P-AXIS-00207 [} 24] . Normally, the scaling of the master axis is identical to the scaling of the slave axis. 3.3 Application example The example below shows the results and parameterisation of the "Improved Position Control" function in an application with a toothed rack and pinion drive. For trial purposes, the axis was moved forward and backward and vibrations were recorded using an acceleration sensor. Fig. 6: Predominant vibrations without Improved Position Control The figure above shows the recorded time range in the upper section and the frequency range in the lower section. During the process, the axis shows a predominant vibration at a frequency of 53Hz and a predominant vibration at 11Hz during acceleration and deceleration. The task is to damp the two frequencies by using the "Improved Position Control" function. TF5200 | Twin CAT 3 CNC Version: 1.03 15 Improved Position Control
## Page 16

Enabling Fig. 7: Vibration at 53Hz damped by using the “DIRECT" mode. The figure above shows vibration damping at 53Hz. The amplitude of 0.81m/s2 is damped to 0.40 m/s2 by optimising the “DIRECT” mode parameters. 16 Version: 1.03 TF5200 | Twin CAT 3 CNC Improved Position Control
## Page 17

Enabling At the same time, the vibration at 11 Hz is damped by using the "INDIRECT" mode. Fig. 8: Vibration at 11 Hz damped by the "INDIRECT" mode. The amplitude is also damped from 0.52 m/s2 to 0.28 m/s2 at this frequency by optimising the parameters. Parameters used lr_param.improved_position_control.enable TRUE lr_param.improved_position_control.v_add_max_fact 1000 lr_param.improved_position_control.stage[0].mode DIRECT lr_param.improved_position_control.stage[0].filter.order 2 lr_param.improved_position_control.stage[0].filter.fg_f0 53 lr_param.improved_position_control.stage[0].filter.q_factor 10 lr_param.improved_position_control.stage[0].filter.damping 0.9 lr_param.improved_position_control.stage[0].weight_fact_num 100 lr_param.improved_position_control.stage[0].weight_fact_denom 200 lr_param.improved_position_control.stage[1].mode INDIRECT lr_param.improved_position_control.stage[1].filter.order 2 lr_param.improved_position_control.stage[1].filter.fg_f0 90 lr_param.improved_position_control.stage[1].filter.q_factor 10 lr_param.improved_position_control.stage[1].filter.damping 0.5 lr_param.improved_position_control.stage[1].weight_fact_num 100 lr_param.improved_position_control.stage[1].weight_fact_denom 200 lr_param.improved_position_control.stage[2].mode NOT_ACTIVE lr_param.improved_position_control.stage[2].filter.order 2 lr_param.improved_position_control.stage[2].filter.fg_f0 90 lr_param.improved_position_control.stage[2].filter.q_factor 10 lr_param.improved_position_control.stage[2].filter.damping 0.4 lr_param.improved_position_control.stage[2].weight_fact_num 100 lr_param.improved_position_control.stage[2].weight_fact_denom 200 TF5200 | Twin CAT 3 CNC Version: 1.03 17 Improved Position Control
## Page 18

Enabling Procedure explained by example First enable and observe the modes for the frequencies separately to find the best possible parameters for a frequency. Select the “DIRECT” mode for the frequency at 53 Hz since the frequency is clearly visible in the drive actual values. Due to the high frequency, the quality factor can be increased accordingly. A quality factor of 10 corresponds to a bandwidth of 5.3Hz at this frequency. Then gradually increase the weighting factor until the result deteriorates again. The same principle is used to determine the parameters for the frequency at 11Hz. Here the "INDIRECT" mode is used in order to separate the frequency from its adjacent frequencies. An additional damping must be set for this mode. To determine optimum damping, calculate the damping of the vibration from the time range of the recording. Alternatively, observe the behaviour of the "Improved Position Control" function as you gradually lower the damping. Finally, activate both frequencies simultaneously and check whether the two stages influence each other. Since both frequencies are relatively far apart in this example, no influence is observable. 18 Version: 1.03 TF5200 | Twin CAT 3 CNC Improved Position Control
## Page 19

Parameter 4 Parameter The "Improved Position Control" function offers the possibility of damping up to 3 frequencies simultaneously. Certain parameters must be set individually for each of the frequencies to be damped. The frequencies are subdivided during parameterisation in stages (stages[i] where 0 <= i <= 2). If several frequencies close to each other require damping, take this into account when you set the parameters for each of the stages. Consequence: The individual stages may influence each other. 4.1 Overview The following axis parameters are available to adapt the "Improved Position Control" function: ID Axis parameter Description P-AXIS-00750 order Order of the filter P-AXIS-00751 fg_f0 Damped frequency P-AXIS-00752 q_factor Filter quality P-AXIS-00753 mode Mode P-AXIS-00754 weight_fact_num Weighting factor numerator P-AXIS-00755 weight_fact_denom Weighting factor denominator P-AXIS-00756 damping Filter damping P-AXIS-00757 v_add_max_fact Factor for the permissible additive velocity P-AXIS-00758 enable Enabling the "Improved Position Control" function Additional parameters used: ID Axis parameter Description P-AXIS-00128 multi_gain_n Adaptation of command value of drive to the drive format (denominator) P-AXIS-00129 multi_gain_z Adaptation of command value of drive to the drive format (numerator) P-AXIS-00205 v_reso_denom Normalisation of the velocity denominator P-AXIS-00206 v_reso_num Normalisation of the velocity numerator P-AXIS-00207 v_time_base Normalisation of the velocity numerator TF5200 | Twin CAT 3 CNC Version: 1.03 19 Improved Position Control
## Page 20

Parameter 4.2 Description P-AXIS-00750 Order of band-pass filter Description This parameter defines the order of the band-pass filter for all modes (P-AXIS-00753 [} 21]). In addition, this parameter is a value which expresses the fall of frequency response (fall = -order x 20 d B/decade). Parameter lr_param.improved_position_control.stage[i].filter.order Data type UNS32 Data range 1 <= order <= 3 Axis types T, R, S Dimension T: —- R, S: —- Default value 0 Drive types SERCOS, Profidrive, CANopen Remarks P-AXIS-00751 Damped frequency Description The parameter defines the frequency that is to be actively damped by the "Improved Position Control" function. The middle frequency is specified for all modes P-AXIS-00753 [} 21] for the band- pass frequency. For the “INDIRECT” and SET_POINT modes, the simulation of the mechanical vibration is based on the same frequency. Parameter lr_param.improved_position_control.stage[i].filter.fg_f0 Data type REAL64 Data range 0.0 < fg_f0 <= 500.0 Axis types T, R, S Dimension T: Hz R, S: Hz Default value -1 Drive types SERCOS, Profidrive, CANopen Remarks The "Improved Position Control" function achieves the best results when the dominant frequency of the mechanical vibration is precisely met. The measured frequency may deviate from the actual frequency due to measurement inaccuracies. In many cases, the performance of the function can be enhanced by varying the parameter fg_f0 within a narrow range. Parameter available as of CNC Build V3.1.3077.08 and higher P-AXIS-00752 Quality factor of the band-pass filter Description Specifies the inverse value of the bandwidth for the band-pass filter for all modes (P- AXIS-00753 [} 21]). P-AXIS-00752 = P-AXIS-00751 [} 20] / bandwidth Parameter lr_param.improved_position_control.stage[i].filter.q_factor Data type REAL64 Data range 1.0 <= q_factor <= 10.0 Axis types T, R, S Dimension T: —- R, S: —- Default value -1 Drive types SERCOS, Profidrive, CANopen 20 Version: 1.03 TF5200 | Twin CAT 3 CNC Improved Position Control
## Page 21

Parameter Remarks A high filter quality limits the bandwidth of the filtering frequencies. To avoid cutting off any relevant frequencies, it is advisable to raise the filter quality step by step. The filter quality is limited by changing the frequency dependent on machine position and mass inertia. Among other things, a higher filter quality leads to improved damping of the required frequency, whereas a lower quality results in a more robust behaviour of frequency damping. Parameter available as of CNC Build V3.1.3077.08 and higher P-AXIS-00753 Mode for the "Improved Position Control" function Description The following modes are provided for the "Improved Position Control" function and they are applicable simultaneously to various stages. • NOT_ACTIVE: IPC is not active. • DIRECT: IPC uses direct measured values. Direct measured values can either come from a direct measuring system or originate from a motor encoder as the actual velocity. • INDIRECT: IPC uses values that are based on the simulation of the mechanical vibration by the measured actual motor velocity. • SET_POINT: IPC uses values that are based on the simulation of the mechanical vibration by the command velocity. Parameter lr_param.improved_position_control.stage[i].mode Data type UNS32 Data range 0 - NOT_ACTIVE 1 - DIRECT 2 - INDIRECT 3 - SET_POINT Axis types T, R, S Dimension T: —- R, S: —- Default value 0 Drive types SERCOS, Profidrive, CANopen Remarks Parameter available as of CNC Build V3.1.3077.08 and higher P-AXIS-00754 Weighting factor numerator Description Weighting factor numerator. The weighting is calculated from P-AXIS-00754 and P- AXIS-00755 [} 22]: Weighting factor = P-AXIS-00754 / P-AXIS-00755 [} 22] The weighting factor affects the output additive velocity per stage. The weighting factor is limited to a maximum value of 7.0. A weighting factor of <1 reduces the output additive velocity. A weighting factor of >1 increases the output additive velocity. Parameter lr_param.improved_position_control.stage[i].weight_fact_num Data type UNS32 Data range 0 < weight_fact_num < MAX(UNS32) Axis types T, R, S Dimension T: —- R, S: —- Default value 1 Drive types SERCOS, Profidrive, CANopen Remarks To ensure the reliable activation of the "Improved Position Control" function, it is advisable to raise the additive velocity slowly via the weighting factor. Parameter available as of CNC Build V3.1.3077.08 and higher TF5200 | Twin CAT 3 CNC Version: 1.03 21 Improved Position Control
## Page 22

Parameter P-AXIS-00755 Weighting factor denominator Description Weighting factor denominator. The weighting factor is calculated from P-AXIS-00754 [} 21] and P-AXIS-00755. Weighting factor = P-AXIS-00754 [} 21] / P-AXIS-00755 The weighting factor affects the output additive velocity per stage. The weighting factor is limited to a maximum value of 7.0. A weighting factor of <1 reduces the output additive velocity; a weighting factor of >1 increases the output additive velocity. Parameter lr_param.improved_position_control.stage[i].weight_fact_denom Data type UNS32 Data range 0 < weight_fact_denom < MAX(UNS32) Axis types T, R, S Dimension T: —- R, S: —- Default value 1 Drive types SERCOS, Profidrive, CANopen Remarks To ensure the reliable activation of the Improved Position Control function, it is advisable to raise the additive velocity slowly via the weighting factor. P-AXIS-00756 Damping the simulated mechanical vibration Description The parameter specifies the damping of the simulated mechanical vibration for the modes (P-AXIS-00753 [} 21]) INDIRECT and SET_POINT. The parameter has no influence on the DIRECT mode. Parameter lr_param.improved_position_control.stage[i].filter.damping Data type REAL64 Data range 0.0 < damping < 1.0 Axis types T, R, S Dimension T: —- R, S: —- Default value -1 Drive types SERCOS, Profidrive, CANopen Remarks The lower the damping, the more the simulation of the mechanical vibration and the higher the specified additive velocity. To ensure the reliable start of the "Improved Position Control" function, it is advisable to decrease damping slowly. Parameter available as of CNC Build V3.1.3077.08 and higher P-AXIS-00757 Factor for the maximum permissible additive velocity Description This parameter limits the maximum permissible additive velocity of the "Improved Position Control" function. The additive velocity is limited in proportion to the maximum axis velocity. max. additive velocity = P-AXIS-00757 / 1000 x P-AXIS-00212 If the additive velocity exceeds the calculated value, the limit value continues to be output as the additive velocity. Parameter lr_param.improved_position_control.v_add_max_fact Data type UNS16 Data range 0 <= v_add_max_fact <= 2000 Axis types T, R, S Dimension T: 0.1% R, S: 0.1% Default value 0 Drive types SERCOS, Profidrive, CANopen Remarks No warning is output if the maximum velocity is exceeded. Parameter available as of CNC Build V3.1.3077.08 and higher 22 Version: 1.03 TF5200 | Twin CAT 3 CNC Improved Position Control
## Page 23

Parameter P-AXIS-00758 Enabling the "Improved Position Control" function Description This parameter enables or disables the "Improved Position Control" function. Parameter lr_param.improved_position_control.enable Data type BOOLEAN Data range 0: Improved Position Control is not active 1: Improved Position Control is active Axis types T, R, S Dimension T: ---- R, S: ---- Default value 0 Drive types SERCOS, Profidrive, CANopen Remarks Parameter available as of CNC Build V3.1.3077.08 and higher P-AXIS-00128 Adapting the drive command value to the drive format (denominator) Description The speed setpoint calculated in the position controller must be adapted to the D/A format of the D/A converter. The digital value at the D/A converter input (getriebe[i].multi_gain_z/getriebe[i].mulit_gain_n) must be specified at which the axis travels at the velocity of [1m/min] or at the speed [1000°/min]. Numerator: P-AXIS-00129 Parameter getriebe[i].multi_gain_n Data type UNS32 Data range 1 ≤ multi_gain_n ≤ MAX(UNS32) Axis types T, R, S Dimension T: ---- R,S: ---- Default value 1 Drive types Simulation, Conventional, Terminal, Lightbus, Profidrive Remarks P-AXIS-00129 Adaptation of command value of drive to the drive format (numerator) Description The speed setpoint calculated in the position controller must be adapted to the D/A format of the D/A converter. The digital value at the D/A converter input (getriebe[i].multi_gain_z/getriebe[i].mulit_gain_n) must be specified at which the axis travels at the velocity of [1m/min] or at the speed [1000°/min]. Denominator : P-AXIS-00128 Parameter getriebe[i].multi_gain_z Data type UNS32 Data range 1 ≤ multi_gain_z ≤ MAX(UNS32) Axis types T, R, S Dimension T: Bit R,S: Bit Default value 2000 Drive types Simulation, Conventional, Terminal, Lightbus, Profidrive Remarks P-AXIS-00205 Normalisation of the velocity (denominator) Description The conversion factor of the set velocity to drive format is obtained by specifying the value output to the drive and the related path distance covered in the time specified in P-AXIS-00207. This parameter specifies the conversion factor numerator. (P-AXIS-00206 is the numerator) This parameter indicates the path covered in the time specified in P-AXIS-00207, provided the value in P-AXIS-00206 is output to the drive. The path is specified in 1 µm or 0.001°. TF5200 | Twin CAT 3 CNC Version: 1.03 23 Improved Position Control
## Page 24

Parameter Parameter antr.v_reso_denom Data type UNS32 Data range 1 ≤ v_reso_denom ≤ MAX(UNS32) Axis types T, R, S Dimension T: 1µm R,S: 0,001° Default value 36 Drive types All drive types Remarks P-AXIS-00206 Normalisation of command velocity (numerator) Description The conversion factor of the command velocity to drive format is defined by specifying the value output to the drive and the related distance covered in the time specified in P-AXIS-00207 . This parameter specifies the conversion factor numerator. (P-AXIS-00205 is the denominator) The factor indicates the number of velocity increments output. Parameter antr.v_reso_num Data type UNS32 Data range 0 ≤ v_reso_num ≤ MAX(UNS32) Axis types T, R, S Dimension T: increments R,S: increments Default value 1 Drive types All drive types Remarks P-AXIS-00207 Time base for normalisation of velocity Description The time base for adapting the velocity interface to the unit used in the drive can be specified as value per minute, second or sampling interval. If normalisation per sampling interval is selected, the output value changes proportionally depending on the CNC cycle time at constant velocity. This may be essential depending on the drive. Parameter antr.v_time_base Data type UNS16 Data range 0: per minute 1: per second 2: per sampling interval Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types SERCOS Remarks 24 Version: 1.03 TF5200 | Twin CAT 3 CNC Improved Position Control
## Page 25

Support and Service 5 Support and Service Beckhoff and their partners around the world offer comprehensive support and service, making available fast and competent assistance with all questions related to Beckhoff products and system solutions. Download finder Our download finder contains all the files that we offer you for downloading. You will find application reports, technical documentation, technical drawings, configuration files and much more. The downloads are available in various formats. Beckhoff's branch offices and representatives Please contact your Beckhoff branch office or representative for local support and service on Beckhoff products! The addresses of Beckhoff's branch offices and representatives round the world can be found on our internet page: www.beckhoff.com You will also find further documentation for Beckhoff components there. Beckhoff Support Support offers you comprehensive technical assistance, helping you not only with the application of individual Beckhoff products, but also with other, wide-ranging services: • support • design, programming and commissioning of complex automation systems • and extensive training program for Beckhoff system components Hotline: +49 5246 963-157 e-mail: support@beckhoff.com Beckhoff Service The Beckhoff Service Center supports you in all matters of after-sales service: • on-site service • repair service • spare parts service • hotline service Hotline: +49 5246 963-460 e-mail: service@beckhoff.com Beckhoff Headquarters Beckhoff Automation Gmb H & Co. KG Huelshorstweg 20 33415 Verl Germany Phone: +49 5246 963-0 e-mail: info@beckhoff.com web: www.beckhoff.com TF5200 | Twin CAT 3 CNC Version: 1.03 25 Improved Position Control
## Page 26

Index Index P P-AXIS-00128 23 P-AXIS-00129 23 P-AXIS-00205 23 P-AXIS-00206 24 P-AXIS-00207 24 P-AXIS-00750 20 P-AXIS-00751 20 P-AXIS-00752 20 P-AXIS-00753 21 P-AXIS-00754 21 P-AXIS-00755 22 P-AXIS-00756 22 P-AXIS-00757 22 P-AXIS-00758 23 26 Version: 1.03 TF5200 | Twin CAT 3 CNC Improved Position Control
## Page 28

More Information: www.beckhoff.com/TF5200 Beckhoff Automation Gmb H & Co. KG Hülshorstweg 20 33415 Verl Germany Phone: +49 5246 9630 info@beckhoff.com www.beckhoff.com
