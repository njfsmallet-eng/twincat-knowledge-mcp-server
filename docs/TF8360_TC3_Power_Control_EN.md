---
title: "TF8360 Twin CAT 3"
product: "TF8360"
category: "Building_Automation"
tags: ["CAT", "TWIN"]
language: "EN"
document_type: "Manual"
version: "0.1.0"
source_pdf: "https://download.beckhoff.com/download/Document/automation/twincat3/TF8360_TC3_Power_Control_EN.pdf"
release_date: "2025-09-29"
---
Manual | EN TF8360 Twin CAT 3 | Power Control 2025-09-29 | Version: 0.1.0
## Page 3

Table of contents Table of contents 1 Foreword.................................................................................................................................................... 5 1.1 Notes on the documentation............................................................................................................. 5 1.2 For your safety.................................................................................................................................. 6 1.3 Notes on information security............................................................................................................ 7 1.4 Documentation issue status.............................................................................................................. 8 2 Overview.................................................................................................................................................... 9 3 Functions................................................................................................................................................. 10 3.1 PGP controller................................................................................................................................. 10 3.1.1 Certification...................................................................................................................... 11 3.1.2 Agreements...................................................................................................................... 15 3.1.3 Interfaces......................................................................................................................... 17 3.1.4 Operation modes.............................................................................................................. 20 3.1.5 Active power controller..................................................................................................... 23 3.1.6 Reactive power controller................................................................................................. 30 3.1.7 Power supply.................................................................................................................... 37 3.1.8 Model............................................................................................................................... 37 4 Installation............................................................................................................................................... 45 4.1 System Requirements..................................................................................................................... 45 4.2 Installation....................................................................................................................................... 45 4.3 Licensing......................................................................................................................................... 45 4.4 Revision control............................................................................................................................... 47 4.5 Restrictions..................................................................................................................................... 47 5 Modules.................................................................................................................................................... 48 5.1 Tc Power Plant Control...................................................................................................................... 48 5.1.1 Module............................................................................................................................. 48 5.1.2 Context............................................................................................................................. 48 5.1.3 Parameter........................................................................................................................ 48 5.1.4 Data Areas........................................................................................................................ 56 5.1.5 Interfaces......................................................................................................................... 59 6 Appendix.................................................................................................................................................. 60 6.1 Data types....................................................................................................................................... 60 6.1.1 ETc Power Plant Type........................................................................................................ 60 6.1.2 ETc Power Plant Controller Mode........................................................................................ 60 6.1.3 ETc Power Plant Active Mode.............................................................................................. 60 6.1.4 ETc Power Plant Reactive Mode......................................................................................... 60 6.1.5 ETc Power Plant Fallback Mode.......................................................................................... 61 6.1.6 ETc Power Filter Type......................................................................................................... 61 6.1.7 ETc Power Time Type......................................................................................................... 61 6.1.8 ETc Power Persist Mode..................................................................................................... 61 6.2 References...................................................................................................................................... 62 6.3 Technical terms............................................................................................................................... 62 6.4 Abbreviations.................................................................................................................................. 64 6.5 Support and Service........................................................................................................................ 65 TF8360 Version: 0.1.0 3
## Page 4

Table of contents 4 Version: 0.1.0 TF8360
## Page 5

Foreword 1 Foreword 1.1 Notes on the documentation This description is intended exclusively for trained specialists in control and automation technology who are familiar with the applicable national standards. The documentation and the following notes and explanations must be complied with when installing and commissioning the components. The trained specialists must always use the current valid documentation. The trained specialists must ensure that the application and use of the products described is in line with all safety requirements, including all relevant laws, regulations, guidelines, and standards. Disclaimer The documentation has been compiled with care. The products described are, however, constantly under development. We reserve the right to revise and change the documentation at any time and without notice. Claims to modify products that have already been supplied may not be made on the basis of the data, diagrams, and descriptions in this documentation. Trademarks Beckhoff®, ATRO® , Ether CAT®, Ether CAT G®, Ether CAT G10®, Ether CAT P®, MX-System®, Safety over Ether CAT®, TC/BSD®, Twin CAT®, Twin CAT/BSD®, Twin SAFE®, XFC®, XPlanar®, and XTS® are registered and licensed trademarks of Beckhoff Automation Gmb H. If third parties make use of the designations or trademarks contained in this publication for their own purposes, this could infringe upon the rights of the owners of the said designations. Ether CAT® is a registered trademark and patented technology, licensed by Beckhoff Automation Gmb H, Germany. Copyright © Beckhoff Automation Gmb H & Co. KG, Germany. The distribution and reproduction of this document, as well as the use and communication of its contents without express authorization, are prohibited. Offenders will be held liable for the payment of damages. All rights reserved in the event that a patent, utility model, or design are registered. Third-party trademarks Trademarks of third parties may be used in this documentation. You can find the trademark notices here: https://www.beckhoff.com/trademarks. TF8360 Version: 0.1.0 5
## Page 6

Foreword 1.2 For your safety Safety regulations Read the following explanations for your safety. Always observe and follow product-specific safety instructions, which you may find at the appropriate places in this document. Exclusion of liability All the components are supplied in particular hardware and software configurations which are appropriate for the application. Modifications to hardware or software configurations other than those described in the documentation are not permitted, and nullify the liability of Beckhoff Automation Gmb H & Co. KG. Personnel qualification This description is only intended for trained specialists in control, automation, and drive technology who are familiar with the applicable national standards. Signal words The signal words used in the documentation are classified below. In order to prevent injury and damage to persons and property, read and follow the safety and warning notices. Personal injury warnings DANGER Hazard with high risk of death or serious injury. WARNING Hazard with medium risk of death or serious injury. CAUTION There is a low-risk hazard that could result in medium or minor injury. Warning of damage to property or environment NOTICE The environment, equipment, or data may be damaged. Information on handling the product This information includes, for example: recommendations for action, assistance or further information on the product. 6 Version: 0.1.0 TF8360
## Page 7

Foreword 1.3 Notes on information security The products of Beckhoff Automation Gmb H & Co. KG (Beckhoff), insofar as they can be accessed online, are equipped with security functions that support the secure operation of plants, systems, machines and networks. Despite the security functions, the creation, implementation and constant updating of a holistic security concept for the operation are necessary to protect the respective plant, system, machine and networks against cyber threats. The products sold by Beckhoff are only part of the overall security concept. The customer is responsible for preventing unauthorized access by third parties to its equipment, systems, machines and networks. The latter should be connected to the corporate network or the Internet only if appropriate protective measures have been set up. In addition, the recommendations from Beckhoff regarding appropriate protective measures should be observed. Further information regarding information security and industrial security can be found in our https://www.beckhoff.com/secguide. Beckhoff products and solutions undergo continuous further development. This also applies to security functions. In light of this continuous further development, Beckhoff expressly recommends that the products are kept up to date at all times and that updates are installed for the products once they have been made available. Using outdated or unsupported product versions can increase the risk of cyber threats. To stay informed about information security for Beckhoff products, subscribe to the RSS feed at https:// www.beckhoff.com/secinfo. TF8360 Version: 0.1.0 7
## Page 8

Foreword 1.4 Documentation issue status Version Changes 0.1.0 First release with TF8360 in version 0.1.0 8 Version: 0.1.0 TF8360
## Page 9

Overview 2 Overview The Twin CAT 3 Power Functions provide software in the form of Twin CAT modules for use in electrical power systems. These are divided into three Twin CAT Functions with corresponding licenses: • TF8330 | Twin CAT 3 Power Collector Functions for power measurement using Ether CAT Terminals of the EL34xx series. • TF8350 | Twin CAT 3 Power Technologies Functions for power measurement using Ether CAT Terminals of the EL37x3 and ELM3xxx series. • TF8360 | Twin CAT 3 Power Control Functions for the control of power generating plants. TF8360 Version: 0.1.0 9
## Page 10

Functions 3 Functions The TF8360 | Twin CAT 3 Power Control is a modular software solution for controlling and regulating electrical energy systems, especially for grid-connected power generating plants (PGP). This Twin CAT function provides special software blocks for this purpose, including for implementing a standard-compliant PGP controller. Such a controller is required for the operation of power generating plants in order to comply with the technical connection conditions of the respective grid operator - in Germany, for example, in accordance with VDE-AR-N 4110 (medium voltage) or VDE-AR-N 4120 (high voltage). 3.1 PGP controller Twin CAT Power Plant Control is a Twin CAT module for use as a controller for power generating plants (PGP controller). The technical connection rules VDE-AR-N 4110, VDE-AR-N 4120 and VDE-AR-N 4130 define the requirements for the grid connection and operation of power generating plants to the medium, high and extra-high voltage grid in Germany. A component certificate in accordance with these standards is mandatory for the use of a PGP controller. Twin CAT Power Plant Control has been certified by the FGH for use as a PGP controller for selected hardware components (see Certification [} 11]). The certification procedure is based on measurements, evaluations and the assessment of the controller functions in accordance with the requirements of FGW TR3. A Beckhoff PGP controller consists of the embedded PC and the grid data acquisition (see Grid data acquisition [} 17]), as well as the Twin CAT Power Plant Control as the controller kernel in the form of the Twin CAT module Tc Power Plant Control. This module is integrated into a Twin CAT 3 project and provides all the necessary interfaces (see Interfaces [} 17]) and control functions (see Functions [} 13]). Grid data is referred to as Measure and is recorded using suitable measurement technology at the point of common coupling (PCC): • The interface for grid data acquisition is referred to in the system as Measure and is typically implemented via Ether CAT Terminals. Setpoints are referred to as Target and are typically received by the controller via two interfaces, which must be implemented on a project-specific basis: • The telecontrol interface to the grid operator is referred to in the system as Operator. It transmits the active power limitation (f Active Power Lim) and the reactive power setpoint (f Reactive Power Set). Depending on the grid level, the grid operator can be a Distribution System Operator (DSO) or a Transmission System Operator (TSO). This interface is used to regulate the frequency and voltage on the grid side to ensure stable grid operation. • The interface to the plant operator’s energy management system (EMS) is referred to in the system as Marketer. It transmits the active power setpoint (f Active Power Set). The connection is made to a higher-level system for marketing or aggregating the feed-in, for example through a direct marketing company, electricity trader or operator. In an international context, this role is also referred to as the Balancing Responsible Party (BRP). 10 Version: 0.1.0 TF8360
## Page 11

Functions Control values are referred to as Demand and are transmitted from the controller to the power generating plant or its units via a communication interface. This interface must also be implemented on a project-specific basis: • The interface to the power generating plant (PGP) or its power generating units (PGU) is referred to as Plant in the system. The control values for active power (f Active Power Dmd) and reactive power (f Reactive Power Dmd) are transmitted to wind, photovoltaic (PV) or storage systems, or directly to the inverters if necessary. A model of the controller core (see Model [} 37]) and an application example are provided to demonstrate the use of the controller in a closed simulation environment. 3.1.1 Certification The certification of Twin CAT Power Plant Control as a PGP controller confirms conformity with the following standards (see References [} 62]): Standard Description Certification VDE AR-N 4110:2023 Technical requirements for the connection of customer Pending installations to the medium voltage network (TAR Expected Q3/2025 medium voltage). VDE AR-N 4120:2018 Technical requirements for the connection and operation Pending of customer installations to the high voltage network Expected Q3/2025 (TAR high voltage). VDE AR-N 4130:2018 Technical requirements for the connection and operation Pending of customer installations to the extra high voltage Expected Q3/2025 network (TAR extra high voltage) EN 50549-2:2019 Connection to a MV distribution network - Generating Pending plants Expected Q4/2025 PPPi REE, V1.3: 2024 Technical implementation of (EU) 2016-631 for Poland. Pending Expected Q4/2025 Regulatory principles The EU Regulation (EU) 2016/631 is also known as the Network Code Requirements for Generators (NC Rf G) and forms the legal framework for the grid connection conditions for power generating plants in Europe. The EN 50549-2 standard specifies these requirements by describing detailed technical requirements for the connection. In addition, national regulations, such as VDE-AR-N 4110, 4120 and 4130 in Germany, close the gap between the Europe-wide specifications of the NC Rf G and the technical specifications of the EN standards. They thus create binding rules for grid integration at national level. The FGW TR3 (Technical Guideline 3 of the Fördergesellschaft Windenergie und andere Dezentrale Energien e. V.) describes the determination of electrical properties of power generating units and plants within the scope of type and component certifications. It specifies the methods and test procedures used to verify electrical behavior in relation to the grid. PPPi REE (Polskie Porozumienie Producentów i Rozdzielców Energii Elektrycznej) is the Polish industry organization for electricity producers and distributors that, among other things, coordinates the technical implementation of EU Regulation (EU) 2016/631 (NC I Rf G) in Poland. It establishes guidelines and technical specifications that convert European grid connection requirements into national regulations. These documents are closely linked: • The NC Rf G specifies the requirements that must be met. • EN 50549-2 defines how these requirements are to be implemented in practice. • VDE-AR-N 4110, 4120 and 4130 define this implementation for Germany • The PPPi REE defines this implementation for Poland • FGW TR3 defines how the requirements are to be tested and certified. TF8360 Version: 0.1.0 11
## Page 12

Functions 3.1.1.1 Validity The Twin CAT Power Control product with the product number TF8360 was tested as part of the certification process. The controller core is implemented by the Twin CAT Power Plant Control module, which is named Tc Power Plant Control in Twin CAT. Certification in accordance with VDE-AR-N 4110, 4120 and 4130 took place in September 2025 and was published with version 0.1.0 of Twin CAT Power Plant Control. The tested functions and components are described in the following sections. The use of Twin CAT Power Plant Control as an PGP controller is only permitted in the combinations of hardware and software covered by the type test. In addition, the general conditions (e.g. measuring transformer accuracy, communication interfaces, operating environment) of the components must be complied with and verified during commissioning. See Components [} 13]. License-based restriction of the platforms Twin CAT Power Plant Control may only be executed as an PGP controller on certified Beckhoff Embedded PCs. This is checked by licensing the product TF8360 | Twin CAT Power Plant Control: • The license is limited to Twin CAT platforms 20, 30, 40 and 50. • These platforms represent the devices approved in the component certificate. • Execution on other platforms or third-party systems is prevented by the Twin CAT license mechanism. 12 Version: 0.1.0 TF8360
## Page 13

Functions 3.1.1.2 Functions The following table shows a summary of the controller functions with references to chapters of VDE AR- N 4110/20/30 and EN 50549-2: Description Name VDE 4110/20/30 EN 50549-2 FGW TR3 Setpoint specification of a Setpoint specification of the active 10.2.4.1 / 4.11.2 6.1.3.6 max. active power 10.2.4.2 / 11.2.7 power controller [} 25] Frequency-dependent Frequency-dependent active 10.2.4.3 / 11.2.8 4.6.1 / 4.6.2 6.1.4.5 active power control P(f) power adjustment [} 27] Provision of primary control Frequency-dependent primary 10.5.3 / 11.2.8.3 N/A 6.1.7 power (only VDE 4110) control of the active power [} 26] Active power gradient after Setpoint specification of the active 11.3.2 4.10.2 6.1.11 voltage loss power controller [} 25] Voltage related active Voltage related active power - 4.7.3 - power reduction reduction [} 28] Reactive power control with Reactive power control with 10.2.2 / 11.3.2 4.7.2.3.2 6.1.4.1 constant setpoint constant setpoint [} 32] Reactive power control with Reactive power control with 10.2.2.4 / 11.3.2 4.7.2.3.2 6.1.4.2 displacement factor Cos Phi Cos Phi displacement factor [} 32] Reactive power control with Reactive power control with 10.2.2.4 / 11.3 - 6.1.4.3 voltage limitation voltage limiting function Q(Ulim) [} 34] Reactive power-voltage Reactive power control with 10.2.2.4 / 11.3 4.7.2.3.3 6.1.4.4 characteristic curve Q(U) voltage characteristic curve Q(U) [} 33] Reactive power-active Reactive power control with active 10.2.2.4 / 11.3 4.7.2.3.4 6.1.4.5 power characteristic curve power characteristic curve Q(P) Q(P) [} 35] Behavior in the event of Behavior in the event of 10.2.2.4 / 11.3 - 6.1.8.2 communication errors communication errors [} 21] Behavior in the event of a Behavior in the event of a power 10.2.2.4 / 11.4.21 - 6.1.8.1 power supply / UPS failure supply failure [} 22] Controller bypass (slave Operating states of the controller 11.3.2 - 6.1.9 mode) [} 20] Automatic activation after Automatic reconnection after 10.4 / 11.2.11 4.10.2 6.1.12 protective tripping protective tripping [} 22] Switching behavior during Switching operation modes during - - 6.1.5 operation operation [} 32] Prioritization with multiple Setpoint specification of the active 11.3.2 - 6.1.10 setpoint specifications power controller [} 25] 3.1.1.3 Components Depending on the plant configuration, a PGP controller using Twin CAT Power Plant Control can consist of selected components covered by the certificate. Certified for use on embedded PCs based on Arm® Cortex® processors such as the CX8200, CX8290 and CX9240, as well as Intel Atom® processors from the Elkhart Lake series such as those installed in the CX5330 and CX5340. The Ether CAT Terminals from the series for power measurement were validated for grid data acquisition, in particular the use of the EL3453 and EL3783, as well as their variants EL3453-0100 and EL3783-0100. TF8360 Version: 0.1.0 13
## Page 14

Functions These components are produced under a quality management system certified according to ISO 9001. Overview of embedded PCs: Component Description Reference CX8200 Arm® Cortex® A53 CPU WWW, PDF CX8290 2 cores, 1.2 GHz, 1 GB RAM WWW, PDF CX9240 Arm® Cortex® A53 CPU WWW, PDF 4 cores, 1.2 GHz, 2 GB RAM CX5330 Intel Atom® x6214RE CPU WWW, PDF 2 cores, 1.4 GHz, 4 GB RAM CX5340 Intel Atom® x6425RE CPU WWW, PDF 4 cores, 1.9 GHz, 8 GB RAM Overview of Ether CAT Terminals for grid data acquisition: Component Description Reference EL3453 Ether CAT Terminal WWW, PDF EL3453-0100 130 / 690 V AC, 1 / 5 A, 24 bits WWW, PDF EL3783 Ether CAT Terminal WWW, PDF EL3783-0100 130 / 690 V AC, 1 / 5 A, 16 bits, 20 ksps WWW, PDF 14 Version: 0.1.0 TF8360
## Page 15

Functions 3.1.2 Agreements The following sections define key terms and basic principles for using Twin CAT Power Plant Control as a PGP controller. The terms and designations described are used both in the Twin CAT Power Plant Control software modules and in this documentation. In addition, the terms and abbreviations from VDE-AR-N 4110, VDE-AR-N 4120 and VDE-AR-N 4130, hereinafter referred to as VDE standards, as well as EN-50549-2 and derived standards, hereinafter referred to as EN standards, apply (see References [} 62]). 3.1.2.1 Nomenclature Twin CAT Power Plant Control is integrated as a controller kernel via several interfaces of the Twin CAT module. Operating states, control commands and setpoints are transferred via these interfaces, and control states, control values and diagnostic information are read. The data points in the respective interfaces are structured into categories and are described using the following terms. Name Description Target(s) Process data input for specifying setpoints of the application to the controller. Control Process data input for transferring application states and commands to the controller. Demand(s) Process data output for the output of the controller control values. Status Process data output for the output of the controller operating states. Diagnostic(s) Process data output for the output of internal controller variables for diagnostics. Is added to the Process data output module in Twin CAT via Module tab->Data Area. Internal controlled variables are output in [pu] scaling. Measure(s) Process data input for grid data acquisition. Can be added to the process data of the module in Twin CAT via the Data Areas. The controller requires an average voltage value U123 over 3 phases and a total active and fundamental reactive power value with sign. Operating state Internal operating state of the controller. Indicated by flags in Status (e)Active Mode Operation mode of the active power controller (e)Reactive Mode Operation mode of the reactive power controller Active Power Control Active power controller of the Tc Power Plant Control module Reactive Power Control Reactive power controller of the Tc Power Plant Control module Fallback Control A Fallback Mode configures the behavior of the controller if communication with the energy provider fails, if communication with the direct marketing company fails, if communication with the power generating plant fails or if grid data acquisition fails. Persistent Control File-based storage and restoration of the last valid setpoints and parameters of a Tc Power Plant Control or a Tc Power Measure module. Overexcited operation A positive reactive power (direction from the power generating plant to the grid) increases the voltage at the point of common coupling of the power generating plant. Ov Ext is used as an abbreviation for parameters and process data. The controller requires setpoint and actual values with a sign in order to correctly map the underexcited and overexcited operation in the power generating plant (see Reference arrow system [} 16]). Underexcited operation A negative reactive power (direction from the grid to the power generating plant) reduces the voltage at the power generating plant. Ud Ext is used as an abbreviation for parameters and process data. The controller requires setpoint and actual values with a sign in order to correctly map the underexcited and overexcited operation in the power generating plant (see Reference arrow system [} 16]). TF8360 Version: 0.1.0 15
## Page 16

Functions 3.1.2.2 Reference arrow system Twin CAT Power Control uses the generator reference arrow system as shown in the figure below. The generator reference arrow system is also used by the EN standards. In contrast, the VDE standards use the load reference arrow system. This means that all the characteristic curves and parameters listed there can be transferred to the generator reference arrow system for comparison with Twin CAT Power Plant Control. Sign convention for Q and cos φ in the generator reference arrow system The following sign convention applies to the reactive power (Q): • Q > 0: Plant feeds reactive power into the grid • Q < 0: Plant absorbs reactive power from the grid As the power factor (cos φ) is by definition unsigned, its sign is derived from the reactive power: • cos φ > 0: Plant feeds reactive power into the grid (Q > 0) • cos φ < 0: Plant absorbs reactive power from the grid (Q < 0) 16 Version: 0.1.0 TF8360
## Page 17

Functions 3.1.3 Interfaces Twin CAT Power Plant Control calculates the active power and reactive power control values as demands based on the measured actual values from Measure, the transferred specifications in Controls and the setpoints in Targets. The Targets are transferred scaled to their nominal values or calculated by the module as Demand. The parameters of the module are preconfigured via the Parameters (Init) tab. The active power controller is described at Active power controller [} 23] and the reactive power controller at Reactive power controller [} 30]. The names and agreements used by Twin CAT Power Plant Control and this documentation, as well as their meaning, are listed at Nomenclature [} 15]. Lists of the enumeration definitions and data structures for the controller interfaces can be found at Data types [} 60]. There is also a parameter list for the controller with minimum, maximum and default values with a description at Parameter [} 48]. 3.1.3.1 Grid data acquisition The Ether CAT Terminals for grid data acquisition tested as part of the certification process are listed below (see also Components [} 13]): Component Description EL3453 Ether CAT Terminal EL3453-0100 130 / 690 V AC, 1 / 5 A, 24 bits • Voltage/current accuracy ≤ 0.3 % • Power accuracy ≤ 0.6 % • Frequency accuracy ≤ 5 m Hz • Update rate = 10 ms EL3783 Ether CAT Terminal EL3783-0100 130 / 690 V AC, 1 / 5 A, 16 bits, 20 ksps • Voltage/current accuracy ≤ 0.2 % • Power accuracy ≤ 0.4 % • Frequency accuracy ≤ 5 m Hz • Update rate = 1 ms A Twin CAT Power Measure module from the TF8330 | Twin CAT Power Collector or the TF8360 | Twin CAT Power Technologies is used for the acquisition and calculation of grid data. These modules are used in connection with Ether CAT Terminals for grid data acquisition. TF8360 Version: 0.1.0 17
## Page 18

Functions • EL3453: The grid data of the EL3453 terminal is retrieved via the Tc Power Measure EL3453 module. In this case, grid analyses and evaluations of the measured voltages and currents are carried out directly in the Ether CAT Terminal. The results are taken from the Twin CAT Power Measure. See also Tc Power Measure EL3453. • EL3783: The grid data of the EL3783 terminal is read via the Tc Power Measure EL3783 module. The terminal provides instantaneous values of voltages and currents, which are then evaluated by the Twin CAT Power Measure. See also . The standard variants of the EL3453 and EL3783 are used for direct measurement in the low-voltage network up to 690 V. The -0100 variants of both terminals are optimized for use with voltage transformers and enable the measurement of medium or high voltage via their 100 V secondary side. Technically, they only have different input wiring, while the firmware and software for processing the measured values are identical. For the use of Twin CAT Power Plant Control as a PGP controller in extra-high voltage grids, the EL3783 with the Tc Power Measure EL3783 must be used in order to meet the higher requirements. The TF8330 licenses for integrating the EL3453 using the Tc Power Measure EL3453 module are included in the TF8360 license. To integrate the EL3783 using the Tc Power Measure EL3783 module, the TF8350 license must also be purchased. The data of the respective Tc Power Measure module is transferred via an interface pointer directly into the Tc Power Plant Control, without the detour via the explicit mapping of inputs and outputs of the process data. The measured values are transferred to the controller in SI units. For further internal processing, the controller scales these values into the per-unit representation (pu) to enable a normalized evaluation relative to the respective nominal value. The controller uses the symmetrical three-phase average value U123 for voltage control. The phase-to- phase voltages U12, U23 and U31 are used to monitor the connection conditions during the Restart and Reconnect operating states. To calculate the active and reactive power, the controller uses the fundamental values of the fundamental as signed total power across all three phases. External devices for grid data acquisition If external devices other than the supported Ether CAT Terminals are used for grid data acquisition, the measured values must meet the following requirements and be made available to Twin CAT Power Plant Control in a suitable form. Measured value Accuracy Update rate Voltage ≤ 1.0 % ≤ 100 ms Current ≤ 1.0 % ≤ 100 ms Power ≤ 1.0 % ≤ 100 ms Frequency ≤ 10 m Hz ≤ 100 ms The use of the PGP controller in extra-high voltage grids is subject to extended requirements for grid data acquisition. These must be taken into account when selecting and connecting external devices for grid data acquisition. Measured value Accuracy Update rate Voltage ≤ 0.5 % ≤ 100 ms Current ≤ 0.5 % ≤ 100 ms Power ≤ 0.5 % ≤ 100 ms Frequency ≤ 5 m Hz ≤ 100 ms 3.1.3.2 Setpoint specifications The following products and protocols can be used to implement the interfaces for receiving setpoint specifications and sending control values to power generating plants, among others. A transmission accuracy of at least 1 % of the nominal value and a maximum delay time of 100 ms should be guaranteed. 18 Version: 0.1.0 TF8360
## Page 19

Functions Product /Reference Interface EL1002 Digital signals 0..24 V, 0..12 V, 0..10 V, 0..5 V EL2002 EL3022 Analog signals 4..20 m A, 0..20 m A, 0..10 V, +/- 10 V EL4022 TF6500 IEC 60870-5-101 IEC 60870-5-104 TF6510 IEC 61850 IEC 61400-25 TF6250 Modbus TCP EL625x TF6255 Modbus RTU TF6100 OPC UA Server/Client TF6105 OPC UA Pub/Sub TF6270 PROFINET RT EL6633 PROFINET IRT TF628x Ether Net/IP EL665x EL673x PROFIBUS EL675x CAN, CANopen 3.1.3.3 Scaling The following section describes how units and scaling are used and configured in Twin CAT Power Plant Control. All power values in Target and Demand as well as parameters associated with power control are expected by the controller as a percentage of the nominal value. The nominal value is defined by the parameter Active Nominal (in watts) and corresponds to P according to VDE standards or P according to EN b inst Max standards. User-specific scaling can be configured for Target and Demand power values using the Active Scale parameter (default=100.0) for active power values and Reactive Scale (default=100.0) for reactive power values. If Scale = 1.0, per-unit scaling is set. The default setting is Scale = 100, which corresponds to the percentage scaling. Incoming grid data is received in SI units (such as V, A, W) and scaled internally to per-unit with corresponding parameters such as Voltage Nominal . The parameters assigned to the voltage are given as a percentage, as in the VDE and EN standards. The frequency is not standardized and is expected by the controller in Hertz. 3.1.3.4 Step sizes All analog signals and measured values are transmitted in the „floating point“ data type with single precision in accordance with IEEE 754. More than six significant digits are available when transferring data to the controller. This ensures high accuracy and precise value transfer to the controller. The accuracy limits are defined by the specification of the IEEE 754 standard. The step size when setting parameters depends on the data type used: • BOOL: Boolean value that only allows two states (TRUE, FALSE). • ENUM: Enumeration that only allows predefined states. • TIME: Numerical value that represents durations in milliseconds. This means that time periods from 0 seconds to approx. 49 days are available. TF8360 Version: 0.1.0 19
## Page 20

Functions • REAL: Floating point number with single precision in accordance with IEEE 754. This means that more than six significant decimal places are available. 3.1.4 Operation modes The following section describes the possible states of the controller during operation. This explains how the controller responds to different specifications and grid conditions. 3.1.4.1 Operating specifications of the controller The controller takes operating states of the application into account via Control process data (see Data Areas [} 56]). Variable Description b Enable Enable the controller with reset of all timing elements, filters and integrations. b Supply Error External UPS is active due to power supply failure. Signal to the controller to save internal states via a controlled switching off and restart. b Measure Error Communication error to the grid data acquisition device at the Measure interface. The controller goes into the bypass state for the duration of the error and uses the setpoints selected by the Fallback Control parameters and the Fallback Mode. b Plant Error Communication interruptions to a connected power generating plant. Affects the control values from the Demand interface. The controller goes into the bypass state for the duration of the error. b Operator Error Interruption of communication to the telecontrol interface of the grid operator. The controller uses the setpoints selected via the Operator Fallback Mode parameter for the targets f Active Power Lim, f Reactive Power Set and f Cos Phi Set. After the fault has been cleared, a restart delay applies in accordance with the Operator Fallback Delay parameter. b Marketer Error Interruption of communication with the energy management system of the direct marketing company. For f Active Power Set, the controller uses the setpoint that was selected via the Marketer Fallback Mode parameter. After the fault has been cleared, a restart delay applies in accordance with the Marketer Fallback Delay parameter. b Voltage Protection Voltage protection triggered by external device. Concerns the Reconnect function of the controller. b Frequency Protection Frequency protection detected by external device. Concerns the Reconnect function of the controller. 3.1.4.2 Operating states of the controller The controller recognizes the following operating states as part of the Data Area Status (see Data Areas [} 56]). The operating states Normal, Critical, Restart, Reconnect are used to select the rise limit of the active power setpoint. Variable Description b Valid The controller is correctly configured via parameters and targets and can be started with Enable = TRUE. The Demand control values can be used. b Start The controller is enabled by Enable and ready to operate. The connection conditions for Restart or Reconnect have been met and the waiting time for switching on the power generating plants has expired. b Normal The controller is in a normal operating state. Grid-critical operation is not active. All conditions for a Restart or Reconnect are also fulfilled and no waiting time is active. 20 Version: 0.1.0 TF8360
## Page 21

Functions Variable Description b Critical The controller detects the grid-critical state by continuously monitoring the frequency during the frequency-dependent active power adjustment P(f). The diagnostic information provides further details about the connection conditions that were not met. b Restart Start-up of the power generating plant is active. The diagnostic information provides further details about the connection conditions that were not met. b Restart Wait Enabling conditions are met and the waiting time for enabling power generation is active. b Reconnect Reconnection of the power generating plant after protective tripping is active. The Reconnect is disabled at the end of the start-up ramp. The diagnostic information provides further details about the connection conditions that were not met. b Reconnect Wait Enabling conditions are met and waiting time for automatic reconnection after shutdown is active. 3.1.4.3 Enabling power generation Enabling power generation after a start-up is a function in accordance with EN standards. This function is particularly relevant for decentralized power generating plants in order to avoid a disorderly restart after a grid failure and to ensure system stability in accordance with grid connection guidelines. In Twin CAT Power Plant Control, this function is referred to as Restart and is configured via parameters in the Restart group (see Restart [} 49]). The function is enabled with the parameter Restart Automatic = TRUE. After a grid restoration event, the restart mechanism monitors the grid frequency and grid voltage during startup to check the release conditions defined in the standard. The following status signals are available: • b Restart Wait: Indicates that the technical release conditions (frequency, voltage) have been met, but the configured waiting time (Restart Delay parameter) is still running. • b Restart: Indicates that the waiting time is complete and the power generating plant is starting up. • b Start: Serves as an enable signal for power generation (e.g. to control a circuit breaker), provided the restart function is enabled. 3.1.4.4 Behavior in the event of communication errors An individual Fallback mode with restart delay can be configured for setpoints, measured values and control values of the power generating plant via the parameter group Plant (see Plant [} 49]). This function is anchored in the requirements of the VDE and EN standards. Function of the Fallback mode The Fallback mode defines the behavior of the controller in the event of communication failures with the following components: • the grid operator (Operator) - concerns setpoints from the grid control system • the direct marketing company (Marketer) - concerns setpoints from marketing • the power generating plant (Plant) - concerns the feedback and control of the units • the grid data acquisition (Measure) - concerns measured values at the point of common coupling (PCC) A failure of the respective communication connection is detected via assigned status flags of the control interface (see Operating specifications of the controller [} 20]) and signaled to the controller. Available Fallback modes Depending on the configuration, the controller responds as follows in the event of an error: • Default: The default configured as a parameter is used as the setpoint • Last: The last valid setpoint will continue to be used TF8360 Version: 0.1.0 21
## Page 22

Functions This is also saved and restored via the Persistent Control when the system is restarted. This Fallback logic is also active when the controller starts up after activation via b Enable = TRUE, even if there is no valid communication at this time. 3.1.4.5 Behavior in the event of a power supply failure After a power supply failure, the PGP controller should automatically restore its last valid state with the corresponding setpoints and parameters. This requirement is defined in the VDE standards. For implementation, Twin CAT Power Plant Control saves the current parameters and setpoints in JSON format in the Twin CAT boot directory at startup (transition from Config to Run): %TWINCAT3DIR%/Boot/ Tc Power System. When the system stops (transition from Run to Config), these values are restored from the saved JSON files. If the files do not exist or are incorrect, the initial values are left as they are. 3.1.4.6 Automatic reconnection after protective tripping Automatic reconnection after a (protective) shutdown is a requirement of the VDE and EN standards. The Reconnect function ensures that an unplanned reconnection of the power generating plant only takes place under stable grid conditions in order to make a key contribution to system security in the distribution and transmission system. It prevents the risk of grid interferences or instabilities following grid faults or island grid operation. In Twin CAT Power Plant Control, this function is implemented under the name Reconnect and configured via parameters of the Reconnect group (see Reconnect [} 50]). Activation and basic function The reconnect function is activated by setting the parameter Reconnect Automatic = TRUE. In the active state, the function continuously monitors compliance with the reconnection conditions defined in the standard during start-up: • the grid frequency (F) • the phase-phase voltages (U12, U23, U31) A status indicator is provided by the Status flags: • b Reconnect Wait: The reconnection conditions are met, but the reconnection delay (Reconnect Delay) is still running. • b Reconnect: The waiting time has expired - the system is starting up. • b Start: The enable signal for power generation (e.g. to control the circuit breaker) when Reconnect is active. Optional integration of external protective devices Protective tripping from external protective devices can also be taken into account via the flags b Voltage Protection and/or b Frequency Protection Functional principle in the block diagram The functional block diagram of the Reconnect function in accordance with the requirements of the VDE standards: 22 Version: 0.1.0 TF8360
## Page 23

Functions 3.1.5 Active power controller The active power control of a power generating plant is configured via the parameters of the Active Power group (see Active Power [} 50]). It adapts flexibly to the characteristics of the connected power generating units and meets the requirements of VDE and EN standards. Initialization The controller is enabled by setting b Enable = TRUE in the Control input process data (see Data Areas [} 56]). At startup, all integrator states and filters are adjusted or reset to the current input values to ensure a clean start of control. Limiting the active power The maximum available active power of the connected power generating plant (PGP) is defined in two stages: • Static via parameters: Active Maximum, Active Minimum ◦ Values in [%] relative to plant output, with sign according to the generator reference arrow system. • Dynamic via setpoint inputs (Targets): ◦ Two separate external setpoint inputs can be used for dynamic limitation (e.g. by grid operators or direct marketing companies). Frequency-dependent demand response The frequency-dependent active power control (Active By Frequency), which cannot be disabled, is carried out in accordance with the specifications of VDE 4110/4120 and is described in the chapter Frequency- dependent active power adjustment [} 27]. The optionally switchable primary control power (Active By Primary) in accordance with VDE-AR-N 4120 is described in chapter Frequency-dependent primary control of the active power [} 26]. Signal filtering The following parameters are used to filter the measured active power: • Actual Filter Time (Default: 10 ms) • Actual Filter Type (Default: PT1) As well as the following parameters for filtering the measured frequency: • Frequency Filter Time (Default: 10 ms) • Frequency Filter Type (Default: PT1) Controller structure The active power controller is designed as a classic PI controller: • Control Gain: Gain • Control Integration: Integration time constant TF8360 Version: 0.1.0 23
## Page 24

Functions Predictive control (optional) The typical dynamic response of a PGP according to VDE can be described by a simple PT1 behavior with characteristic values of delay time and dead time. If the actual characteristics of the plant are known, the control behavior can be improved by the following parameters. • Predict Deadtime: Mapping the dead time of the track • Predict Filter Time: Mapping of the PT1 delay These values are taken into account by the PI controller in order to optimize the transient response - especially in systems with a significant dead time compared to the controlled system. Block diagram The following figure shows the basic structure of the active power controller: 3.1.5.1 Operation modes of the active power controller The process data input e Active Mode under Targets controls the switchover between different operation modes of the active power controller (see Data Areas [} 56]). The following modes are available: • Default: The setpoint is specified by the statically defined Active Target Default parameter. • Normal: The setpoint comes dynamically from f Active Power Set and is processed by the controller. • Slave: In Slave mode, the active power controller works as a subordinate controller. The f Active Power Set setpoint is passed directly to the PI controller and bypasses the rise limitation so that the specification is implemented without delay. • Bypass: In Bypass mode, the active power controller including rise limitation is bypassed. This switchover can take place during operation and enables flexible adaptation to different application scenarios. 24 Version: 0.1.0 TF8360
## Page 25

Functions 3.1.5.2 Setpoint specification of the active power controller The setpoints of the active power controller are defined via the input process data in the Targets structure (see Data Areas [} 56]), whereby the parameters of the Active Power group are used for setting (see Active Power [} 50]). The PGP controller processes setpoints according to the priorities defined in the standards: • Network operator (Operator): The target f Active Power Lim acts as a limit. • Direct marketer (Marketer): The target f Active Power Set acts as a setpoint. In the event of conflicting specifications, the smaller target value is used. This means that the direct marketer's specifications are only implemented within the limit defined by the grid operator. Network-specific requirements The prioritization of the active power specifications is set standard specific via the Controller Mode parameter (see Plant [} 49]): • DE_VDE4110_2023 for medium-voltage grid • DE_VDE4120_2018 for high-voltage grid • DE_VDE4130_2018 for extra-high voltage grid By selecting the appropriate Controller Mode, the prioritization of the active power specifications for the respective grid is automatically applied as described below. • Medium and high-voltage grid (VDE-AR-N 4110 / 4120): ◦ The active power output of the controller to the generating units is limited to the maximum value specified by the grid operator. • High-voltage grid (VDE-AR-N 4130): ◦ In the event of an increase in power as a result of an underfrequency event, the automatic grid protection measure (e.g. frequency-dependent active power control P(f)) has has priority and may exceed the limit specified by the grid operator. Rise limitation of the setpoints The setpoints are adjusted with a slope limitation depending on the operating status, which is configured using the following parameters: • Active Target Slope Normal for normal operation • Active Target Slope Critical for critical state • Active Target Slope Restart for restart phase • Active Target Slope Reconnect for reconnect phase This differentiated slope limitation ensures a safe and stable adjustment of the setpoints, taking into account the grid situation and the system operating states. TF8360 Version: 0.1.0 25
## Page 26

Functions 3.1.5.3 Frequency-dependent primary control of the active power The characteristic curve in the Active By Primary parameter adjusts the active power of the power generating plant depending on the grid frequency. This function must be implemented in accordance with VDE standards. Control is based on the Active By Primary parameter group and is enabled by the Active By Primary Enable parameter (see Active By Primary [} 51]). In the EN standards, this operation mode is also referred to as Frequency Sensitivity Mode (FSM). The associated characteristic curve forms a frequency-dependent demand response using the Active By Primary Droop parameter with the configurable deadband around the nominal frequency using the Active By Primary Deadband parameter. By default, the deadband is pre-set to ±10 m Hz in order to map the required insensitivity of 10 m Hz. 26 Version: 0.1.0 TF8360
## Page 27

Functions 3.1.5.4 Frequency-dependent active power adjustment The characteristic curve in the Active By Frequency parameter adjusts the active power of the power generating plant depending on the grid frequency as soon as a transition to a grid-critical operating state occurs. This function is part of the requirements of the VDE and EN standards. It covers both overfrequency (LFSM-O) and underfrequency (LFSM-U). Configuration is carried out via the Active By Frequency parameter group (see Active By Frequency [} 51]). In the EN standards, this operation mode is also referred to as Limited Frequency Sensitive Mode (LFSM). A non-critical grid condition exists if the grid frequency is within the permissible limits. If a frequency limit is exceeded and the configured delay time (Str Delay) expires, the critical operating state is activated (LFSM- U or LFSM-O). This state is signaled in the Status via Critical. • LFSM-U (underfrequency operation): The power adjustment ΔP is calculated using the reference value P = Active Nominal and the Ud Droop parameter. Ref • LFSM-O (overfrequency operation): The reference value P depends on the plant type. For plants Ref with Plant Type = Converter, Active Actual is used, otherwise Active Nominal. The power is then reduced via P and Ov Droop. Ref The system returns to the non-critical state when the frequency is back within the permissible range and the release delay (Stp Delay) has expired. The reference value P must be set via the Active Nominal parameter according to the nominal output of Ref the generation system (see parameter [} 50]). Frequency measurement, pre-filtering and control are optimized in terms of propagation delay. Delays can also be deliberately configured to avoid unwanted switching frequencies. In the critical operating state, the slope limitation Active Target Slope Critical (see Active Power [} 50]) takes effect for the f Active Power Set setpoint. TF8360 Version: 0.1.0 27
## Page 28

Functions 3.1.5.5 Voltage related active power reduction The voltage-dependent active power reduction reduces the active power of the power generating plant in the event of an overvoltage to prevent the overvoltage protection from responding. This function is required by EN standards. Implementation is carried out via the Active By Voltage parameter group (see Active By Voltage [} 52]). The characteristic curve is enabled via the Enable parameter. The switch-on threshold for triggering the reduction is defined by Ov Str Thres, the associated delay time via Ov Str Delay. As soon as the measured voltage exceeds the threshold and the delay has expired, the reduction curve is determined by the Ov Droop factor in the active area of the characteristic curve. This determines the extent to which the active power is reduced depending on the overvoltage. 28 Version: 0.1.0 TF8360
## Page 29

Functions TF8360 Version: 0.1.0 29
## Page 30

Functions 3.1.6 Reactive power controller The reactive power control is configured via the parameters of the Reactive Power group (see Reactive Power [} 52]). The control is based on the requirements of the VDE and EN standards and takes into account the typical behavior of decentralized power generating plants in grid operation. Initialization The reactive power controller is enabled by setting b Enable = TRUE in the Control input process data (see Data Areas [} 56]). When enabled, all integrators and filters are set or reset to the current input values to ensure a stable control start. Limiting the reactive power The reactive power available during operation of the connected power generating plant is specified via the following parameters: • Reactive Max Ud Ext: Maximum capacitive reactive power (lower range) • Reactive Max Ov Ext: Maximum inductive reactive power (upper range) The values are to be interpreted with signs according to the generator reference arrow system. Optionally, an active load-dependent reactive power curve of the power generating plant can be activated in order to take into account the Q(P) behavior of the plant (see chapter Reactive power control with active power characteristic curve Q(P) [} 35]). Signal filtering The following parameters are used to filter the measured reactive power: • Actual Filter Time (Default: 10 ms) • Actual Filter Type (Default: PT1) As well as the following parameters for filtering the measured voltage: • Voltage Filter Time (Default: 10 ms) • Voltage Filter Type (Default: PT1) Controller structure The reactive power controller is designed as a classic PI controller: • Control Gain: Controller gain • Control Integration: Integration time constant Additional filtering via the following parameters is used both for smoothing and for limiting the rise of the setpoint in the direction of the controller, so that the dynamics of the controller correspond to the required behavior of a first-order filter. • Reactive Target Filter Time (Default: 2 s) • Reactive Target Filter Type (Default: PT1) A first-order low-pass filter (PT1) is used for additional smoothing and limiting of the setpoint increase. As a result, the set filter time corresponds to a first-order time element with the time constant τ. • Reactive Target Filter Time (default: 2000 ms = 2 s = 1 τ) • Reactive Target Filter Type (default: PT1) With the default filter time of 2 seconds (1 τ), the target value is raised to approx. 63 % of the end value. This complies with the VDE requirements to maintain a transient response over 3 τ ≈ 6 seconds. Predictive control (optional) 30 Version: 0.1.0 TF8360
## Page 31

Functions If the plant characteristics are known, the delay can be taken into account based on the model. These parameters improve the transient response, particularly in plants with a dominant dead time in relation to the delay. - Predict Deadtime: Mapping of the dead time - Predict Filter Time: Mapping of the PT1 delay Block diagram The following figure shows the basic structure of the reactive power controller: 3.1.6.1 Operation modes of the reactive power controller The e Reactive Mode process data input under the Targets controls the selection of operation mode for the reactive power controller (see Data Areas [} 56]). The following modes are available: • Default: The setpoint is specified by the static parameter Reactive Target Default. • Normal: The setpoint comes dynamically from f Reactive Power Set and is processed by the controller. • Slave: In Slave mode, the reactive power controller operates as a subordinate controller. The f Reactive Power Set setpoint is passed directly to the PI controller and bypasses the rise limitation so that the specification is implemented without delay. • Bypass: In Bypass mode, the reactive power controller including rise limitation is bypassed. The following extended control modes are also available: • By Cos Phi: Reactive power control with Cos Phi displacement factor (see Reactive By Cos Phi [} 53]) TF8360 Version: 0.1.0 31
## Page 32

Functions • By Voltage: Voltage characteristic curve Q(U) (see Reactive By Voltage [} 53]) • By Voltage Lim: Voltage-dependent reactive power limitation Q(Ulim) (see Reactive By Voltage Lim [} 54]) • By Active: Active power characteristic curve Q(P) (see Reactive By Active [} 54]) • By Active Cos Phi: Cos Phi(P) characteristic curve according to EN standard (see Reactive By Active [} 54]) These operation modes can be switched dynamically, e.g. via a telecontrol interface of the grid operator (see Setpoint specifications [} 18]). Switching takes place in compliance with the transition behavior and filter parameters required by the standard (e.g. Reactive Target Filter Time, Reactive Target Filter Type, see Reactive Power [} 52]). 3.1.6.2 Switching operation modes during operation The reactive power control mode can be switched during operation via the e Reactive Mode process data input, for example via a telecontrol interface (see Setpoint specifications [} 18]). The switching behavior is determined by the setpoint filter upstream of the controller. This can be configured via the parameters Reactive Target Filter Time and Reactive Target Filter Type. In accordance with the requirements of the VDE and EN standards, a PT1 filter behavior is pre-set as standard to ensure smooth and grid-compatible switching. 3.1.6.3 Reactive power control with constant setpoint The f Reactive Power Set process data input under Targets (see Data Areas [} 56]) defines the reactive power setpoint in Normal operation mode. This setpoint is typically specified by the grid operator (Operator) via a telecontrol interface (see Setpoint specifications [} 18]). In Default operation mode, the controller instead uses the statically configured value Reactive Target Default as the fixed reactive power setpoint. 3.1.6.4 Reactive power control with Cos Phi displacement factor The f Cos Phi Set process data input specifies the setpoint for the displacement factor in By Cos Phi operation mode. This control is configured via the Reactive By Cos Phi parameter group (see Reactive By Cos Phi [} 53]). The sign of the Cos Phi setpoint must be specified according to the generator reference arrow system (see Reference arrow system [} 16]): • Cos Phi < 0: underexcited operation (reactive power from the grid to the plant), limitation takes place between -1.0 and the Max Ud Ext parameter. • Cos Phi > 0: overexcited operation (reactive power from the plant to the grid), limitation takes place between +1.0 and Max Ov Ext. The Reactive Target Default parameter defines the default value for Cos Phi (see Reactive Power [} 52]). This is also used if no valid setpoint is available via the communication interface when the controller is started or if the connection to the grid operator is interrupted. 32 Version: 0.1.0 TF8360
## Page 33

Functions 3.1.6.5 Reactive power control with voltage characteristic curve Q(U) Setting e Reactive Mode = By Voltage activates the voltage characteristic curve Q(U) for reactive power control. The parameters of the Reactive By Voltage group are used to configure the voltage-dependent characteristic curve Q(U) (see Reactive By Voltage [} 53]). A lookup characteristic curve Reactive By Voltage Points is prepared as a parameter with 4 operating points. The operating points are preset according to VDE-AR-N 4110. A vertical offset of the characteristic curve can be specified with the Reactive By Voltage Offset parameter and shifts the voltage for Q=0. A voltage deadband can be set with Reactive By Voltage Deadband parameter. As soon as the voltage exceeds the limits of the deadband, a new reactive power setpoint is calculated and approached. This results from the intersection of the measured voltage and the exceeded deadband limit. The implemented characteristic curve with the parameters used is shown in the following figure. The EN standards require a blocking and unblocking power as well as a minimum Cos Phi to limit the reactive power at low active power levels. These requirements are provided by the controller via the additional parameters Reactive By Voltage Str Power, Reactive By Voltage Stp Power and Reactive By Voltage Cos Phi Min and must be disabled for VDE standards. TF8360 Version: 0.1.0 33
## Page 34

Functions 3.1.6.6 Reactive power control with voltage limiting function Q(Ulim) In By Voltage Lim operation mode, the voltage-dependent limiting characteristic curve Q(U ) is active for lim reactive power control. Configuration is carried out via the Reactive By Voltage Lim parameter group (see Reactive By Voltage Lim [} 54]). The characteristic curve is based on a fixed lookup table with four operating points and is implemented in accordance with the specifications of the VDE standards. The operating points are preset by default in accordance with VDE-AR-N 4110. A horizontal offset of the characteristic curve is possible via the Reactive By Voltage Lim Offset parameter. The resulting characteristic curve with the associated parameters is shown in the following figure. 34 Version: 0.1.0 TF8360
## Page 35

Functions 3.1.6.7 Reactive power control with active power characteristic curve Q(P) Setting e Reactive Mode = By Active activates the active power characteristic curve Q(P) for reactive power control. The parameters of the Reactive By Active group are used to configure the active power- dependent characteristic curve Q(P) (see Reactive By Active [} 54]). A lookup characteristic curve Points is stored as a parameter with 5 operating points. The operating points are preset according to VDE-AR-N 4110. An optional hysteresis for activating the function can be set via the parameters Str Voltage, Stp Voltage and is deactivated by default (=0.0). The implemented characteristic curve with the parameters used is shown in the following figure. TF8360 Version: 0.1.0 35
## Page 36

Functions 3.1.6.8 Reactive power control with Cos Phi(P) characteristic curve A Cos Phi(P) characteristic curve has been implemented as an extension to the Q(P) characteristic curve of the VDE and EN standards. The parameters of the Reactive By Active group apply. (see Reactive By Active [} 54]). Setting e Reactive Mode = By Active Cos Phi activates the Cos Phi(P) characteristic curve for reactive power control. This is configured in the same way as Q(P) via the lookup table Reactive By Active Cos Phi Points. Hysteresis is implemented via the parameters Reactive By Active Str Voltage, Reactive By Active Stp Voltage. The resulting characteristic curve with the parameters used is shown in the following figure. 36 Version: 0.1.0 TF8360
## Page 37

Functions 3.1.6.9 Active power-dependent reactive power capacity It is possible to specify the reactive power capacity of a power generating plant separately for inductive and capacitive power as a function of the active power via the two characteristic curves Ud Ext and Ov Ext. The characteristic curves are stored in the Reactive Capability parameter group (see Reactive Capability [} 53]). The active power-dependent reactive power capability is optional and not required by VDE or EN standards and is enabled via the Enable parameter if required. The outputs of the characteristic curves are limited by the maximum values Reactive Max Ud Ext and Reactive Max Ov Ext of the power generating plant. 3.1.7 Power supply An external 24 V DC power supply is required for the embedded PC and the Ether CAT Terminals for grid data acquisition (24 V DC, -15 % / +20 %). To ensure operation of the PGP controller even in the event of a power failure, an uninterruptible power supply (UPS) must be provided. Typically, a holding time of at least 30 minutes is required. The UPS is dimensioned on the basis of the determined energy requirement. When designing the power supply, fuses and UPS, the maximum power consumption of the respective embedded PC must be taken into account (see Components [} 13]). The typ. power consumption of the embedded PCs without peripherals: • CX8290: 4 W • CX9240: 7 W • CX5330: 16 W • CX5340: 18 W In the event of a power failure, a corresponding message from the UPS must be transferred to Tc Power Plant Control via the b Supply Error flag in the Control area of the input process data (see Behavior in the event of a power supply failure [} 22]). Suitable UPS modules Product Description Reference CU8130-0120 UPS module, battery-backed WWW Energy of max. 15 Wh with max. output power of 110 W. CU8130-0240 UPS module, battery-backed WWW Energy of max. 30 Wh with max. output power of 220 W. 3.1.8 Model A model of a PGP controller is provided in order to validate the standard-compliant control of power generating plants in accordance with the applicable requirements (e.g. from VDE-AR-N 4110, VDE-AR-N 4120 or EN 50549). A Functional Mock-up Unit (FMU) according to the FMI standard in version 2 is available for this purpose. This FMU contains the controller kernel of the Twin CAT Power Plant Control and faithfully reproduces its functional behavior. All functions, interfaces and parameters correspond completely to the Twin CAT module Tc Power Plant Control and are therefore not described again in this chapter. The use of the FMI standard enables flexible integration of the model into all FMI-compatible simulation environments. These include MATLAB®/Simulink® (Math Works) and Power Factory (DIg SILENT). The exemplary integration into these tools is explained in the following sections. TF8360 Version: 0.1.0 37
## Page 38

Functions 3.1.8.1 Power Factory As of Power Factory version 2025 SP1, the Functional Mock-Up Interface (FMI) 2.0 is supported. This interface can be used to integrate the Twin CAT Power Plant Control controller kernel into simulation models and to validate the PGP controller. 3.1.8.1.1 Application The Power Factory manual describes the integration in chapter 29.12. Co-Simulation with external application • You are given an overview of co-simulation with external application in section 29.12.1. • The configuration of the co-simulation tool is described in section 29.12.2. • The execution and presentation of the co-simulation results are described in detail in subsection 29.12.3. ü The model of the controller core is integrated into Power Factory 2025 SP1 as an FMU in the following example. 1. Open Power Factory. 2. Open Data > Data Manager. 38 Version: 0.1.0 TF8360
## Page 39

Functions 3. Create a "Modelica Model Type" in the Data Manager under Library > Dynamic Models using "New Object". 4. Define the name in the new "Modelica Model Type". 5. Activate "Compiled model". 6. Select the FMU under "File path". TF8360 Version: 0.1.0 39
## Page 40

Functions ð The inputs and outputs can then be viewed under "Variable Declarations". 40 Version: 0.1.0 TF8360
## Page 41

Functions 7. Select this new model in the "Composite Model Frame" using "Slot" as the "Modelica Model Type”". ð The inputs and outputs of the model are then displayed. TF8360 Version: 0.1.0 41
## Page 42

Functions 42 Version: 0.1.0 TF8360
## Page 43

Functions 3.1.8.1.2 Template A template of a generation plant can be provided as an example for the integration of the controller kernel in Power Factory. This demonstrates the simulation in combination with an exemplary generation unit (shown in red as DUMMY in the screenshot), which must be replaced by the specific unit of the system to be simulated in practical use. TF8360 Version: 0.1.0 43
## Page 44

Functions 3.1.8.1.3 Parameters As described in detail, the same parameters are provided in the FMU as by the Tc Power Plant Control module (see Parameters [} 48]). For simplified use in Power Factory, the scalings (see Scalings [} 19]) are already predefined in Per-Unit (pu). The corresponding default values have been adapted for the following parameters. Name Default Min Max Unit Data type Active Nominal 1.0 1.0 W/pu REAL Active Scale 1.0 1.0 REAL Reactive Scale 1.0 1.0 REAL Voltage Nominal 1.0 1.0 V/pu REAL Vendor annotations are used for arrays in the FMU to map tables (see Tables [} 49]). In Power Factory, these can be displayed as two-dimensional matrices and integrated as follows. 44 Version: 0.1.0 TF8360
## Page 45

Installation 4 Installation 4.1 System Requirements Engineering (XAE) Technical data Requirements Operating system Windows 10, Windows 11 Target platform x64 Twin CAT version Build 4026 Required Twin CAT license Runtime (XAR) Technical Data Requirements Operating system Windows, Beckhoff RT Linux®, Twin CAT/BSD Target platform x64 Twin CAT version Build 4026 Required Twin CAT license TF8360 4.2 Installation Twin CAT Package Manager: Installation (Twin CAT 3.1 Build 4026) Detailed instructions on installing products can be found in the chapter Installing workloads in the Twin CAT 3.1 Build 4026 installation instructions. Install the following workload to be able to use the product: Twin CAT Package Manager UI: • TF8360 | Twin CAT 3 Power Control Twin CAT Package Manager CLI: • Tc Pkg install TF8360. Power Control. XAE 4.3 Licensing The Twin CAT 3 function can be activated as a full version or as a 7-day test version. Both license types can be activated via the Twin CAT 3 development environment (XAE). Licensing the full version of a Twin CAT 3 Function A description of the procedure to license a full version can be found in the Beckhoff Information System in the documentation "Twin CAT 3 Licensing". Licensing the 7-day test version of a Twin CAT 3 Function A 7-day test version cannot be enabled for a Twin CAT 3 license dongle. 1. Start the Twin CAT 3 development environment (XAE). 2. Open an existing Twin CAT 3 project or create a new project. TF8360 Version: 0.1.0 45
## Page 46

Installation 3. If you want to activate the license for a remote device, set the desired target system. To do this, select the target system from the Choose Target System drop-down list in the toolbar. ð The licensing settings always refer to the selected target system. When the project is activated on the target system, the corresponding Twin CAT 3 licenses are automatically copied to this system. 4. In the Solution Explorer, double-click License in the SYSTEM subtree. ð The Twin CAT 3 license manager opens. 5. Open the Manage Licenses tab. In the Add License column, check the check box for the license you want to add to your project (e.g. "TF4100 TC3 Controller Toolbox"). 6. Open the Order Information (Runtime) tab. ð In the tabular overview of licenses, the previously selected license is displayed with the status “missing”. 46 Version: 0.1.0 TF8360
## Page 47

Installation 7. Click 7-Day Trial License... to activate the 7-day trial license. ð A dialog box opens, prompting you to enter the security code displayed in the dialog. 8. Enter the code exactly as it is displayed and confirm the entry. 9. Confirm the subsequent dialog, which indicates the successful activation. ð In the tabular overview of licenses, the license status now indicates the expiry date of the license. 10. Restart the Twin CAT system. ð The 7-day trial version is enabled. 4.4 Revision control Version Changes < 0.1.0 First prototypes for certification at FGH. 0.1.0 First release certified according to VDE-AR-N 4110, 4120 and 4130. 4.5 Restrictions Due to the necessary certification, this software product can only be used on specifically approved embedded PCs and in combination with selected devices for grid data acquisition. Licensing of the TF8360 module is therefore currently only available for Twin CAT platform levels 20, 30, 40 and 50 (see Components [} 13]). The Twin CAT modules themselves are not subject to these restrictions and the software can be executed on all Twin CAT Runtime systems as well as within the Twin CAT Usermode Runtime (see System Requirements [} 45]). TF8360 Version: 0.1.0 47
## Page 48

Modules 5 Modules 5.1 Tc Power Plant Control Twin CAT Power Plant Control is used to control power generating plants (PGP controller) in the form of the Twin CAT module Tc Power Plant Control. A detailed description of the use and functions as a PGP controller can be found in the chapter , while the configuration of the Twin CAT module is described below. 5.1.1 Module The Tc Power Plant Control is integrated into the system as a Tc COM object and executed cyclically via a task. It provides its process data in the form of inputs and outputs and can be connected to a Tc Power Measure module for grid data acquisition via an interface (see Grid data acquisition [} 17]). License A valid TF8360 | Twin CAT Power Control license is required for permanent operation of the module. Alternatively, a 7-day trial license can be used for testing or evaluation (see Licensing [} 45]). 5.1.2 Context The task under which the module is executed is selected at Context. For Tc Power Plant Control, the use of a task with a cycle time between 1 ms and 10 ms is recommended. 5.1.3 Parameter The parameters of Tc Power Plant Control are categorized into the following groups and listed accordingly in the following sections. Group Description Plant Erzeugungsanlage (EZA) Restart Enable signal for the start of power generation Reconnect Automatic reconnection after shutdown Active Power Active power controller Active By Primary Frequency-dependent primary control of the active power Active By Frequency Frequency support through active power Active By Voltage Active power emission due to overvoltage Reactive Power Reactive power controller Reactive Capability Reactive power capacity as a function of the active power Reactive By Cos Phi Reactive power control with Cos Phi displacement factor Reactive By Voltage Reactive power-voltage characteristic curve Q(U) Reactive By Voltage Lim Reactive power with voltage limiting characteristic curve Q(Ulim) Reactive By Active Reactive power-active power characteristic curves Q(P) Voltage Grid voltage monitoring Frequency Grid frequency monitoring Misc Other settings Details on the adjustable step size of the parameters are described at Step sizes [} 19]. 48 Version: 0.1.0 TF8360
## Page 49

Modules 5.1.3.1 Tables Some parameters are specified as tables in the form of multidimensional arrays. Typically, these are so- called lookup tables in which two dimensions are used: • X values (array index 0) • Y-values (array index 1) Example: [[X1, Y1], [X2, Y2], [X3, Y3], ...] The X values must be specified in strictly ascending or strictly descending order. If this order is violated for consecutive X values, this is considered to be the end of the table. The corresponding Y values are determined using the X values. If the query value lies between two table points, linear interpolation is performed. Values outside the X value range are extrapolated linearly if required. 5.1.3.2 Plant The parameters of the Plant group are used for the basic setting of the plant, as well as the reactions in the event of an interface failure (see Behavior in the event of communication errors [} 21]). Name Default Min Max Unit Data type Plant Type None ETc Power Plant Type [} 60] Type of power generating plant(s) Controller Mode EN_VDE4110_2023 ETc Power Plant Controller Mode [} 60] Standard for defining the behavior of the controller Measure Fallback Mode Load ETc Power Plant Fallback Mode [} 61] Fallback mode in the event of a measuring system failure Measure Reset Delay 60000 0 ms TIME Restart delay after elimination of the measuring error Plant Fallback Mode Load ETc Power Plant Fallback Mode [} 61] Fallback mode in the event of communication failure to the plant Plant Reset Delay 60000 0 ms TIME Restart delay after communication failure to the plant Operator Fallback Mode Load ETc Power Plant Fallback Mode [} 61] Fallback mode in the event of communication failure with the energy provider Operator Fallback Delay 60000 0 ms TIME Restart delay after communication failure with the energy provider Marketer Fallback Mode Load ETc Power Plant Fallback Mode [} 61] Fallback mode in the event of communication failure with the direct marketing company Marketer Fallback Delay 60000 0 ms TIME Restart delay after communication failure to the direct marketing company 5.1.3.3 Restart The parameters of the Restart group are used to set the behavior after restarting the system (see Enabling power generation [} 21]). Name Default Min Max Unit Data type Restart Automatic FALSE BOOL Activate automatic restart for power generation Restart Delay 600000 0 ms TIME Restart delay for enabling after restart TF8360 Version: 0.1.0 49
## Page 50

Modules Name Default Min Max Unit Data type Restart Voltage Min 90.0 50.0 100.0 % REAL Minimum permissible voltage for enabling after restart Restart Voltage Max 110.0 100.0 120.0 % REAL Maximum permissible voltage for enabling after restart Restart Frequency Min 49.5 40.0 60.0 Hz REAL Minimum permissible frequency for enabling after restart Restart Frequency Max 50.5 50.0 70.0 Hz REAL Maximum permissible frequency for enabling after restart 5.1.3.4 Reconnect The parameters of the Reconnect group are used to set the behavior for reconnection after grid faults (see Automatic reconnection after protective tripping [} 22]). Name Default Min Max Unit Data type Reconnect Automatic FALSE BOOL Activate automatic enabling of power generation Reconnect Delay 600000 0 ms TIME Restart delay for enabling after a grid fault Reconnect Voltage Min 95.0 0.0 100.0 % REAL Minimum permissible voltage for enabling after grid fault Reconnect Voltage Max 110.0 100.0 120.0 % REAL Maximum permissible voltage for enabling after grid fault Reconnect Frequency Min 49.9 40.0 60.0 Hz REAL Minimum permissible frequency for enabling after grid fault Reconnect Frequency Max 50.1 50.0 70.0 Hz REAL Maximum permissible frequency for enabling after grid fault 5.1.3.5 Active Power The parameters of the Active Power group are used to set the active power control (see Active power controller [} 23]). Name Default Min Max Unit Data type Active Nominal 10000000 1.0 W/pu REAL Nominal power of the power generating plant (P ) nom Active Scale 100.0 1.0 REAL Active power scaling for process data (1.0 = per unit, 100.0 = percent) Active Minimum 0.0 -200.0 200.0 % REAL Minimum possible active power of the plant Active Maximum 100.0 -200.0 +200.0 % REAL Maximum possible active power of the plant Active Mode Default Normal ETc Power Plant Active Mode [} 60] Mode of the active power controller on default, failure or restart Active Actual Filter Time 10 0 ms TIME Filter time of active power measurement Active Actual Filter Type PT1 ETc Power Filter Type [} 61] Filter type of active power measurement Active Target Default 100.0 0.0 100.0 % REAL Active power setpoint in the event of communication failure 50 Version: 0.1.0 TF8360
## Page 51

Modules Name Default Min Max Unit Data type Active Target Slope Normal 0.5 0.1 0.66 %/s REAL Gradient from the active power setpoint in normal operation Active Target Slope Critical 0.167 0.01 0.17 %/s REAL Gradient from the active power setpoint in grid-critical operation (overfrequency or underfrequency) Active Target Slope Restart 0.5 0.1 50.0 %/s REAL Gradient of the active power setpoint at restart Active Target Slope Reconnect 0.5 0.1 50.0 %/s REAL Gradient of the active power setpoint when reconnected Active Predict Dead Time 0 0 ms TIME Dead time of plant for compensation in the active power controller (0 = disabled) Active Predict Filter Time 0 0 ms TIME First order (PT1) filter time constant of plant for compensation in the active power controller (0 = disabled) Active Control Gain 100.0 0.1 200.0 % REAL Proportional gain in the active power controller Active Control Integration 500 0 ms TIME Integration time constant in the active power controller 5.1.3.6 Active By Primary The parameters of the Active By Primary group are used to set the primary control (see Frequency- dependent primary control of the active power [} 26]). Name Default Min Max Unit Data type Active By Primary Enable FALSE BOOL Enabling the primary control Active By Primary Droop 2.0 0.4 12.0 % REAL Control deviation factor of primary control Active By Primary Deadband 0.01 0.0 2.0 Hz REAL Deadband around nominal frequency for switching on the primary control Active By Primary Max 100.0 0.0 100.0 % REAL Maximum active power with active primary control 5.1.3.7 Active By Frequency The parameters of the Active By Frequency group are used to set the active power control depending on the frequency (see Frequency-dependent active power adjustment [} 27]). Name Default Min Max Unit Data type Active By Frequency Ov Enable TRUE BOOL Activate active power support in the event of overfrequency Active By Frequency Ov Droop 5.0 2.0 12.0 % REAL Control deviation factor with active power support Active By Frequency Ov 50.2 50.0 70.0 Hz REAL Str Thres Overfrequency threshold for the start of active power support Active By Frequency Ov 0 0 ms TIME Str Delay Delay of the overfrequency to the start of active power support TF8360 Version: 0.1.0 51
## Page 52

Modules Name Default Min Max Unit Data type Active By Frequency Ov 50.2 50.0 70.0 Hz REAL Stp Thres Overfrequency threshold for terminating active power support Active By Frequency Ov 600000 0 ms TIME Stp Delay Delay of the overfrequency for terminating the active power support Active By Frequency Ud TRUE BOOL Enable Activating the active power support for underfrequency Active By Frequency Ud 5.0 2.0 12.0 % REAL Droop Control deviation factor with active power support Active By Frequency Ud 49.8 40.0 60.0 Hz REAL Str Thres Underfrequency threshold for the start of active power support Active By Frequency Ud 0 0 ms TIME Str Delay Delay of the underfrequency for the start of active power support Active By Frequency Ud 49.8 40.0 70.0 Hz REAL Stp Thres Underfrequency threshold for terminating active power support Active By Frequency Ud 600000 0 ms TIME Stp Delay Underfrequency delay for terminating active power support 5.1.3.8 Active By Voltage The parameters of the Active By Voltage group are used to set the active power control depending on the voltage (see Voltage related active power reduction [} 28]). Name Default Min Max Unit Data type Active By Voltage Ov FALSE BOOL Enable Activation of active power support in the event of overvoltage Active By Voltage Ov 0.0 0.0 100.0 REAL Droop Control deviation factor with active power support Active By Voltage Ov 108.0 100.0 120.0 % REAL Str Thres Overvoltage threshold for the start of active power support Active By Voltage Ov 0 0 ms TIME Str Delay Delay of the overvoltage for the start of active power support 5.1.3.9 Reactive Power The parameters of the Reactive Power group are used to set the reactive power control (see Reactive power controller [} 30]). Name Default Min Max Unit Data type Reactive Scale 100.0 1.0 REAL Active power scaling for process data (1.0 = per unit, 100.0 = percent) Reactive Max Ud Ext -33.0 -100.0 0.0 % REAL Maximum possible reactive power of the underexcited plant Reactive Max Ov Ext +33.0 +100.0 0.0 % REAL Maximum possible reactive power of the overexcited plant Reactive Mode Default ETc Power Plant Reactive Mode [} 60] Mode of the reactive power controller on default, failure or restart Reactive Actual Filter Time 10 0 ms TIME Filter time of reactive power measurement Reactive Actual Filter Type PT1 ETc Power Filter Type [} 61] 52 Version: 0.1.0 TF8360
## Page 53

Modules Name Default Min Max Unit Data type Filter type of reactive power measurement Reactive Target Default 0.0 -100.0 +100.0 % REAL Reactive power setpoint in the event of communication failure Reactive Target Filter Time 2000 0 ms TIME Filter time of control value of reactive power Reactive Target Filter Type PT1 ETc Power Filter Type [} 61] Filter type of control value of reactive power Reactive Predict Dead Time 0 0 ms TIME Dead time of plant for compensation in the reactive power controller (0 = disabled) Reactive Predict Filter Time 0 0 ms TIME First order (PT1) filter time constant of plant for compensation for compensation in the reactive power controller (0 = disabled) Reactive Control Gain 75.0 0.1 200.0 % REAL Proportional gain in the reactive power controller Reactive Control Integration 200 0 ms TIME Integration time constant in the reactive power controller 5.1.3.10 Reactive Capability The parameters of the Reactive Capability group are used to set the reactive power capacity (see Active power-dependent reactive power capacity [} 37]). Name Default Min Max Unit Data type Reactive Capability Enable FALSE BOOL Activating the reactive power Reactive Capability Ud Ext % ARRAY[1..3, 1..2] OF REAL Characteristic curve of the underexcited reactive power capability (P/ P , Q/P ) nom nom Reactive Capability Ov Ext % ARRAY[1..3, 1..2] OF REAL Characteristic curve of the overexcited reactive power capability (P/ P , Q/P ) nom nom 5.1.3.11 Reactive By Cos Phi The parameters of the Reactive By Cos Phi group are used to set the reactive power control via a displacement factor (see Reactive power control with Cos Phi displacement factor [} 32]). Name Default Min Max Unit Data type Reactive By Cos Phi Max Ud Ext -0.9 -1.0 -0.8 REAL Maximum possible displacement factor underexcited Reactive By Cos Phi Max Ov Ext 0.9 0.8 1.0 REAL Maximum possible displacement factor overexcited Reactive By Cos Phi Default 1.0 -1.0 +1.0 REAL Displacement factor in the event of communication failure 5.1.3.12 Reactive By Voltage The parameters of the Reactive By Voltage group are used to set the reactive power control depending on the voltage (see Reactive power control with voltage characteristic curve Q(U) [} 33]). TF8360 Version: 0.1.0 53
## Page 54

Modules Name Default Min Max Unit Data type Reactive By Voltage Points [[96.0, 33.0],[104.0, -33.0]] % ARRAY[1..4, 1..2] OF REAL Reactive power voltage characteristic curve (V/V , Q/P ) nom nom Reactive By Voltage Deadband 0.0 0.0 5.0 % REAL Sliding deadband around characteristic curve. Reactive By Voltage Offset 0.0 -20.0 +20.0 % REAL Offset of the voltage characteristic curve (V /V ) Q0 nom Reactive By Voltage Str Power 0.0 0.0 100.0 % REAL Active power threshold for the start of reactive power support (0 = disabled) Reactive By Voltage Stp Power 0.0 0.0 100.0 % REAL Active power threshold for terminating reactive power support (0 = disabled) Reactive By Voltage Cos Phi Min 0.0 0.0 1.0 REAL Minimum permitted displacement factor for reactive power support 5.1.3.13 Reactive By Voltage Lim The parameters of the Reactive By Voltage Lim group are used to set the reactive power control with voltage limitation (see Reactive power control with voltage limiting function Q(Ulim) [} 34]). Name Default Min Max Unit Data type Reactive By Voltage [[94.0, 33.0], [96.0, 0.0], % ARRAY[1..4, 1..2] OF REAL Lim Points [104.0, 0.0], [106.0, -33.0]] Reactive power voltage limitation characteristic curve (V/V , Q/P ) nom nom Reactive By Voltage 0.0 -50.0 +50.0 % REAL Lim Offset Offset of the voltage limitation characteristic curve (Q /P ) Offset nom 5.1.3.14 Reactive By Active The parameters of the Reactive By Active group are used to set the reactive power control depending on the active power (see Reactive power control with active power characteristic curve Q(P) [} 35]). Name Default Min Max Unit Data type Reactive By Active [[0.0, 0.0], [50.0, 0.0], % ARRAY[1..5, 1..2] OF REAL Points [60.0, -5.0], [90.0, -33.0], [100.0, -33.0]] Reactive power-active power characteristic curve (P/P , Q/P ) nom nom Reactive By Active [[15.0, 0.9], [20.0, 1.0], ARRAY[1..4, 1..2] OF REAL Cos Phi Points [80.0, 1.0], [90.0, -0.9]] Displacement factor active power characteristic curve (Cos Phi, Q/P ) nom Reactive By Active 0.0 0.0 120.0 % REAL Str Voltage Voltage threshold for the start of reactive power support (0 = disabled) Reactive By Active 0.0 0.0 120.0 % REAL Stp Voltage Voltage threshold for terminating reactive power support (0 = disabled) 5.1.3.15 Voltage The parameters of the Voltage group are used to set the voltage (see Use for Enabling power generation [} 21] and Behavior in the event of a power supply failure [} 22]). Name Default Min Max Unit Data type Voltage Nominal 20000.0 1.0 V/pu REAL 54 Version: 0.1.0 TF8360
## Page 55

Modules Name Default Min Max Unit Data type Nominal voltage (V ) nom Voltage Minimum 85.0 0.0 100.0 % REAL Minimum permissible voltage Voltage Maximum 125.0 100.0 200.0 % REAL Maximum permissible voltage Voltage Filter Time 10 0 ms TIME Filter time of voltage measurement Voltage Filter Type PT1 ETc Power Filter Type [} 61] Filter type of voltage measurement 5.1.3.16 Frequency The parameters of the Frequency group are used to set the frequency (see Use for Enabling power generation [} 21] or Automatic reconnection after protective tripping [} 22]). Name Default Min Max Unit Data type Frequency Nominal 50.0 40.0 70.0 Hz REAL Nominal frequency (F ) nom Frequency Minimum 47.0 40.0 60.0 Hz REAL Minimum permissible frequency Frequency Maximum 53.0 50.0 70.0 Hz REAL Maximum permissible frequency Frequency Filter Time 10 0 ms TIME Filter time of frequency measurement Frequency Filter Type PT1 ETc Power Filter Type [} 61] Filter type of frequency measurement 5.1.3.17 Misc The parameters of the Misc group are used to set the module. Name Default Min Max Unit Data type Time Type Hard ETc Power Time Type [} 61] Type of time source Persist Mode None ETc Power Persist Mode [} 61] Mode for persistent storage of parameters (see Behavior in the event of a power supply failure [} 22]) TF8360 Version: 0.1.0 55
## Page 56

Modules 5.1.4 Data Areas The process data provided by the module as inputs and outputs is defined at Data Area. Inputs The following structures are provided as input process data. Name Data type Description Control STc Power Plant Control Control [} 56] Transfer state signals to the module Target STc Power Plant Control Target [} 57] Transfer setpoints to the module Outputs The following structures are provided as output process data. Name Data type Description Status STc Power Plant Control Status [} 57] State signals from the module Demand STc Power Plant Control Demand [} 57] Control values from the module Diagnostics Optionally, the following structures can be provided as output process data for the diagnostics of internal processes. Name Data type Description Diag STc Power Plant Control Diagnostic [} 57] Diagnostic information from the module Measures Optionally, external grid data acquisition can be integrated as input process data using the following structures. Using a reference to a Tc Power Measure module for grid data acquisition, this process data is automatically described. Name Data type Description Diag STc Power Measure Diag Diagnostics of grid data acquisition Voltage STc Power Measure Voltage Area Voltages from grid data acquisition Frequency STc Power Measure Frequency Area Frequency from grid data acquisition Fundamentals STc Power Measure Fundamentals Area Services from grid data acquisition 5.1.4.1 STc Power Plant Control Control The STc Power Plant Control Control structure defines state information for the Tc Power Plant Control as input process data. Name Data type Unit Description b Enable BOOL Enable controller b Supply Error BOOL Power supply failed (UPS activated) b Measure Error BOOL Grid data acquisition failed b Plant Error BOOL Communication to the plant failed b Operator Error BOOL Communication to the grid operator failed b Marketer Error BOOL Communication with the direct marketing company failed b Voltage Protection BOOL Voltage protection has triggered b Frequency Protection BOOL Frequency protection has triggered 56 Version: 0.1.0 TF8360
## Page 57

Modules 5.1.4.2 STc Power Plant Control Target The STc Power Plant Control Target structure defines setpoints for the Tc Power Plant Control as input process data. The units can be set according to the scaling, see Scaling [} 19]. Name Data type Unit Description e Active Mode ETc Power Plant Active Mode [} 60] Mode of the active power controller f Active Power Lim REAL % Limitation of active power (from the grid operator) f Active Power Set REAL % Setpoint active power (from direct marketing company) e Reactive Mode ETc Power Plant Reactive Mode [} 60] Mode of the reactive power controller f Reactive Power REAL % Reactive power setpoint (from grid operator) Set f Cos Phi Set REAL - Setpoint power factor (from grid operator) 5.1.4.3 STc Power Plant Control Status The STc Power Plant Control Status structure defines states of the Tc Power Plant Control as output process data. Name Data type Unit Description b Valid BOOL Control values are valid. b Start BOOL Start and release of the plant. b Normal BOOL Controller in normal operation. b Critical BOOL Controller in critical operation. (LFSM-O or LFSM- U) b Critical Wait BOOL Controller in critical operation, waiting for normal operation. b Restart BOOL Controller in start-up after restart. b Restart Wait BOOL Controller waiting for return to normal operation. b Reconnect BOOL Controller in start-up after grid fault. b Reconnect Wait BOOL Controller waiting for return to normal operation. 5.1.4.4 STc Power Plant Control Demand The STc Power Plant Control Demand structure defines control values of the Tc Power Plant Control as output process data. The units can be set according to the scaling, see Scaling [} 19]. Name Data type Unit Description f Active Power REAL % Control value of the active power (to the power generating plant) f Reactive Power REAL % Control value of the reactive power (to the power generating plant) 5.1.4.5 STc Power Plant Control Diagnostic The STc Power Plant Control Diagnostic structure offers internal signals of the Tc Power Plant Control as optional output process data. The underlying structures are listed below. Name Data type Description Critical STc Power Plant Control Diag Status Diagnostic status in a grid-critical situation (LFSM) Restart STc Power Plant Control Diag Status Diagnostic values for restart sequence Reconnect STc Power Plant Control Diag Status Diagnostic values for reconnect process TF8360 Version: 0.1.0 57
## Page 58

Modules Name Data type Description Active STc Power Plant Control Diag Active Diagnostic data of the active power control Reactive STc Power Plant Control Diag Reactive Diagnostic data of the reactive power control Measure STc Power Plant Control Diag Measure Diagnostic data of the grid measurement STc Power Plant Control Diag Status Name Data type Unit Description b Voltage Low BOOL Undervoltage detected b Voltage High BOOL Overvoltage detected b Frequency Low BOOL Underfrequency detected b Frequency High BOOL Overfrequency detected STc Power Plant Control Diag Active Name Data type Unit Description e Mode ETc Power Plant Active Mode Active operation mode of the active power controller f Actual REAL %/pu Measured active power f Target REAL %/pu Active power setpoint f Predict REAL %/pu Predicted power based on section model f Control REAL %/pu Output signal of the PI controller f Demand By Primary REAL %/pu Part via primary control f Demand By Frequency REAL %/pu Part via frequency-dependent control P(f) f Demand By Voltage REAL %/pu Part due to voltage-dependent active power reduction STc Power Plant Control Diag Reactive Name Data type Unit Description e Mode ETc Power Plant Reactive Mode Active mode of the reactive power controller f Actual REAL %/pu Measured reactive power f Target REAL %/pu Reactive power setpoint f Predict REAL %/pu Prediction based on model f Control REAL %/pu PI controller output f Demand By Cos Phi REAL %/pu Setpoint via Cos Phi control (By Cos Phi) f Demand By Voltage REAL %/pu Setpoint via voltage characteristic curve Q(U) f Demand By Voltage Lim REAL %/pu Setpoint via Q(Ulim) limitation f Demand By Active REAL %/pu Setpoint via active power characteristic curve Q(P) f Demand By Active REAL %/pu Setpoint via Cos Phi(P) characteristic curve Cos Phi STc Power Plant Control Diag Measure Name Data type Unit Description f Voltage REAL V RMS value of the voltage (3-phase symmetrical) f Voltage12 REAL V Voltage phase L1–L2 f Voltage23 REAL V Voltage phase L2–L3 f Voltage31 REAL V Voltage phase L3–L1 f Active Power REAL W Measured active power at the PCC f Reactive Power REAL var Measured reactive power at the PCC f Frequency REAL Hz Grid frequency 58 Version: 0.1.0 TF8360
## Page 59

Modules 5.1.5 Interfaces Interface Pointers are used to set interfaces and references to other modules. Below this, the reference to the task is automatically defined by Context. In addition, a reference to a Tc Power Measure module can be set via Measure to integrate the grid data acquisition. TF8360 Version: 0.1.0 59
## Page 60

Appendix 6 Appendix 6.1 Data types 6.1.1 ETc Power Plant Type The ETc Power Plant Type enumeration is used to define a plant type. Name Value Description None 0 No specific plant type Generator 1 Synchronous generator Converter 2 Power converter Storage 3 Energy storage 6.1.2 ETc Power Plant Controller Mode The ETc Power Plant Controller Mode enumeration type defines the behavior of the controller according to different standards. Name Value Description EU_EN50549_2019 1 EN50549-2:2019 DE_VDE4110_2023 2 VDE-AR-N 4110:2023-09 DE_VDE4120_2018 3 VDE-AR-N 4120:2018-11 DE_VDE4130_2018 4 VDE-AR-N 4130:2018-11 6.1.3 ETc Power Plant Active Mode The operation mode of the active power controller is defined using the ETc Power Plant Active Mode enumeration type (see Operation modes of the active power controller [} 24]). Name Value Description Normal 0 Normal operation Default 1 Apply default from parameters for active power Slave 101 Apply the active power as a lower-level system Bypass 102 Bypass the controller as a lower-level system 6.1.4 ETc Power Plant Reactive Mode The operation mode of the reactive power controller is defined using the enumeration type ETc Power Plant Reactive Mode (see Operation modes of the reactive power controller [} 31]). Name Value Description Normal 0 Normal operation Default 1 Reactive power control with constant setpoint [} 32] By Cos Phi 11 Reactive power control with Cos Phi displacement factor [} 32] By Voltage 12 Reactive power control with voltage characteristic curve Q(U) [} 33] By Voltage Lim 13 Reactive power control with voltage limiting function Q(Ulim) [} 34] By Active 14 Reactive power control with active power characteristic curve Q(P) [} 35] By Active Cos Phi 15 Reactive power control with Cos Phi(P) characteristic curve [} 36] 60 Version: 0.1.0 TF8360
## Page 61

Appendix Name Value Description Slave 101 Apply the active power as a lower-level system Bypass 102 Bypass the controller as a lower-level system 6.1.5 ETc Power Plant Fallback Mode The ETc Power Plant Fallback Mode enumeration defines the fallback in the event of a communication failure, for example (see Behavior in the event of communication errors [} 21]). Name Value Description None 0 No fallback defined Default 1 Fallback to default from parameters Last 2 Fallback to the last valid value 6.1.6 ETc Power Filter Type The ETc Power Filter Type enumeration defines the behavior of a filter. Name Value Description None 0 No filter defined PT1 1 First-order delay element PT2 2 Second-order delay element Slope 3 Slope limitation Average 4 Moving average 6.1.7 ETc Power Time Type The ETc Power Time Type enumeration defines the type of time synchronization of the Twin CAT system time. None Value Local system time without time synchronization Hard 1 System time with DC time synchronization (ns) Medium 2 System time with PTP time synchronization (us) Soft 3 System time with NTP time synchronization (ms) 6.1.8 ETc Power Persist Mode The ETc Power Persist Mode enumeration defines the type of persistent storage of the module parameters (see Parameter [} 48]) and the input process data (see STc Power Plant Control Target [} 57] and STc Power Plant Control Control [} 56]) Name Value Description None 0 No storage Enable 1 Loading and saving enabled Load Only 101 Loading only Save Only 102 Saving only TF8360 Version: 0.1.0 61
## Page 62

Appendix 6.2 References Name Description VDE TR3 Technical guideline for power generating units and plants, Part 3: Determination of the electrical properties of power generating units and plants, storage systems and their components on the medium, high and extra-high voltage grid, Rev. 26, 2022-04-05 VDE-AR-N 4110 Technical requirements for the connection and operation of customer installations to the medium voltage network (TAR medium voltage), Berlin, November 2023. VDE AR-N 4120 Technical requirements for the connection and operation of customer installations to the high voltage network (TAR high voltage), Berlin, November 2018. VDE AR-N 4130 Technical requirements for the connection and operation of customer installations to the extra high voltage network (TAR extra high voltage), Berlin, November 2018. EN 50549-2:2019 Technical requirements for generating plants with a medium voltage connection EN 50549-10:2022 Measurement protocol PPPi REE, V1.3: 2024 Technical implementation of (EU) 2016-631 in Poland 6.3 Technical terms DE EN Description Abtastrate Sampling rate Frequency that measured values are recorded at Akkreditiertes Prüflabor Accredited test lab Notified body with formal certification Anlagenzertifikat System certificate Confirmation that a point of connection for a PGP conforms by a certificate authority Anschlussnehmer Connection owner Operator/operators of the electrical system at the point of connection Automatische Automatic reconnection Function for switching back on after a grid fault Wiedereinschaltung Bemessungs Nominal apparent Nominal value for the maximum apparent power scheinleistung power Bilanzkreis Balancing responsible Responsible for balancing (infeed vs. output) verantwortlicher (BKV) party (BRP) Blindleistung (Q) Reactive power (Q) Share of energy that oscillates between source and load Blindleistungsregler (Q- Reactive power Controls the reactive power (Q) for voltage support or Regler) controller (Q controller) grid service Blockheizkraftwerk Cogeneration plant Combined heat and power generation (BHKW) (CHP) Direktvermarkter (DVM) Direct marketing Market participants for electricity marketing company (DMC) Echtzeit Real time Data processing with defined time behavior Erzeugungsanlage (EZA) Power generating plant Total of all power generating units at a point of (PGP) connection Erzeugungseinheit (EZE) Power generating unit Individual system for electricity generation within a (PGU) power generating plant EZA-Regler PGP controller Controls feed-in according to grid specifications Frequenz Frequency Grid frequency, generally 50 Hz in Europe Gleichstromanteil DC component Direct current component in an alternating current measurement Harmonische Harmonics Harmonics in the grid (multiples of the base frequency) 62 Version: 0.1.0 TF8360
## Page 63

Appendix DE EN Description Messdatenerfassung Measurement data Measuring electrical variables acquisition Messmittelwert Measured mean value Mean value over time window Mittelspannung Medium voltage (MV) Typically 1–36 k V grid level Momentanwert Instantaneous value Directly measured variable without averaging Nennspannung Nominal voltage Reference value for voltage in a grid system Netzanschlusspunkt Point of connection Physical transfer point to the grid (NAP) (POC) Netzbetreiber Grid operator Responsible for the operation and expansion of a grid Netzfrequenz Grid frequency Number of voltage changes per second Netzqualität Power quality Evaluation of electrical parameters in the grid Netzschutz Grid protection Assurance of grid-compatible operation Netzverknüpfungspunkt Point of common Evaluation location for grid perturbation (NVP) coupling (PCC) Oberschwingungen Harmonics Voltage and current components above the base frequency Phasenwinkel Phase angle Angle between voltage and current Photovoltaikanlage (PV) Photovoltaic system Power generation using solar cells with inverter (PV) Regeldifferenz Control error Deviation between setpoint and actual value Schaltanlage Switchgear System for the control and fuse protection of electrical energy Schutzgerät Protective device Responds to error states in the grid Schutzrelais Protective relay Component for fault detection and tripping Schutzsystem Protective system Combination of relays, logic, measurement, and actuators Spannungseinbruch Voltage sag Short-term reduction of the grid voltage Speicher Storage unit Energy unit with charging and discharging capability Synchronisierung Synchronization Synchronization of time or frequency between systems Transformatorstation Transformer station Station for transforming voltage between grid levels Transient recorder Transient recorder Records faults in high temporal resolution Verteilnetzbetreiber (VNB) Distribution system Responsible for medium/low-voltage grid operator (DSO) Virtuelles Kraftwerk Virtual power plant Network of controllable decentralized generation (VPP) systems Wirkleistung (P) Active power (P) Power that actually performs work Wirkleistungsregler (P- Active power controller Controls the active power Regler) (P controller) Zeitstempel Timestamp Marks a data value with a time Zwischenharmonische Interharmonics Frequencies between integer multiples of the base frequency Übertragungsnetz- Transmission system Responsible for the high-voltage grid betreiber (ÜNB) operator (TSO) TF8360 Version: 0.1.0 63
## Page 64

Appendix 6.4 Abbreviations Abbreviation Full form (DE) Full form (EN) CHP Blockheizkraftwerk Cogeneration plant (or combined heat and power plant) DSO Verteilnetzbetreiber (VNB) Distribution system operator EN Europäische Norm European standard PGP Erzeugungsanlage (EZA) Power generating plant (PGP) PGU Erzeugungseinheit (EZE) Power generating unit (PGU) FRT Fehlerüberbrückungsfähigkeit Fault ride-through capability FSM Frequenzabhängige Wirkleistung Frequency sensitive mode GCR Netzanschlussregeln (NAR) Grid connection regulations HV Hochspannung High voltage LFSM Frequenzabhängige Limited frequency sensitive mode Wirkleistungsanpassung LV Niederspannung Low voltage MPP Maximaler Leistungspunkt Maximum power point MV Mittelspannung (MS) Medium voltage (MV) POC Netzanschlusspunkt (NAP) Point of connection (POC) PCC Netzverknüpfungspunkt (NCP) Point of common coupling (PCC) P controller Wirkleistungsregler Active power controller PCC Netzverknüpfungspunkt (NVP) Point of common coupling PGU Erzeugungseinheit (EZE) Power generating unit PGP Erzeugungsanlage (EZA) Power generating plant PSC Energieversorgungsunternehmen (EVU) Power supply company POC Netzanschlusspunkt (NAP) Point of connection Q controller Blindleistungsregler Reactive power controller Rf G Netzanschlussanforderungen für Requirements for generators Stromerzeugungsanlagen RMS Effektivwert Root mean square SVC Statischer Var-Kompensator Static var compensator TSO Übertragungsnetzbetreiber (ÜNB) Transmission system operator THD Oberschwingungsverzerrung Total harmonic distortion TG Technische Richtlinie Technical guideline VDE Verband der Elektrotechnik German Association for Electrical, Electronic, and Information Technologies DSO Distribution system operator (VNB) Distribution system operator (DSO) TSO Übertragungsnetzbetreiber (ÜNB) Transmission system operator (TSO) 64 Version: 0.1.0 TF8360
## Page 65

Appendix 6.5 Support and Service Beckhoff and their partners around the world offer comprehensive support and service, making available fast and competent assistance with all questions related to Beckhoff products and system solutions. Download finder Our download finder contains all the files that we offer you for downloading. You will find application reports, technical documentation, technical drawings, configuration files and much more. The downloads are available in various formats. Beckhoff's branch offices and representatives Please contact your Beckhoff branch office or representative for local support and service on Beckhoff products! The addresses of Beckhoff's branch offices and representatives round the world can be found on our internet page: www.beckhoff.com You will also find further documentation for Beckhoff components there. Beckhoff Support Support offers you comprehensive technical assistance, helping you not only with the application of individual Beckhoff products, but also with other, wide-ranging services: • support • design, programming and commissioning of complex automation systems • and extensive training program for Beckhoff system components Hotline: +49 5246 963-157 e-mail: support@beckhoff.com Beckhoff Service The Beckhoff Service Center supports you in all matters of after-sales service: • on-site service • repair service • spare parts service • hotline service Hotline: +49 5246 963-460 e-mail: service@beckhoff.com Beckhoff Headquarters Beckhoff Automation Gmb H & Co. KG Huelshorstweg 20 33415 Verl Germany Phone: +49 5246 963-0 e-mail: info@beckhoff.com web: www.beckhoff.com TF8360 Version: 0.1.0 65
## Page 66

Trademark statements Beckhoff®, ATRO®, Ether CAT®, Ether CAT G®, Ether CAT G10®, Ether CAT P®, MX-System®, Safety over Ether CAT®, TC/BSD®, Twin CAT®, Twin CAT/BSD®, Twin SAFE®, XFC®, XPlanar® and XTS® are registered and licensed trademarks of Beckhoff Automation Gmb H. Third-party trademark statements Arm, Arm9 and Cortex are trademarks or registered trademarks of Arm Limited (or its subsidiaries or affiliates) in the US and/or elsewhere. DSP System Toolbox, Embedded Coder, MATLAB, MATLAB Coder, MATLAB Compiler, Math Works, Predictive Maintenance Toolbox, Simscape, Simscape™ Multibody™, Simulink, Simulink Coder, Stateflow and Thing Speak are registered trademarks of The Math Works, Inc. Intel, the Intel logo, Intel Core, Xeon, Intel Atom, Celeron and Pentium are trademarks of Intel Corporation or its subsidiaries. The registered trademark Linux® is used pursuant to a sublicense from the Linux Foundation, the exclusive licensee of Linus Torvalds, owner of the mark on a worldwide basis. Microsoft, Microsoft Azure, Microsoft Edge, Power Shell, Visual Studio, Windows and Xbox are trademarks of the Microsoft group of companies.
## Page 67

More Information: www.beckhoff.com/tf8360 Beckhoff Automation Gmb H & Co. KG Hülshorstweg 20 33415 Verl Germany Phone: +49 5246 9630 info@beckhoff.com www.beckhoff.com
