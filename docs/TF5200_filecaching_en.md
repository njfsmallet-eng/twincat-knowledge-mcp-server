---
title: "TF5200_filecaching_en"
product: "TF5200"
category: "Motion_Control"
tags: ["NC"]
language: "EN"
document_type: "Manual"
version: "1.05"
source_pdf: "https://download.beckhoff.com/download/Document/automation/twincat3/TF5200_filecaching_en.pdf"
release_date: "2025-06-10"
---
Functional description | EN TF5200 | Twin CAT 3 CNC File caching 6/10/2025 | Version: 1.05
## Page 3

Notes on the documentation Notes on the documentation This description is only intended for the use of trained specialists in control and automation engineering who are familiar with the applicable national standards. It is essential that the documentation and the following notes and explanations are followed when installing and commissioning the components. It is the duty of the technical personnel to use the documentation published at the respective time of each installation and commissioning. The responsible staff must ensure that the application or use of the products described satisfy all the requirements for safety, including all the relevant laws, regulations, guidelines and standards. Disclaimer The documentation has been prepared with care. The products described are, however, constantly under development. We reserve the right to revise and change the documentation at any time and without prior announcement. No claims for the modification of products that have already been supplied may be made on the basis of the data, diagrams and descriptions in this documentation. Trademarks Beckhoff®, Twin CAT®, Twin CAT/BSD®, TC/BSD®, Ether CAT®, Ether CAT G®, Ether CAT G10®, Ether CAT P®, Safety over Ether CAT®, Twin SAFE®, XFC®, XTS® and XPlanar® are registered trademarks of and licensed by Beckhoff Automation Gmb H. Other designations used in this publication may be trademarks whose use by third parties for their own purposes could violate the rights of the owners. Patent Pending The Ether CAT technology is patent protected, in particular by the following applications and patents: EP1590927, EP1789857, EP1456722, EP2137893, DE102015105702 with corresponding applications or registrations in various other countries. Ether CAT® is registered trademark and patented technology, licensed by Beckhoff Automation Gmb H, Germany Copyright © Beckhoff Automation Gmb H & Co. KG, Germany. The reproduction, distribution and utilisation of this document as well as the communication of its contents to others without express authorisation are prohibited. Offenders will be held liable for the payment of damages. All rights reserved in the event of the grant of a patent, utility model or design. TF5200 | Twin CAT 3 CNC Version: 1.05 3 File caching
## Page 4

General and safety instructions General and safety instructions Icons used and their meanings This documentation uses the following icons next to the safety instruction and the associated text. Please read the (safety) instructions carefully and comply with them at all times. Icons in explanatory text 1. Indicates an action. ð Indicates an action statement. DANGER Acute danger to life! If you fail to comply with the safety instruction next to this icon, there is immediate danger to human life and health. CAUTION Personal injury and damage to machines! If you fail to comply with the safety instruction next to this icon, it may result in personal injury or damage to machines. NOTICE Restriction or error This icon describes restrictions or warns of errors. Tips and other notes This icon indicates information to assist in general understanding or to provide additional informa- tion. General example Example that clarifies the text. NC programming example Programming example (complete NC program or program sequence) of the described function or NC com- mand. Specific version information Optional or restricted function. The availability of this function depends on the configuration and the scope of the version. 4 Version: 1.05 TF5200 | Twin CAT 3 CNC File caching
## Page 5

Table of contents Table of contents Notes on the documentation.................................................................................................................... 3 General and safety instructions.............................................................................................................. 4 1 Overview.................................................................................................................................................... 8 1.1 Description, characteristics............................................................................................................. 10 2 Programming (#CACHE)......................................................................................................................... 11 3 Parameter................................................................................................................................................. 12 3.1 Overview......................................................................................................................................... 12 3.2 Description...................................................................................................................................... 12 4 Support and Service............................................................................................................................... 14 Index......................................................................................................................................................... 15 TF5200 | Twin CAT 3 CNC Version: 5 File caching
## Page 6

Table of contents 6 Version: TF5200 | Twin CAT 3 CNC File caching
## Page 7

List of figures List of figures Fig. 1 Enabling file caching.................................................................................................................... 8 TF5200 | Twin CAT 3 CNC Version: 1.05 7 File caching
## Page 8

Overview 1 Overview Task An NC subroutine that is used frequently can be loaded to a local memory (cache) so that file access operations by the CNC are independent of file system access times. As a result, time-consuming file system accessing operations can be avoided. This improves the NC program execution time and thus data throughput. This parameter is available starting at CNC Build V2.11.2800 and higher. Accelerating file access times Fig. 1: Enabling file caching 8 Version: 1.05 TF5200 | Twin CAT 3 CNC File caching
## Page 9

Overview Mandatory note on references to other documents For the sake of clarity, links to other documents and parameters are abbreviated, e.g. [PROG] for the Programming Manual or P-AXIS-00001 for an axis parameter. For technical reasons, these links only function in the Online Help (HTML5, CHM) but not in pdf files since pdfs do not support cross-linking. TF5200 | Twin CAT 3 CNC Version: 1.05 9 File caching
## Page 10

Overview 1.1 Description, characteristics Loading / clearing Loading/clearing the local memory is initiated via an NC command for each NC channel. Subroutines / cycles Both global subroutines and global cycles can be loaded to the cache. The NC program name is not dependent on uppercase/lowercase notation (case-insensitive). Search paths The files are searched for according to the program paths set in the start-up list or channel list. RESET All previously loaded channel files are cleared from the local memory when the CNC channel is reset. Maximum number of files and file size The number (P-STUP-00051) of files to be stored locally and the maximum size (P-STUP-00052) of a file can be defined for each channel before the controller is started up. 10 Version: 1.05 TF5200 | Twin CAT 3 CNC File caching
## Page 11

Programming (#CACHE) 2 Programming (#CACHE) Cross-program loading/clearing of NC programs File loading can be initiated using appropriate NC commands. The actions carried out take effect across all programs. Files can be loaded to the local memory (cache), updated or cleared again using appropriate NC commands. #CACHE LOAD [ FILE<name>] non-modal FILE<name> Name of the file that is to be loaded into the cache. An abort takes place with an error message if the cache is currently full or if the file is not found. The cache contents are updated (refreshed) if an attempt is made to load a file that is already in the cache. #CACHE CLEAR [ FILE<name>] non-modal FILE<name> Name of the file to be cleared from the cache. No warning/error message is generated if the file is currently not in the cache. #CACHE CLEAR ALL non-modal CACHE examples N1200 #CACHE CLEAR[FILE=Laser_on.cyc] N1210 #CACHE CLEAR ALL N1220 #CACHE LOAD[FILE=Laser_on.cyc] N1230 #CACHE CLEAR[FILE=Laser_on.cyc] N1240 #CACHE LOAD[FILE=Macro.cyc] N1250 #CACHE LOAD[FILE=Laser_off.cyc] N1260 #CACHE LOAD[FILE=Laser_off.cyc] ; refresh cache N1270 #CACHE LOAD[FILE=Global.sub] N3021 L CYCLE [NAME=Laser_on.cyc @P1=0 @P2=0] N3021 G1 X47.0000 N3022 L Global.sub TF5200 | Twin CAT 3 CNC Version: 1.05 11 File caching
## Page 12

Parameter 3 Parameter 3.1 Overview ID Parameter Description P-STUP-00050 ..decoder.function Defines functionality for decoding P-STUP-00051 ..decoder.max_cache_ Maximum number of possible cache files number P-STUP-00052 ..decoder.max_cache_ Maximum size of a cache file size 3.2 Description P-STUP-00050 Definition of decoder functions Description The parameter defines specific functionalities for decoding. This disables specific functions for testing or for performance reasons. Parameter configuration.channel[i].decoder.function Data type STRING Data range FCT_USE_CACHED_FILES: Enabling file caching FCT_VOL_COMP_COMPUTATION: Calculations for machine calibration -: No functionalities defined. Dimension ---- Default value * Remarks Parameterisation example: Caching of maximal 4 files of maximum 4096 bytes each. configuration.channel[0].decoder.function FCT_USE_CACHED_FILES configuration.channel[0].decoder.max_cache_number 4 configuration.channel[0].decoder.max_cache_size 4096 * Note: The default value of variables is a blank string. P-STUP-00051 Maximum number of possible cache files Description This parameter permits the user-specific definition of the maximum number of files available in the NC program cache. Parameter configuration.channel[i].decoder.max_cache_number Data type UNS32 Data range 0 <= P-STUP-00051 <= MAX(UNS32) Dimension ---- Default value 0 Remarks If the File Caching function is active with FCT_USE_CACHED_FILES, the default value is 4. Parameterisation example: Caching of maximal 6 files of maximum 6000 bytes each. configuration.channel[0].decoder.function FCT_USE_CACHED_FILES configuration.channel[0].decoder.max_cache_number 6 configuration.channel[0].decoder.max_cache_size 6000 P-STUP-00052 Maximum size of a cache file 12 Version: 1.05 TF5200 | Twin CAT 3 CNC File caching
## Page 13

Parameter Description This parameter permits the user-specific definition of the maximum size of an NC program cache. Parameter configuration.channel[i].decoder.max_cache_size Data type UNS32 Data range 0<= P-STUP-00052 <= MAX(UNS32) Dimension ---- Default value 0 Remarks If the File Caching function is active with FCT_USE_CACHED_FILES, the default value is 4096. Parameterisation example: Caching of maximal 6 files of maximum 6000 bytes each. configuration.channel[0].decoder.function FCT_USE_CACHED_FILES configuration.channel[0].decoder.max_cache_number 6 configuration.channel[0].decoder.max_cache_size 6000 TF5200 | Twin CAT 3 CNC Version: 1.05 13 File caching
## Page 14

Support and Service 4 Support and Service Beckhoff and their partners around the world offer comprehensive support and service, making available fast and competent assistance with all questions related to Beckhoff products and system solutions. Download finder Our download finder contains all the files that we offer you for downloading. You will find application reports, technical documentation, technical drawings, configuration files and much more. The downloads are available in various formats. Beckhoff's branch offices and representatives Please contact your Beckhoff branch office or representative for local support and service on Beckhoff products! The addresses of Beckhoff's branch offices and representatives round the world can be found on our internet page: www.beckhoff.com You will also find further documentation for Beckhoff components there. Beckhoff Support Support offers you comprehensive technical assistance, helping you not only with the application of individual Beckhoff products, but also with other, wide-ranging services: • support • design, programming and commissioning of complex automation systems • and extensive training program for Beckhoff system components Hotline: +49 5246 963-157 e-mail: support@beckhoff.com Beckhoff Service The Beckhoff Service Center supports you in all matters of after-sales service: • on-site service • repair service • spare parts service • hotline service Hotline: +49 5246 963-460 e-mail: service@beckhoff.com Beckhoff Headquarters Beckhoff Automation Gmb H & Co. KG Huelshorstweg 20 33415 Verl Germany Phone: +49 5246 963-0 e-mail: info@beckhoff.com web: www.beckhoff.com 14 Version: 1.05 TF5200 | Twin CAT 3 CNC File caching
## Page 15

Index Index P P-STUP-00050 12 P-STUP-00051 12 P-STUP-00052 12 TF5200 | Twin CAT 3 CNC Version: 1.05 15 File caching
## Page 17

More Information: www.beckhoff.com/TF5200 Beckhoff Automation Gmb H & Co. KG Hülshorstweg 20 33415 Verl Germany Phone: +49 5246 9630 info@beckhoff.com www.beckhoff.com
