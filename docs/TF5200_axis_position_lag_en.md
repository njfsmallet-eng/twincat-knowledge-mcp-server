---
title: "TF5200_axis_position_lag_en"
product: "TF5200"
category: "Motion_Control"
tags: ["NC"]
language: "EN"
document_type: "Manual"
version: "1.07"
source_pdf: "https://download.beckhoff.com/download/Document/automation/twincat3/TF5200_axis_position_lag_en.pdf"
release_date: "2025-06-06"
---
Functional description | EN TF5200 | Twin CAT 3 CNC Position lag monitoring 6/6/2025 | Version: 1.07
## Page 3

Notes on the documentation Notes on the documentation This description is only intended for the use of trained specialists in control and automation engineering who are familiar with the applicable national standards. It is essential that the documentation and the following notes and explanations are followed when installing and commissioning the components. It is the duty of the technical personnel to use the documentation published at the respective time of each installation and commissioning. The responsible staff must ensure that the application or use of the products described satisfy all the requirements for safety, including all the relevant laws, regulations, guidelines and standards. Disclaimer The documentation has been prepared with care. The products described are, however, constantly under development. We reserve the right to revise and change the documentation at any time and without prior announcement. No claims for the modification of products that have already been supplied may be made on the basis of the data, diagrams and descriptions in this documentation. Trademarks Beckhoff®, Twin CAT®, Twin CAT/BSD®, TC/BSD®, Ether CAT®, Ether CAT G®, Ether CAT G10®, Ether CAT P®, Safety over Ether CAT®, Twin SAFE®, XFC®, XTS® and XPlanar® are registered trademarks of and licensed by Beckhoff Automation Gmb H. Other designations used in this publication may be trademarks whose use by third parties for their own purposes could violate the rights of the owners. Patent Pending The Ether CAT technology is patent protected, in particular by the following applications and patents: EP1590927, EP1789857, EP1456722, EP2137893, DE102015105702 with corresponding applications or registrations in various other countries. Ether CAT® is registered trademark and patented technology, licensed by Beckhoff Automation Gmb H, Germany Copyright © Beckhoff Automation Gmb H & Co. KG, Germany. The reproduction, distribution and utilisation of this document as well as the communication of its contents to others without express authorisation are prohibited. Offenders will be held liable for the payment of damages. All rights reserved in the event of the grant of a patent, utility model or design. TF5200 | Twin CAT 3 CNC Version: 1.07 3 Position lag monitoring
## Page 4

Notes on information security Notes on information security The products of Beckhoff Automation Gmb H & Co. KG (Beckhoff), insofar as they can be accessed online, are equipped with security functions that support the secure operation of plants, systems, machines and networks. Despite the security functions, the creation, implementation and constant updating of a holistic security concept for the operation are necessary to protect the respective plant, system, machine and networks against cyber threats. The products sold by Beckhoff are only part of the overall security concept. The customer is responsible for preventing unauthorized access by third parties to its equipment, systems, machines and networks. The latter should be connected to the corporate network or the Internet only if appropriate protective measures have been set up. In addition, the recommendations from Beckhoff regarding appropriate protective measures should be observed. Further information regarding information security and industrial security can be found in our https://www.beckhoff.com/secguide. Beckhoff products and solutions undergo continuous further development. This also applies to security functions. In light of this continuous further development, Beckhoff expressly recommends that the products are kept up to date at all times and that updates are installed for the products once they have been made available. Using outdated or unsupported product versions can increase the risk of cyber threats. To stay informed about information security for Beckhoff products, subscribe to the RSS feed at https:// www.beckhoff.com/secinfo. 4 Version: 1.07 TF5200 | Twin CAT 3 CNC Position lag monitoring
## Page 5

General and safety instructions General and safety instructions Icons used and their meanings This documentation uses the following icons next to the safety instruction and the associated text. Please read the (safety) instructions carefully and comply with them at all times. Icons in explanatory text 1. Indicates an action. ð Indicates an action statement. DANGER Acute danger to life! If you fail to comply with the safety instruction next to this icon, there is immediate danger to human life and health. CAUTION Personal injury and damage to machines! If you fail to comply with the safety instruction next to this icon, it may result in personal injury or damage to machines. NOTICE Restriction or error This icon describes restrictions or warns of errors. Tips and other notes This icon indicates information to assist in general understanding or to provide additional informa- tion. General example Example that clarifies the text. NC programming example Programming example (complete NC program or program sequence) of the described function or NC com- mand. Specific version information Optional or restricted function. The availability of this function depends on the configuration and the scope of the version. TF5200 | Twin CAT 3 CNC Version: 1.07 5 Position lag monitoring
## Page 6

Table of contents Table of contents Notes on the documentation.................................................................................................................... 3 Notes on information security................................................................................................................. 4 General and safety instructions.............................................................................................................. 5 1 Overview.................................................................................................................................................... 8 2 Description................................................................................................................................................ 9 2.1 Type 1: Standard Method................................................................................................................ 15 2.2 Type 2: Linear Method.................................................................................................................... 16 2.3 Type 4: Velocity-independent Method............................................................................................. 18 2.4 Deactivate position lag monitoring.................................................................................................. 19 3 Parameter................................................................................................................................................. 20 3.1 Overview of parameters.................................................................................................................. 20 3.2 Axis parameters.............................................................................................................................. 20 3.3 CNC objects.................................................................................................................................... 23 3.4 PLC interface.................................................................................................................................. 24 4 Support and Service............................................................................................................................... 25 Index......................................................................................................................................................... 26 6 Version: TF5200 | Twin CAT 3 CNC Position lag monitoring
## Page 7

List of figures List of figures Fig. 1 Example of VT diagram for position lag....................................................................................... 12 Fig. 2 Offsetting real position lag............................................................................................................ 13 Fig. 3 Command value delay to calculate position lag........................................................................... 14 Fig. 4 Position lag monitoring - Standard Method.................................................................................. 15 Fig. 5 Position lag monitoring - Linear method....................................................................................... 17 Fig. 6 Position lag monitoring - Velocity-independent Method............................................................... 18 TF5200 | Twin CAT 3 CNC Version: 1.07 7 Position lag monitoring
## Page 8

Overview 1 Overview Task To monitor position lag, check the difference between the command position and the actual position value of a CNC axis. If a configurable limit is exceeded, the CNC generates an error message and the axis is stopped. Characteristics The position lag monitor checks the correct functioning of the position controller. For example, it can detect the following problems: • Dynamic axis overload due to excessive velocity or acceleration settings • Mechanical changes to axes, e.g. increased friction due to damaged bearings or guides • Errors in the axis position measuring systems Parameterisation The position lag monitor is configured for each individual axis in the axis parameter list. Mandatory note on references to other documents For the sake of clarity, links to other documents and parameters are abbreviated, e.g. [PROG] for the Programming Manual or P-AXIS-00001 for an axis parameter. For technical reasons, these links only function in the Online Help (HTML5, CHM) but not in pdf files since pdfs do not support cross-linking. 8 Version: 1.07 TF5200 | Twin CAT 3 CNC Position lag monitoring
## Page 9

Description 2 Description Task The monitor monitors whether the current position lag of a specific axis exceeds its limit. The difference between the output command value and the actual value reported back is referred to as the position lag. ∆s = s - s ref act Each axis is monitored with different limits at • standstill and • during motion When a position lag occurs, the associated path compound is stopped. If the actual value position window P-AXIS-00236 (exact stop window, see function description “Position monitoring”, section Description [FCT-A3]) is reached after a motion, the CNC automatically switches back to position lag monitoring “Standstill” for the axis. NOTICE Use of the position lag monitor does not release the commissioning engineer or the machine operator in any way from their obligation to exercise due diligence or use additional monitoring systems, e.g. the en- coder monitor in the drive controller. Prerequisites In order to use the position lag monitor, the Monitored Axis must be operated in ‘position control’ mode. Position control may take place in the CNC or in the drive. Position lag monitoring is not possible for axes that are not operated in ‘position control’ mode, e.g. spindles. Restrictions A configured position lag monitor is always active except if: • tracking mode is active • measurement at fixed stop is active • referencing at hardware limit switch is active The above functions deactivate position lag monitoring temporarily and they re-activate position lag monitoring at the end of each function. Possible applications Position lag monitoring is used for: • drives where the CNC assumes position control • drives where position control is executed in the drive controller TF5200 | Twin CAT 3 CNC Version: 1.07 9 Position lag monitoring
## Page 10

Description A possible position lag monitor in the drive should always be used with drives which have their own position controller. If the drive does not execute its own position lag monitoring, the CNC must assume the monitoring function. Activation Position lag monitoring is switched on or off by the P-AXIS-00172 parameter. CAUTION Possible risk of personal injury and machine damage Do not deactivate position lag monitoring P-AXIS-00172 otherwise this may result in a collision of axes. Warnings, errors and reactions • Error message P-ERR-70020: The permitted position lag is exceeded when axes are moved. This may be caused, for example, by collision, stiff guides or overload. 1. Position controller in CNC: Open the position control circuit and stop the axes using a controlled emergency stop ramp. 2. Position controller in drive: Stop the axes using a deceleration that is adjustable in the axis parameter list P-AXIS-00003. 3. Stop all axes that are interpolated with the affected axis in the path compound. ð Check the cause of the error message and rectify ð Resetting the controller • Error message P-ERR-70081: The permitted position lag is exceeded when the axis is at standstill. This may be caused, for example, if an external force is applied to the mechanical system or by a drift in the actual drive position. 1. Immediate stop of the affected axis. 2. Stop all axes that are interpolated with the affected axis in the path compound. ð Check the cause of the error message and rectify ð Resetting the controller The PLC can perform further measures via the controller interface. 10 Version: 1.07 TF5200 | Twin CAT 3 CNC Position lag monitoring
## Page 11

Description Parameterisation Position lag monitoring is configured by P-AXIS-00172 for the following types: • Type 0: no position lag monitoring • Type 1: Standard method • Type 2: Linear method • Type 3: Is no longer supported. • Type 4: Velocity-independent method The permitted position lag of a moving axis is calculated for Types 1 and 2 depending on the command velocity. Similarly, in both methods, the permitted position lag can be offset in time by a timer. The Standard Type 1 uses a parameterisable filter. The Linear Type 2 is based on the theoretical position lag at constant velocity which can be increased by a factor. With Type 4, a check is made for a constant velocity-independent limit, even during path motion. Recommended type selection Selecting the suitable type depends on the given prerequisites. Recommendation: • Type 1: factor is unknown K • Type 2: factor is known K • Type 4: The axis is operated with speed feedforward control depending on whether control is performed by the CNC or in the drive. Adjusting and controlling position lag monitoring Position lag monitoring during axis start-up is adjusted and controlled as follows: 1. Select type for position lag monitoring and enter it in P-AXIS-00172. 2. Suppress error output of position lag monitor by setting P-AXIS-00176to the value 1. The limits defined by the monitoring type settings are then calculated. 3. Test run and observe the actual position lag value and calculated limits in the object browser. 4. Set limits P-AXIS-00168 and P-AXIS-00169 taking margins into consideration. 5. Release error output of position lag monitor by setting P-AXIS-00176 to the value 0. CAUTION Possible risk of personal injury and machine damage Personal injury and machine damage may occur when the error output of the position lag monitor is sup- pressed by setting P-AXIS-00176 to the value 1. TF5200 | Twin CAT 3 CNC Version: 1.07 11 Position lag monitoring
## Page 12

Description Test run The recommended test run consists of a G1 axis motion without machining action but with the usual load of a typical workpiece on the machine. Position lag can be observed with the ISG browser. The “absolute_position_lag” value shows the amount of position lag in the test. The maximum permitted value configured P-AXIS-00168 can be displayed for comparison at “max.position_lag”. “Max.position_lag is determined depending on the method used. Fig. 1: Example of VT diagram for position lag Causal system, system run time The theoretical position lag ∆s depends on the command velocity v and the effective position controller gain k as follows: v However, the real axis has a real position lag which is delayed with respect to the theoretical position lag. This delay is caused by: • a system-specific cycle offset in the position controller in the controller and • by the system mechanical time constant. The methods for calculating the permitted position lag do not take this influence into consideration. Therefore, the permitted position lag must be offset by an additional timer (PT ). 1 1. Configure timer with P-AXIS-00170. 12 Version: 1.07 TF5200 | Twin CAT 3 CNC Position lag monitoring
## Page 13

Description Fig. 2: Offsetting real position lag Run time with drives with integrated position control On drives with an integrated position controller, the CNC can additionally perform position lag monitoring. Due to the run time of the drive bus and calculations in the drive itself (filtering, fine interpolation), the command position value calculated by the controller only becomes active after a delay of possibly several CNC cycles. To calculate position lag, however, the last transmitted command value and the current actual value are used as standard with the result that the calculated position lag is greater than the actual position lag. This delay can be compensated by using an older command value to calculate position lag instead of the command value of the current cycle. The parameter P-AXIS-00191 can set which of the past command values should be used to calculate position lag. Setting the parameter To set the parameter P-AXIS-00191 proceed as follows: 1. Read out position controller gain (k) from the drive controller. v 2. Move axis at constant velocity and calculate related position lag with: 3. Set P-AXIS-00191 so that the difference between the position lag calculated in the controller and the calculated position lag is minimal. In general, it is not possible to obtain an exact match between the calculated position lag and the position lag calculated in the controller. The reason for this is that the cycle time of the drive position controller is smaller than the bus cycle time with the result that the correct delay may contain fractions of the bus cycle time. Alternatively, the position lag calculated in the drive controller can be transmitted to the cyclical process data in the controller. There it can be used for monitoring instead of the position lag calculated in the controller. See the section below for more details. TF5200 | Twin CAT 3 CNC Version: 1.07 13 Position lag monitoring
## Page 14

Description Command Drive P-AXIS-00191 + lag - active z-n Delay of digital drive Fig. 3: Command value delay to calculate position lag Using position lag calculated in the drive Proceed as follows when using the position lag calculated in the drive: 1. Configuring position lag in the cyclical process data of the drive 2. Activate evaluation of drive position lag by setting the axis parameter P-AXIS-00466. 14 Version: 1.07 TF5200 | Twin CAT 3 CNC Position lag monitoring
## Page 15

Description 2.1 Type 1: Standard Method Description The standard method (type 1) is selected by setting the P-AXIS-00172 parameter to the value 1. Type 1 uses an estimation filter to calculate the permitted position lag. This can be parameterised with the time constant P-AXIS-00167 of the filter. The permitted position lag is calculated depending on the velocity and lies within the parameterisable range. The max. permitted position lag is P-AXIS-00168. The min. permitted position lag P-AXIS-00169 is described here: • at standstill: the maximum permitted position lag. • with dynamic position lag monitoring, the lower limit of the permitted position lag. A time offset of the permitted position lag can be carried out with P-AXIS-00170: ∆s v perm~ curr ∆s calculated permitted position lag perm v current motion velocity curr The Standard Method does not consider the actual Kv factor in the calculation of the max. position lag. After a change in the position controller Kv factor, the monitor must be checked and re-adjus- ted. s P-AXIS-00168 Calculated contour of Area of position lag (filter) position lag errors P-AXIS-00170 P-AXIS-00167 Theoretical contour of position lag P-AXIS-00169 Real contour of position lag v 0 Fig. 4: Position lag monitoring - Standard Method TF5200 | Twin CAT 3 CNC Version: 1.07 15 Position lag monitoring
## Page 16

Description Recommended parameterisation: P-AXIS-00169 ≥ 5 · ∆s Standstill ∆s Standstill: real position lag at standstill. Even when the axis is at standstill, a remaining position lag ∆s Standstill is present with a P position controller due to the resolution of the encoder and the measuring system. 2.2 Type 2: Linear Method Description The linear method is selected by setting the parameter P-AXIS-00172 to the value 2. It is based on the theoretical position lag at constant axis velocity. In this case, position lag is calculated as follows: In addition, the theoretical position lag can be weighted with a factor dependent on P-AXIS-00167 and this is defined as follows: The permitted position lag is calculated as follows: calculated permitted position lag [mm] : gain factor of the position controller [0.01/s] see P-AXIS-00099 : current motion velocity [mm/min] : If < P-AXIS-00168, P-AXIS-00168 is used as the permitted position lag limit. At standstill, P-AXIS-00169 defines the permitted position lag. The time offset of the permitted position lag is obtained by P-AXIS-00170. The figure below shows the areas of the permitted position lag for the linear method. If position control takes place in the drive, the active position controller gain of the drive must be configured in the parameter P-AXIS-00099. Here, the units must be taken into consideration in each case. 16 Version: 1.07 TF5200 | Twin CAT 3 CNC Position lag monitoring
## Page 17

Description s Area of position lag errors P-AXIS-00170 Calculated contour of position lag P-AXIS-00167 P-AXIS-00168 Theoretical contour of position lag P-AXIS-00169 Real contour of position lag v Fig. 5: Position lag monitoring - Linear method Recommended configuration: P-AXIS-00169 ≥ 5 · ∆s Standstill ∆s Standstill: real position lag at standstill TF5200 | Twin CAT 3 CNC Version: 1.07 17 Position lag monitoring
## Page 18

Description 2.3 Type 4: Velocity-independent Method This method is only useful for axes that always use 100% feedforward. Description Select this method by setting the parameter P-AXIS-00172 to the value 4. If an axis is operated with feedforward control, the position lag of this axis is always ~0 at 100% feedforward control. In this case, the other types of position lag monitoring normally calculate a position lag with a limit that is too high. In order to monitor feedforward axes, a constant limit is also used with Type 4 for a moved axis. If the axis is at standstill, the position lag limit value is P-AXIS-00169; if the axis is moving, the position lag limit value is P-AXIS-00168. The parameter P-AXIS-00488 delays output of the error message when the permitted position lag is exceeded. This reduces the limit for the permitted position lag P-AXIS-00168. P-AXIS-00172 = 4 Velocity independent monitoring Area with position lag error Theoretical value of position lag error Actual value of position lag error Fig. 6: Position lag monitoring - Velocity-independent Method 18 Version: 1.07 TF5200 | Twin CAT 3 CNC Position lag monitoring
## Page 19

Description 2.4 Deactivate position lag monitoring The are two options to deactivate position lag monitoring: 1. Set the axis parameter P-AXIS-00176 [} 23] 2. Write the CNC object ac_<ANo>_disable_pos_lag_w [} 23] in the COM task 3. Command the control unit lr_mc_control.disable_pos_lag_mon [} 24] Set the axis parameter When the axis parameter P-AXIS-00176 [} 23] is set, position lag errors are suppressed, as during start-up. This parameter can also be changed by the NC program with the #MACHINE DATA command. Another option to change this parameter is by updating the parameter lists, for example, by the PLC. A change in the axis parameter remains effective after program end. Write the CNC object When the CNC object ac_<ANo>_disable_pos_lag_w [} 23] to written to the COM task, position lag monitoring of the axis can be deactivated. The CNC object ac_<ANo>_disable_pos_lag_r [} 24] checks the current state of position lag monitoring of the axis. Command the control unit After the lr_mc_control.disable_pos_lag_mon [} 24] control unit is enabled, position lag monitoring of the axis can be deactivated by setting the command_w element. TF5200 | Twin CAT 3 CNC Version: 1.07 19 Position lag monitoring
## Page 20

Parameter 3 Parameter 3.1 Overview of parameters ID Description P-AXIS-00099 Proportional factor kv for P-positional control P-AXIS-00167 Factor for dynamic position lag monitoring P-AXIS-00168 Maximum position lag P-AXIS-00169 Minimum position lag P-AXIS-00170 Time constant for dynamic position lag monitoring P-AXIS-00172 Type of dynamic position lag monitoring P-AXIS-00176 Suppressing position lag monitoring, pure calculation and limit display P-AXIS-00191 Number of delays between the command and actual values due to bus run time P-AXIS-00488 Delayed output of position lag error message (only for Type 4: Velocity-independent Method) 3.2 Axis parameters P-AXIS-00099 Proportional factor kv for P-positional control Description The P-positional controller has the amplification factor k The parameter is only effective if v. the CNC internal position control is used. With drive amplifiers with integrated position control, the amplification must be defined in the drive. The parameter P-AXIS-00320 determines the manner how an axis moves to its commanded position. Parameter getriebe[i].kv Data type UNS32 Data range 0 < kv ≤ MAX(UNS32) Axis types T, R, S Dimension T: 0.01/s R,S: 0.01/s Default value 1000 Drive types ---- Remarks P-AXIS-00167 Factor for dynamic position lag monitoring Parameter getriebe[i].slep_dyn Description For standard and non-linear position lag monitoring the following is valid: The factor determines the time constant of an estimation filter for the dynamic position lag monitoring in the position controller. This parameter must be determined empirically. Data range 700 ≤ slep_dyn ≤ 1024 20 Version: 1.07 TF5200 | Twin CAT 3 CNC Position lag monitoring
## Page 21

Parameter Description Linear position lag monitoring: The parameter defines the slope within the estimation of the dynamic position lag using the following equation: Non linear position lag monitoring: The factor determines the time constant of an estimation filter for the dynamic position lag monitoring in the position controller. This parameter must be determined empirically. Data range 0 ≤ slep_dyn ≤ 1024 Data type SGN16 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 1000 Drive types ---- Remarks CAUTION: The position lag monitoring is disabled if the parameter has the value ≥ '1024'. P-AXIS-00168 Maximum position lag Description The parameter defines the maximum position lag. Parameter getriebe[i].slep_max Data type SGN32 Data range MAX(SGN32) > slep_max > 10* position lag at P-AXIS-00212 Axis types T, R, S Dimension T: 0.1 µm R,S: 0.0001° Default value 100000 Drive types ---- Remarks Standard position lag monitoring: The parameter is made use of for limiting the estimated position lag in the position controller. Especially in the case of oscillating systems an internal range overshooting of the operating data in the position controller would be quite conceivable. Linear position lag monitoring: The parameter defines the maximum permissible position lag. This helps to avoid a reaction of the position lag monitoring (adhesive friction), for example, when the axis starts moving from standstill. Non-linear position lag monitoring: For this type of position lag monitoring the parameter is without significance. Velocity-independent position lag monitoring: This parameter sets the position lag limit when the axis is moving. P-AXIS-00169 Minimum position lag Description The parameter defines the minimum position lag. Parameter getriebe[i].slep_min Data type SGN32 Data range 1 ≤ slep_min ≤ MAX(SGN32) Axis types T, R, S Dimension T: 0.1 µm R,S: 0.0001° TF5200 | Twin CAT 3 CNC Version: 1.07 21 Position lag monitoring
## Page 22

Parameter Default value 20000 Drive types ---- Remarks Standard position lag monitoring: The parameter is used for plausibility test for the dynamic position lag monitoring. Since large position lags can arise in the case of non-high dynamic systems and under certain circumstances and these position lags are recognized as position lag in rare cases, even in the case of P-AXIS-00167 = 1023 (dynamic position lag monitoring as if switched off), a useful value must be determined empirically in this case. The dynamic position lag monitoring uses a digital filter which estimates the position lag on the basis of the reference variable (command value). Usually, a value from some of a few 'mm' or ' ° ' can be used here. Linear position lag monitoring: The parameter defines the maximum permissible position lag on axis standstill. Non linear position lag monitoring: For this type of position lag monitoring the parameter is without significance. Velocity independent position lag monitoring: The parameter defines the maximum permissible position lag at axis standstill. P-AXIS-00170 Time constant for position lag monitoring Description This parameter defines the compensation of time delays during the feedback of the actual values. By this method, the monitoring curve is shifted in time so that the real position lag can be monitored. This time constant is used for all types of position lag monitoring. Parameter getriebe[i].slep_time_const Data type UNS32 Data range 0 ≤ slep_time_const ≤ MAX(UNS32) Axis types T, R, S Dimension T: µs R,S: µs Default value 0 Drive types ---- Remarks Recommended setting: slep_time_const = 0 P-AXIS-00172 Type of position lag monitoring Description The parameter defines the type of position lag monitoring. Parameter getriebe[i].slep_ueberw_typ Data type UNS32 Data range 0 ≤ slep_ueberw_typ ≤ MAX(UNS32) 1: Standard position lag monitoring 2: Linear position lag monitoring 3: Non linear position lag monitoring (no longer supported!) 4: Velocity independent position lag monitoring For all other values the position lag monitoring is disabled. Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks 22 Version: 1.07 TF5200 | Twin CAT 3 CNC Position lag monitoring
## Page 23

Parameter P-AXIS-00176 Suppression of position lag Description To adjust the position lag monitoring the creation of position lag errors can be suppressed. But the dynamical calculation continues. By this method it is possible to record position lag and position lag monitoring limits and set the corresponding parameters. Parameter lr_param.suppress_pos_lag_error Data type BOOLEAN Data range 0/1 Axis types T, R, S Dimension T: ---- R,S: ---- Default value 0 Drive types ---- Remarks Recommended setting: suppress_pos_lag_error = 0 'suppress_pos_lag_error = 1' suppresses the monitoring and output of an error message if the permissible position lag is exceeded. May only be TRUE during commissioning. P-AXIS-00191 Delay between command value and actual value Description This parameter is only active for digital drives (e.g. SERCOS). It defines the number of cycles between the output of the command values and the read-in of the actual values. The parameter is only used to calculate the position lag. Parameter antr.nbr_delay_cycles Data type UNS16 Data range 0 ≤ nbr_delay_cycles ≤ 10 Axis types T, R, S Dimension T: Number of interpolation cycles R,S: Number of interpolation cycles Default value 4 Drive types SERCOS, CANopen, KUKA Remarks P-AXIS-00488 Delayed generation of position lag error message Description The parameter specifies a time delay for the position lag monitoring function from type 4 (velocity independent mode) used to delay the generation of the position lag error message, if the actual position lag exceeds the maximum permissible position lag. This permits a reduction in the maximum permissible position lag error limits (see P-AXIS-00168, P-AXIS-00169) since an exceedance in dynamical phases does not immediately lead to an error message.. Parameter getriebe[i].pos_lag_mon_error_delay_time Data type UNS32 Data range 0 ≤ pos_lag_mon_error_delay_time ≤ 250000 Axis types T, R, S Dimension T: µs R,S: µs Default value 0 Drive types ---- Remarks Specifying a time delay > 0 leads to a delayed error message generation and delayed stopping of the drives, when the permitted position lag is exceeded. 3.3 CNC objects Name ac_<A >_disable_pos_lag_w No Description This CNC object deactivates the position lag monitoring of the axis. Task COM (Port 553) TF5200 | Twin CAT 3 CNC Version: 1.07 23 Position lag monitoring
## Page 24

Parameter Index group 0x120200 Index offset 0x<A >0015 No Data type BOOLEAN Length/byte 1 Attributes write Unit [-] Remarks Name ac_<A >_disable_pos_lag_r No Description This CNC object reads the state of position lag monitoring of the axis. If the value of the CNC object is set, position lag monitoring of the axis is not active. Task COM (Port 553) Index group 0x120200 Index offset 0x<A >0016 No Data type BOOLEAN Length/byte 1 Attributes read Unit [-] Remarks 3.4 PLC interface Disable position lag monitoring Description Suppress / disable position lag monitoring. Data type MC_CONTROL_BOOL_UNIT, see description of Control unit Access PLC reads request_r + state_r and writes command_w + enable_w ST path gp Ax[axis_idx]^.lr_mc_control.disable_pos_lag_mon Commanded, requested and return values ST element .command_w .request_r .state_r Data type BOOL Value range [TRUE, FALSE] Redirection ST element .enable_w 24 Version: 1.07 TF5200 | Twin CAT 3 CNC Position lag monitoring
## Page 25

Support and Service 4 Support and Service Beckhoff and their partners around the world offer comprehensive support and service, making available fast and competent assistance with all questions related to Beckhoff products and system solutions. Download finder Our download finder contains all the files that we offer you for downloading. You will find application reports, technical documentation, technical drawings, configuration files and much more. The downloads are available in various formats. Beckhoff's branch offices and representatives Please contact your Beckhoff branch office or representative for local support and service on Beckhoff products! The addresses of Beckhoff's branch offices and representatives round the world can be found on our internet page: www.beckhoff.com You will also find further documentation for Beckhoff components there. Beckhoff Support Support offers you comprehensive technical assistance, helping you not only with the application of individual Beckhoff products, but also with other, wide-ranging services: • support • design, programming and commissioning of complex automation systems • and extensive training program for Beckhoff system components Hotline: +49 5246 963-157 e-mail: support@beckhoff.com Beckhoff Service The Beckhoff Service Center supports you in all matters of after-sales service: • on-site service • repair service • spare parts service • hotline service Hotline: +49 5246 963-460 e-mail: service@beckhoff.com Beckhoff Headquarters Beckhoff Automation Gmb H & Co. KG Huelshorstweg 20 33415 Verl Germany Phone: +49 5246 963-0 e-mail: info@beckhoff.com web: www.beckhoff.com TF5200 | Twin CAT 3 CNC Version: 1.07 25 Position lag monitoring
## Page 26

Index Index P P-AXIS-00099 20 P-AXIS-00167 20 P-AXIS-00168 21 P-AXIS-00169 21 P-AXIS-00170 22 P-AXIS-00172 22 P-AXIS-00176 23 P-AXIS-00191 23 P-AXIS-00488 23 position lag monitoring disable 24 26 Version: 1.07 TF5200 | Twin CAT 3 CNC Position lag monitoring
## Page 28

More Information: www.beckhoff.com/TF5200 Beckhoff Automation Gmb H & Co. KG Hülshorstweg 20 33415 Verl Germany Phone: +49 5246 9630 info@beckhoff.com www.beckhoff.com
