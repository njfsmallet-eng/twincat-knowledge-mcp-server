---
title: "TF5240"
product: "TF5240"
category: "Motion_Control"
tags: ["NC"]
language: "EN"
document_type: "Manual"
version: "1.01"
source_pdf: "https://download.beckhoff.com/download/Document/automation/twincat3/TF5240_pcs_trafo_en.pdf"
release_date: "2025-06-12"
---
Manual | EN TF5240 | Twin CAT 3 CNC PCS transformations 6/12/2025 | Version: 1.01
## Page 3

Notes on the documentation Notes on the documentation This description is only intended for the use of trained specialists in control and automation engineering who are familiar with the applicable national standards. It is essential that the documentation and the following notes and explanations are followed when installing and commissioning the components. It is the duty of the technical personnel to use the documentation published at the respective time of each installation and commissioning. The responsible staff must ensure that the application or use of the products described satisfy all the requirements for safety, including all the relevant laws, regulations, guidelines and standards. Disclaimer The documentation has been prepared with care. The products described are, however, constantly under development. We reserve the right to revise and change the documentation at any time and without prior announcement. No claims for the modification of products that have already been supplied may be made on the basis of the data, diagrams and descriptions in this documentation. Trademarks Beckhoff®, Twin CAT®, Twin CAT/BSD®, TC/BSD®, Ether CAT®, Ether CAT G®, Ether CAT G10®, Ether CAT P®, Safety over Ether CAT®, Twin SAFE®, XFC®, XTS® and XPlanar® are registered trademarks of and licensed by Beckhoff Automation Gmb H. Other designations used in this publication may be trademarks whose use by third parties for their own purposes could violate the rights of the owners. Patent Pending The Ether CAT technology is patent protected, in particular by the following applications and patents: EP1590927, EP1789857, EP1456722, EP2137893, DE102015105702 with corresponding applications or registrations in various other countries. Ether CAT® is registered trademark and patented technology, licensed by Beckhoff Automation Gmb H, Germany Copyright © Beckhoff Automation Gmb H & Co. KG, Germany. The reproduction, distribution and utilisation of this document as well as the communication of its contents to others without express authorisation are prohibited. Offenders will be held liable for the payment of damages. All rights reserved in the event of the grant of a patent, utility model or design. TF5240 | Twin CAT 3 CNC Version: 1.01 3 PCS transformations
## Page 4

General and safety instructions General and safety instructions Icons used and their meanings This documentation uses the following icons next to the safety instruction and the associated text. Please read the (safety) instructions carefully and comply with them at all times. Icons in explanatory text 1. Indicates an action. ð Indicates an action statement. DANGER Acute danger to life! If you fail to comply with the safety instruction next to this icon, there is immediate danger to human life and health. CAUTION Personal injury and damage to machines! If you fail to comply with the safety instruction next to this icon, it may result in personal injury or damage to machines. NOTICE Restriction or error This icon describes restrictions or warns of errors. Tips and other notes This icon indicates information to assist in general understanding or to provide additional informa- tion. General example Example that clarifies the text. NC programming example Programming example (complete NC program or program sequence) of the described function or NC com- mand. Specific version information Optional or restricted function. The availability of this function depends on the configuration and the scope of the version. 4 Version: 1.01 TF5240 | Twin CAT 3 CNC PCS transformations
## Page 5

Table of contents Table of contents Notes on the documentation.................................................................................................................... 3 General and safety instructions.............................................................................................................. 4 1 Introduction............................................................................................................................................... 8 1.1 Specifying the transformation ID, type and parameters.................................................................... 9 2 PCS transformations.............................................................................................................................. 10 2.1 TRAFO_TYP_212 – Axis coupling.................................................................................................. 10 2.2 TRAFO_TYP_214 – Angle projection............................................................................................. 11 3 Definition of terms................................................................................................................................... 13 4 Support and Service............................................................................................................................... 14 TF5240 | Twin CAT 3 CNC Version: 5 PCS transformations
## Page 6

Table of contents 6 Version: TF5240 | Twin CAT 3 CNC PCS transformations
## Page 7

List of figures List of figures Fig. 1 Side view of an angle projection of TRAFO_TYP_214................................................................ 11 Fig. 2 Projection of a square with angle projection TRAFO_TYP_214.................................................. 11 Fig. 3 Projection of a circle with angle projection TRAFO_TYP_214..................................................... 12 TF5240 | Twin CAT 3 CNC Version: 1.01 7 PCS transformations
## Page 8

Introduction 1 Introduction Transformation types The transformations specified here are mathematical representations that act directly on programming coordinates before the Cartesian transformations. These transformations simplify the programming of geometries or even allow the programming of more complex geometries (example: circle  ellipse). Transformations are additional options and subject to the purchase of a license. Further documentation concerning transformations The integration of user-defined transformations is described in the description of the transformation interface [Mc COM-TRAFO]. Descriptions of kinematic transformations are contained in the document Kinematic transformations [KITRA]. Mandatory note on references to other documents For the sake of clarity, links to other documents and parameters are abbreviated, e.g. [PROG] for the Programming Manual or P-AXIS-00001 for an axis parameter. For technical reasons, these links only function in the Online Help (HTML5, CHM) but not in pdf files since pdfs do not support cross-linking. 8 Version: 1.01 TF5240 | Twin CAT 3 CNC PCS transformations
## Page 9

Introduction 1.1 Specifying the transformation ID, type and parameters In order to use a PCS transformation, it must be explicitly specified by its transformation ID (P-CHAN-00262) and its transformation type (P-CHAN-00829). The purpose of the transformation ID is to explicitly identify a configured transformation from the list of all PCS transformations configured. A transformation may not be configured multiple times. The transformation type determines the type and structure of the transformation as classified in the Overview. Specifying the transformation ID, type and parameters The PCS transformation must be configured using the following channel parameters: trafo_pcs[0].id 10 (any number) trafo_pcs[0].type 212 (transformation type trafo_pcs[0].param[0] 3 trafo_pcs[0].param[1] 4 trafo_pcs[0].param[2] 1 If there is a further transformation, e.g. of the same type with different data blocks: trafo_pcs[1].id 78 (any number) trafo_pcs[1].type 212 (transformation type trafo_pcs[1].param[0] 3 trafo_pcs[1].param[1] 4 trafo_pcs[1].param[2] 1 TF5240 | Twin CAT 3 CNC Version: 1.01 9 PCS transformations
## Page 10

PCS transformations 2 PCS transformations The following sections describe predefined PCS transformations. You can also create and apply user.defined Mc COM transformations. These types must be within the range of [500 - 999]. If types are used that do not belong to either the predefined or the Mc COM transformations, error ID 22287 is output. 2.1 TRAFO_TYP_212 – Axis coupling Transformation structure: A transformation consists of a master and a slave axis. After the transformation is activated, the slave axis follows the motion of the master axis multiplied by a coupling factor. The transformation with the ID 212 allows an axis coupling at PCS level. This transformation is comparable to the function #GEAR LINK. Function available as of V3.1.3110.3. The major differences are: 1. The coupling acts on the basis of the programming coordinates compared to the axis coordinates. 2. This coupling includes the coupling motion when the path dynamics are considered. Restrictions of the transformation: 1. The slave axis may not be traversed while the coupling is active. 2. No CS or transformation may be changed while the coupling is active. 3. A modulo calculation may not be active with either of the axes. CNC error ID 22274 is triggered with points 1 and 2. If the slave axis is defined in the #FGROUP, the motion is taken into consideration by the transformation. Parameters of the transformation param[i] Description Unit 0 Logical axis number of the master axis [ - ] 1 Logical number of the slave axis [ - ] 2 Coupling factor [ - ] 10 Version: 1.01 TF5240 | Twin CAT 3 CNC PCS transformations
## Page 11

PCS transformations 2.2 TRAFO_TYP_214 – Angle projection Function available as of V3.1.3115.0. Transformation structure: The transformation is defined by a PCS axis and a tilt angle. The transformation with the ID 214 corresponds to a projection of a main plane onto a PCS axis tilted at an angle. The figures below show the X axis tilted. The Y coordinate is projected onto the Z axis and added to the Z coordinate. Fig. 1: Side view of an angle projection of TRAFO_TYP_214 Fig. 2: Projection of a square with angle projection TRAFO_TYP_214 For example, a circle on the X/Y plane results in an ellipse in the transformed PCS’ system tilted about the X axis. TF5240 | Twin CAT 3 CNC Version: 1.01 11 PCS transformations
## Page 12

PCS transformations Fig. 3: Projection of a circle with angle projection TRAFO_TYP_214 When the Y axis is tilted, the Z coordinate is projected onto the X axis and added to the X coordinate. When the Z axis is tilted, the X coordinate is projected onto the Y axis and added to the Y coordinate. The plane is tilted at the angle in the mathematically positive direction, i.e. anti- clockwise. Restrictions of the transformation: 1. The tilt angle must be between -60° and +60°; tilt angles outside of the permissible range trigger the error ID 292010. 2. Tilting is only possible about one of the three axes X, Y or Z of the PCS system; permissible values are 1, 2 or 3. Other values will trigger error ID 22281. Parameters of the transformation param[i] Description Unit 0 Tilt angle 1.0 E-4° 1 Logical axis number of the axis about which the tilt is performed. [ - ] 1 = X , 2 = Y , 3 = Z PCS PCS PCS 12 Version: 1.01 TF5240 | Twin CAT 3 CNC PCS transformations
## Page 13

Definition of terms 3 Definition of terms General: ID Identifier; general identifier MCS Machine coordinate system MZP Machine zero point BT Backward transformation SRP Slide reference point (tool slide reference point) TCP Tool centre point; centre point of milling cutter Type Kinematic structure with specific features FT Forward transformation WCS Workpiece coordinate system Other abbreviations: HD Kinematic offset value (head distance) TF5240 | Twin CAT 3 CNC Version: 1.01 13 PCS transformations
## Page 14

Support and Service 4 Support and Service Beckhoff and their partners around the world offer comprehensive support and service, making available fast and competent assistance with all questions related to Beckhoff products and system solutions. Download finder Our download finder contains all the files that we offer you for downloading. You will find application reports, technical documentation, technical drawings, configuration files and much more. The downloads are available in various formats. Beckhoff's branch offices and representatives Please contact your Beckhoff branch office or representative for local support and service on Beckhoff products! The addresses of Beckhoff's branch offices and representatives round the world can be found on our internet page: www.beckhoff.com You will also find further documentation for Beckhoff components there. Beckhoff Support Support offers you comprehensive technical assistance, helping you not only with the application of individual Beckhoff products, but also with other, wide-ranging services: • support • design, programming and commissioning of complex automation systems • and extensive training program for Beckhoff system components Hotline: +49 5246 963-157 e-mail: support@beckhoff.com Beckhoff Service The Beckhoff Service Center supports you in all matters of after-sales service: • on-site service • repair service • spare parts service • hotline service Hotline: +49 5246 963-460 e-mail: service@beckhoff.com Beckhoff Headquarters Beckhoff Automation Gmb H & Co. KG Huelshorstweg 20 33415 Verl Germany Phone: +49 5246 963-0 e-mail: info@beckhoff.com web: www.beckhoff.com 14 Version: 1.01 TF5240 | Twin CAT 3 CNC PCS transformations
## Page 16

More Information: www.beckhoff.com/TF5240 Beckhoff Automation Gmb H & Co. KG Hülshorstweg 20 33415 Verl Germany Phone: +49 5246 9630 info@beckhoff.com www.beckhoff.com
