---
title: "TF5200_lift_axis_en"
product: "TF5200"
category: "Motion_Control"
tags: ["NC"]
language: "EN"
document_type: "Manual"
version: "1.12"
source_pdf: "https://download.beckhoff.com/download/Document/automation/twincat3/TF5200_lift_axis_en.pdf"
release_date: "2025-06-06"
---
Functional description | EN TF5200 | Twin CAT 3 CNC Collision avoidance through lift function 6/6/2025 | Version: 1.12
## Page 3

Notes on the documentation Notes on the documentation This description is only intended for the use of trained specialists in control and automation engineering who are familiar with the applicable national standards. It is essential that the documentation and the following notes and explanations are followed when installing and commissioning the components. It is the duty of the technical personnel to use the documentation published at the respective time of each installation and commissioning. The responsible staff must ensure that the application or use of the products described satisfy all the requirements for safety, including all the relevant laws, regulations, guidelines and standards. Disclaimer The documentation has been prepared with care. The products described are, however, constantly under development. We reserve the right to revise and change the documentation at any time and without prior announcement. No claims for the modification of products that have already been supplied may be made on the basis of the data, diagrams and descriptions in this documentation. Trademarks Beckhoff®, Twin CAT®, Twin CAT/BSD®, TC/BSD®, Ether CAT®, Ether CAT G®, Ether CAT G10®, Ether CAT P®, Safety over Ether CAT®, Twin SAFE®, XFC®, XTS® and XPlanar® are registered trademarks of and licensed by Beckhoff Automation Gmb H. Other designations used in this publication may be trademarks whose use by third parties for their own purposes could violate the rights of the owners. Patent Pending The Ether CAT technology is patent protected, in particular by the following applications and patents: EP1590927, EP1789857, EP1456722, EP2137893, DE102015105702 with corresponding applications or registrations in various other countries. Ether CAT® is registered trademark and patented technology, licensed by Beckhoff Automation Gmb H, Germany Copyright © Beckhoff Automation Gmb H & Co. KG, Germany. The reproduction, distribution and utilisation of this document as well as the communication of its contents to others without express authorisation are prohibited. Offenders will be held liable for the payment of damages. All rights reserved in the event of the grant of a patent, utility model or design. TF5200 | Twin CAT 3 CNC Version: 1.12 3 Collision avoidance through lift function
## Page 4

General and safety instructions General and safety instructions Icons used and their meanings This documentation uses the following icons next to the safety instruction and the associated text. Please read the (safety) instructions carefully and comply with them at all times. Icons in explanatory text 1. Indicates an action. ð Indicates an action statement. DANGER Acute danger to life! If you fail to comply with the safety instruction next to this icon, there is immediate danger to human life and health. CAUTION Personal injury and damage to machines! If you fail to comply with the safety instruction next to this icon, it may result in personal injury or damage to machines. NOTICE Restriction or error This icon describes restrictions or warns of errors. Tips and other notes This icon indicates information to assist in general understanding or to provide additional informa- tion. General example Example that clarifies the text. NC programming example Programming example (complete NC program or program sequence) of the described function or NC com- mand. Specific version information Optional or restricted function. The availability of this function depends on the configuration and the scope of the version. 4 Version: 1.12 TF5200 | Twin CAT 3 CNC Collision avoidance through lift function
## Page 5

Table of contents Table of contents Notes on the documentation.................................................................................................................... 3 General and safety instructions.............................................................................................................. 4 1 Overview.................................................................................................................................................... 8 2 Description................................................................................................................................................ 9 2.1 Advanced Lifting................................................................................................................................ 9 2.1.1 Advanced Lifting properties.............................................................................................. 10 2.1.2 Parameterisation.............................................................................................................. 11 2.1.3 Special cases................................................................................................................... 12 2.2 Lifting............................................................................................................................................... 13 2.2.1 Lifting properties............................................................................................................... 14 2.2.2 Parameterisation.............................................................................................................. 18 2.2.3 Special cases................................................................................................................... 18 2.3 Permitted functions......................................................................................................................... 21 2.4 Limitations and error response........................................................................................................ 21 2.5 Differences between Advanced Lifting and Lifting.......................................................................... 22 2.6 Display data - status display........................................................................................................... 24 3 Programming........................................................................................................................................... 25 4 Parameter................................................................................................................................................. 28 4.1 Overview......................................................................................................................................... 28 4.2 Description...................................................................................................................................... 28 4.2.1 Activate lift function.......................................................................................................... 28 4.2.2 Parameters for the Lift function........................................................................................ 31 4.2.3 CNC objects..................................................................................................................... 33 4.2.4 HLI parameters................................................................................................................ 34 5 Support and Service............................................................................................................................... 35 Index......................................................................................................................................................... 36 TF5200 | Twin CAT 3 CNC Version: 5 Collision avoidance through lift function
## Page 6

Table of contents 6 Version: TF5200 | Twin CAT 3 CNC Collision avoidance through lift function
## Page 7

List of figures List of figures Fig. 1 Description of lifting in 3 NC blocks.............................................................................................. 9 Fig. 2 Target position > limit................................................................................................................... 12 Fig. 3 Premature termination of lifting due to a syntax error.................................................................. 13 Fig. 4 Structure of planning and executing the LIFT motion.................................................................. 14 Fig. 5 Contour smoothing with automatic activation/deactivation at LIFT start/end............................... 16 Fig. 6 Contour smoothing without lift axis movement before/after lifting................................................ 17 Fig. 7 Diagram of Look Ahead range overflow....................................................................................... 18 Fig. 8 Structure of the planning and processing of the lifting motion with time-based coupling............. 23 Fig. 9 Comparison of lifting heights reachable with Advanced Lifting (green curve) vs Lifting (blue curve)........................................................................................................................................... 23 Fig. 10 Path velocity override with Advanced Lifting................................................................................ 24 Fig. 11 Single-row lifting........................................................................................................................... 27 TF5200 | Twin CAT 3 CNC Version: 1.12 7 Collision avoidance through lift function
## Page 8

Overview 1 Overview Task When positioning operations are executed in the XY plane, the Z axis is lifted as far above the workpiece as possible to avoid collision with cut-out parts between cutting operations (G01/G02/G03, M04 laser on, M05 laser off). This is called Smart Collision Guard. The CNC automatically calculates motion of the Z axis between contour elements. Characteristics The user can specify a maximum lifting distance to lift the Z axis. Lifting/lowering is executed automatically and across blocks so that the path feedrate in the XY plane is reduced as little as possible and the Z axis reaches the specified target height at the start of the next machining contour. The path motion is normally not affected by the lifting/lowering motion, i.e. the Z axis can be attached and detached without feed stop (on the path). The Z axis moves with jerk limiting. The Smart Collision Guard is available in 2 methods. • Advanced Lifting [} 9] (time-based method) • Lifting [} 13] (path-based method) This document uses the terms lift axis and Z axis synonymously. Parameterisation Neither of the two methods is activated in the basic setting. In order to use the recommended Advanced Lifting function, the section Parametrisation [} 11] describes the start-up parameters P-STUP-00060 and P-STUP-00070 where the value FCT_LIFT_UP_TIME is assigned. In addition, the channel parameter P-CHAN-00345 “enable_time_based_lift“ must be set to 1. The P-STUP-00060 is also assigned the value FCT_LIFT_UP . Do not set the channel parameter P- CHAN-00345 "enable_time_based_lift". Programming The lift range is defined by the two commands Z[LIFT_START...] and Z[LIFT_END]. The lift axis is automatically moved by the lift function in the intermediate motion blocks. This function is an additional option requiring a license. Mandatory note on references to other documents For the sake of clarity, links to other documents and parameters are abbreviated, e.g. [PROG] for the Programming Manual or P-AXIS-00001 for an axis parameter. For technical reasons, these links only function in the Online Help (HTML5, CHM) but not in pdf files since pdfs do not support cross-linking. 8 Version: 1.12 TF5200 | Twin CAT 3 CNC Collision avoidance through lift function
## Page 9

Description 2 Description This functionality has been available since CNC Build V2.11.2800. Lifting minimises the risk of tool collisions, e.g. during laser cutting, with workpiece parts that are already cut out. Z position Maximum lifting hight Z max Jerk limited lifting Jerk limited Z 2 lowering Z 1 Block 1 Block 2 Block 3 Travel path Start End Fig. 1: Description of lifting in 3 NC blocks A comparison table of the two methods is contained in the section Differences between Advanced Lifting and Lifting. [} 22] 2.1 Advanced Lifting This method is recommended. Advantages of the time-based method. • A greater lifting height can be achieved using Advanced Lifting. • Greater collision protection • Advanced Lifting has no negative impact on lifting height caused by changes in feed rate or path override. • Conventional lifting may result in Z axis overload. Advanced Lifting cannot be used when the HCS slope is employed. A further exception is the computing time if the aim is to achieve a shorter computing time for technical reasons. TF5200 | Twin CAT 3 CNC Version: 1.12 9 Collision avoidance through lift function
## Page 10

Description 2.1.1 Advanced Lifting properties The target position and position limiting are specified when starting the LIFT motion. If the start or target position of the lift axis is outside the programmed maximum lifting height, the maximum height is increased, e.g. for lifting to the maximum of the start and target positions. Therefore, any Max/Min limiting of the position has no effect. If a height difference [POS] was programmed for the lifting motion and the lift axis dynamics are not sufficient to reach the required height in the time defined by the path feed rate, the path feed rate is reduced automatically. In extreme cases (e.g. if the motion path = 0), the path axes stop and the lift axis is linearly positioned at the target position. Waiting conditions (M functions with synchronisation, G04, M00, etc.) are possible during lifting/lowering. With Advanced Lifting the lift axis moves on to target height. HSC (Type 3 slope) is not supported with Advanced Lifting. Error ID 120711 is output. For the Advanced Lifting lift function, only the slope types STEP, TRAPEZ or SIN² are permitted. (See #SLOPE[TYPE=…]) Minimum path length The channel parameter P-CHAN-00244 defines the minimum path length. If the path motion between lift start and lift end is shorter than the minimum path length, the lifting motion is suppressed. The programmed target position of the Z axis is approached directly. When P-CHAN-00244 = 0 is in the default setting, the lifting motion is always executed irrespective of the real path distance. 10 Version: 1.12 TF5200 | Twin CAT 3 CNC Collision avoidance through lift function
## Page 11

Description 2.1.2 Parameterisation The channel parameter P-CHAN-00345 is switched when it is enabled to Advanced Lifting. These calculations must be carried out in the GEO real-time task of the controller. To enable this function, the function must also be activated in the controller start-up list in the parameters P- STUP-00060 and P-STUP-00070 by the keyword FCT_LIFT_UP_TIME. Automatic lifting/lowering is currently not included in the basic scope of functions (FCT_DEFAULT) and must therefore always be activated. Further information on the start-up list parameter P-STUP-00060 The parameter P-STUP-00060 in the start-up list defines the individual functions in the contour planning. As a result, individual functions can be selected for testing, deselected for performance reasons (by not setting them) or activated as a specific function. For Advanced Lifting the identifier FCT_LIFT_UP_TIME must be set. Advanced Lifting P-STUP-00060 configuration.channel[0].path_preparation.function FCT_DEFAULT | FCT_LIFT_UP_TIME Further information on the start-up list parameter P-STUP-00070 In the start-up list the parameter P-STUP-00070 defines the individual functions of the path interpolator. As a result, individual functions can be selected for testing, deselected for performance reasons (by not setting them) or activated as a specific function. To activate Advanced Lifting the identifier FCT_LIFT_UP_TIME must be set. Advanced Lifting P-STUP-00070 configuration.channel[0].interpolator.function FCT_DEFAULT | FCT_LIFT_UP_TIME TF5200 | Twin CAT 3 CNC Version: 1.12 11 Collision avoidance through lift function
## Page 12

Description 2.1.3 Special cases Special case 1: POS greater than POS_LIMIT If the specified lift axis target position is outside the limit, the limit has no effect. This means that the axis is positioned at the target position at the start of the lifting motion and not at the end. This also applies if the start position > limit. Z position Target position Z 2 Maximum lifting hight Z max Start position Z 1 Block 1 Block 2 Block 3 Travel path Start End Fig. 2: Target position > limit POS greater than POS_LIMIT N10 Z10 N20 Z[LIFT_START POS=40 POS_LIMIT=30] N30 X10 N40 X20 N50 X35 N60 Z[LIFT_END] 12 Version: 1.12 TF5200 | Twin CAT 3 CNC Collision avoidance through lift function
## Page 13

Description Special case 2: Syntax error within the lift range Programming error within START – END In the event of a syntax error in the NC program, the path motion is always executed up to the last correctly decoded point in the NC program. If the error location lies within a LIFT_START – LIFT_END range, the lift axis is positioned at the maximum lift height at the error location. Z position expected lifting motion real lifting motion caused by syntax error Z max Z Target Z Start Travel path Start Error End Fig. 3: Premature termination of lifting due to a syntax error Syntax error within the lift range N10 Z10 N20 Z[LIFT_START POS_LIMIT=30] N30 X10 N40 X20 N50 X35 ... N100 syntax error ... N560 X50 N570 X60 N580 X100 N600 Z[LIFT_END] Special case 3: #FLUSH, #FLUSH WAIT Flushing the channel (#FLUSH, #FLUSH WAIT) may mean that the path must be stopped if the lift axis is unable to reach the lift position in time. Otherwise, #FLUSH WAIT has no effect on the lifting profile. 2.2 Lifting This method is only recommended if Advanced Lifting is not possible for technical reasons. Normally, the lift axis motion is planned as an independent motion in path preparation and is then coupled to the motion of the main axes. TF5200 | Twin CAT 3 CNC Version: 1.12 13 Collision avoidance through lift function
## Page 14

Description The keyword “DOWN” cannot be programmed in standard lifting. 2.2.1 Lifting properties The lifting motion is coupled to the path motion in this method. i.e. if the velocity of the path is changed, the LIFT motion changes to the same extent. Therefore, the same position of the path axes is identical to the position of the lift axis, regardless of the current velocity. This means that If the path motion is stopped (feed hold) or decelerated (override), the motion of the lift axis stops accordingly. Background Decoder task Path preparation Profile calculation Z s K Complete available traverse path distance for lifting s Time equidistant task Interpolation Independent axis (interrupt) Interpolation (Slave coupling) Override, Feedhold Y s Z s X s X Y Z Position control Fig. 4: Structure of planning and executing the LIFT motion 14 Version: 1.12 TF5200 | Twin CAT 3 CNC Collision avoidance through lift function
## Page 15

Description Within the LIFT range, the permitted acceleration on the path is defined so that the maximum permitted acceleration of the lift axis is not exceeded. Waiting conditions (M functions with synchronisation, G04, M00, etc.) are possible during lifting/lowering. During the lifting motion, waiting conditions therefore lead to an interruption of the path and also of the lifting motion. In the case of strongly bent curves (spline or polynomial contouring) or kinematic transformations, the original blocks can be further subdivided to improve planning the dynamics. This may lead to an increased number of blocks. If there is an insufficient number of blocks (Look Ahead range) • due to the large number of motion blocks of the path axes or • due to the large number of technology functions (M functions), premature lowering is avoided. Internally, a LIFT_END is added to the programmed height and a LIFT_START is then added. At present, a maximum number of 20 CNC internal blocks (Look Ahead range) is considered between the lifting motion (START) and the lowering motion (END). A programmed motion block (G0, G1, G2, G3) normally generates an internal CNC block. Smoothing methods generate additional internal blocks. Planning the dynamics The lifting motion is planned so that, at constant path velocity, the lift axis is lifted and lowered again with jerk limiting at its maximum acceleration. If the path feed rate is changed during the lifting motion (feed hold, override, etc.), this leads to additional acceleration of the lift axis. As a result, lift axis acceleration may briefly exceed its maximum limit. However, the overall acceleration due to the feed rate change on the path and the lifting motion itself always remain within the specified overload range. Therefore, the following applies to the axis: |a | < a * overloadfactor active max where Planning lift axis dynamics requires slope type 'TRAPEZ' ([#SLOPE [...]). Slope type STEP may res- ult in Z axis overload. TF5200 | Twin CAT 3 CNC Version: 1.12 15 Collision avoidance through lift function
## Page 16

Description Path smoothing and lifting The LIFT function can be programmed if a smoothing method was previously activated (1st case). The LIFT axis has velocity = 0 at the start and end of the lifting motion. Therefore, smoothing is temporarily suppressed at these points. Exception: With CONTOUR MODE (G61, G261) the lift axis in the block does not move before lifting or directly after lifting (2nd case). 1st case: Lift axis motion before/after lifting If the lift axis is moved before lift start (block N10) or directly after lift end (block N20), the contouring of all axes at the start or end of lifting is briefly suppressed. Y G261 N20 G261 0 LIFT_START G261 1 N G260 LIFT_END G260 X Work piece machining Programmed motion of positioning Smoothed motion of positioning G260/1 Automatic suppression during LIFT_START/-END LIFT_START, LIFT axis is removed from path motion LIFT_END, LIFT axis is included into path motion Fig. 5: Contour smoothing with automatic activation/deactivation at LIFT start/end 16 Version: 1.12 TF5200 | Twin CAT 3 CNC Collision avoidance through lift function
## Page 17

Description 2nd case: No lift axis motion before/after lifting The other axes can be smoothed if the lift axis is not moved before lift start (block N10) or directly after lift end (block N20). Y G261 N20 0 1 N LIFT_END LIFT_START X Work piece machining Programmed motion of positioning Smoothed motion of positioning LIFT_START, LIFT axis is removed from path motion LIFT_END, LIFT axis is included into path motion Fig. 6: Contour smoothing without lift axis movement before/after lifting Smoothing methods may not be additionally selected or deselected between LIFT_START and LIFT_END. TF5200 | Twin CAT 3 CNC Version: 1.12 17 Collision avoidance through lift function
## Page 18

Description 2.2.2 Parameterisation To activate lifting, the parameter P-STUP-00060 must be assigned the value FCT_LIFT_UP . Lifting configuration.channel[0].path_preparation.function FCT_DEFAULT | FCT_LIFT_UP 2.2.3 Special cases Special case 1: Look Ahead range overflow Large number of blocks between START – END The Look Ahead range comprises a maximum of 20 NC blocks. Lifting is executed prematurely if the range of the motion path (Look Ahead range) considered during lifting is fully occupied due to a large number of blocks. In this case, the axis is first lifted to the specified maximum height and lowered shortly before END (see blue curve in the figure).. Premature lifting can lead to a situation where less motion path is available for the lifting motion than the user actually assumes. As a result, path velocity may be reduced in order to execute the lifting motion and re-engagement. Conclusion: A high number of blocks between lift start and end leads to premature lifting of the lift axis and to a possible deceleration of the path motion. For this reason Advanced Lifting is recommended. Z position expected lifting motion real lifting motion caused by a full look-ahead range Z max Z 1 Z axis with Look- Look- constant ahead ahead position is full is full Travel path Start End Fig. 7: Diagram of Look Ahead range overflow 18 Version: 1.12 TF5200 | Twin CAT 3 CNC Collision avoidance through lift function
## Page 19

Description Look Ahead range overflow N10 Z10 N20 Z[LIFT_START POS_LIMIT=30] N30 X10 N40 X20 N50 X35 ... N550 X31 N560 X32 N570 X33 N580 X34 N600 Z[LIFT_END] TF5200 | Twin CAT 3 CNC Version: 1.12 19 Collision avoidance through lift function
## Page 20

Description Special case 2: Lifting and explicit flushing of the channel LIFT and flushing the channel (#FLUSH) During lifting, the motion blocks are first stored to enable calculation of the optimum lifting motion from LIFT start to end. With various NC commands, however, immediate execution is necessary and this is achieved implicitly by "flushing the channel". If channel output of the NC blocks is compelled during lifting (e.g. NC command #FLUSH), the LIFT motion is executed as if LIFT_END and again LIFT_START were programmed at this point. Lifting and explicit flushing of the channel N20 X40 Z2 N30 Z[LIFT_START POS=12 POS_LIMIT=40] N40 X50 N50 X40 N60 #FLUSH N70 X30 N80 X20 N90 Z[LIFT_END] Operating principle of #FLUSH with comparable programming N20 X40 Z2 N30 Z[LIFT_START POS=40 POS_LIMIT=40] N40 X50 N50 X40 N60 Z[LIFT_END] N60 Z[LIFT_START POS=12 POS_LIMIT=40] N70 X30 N80 X20 N90 Z[LIFT_END] 20 Version: 1.12 TF5200 | Twin CAT 3 CNC Collision avoidance through lift function
## Page 21

Description 2.3 Permitted functions Permitted CNC functions that may be active when lifting is selected: • #ROTATION ON and #CS ON: but only if the lift axis is not affected by the rotation. When the Z axis is lifted, only one coordinate system rotation about the Z axis is permitted. Otherwise, the error ID 21071 is output by the decoder. If #ROTATION ON/OFF is programmed within the lift range, path preparation outputs the error ID 120606. • #TRAFO ON: If #TRAFO ON/OFF is programmed within the lift range, path preparation outputs the error ID 120606. 2.4 Limitations and error response The following limitations apply both to Lifting and Advanced Lifting. If a programming error occurs during the lifting motion, the lifting motion is executed up to the error location and the axis stops at the specified maximum lifting height (POS_LIMIT). If the end of the program is reached during the lifting motion without a prior, explicit LIFT_END, the lifting motion is executed as if LIFT_END was programmed at the end of the program. Limitations during the lifting motion for both methods: • The axis affected by lifting may not be programmed. • Flushing the channel (#FLUSH, #FLUSH WAIT) interrupts the current lifting motion (this corresponds to implicit programming of LIFT_END followed by LIFT_START). The programmed target position of the lift axis is reached for a short time in the block in which #FLUSH was programmed. • Channel-internal axis swapping is basically possible but the lift axis must not be affected by axis swapping. Additional path smoothing of the LIFT axis (contouring, G61/G261, G151, #SPLINE ON, #HSC ON) is not possible in the lifting range. • During the lifting motion, tool radius compensation of the LIFT axis is not permitted, i.e. the LIFT axis may not be involved in tool radius compensation. Limitations during the lifting motion in addition to conventional lifting: • Path smoothing functions are temporarily suppressed at the start and end of the lifting motion. With Advanced Lifting path smoothing methods are suppressed if the lift axis is programmed directly before LIFT_START or directly after LIFT_END. • Axis swapping leads to the end of the lifting motion. TF5200 | Twin CAT 3 CNC Version: 1.12 21 Collision avoidance through lift function
## Page 22

Description 2.5 Differences between Advanced Lifting and Lifting Basically Advanced Lifting is recommended. It is independent of the path motion and a greater lifting height is reached. In exceptional cases it may be necessary to apply conventional lifting. The table below provides a short comparison: 1. Advanced Lifting 2. Lifting Maximum lifting height high medium (is reached faster) Collision protection high lower Computing time (real-time high very low task) Path override changes Limited increase possible Z axis overload (=lift axis) possible Feed rate change No limitation Z axis overload (=lift axis) possible HSC slope (Type 3) not possible can call an implicitly called subroutine at program end. Maximum lift profile length unlimited Number of NC blocks is limited With Advanced Lifting profile planning must be executed in the real-time task of the controller This method therefore requires much more real-time computing time than the lifting method calculated in the path preparation task. 22 Version: 1.12 TF5200 | Twin CAT 3 CNC Collision avoidance through lift function
## Page 23

Description Background Decoder task Path preparation Plausibility checks Time equidistant task Interpolation Profile planning independent axis (interrupt) Interpolation (Time coupling) Override, Feedhold Y t Z s X t X Y Z Position control Fig. 8: Structure of the planning and processing of the lifting motion with time-based coupling Compared with Lifting, Advanced Lifting achieves greater lifting heights: Fig. 9: Comparison of lifting heights reachable with Advanced Lifting (green curve) vs Lifting (blue curve) In the lowering motion the path velocity override is limited to the value which was active at the start of the lowering motion. TF5200 | Twin CAT 3 CNC Version: 1.12 23 Collision avoidance through lift function
## Page 24

Description In the upward motion of the lift axis a higher path override may no longer be accepted, otherwise the lift axis would not be able to reach the target position at the end of the lowering motion any more. Z-Position Path velocity override may be increased if lifting axis has still enough time Path velocity override is limited to the override value, which was active at start of lowering movement Z 2 No limitations concerning path velocity override Z 2 Path movement End Start Fig. 10: Path velocity override with Advanced Lifting 2.6 Display data - status display As of CNC Build V2.11.2810.01 it is possible to display the status of the lift function. This is possible via CNC objects as well as via the HLI. The following data is available: • HLI: ◦ lift_active [} 34] ◦ lift_suppressed [} 34] • or as associated CNC objects ◦ lift_active [} 33] ◦ lift_suppressed [} 33] A distinction is made between the status "Lift function is active" and the status "Lift movement is suppressed". Suppression of the lift movement always occurs when the programmed minimum path distance P-CHAN-00244 [} 31] is not reached. An active lift function is associated with execution of a lift movement. Advanced Lifting is a special case where both the status for an active lift function and the status for suppressing a lift movement are set at the same time. This case occurs when the actual lifting of the axis is suppressed because the path distance is too small, but at the same time a target position of the Z axis is programmed. To reach the target position, the lift function is still active in the background. 24 Version: 1.12 TF5200 | Twin CAT 3 CNC Collision avoidance through lift function
## Page 25

Programming 3 Programming Cross-block lifting/lowering Programming is based on the syntax for independent axes. The corresponding parameters can be programmed at the start of lifting/lowering. These are non-modal parameters, i.e. if required they are reset for every start. Syntax: <axis_name> [ LIFT_START [ DOWN ] [ G90 | G91 ] [ POS=.. ] POS_LIMIT=.. ] <axis_name> Lift axis name LIFT_START Identifier for the start of the (cross-block) independent lifting motion of the axis. Must always be programmed as the first keyword. DOWN The axis motion direction can be inverted via DOWN, i.e. the motion is in the direction of the negative software limit switch. If nothing is specified, the default direction is in the direction of the positive software limit switch. Only available for Advanced Lifting [} 9] G90 / G91 Absolute/relative dimension; the default dimension is G90. G91 is non-modal and is only active for the lifting/lowering motion. POS=.. Target position of the lift axis after the lifting motion in [mm, inch]. The current command position of the axis (see V. A. ABS.<axis name>) is the default. POS_LIMIT=.. Maximum lifting height or lowering depth in [mm, inch] Syntax: <axis_name> [ LIFT_END ] <axis_name> Lift axis name LIFT_END Identifier for the end of the (cross-block) independent lifting motion of the axis. TF5200 | Twin CAT 3 CNC Version: 1.12 25 Collision avoidance through lift function
## Page 26

Programming Cross-block lifting/lowering N10 X10 Y20 Z30 ;Cut with laser N20 M5 ;Laser off N30 Z[LIFT_START POS=12 POS_LIMIT=100] ;Lift Z axis N30 G01 X.. Y.. N40 G02 X.. Y.. N50 G03 X.. Y.. N60 G01 X.. Y.. N70 Z[LIFT_END] ;Absolutely lower Z axis to target 12 mm N80 M4 ;Laser on N90 X20 Y20 ... N10 X10 Y20 Z30 N30 Z[LIFT_START POS=12 POS_LIMIT=100] ;Lift Z axis N40 G01 X.. Y.. N50 G01 X.. Y.. N60 Z[LIFT_END] ;Absolutely lower Z axis to target 12 mm N70 X100 alternative programming N110 X10 Y20 Z30 N140 G01 X.. Y.. Z[LIFT_START POS=12 POS_LIMIT=100] N150 G01 X.. Y.. Z[LIFT_END] N170 X100 Lifting/lowering in an NC block Programming is based on the syntax for independent axes. The corresponding parameters can be programmed at the start of lifting/lowering. These are non-modal parameters, i.e. if required they are reset for every start. Syntax: <axis_name> [ LIFT [ DOWN ] [ G90 | G91 ] [ POS=.. ] POS_LIMIT=.. ] <axis_name> Lift axis name LIFT Identifier for the start and end of the independent lifting motion of the axis in the current NC block Must always be programmed as the first keyword. DOWN The axis motion direction can be inverted via DOWN, i.e. the motion is in the direction of the negative software limit switch. If nothing is specified, the default direction is in the direction of the positive software limit switch. Only available for Advanced Lifting [} 9] G90 / G91 Absolute/relative dimension. The default dimension is G90. G91 is non-modal and is only active for the lifting/lowering motion. POS=.. Target position of the lift axis after the lifting motion in [mm, inch]. The current command position of the axis (see V. A. ABS.<axis name>) is the default. POS_LIMIT=.. Maximum lifting height or lowering depth in [mm, inch] 26 Version: 1.12 TF5200 | Twin CAT 3 CNC Collision avoidance through lift function
## Page 27

Programming Lifting/lowering in an NC block ; single-row programming N200 Z40 N240 X10 Y.. Z[LIFT POS=30 POS_LIMIT=300] N250 X20 Y.. Z[LIFT POS=20 POS_LIMIT=300] N260 X30 Y.. Z[LIFT POS=25 POS_LIMIT=300] N270 X.. Y.. Z[LIFT POS=30 POS_LIMIT=300] N280 X.. Y.. Z[LIFT POS=30 POS_LIMIT=300] Z position Maximum lifting hight Z max 40 30 20 N240 N250 N260 N270 Travel path Fig. 11: Single-row lifting Status query: Lifting/lowering active In the NC program, the V. G. variable… V. G. LIFT_ACTIVE … of the Boolean type can determine whether lifting/lowering is active. TF5200 | Twin CAT 3 CNC Version: 1.12 27 Collision avoidance through lift function
## Page 28

Parameter 4 Parameter 4.1 Overview ID Parameter Description P-STUP-00060 function Define functionalities in path preparation P-STUP-00070 function Define functionalities for decoding P-CHAN-00244 lift_min_dist Minimum path length for lifting motion P-CHAN-00345 enable_time_based_lift Switch to time-based approach for automatic lifting/lowering of an axis. P-AXIS-00441 dyn_monitoring_a_war Output a warning in the event of a percentage excess in n maximum axis acceleration Not necessary for Lifting (only for Advanced Lifting). P-AXIS-00442 dyn_monitoring_a_err Output an error message in the event of a percentage excess in maximum axis acceleration This maximum value is used to plan lift acceleration. This means that the following applies to the axis: Not necessary for Lifting (only for Advanced Lifting). 4.2 Description 4.2.1 Activate lift function P-STUP-00060 Defining functionalities for path preparation. Description This parameter defines the individual functionalities for path preparation. The individual functions can be enabled or disabled for testing or for performance reasons. Parameter configuration.channel[i].path_preparation.function Data type STRING Data range See Activate lift function [} 29] Dimension ---- Default value FCT_DEFAULT Remarks 28 Version: 1.12 TF5200 | Twin CAT 3 CNC Collision avoidance through lift function
## Page 29

Parameter Path preparation function table Identifier Description FCT_DEFAULT The functions FCT_FFM | FCT_PRESEGMENTATION | FCT_SPLINE | FCT_POLY | FCT_CAX | FCT_CAX_TRACK | FCT_SEGMENTATION are available. FCT_FFM Free-form surface mode, #HSC [OPMODE 1 CONTERR 0.01], #HSC [OPMODE 2] FCT_PRESEGMENTATION Linear pre-segmentation in HSC mode FCT_SPLINE #HSC[], AKIMA, B-Spline, G150/G151 FCT_POLY #CONTOUR MODE[], G61, G261/G260 FCT_CAX C axis processing, i.e. the spindle is embedded in the NC channel. FCT_CAX_TRACK #CAXTRACK, tracking an axis according to the contour angle FCT_SEGMENTATION For dynamic segmentation of the path contour, e.g. if the curvature of a polynomial segment varies significantly. The following functions must also be enabled: FCT_LIFT_UP Automatic lifting/lowering of an axis (path-based coupling). Example: FCT_DEFAULT | FCT_LIFT_UP FCT_EMF Edge machining (sharp angle contours). Example: FCT_DEFAULT | FCT_EMF FCT_EMF_POLY_OFF Edge machining inactive with polynomials. Contrary to the setting with FCT_EMF, edge signal generation is masked when path polynomial generation is active in the channel. Polynomials are generated for smoothing G261 or when B Spline is active. The resulting geometry is then tangential. Example: FCT_DEFAULT | FCT_EMF_POLY_OFF FCT_SYNC Synchronise an axis to a path group. Example: FCT_DEFAULT | FCT_SYNC FCT_PRECON Optimised planning using #HSC[BSPLINE]. Example: FCT_DEFAULT | FCT_PRECON FCT_LIFT_UP_TIME Automatic lifting/lowering of an axis (time-based coupling). Example: FCT_DEFAULT | FCT_LIFT_UP_TIME FCT_PTP Dynamically optimised smoothing of the complete contour. Example: FCT_DEFAULT | FCT_PTP FCT_M_PRE_OUTPUT Pre-output of M/H functions (microjoints). Example: FCT_DEFAULT | FCT_M_PRE_OUTPUT FCT_SURFACE HSC machining with Surface Optimiser Example: FCT_DEFAULT | FCT_SURFACE FCT_SEG_CHECK Block segmentation in combination with path-controlled offset of M functions (dwell time), see P-CHAN-00650 and Activate lift function [} 29] Example: FCT_DEFAULT | FCT_SEG_CHECK FCT_NIBBLING Activate the nibbling function Example: FCT_DEFAULT | FCT_NIBBLING FCT_PUNCHING Activate the punching function Example: FCT_DEFAULT | FCT_PUNCHING FCT_VSM Activate the velocity smoothing function Example: FCT_DEFAULT | FCT_VSM as of V3.1.3079.21 P-STUP-00070 Definition of interpolator functionalities Description This parameter defines individual functionalities and the size of the look-ahead buffer in the interpolator, i.e. it defines the number of blocks to calculate deceleration distance and dynamic planning. TF5200 | Twin CAT 3 CNC Version: 1.12 29 Collision avoidance through lift function
## Page 30

Parameter Parameter configuration.channel[i].interpolator.function Data type STRING Data range See Activate lift function [} 31]. Dimension ---- Default value FCT_IPO_DEFAULT Remarks 30 Version: 1.12 TF5200 | Twin CAT 3 CNC Collision avoidance through lift function
## Page 31

Parameter Interpolation function table Identifier Description FCT_IPO_DEFAULT FCT_LOOK_AHEAD_STANDARD FCT_LOOK_AHEAD_LOW 30 blocks FCT_LOOK_AHEAD_STANDARD 120 blocks FCT_LOOK_AHEAD_HIGH 190 blocks FCT_LOOK_AHEAD_CUSTOM Number of look-ahead blocks in the interval [ 10; P-CHAN-00653]. FCT_SYNC Synchronising an axis in coordinated motion Example: FCT_IPO_DEFAULT | FCT_SYNC FCT_LOOK_AHEAD_OPT The path velocity curve can be further improved for HSC machining by additional calculations. This generally reduces machining time. The additional calculations place greater demands on the controller hardware. FCT_LIFT_UP_TIME Automatic lifting/lowering of an axis (time-based coupling). Example: FCT_IPO_DEFAULT | FCT_LIFT_UP_TIME FCT_SHIFT_NCBL Path-controlled offset of M functions (dwell time). Example: FCT_IPO_DEFAULT | FCT_SHIFT_NCBL FCT_CALC_STATE_AT_T Calculation of path velocity at a time in the future. Function only available in combination with HSC slope and only as of V3.1.3057.0 Example: FCT_IPO_DEFAULT | FCT_CALC_STATE_AT_T FCT_CALC_TIME Calculation of interpolation time to next feed block (G01,G02,G03). Example: FCT_IPO_DEFAULT | FCT_CALC_TIME FCT_CONTOUR_LAH Contour look-ahead: advance output of motion blocks to the PLC as of V3.1.3104.07 FCT_DYN_POS_LIMIT Dynamic limitation of axis positions FCT_EXTENSION_EQUIDIST Die-sinking EDM Orbiting FCT_CALC_POS_V_0 Calculating and supplying the braking distance on the path until velocity and acceleration are 0. Supplying CNC objects on the path and assigned PCS and ACS axis positions at the end of this deceleration process. as of V3.01.3081.7 or V3.1.3114.0 FCT_DLM Activate the conveyor tracking function. as of V4.20.0 The look-ahead buffer size values specified above apply as of CNC Builds V2.11.2800 and higher; the following settings apply to CNC Build V2.11.20xx: FCT_LOOK_AHEAD_LOW 30 blocks FCT_LOOK_AHEAD_STANDARD 70 blocks FCT_LOOK_AHEAD_HIGH 120 blocks 4.2.2 Parameters for the Lift function P-CHAN-00244 Minimum path length for lift movements Description This parameter defines a minimum path distance for lift movement. If the main axis motion is shorter than the parameter value, no lift movement is executed. Parameter lift_min_dist Data type UNS32 Data range 0: Inactive (default). 1: Lift movements are suppressed if the main path motion is below the limit value. Dimension 0.1µm Default value 0 Remarks TF5200 | Twin CAT 3 CNC Version: 1.12 31 Collision avoidance through lift function
## Page 32

Parameter P-CHAN-00345 Switch-over to time-based calculation when an axis is lifted Description When an axis is lifted (see [FCT-A11 [} 8]]), it can be lifted or lowered automatically independent of the path motion. The CNC limits the maximum lift height so that the axis can reach the target point of the lowering movement and not influence the path motion. Normally this takes place during path preparation with a path-based coupling of the axis to the main motion path. Instead the 'enable_time_base_lift' parameter can enable a time-based consideration in the real-time GEO task of the controller. As a result, greater lifting height can be reached afterwards. However, time-based coupling requires considerably more computing power in the real-time task of the controller. The HSC slope profile and the time-based approach cannot be used at the same time. Parameter enable_time_based_lift Data type BOOLEAN Data range 0: Path-based approach (default). 1: Time-based approach. Dimension ---- Default value 0 Remarks The time-based approach must also be included in the configuration data of the path preparation and interpolation function in the controller. Here, set the key word FCT_LIFT_UP_TIME in the parameters P-CHAN-00600 and P-CHAN-00650 (alternatively: P-STUP-00060 and P-STUP-00070). Parameterisation example with P-CHAN-00600 / P-CHAN-00650 configuration.path_preparation.function FCT_DEFAULT | FCT_LIFT_UP_TIME .interpolator.function FCT_DEFAULT | FCT_LIFT_UP_TIME Alternatively, the function can be parameterised in the start-up list (P-STUP-00060 / P-STUP-00070). Example of the 1st CNC channel: configuration.channel[0].path_preparation.function. FCT_DEFAULT | FCT_LIFT_UP_TIME configuration.channel[0].interpolator.function. FCT_DEFAULT | FCT_LIFT_UP_TIME 32 Version: 1.12 TF5200 | Twin CAT 3 CNC Collision avoidance through lift function
## Page 33

Parameter 4.2.3 CNC objects For further information on addressing CNC objects, see [FCT-C13//Description]. Name lift_active Description This object checks the status of the lift function. It signals whether the lift function is activated. Task GEO (Port 551) Index group 0x12130<C > Index offset 0x<A >0095 ID ID Data type BOOLEAN Length 1 Attributes read Unit - Remarks Name lift_suppressed Description This object indicates whether a lift movement is suppressed. This is always the case when the programmed minimum path distance P-CHAN-00244 [} 31] is not reached. Task GEO (Port 551) Index group 0x12130<C > Index offset 0x<A >0094 ID ID Data type BOOLEAN Length 1 Attributes read Unit - Remarks The following special case of the status display occurs when you use Advanced Lifting. If the lift movement is suppressed due to insufficient travel distance and a target position of the Z axis is programmed at the same time, the lift function is active in order to be able to approach the target position of the Z-axis. In this case, the status of the lift function lift_active [} 33] = TRUE and lift_suppressed= TRUE are displayed simultaneously. TF5200 | Twin CAT 3 CNC Version: 1.12 33 Collision avoidance through lift function
## Page 34

Parameter 4.2.4 HLI parameters Lift function is active Description This data item indicates whether a lift function is active or not. An active lift function is associated with execution of a lift movement. Signal flow CNC->PLC ST path gp Ax[axis_idx]^.ipo_state.lift_active Data type BOOL Value range TRUE = Lift function is active FALSE = Lift function is not active Access PLC is reading Lift movement is suppressed Description This data item indicates whether a lift movement is suppressed. This is always the case when the programmed minimum path distance P-CHAN-00244 [} 31] is not reached. Signal flow CNC->PLC ST path gp Ax[axis_idx]^.ipo_state.lift_suppressed Data type BOOL Value range TRUE = Lift movement is suppressed FALSE = Lift movement is not suppressed. Access PLC is reading Special feature The following special case of the status display occurs when you use “Advanced Lifting”: If the lift movement is suppressed due to insufficient travel distance and a target position of the Z axis is programmed at the same time, the lift function is active in order to be able to approach the target position of the Z-axis. In this case, the status of the lift function is simultaneously displayed as “active” and “suppressed”. 34 Version: 1.12 TF5200 | Twin CAT 3 CNC Collision avoidance through lift function
## Page 35

Support and Service 5 Support and Service Beckhoff and their partners around the world offer comprehensive support and service, making available fast and competent assistance with all questions related to Beckhoff products and system solutions. Download finder Our download finder contains all the files that we offer you for downloading. You will find application reports, technical documentation, technical drawings, configuration files and much more. The downloads are available in various formats. Beckhoff's branch offices and representatives Please contact your Beckhoff branch office or representative for local support and service on Beckhoff products! The addresses of Beckhoff's branch offices and representatives round the world can be found on our internet page: www.beckhoff.com You will also find further documentation for Beckhoff components there. Beckhoff Support Support offers you comprehensive technical assistance, helping you not only with the application of individual Beckhoff products, but also with other, wide-ranging services: • support • design, programming and commissioning of complex automation systems • and extensive training program for Beckhoff system components Hotline: +49 5246 963-157 e-mail: support@beckhoff.com Beckhoff Service The Beckhoff Service Center supports you in all matters of after-sales service: • on-site service • repair service • spare parts service • hotline service Hotline: +49 5246 963-460 e-mail: service@beckhoff.com Beckhoff Headquarters Beckhoff Automation Gmb H & Co. KG Huelshorstweg 20 33415 Verl Germany Phone: +49 5246 963-0 e-mail: info@beckhoff.com web: www.beckhoff.com TF5200 | Twin CAT 3 CNC Version: 1.12 35 Collision avoidance through lift function
## Page 36

Index Index A Axis Lift function active 34 Lift movement actively suppressed 34 L Lift function active Axis 34 P P-CHAN-00244 31 P-CHAN-00345 32 P-STUP-00060 28 P-STUP-00070 29 36 Version: 1.12 TF5200 | Twin CAT 3 CNC Collision avoidance through lift function
## Page 38

More Information: www.beckhoff.com/TF5200 Beckhoff Automation Gmb H & Co. KG Hülshorstweg 20 33415 Verl Germany Phone: +49 5246 9630 info@beckhoff.com www.beckhoff.com
