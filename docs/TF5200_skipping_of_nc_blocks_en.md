---
title: "TF5200_skipping_of_nc_blocks_en"
product: "TF5200"
category: "Motion_Control"
tags: ["NC"]
language: "EN"
document_type: "Manual"
version: "1.04"
source_pdf: "https://download.beckhoff.com/download/Document/automation/twincat3/TF5200_skipping_of_nc_blocks_en.pdf"
release_date: "2025-06-06"
---
Functional description | EN TF5200 | Twin CAT 3 CNC Skipping of NC blocks 6/6/2025 | Version: 1.04
## Page 3

Notes on the documentation Notes on the documentation This description is only intended for the use of trained specialists in control and automation engineering who are familiar with the applicable national standards. It is essential that the documentation and the following notes and explanations are followed when installing and commissioning the components. It is the duty of the technical personnel to use the documentation published at the respective time of each installation and commissioning. The responsible staff must ensure that the application or use of the products described satisfy all the requirements for safety, including all the relevant laws, regulations, guidelines and standards. Disclaimer The documentation has been prepared with care. The products described are, however, constantly under development. We reserve the right to revise and change the documentation at any time and without prior announcement. No claims for the modification of products that have already been supplied may be made on the basis of the data, diagrams and descriptions in this documentation. Trademarks Beckhoff®, Twin CAT®, Twin CAT/BSD®, TC/BSD®, Ether CAT®, Ether CAT G®, Ether CAT G10®, Ether CAT P®, Safety over Ether CAT®, Twin SAFE®, XFC®, XTS® and XPlanar® are registered trademarks of and licensed by Beckhoff Automation Gmb H. Other designations used in this publication may be trademarks whose use by third parties for their own purposes could violate the rights of the owners. Patent Pending The Ether CAT technology is patent protected, in particular by the following applications and patents: EP1590927, EP1789857, EP1456722, EP2137893, DE102015105702 with corresponding applications or registrations in various other countries. Ether CAT® is registered trademark and patented technology, licensed by Beckhoff Automation Gmb H, Germany Copyright © Beckhoff Automation Gmb H & Co. KG, Germany. The reproduction, distribution and utilisation of this document as well as the communication of its contents to others without express authorisation are prohibited. Offenders will be held liable for the payment of damages. All rights reserved in the event of the grant of a patent, utility model or design. TF5200 | Twin CAT 3 CNC Version: 1.04 3 Skipping of NC blocks
## Page 4

General and safety instructions General and safety instructions Icons used and their meanings This documentation uses the following icons next to the safety instruction and the associated text. Please read the (safety) instructions carefully and comply with them at all times. Icons in explanatory text 1. Indicates an action. ð Indicates an action statement. DANGER Acute danger to life! If you fail to comply with the safety instruction next to this icon, there is immediate danger to human life and health. CAUTION Personal injury and damage to machines! If you fail to comply with the safety instruction next to this icon, it may result in personal injury or damage to machines. NOTICE Restriction or error This icon describes restrictions or warns of errors. Tips and other notes This icon indicates information to assist in general understanding or to provide additional informa- tion. General example Example that clarifies the text. NC programming example Programming example (complete NC program or program sequence) of the described function or NC com- mand. Specific version information Optional or restricted function. The availability of this function depends on the configuration and the scope of the version. 4 Version: 1.04 TF5200 | Twin CAT 3 CNC Skipping of NC blocks
## Page 5

Table of contents Table of contents Notes on the documentation.................................................................................................................... 3 General and safety instructions.............................................................................................................. 4 1 Overview.................................................................................................................................................... 8 2 Skip NC blocks.......................................................................................................................................... 9 2.1 Standard skipping............................................................................................................................. 9 2.2 Extended skipping (skip levels)....................................................................................................... 11 2.3 Enable/disable................................................................................................................................. 14 2.3.1 Enabling/disabling via HMI............................................................................................... 14 2.3.2 Enabling/disabling via PLC.............................................................................................. 16 3 Parameter................................................................................................................................................. 17 3.1 CNC objects.................................................................................................................................... 17 3.2 PLC parameters.............................................................................................................................. 17 3.2.1 PLC parameters up to Build V2.11.20xx.......................................................................... 18 4 Support and Service............................................................................................................................... 19 Index......................................................................................................................................................... 20 TF5200 | Twin CAT 3 CNC Version: 5 Skipping of NC blocks
## Page 6

Table of contents 6 Version: TF5200 | Twin CAT 3 CNC Skipping of NC blocks
## Page 7

List of figures List of figures Fig. 1 Enabling/disabling Skip block via HMI or PLC............................................................................. 9 Fig. 2 Enabling/disabling skip levels via HMI or PLC............................................................................. 12 Fig. 3 Enabling a standard skip in the ISG Object Browser................................................................... 14 Fig. 4 Enabling skip levels in the ISG Object Browser........................................................................... 14 TF5200 | Twin CAT 3 CNC Version: 1.04 7 Skipping of NC blocks
## Page 8

Overview 1 Overview Task Specific blocks can be skipped in the NC program. The “Skip block” function defines optional processing steps such as measuring loops, test blocks, dummy steps etc. within an NC program. Properties Skips are taken into account when a NC program is processed and the "Skip block" • was activated on the operating console (HMI objects) before or after main program start or by the PLC (control units). A distinction is made between • Standard Skipping (up to Build V3.01.3021.0) and • Extended Skipping (as of V3.01.3021.1) depending on the version. Programming Skipped NC block are marked by a preceding “/” character with or without indication of the skip levels. Parameterisation The following HMI objects are required to select and control the function. • HMI mc_command_block_ignore_w • HMI mc_command_block_ignore_r • HMI mc_active_block_ignore_r Mandatory note on references to other documents For the sake of clarity, links to other documents and parameters are abbreviated, e.g. [PROG] for the Programming Manual or P-AXIS-00001 for an axis parameter. For technical reasons, these links only function in the Online Help (HTML5, CHM) but not in pdf files since pdfs do not support cross-linking. 8 Version: 1.04 TF5200 | Twin CAT 3 CNC Skipping of NC blocks
## Page 9

Skip NC blocks 2 Skip NC blocks 2.1 Standard skipping Specific NC blocks can be skipped by prefixing them with a "/" character. The controller ignores these blocks if the function "Skip block" is enabled on the operating console (HMI) or by the PLC before main program start. / N3412 X100 … The function defines optional processing steps in an NC program such as measuring loops, test blocks, etc. CNC-Channel TF5200 | Twin CAT 3 CNC Version: 1.04 9 Skipping of NC blocks ILH N01 D6 ; tool radius HMI N10 X0 Y0 Z0 N20 G42 / N30 X100 ... / N40 M304 N90 Z100 decoding PLC tool radius compensation path preparation interpolation piks tseuqer BOOL BOOL skip command Fig. 1: Enabling/disabling Skip block via HMI or PLC
## Page 10

Skip NC blocks The enable/disable status of the “Skip block” function is adopted at program start and remains ef- fective until program end. In builds up to V3.01.3021.01, the enable/disable status is switched by a BOOL command.. In later builds, enable/disable is switched by a 32-bit command. Extended skip levels are also available (Ex- tended skipping [} 11]) and their effectiveness can be changed while an NC program is active. 10 Version: 1.04 TF5200 | Twin CAT 3 CNC Skipping of NC blocks
## Page 11

Skip NC blocks 2.2 Extended skipping (skip levels) This function is available as from CNC Build V3.01.3021.1 and higher. NOTICE Changing the interface to HMI and PLC The BOOL interface data type was changed to 32 bits (UNS32) for the skip levels. You can now use different skip levels in the NC program using this extension. These skip levels can be set either on the operating console (HMI) or in the PLC before main program start. In the Extended Skipping function, changes in skipping settings take effect immediately while the NC program is active. Defined break points can be implemented, e.g. by M functions followed by #FLUSH WAIT, to ensure that these skipping setting changes are safely accepted and become effective in the NC program. The syntax programming is a slash "/" followed by a number to define the skip. The maximum number of skip levels is 10. This cannot be parameterised. Syntax Skip level Hex value at interface Decimal value at interface /1 One 0x001 1 /2 Two 0x002 2 /3 Three 0x004 4 /4 Four 0x008 8 /5 Five 0x010 16 /6 Six 0x020 32 /7 Seven 0x040 64 /8 Eight 0x080 128 /9 Nine 0x100 256 /10 Ten 0x200 512 Example: /5 N100 G00 X150 ;Block is skipped when skip level 5 (0x010) is set. Skip levels which are active simultaneously are enabled by bitwise ORing. Example: Enable all skip levels by setting 0x3FF. TF5200 | Twin CAT 3 CNC Version: 1.04 11 Skipping of NC blocks
## Page 12

Skip NC blocks Fig. 2: Enabling/disabling skip levels via HMI or PLC 12 Version: 1.04 TF5200 | Twin CAT 3 CNC Skipping of NC blocks
## Page 13

Skip NC blocks Using skip levels %skip_levels N0 G0 X0 Y0 Z0 /1 N10 X1 /2 N20 Y2 /2 N25 Y2.5 /3 N30 Z3 /4 N40 X-1 /4 N45 X-1.5 / N47 X-1.8 ;Standard skipping /10 N50 Y-2 /100 N60 Z-30 ;Error 21655 N999 M30 The valid range of skip level values is from 1 to 10. A value programmed outside this range generates error ID 21655. For reasons of compatibility, skip levels ‘/’ and ‘/1’ are each addressed by the same bit 0x001 of the HMI/PLC control bit mask. However, the effect of the standard skip level ‘/’ can only be defined before main program start and remains constant until program end. In this case, changes to skip levels while the NC program is active only influence programmed ‘/1’ levels, if any. We recommend not to use ‘/’ and ‘/1’ in the same NC program for reasons of clarity. TF5200 | Twin CAT 3 CNC Version: 1.04 13 Skipping of NC blocks
## Page 14

Skip NC blocks 2.3 Enable/disable 2.3.1 Enabling/disabling via HMI The "Skip block" function can be enabled and disabled with the CNC object object mc_command_block_ignore_w [} 17]. The state can be checked using the CNC objects • mc_command_block_ignore_r [} 17] • mc_active_block_ignore_r [} 17] . CNC Builds < V3.01.3021.1 Fig. 3: Enabling a standard skip in the ISG Object Browser Value range of mc_command_block_ignore_w: TRUE/FALSE CNC Builds >= V3.01.3021.1 Fig. 4: Enabling skip levels in the ISG Object Browser mc_command_block_ignore_w is a bit mask in which the 10 lower bits are used to enable or disable skip levels. Any higher bits that are assigned have no effect and are ignored. 14 Version: 1.04 TF5200 | Twin CAT 3 CNC Skipping of NC blocks
## Page 15

Skip NC blocks Setting mc_command_block_ignore_w in the ISG object browser In the following example, lines N050, N060 and N080 are to be skipped. Since skip levels /2, /3 and /5 were assigned to these lines in this example, the data item mc_command_block_ignore_w must be assigned 0x16 in the ISG Object Browser. %skippingtest3.nc N010 G00 X0 Y0 F500 N020 G1 X50 N030 F1000 /1 N040 G1 X80 Y10 /2 N050 G1 X100 Y20 ;skipped /3 N060 G1 X120 Y30 ;skipped /4 N070 G1 X140 Y40 /5 N080 G1 X160 Y50 ;skipped /6 N090 G1 X180 Y60 /7 N100 G1 X160 Y70 /8 N110 G1 X140 Y80 /9 N120 G1 X100 Y90 /10 N130 G1 X40 Y100 N140 G1 X0 F2000 N150 G1 Y0 N160 M30 TF5200 | Twin CAT 3 CNC Version: 1.04 15 Skipping of NC blocks
## Page 16

Skip NC blocks 2.3.2 Enabling/disabling via PLC The control unit [} 17] program_block_ignore in the PLC can be commanded to enable or disable the skip block function. In CNC Build < V3.01.3021.1 this is a control unit of type MC_CONTROL_BOOL_UNIT. It can only control standard skipping. Enabling uses the following data item: for CNC Builds > V2.11.2800 p MC[channel_idx]^.addr^. MCControl Decoder_Data. MCControl Bool Unit_Program Block Ignore for CNC Builds > V2.11.2800 gp Ch[n Chan Idx]^.decoder_mc_control.program_block_ignore.command_w The expanded function for several skip levels is available as of Build V3.01.3021.1. The program_block_ignore control block is of type MC_CONTROL_UNS32_UNIT. Enabling uses the following data item: gp Ch[n Chan Idx]^.decoder_mc_control.program_block_ignore.command_w The data item is a bit mask in which the 10 lower bits are used to enable or disable skip levels. 16 Version: 1.04 TF5200 | Twin CAT 3 CNC Skipping of NC blocks
## Page 17

Parameter 3 Parameter 3.1 CNC objects Name mc_active_block_ignore_r Description This object reads whether skip mode is active. As of Build V3.01.3021.1 a UNS32 data element is read. Task COM (Port 553) Index group 0x120101 Index offset 0x6 Data type UNS32 Length/byte 4 Attributes read Unit - Remarks Up to Build V3.01.3021.1 this object reads whether skip mode is active. It is a BOOL data element. Name mc_command_block_ignore_r Description This object reads the bitmask for the skip level. Task COM (Port 553) Index group 0x120101 Index offset 0x5 Data type UNS32 Length/byte 4 Attributes read Unit - Remarks Name mc_command_block_ignore_w Description This object defines the bitmask for the skip level. Task COM (Port 553) Index group 0x120101 Index offset 0x4 Data type UNS32 Length/byte 4 Attributes write Unit - Remarks 3.2 PLC parameters Skip mode, NC block Description Activates/deactivates skip mode at interpreter level for the NC program. The status of skip mode is only evaluated at the start of the NC program. Switchover during execution of an NC program has no effect. Data type MC_CONTROL_BOOL_UNIT, see description of Control unit Available as of CNC Build V3.01.3021.1 MC_CONTROL_UNS32_UNIT Access PLC reads request_r + state_r and writes command_w + enable_w ST path gp Ch[channel_idx]^.decoder_mc_control.program_block_ignore Commanded, requested and return values ST element .command_w .request_r .state_r Data type BOOL or UNS32 Value range [TRUE = skip mode NC block ON, FALSE = skip mode NC block OFF, default: FALSE] Available as of CNC Build V3.01.3021.1 for UNS32: 0x0 - Skip mode NC block OFF TF5200 | Twin CAT 3 CNC Version: 1.04 17 Skipping of NC blocks
## Page 18

Parameter 0x1 – Skip level 1 0x2 - Skip level 2 0x4 - Skip level 3 0x8 - Skip level 4 0x10 – Skip level 5 0x20 - Skip level 6 0x40 - Skip level 7 0x80 - Skip level 8 0x100 – Skip level 9 0x200 - Skip level 10 Skip levels active simultaneously are enabled by bitwise ORing. Example: Enable all skip levels by setting 0x3FF. Redirection ST element .enable_w 3.2.1 PLC parameters up to Build V2.11.20xx Skip mode, NC block Description Activates/deactivates skip mode at interpreter level for the NC program. The status of skip mode is only evaluated at the start of the NC program. Switchover during execution of an NC program has no effect. Data type MCControl Bool Unit, see description of Control Unit Access PLC reads Request + State and writes Command + Enable ST Path p MC[channel_idx]^.addr^. MCControl Decoder_Data. MCControl Bool Unit_Program Block Ign ore Commanded, requested and return values ST element . X_Command . X_Request . X_State Data type BOOL Value range [TRUE = Skip mode NC block ON, FALSE = Skip mode NC block OFF, FALSE] Redirection ST element . X_Enable 18 Version: 1.04 TF5200 | Twin CAT 3 CNC Skipping of NC blocks
## Page 19

Support and Service 4 Support and Service Beckhoff and their partners around the world offer comprehensive support and service, making available fast and competent assistance with all questions related to Beckhoff products and system solutions. Download finder Our download finder contains all the files that we offer you for downloading. You will find application reports, technical documentation, technical drawings, configuration files and much more. The downloads are available in various formats. Beckhoff's branch offices and representatives Please contact your Beckhoff branch office or representative for local support and service on Beckhoff products! The addresses of Beckhoff's branch offices and representatives round the world can be found on our internet page: www.beckhoff.com You will also find further documentation for Beckhoff components there. Beckhoff Support Support offers you comprehensive technical assistance, helping you not only with the application of individual Beckhoff products, but also with other, wide-ranging services: • support • design, programming and commissioning of complex automation systems • and extensive training program for Beckhoff system components Hotline: +49 5246 963-157 e-mail: support@beckhoff.com Beckhoff Service The Beckhoff Service Center supports you in all matters of after-sales service: • on-site service • repair service • spare parts service • hotline service Hotline: +49 5246 963-460 e-mail: service@beckhoff.com Beckhoff Headquarters Beckhoff Automation Gmb H & Co. KG Huelshorstweg 20 33415 Verl Germany Phone: +49 5246 963-0 e-mail: info@beckhoff.com web: www.beckhoff.com TF5200 | Twin CAT 3 CNC Version: 1.04 19 Skipping of NC blocks
## Page 20

Index Index N NC block skip mode 17, 18 S skip mode NC block 17, 18 20 Version: 1.04 TF5200 | Twin CAT 3 CNC Skipping of NC blocks
## Page 22

More Information: www.beckhoff.com/TF5200 Beckhoff Automation Gmb H & Co. KG Hülshorstweg 20 33415 Verl Germany Phone: +49 5246 9630 info@beckhoff.com www.beckhoff.com
