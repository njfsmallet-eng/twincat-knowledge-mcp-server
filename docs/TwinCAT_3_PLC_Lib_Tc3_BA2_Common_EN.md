---
title: "TwinCAT_3_PLC_Lib_Tc3_BA2_Common_EN"
product: "TwinCAT"
category: "PLC"
tags: ["CAT", "COMMON", "LIB", "PLC", "TWIN"]
language: "EN"
document_type: "Library"
version: "1.0.2"
source_pdf: "https://download.beckhoff.com/download/Document/automation/twincat3/TwinCAT_3_PLC_Lib_Tc3_BA2_Common_EN.pdf"
release_date: "2024-08-29"
---
Manual | EN TE1000 Twin CAT 3 | PLC Library: Tc3_BA2_Common 2024-08-29 | Version: 1.0.2
## Page 3

Foreword 1 Foreword 1.1 Notes on the documentation This description is intended exclusively for trained specialists in control and automation technology who are familiar with the applicable national standards. For installation and commissioning of the components, it is absolutely necessary to observe the documentation and the following notes and explanations. The qualified personnel is obliged to always use the currently valid documentation. The responsible staff must ensure that the application or use of the products described satisfies all requirements for safety, including all the relevant laws, regulations, guidelines, and standards. Disclaimer The documentation has been prepared with care. The products described are, however, constantly under development. We reserve the right to revise and change the documentation at any time and without notice. No claims to modify products that have already been supplied may be made on the basis of the data, diagrams, and descriptions in this documentation. Trademarks Beckhoff®, Twin CAT®, Twin CAT/BSD®, TC/BSD®, Ether CAT®, Ether CAT G®, Ether CAT G10®, Ether CAT P®, Safety over Ether CAT®, Twin SAFE®, XFC®, XTS® and XPlanar® are registered and licensed trademarks of Beckhoff Automation Gmb H. If third parties make use of designations or trademarks used in this publication for their own purposes, this could infringe upon the rights of the owners of the said designations. Patents The Ether CAT Technology is covered, including but not limited to the following patent applications and patents: EP1590927, EP1789857, EP1456722, EP2137893, DE102015105702 and similar applications and registrations in several other countries. Ether CAT® is registered trademark and patented technology, licensed by Beckhoff Automation Gmb H, Germany Copyright © Beckhoff Automation Gmb H & Co. KG, Germany. The distribution and reproduction of this document as well as the use and communication of its contents without express authorization are prohibited. Offenders will be held liable for the payment of damages. All rights reserved in the event that a patent, utility model, or design are registered. 1.2 For your safety Safety regulations Read the following explanations for your safety. Always observe and follow product-specific safety instructions, which you may find at the appropriate places in this document. TE1000 Version: 1.0.2 3
## Page 4

Foreword Exclusion of liability All the components are supplied in particular hardware and software configurations which are appropriate for the application. Modifications to hardware or software configurations other than those described in the documentation are not permitted, and nullify the liability of Beckhoff Automation Gmb H & Co. KG. Personnel qualification This description is only intended for trained specialists in control, automation, and drive technology who are familiar with the applicable national standards. Signal words The signal words used in the documentation are classified below. In order to prevent injury and damage to persons and property, read and follow the safety and warning notices. Personal injury warnings DANGER Hazard with high risk of death or serious injury. WARNING Hazard with medium risk of death or serious injury. CAUTION There is a low-risk hazard that could result in medium or minor injury. Warning of damage to property or environment NOTICE The environment, equipment, or data may be damaged. Information on handling the product This information includes, for example: recommendations for action, assistance or further information on the product. 4 Version: 1.0.2 TE1000
## Page 5

Foreword 1.3 Notes on information security The products of Beckhoff Automation Gmb H & Co. KG (Beckhoff), insofar as they can be accessed online, are equipped with security functions that support the secure operation of plants, systems, machines and networks. Despite the security functions, the creation, implementation and constant updating of a holistic security concept for the operation are necessary to protect the respective plant, system, machine and networks against cyber threats. The products sold by Beckhoff are only part of the overall security concept. The customer is responsible for preventing unauthorized access by third parties to its equipment, systems, machines and networks. The latter should be connected to the corporate network or the Internet only if appropriate protective measures have been set up. In addition, the recommendations from Beckhoff regarding appropriate protective measures should be observed. Further information regarding information security and industrial security can be found in our https://www.beckhoff.com/secguide. Beckhoff products and solutions undergo continuous further development. This also applies to security functions. In light of this continuous further development, Beckhoff expressly recommends that the products are kept up to date at all times and that updates are installed for the products once they have been made available. Using outdated or unsupported product versions can increase the risk of cyber threats. To stay informed about information security for Beckhoff products, subscribe to the RSS feed at https:// www.beckhoff.com/secinfo. TE1000 Version: 1.0.2 5
## Page 6

Introduction 2 Introduction The Twin CAT 3 Building Automation library (Tc3_BA2_Common) contains function blocks that are required for working with the Twin CAT Functions TF8020 as well as TF8040. 6 Version: 1.0.2 TE1000
## Page 7

General Information 3 General Information Further libraries required For PC systems and Embedded PCs (CXxxxx): • Tc2_Io Functions • Tc2_Standard • Tc2_System • Tc2_Utilities • Tc2_Data Exchange TE1000 Version: 1.0.2 7
## Page 8

Programming 4 Programming 4.1 DUTs 4.1.1 Enumerations 4.1.1.1 [Functional] 4.1.1.1.1 E_BA_Compare Mode The enumeration type variable is used to display and classify comparison results. Syntax TYPE E_BA_Compare Mode : ( Invalid := 0, e Lower := 1, e Lower Or Equal := 2, e Equal := 3, e Not Equal := 4, e Higher Or Equal := 5, e Higher := 6 ) BYTE; END_TYPE Name Description Invalid No significance for the user. e Lower The comparison value is smaller. e Lower Or Equal The comparison value is less than or equal to. e Equal The comparison value is the same. e Not Equal The comparison value is not the same. e Higher Or Equal The comparison value is greater than or equal to. e Higher The comparison value is larger. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.1.1.2 Controller 4.1.1.2.1 E_BA_PIDMode Selection of the controller structure. Syntax TYPE E_BA_PIDMode: ( Invalid := 0, e P1ID := 1, e PID := 2 )BYTE; END_TYPE Name Description Invalid No significance for the user. 8 Version: 1.0.2 TE1000
## Page 9

Programming Name Description e P1ID P element is upstream. e PID P-, I- and D-element in parallel structure. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.1.1.3 Conversion 4.1.1.3.1 E_BA_Byte Mapping Mode TYPE E_BA_Byte Mapping Mode : ( Invalid := 0, e Index1N := 1, e Binary1N := 2, e Index Up Down := 3, e Binary Up Down := 4, e Binary Decimal := 5, ) BYTE; END_TYPE Name Description Invalid No significance for the user. e Index1N Sets the indexed bit to TRUE. Sample: 2#0000_0001 | 1 2#0000_0010 | 2 2#0000_0100 | 3 2#0000_1000 | 4 e Binary1N Sets only the first bit of a binary mapped decimal value to TRUE. Sample: 2#0000_0001 | 1 2#0000_0010 | 2, 3 2#0000_0100 | 4, 5, 6 2#0000_1000 | 8, 9, 10, 11, 12, 13, 14, 15 e Index Up Down Sets a specific number of bits to TRUE. Sample: 2#0000_0001 | 1 2#0000_0011 | 2 2#0000_0111 | 3 2#0000_1111 | 4 e Binary Up Down Sets all bits of a binary mapped decimal value to TRUE. Sample: 2#0000_0001 | 1 2#0000_0011 | 2, 3 2#0000_0111 | 4, 5, 6 2#0000_1111 | 8, 9, 10, 11, 12, 13, 14, 15 e Binary Decimal Binary mapped decimal value. Sample: 2#0000_0001 | 1 TE1000 Version: 1.0.2 9
## Page 10

Programming Name Description 2#0000_0010 | 2 2#0000_0011 | 3 2#0000_0100 | 4 2#0000_0101 | 5 2#1111_1111 | 255 Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.1.1.4 Event 4.1.1.4.1 E_BA_Event State The enumeration is used to display and classify events. Syntax TYPE E_BA_Event State: ( Invalid := 0, Unknown := 1, e Normal := 2, e Fault := 3, e Off Normal := 4, e Low Limit := 5; e High Limit := 6 )BYTE; END_TYPE Name Description Invalid No significance for the user e Unknown State unknown e Normal Normal operation e Fault Invalid value e Offnormal Alarm state e Low Limit Lower limit value undershot e High Limit Upper limit value exceeded Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.1.1.4.2 E_BA_Event Transition Describes the possible transition states of event objects. Syntax TYPE E_BA_Event Transition: ( Invalid := 0, e To Offnormal := 1, e To Fault := 2, 10 Version: 1.0.2 TE1000
## Page 11

Programming e To Normal := 3 ); END_TYPE Name Description Invalid No significance for the user. e To Offnormal Transition to Alarm state. e To Fault Transition to Error state. e To Normal Transition to Normal state. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.1.1.5 Types 4.1.1.5.1 Date and Time 4.1.1.5.1.1 E_BA_Date Val Choice The enumeration is used to select time periods in schedules. Syntax TYPE E_BA_Date Val Choice: ( Invalid := 0, e Date := 1, e Date Range := 2, e Week Day := 3 )BYTE; END_TYPE Name Description Invalid No significance for the user. e Date Selection of a single date. e Date Range Selection of a date range. e Week NDay Selection of a day of the week. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.1.1.5.1.2 E_BA_Day The enumeration is used to specify days within a month. Syntax TYPE E_BA_Day: ( Invalid := 0, Unspecified := 16#FF, e Day01 := 1, e Day02 := 2, e Day03 := 3, e Day04 := 4, e Day05 := 5, e Day06 := 6, e Day07 := 7, TE1000 Version: 1.0.2 11
## Page 12

Programming e Day08 := 8, e Day09 := 9, e Day10 := 11, e Day11 := 11, e Day12 := 12, e Day13 := 13, e Day14 := 14, e Day15 := 15, e Day16 := 16, e Day17 := 17, e Day18 := 18, e Day19 := 19, e Day20 := 20, e Day21 := 21, e Day22 := 22, e Day23 := 23, e Day24 := 24, e Day25 := 25, e Day26 := 26, e Day27 := 27, e Day28 := 28, e Day29 := 29, e Day30 := 30, e Day31 := 31, e Last Day Of Month := 32, e Odd Days Of Month := 33, e Even Days Of Month := 34 )BYTE; END_TYPE Name Description Invalid No significance for the user. Unspecified Not specified. e Day NN Day no. NN (1…31) of the month is specified. e Last Day Of Month The last day of the month is specified. e Odd Days Of Month The odd days of the month are specified. e Even Days Of Month The even days of the month are specified. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.1.1.5.1.3 E_BA_Month The enumeration is used to specify months. Syntax TYPE E_BA_Month: ( Invalid := 0, Unspecified := 16#FF, e January := 1, e February := 2, e March := 3, e April := 4, e May := 5, e June := 6, e July := 7, e August := 8, e September := 9, e October := 10, e November := 11, e December := 12, e Odd Months := 13, e Even Months := 14 )BYTE; END_TYPE 12 Version: 1.0.2 TE1000
## Page 13

Programming Name Description Invalid No significance for the user. Unspecified Not specified. e January January is specified. e February February is specified. e March March is specified. e April April is specified. e May May is specified. e June June is specified. e July July is specified. e August August is specified. e September September is specified. e October October is specified. e November November is specified. e December December is specified. e Odd Months The months with odd ordinal number are specified. e Even Months The months with even ordinal number are specified. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.1.1.5.1.4 E_BA_Week The enumeration is used to specify weeks within a month. Syntax TYPE E_BA_Week: ( Invalid := 0, Unspecified := 16#FF, e Week1 := 1, e Week2 := 2, e Week3 := 3, e Week4 := 4, e Week5 := 5 )BYTE; END_TYPE Name Description Invalid No significance for the user. Unspecified Not specified. e Week1 The first week within the month is specified. e Week2 The second week within the month is specified. e Week3 The third week within the month is specified. e Week4 The fourth week within the month is specified. e Week5 The fifth week within the month is specified. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 TE1000 Version: 1.0.2 13
## Page 14

Programming 4.1.1.5.1.5 E_BA_Weekday The enumeration is used to specify days of the week. Syntax TYPE E_BA_Weekday: ( Invalid := 0, Unspecified := 16#FF, e Monday := 1, e Tuesday := 2, e Wednesday := 3, e Thursday := 4, e Friday := 5, e Saturday := 6, e Sunday := 7 )BYTE; END_TYPE Name Description Invalid No significance for the user. Unspecified Not specified. e Monday Monday is specified. e Tuesday Tuesday is specified. e Wednesday Wednesday is specified. e Thursday Thursday is specified. e Friday Friday is specified. e Saturday Saturday is specified. e Sunday Sunday is specified. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.1.1.5.2 E_BA_Data Class The enumeration is used to specify values. Syntax TYPE E_BA_Data Class: ( Invalid := 0, Unknown := 1, Null := 2, e Analog := 10, e Binary := 11, e Multistate := 12 )BYTE; END_TYPE Name Description Invalid No significance for the user. Unknown Unknown. Zero Not specified / not set. e Analog Analog object. e Binary Binary object. e Multistate Multistate object. 14 Version: 1.0.2 TE1000
## Page 15

Programming Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.1.1.5.3 E_BA_Data Type The enumeration is used to specify PLC data types. Syntax TYPE E_BA_Data Type : ( Invalid := 0, Undefined := 1, e Bool := 10, e Bit := 11, e Byte := 12, e Word := 13, e DWord := 14, e LWord := 15, e SInt := 16, e Int := 17, e DInt := 18, e LInt := 19, e USInt := 20, e UInt := 21, e UDInt := 22, e ULInt := 23, e Real := 24, e LReal := 25, e String := 26, e WString := 27, e Time := 28, e Date := 29, e Date Time := 30, e Time Of Day := 31, e Enumeration := 32, e Structure := 33, e Interface := 34, ) BYTE; END_TYPE Name Description Invalid No significance for the user. Undefined Not specified / not set. e Bool Variable of the data type BOOL. e Bit Variable of the data type BIT. e Byte Variable of the data type BYTE. e Word Variable of the data type WORD. e DWord Variable of the data type DWORD. e LWord Variable of the data type LWORD. e SInt Variable of the data type SINT. e Int Variable of the data type INT. e DInt Variable of the data type DINT. e LInt Variable of the data type LINT. e USInt Variable of the data type USINT. e UInt Variable of the data type UINT. e UDInt Variable of the data type UDINT. e ULInt Variable of the data type ULINT. e Real Variable of the data type REAL. e LReal Variable of the data type LREAL. TE1000 Version: 1.0.2 15
## Page 16

Programming Name Description e String Variable of the data type STRING. e WString Variable of the data type WSTRING. e Time Variable of the data type TIME e Date Variable of the data type DATE e Date Time Variable of the data type DATE_AND_TIME or DT. e Time Of Day Variable of the data type TIME_OF_DAY or TOD. e Enumeration Variable of the data type ENUMERATION. e Structure Variable of the data type STRUCT. e Interface INTERFACE data type. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.1.1.5.4 Schedule 4.1.1.5.4.1 E_BA_Sched Entry State The enumeration is used to specify entries in schedules. Syntax TYPE E_BA_Sched Entry State: ( Invalid := 0, e Undefined := 1, e Value := 2, e Null := 3 )BYTE; END_TYPE Name Description Invalid No significance for the user. e Undefined Not specified. e Value A value is set. e Null Not specified / not set. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.1.1.5.5 Trend 4.1.1.5.5.1 E_BA_Logging Type The enumeration is used to classify the storage of trend data. Syntax TYPE E_BA_Logging Type: ( Invalid := -1, e Polled := 0, e COV := 1, 16 Version: 1.0.2 TE1000
## Page 17

Programming e Triggered := 2 )BYTE; END_TYPE Name Description Invalid No significance for the user. e Polled Data is retrieved and stored cyclically. e COV Data is saved when changed (plus hysteresis). e Triggered Data is stored after the call. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.1.1.5.5.2 E_BA_Trend Entry Type The enumeration specifies the type of the trend entry. It is the extension of E_BA_Data Class [} 14]. Syntax TYPE E_BA_Trend Entry Type: ( Invalid := E_BA_Data Class. Invalid, e Binary := E_BA_Data Class.e Binary, e Analog := E_BA_Data Class.e Analog, e Multistate := E_BA_Data Class.e Multistate, e Event := 20 )BYTE; END_TYPE Name Description Invalid No significance for the user. e Binary Entry with a binary value. e Analog Entry with an analog value. e Multistate Entry with a multistate value. e Event Event entry. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.1.1.6 Units 4.1.1.6.1 E_BA_Unit The enumeration is used to specify units. Syntax TYPE E_BA_Unit: ( Invalid := -1, e Area_Square Meters := 0, e Area_Square Feet := 1, e Electrical_Milliamperes := 2, e Electrical_Amperes := 3, e Electrical_Ohms := 4, e Electrical_Volts := 5, TE1000 Version: 1.0.2 17
## Page 18

Programming e Electrical_Kilovolts := 6, e Electrical_Megavolts := 7, e Electrical_Volt Amperes := 8, e Electrical_Kilovolt Amperes := 9, e Electrical_Megavolt Amperes := 10, e Electrical_Volt Amperes Reactive := 11, e Electrical_Kilovolt Amperes Reactive := 12, e Electrical_Megavolt Amperes Reactive := 13, e Electrical_Degrees Phase := 14, e Electrical_Power Factor := 15, e Energy_Joules := 16, e Energy_Kilojoules := 17, e Energy_Watt Hours := 18, e Energy_Kilowatt Hours := 19, e Energy_Btus := 20, e Energy_Therms := 21, e Energy_Ton Hours := 22, e Enthalpy_Joules Per Kilogram Dry Air := 23, e Enthalpy_Btus Per Pound Dry Air := 24, e Frequency_Cycles Per Hour := 25, e Frequency_Cycles Per Minute := 26, e Frequency_Hertz := 27, e Humidity_Grams Of Water Per Kilogram Dry Air := 28, e Humidity_Percent Relative Humidity := 29, e Length_Millimeters := 30, e Length_Meters := 31, e Length_Inches := 32, e Length_Feet := 33, e Light_Watts Per Square Foot := 34, e Light_Watts Per Square Meter := 35, e Light_Lumens := 36, e Light_Luxes := 37, e Light_Foot Candles := 38, e Mass_Kilograms := 39, e Mass_Pounds Mass := 40, e Mass_Tons := 41, e Mass Flow_Kilograms Per Second := 42, e Mass Flow_Kilograms Per Minute := 43, e Mass Flow_Kilograms Per Hour := 44, e Mass Flow_Pounds Mass Per Minute := 45, e Mass Flow_Pounds Mass Per Hour := 46, e Power_Watts := 47, e Power_Kilowatts := 48, e Power_Megawatts := 49, e Power_Btus Per Hour := 50, e Power_Horsepower := 51, e Power_Tons Refrigeration := 52, e Pressure_Pascals := 53, e Pressure_Kilopascals := 54, e Pressure_Bars := 55, e Pressure_Pounds Force Per Square Inch := 56, e Pressure_Centimeters Of Water := 57, e Pressure_Inches Of Water := 58, e Pressure_Millimeters Of Mercury := 59, e Pressure_Centimeters Of Mercury := 60, e Pressure_Inches Of Mercury := 61, e Temperature_Degrees Celsius := 62, e Temperature_Degrees Kelvin := 63, e Temperature_Degrees Fahrenheit := 64, e Temperature_Degree Days Celsius := 65, e Temperature_Degree Days Fahrenheit := 66, e Time_Years := 67, e Time_Months := 68, e Time_Weeks := 69, e Time_Days := 70, e Time_Hours := 71, e Time_Minutes := 72, e Time_Seconds := 73, e Velocity_Meters Per Second := 74, e Velocity_Kilometers Per Hour := 75, e Velocity_Feet Per Second := 76, e Velocity_Feet Per Minute := 77, e Velocity_Miles Per Hour := 78, e Volume_Cubic Feet := 79, e Volume_Cubic Meters := 80, e Volume_Imperial Gallons := 81, e Volume_Liters := 82, e Volume_Us Gallons := 83, e Volumetric Flow_Cubic Feet Per Minute := 84, e Volumetric Flow_Cubic Meters Per Second := 85, 18 Version: 1.0.2 TE1000
## Page 19

Programming e Volumetric Flow_Imperial Gallons Per Minute := 86, e Volumetric Flow_Liters Per Second := 87, e Volumetric Flow_Liters Per Minute := 88, e Volumetric Flow_Us Gallons Per Minute := 89, e Other_Degrees Angular := 90, e Other_Degrees Celsius Per Hour := 91, e Other_Degrees Celsius Per Minute := 92, e Other_Degrees Fahrenheit Per Hour := 93, e Other_Degrees Fahrenheit Per Minute := 94, e Other_No Units := 95, e Other_Parts Per Million := 96, e Other_Parts Per Billion := 97, e Other_Percent := 98, e Other_Percent Per Second := 99, e Other_Per Minute := 100, e Other_Per Second := 101, e Other_Psi Per Degree Fahrenheit := 102, e Other_Radians := 103, e Other_Revolutions Per Minute := 104, e Currency_Currency1 := 105, e Currency_Currency2 := 106, e Currency_Currency3 := 107, e Currency_Currency4 := 108, e Currency_Currency5 := 109, e Currency_Currency6 := 110, e Currency_Currency7 := 111, e Currency_Currency8 := 112, e Currency_Currency9 := 113, e Currency_Currency10 := 114, e Area_Square Inches := 115, e Area_Square Centimeters := 116, e Enthalpy_Btus Per Pound := 117, e Length_Centimeters := 118, e Mass Flow_Pounds Mass Per Second := 119, e Temperature_Delta Degrees Fahrenheit := 120, e Temperature_Delta Degrees Kelvin := 121, e Electrical_Kilohms := 122, e Electrical_Megohms := 123, e Electrical_Millivolts := 124, e Energy_Kilojoules Per Kilogram := 125, e Energy_Megajoules := 126, e Entropy_Joules Per Degree Kelvin := 127, e Entropy_Joules Per Kilogram Degree Kelvin := 128, e Frequency_Kilohertz := 129, e Frequency_Megahertz := 130, e Frequency_Per Hour := 131, e Power_Milliwatts := 132, e Pressure_Hectopascals := 133, e Pressure_Millibars := 134, e Volumetric Flow_Cubic Meters Per Hour := 135, e Volumetric Flow_Liters Per Hour := 136, e Other_Kilowatt Hours Per Square Meter := 137, e Other_Kilowatt Hours Per Square Foot := 138, e Other_Megajoules Per Square Meter := 139, e Other_Megajoules Per Square Foot := 140, e Other_Watts Per Square Meter Degree Kelvin := 141, e Volumetric Flow_Cubic Feet Per Second := 142, e Other_Percent Obscuration Per Foot := 143, e Other_Percent Obscuration Per Meter := 144, e Electrical_Milliohms := 145, e Energy_Megawatt Hours := 146, e Energy_Kilo Btus := 147, e Energy_Mega Btus := 148, e Enthalpy_Kilojoules Per Kilogram Dry Air := 149, e Enthalpy_Megajoules Per Kilogram Dry Air := 150, e Entropy_Kilojoules Per Degree Kelvin := 151, e Entropy_Megajoules Per Degree Kelvin := 152, e Force_Newton := 153, e Mass Flow_Grams Per Second := 154, e Mass Flow_Grams Per Minute := 155, e Mass Flow_Tons Per Hour := 156, e Power_Kilo Btus Per Hour := 157, e Time_Hundredths Seconds := 158, e Time_Milliseconds := 159, e Torque_Newton Meters := 160, e Velocity_Millimeters Per Second := 161, e Velocity_Millimeters Per Minute := 162, e Velocity_Meters Per Minute := 163, e Velocity_Meters Per Hour := 164, e Volumetric Flow_Cubic Meters Per Minute := 165, TE1000 Version: 1.0.2 19
## Page 20

Programming e Acceleration_Meters Per Second Per Second := 166, e Electrical_Amperes Per Meter := 167, e Electrical_Amperes Per Square Meter := 168, e Electrical_Ampere Square Meters := 169, e Electrical_Farads := 170, e Electrical_Henrys := 171, e Electrical_Ohm Meters := 172, e Electrical_Siemens := 173, e Electrical_Siemens Per Meter := 174, e Electrical_Teslas := 175, e Electrical_Volts Per Degree Kelvin := 176, e Electrical_Volts Per Meter := 177, e Electrical_Webers := 178, e Light_Candelas := 179, e Light_Candelas Per Square Meter := 180, e Temperature_Degrees Kelvin Per Hour := 181, e Temperature_Degrees Kelvin Per Minute := 182, e Other_Joule Seconds := 183, e Other_Radians Per Second := 184, e Other_Square Meters Per Newton := 185, e Other_Kilograms Per Cubic Meter := 186, e Other_Newton Seconds := 187, e Other_Newtons Per Meter := 188, e Other_Watts Per Meter Per Degree Kelvin := 189, e Micro_Siemens := 190, e Cubic_Feet Per Hour := 191, e Us_Gallons Per Hour := 192, e Kilometers := 193, e Micrometers := 194, e Grams := 195, e Milligrams := 196, e Milliliters := 197, e Milliliters Per Second := 198, e Decibels := 199, e Decibels Millivolt := 200, e Decibels Volt := 201, e Millisiemens := 202, e Watt_Hours Reactive := 203, e Kilowatt Hours Reactive := 204, e Megawatt Hours Reactive := 205, e Millimeters Of Water := 206, e Per_Mille := 207, e Grams_Per Gram := 208, e Kilograms_Per Kilogram := 209, e Grams_Per Kilogram := 210, e Milligrams_Pe Gram := 211, e Milligrams_Pe Kilogram := 212, e Grams_Per Milliliter := 213, e Grams_Per Liter := 214, e Milligrams_Per Liter := 215, e Micrograms_Per Liter := 216, e Grams_Per Cubic Meter := 217, e Milligrams_Per Cubic Meter := 218, e Micrograms_Per Cubic Meter := 219, e Nanograms_Per Cubic Meter := 220, e Grams_Per Cubic Centimeter := 221, e Becquerels := 222, e Kilobecquerels := 223, e Megabecquerels := 224, e Gray := 225, e Milligray := 226, e Microgray := 227, e Sieverts := 228, e Millisieverts := 229, e Microsieverts := 230, e Microsieverts Per Hour := 231, e Decibels_A := 232, e Nephelometric_Turbidity Unit := 233, e PH := 234, e Grams_Per Square Meter := 235, e Minutes_Per Degree Kelvin := 236 )INT; End_TYPE Name Description Invalid No significance for the user. e Area_Square Meters Square meters e Area_Square Feet Square feet 20 Version: 1.0.2 TE1000
## Page 21

Programming Name Description e Electrical_Milliamperes Milliamperes e Electrical_Amperes Amperes e Electrical_Ohms Ohms e Electrical_Volts Volts e Electrical_Kilovolts Kilovolts e Electrical_Megavolts Megavolts e Electrical_Volt Amperes Volt-amperes e Electrical_Kilovolt Amper Kilovolt-amperes es e Electrical_Megavolt Amp Megavolt-amperes eres e Electrical_Volt Amperes R Volt-amperes reactive eactive e Electrical_Kilovolt Amper Kilovolt-amperes reactive es Reactive e Electrical_Megavolt Amp Megavolt-amperes reactive eres Reactive e Electrical_Degrees Phas Phase position in degrees e e Electrical_Power Factor Power factor cos φ e Energy_Joules Joules e Energy_Kilojoules Kilojoules e Energy_Watt Hours Watt-hours e Energy_Kilowatt Hours Kilowatt-hours e Energy_Btus BTUs (British Thermal Unit) e Energy_Therms Therms e Energy_Ton Hours Ton-hours e Enthalpy_Joules Per Kilog Joules per kg dry air ram Dry Air e Enthalpy_Btus Per Pound BTUs per pound dry air Dry Air e Frequency_Cycles Per Ho Cycles per hour ur e Frequency_Cycles Per Mi Cycles per minute nute e Frequency_Hertz Hertz e Humidity_Grams Of Water Grams of water per kilogram dry air Per Kilogram Dry Air e Humidity_Percent Relativ Percent relative humidity e Humidity e Length_Millimeters Millimeters e Length_Meters Meters e Length_Inches Inches e Length_Feet Feet e Light_Watts Per Square F Watts per square foot oot e Light_Watts Per Square M Watts per square meter eter e Light_Lumens Lumens e Light_Luxes Luxes e Light_Foot Candles Foot candles (Anglo-Saxon unit of measurement for illuminance) TE1000 Version: 1.0.2 21
## Page 22

Programming Name Description e Mass_Kilograms Kilograms e Mass_Pounds Mass Pounds mass e Mass_Tons Tons e Mass Flow_Kilograms Per Kilograms per second Second e Mass Flow_Kilograms Per Kilograms per minute Minute e Mass Flow_Kilograms Per Kilograms per hour Hour e Mass Flow_Pounds Mass Pounds mass per minute Per Minute e Mass Flow_Pounds Mass Pounds mass per hour Per Hour e Power_Watts Watts e Power_Kilowatts Kilowatts e Power_Megawatts Megawatts e Power_Btus Per Hour BTUs per hour e Power_Horsepower Horsepower e Power_Tons Refrigeratio Cooling capacity - energy to melt a ton of ice in 24h. n e Pressure_Pascals Pascals e Pressure_Kilopascals Kilopascals e Pressure_Bars Bars e Pressure_Pounds Force P Pounds force per square foot er Square Inch e Pressure_Centimeters Of Centimeters of water Water e Pressure_Inches Of Wate Inches of water r e Pressure_Millimeters Of Millimeters of mercury Mercury e Pressure_Centimeters Of Centimeters of mercury Mercury e Pressure_Inches Of Merc Inches of mercury ury e Temperature_Degrees C Degrees Celsius elsius e Temperature_Degrees K Degrees Kelvin elvin e Temperature_Degrees F Degrees Fahrenheit ahrenheit e Temperature_Degree Da Degree days Celsius ys Celsius e Temperature_Degree Da Degree days Fahrenheit ys Fahrenheit e Time_Years Years e Time_Months Months e Time_Weeks Weeks e Time_Days Days e Time_Hours Hours e Time_Minutes Minutes e Time_Seconds Seconds 22 Version: 1.0.2 TE1000
## Page 23

Programming Name Description e Velocity_Meters Per Seco Meters per second nd e Velocity_Kilometers Per H Kilometers per hour our e Velocity_Feet Per Second Feet per second e Velocity_Feet Per Minute Feet per hour e Velocity_Miles Per Hour Miles per hour e Volume_Cubic Feet Cubic feet e Volume_Cubic Meters Cubic meters e Volume_Imperial Gallons Imperial gallons e Volume_Liters Liters e Volume_Us Gallons US gallons e Volumetric Flow_Cubic Fe Cubic feet per minute et Per Minute e Volumetric Flow_Cubic M Cubic meters per second eters Per Second e Volumetric Flow_Imperial Imperial gallons per minute Gallons Per Minute e Volumetric Flow_Liters Pe Liters per second r Second e Volumetric Flow_Liters Pe Liters per minute r Minute e Volumetric Flow_Us Gallo US gallons per minute ns Per Minute e Other_Degrees Angular Degrees Angular e Other_Degrees Celsius P Degrees Celsius per hour er Hour e Other_Degrees Celsius P Degrees Celsius per minute er Minute e Other_Degrees Fahrenhe Degrees Fahrenheit per hour it Per Hour e Other_Degrees Fahrenhe Degrees Fahrenheit per minute it Per Minute e Other_No Units No units e Other_Parts Per Million Parts per million e Other_Parts Per Billion Parts per billion e Other_Percent Percent e Other_Percent Per Secon Percent per second d e Other_Per Minute Per minute e Other_Per Second Per second e Other_Psi Per Degree Fah Psi per degree Fahrenheit renheit e Other_Radians Radians e Other_Revolutions Per Mi Revolutions per minute nute e Currency_Currency N Currency e Area_Square Inches Square inches e Area_Square Centimeter Square centimeters s e Enthalpy_Btus Per Pound BTUs per pound e Length_Centimeters Centimeters TE1000 Version: 1.0.2 23
## Page 24

Programming Name Description e Mass Flow_Pounds Mass Pounds mass per second Per Second e Temperature_Delta Degr Delta degrees Fahrenheit ees Fahrenheit e Temperature_Delta Degr Delta degrees Kelvin ees Kelvin e Electrical_Kilohms Kilohms e Electrical_Megohms Megohms e Electrical_Millivolts Millivolts e Energy_Kilojoules Per Kil Kilojoules ogram e Energy_Megajoules Megajoules e Entropy_Joules Per Degre Joules per degree Kelvin e Kelvin e Entropy_Joules Per Kilogr Joules per kilogram degree Kelvin am Degree Kelvin e Frequency_Kilohertz Kilohertz e Frequency_Megahertz Megahertz e Frequency_Per Hour Per hour e Power_Milliwatts Milliwatts e Pressure_Hectopascals Hectopascals e Pressure_Millibars Millibars e Volumetric Flow_Cubic M Cubic meters per hour eters Per Hour e Volumetric Flow_Liters Pe Liters per hour r Hour e Other_Kilowatt Hours Per Kilowatt hours per square meter Square Meter e Other_Kilowatt Hours Per Kilowatt hours per square foot Square Foot e Other_Megajoules Per Sq Megajoules per square meter uare Meter e Other_Megajoules Per Sq Megajoules per square foot uare Foot e Other_Watts Per Square Watts per square meter degree Kelvin Meter Degree Kelvin e Volumetric Flow_Cubic Fe Cubic feet per second et Per Second e Other_Percent Obscurati Percent obscuration per foot on Per Foot e Other_Percent Obscurati Percent obscuration per meter on Per Meter e Electrical_Milliohms Milliohms e Energy_Megawatt Hours Megawatt hours e Energy_Kilo Btus Kilo BTUs e Energy_Mega Btus Mega BTUs e Enthalpy_Kilojoules Per Ki Kilojoules per kilogram dry air logram Dry Air e Enthalpy_Megajoules Per Megajoules per kilogram dry air Kilogram Dry Air e Entropy_Kilojoules Per De Kilojoules per degree Kelvin gree Kelvin 24 Version: 1.0.2 TE1000
## Page 25

Programming Name Description e Entropy_Megajoules Per Megajoules per degree Kelvin Degree Kelvin e Force_Newton Newtons e Mass Flow_Grams Per Se Grams per second cond e Mass Flow_Grams Per Mi Grams per minute nute e Mass Flow_Tons Per Hour Tons per hour e Power_Kilo Btus Per Hour Kilo BTUs per hour e Time_Hundredths Secon Hundredths seconds ds e Time_Milliseconds Milliseconds e Torque_Newton Meters Newton meters e Velocity_Millimeters Per S Millimeters per second econd e Velocity_Millimeters Per Millimeters per minute Minute e Velocity_Meters Per Minut Meters per minute e e Velocity_Meters Per Hour Meters per hour e Volumetric Flow_Cubic M Cubic meters per minute eters Per Minute e Acceleration_Meters Per Meters per second per second Second Per Second e Electrical_Amperes Per M Amperes per meter eter e Electrical_Amperes Per S Amperes per square meter quare Meter e Electrical_Ampere Squar Ampere square meters e Meters e Electrical_Farads Farads e Electrical_Henrys Henrys e Electrical_Ohm Meters Ohm-meters e Electrical_Siemens Siemens e Electrical_Siemens Per M Siemens per meter eter e Electrical_Teslas Teslas e Electrical_Volts Per Degre Volts per degree Kelvin e Kelvin e Electrical_Volts Per Meter Volts per meter e Electrical_Webers Webers e Light_Candelas Candelas e Light_Candelas Per Squar Candelas per square meter e Meter e Temperature_Degrees K Degrees Kelvin per hour elvin Per Hour e Temperature_Degrees K Degrees Kelvin per minute elvin Per Minute e Other_Joule Seconds Joule-seconds (angular momentum) e Other_Radians Per Secon Radians per second d TE1000 Version: 1.0.2 25
## Page 26

Programming Name Description e Other_Square Meters Per Square meters per Newton Newton e Other_Kilograms Per Cubi Kilograms per cubic meter c Meter e Other_Newton Seconds Newton-seconds (impulse) e Other_Newtons Per Meter Newtons per meter e Other_Watts Per Meter Pe Watts per meter per degree Kelvin r Degree Kelvin e Micro_Siemens Microsiemens e Cubic_Feet Per Hour Cubic feet per hour e Us_Gallons Per Hour US gallons per hour e Kilometers Kilometers e Micrometers Micrometers e Grams Grams e Milligrams Milligrams e Milliliters Milliliters e Milliliters Per Second Milliliters per second e Decibels Decibels e Decibels Millivolt Decibels millivolt e Decibels Volt Decibels Volt e Millisiemens Millisiemens e Watt_Hours Reactive Watt-hours reactive e Kilowatt Hours Reactive Kilowatt-hours reactive e Megawatt Hours Reactive Megawatt-hours reactive e Millimeters Of Water Millimeters of water e Per_Mille Per mille e Grams_Per Gram Grams per gram e Kilograms_Per Kilogram Kilograms per kilogram e Grams_Per Kilogram Grams per kilogram e Milligrams_Pe Gram Milligrams per gram e Milligrams_Pe Kilogram Milligrams per kilogram e Grams_Per Milliliter Grams per milliliter e Grams_Per Liter Grams per liter e Milligrams_Per Liter Milligrams per liter e Micrograms_Per Liter Micrograms per liter e Grams_Per Cubic Meter Grams per cubic meter e Milligrams_Per Cubic Met Milligrams per cubic meter er e Micrograms_Per Cubic M Micrograms per cubic meter eter e Nanograms_Per Cubic M Nanograms per cubic meter eter e Grams_Per Cubic Centim Grams per cubic centimeter eter e Becquerels Becquerels e Kilobecquerels Kilobecquerels e Megabecquerels Megabecquerels e Gray Grays (absorbed dose) e Milligray Milligrays (absorbed dose) e Microgray Micrograys (absorbed dose) 26 Version: 1.0.2 TE1000
## Page 27

Programming Name Description e Sieverts Sieverts e Millisieverts Millisieverts e Microsieverts Microsieverts e Microsieverts Per Hour Microsieverts per hour e Decibels_A Decibels A e Nephelometric_Turbidity Nephelometric turbidity unit NTU Unit e PH p H e Grams_Per Square Meter Grams per square meter e Minutes_Per Degree Kelvi Minutes per degree Kelvin n Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.1.1.7 Universal 4.1.1.7.1 General 4.1.1.7.1.1 E_BA_Cmp Mode E_BA_Cmp Mode offers settings for creating comparisons. Syntax {attribute 'qualified_only'} {attribute 'strict'} TYPE E_BA_Cmp Mode : ( e Lower Than := 1, e Lower Equal := 2, e Equal := 3, e Greater Equal := 4, e Greater Than := 5 ) UDINT; END_TYPE Name Description e Lower Than lower than e Lower Equal lower than or equal to e Equal equal e Greater Equal greater than or equal to e Greater Than greater Requirements Development environment Required PLC library Twin CAT 3.1 4024.56 Tc3_BA2_Common from V2.2.23.0 TE1000 Version: 1.0.2 27
## Page 28

Programming 4.1.1.7.2 Sequence 4.1.1.7.2.1 E_BA_No Enable Seq Ctrl TYPE E_BA_No Enable Seq Ctrl : ( e First Seq Num := 1, e Last Seq Num := 2, e First Action Direct := 3, e Last Action Reverse := 4, e Next Seq Ctrl := 5, e Previous Seq Ctrl := 6, e Next Action := 7 ) UDINT; END_TYPE Requirements Development environment Required PLC library Twin CAT 3.1 4024.56 Tc3_BA2_Common from V2.2.23.0 4.1.1.7.2.2 E_BA_No Start Ctrl Found TYPE E_BA_No Start Ctrl Found : ( e First Seq Num := 1, e Last Seq Num := 2, e First Action Direct := 3, e Last Action Reverse := 4 ) UDINT; END_TYPE Requirements Development environment Required PLC library Twin CAT 3.1 4024.56 Tc3_BA2_Common from V2.2.23.0 4.1.1.7.2.3 E_BA_State Seq Link TYPE E_BA_State Seq Link : ( e Off := 1, e On := 2, e Multiple Direction Action Seq Ctrl := 3, e Next Sequence Setpoint Is Smaller := 4, e Start Sequence Controller Not Enabled := 5, e Seq Num Multiple := 6, e Error Param Max Seq Ctrl := 7, e No Sequence Controller Is Operational := 8 ) UDINT; END_TYPE Name Description e Multiple Direction Action S Multiple direction of action of the sequence controller. eq Ctrl e Next Sequence Setpoint Is Next sequence setpoint is smaller than its predecessor. Smaller e Start Sequence Controller The start controller n Num Start Ctrl is not enabled. Instead, the controller with the Not Enabled lowest ordinal number is used. e Seq Num Multiple Sequence number assigned multiple times. e Error Param Max Seq Ctrl Global parameter n Max Seq Ctrl < 1 e No Sequence Controller Is No sequence controller is ready for operation. Operational 28 Version: 1.0.2 TE1000
## Page 29

Programming Requirements Development environment Required PLC library Twin CAT 3.1 4024.56 Tc3_BA2_Common from V2.2.23.0 4.1.1.7.3 E_BA_Action Selection of the control direction of a controller. Syntax TYPE E_BA_Action: ( Invalid := -1, e Direct := 0, e Reverse := 1 )INT; End_TYPE Name Description Invalid No significance for the user e Direct Direct control direction (cooling) e Reverse Indirect control direction (heating) Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.1.1.7.4 E_BA_Language The enumeration is used to specify languages. Syntax TYPE E_BA_Language: ( Invalid := 0, e English := 1, e German := 2, ); END_TYPE Name Description Invalid No significance for the user e English English e German German Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.1.1.7.5 E_BA_Measuring Element The enumeration is used to specify temperature measuring elements. Syntax TYPE E_BA_Measuring Element : ( Undefined := 0, TE1000 Version: 1.0.2 29
## Page 30

Programming e NI100 := 1, e NI120 := 2, e NI1000 := 3, e NI1000_LS := 4, e NTC1K8 := 5, e NTC1K8_TK := 6, e NTC2K2 := 7, e NTC3K := 8, e NTC5K := 9, e NTC10K := 10, e NTC10KPRE := 11, e NTC10K_3204 := 12, e NTC10KTYP2 := 13, e NTC10KTYP3 := 14, e NTC10KDALE := 15, e NTC10K3A221 := 16, e NTC20K := 17, e NTC100K := 18, e Poti_Resolution_01 := 19, e Poti_Resolution_1 := 20, e Output_10_5000 := 21, e Output_10_1200 := 22, e PT100 := 23, e PT200 := 24, e PT500 := 25, e PT1000 := 26, ); END_TYPE Name Description Undefined Not defined e NI100 NI100 e NI120 NI120 e NI1000 NI1000 e NI1000_LS RSNI1000 (NI1000 according to Landis&Staefa characteristic curve: 1000 Ω at 0 °C and 1500 Ω at 100 °C) e NTC1K8 NTC1K8 e NTC1K8_TK NTC1K8_TK e NTC2K2 NTC2K2 e NTC3K NTC3K e NTC5K NTC5K e NTC10K NTC10K e NTC10KPRE NTC10KPRE e NTC10K_3204 NTC10K_3204 e NTC10KTYP2 NTC10KTYP2 e NTC10KTYP3 NTC10KTYP3 e NTC10KDALE NTC10KDALE e NTC10K3A221 NTC10K3A221 e NTC20K NTC20K e NTC100K NTC100K e Poti_Resolution_01 Potentiometer, resolution 0.1 Ω e Poti_Resolution_1 Potentiometer, resolution 1 Ω E_Output_10_5000 Output 10.0 Ω – 5000.0 Ω E_Output_10_1200 Output 10.0 Ω – 1200.0 Ω e PT100 PT100 e PT200 PT200 e PT500 PT500 e PT1000 PT1000 30 Version: 1.0.2 TE1000
## Page 31

Programming Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.1.1.7.6 E_BA_Polarity The enumeration is used to specify the polarity (e.g. normally closed / normally open contact). Syntax TYPE E_BA_Polarity: ( Invalid := -1, e Normal := 0, e Reverse := 1 ); End_TYPE Name Description Invalid No significance for the user e Normal Normally open contact e Reverse Normally closed contact Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.1.1.7.7 E_BA_Reliability The enumeration gives conclusions about the reliability of sensors or measurement data. Syntax TYPE E_BA_Reliability: ( Invalid := 0, e No Fault Detected := 1, e No Sensor := 1, e Over Range := 2, e Under Range := 3, e Open Loop := 4, e Shorted Loop := 5, e No Output := 6, e Unreliable Other := 7, e Process Error := 8, e Multi State Fault := 9, e Configuration Error := 10, e Communication Failure := 12, e Member Fault := 13, e Monitored Object Fault := 14, e Tripped := 15 ); END_TYPE Name Description Invalid No significance for the user. e No Fault Detected NO_FAULT_DETECTED No error described in this enumeration was detected. e No Sensor NO_SENSOR There is no sensor connected to the input object. e Over Range OVER_RANGE TE1000 Version: 1.0.2 31
## Page 32

Programming Name Description The measured value is above the normal measuring range. e Under Range UNDER_RANGE The measured value is below the normal measuring range. e Open Loop OPEN_LOOP A value is detected that indicates a wire break. e Shorted Loop SHORTED_LOOP A value is detected that indicates a short circuit. e No Output NO_OUTPUT There is no output device connected to the output object. e Unreliable Other Internal: other plausibility error. e Process Error PROCESS_ERROR A process error has occurred. e Multi State Fault MULTI_STATE_FAULT The FAULT_STATE, FAULT_LIFE_SAFETY or FAULT_CHARACTERSTRING error algorithm has detected an error state. e Configuration Error CONFIGURATION_ERROR The properties of the object are not in a consistent state. e Communication Failure COMMUNICATION_FAILURE Communication error e Member Fault Fault member e Monitored Object Fault Fault on the monitored object. e Tripped Tripped Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.2.16.0 4.1.1.7.8 E_BA_Toggle Mode The enumeration is used to interpret the function of a boolean change. Syntax TYPE E_BA_Toggle Mode: ( Invalid := 0, e Switch := 1, e Push Button := 2 )BYTE; END_TYPE Name Description Invalid Invalid, has no meaning. e Switch The output value retains its value when changed. The object has assumed the function of a switch. e Push Button The output value changes its value for one cycle and then automatically restores the old state. The object has assumed the function of a push button. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 32 Version: 1.0.2 TE1000
## Page 33

Programming 4.1.2 Types 4.1.2.1 Calendar 4.1.2.1.1 ST_BA_Calendar Entry Structure for specifying a calendar entry. Syntax TYPE ST_BA_Calendar Entry : STRUCT e Type : E_BA_Date Val Choice; u Date : U_BA_Date Val; END_STRUCT END_TYPE Name Type Description e Type E_BA_Date Val Choice Specification of the range selection [} 11] u Date U_BA_Date Val Specification of the period [} 35] Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.1.2.2 Date and time 4.1.2.2.1 ST_BA_Date Structure for the description of a date. Syntax TYPE ST_BA_Date : STRUCT n Year : BYTE := 16#FF; e Month : E_BA_Month := E_BA_Month. Unspecified; n Day : E_BA_Day := E_BA_Day. Unspecified; e Day Of Week : E_BA_Weekday := E_BA_Weekday. Unspecified; END_STRUCT END_TYPE Name Type Description n Year BYTE Year specification, counting from the year 1900. e Month E_BA_Month [} 12] Month specification n Day E_BA_Day [} 11] Specification of the day in the month e Day Of Week E_BA_Weekday Specification of the day of the week [} 14] Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 TE1000 Version: 1.0.2 33
## Page 34

Programming 4.1.2.2.2 ST_BA_Date Range Structure for describing a date range. Syntax TYPE ST_BA_Date Range : STRUCT st Date From : ST_BA_Date; st Date To : ST_BA_Date; END_STRUCT END_TYPE Name Type Description st Date From ST_BA_Date [} 33] Start of a period st Date To ST_BA_Date [} 33] End of a period Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.1.2.2.3 ST_BA_Date Time Structure for describing a date including a time. Syntax TYPE ST_BA_Date Time : STRUCT st Date : ST_BA_Date; st Time : ST_BA_Time; END_STRUCT END_TYPE Name Type Description st Date ST_BA_Date [} 33] Specification of a date st Time ST_BA_Time [} 34] Specification of the time of day Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.1.2.2.4 ST_BA_Time Structure to specify the time of day. Syntax TYPE ST_BA_Time : STRUCT n Hour : BYTE := 16#FF; n Minute : BYTE := 16#FF; n Second : BYTE := 16#FF; n Hundredths : BYTE := 16#FF; END_STRUCT END_TYPE Name Type Description n Hour BYTE Specification of the hour n Minute BYTE Specification of the minute n Second BYTE Specification of the second 34 Version: 1.0.2 TE1000
## Page 35

Programming Name Type Description n Hundredths BYTE Specification of the hundredth of a second Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.1.2.2.5 ST_BA_Week NDay Structure for specifying a day of the week. Syntax TYPE ST_BA_Week NDay : STRUCT e Month : E_BA_Month := E_BA_Month. Unspecified; e Week Of Month : E_BA_Week := E_BA_Week. Unspecified; e Weekday : E_BA_Weekday := E_BA_Weekday. Unspecified; END_STRUCT END_TYPE Name Type Description e Month E_BA_Month [} 12] Specification of the month e Week Of Month E_BA_Week [} 13] Specification of the week within a month e Weekday E_BA_Weekday Specification of the day within a week [} 14] Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.1.2.2.6 U_BA_Date Val The data type UNION represents a date value, which can have different forms (Date, Range, Week NDay). The type of the value is specified by choice enum (E_BA_Date Val Choice [} 11]) in the context (e.g. ST_BA_Calendar Entry [} 33] or ST_BA_Class Value [} 39]). All other elements start at the same address in the memory area and are also written to. Their content, however, is then usually not meaningful. Syntax TYPE U_BA_Date Val : UNION st Date : ST_BA_Date; st Date Range : ST_BA_Date Range; st Week Day : ST_BA_Week Day; END_UNION END_TYPE Name Type Description st Date ST_BA_Date [} 33] Input as date st Date Range ST_BA_Date Range Input as date range [} 34] st Week Day ST_BA_Week NDay Input as weekday [} 35] TE1000 Version: 1.0.2 35
## Page 36

Programming Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.1.2.3 Event 4.1.2.3.1 ST_BA_Event Transitions Structure for specifying a change of state of events. Syntax TYPE ST_BA_Event Transitions : STRUCT b To Off Normal : BOOL; b To Fault : BOOL; b To Normal : BOOL; END_STRUCT END_TYPE Name Type Description b To Off Normal BOOL Change to the alarm state. b To Fault BOOL Change to the "invalid value" state. b To Normal BOOL Change to the normal state. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.1.2.4 Schedule 4.1.2.4.1 ST_BA_Sched Entry Structure for specifying a schedule entry. Syntax TYPE ST_BA_Sched Entry : STRUCT e State : E_BA_Sched Entry State; st Time : ST_BA_Time; u Value : U_BA_Class Value; END_STRUCT END_TYPE Name Type Description e State E_BA_Sched Entry Stat Specification of the input status e [} 16] st Time ST_BA_Time [} 34] Specification of the time of day u Value U_BA_Class Value Specification of the switch value [} 40] Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 36 Version: 1.0.2 TE1000
## Page 37

Programming 4.1.2.5 ST_BA_Byte Structure for representing bits in a byte. Syntax TYPE ST_BA_Byte : STRUCT b Bit1 : BIT; b Bit2 : BIT; b Bit3 : BIT; b Bit4 : BIT; b Bit5 : BIT; b Bit6 : BIT; b Bit7 : BIT; b Bit8 : BIT; END_STRUCT END_TYPE Name Type Description b Bit1…b Bit8 BIT Display of the individual bits. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.1.2.6 ST_BA_Enum Info To describe enumerations in more detail textually, you can assign an element of the structure ST_BA_Enum Info to each value of an enumeration in a global list. This is done, for example, in the global variable list BAComn_Enum DE [} 42]. The value of the enumeration refers to the element of the list that describes the element of the enumeration in more detail. Syntax TYPE ST_BA_Enum Info : STRUCT s Name : STRING; s Description : T_Max String; s Shortcut : STRING(16); END_STRUCT END_TYPE Name Type Description s Name STRING Name s Description T_Max String Description s Shortcut STRING(16) Abbreviation Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.1.2.7 ST_BA_Status Flags Structure about the possible operating statuses of an object. Syntax TYPE ST_BA_Status Flags : STRUCT b In Alarm : BOOL; b Fault : BOOL; TE1000 Version: 1.0.2 37
## Page 38

Programming b Overridden : BOOL; b Out Of Service : BOOL; END_STRUCT END_TYPE Name Type Description b In Alarm BOOL Indicates an alarm state (offnormal). b Fault BOOL Indicates a reliability problem (fault). b Overridden BOOL Indicates manual overwriting. b Out Of Service BOOL Indicates the out-of-service mode. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.1.2.8 ST_BA_Version Structure for specifying the version number, see Revision control. Syntax TYPE ST_BA_Version : ARRAY [1 .. 4] OF UDINT; END_TYPE Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.1.2.9 Trend 4.1.2.9.1 ST_BA_Trend Entry Structure for describing a trend entry. Syntax TYPE ST_BA_Trend Entry : STRUCT dt Time : ST_BA_Date Time; e Type : E_BA_Trend Entry Type := E_BA_Trend Entry Type. Invalid; st State : ST_BA_Status Flags; u Value : U_BA_Trend Entry Value; END_STRUCT END_TYPE Name Type Description dt Time ST_BA_Date Time Time specification [} 34] e Type E_BA_Trend Entry Typ Specification of the trend recording type: Binary, analog or multistate values. e [} 17] st State ST_BA_Status Flags Possible statuses of the trend: alarm, faulty value, overridden, disconnected. [} 37] u Value U_BA_Trend Entry Val Specification of the entry value including the status of the trend recording: start, stop, cleaned, interrupted. ue [} 39] 38 Version: 1.0.2 TE1000
## Page 39

Programming Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.1.2.9.2 ST_BA_Trend Entry Event Structure for describing the status of the trend recording. Syntax TYPE ST_BA_Trend Entry Event : STRUCT b Start : BIT; b Stop : BIT; b Buffer Purged : BIT; b Interrupted : BIT; END_STRUCT END_TYPE Name Type Description b Start BIT Started b Stop BIT Stopped b Buffer Purged BIT Recording cleaned b Interrupted BIT Recording interrupted Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.1.2.9.3 U_BA_Trend Entry Value Structure for the value specification of trend entries. The data type UNION allows the meaningful description of one of the containing elements. All other elements start at the same address in the memory area and are also written to. Their content, however, is then usually not meaningful. Syntax TYPE U_BA_Trend Entry Value EXTENDS U_BA_Class Value: UNION st Event : ST_BA_Trend Entry Event; END_UNION END_TYPE Name Type Description st Event ST_BA_Trend Entry Ev Specification of the status of the trend recording. ent [} 39] Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.1.2.9.4 ST_BA_Class Value Structure for specifying an object value. TE1000 Version: 1.0.2 39
## Page 40

Programming TYPE ST_BA_Class Value : STRUCT u Value : U_BA_Class Value; e Class : E_BA_Data Class; END_STRUCT END_TYPE Name Type Description u Value U_BA_Class Value Specification of the value. [} 14] e Class E_BA_Data Class Specification of the value type [} 14] Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 U_BA_Class Value [} 40] 4.1.2.9.5 U_BA_Class Value Structure for the input of values. The data type UNION allows the meaningful description of one of the containing elements. All other elements start at the same address in the memory area and are thus also written to. Their content, however, is then usually not meaningful. Syntax TYPE U_BA_Class Value : UNION b Val : BOOL; r Val : REAL; udi Val : UDINT; END_UNION END_TYPE Name Type Description b Val BOOL Binary values. r Val REAL Analog floating point values. udi Val UDINT Multistate value as UDINT. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.2 GVLs 4.2.1 BAComn_Global {attribute 'global_init_slot' := '49800'} {attribute 'qualified_only'} VAR_GLOBAL CONSTANT // Datatype Ranges: {warning disable C0196} n Min Byte : BYTE := 16#00; n Max Byte : BYTE := 16#FF; n Min Int : INT := 16#8000; n Max Int : INT := 16#7FFF; n Min UInt : UINT := 16#0000; 40 Version: 1.0.2 TE1000
## Page 41

Programming n Max UInt : UINT := 16#FFFF; n Min DInt : DINT := 16#80000000; n Max DInt : DINT := 16#7FFFFFFF; n Min UDInt : UDINT := 16#00000000; n Max UDInt : UDINT := 16#FFFFFFFF; f Min Real : REAL := -3.402823E+38; f Max Real : REAL := 3.402823E+38; t Min Time : TIME := TO_TIME(0); t Max Time : TIME := TO_TIME(16#FFFFFFFF); t Min TOD : TOD := TO_TOD(0); t Max TOD : TOD := TO_TOD(16#FFFFFFFF); t Min DATE : DATE := TO_DATE(0); t Max DATE : DATE := TO_DATE(16#FFFFFFFF); t Min DT : DT := TO_DT(0); t Max DT : DT := TO_DT(16#FFFFFFFF); {warning restore C0196} // I/O: n IO_Raw Min : INT := 0; n IO_Raw Max : INT := n Max Int; n IO_Raw0V : INT := 0; // Raw value for 0V n IO_Raw1V : INT := (n IO_Raw Max / 10); // Raw value for 1V n IO_Raw2V : INT := (n IO_Raw1V * 2); // Raw value for 2V n IO_Raw3V : INT := (n IO_Raw1V * 3); // Raw value for 3V n IO_Raw5V : INT := (n IO_Raw1V * 5); // Raw value for 5V n IO_Raw10V : INT := (n IO_Raw1V * 10); // Raw value for 10V END_VAR // General: VAR_GLOBAL CONSTANT {region 'Time'} n Milli2Sek : UINT := 1000; n Sek2Min : UINT := 60; n Min2Hour : UINT := 60; n24Hour2Hour : UDINT := (24 * 60 * 60); n24Hour2Milli : UDINT := n24Hour2Hour * 1000; udi Max Sec In Milli : UDINT := (n Max UDInt / n Milli2Sek); // Max. capable value (in [s] ) in a UDINT udi Max Min In Milli : UDINT := (udi Max Sec In Milli / n Sek2Min);// Max. capable value (in [m] ) in a UDINT {endregion} {region 'Characters'} b Char_0 : BYTE := 16#30; b Char_1 : BYTE := 16#31; b Char_2 : BYTE := 16#32; b Char_3 : BYTE := 16#33; b Char_4 : BYTE := 16#34; b Char_5 : BYTE := 16#35; b Char_6 : BYTE := 16#36; b Char_7 : BYTE := 16#37; b Char_8 : BYTE := 16#38; b Char_9 : BYTE := 16#39; b Char_Plus : BYTE := 16#2B; b Char_Minus : BYTE := 16#2D; b Char_Dot : BYTE := 16#2E; {endregion} {region 'Type'} f Close To Zero : REAL := 0.00001; // Comparison value to prevent a division by zero {endregion} {region 'ADS'} t Ams Net ID_Loopback : T_Ams Net Id Arr := [ 127,0,0,1,1,1 ]; s Symbol Separator : STRING(1) := '.'; {endregion} END_VAR 4.2.2 BAComn_Param {attribute 'qualified_only'} VAR_GLOBAL CONSTANT {region 'Tokenizer'} n Str Tokenizer_Buffer Size : UINT := 32; n Str Tokenizer_Max Level : BYTE := 5; {endregion} END_VAR TE1000 Version: 1.0.2 41
## Page 42

Programming Name Type Description n Str Tokenizer_Buffe UINT Number of entries. r Size n Str Tokenizer_Max L BYTE Maximum depth of the token hierarchy. evel 4.2.3 Enumerations 4.2.3.1 BAComn_Enum DE {attribute 'qualified_only'} VAR_GLOBAL a Units : ARRAY[E_BA_Unit. First .. E_BA_Unit. Last] OF ST_BA_Enum Info := [ (* e Area_Square Meters *) (s Name := 'Square Meters', s Desc ription := 'Fläche', s Shortcut := 'm²'), (* e Area_Square Feet *) (s Name := 'Square Feet', s Desc ription := '', s Shortcut := ''), (* e Electrical_Milliamperes *) (s Name := 'Milliamperes', s Desc ription := 'Strom', s Shortcut := 'm A'), (* e Electrical_Amperes *) (s Name := 'Amperes', s Desc ription := 'Strom', s Shortcut := 'A'), (* e Electrical_Ohms *) (s Name := 'Ohms', s Desc ription := 'Elektrischer Widerstand', s Shortcut := 'O'), (* e Electrical_Volts *) (s Name := 'Volts', s Desc ription := 'Elektrische Spannung', s Shortcut := 'V'), (* e Electrical_Kilovolts *) (s Name := 'Kilovolts', s Desc ription := 'Elektrische Spannung', s Shortcut := 'k V'), (* e Electrical_Megavolts *) (s Name := 'Megavolts', s Desc ription := 'Elektrische Spannung', s Shortcut := 'MV'), (* e Electrical_Volt Amperes *) (s Name := 'Volt Amperes', s Desc ription := 'Elektrische Scheinleistung', s Shortcut := 'VA'), (* e Electrical_Kilovolt Amperes *) (s Name := 'Kilovolt Amperes', s Desc ription := 'Elektrische Scheinleistung', s Shortcut := 'k VA'), (* e Electrical_Megavolt Amperes *) (s Name := 'Megavolt Amperes', s Desc ription := 'Elektrische Scheinleistung', s Shortcut := 'MVA'), (* e Electrical_Volt Amperes Reactive *) (s Name := 'Volt Amperes Reactive', s Desc ription := 'Elektrische Blindleistung', s Shortcut := 'var'), (* e Electrical_Kilovolt Amperes Reactive *) (s Name := 'Kilovolt Amperes Reactive', s Desc ription := 'Elektrische Blindleistung', s Shortcut := 'kvar'), (* e Electrical_Megavolt Amperes Reactive *) (s Name := 'Megavolt Amperes Reactive', s Desc ription := 'Elektrische Blindleistung', s Shortcut := 'Mvar'), (* e Electrical_Degrees Phase *) (s Name := 'Degrees Phase', s Desc ription := '', s Shortcut := ''), (* e Electrical_Power Factor *) (s Name := 'Power Factor', s Desc ription := 'phi Leistungsfaktor', s Shortcut := 'cos'), (* e Energy_Joules *) (s Name := 'Joules', s Desc ription := 'Energie', s Shortcut := 'J'), (* e Energy_Kilojoules *) (s Name := 'Kilojoules', s Desc ription := 'Energie', s Shortcut := 'k J'), (* e Energy_Watt Hours *) (s Name := 'Watt Hours', s Desc ription := 'Energie', s Shortcut := 'Wh'), (* e Energy_Kilowatt Hours *) (s Name := 'Kilowatt Hours', s Desc ription := 'Energie', s Shortcut := 'k Wh'), (* e Energy_Btus *) (s Name := 'Btus', s Desc ription := '', s Shortcut := 'btus'), (* e Energy_Therms *) (s Name := 'Therms', s Desc ription := '', s Shortcut := ''), (* e Energy_Ton Hours *) (s Name := 'Ton Hours', s Desc ription := '', s Shortcut := ''), (* e Enthalpy_Joules Per Kilogram Dry Air *) (s Name := 'Joules per Kilogram Dry Air', s Desc ription := 'Enthalpie', s Shortcut := 'J/kg'), (* e Enthalpy_Btus Per Pound Dry Air *) (s Name := 'Btus per Pound Dry Air', s Desc ription := '', s Shortcut := ''), (* e Frequency_Cycles Per Hour *) (s Name := 'Cycles per Hour', s Desc ription := 'Schalthäufigkeit (Zyklen pro Stunde)', s Shortcut := '1/h'), (* e Frequency_Cycles Per Minute *) (s Name := 'Cycles per Minute', s Desc ription := 'Schalthäufigkeit (Zyklen pro Minute)', s Shortcut := '1/min'), (* e Frequency_Hertz *) (s Name := 'Hertz', s Desc ription := 'Frequenz', s Shortcut := 'Hz'), (* e Humidity_Grams Of Water Per Kilogram Dry Air*) (s Name := 'Grams of Water per Kilogram Dry Air', s De scription := 'Wassergehalt', s Shortcut := 'g/kg tr. Luft'), (* e Humidity_Percent Relative Humidity *) (s Name := 'Percent Relative Humidity', s Desc ription := 'Relative Luftfeuchtigkeit', s Shortcut := '% r. F.'), 42 Version: 1.0.2 TE1000
## Page 43

Programming (* e Length_Millimeters *) (s Name := 'Millimeters', s Desc ription := 'Länge', s Shortcut := 'mm'), (* e Length_Meters *) (s Name := 'Meters', s Desc ription := 'Länge', s Shortcut := 'm'), (* e Length_Inches *) (s Name := 'Inches', s Desc ription := 'Zoll', s Shortcut := ''), (* e Length_Feet *) (s Name := 'Feet', s Desc ription := 'Fuss', s Shortcut := ''), (* e Light_Watts Per Square Foot *) (s Name := 'Watts per Square Foot', s Desc ription := '', s Shortcut := ''), (* e Light_Watts Per Square Meter *) (s Name := 'Watts per Square Meter', s Desc ription := 'Spezifische Leistung', s Shortcut := 'W/m²'), (* e Light_Lumens *) (s Name := 'Lumens', s Desc ription := 'Lichtstrom', s Shortcut := 'lm'), (* e Light_Luxes *) (s Name := 'Luxes', s Desc ription := 'Beleuchtungsstärke', s Shortcut := 'lx'), (* e Light_Foot Candles *) (s Name := 'Foot Candles', s Desc ription := '', s Shortcut := ''), (* e Mass_Kilograms *) (s Name := 'Kilograms', s Desc ription := 'Masse', s Shortcut := 'kg'), (* e Mass_Pounds Mass *) (s Name := 'Pounds Mass', s Desc ription := '', s Shortcut := ''), (* e Mass_Tons *) (s Name := 'Tons', s Desc ription := 'Masse', s Shortcut := 't'), (* e Mass Flow_Kilograms Per Second *) (s Name := 'Kilograms per Second', s Desc ription := 'Massenstrom', s Shortcut := 'kg/s'), (* e Mass Flow_Kilograms Per Minute *) (s Name := 'Kilograms per Minute', s Desc ription := 'Massenstrom', s Shortcut := 'kg/min'), (* e Mass Flow_Kilograms Per Hour *) (s Name := 'Kilograms per Hour', s Desc ription := 'Massenstrom', s Shortcut := 'kg/h'), (* e Mass Flow_Pounds Mass Per Minute *) (s Name := 'Pounds Mass per Minute', s Desc ription := '', s Shortcut := ''), (* e Mass Flow_Pounds Mass Per Hour *) (s Name := 'Pounds Mass per Hour', s Desc ription := '', s Shortcut := ''), (* e Power_Watts *) (s Name := 'Watts', s Desc ription := 'Leistung', s Shortcut := 'W'), (* e Power_Kilowatts *) (s Name := 'Kilowatts', s Desc ription := 'Leistung', s Shortcut := 'k W'), (* e Power_Megawatts *) (s Name := 'Megawatts', s Desc ription := 'Leistung', s Shortcut := 'MW'), (* e Power_Btus Per Hour *) (s Name := 'Btus per Hour', s Desc ription := '', s Shortcut := ''), (* e Power_Horsepower *) (s Name := 'Horsepower', s Desc ription := 'Leistung', s Shortcut := 'PS'), (* e Power_Tons Refrigeration *) (s Name := 'Tons Refrigeration', s Desc ription := '', s Shortcut := ''), (* e Pressure_Pascals *) (s Name := 'Pascals', s Desc ription := 'Druck', s Shortcut := 'Pa'), (* e Pressure_Kilopascals *) (s Name := 'Kilopascals', s Desc ription := 'Druck', s Shortcut := 'k Pa'), (* e Pressure_Bars *) (s Name := 'Bars', s Desc ription := 'Druck', s Shortcut := 'bar'), (* e Pressure_Pounds Force Per Square Inch *) (s Name := 'Pounds Force per Square Inch', s Desc ription := '', s Shortcut := ''), (* e Pressure_Centimeters Of Water *) (s Name := 'Centimeters of Water', s Desc ription := 'Druck', s Shortcut := ''), (* e Pressure_Inches Of Water *) (s Name := 'Inches of Water', s Desc ription := '', s Shortcut := ''), (* e Pressure_Millimeters Of Mercury *) (s Name := 'Millimeters of Mercury', s Desc ription := 'Hg Druck', s Shortcut := 'mm'), (* e Pressure_Centimeters Of Mercury *) (s Name := 'Centimeters of Mercury', s Desc ription := 'Druck', s Shortcut := ''), (* e Pressure_Inches Of Mercury *) (s Name := 'Inches of Mercury', s Desc ription := '', s Shortcut := ''), (* e Temperature_Degrees Celsius *) (s Name := 'Degrees Celsius', s Desc ription := 'Temperatur', s Shortcut := '°C'), (* e Temperature_Degrees Kelvin *) (s Name := 'Degrees Kelvin', s Desc ription := 'Temperatur (thermodynamisch)', s Shortcut := 'K'), (* e Temperature_Degrees Fahrenheit *) (s Name := 'Degrees Fahrenheit', s Desc ription := '', s Shortcut := ''), (* e Temperature_Degree Days Celsius *) (s Name := 'Degree Days Celsius', s Desc ription := 'Gradtage', s Shortcut := 'K d/c'), (* e Temperature_Degree Days Fahrenheit *) (s Name := 'Degree Days Fahrenheit', s Desc ription := '', s Shortcut := ''), (* e Time_Years *) (s Name := 'Years', s Desc ription := 'Zeit', s Shortcut := 'a'), (* e Time_Months *) (s Name := 'Months', s Desc ription := 'Zeit', s Shortcut := 'Monat'), (* e Time_Weeks *) (s Name := 'Weeks', s Desc ription := 'Zeit', s Shortcut := 'Woche'), TE1000 Version: 1.0.2 43
## Page 44

Programming (* e Time_Days *) (s Name := 'Days', s Desc ription := 'Zeit', s Shortcut := 'd'), (* e Time_Hours *) (s Name := 'Hours', s Desc ription := 'Zeit', s Shortcut := 'h'), (* e Time_Minutes *) (s Name := 'Minutes', s Desc ription := 'Zeit', s Shortcut := 'min'), (* e Time_Seconds *) (s Name := 'Seconds', s Desc ription := 'Zeit', s Shortcut := 's'), (* e Velocity_Meters Per Second *) (s Name := 'Meters per Second', s Desc ription := 'Geschwindigkeit', s Shortcut := 'm/s'), (* e Velocity_Kilometers Per Hour *) (s Name := 'Kilometers per Hour', s Desc ription := 'Geschwindigkeit', s Shortcut := 'km/h'), (* e Velocity_Feet Per Second *) (s Name := 'Feet per Second', s Desc ription := '', s Shortcut := ''), (* e Velocity_Feet Per Minute *) (s Name := 'Feet per Minute', s Desc ription := '', s Shortcut := ''), (* e Velocity_Miles Per Hour *) (s Name := 'Miles per Hour', s Desc ription := '', s Shortcut := ''), (* e Volume_Cubic Feet *) (s Name := 'Cubic Feet', s Desc ription := '', s Shortcut := ''), (* e Volume_Cubic Meters *) (s Name := 'Cubic Meters', s Desc ription := 'Volumen', s Shortcut := 'm³'), (* e Volume_Imperial Gallons *) (s Name := 'Imperial Gallons', s Desc ription := 'Brit. Gallonen', s Shortcut := ''), (* e Volume_Liters *) (s Name := 'Liters', s Desc ription := 'Volumen', s Shortcut := 'l'), (* e Volume_Us Gallons *) (s Name := 'US Gallons', s Desc ription := 'US-Gallonen', s Shortcut := ''), (* e Volumetric Flow_Cubic Feet Per Minute *) (s Name := 'Cubic Feet per Minute', s Desc ription := 'Volumenstrom', s Shortcut := 'cf/min'), (* e Volumetric Flow_Cubic Meters Per Second *) (s Name := 'Cubic Meters per Second', s Desc ription := 'Volumenstrom', s Shortcut := 'm³/s'), (* e Volumetric Flow_Imperial Gallons Per Minute*) (s Name := 'Imperial Gallons per Minute', s Desc ription := '', s Shortcut := ''), (* e Volumetric Flow_Liters Per Second *) (s Name := 'Liters per Second', s Desc ription := 'Volumenstrom', s Shortcut := 'l/s'), (* e Volumetric Flow_Liters Per Minute *) (s Name := 'Liters per Minute', s Desc ription := 'Volumenstrom', s Shortcut := 'l/min'), (* e Volumetric Flow_Us Gallons Per Minute *) (s Name := 'US Gallons per Minute', s Desc ription := '', s Shortcut := ''), (* e Other_Degrees Angular *) (s Name := 'Degrees Angular', s Desc ription := 'Winkelgrade', s Shortcut := '°'), (* e Other_Degrees Celsius Per Hour *) (s Name := 'Degrees Celsius per Hour', s Desc ription := 'Temperaturänderung pro Zeiteinheit', s Shortcut := '°C/h'), (* e Other_Degrees Celsius Per Minute *) (s Name := 'Degrees Celsius per Minute', s Desc ription := 'Temperaturänderung pro Zeiteinheit', s Shortcut := '°C/min'), (* e Other_Degrees Fahrenheit Per Hour *) (s Name := 'Degrees Fahrenheit per Hour', s Desc ription := '', s Shortcut := ''), (* e Other_Degrees Fahrenheit Per Minute *) (s Name := 'Degrees Fahrenheit per Minute', s Desc ription := '', s Shortcut := ''), (* e Other_No Units *) (s Name := 'No Units', s Desc ription := '', s Shortcut := ''), (* e Other_Parts Per Million *) (s Name := 'Parts per Million', s Desc ription := 'Konzentration', s Shortcut := 'ppm'), (* e Other_Parts Per Billion *) (s Name := 'Parts per Billion', s Desc ription := 'Konzentration', s Shortcut := 'ppb'), (* e Other_Percent *) (s Name := 'Percent', s Desc ription := 'Prozent', s Shortcut := '%'), (* e Other_Percent Per Second *) (s Name := 'Percent per Second', s Desc ription := 'Änderungsgeschwindigkeit', s Shortcut := '%/s'), (* e Other_Per Minute *) (s Name := 'Per Minute', s Desc ription := 'Drehzahl', s Shortcut := '1/m'), (* e Other_Per Second *) (s Name := 'Per Second', s Desc ription := 'Drehzahl', s Shortcut := '1/s'), (* e Other_Psi Per Degree Fahrenheit *) (s Name := 'Psi per Degree Fahrenheit', s Desc ription := '', s Shortcut := ''), (* e Other_Radians *) (s Name := 'Radians', s Desc ription := 'Bogenmaß', s Shortcut := 'rad'), (* e Other_Revolutions Per Minute *) (s Name := 'Revolutions per Minute', s Desc ription := 'Umdrehungen pro Minute', s Shortcut := '1/min'), (* e Currency_Currency1 *) (s Name := 'Currency 1', s Desc ription := 'Währung', s Shortcut := '€'), (* e Currency_Currency2 *) (s Name := 'Currency 2', s Desc ription := 'Währung', s Shortcut := 'DM'), (* e Currency_Currency3 *) (s Name := 'Currency 3', s Desc ription := 'Währung', s Shortcut := ''), (* e Currency_Currency4 *) (s Name := 'Currency 4', s Desc ription := 'Währung', s Shortcut := ''), (* e Currency_Currency5 *) (s Name := 'Currency 5', s Desc ription := 'Währung', s Shortcut := ''), 44 Version: 1.0.2 TE1000
## Page 45

Programming (* e Currency_Currency6 *) (s Name := 'Currency 6', s Desc ription := 'Währung', s Shortcut := ''), (* e Currency_Currency7 *) (s Name := 'Currency 7', s Desc ription := 'Währung', s Shortcut := ''), (* e Currency_Currency8 *) (s Name := 'Currency 8', s Desc ription := 'Währung', s Shortcut := ''), (* e Currency_Currency9 *) (s Name := 'Currency 9', s Desc ription := 'Währung', s Shortcut := ''), (* e Currency_Currency10 *) (s Name := 'Currency 10', s Desc ription := 'Währung', s Shortcut := ''), (* e Area_Square Inches *) (s Name := 'Square Inches', s Desc ription := '', s Shortcut := ''), (* e Area_Square Centimeters *) (s Name := 'Square Centimeters', s Desc ription := 'Fläche', s Shortcut := 'cm²'), (* e Enthalpy_Btus Per Pound *) (s Name := 'Btus per Pound', s Desc ription := '', s Shortcut := ''), (* e Length_Centimeters *) (s Name := 'Centimeters', s Desc ription := 'Länge', s Shortcut := 'cm'), (* e Mass Flow_Pounds Mass Per Second *) (s Name := 'Pounds Mass per Second', s Desc ription := '', s Shortcut := ''), (* e Temperature_Delta Degrees Fahrenheit *) (s Name := 'Delta Degrees Fahrenheit', s Desc ription := '', s Shortcut := ''), (* e Temperature_Delta Degrees Kelvin *) (s Name := 'Delta Degrees Kelvin', s Desc ription := 'Temperaturdifferenz', s Shortcut := 'delta K'), (* e Electrical_Kilohms *) (s Name := 'Kilohms', s Desc ription := 'Spezifischer elektrischer Widerstand', s Shortcut := 'k Ohm'), (* e Electrical_Megohms *) (s Name := 'Megohms', s Desc ription := 'Spezifischer elektrischer Widerstand', s Shortcut := 'MOhm'), (* e Electrical_Millivolts *) (s Name := 'Millivolts', s Desc ription := 'Elektrische Spannung', s Shortcut := 'm V'), (* e Energy_Kilojoules Per Kilogram *) (s Name := 'Kilojoules per Kilogram', s Desc ription := 'Enthalpie', s Shortcut := 'k J/kg'), (* e Energy_Megajoules *) (s Name := 'Megajoules', s Desc ription := 'Energie', s Shortcut := 'MJ'), (* e Entropy_Joules Per Degree Kelvin *) (s Name := 'Joules per Degree Kelvin', s Desc ription := 'Entropie', s Shortcut := 'J/K'), (* e Entropy_Joules Per Kilogram Degree Kelvin*) (s Name := 'Joules per Kilogram Degree Kelvin', s Des cription := 'Spezifische Entropie', s Shortcut := 'J/(kg K)'), (* e Frequency_Kilohertz *) (s Name := 'Kilohertz', s Desc ription := 'Frequenz', s Shortcut := 'k Hz'), (* e Frequency_Megahertz *) (s Name := 'Megahertz', s Desc ription := 'Frequenz', s Shortcut := 'MHz'), (* e Frequency_Per Hour *) (s Name := 'Per Hour', s Desc ription := 'Drehzahl', s Shortcut := '1/h'), (* e Power_Milliwatts *) (s Name := 'Milliwatts', s Desc ription := 'Leistung', s Shortcut := 'm W'), (* e Pressure_Hectopascals *) (s Name := 'Hectopascals', s Desc ription := 'Druck', s Shortcut := 'h Pa'), (* e Pressure_Millibars *) (s Name := 'Millibars', s Desc ription := 'Druck', s Shortcut := 'mbar'), (* e Volumetric Flow_Cubic Meters Per Hour *) (s Name := 'Cubic Meters per Hour', s Desc ription := 'Volumenstrom', s Shortcut := 'm³/h'), (* e Volumetric Flow_Liters Per Hour *) (s Name := 'Liters per Hour', s Desc ription := 'Volumenstrom', s Shortcut := 'l/h'), (* e Other_Kilowatt Hours Per Square Meter *) (s Name := 'Kilowatt Hours per Square Meter', s Desc ription := 'Energiebedarfskennwert', s Shortcut := 'k Wh/m²'), (* e Other_Kilowatt Hours Per Square Foot *) (s Name := 'Kilowatt Hours per Square Foot', s Desc ription := '', s Shortcut := ''), (* e Other_Megajoules Per Square Meter *) (s Name := 'Megajoules per Square Meter', s Desc ription := 'Energiebedarfskennwert', s Shortcut := 'MJ/m²'), (* e Other_Megajoules Per Square Foot *) (s Name := 'Megajoules per Square Foot', s Desc ription := '', s Shortcut := ''), (* e Other_Watts Per Square Meter Degree Kelvin*) (s Name := 'Watts per Square Meter Degree Kelvin',s Des cription := 'Wärmedurchgangskoeffizient', s Shortcut := 'W/(m² K)'), (* e Volumetric Flow_Cubic Feet Per Second *) (s Name := 'Cubic Feet per Second', s Desc ription := 'Volumenstrom', s Shortcut := 'cf/sec'), (* e Other_Percent Obscuration Per Foot *) (s Name := 'Percent Obscuration per Foot', s Desc ription := '', s Shortcut := ''), (* e Other_Percent Obscuration Per Meter *) (s Name := 'Percent Obscuration per Meter', s Desc ription := 'Verdunkelung (Rauchmelder)', s Shortcut := '%/m'), (* e Electrical_Milliohms *) (s Name := 'Milliohms', s Desc ription := 'Spezifischer elektrischer Widerstand', s Shortcut := 'm Ohm'), (* e Energy_Megawatt Hours *) (s Name := 'Megawatt Hours', s Desc ription := 'Energie', s Shortcut := 'MWh'), (* e Energy_Kilo Btus *) (s Name := 'Kilo Btus', s Desc ription := '', s Shortcut := ''), (* e Energy_Mega Btus *) (s Name := 'Mega Btus', s Desc ription := '', s Shortcut := ''), (* e Enthalpy_Kilojoules Per Kilogram Dry Air*) (s Name := 'Kilojoules per Kilogram Dry Air', s Desc ription := 'Enthalpie', s Shortcut := 'k J/kg tr. Luft'), TE1000 Version: 1.0.2 45
## Page 46

Programming (* e Enthalpy_Megajoules Per Kilogram Dry Air*) (s Name := 'Megajoules per Kilogram Dry Air', s Desc ription := 'Enthalpie', s Shortcut := 'MJ/kg tr. Luft'), (* e Entropy_Kilojoules Per Degree Kelvin *) (s Name := 'Kilojoules per Degree Kelvin', s Desc ription := 'Entropie', s Shortcut := 'k J/K'), (* e Entropy_Megajoules Per Degree Kelvin *) (s Name := 'Megajoules per Degree Kelvin', s Desc ription := 'Entropie', s Shortcut := 'MJ/K'), (* e Force_Newton *) (s Name := 'Newton', s Desc ription := 'Kraft', s Shortcut := 'N'), (* e Mass Flow_Grams Per Second *) (s Name := 'Grams per Second', s Desc ription := 'Massenstrom', s Shortcut := 'g/s'), (* e Mass Flow_Grams Per Minute *) (s Name := 'Grams per Minute', s Desc ription := 'Massenstrom', s Shortcut := 'g/min'), (* e Mass Flow_Tons Per Hour *) (s Name := 'Tons per Hour', s Desc ription := 'Massenstrom', s Shortcut := 't/h'), (* e Power_Kilo Btus Per Hour *) (s Name := 'Kilo Btus per Hour', s Desc ription := '', s Shortcut := ''), (* e Time_Hundredths Seconds *) (s Name := 'Hundredths Seconds', s Desc ription := 'Zeit', s Shortcut := '10-² s'), (* e Time_Milliseconds *) (s Name := 'Milliseconds', s Desc ription := 'Zeit', s Shortcut := 'ms'), (* e Torque_Newton Meters *) (s Name := 'Torque Newton Meters', s Desc ription := 'Drehmoment', s Shortcut := 'Nm'), (* e Velocity_Millimeters Per Second *) (s Name := 'Millimeters per Second', s Desc ription := 'Geschwindigkeit', s Shortcut := 'mm/s'), (* e Velocity_Millimeters Per Minute *) (s Name := 'Millimeters per Minute', s Desc ription := 'Geschwindigkeit', s Shortcut := 'mm/min'), (* e Velocity_Meters Per Minute *) (s Name := 'Meters per Minute', s Desc ription := 'Geschwindigkeit', s Shortcut := 'm/min'), (* e Velocity_Meters Per Hour *) (s Name := 'Meters per Hour', s Desc ription := 'Geschwindigkeit', s Shortcut := 'm/h'), (* e Volumetric Flow_Cubic Meters Per Minute *) (s Name := 'Cubic Meters per Minute', s Desc ription := 'Volumenstrom', s Shortcut := 'm³/min'), (* e Acceleration_Meters Per Second Per Second*) (s Name := 'Meters per Second per Second', s Des cription := 'Beschleunigung', s Shortcut := 'm/s²'), (* e Electrical_Amperes Per Meter *) (s Name := 'Amperes per Meter', s Desc ription := 'Strom pro Länge', s Shortcut := 'A/m'), (* e Electrical_Amperes Per Square Meter *) (s Name := 'Amperes per Square Meter', s Desc ription := 'Strom pro Fläche', s Shortcut := 'A/m²'), (* e Electrical_Ampere Square Meters *) (s Name := 'Ampere Square Meters', s Desc ription := 'Strom mal Fläche', s Shortcut := 'Am²'), (* e Electrical_Farads *) (s Name := 'Farads', s Desc ription := 'Elektrische Kapazität', s Shortcut := 'F'), (* e Electrical_Henrys *) (s Name := 'Henrys', s Desc ription := 'Induktivität', s Shortcut := 'H'), (* e Electrical_Ohm Meters *) (s Name := 'Ohm Meters', s Desc ription := 'Spezifischer elektrischer Widerstand', s Shortcut := 'Ohmm'), (* e Electrical_Siemens *) (s Name := 'Siemens', s Desc ription := 'Elektrischer Leitwert', s Shortcut := 'S'), (* e Electrical_Siemens Per Meter *) (s Name := 'Siemens per Meter', s Desc ription := 'Elektrische Leitfähigkeit', s Shortcut := 'S/m'), (* e Electrical_Teslas *) (s Name := 'Teslas', s Desc ription := 'Magnetische Flussdichte', s Shortcut := 'T'), (* e Electrical_Volts Per Degree Kelvin *) (s Name := 'Volts per Degree Kelvin', s Desc ription := 'Thermoelektrische Spannung', s Shortcut := 'V/K'), (* e Electrical_Volts Per Meter *) (s Name := 'Volts per Meter', s Desc ription := 'Elektrische Feldstärke', s Shortcut := 'V/m'), (* e Electrical_Webers *) (s Name := 'Webers', s Desc ription := 'Magnetischer Fluss', s Shortcut := 'Wb'), (* e Light_Candelas *) (s Name := 'Candelas', s Desc ription := 'Lichtstärke', s Shortcut := 'cd'), (* e Light_Candelas Per Square Meter *) (s Name := 'Candelas per Square Meter', s Desc ription := 'Leuchtdichte', s Shortcut := 'cd/m²'), (* e Temperature_Degrees Kelvin Per Hour *) (s Name := 'Degrees Kelvin per Hour', s Desc ription := 'Temperaturänderung pro Zeit', s Shortcut := 'K/h'), (* e Temperature_Degrees Kelvin Per Minute *) (s Name := 'Degrees Kelvin per Minute', s Desc ription := 'Temperaturänderung pro Zeit', s Shortcut := 'K/min'), (* e Other_Joule Seconds *) (s Name := 'Joule Seconds', s Desc ription := 'Drehimpuls', s Shortcut := 'Js'), (* e Other_Radians Per Second *) (s Name := 'Radians per Second', s Desc ription := 'Winkelgeschwindigkeit', s Shortcut := 'rad/s'), (* e Other_Square Meters Per Newton *) (s Name := 'Square Meters per Newton', s Desc ription := 'Kraftverteilung', s Shortcut := 'm²/N'), (* e Other_Kilograms Per Cubic Meter *) (s Name := 'Kilograms per Cubic Meter', s Desc ription := 'Dichte', s Shortcut := 'kg/m³'), (* e Other_Newton Seconds *) (s Name := 'Newton Seconds', s Desc ription := 'Impuls', s Shortcut := 'Ns'), (* e Other_Newtons Per Meter *) (s Name := 'Newtons per Meter', s Desc ription := 'Oberflächenspannung', s Shortcut := 'N/m'), (* e Other_Watts Per Meter Per Degree Kelvin *) (s Name := 'Watts per Meter per Degree Kelvin', s Desc ription := 'Wärmeleitfähigkeit', s Shortcut := 'W/m K'), 46 Version: 1.0.2 TE1000
## Page 47

Programming (* e Micro_Siemens *) (s Name := 'Micro Siemens', s Desc ription := 'Elektrischer Leitwert', s Shortcut := 'µS'), (* e Cubic_Feet Per Hour *) (s Name := 'Cubic Feet per Hour', s Desc ription := 'Durchsatz', s Shortcut := 'cf/h'), (* e Us_Gallons Per Hour *) (s Name := 'US Gallons per Hour', s Desc ription := 'Durchsatz', s Shortcut := 'G/h'), (* e Kilometers *) (s Name := 'Kilometers', s Desc ription := 'Länge', s Shortcut := 'km'), (* e Micrometers *) (s Name := 'Micrometers', s Desc ription := 'Länge', s Shortcut := 'µm'), (* e Grams *) (s Name := 'Grams', s Desc ription := 'Masse', s Shortcut := 'g'), (* e Milligrams *) (s Name := 'Milligrams', s Desc ription := 'Masse', s Shortcut := 'mg'), (* e Milliliters *) (s Name := 'Milliliters', s Desc ription := 'Volumen', s Shortcut := 'ml'), (* e Milliliters Per Second *) (s Name := 'Milliliters per Second', s Desc ription := 'Volumenstrom', s Shortcut := 'ml/s'), (* e Decibels *) (s Name := 'Decibels', s Desc ription := 'Schalldruckpegel', s Shortcut := 'd B'), (* e Decibels Millivolt *) (s Name := 'Decibels Millivolt', s Desc ription := 'Spannungspegel (bez.auf 1V)', s Shortcut := 'd BV'), (* e Decibels Volt *) (s Name := 'Decibels Volt', s Desc ription := 'Spannungspegel (bez.auf 1m V)', s Shortcut := 'd Bm V'), (* e Millisiemens *) (s Name := 'Millisiemens', s Desc ription := 'Elektrischer Leitwert', s Shortcut := 'm S'), (* e Watt_Hours Reactive *) (s Name := 'Watt Hours Reactive', s Desc ription := 'Elektrische Blindarbeit', s Shortcut := 'Whr'), (* e Kilowatt Hours Reactive *) (s Name := 'Kilowatt Hours Reactive', s Desc ription := 'Elektrische Blindarbeit', s Shortcut := 'k Whr'), (* e Megawatt Hours Reactive *) (s Name := 'Megawatt Hours Reactive', s Desc ription := 'Elektrische Blindarbeit', s Shortcut := 'MWhr'), (* e Millimeters Of Water *) (s Name := 'Millimeters of Water', s Desc ription := 'Druck', s Shortcut := 'mm WS'), (* e Per_Mille *) (s Name := 'Per Mille', s Desc ription := 'Promille', s Shortcut := '‰'), (* e Grams_Per Gram *) (s Name := 'Grams per Gram', s Desc ription := 'Massenanteil', s Shortcut := 'g/g'), (* e Kilograms_Per Kilogram *) (s Name := 'Kilograms per Kilogram', s Desc ription := 'Massenanteil', s Shortcut := 'kg/kg'), (* e Grams_Per Kilogram *) (s Name := 'Grams per Kilogram', s Desc ription := 'Massenanteil', s Shortcut := 'g/kg'), (* e Milligrams_Pe Gram *) (s Name := 'Milligrams per Gram', s Desc ription := 'Massenanteil', s Shortcut := 'mg/g'), (* e Milligrams_Pe Kilogram *) (s Name := 'Milligrams per Kilogram', s Desc ription := 'Massenanteil', s Shortcut := 'mg/kg'), (* e Grams_Per Milliliter *) (s Name := 'Grams per Milliliter', s Desc ription := 'Massenkonzentration', s Shortcut := 'g/ml'), (* e Grams_Per Liter *) (s Name := 'Grams per Liter', s Desc ription := 'Massenkonzentration', s Shortcut := 'g/l'), (* e Milligrams_Per Liter *) (s Name := 'Milligrams per Liter', s Desc ription := 'Massenkonzentration', s Shortcut := 'mg/l'), (* e Micrograms_Per Liter *) (s Name := 'Micrograms per Liter', s Desc ription := 'Massenkonzentration', s Shortcut := 'µg/l'), (* e Grams_Per Cubic Meter *) (s Name := 'Grams per Cubic Meter', s Desc ription := 'Massenkonzentration', s Shortcut := 'g/m3'), (* e Milligrams_Per Cubic Meter *) (s Name := 'Milligrams per Cubic Meter', s Desc ription := 'Massenkonzentration', s Shortcut := 'mg/m3'), (* e Micrograms_Per Cubic Meter *) (s Name := 'Micrograms per Cubic Meter', s Desc ription := 'Massenkonzentration', s Shortcut := 'µg/m3'), (* e Nanograms_Per Cubic Meter *) (s Name := 'Nanograms per Cubic Meter', s Desc ription := 'Massenkonzentration', s Shortcut := 'ng/m3'), (* e Grams_Per Cubic Centimeter *) (s Name := 'Grams per Cubic Centimeter', s Desc ription := 'Massenkonzentration', s Shortcut := 'g/cm3'), (* e Becquerels *) (s Name := 'Becquerels', s Desc ription := 'Aktivität (radioaktiver Stoff)', s Shortcut := 'Bq'), (* e Kilobecquerels *) (s Name := 'Kilobecquerels', s Desc ription := 'Aktivität (radioaktiver Stoff)', s Shortcut := 'k Bq'), (* e Megabecquerels *) (s Name := 'Megabecquerels', s Desc ription := 'Aktivität (radioaktiver Stoff)', s Shortcut := 'MBq'), (* e Gray *) (s Name := 'Gray', s Desc ription := 'Energiedosis (ionisierende Strahlung)', s Shortcut := 'Gy'), (* e Milligray *) (s Name := 'Milligray', s Desc ription := 'Energiedosis (ionisierende Strahlung)', s Shortcut := 'm Gy'), (* e Microgray *) (s Name := 'Microgray', s Desc ription := 'Energiedosis (ionisierende Strahlung)', s Shortcut := 'µGy'), (* e Sieverts *) (s Name := 'Sieverts', s Desc ription := 'Äquivalenzdosis (gewichtete Strahlendosis)', s Shortcut := 'Sv'), (* e Millisieverts *) (s Name := 'Millisieverts', s Desc ription := 'Äquivalenzdosis (gewichtete Strahlendosis)', s Shortcut := 'm Sv'), TE1000 Version: 1.0.2 47
## Page 48

Programming (* e Microsieverts *) (s Name := 'Microsieverts', s Desc ription := 'Äquivalenzdosis (gewichtete Strahlendosis)', s Shortcut := 'µSv'), (* e Microsieverts Per Hour *) (s Name := 'Microsieverts per Hour', s Descr iption := 'Äquivalenzdosisleistung', s Shortcut := 'µSv/h'), (* e Decibels_A *) (s Name := 'Decibels A', s Desc ription := 'A - bewerteter Schalldruckpegel', s Shortcut := 'd B(a)'), (* e Nephelometric_Turbidity Unit *) (s Name := 'Nephelometric Turbidity Unit', s Desc ription := 'Trübung (Wasserqualität)', s Shortcut := 'NTU'), (* e PH *) (s Name := 'PH', s Desc ription := 'Wasserstoffionen-Konzentration', s Shortcut := ''), (* e Grams_Per Square Meter *) (s Name := 'Grams per Square Meter', s Desc ription := 'Flächengewicht', s Shortcut := 'g/m2'), (* e Minutes_Per Degree Kelvin *) (s Name := 'Minutes per Degree Kelvin', s Desc ription := 'Zeitänderung pro Temperatureinheit', s Shortcut := 'min/K') ]; a Measuring Element : ARRAY[E_BA_Measuring Element. First .. E_BA_Measuring Element. Last] OF ST_BA_Enum I nfo := [ (* e NI100 *) (s Name := 'NI100', s Desc ription := 'Nickel 100', s Shortcut := ''), (* e NI120 *) (s Name := 'NI120', s Desc ription := 'Nickel 120', s Shortcut := ''), (* e NI1000 *) (s Name := 'NI1000', s Desc ription := 'Nickel 1000 (Standard)', s Shortcut := ''), (* e NI1000_LS *) (s Name := 'NI1000 LS', s Desc ription := 'Nickel 1000 (Landis & Staefa)', s Shortcut := ''), (* e NTC1K8 *) (s Name := 'NTC1K8', s Desc ription := 'NTC 1,8 k Ohms', s Shortcut := ''), (* e NTC1K8_TK *) (s Name := 'NTC1K8 TK', s Desc ription := 'NTC 1,8 k Ohms (TK)', s Shortcut := ''), (* e NTC2K2 *) (s Name := 'NTC2K2', s Desc ription := 'NTC 2,2 k Ohms', s Shortcut := ''), (* e NTC3K *) (s Name := 'NTC3K', s Desc ription := 'NTC 3 k Ohms', s Shortcut := ''), (* e NTC5K *) (s Name := 'NTC5K', s Desc ription := 'NTC 5 k Ohms', s Shortcut := ''), (* e NTC10K *) (s Name := 'NTC10K', s Desc ription := 'NTC 10 k Ohms', s Shortcut := ''), (* e NTC10KPRE *) (s Name := 'NTC10KPRE', s Desc ription := 'NTC 10 k Ohms (Precon)' s Shortcut := ''), (* e NTC10K_3204 *) (s Name := 'NTC10K 3204', s Desc ription := 'NTC 10 k Ohms 3204', s Shortcut := ''), (* e NTC10KTYP2 *) (s Name := 'NTC10K TYP2', s Desc ription := 'NTC 10 k Ohms TYP2', s Shortcut := ''), (* e NTC10KTYP3 *) (s Name := 'NTC10K TYP3', s Desc ription := 'NTC 10 k Ohms TYP3', s Shortcut := ''), (* e NTC10KDALE *) (s Name := 'NTC10K DALE', s Desc ription := 'NTC 10 k Ohms DALE', s Shortcut := ''), (* e NTC10K3A221 *) (s Name := 'NTC10K 3A221', s Desc ription := 'NTC 10 k Ohms 3A221', s Shortcut := ''), (* e NTC20K *) (s Name := 'NTC20K', s Desc ription := 'NTC 20 k Ohms', s Shortcut := ''), (* e NTC100K *) (s Name := 'NTC100K', s Desc ription := 'NTC 100 k Ohms', s Shortcut := ''), (* e Poti_Resolution_01 *) (s Name := 'Poti (Resolution 0,1 Ohms)', s Desc ription := 'Potentiometer (Resolution 0,1 Ohms)', s Shortcut := ''), (* e Poti_Resolution_1 *) (s Name := 'Poti (Resolution 1 Ohm)', s Desc ription := 'Potentiometer (Resolution 1 Ohm)', s Shortcut := ''), (* e Output_10_5000 *) (s Name := 'Output (10 to 5000 Ohms)', s Desc ription := 'Output (10 to 5000 Ohms)', s Shortcut := ''), (* e Output_10_1200 *) (s Name := 'Output (10 to 1200 Ohms)', s Desc ription := 'Output (10 to 1200 Ohms)', s Shortcut := ''), (* e PT100 *) (s Name := 'PT100', s Desc ription := 'PT 100', s Shortcut := ''), (* e PT200 *) (s Name := 'PT200', s Desc ription := 'PT 200', s Shortcut := ''), (* e PT500 *) (s Name := 'PT500', s Desc ription := 'PT 500', s Shortcut := ''), (* e PT1000 *) (s Name := 'PT1000', s Desc ription := 'PT 1000', s Shortcut := '') ]; a Toggle Mode : ARRAY[E_BA_Toggle Mode. First .. E_BA_Toggle Mode. Last] OF ST_BA_Enum Info := [ (* e Switch *) (s Name := 'Schalter', s Desc ription := 'Einrastender Schalter', s Shortcut := ''), (* e Push Button *) (s Name := 'Taster', s Desc ription := 'Nicht-einrastender Schalter', s Shortcut := '') ]; 48 Version: 1.0.2 TE1000
## Page 49

Programming a Action : ARRAY[E_BA_Action. First .. E_BA_Action. Last] OF ST_BA_Enum Info := [ (* e Direct *) (s Name := 'Direkt', s Desc ription := 'Gleichläufiger Wirksinn', s Shortcut := ''), (* e Reverse *) (s Name := 'Indirekt', s Desc ription := 'Gegenläufiger Wirksinn', s Shortcut := '') ]; a Event State : ARRAY[E_BA_Event State. First .. E_BA_Event State. Last] OF ST_BA_Enum Info := [ (* e Normal *) (s Name := 'Normal', s Desc ription := '', s Shortcut := ''), (* e Fault *) (s Name := 'Fehler', s Desc ription := '', s Shortcut := ''), (* e Offnormal *) (s Name := 'Unnormal', s Desc ription := '', s Shortcut := ''), (* e Low Limit *) (s Name := 'Unter Grenzwert', s Desc ription := 'Unterschreitung des definierten Grenzwert', s Shortcut := ''), (* e High Limit *) (s Name := 'Über Grenzwert', s Desc ription := 'Überschreitung des definierten Grenzwert', s Shortcut := '') ]; a Reliability : ARRAY[E_BA_Reliability. First .. E_BA_Reliability. Last] OF ST_BA_Enum Info := [ (* e No Fault Detected *) (s Name := 'Kein Fehler', s Desc ription := '', s Shortcut := ''), (* e No Sensor *) (s Name := 'Sensorfehler', s Desc ription := 'TODO', s Shortcut := ''), (* e Over Range *) (s Name := 'Über Bereich', s Desc ription := 'Überschreitung des definierten Rohwert-Bereichs', s Shortcut := ''), (* e Under Range *) (s Name := 'Unter Bereich', s Desc ription := 'Unterschreitung des definierten Rohwert-Bereichs', s Shortcut := ''), (* e Open Loop *) (s Name := 'Drahtbruch', s Desc ription := '', s Shortcut := ''), (* e Shorted Loop *) (s Name := 'Kurzschluß', s Desc ription := '', s Shortcut := ''), (* e No Output *) (s Name := 'Kein Ausgang', s Desc ription := 'TODO', s Shortcut := ''), (* e Unreliable Other *) (s Name := 'Sonstiges', s Desc ription := '', s Shortcut := ''), (* e Process Error *) (s Name := 'Prozessfehler', s Desc ription := 'TODO', s Shortcut := ''), (* e Multi State Fault *) (s Name := 'Multistate- Fehler', s Description := 'TODO', s Shortcu t := ''), (* e Configuration Error *) (s Name := 'Konfigurationsfehler', s Desc ription := '', s Shortcut := ''), (* *) (), (* e Communication Failure *) (s Name := 'Kommunikationsfehler', s Desc ription := '', s Shortcut := ''), (* e Member Fault *) (s Name := 'Fehler Teilnehmer', s Desc ription := 'TODO', s Shortcut := '') ]; a Polarity : ARRAY[E_BA_Polarity. First .. E_BA_Polarity. Last] OF ST_BA_Enum Info := [ (* e Normal *) (s Name := 'Normal', s Desc ription := 'Direkte Polarität', s Shortcut := ''), (* e Reverse *) (s Name := 'Invertiert', s Desc ription := 'Indirekte Polarität', s Shortcut := '') ]; a Byte Mapping Mode : ARRAY[E_BA_Byte Mapping Mode. First .. E_BA_Byte Mapping Mode. Last] OF ST_BA_Enum Info := [ (* e Index1N *) (s Name := 'Index 1- N', s Description := 'TODO', s Shortcut := ''), (* e Binary1N *) (s Name := 'Binary 1- N', s Description := 'TODO', s Shortcut := ''), (* e Index Up Down *) (s Name := 'Index Up- Down', s Description := 'TODO', s Shortcut := ''), (* e Binary Up Down *) (s Name := 'Binary Up- Down', s Description := 'TODO', s Shortcut := ''), (* e Binary Decimal *) (s Name := 'Binary Decimal', s Description := 'TODO ', s Shortcut := '') ]; a PIDMode : ARRAY[E_BA_PIDMode. First .. E_BA_PIDMode. Last] OF ST_BA_Enum Info := [ TE1000 Version: 1.0.2 49
## Page 50

Programming (* e P1ID *) (s Name := 'P1ID', s Description := 'Vorgelag erter P-Anteil beeinflusst I- und D-Anteil', s Shortcut := ''), (* e PID *) (s Name := 'PID', s Description := 'Addition von P-, I- und D-Anteilen (Standard)', s Shortcut := '') ]; a Logging Type : ARRAY[E_BA_Logging Type. First .. E_BA_Logging Type. Last] OF ST_BA_Enum Info := [ (* e Polled *) (s Name := 'Polled', s Description := 'Gen eriert Log-Einträge in konstanten Intervallen', s Shortcut := ''), (* e COV *) (s Name := 'COV', s Description := 'Gen eriert Log-Einträge bei Wertänderung', s Shortcut := ''), (* e Triggered *) (s Name := 'Triggered', s Description := 'Gen eriert Log-Einträge ereignisgesteuert', s Shortcut := '') ]; a Language : ARRAY[E_BA_Language. First .. E_BA_Language. Last] OF ST_BA_Enum Info := [ (* e English *) (s Name := 'Englisch', s Description := 'Englisch (1033)', s Shortcut := 'EN'), (* e German *) (s Name := 'Deutsch', s Description := 'Deutsch (1031)', s Shortcut := 'DE') ]; END_VAR 4.3 POUs 4.3.1 Functions 4.3.1.1 Compare 4.3.1.1.1 F_BA_Compare Version The function F_BA_Compare Version of return type BOOL compares two version numbers st Version1 and st Version2, each of type ST_BA_Version [} 38]. The input variable n Limit specifies how many digits are to be compared, starting with 1 = "Major". The enumeration e Compare specifies the comparison operation. The function return value changes to TRUE if the comparison is fulfilled. For example, if st Version1 is lower than st Version2, then the comparison e Compare = E_BA_Compare Mode.e Lower returns a TRUE as function return. Syntax FUNCTION F_BA_Compare Version : BOOL VAR_INPUT st Version1 : ST_BA_Version; st Version2 : ST_BA_Version; e Compare : E_BA_Compare Mode := E_BA_Compare Mode.e Equal; n Limit : UINT(1 .. 4) := 4; END_VAR Inputs Name Type Description st Version1, ST_BA_Version [} 38] Version numbers to be compared. st Version2 50 Version: 1.0.2 TE1000
## Page 51

Programming Name Type Description e Compare E_BA_Compare Mode Comparison operation to be performed. [} 8] n Limit UINT(1 ... 4) Number of digits to be compared, starting with "Major". Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.2 Memory 4.3.1.2.1 F_BA_Byte Cmp The function F_BA_Byte Cmp of return type DINT compares the contents of a memory area in byte steps with a compare byte n Compare. As soon as a byte is found within the memory area that is lower in value than the comparison byte, the function aborts its comparison and assumes the return value "-1". If a byte is found that is greater than the comparison byte, the function also aborts and takes the return value "1". If, on the other hand, no difference is found, i.e. all bytes of the memory area to be examined are identical to the comparison byte, the function assumes the value "0" when the comparison is completed. The input variable p Value marks the beginning of the memory area, the variable n Size the length. In case of an incorrect input, i.e. p Value = 0 or n Size = 0, the function is also aborted immediately and takes "-1" as return value. Syntax FUNCTION F_BA_Byte Cmp : DINT VAR_INPUT p Value : PVOID; n Size : UXINT; n Compare : BYTE; END_VAR Inputs Name Type Description p Value PVOID Pointer to the beginning of the memory area to be examined. n Size UXINT Length of the memory area. n Compare BYTE Comparison byte. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 TE1000 Version: 1.0.2 51
## Page 52

Programming 4.3.1.2.2 F_BA_Cmp The function F_BA_Cmp of return type DINT compares two memory areas of the same size. Here p Value defines the beginning of the observation area and p Compare the beginning of the area to be compared. It is compared byte by byte. As soon as a byte is found in the observation area which is smaller than the one of the area to be compared, the function aborts the comparison and takes the return value "-1". If a byte is found in the observation area that is larger than that of the area to be compared, the function also aborts and takes the return value "1". If, on the other hand, no difference is found, i.e. all bytes of the observation area are identical to those of the area to be compared, the function assumes the value "0" at the end of the comparison. The output n Equal Bytes shows how many bytes were equal before the comparison operation was completed or aborted. The input variable n Size defines the size of the two memory areas. In case of an incorrect input, i.e. p Value = 0 or n Size = 0, the function is also aborted immediately and takes "-1" as return value. Syntax FUNCTION F_BA_Cmp : DINT VAR_INPUT p Value : PVOID; p Compare : PVOID; n Size : UXINT; END_VAR VAR_OUTPUT n Equal Bytes : UINT; END_VAR Inputs Name Type Description p Value PVOID Pointer to the beginning of the memory area to be examined. p Compare PVOID Pointer to the beginning of the memory area to be compared. n Size UXINT Length of the memory area. Outputs Name Type Description n Equal Bytes UINT Display how many bytes were equal before the comparison operation was completed or aborted. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.2.3 F_BA_Get Used Entry Count 52 Version: 1.0.2 TE1000
## Page 53

Programming The function F_BA_Get Used Entry Count of return type DINT searches the memory area of an ARRAY for the first entry marked as "unused" with x Unused Val. The memory area of the array is examined step by step starting from the address p Array: the step size is given by the size of x Unused Val, the number of comparison steps by the difference of n Lower Bound and n Upper Bound. It is assumed that the entries n Lower Bound and n Upper Bound are correct. The return value of the function shows how many elements do not match the value x Unused Val until it is found. If the value is found, the search is aborted. In case of an incorrect input, i.e. p Array = 0 or if the size of x Unused Val = 0, the function is aborted immediately and takes "0" as return value. Syntax FUNCTION F_BA_Get Used Entry Count : DINT VAR_INPUT p Array : PVOID; n Lower Bound : DINT; n Upper Bound : DINT; x Unused Val : ANY; END_VAR Inputs Name Type Description p Array PVOID Pointer to the beginning of the memory area where the array to be examined is located. n Lower Bound DINT Lower range limit of the array. n Upper Bound DINT Upper range limit of the array. x Unused Val ANY If an element of the array has the value specified here, it is considered "unused". Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.2.4 F_BA_Mem Set The function F_BA_Mem Set of return type UDINT describes the address range starting with p Dest Addr with the value of a variable x Value of any type. The function return value itself is assigned the result of the internal MEMCPY function, i.e. "0" for incorrect copying and values greater than "0" for the number of bytes copied. Syntax FUNCTION F_BA_Mem Set : UDINT VAR_INPUT p Dest Addr : PVOID; x Value : ANY; END_VAR Inputs Name Type Description p Dest Addr PVOID Destination address of the write operation. TE1000 Version: 1.0.2 53
## Page 54

Programming Name Type Description x Value ANY Value to be written. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.2.5 F_BA_Mem Set Ex The function F_BA_Met Set Ex of return type UDINT fills the address range starting with p Dest Addr and length n Dest Size with the value of a variable x Value of any type. The prerequisite for this is that the defined filling area is larger by an integer multiple than the filling variable x Value itself: n Dest Size = n * x Value.di Size. The function return value itself is assigned the result of the internal MEMCPY function, i.e. "0" for incorrect copying and values greater than "0" for the number of bytes copied. The value "0" is also returned if the defined filling area is not larger than the filling variable x Value by an integer multiple, and filling has not taken place. Syntax FUNCTION F_BA_Mem Set Ex : UDINT VAR_INPUT p Dest Addr : PVOID; n Dest Size : UDINT; x Value : ANY; END_VAR Inputs Name Type Description p Dest Addr PVOID Destination address of the filling area. n Dest Size UDINT Size of the filling area. x Value ANY Filling value Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.2.6 F_BA_Offset Ptr The function F_BA_Offest Ptr of return type PVOID adds an offset n Offset to the entered address p Addr and returns the result as return value of the function. This value then in turn represents an address. The function distinguishes internally whether the runtime system used is of type x64 or x86: for the x64 system the offset is converted to a variable of type ULINT and added, for an x86 system to a variable of type UDINT. 54 Version: 1.0.2 TE1000
## Page 55

Programming Syntax FUNCTION F_BA_Offset Ptr : PVOID VAR_INPUT p Addr : PVOID; n Offset : DINT; END_VAR Inputs Name Type Description p Addr PVOID Base address n Offset DINT Offset Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.2.7 F_BA_Diff Ptr The function F_BA_Diff Ptr of return type UDINT specifies the difference between two memory addresses as an absolute value: internally the smaller address is subtracted from the larger one. Syntax FUNCTION F_BA_Diff Ptr : UDINT VAR_INPUT p Addr1 : PVOID; p Addr2 : PVOID; END_VAR Inputs Name Type Description p Addr1 PVOID Address 1 p Addr2 PVOID Address 2 Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.3 Types 4.3.1.3.1 Any LEN The function Any LEN with the return type INT determines the described length of a string variable. This is applied to input STR of type ANY and can thus be analyzed. TE1000 Version: 1.0.2 55
## Page 56

Programming For string variables, fixed memory areas are reserved depending on the declaration, but these are usually only partially filled with a text. If the created variable is of type STRING, the memory area in which the variable is located is searched byte by byte until a byte with the value "0" is found, i.e. the end of the filling text is reached. The return value of the function is equal to the number of bytes searched, excluding the "0" found. If no byte with the value "0" is found, a text fills the entire area of the string, the return value of the function then corresponds to the memory size of the created string in bytes. If the created variable is not of type STRING, the memory size of the variable in bytes is assigned to the return value of the function. Syntax FUNCTION Any LEN : INT VAR_INPUT STR : ANY; END_VAR Inputs Name Type Description STR ANY Variable to be examined. In principle, any simple variable type can be created here. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.3.2 Class Value 4.3.1.3.2.1 F_BA_BVal The return value of the F_BA_BVal function is created by the structure of type U_BA_Class Value [} 40]. The input value b Value is written to the variable b Val of this structure. Due to the data type UNION, whose elements all start from the same memory address, all other values of this structure change as well. Syntax FUNCTION F_BA_BVal : U_BA_Class Value VAR_INPUT b Value : BOOL; END_VAR Inputs Name Type Description b Value BOOL This value is assigned to i Val in the output structure. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 56 Version: 1.0.2 TE1000
## Page 57

Programming 4.3.1.3.2.2 F_BA_Byte Val The return value of the F_BA_Byte Val function is created by the structure of type U_BA_Class Value [} 40]. The input values n Byte1, n Byte2, n Byte3 and n Byte4 are assigned in this structure on the respective values n Byte Val[1], n Byte Val[2], n Byte Val[3] and n Byte Val[4]. Due to the data type UNION, whose elements all start from the same memory address, all other values of this structure change as well. Syntax FUNCTION F_BA_Byte Val : U_BA_Class Value VAR_INPUT n Byte1 : BYTE; n Byte2 : BYTE; n Byte3 : BYTE; n Byte4 : BYTE; END_VAR Inputs Name Type Description n Byte1 BYTE This value is assigned _n Byte Val[1]_to the output structure. n Byte2 BYTE This value is assigned _n Byte Val[2]_to the output structure. n Byte3 BYTE This value is assigned _n Byte Val[3]_to the output structure. n Byte4 BYTE This value is assigned _n Byte Val[4]_to the output structure. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.3.2.3 F_BA_IVal The return value of the F_BA_IVal function is created by the structure of type U_BA_Class Value [} 40]. The input value n Value is written to the variable i Val of this structure. Due to the data type UNION, whose elements all start from the same memory address, all other values of this structure change as well. Syntax FUNCTION F_BA_IVal : U_BA_Class Value VAR_INPUT n Value : INT; END_VAR Inputs Name Type Description n Value INT This value is assigned to i Val in the output structure. TE1000 Version: 1.0.2 57
## Page 58

Programming Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.3.2.4 F_BA_RVal The return value of the F_BA_RVal function is created by the structure of type U_BA_Class Value [} 40]. The input value f Value is written to the variable r Val of this structure. Due to the data type UNION, whose elements all start from the same memory address, all other values of this structure change as well. Syntax FUNCTION F_BA_RVal : U_BA_Class Value VAR_INPUT f Value : REAL; END_VAR Inputs Name Type Description f Value REAL This value is assigned to r Val in the output structure. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.3.2.5 F_BA_UDIVal The return value of the F_BA_UDIVal function is created by the structure of type U_BA_Class Value [} 40]. The input value n Value is written to the variable udi Val of this structure. Due to the data type UNION, whose elements all start from the same memory address, all other values of this structure change as well. Syntax FUNCTION F_BA_UDIVal : U_BA_Class Value VAR_INPUT n Value : BOOL; END_VAR Inputs Name Type Description n Value UINT This value is assigned to udi Val in the output structure. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 58 Version: 1.0.2 TE1000
## Page 59

Programming 4.3.1.3.3 Date and Time 4.3.1.3.3.1 Check 4.3.1.3.3.1.1 F_BA_Date Has Placeholder The function F_BA_Date Has Placeholder of return type BOOL returns a TRUE if from the input structure the year, month, day or weekday component holds the placeholder value 16#FF. Syntax FUNCTION F_BA_Date Has Placeholder : BOOL VAR_INPUT st Date : ST_BA_Date; END_VAR Inputs Name Type Description st Date ST_BA_Date [} 33] Observed date-time entry. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.3.3.1.2 F_BA_Date Unspecified The function F_BA_Date Unspecified of return type BOOL returns a TRUE if the year, month, day and weekday components of the input structure have the placeholder value 16#FF. Syntax FUNCTION F_BA_Date Unspecified : BOOL VAR_INPUT st Date : ST_BA_Date; END_VAR Inputs Name Type Description st Date ST_BA_Date [} 33] Observed date-time entry. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 TE1000 Version: 1.0.2 59
## Page 60

Programming 4.3.1.3.3.1.3 F_BA_Is Leap Year The function F_BA_Is Leap Year of return type BOOL returns a TRUE if the entered year is a leap year. Syntax FUNCTION F_BA_Is Leap Year : BOOL VAR_INPUT n Year : UDINT; END_VAR Inputs Name Type Description n Year UDINT Year to be studied. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.3.3.1.4 F_BA_Time Has Placeholder The function F_BA_Time Has Placeholder of return type BOOL returns a TRUE if from the input structure the hour, minute or second component holds the placeholder value 16#FF. Syntax FUNCTION F_BA_Time Has Placeholder : BOOL VAR_INPUT st Time : ST_BA_Time; END_VAR Inputs Name Type Description st Time ST_BA_Time [} 34] Observed day-time entry. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.3.3.1.5 F_BA_Time Unspecified 60 Version: 1.0.2 TE1000
## Page 61

Programming The function F_BA_Time Unspecified of return type BOOL returns a TRUE if from the input structure the hour, minute and second components hold the placeholder value 16#FF. Syntax FUNCTION F_BA_Time Unspecified : BOOL VAR_INPUT st Time : ST_BA_Time; END_VAR Inputs Name Type Description st Time ST_BA_Time [} 34] Observed day-time entry. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.3.3.2 Convert 4.3.1.3.3.2.1 F_BA_Time Struct_TO_Date Time The function F_BA_TIMESTRUCT_TO_Date Time of return type ST_BA_Date Time [} 34] converts a time value t Value of type TIMESTRUCT into a time value of type ST_BA_Date Time [} 34]. Syntax FUNCTION F_BA_TIMESTRUCT_TO_Date Time : ST_BA_Date Time VAR_INPUT t Value : TIMESTRUCT; END_VAR Inputs Name Type Description t Value TIMESTRUCT Time input value to be converted. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.3.3.2.2 F_BA_Time Struct_TO_Time The function F_BA_TIMESTRUCT_TO_Time of return type ST_BA_Time [} 34] converts a time value t Value of type TIMESTRUCT into a time value of type ST_BA_Time [} 34]. TE1000 Version: 1.0.2 61
## Page 62

Programming Syntax FUNCTION F_BA_TIMESTRUCT_TO_Time : ST_BA_Time VAR_INPUT t Value : TIMESTRUCT; END_VAR Inputs Name Type Description t Value TIMESTRUCT Time input value to be converted. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.3.3.2.3 F_BA_To100ms Date The function F_BA_To100ms Date of return type UDINT converts a date st BACnet Date of type ST_BA_Date [} 33] into a tenths of a second value related to 01.01.1900 00:00:00. Syntax FUNCTION F_BA_To100ms Date : UDINT VAR_INPUT st BACnet Date : ST_BA_Date; END_VAR Inputs Name Type Description st BACnet Date ST_BA_Date [} 33] Date input value to be converted. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.3.3.2.4 F_BA_To100ms Time The function F_BA_To100ms Time of return type UDINT converts a time of day st BACnet Time of type ST_BA_Time [} 34] into tenths of a second starting from 00:00:00. Entries of the time input value st BACnet Time, which are unspecified, i.e. entries with the value 16#FF, are evaluated in the calculation with 0. 62 Version: 1.0.2 TE1000
## Page 63

Programming Syntax FUNCTION F_BA_To100ms Time : UDINT VAR_INPUT st BACnet Time : ST_BA_Time; END_VAR Inputs Name Type Description st BACnet Time ST_BA_Time [} 34] Time input value to be converted. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.3.3.2.5 F_BA_To Date The function F_BA_To DATE of return type DATE converts a date st Date of type ST_BA_Date [} 33] into a date of type DATE. Syntax FUNCTION F_BA_To DATE : DATE VAR_INPUT st Date : ST_BA_Date; END_VAR Inputs Name Type Description st Date ST_BA_Date [} 33] Date input value to be converted. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.3.3.2.6 F_BA_To DT The function F_BA_To DATE of return type DATE_AND_TIME converts a date st Date of type ST_BA_Date [} 33] into a date of type DATE_AND_TIME. Syntax FUNCTION F_BA_To DATE : DATE VAR_INPUT st Date : ST_BA_Date; END_VAR TE1000 Version: 1.0.2 63
## Page 64

Programming Inputs Name Type Description st Date ST_BA_Date [} 33] Date input value to be converted. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.3.3.2.7 F_BA_To STDate The function F_BA_To STDate of return type ST_BA_Date [} 33] converts a date d Value of type DATE into a date of type ST_BA_Date [} 33]. Syntax FUNCTION F_BA_To STDate : ST_BA_Date VAR_INPUT d Value : DATE; END_VAR Inputs Name Type Description d Value DATE Date input value to be converted. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.3.3.2.8 F_BA_To STDate Time The function F_BA_To STDate Time of return type ST_BA_Date Time [} 34] converts a time value dt Date Time of type DT (DATE_AND_TIME) into a time value of type ST_BA_Date Time [} 34]. Syntax FUNCTION F_BA_To STDate Time : ST_BA_Date Time VAR_INPUT dt Date Time : DT; END_VAR Inputs Name Type Description dt Date Time DT Time input value to be converted. 64 Version: 1.0.2 TE1000
## Page 65

Programming Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.3.3.2.9 F_BA_To STTime The function F_BA_To STTime of return type ST_BA_Time [} 34] converts a time value t Time of type TIME into a time value of type ST_BA_Time [} 34]. Syntax FUNCTION F_BA_To STTime : ST_BA_Time VAR_INPUT t Time : TIME; END_VAR Inputs Name Type Description t Time TIME Time input value to be converted. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.3.3.2.10 F_BA_To Time The function F_BA_To TIME of return type TIME converts a time value st Time of type ST_BA_Time [} 34] into a time value of type TIME. Entries of the time input value st Time, which are unspecified, i.e. entries with the value 16#FF, are evaluated in the calculation with 0. Syntax FUNCTION F_BA_To TIME : TIME VAR_INPUT st Time : ST_BA_Time; END_VAR Inputs Name Type Description st Time ST_BA_Time [} 34] Time input value to be converted. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 TE1000 Version: 1.0.2 65
## Page 66

Programming 4.3.1.3.3.3 F_BA_Count Leap Years The function F_BA_Count Leap Years of return type UDINT calculates the number of leap years from the entered start year n Start Year to the end of the period under consideration n Year (inclusive). Syntax FUNCTION F_BA_Count Leap Years : UDINT VAR_INPUT n Year : UDINT; n Start Year : UDINT := 0; END_VAR Inputs Name Type Description n Year UDINT End of the period under consideration. n Start Year UDINT Start of the period under consideration. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.3.3.4 F_BA_Date Merge The function F_BA_Date Merge of the return type ST_BA_Date [} 33] replaces those subcomponents of input date st Date1 which are evaluated as not specified (16#FF) with the corresponding components of input date st Date2. Syntax FUNCTION F_BA_Date Merge : ST_BA_Date VAR_INPUT st Date1 : ST_BA_Date; st Date2 : ST_BA_Date; END_VAR Inputs Name Type Description st Date1 ST_BA_Date [} 33] The input date, which is checked if parts need to be replaced. st Date2 ST_BA_Date [} 33] Input date, which is used to replace st Date1. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 66 Version: 1.0.2 TE1000
## Page 67

Programming 4.3.1.3.3.5 F_BA_Date Time String The function F_BA_Date Time String of return type STRING(19) converts a date st Date Time into a STRING of format DD. MM. YYYY hh:mm:ss. Decimal values smaller than 10 are preceded by a "0", e.g. the month September is displayed with "09" instead of simply "9". Implausible values (e.g. month > 12) or entries evaluated as unspecified, i.e. with 16#FF, are output with "**" or "****" for the year specification. Syntax FUNCTION F_BA_Date Time String : STRING(19) VAR_IN_OUT st Date Time : ST_BA_Date Time; END_VAR Inputs/outputs Name Type Description st Date Time ST_BA_Date Time Date and time from which the return string is formed. [} 34] Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.3.3.6 F_BA_Day Of Week The function F_BA_Day Of Week of return type E_BA_Weekday [} 14] determines the corresponding weekday from a given date st Date. Syntax FUNCTION F_BA_Day Of Week : E_BA_Weekday VAR_INPUT st Date : ST_BA_Date; END_VAR Inputs Name Type Description st Date ST_BA_Date [} 33] Date from which the day of the week is determined. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 TE1000 Version: 1.0.2 67
## Page 68

Programming 4.3.1.3.3.7 F_BA_Days In Month The function F_BA_Days In Month of return type UDINT determines from a given date st BACnet Date the number of days of the given month, provided that the month and the year are not evaluated as unspecified, i.e. with 16#FF. In case of missing specification the return value of the function is 16#FFFFFF. Syntax FUNCTION F_BA_Days In Month : UDINT VAR_INPUT st BACnet Date : ST_BA_Date; END_VAR Inputs Name Type Description st BACnet Date ST_BA_Date [} 33] Date from whose month the number of days is to be determined. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.3.3.8 F_BA_Get Date Time The function F_BA_Get Date Time of return type ST_BA_Date Time [} 34] outputs the date and time. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.3.3.9 F_BA_Get DT The function F_BA_Get DT of return type DT (DATE_AND_TIME) outputs the date and time. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 68 Version: 1.0.2 TE1000
## Page 69

Programming 4.3.1.3.3.10 F_BA_Time Merge The function F_BA_Time Merge of return type ST_BA_Time [} 34] replaces those subcomponents of the input timestamp st Time1 that are evaluated as unspecified (16#FF) with the corresponding components of the input timestamp st Time2. Syntax FUNCTION F_BA_Time Merge : ST_BA_Time VAR_INPUT st Time1 : ST_BA_Time; st Time2 : ST_BA_Time; END_VAR Inputs Name Type Description st Time1 ST_BA_Time [} 34] Input timestamp, which is checked. st Time2 ST_BA_Time [} 34] Input timestamp which is used to replace unspecified parts of st Time1. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.3.3.11 F_BA_Time String The function F_BA_Time String of return type STRING(12) converts a timestamp st Time into a STRING in the format hh:mm:ss:**. The last two digits of the hundredths of a second are ignored and filled with "*". Decimal values smaller than 10 are preceded by a "0", e.g. the ninth hour in the morning is represented with "09" instead of simply "9". Implausible values (e.g. second > 59) or entries evaluated as unspecified, i.e. with 16#FF, are output with "**". Syntax FUNCTION F_BA_Time String : STRING(12) VAR_IN_OUT st Time : ST_BA_Time; END_VAR Inputs/outputs Name Type Description st Time ST_BA_Time [} 34] Timestamp from which the return string is formed. TE1000 Version: 1.0.2 69
## Page 70

Programming Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.3.4 Date Value 4.3.1.3.4.1 F_BA_Date Range Val The function F_BA_Date Range Val of return type U_BA_Date Val [} 35] uses the input variables n From Year, e From Month, n From Day, n To Year, e To Month and n To Day fills the subcomponent ST_BA_Date Range [} 34] of the function return U_BA_Date Val [} 35]. This defines a time range. Syntax FUNCTION F_BA_Date Range Val : U_BA_Date Val VAR_INPUT n From Year : UINT(1900 .. 2155); e From Month : E_BA_Month := E_BA_Month. Unspecified; n From Day : UINT(1 .. 31); n To Year : UINT(1900 .. 2155); e To Month : E_BA_Month := E_BA_Month. Unspecified; n To Day : UINT(1 .. 31); END_VAR Inputs Name Type Description n From Year UINT Starting year of the time range. e From Month E_BA_Month [} 12] Starting month of the time range. n From Day UINT Start day of the time range. n To Year UINT End year of the time range. e To Month E_BA_Month [} 12] End month of the time range. n To Day UINT End tag of the time range. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.3.4.2 F_BA_Date Val The function F_BA_Date Val of the return type U_BA_Date Val [} 35] fills the subcomponent ST_BA_Date [} 33] of the function return U_BA_Date Val [} 35] using the input variables n Year, e Month and n Day. This defines a date. 70 Version: 1.0.2 TE1000
## Page 71

Programming Syntax FUNCTION F_BA_Date Val : U_BA_Date Val VAR_INPUT n Year : UINT(1900 .. 2155); e Month : E_BA_Month := E_BA_Month. Unspecified; n Day : UINT(1 .. 31); END_VAR Inputs Name Type Description n Year UINT Entry of the year. e Month E_BA_Month [} 12] Entry of the month. n Day UINT Entry of the day. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.3.4.3 F_BA_Week NDay Val The function F_BA_Week NDay Val of the return type U_BA_Date Val [} 35] fills the subcomponent ST_BA_Week NDay [} 35] of the function return U_BA_Date Val [} 35] using the input variables e Weekday, e Week Of Month and e Month. This defines a day of the week within a month. Syntax FUNCTION F_BA_Week NDay Val : U_BA_Date Val VAR_INPUT e Weekday : E_BA_Weekday := E_BA_Weekday. Invalid; e Week Of Month : E_BA_Week := E_BA_Week. Invalid; e Month : E_BA_Month := E_BA_Month. Invalid; END_VAR Inputs Name Type Description e Weekday E_BA_Weekday Entry of the day of the week. [} 14] e Week Of Month E_BA_Week [} 13] Entry of the week within the month. e Month E_BA_Month [} 12] Entry of the month. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 TE1000 Version: 1.0.2 71
## Page 72

Programming 4.3.1.3.5 Scheduler 4.3.1.3.5.1 F_BA_Set Scheduler Entry The function F_BA_Set Scheduler Entry of return type BOOL first checks whether the input structure u Entry Value is undefined, i.e. filled with 16#FF values. If this is the case, the value E_BA_Sched Entry State.e Null is assigned to the status variable e State of the input-output structure st Entry, in the opposite case the value E_BA_Sched Entry State.e Value. The time component st Time of the input-output structure st Entry is assigned the input t Entry Time, adjusted via the function F_BA_To STTime [} 65] and the value component u Value is assigned the input value u Entry Value. Nothing is assigned to the function return value itself. Syntax FUNCTION F_BA_Set Scheduler Entry : BOOL VAR_IN_OUT st Entry : ST_BA_Sched Entry; END_VAR VAR_INPUT t Entry Time : TIME; u Entry Value : U_BA_Class Value; END_VAR Inputs/outputs Name Type Description st Entry ST_BA_Sched Entry Reference to the schedule entry structure to be read and written. [} 36] Inputs Name Type Description t Entry Time TIME Input of the time. u Entry Value U_BA_Class Value Input of the value. [} 40] Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.3.6 Trend 4.3.1.3.6.1 F_BA_Trend Buffer Size The function F_BA_Trend Buffer Size of return type DINT determines the size of a trend, which is defined as ARRAY of type ST_BA_Trend Entry [} 38]. 72 Version: 1.0.2 TE1000
## Page 73

Programming The input/output variable a Buffer refers to the trend to be examined and allows the linking of fields of undefined size by the syntax ARRAY [*]. Syntax FUNCTION F_BA_Trend Buffer Size : DINT VAR_IN_OUT a Buffer : ARRAY [*] OF ST_BA_Trend Entry; END_VAR Inputs/outputs Name Type Description a Buffer ST_BA_Trend Entry Reference to the trend to be examined. [} 38] Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.3.7 F_BA_Is Disturbed The function F_BA_Is Disturbed of return type BOOL checks the subcomponents of the input structure st State Flags. If the variable b Fault or b In Alarm is set, the return value of the function is TRUE. Syntax FUNCTION F_BA_Is Disturbed : BOOL VAR_INPUT st State Flags : ST_BA_Status Flags; END_VAR Inputs Name Type Description st State Flags ST_BA_Status Flags Status flags that are checked. [} 37] Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 TE1000 Version: 1.0.2 73
## Page 74

Programming 4.3.1.4 Universal 4.3.1.4.1 Auxiliary Calculation 4.3.1.4.1.1 F_BA_Rem Ms Tof The function F_BA_Rem Ms Tof of return type UDINT displays the elapsed time of a TOF function (switch-off delay) in milliseconds. The switch-off delay to be considered must be applied to the input tof Timer. With a rising edge at input IN of tof Timer, the specified time PT is always displayed at the return value F_BA_Rem Ms Tof. With a falling edge at input IN of the tof Timer function, the milliseconds of the specified time PT are counted down at the return value F_BA_Rem Ms Tof. If a FALSE is still present at input IN after the time has elapsed, the return value F_BA_Rem Ms Tof has the value 0. Syntax FUNCTION F_BA_Rem Ms Tof : UDINT VAR_INPUT tof Timer : TOF; END_VAR Inputs Name Type Description tof Timer TOF Input of the considered switch-off delay of type TOF. Requirements Development environment Required PLC library Twin CAT from v3.1.4024.35 Tc3_XBA from v5.3.0.0 4.3.1.4.1.2 F_BA_Rem Ms Ton The function F_BA_Rem Ms Ton of return type UDINT displays the elapsed time of a TON function (switch-on delay) in milliseconds. The switch-on delay to be considered must be applied to the input ton Timer. With a rising edge at input IN of the ton Timer function, the specified time PT is counted down at the return value F_BA_Rem Ms Ton. If a TRUE is still present at input IN after the time has elapsed, the return value of F_BA_Rem Ms Ton is 0. With a falling edge at input IN of the ton Timer function, the specified time PT is always displayed at the return value F_BA_Rem Ms Ton. Syntax FUNCTION F_BA_Rem Ms Ton : UDINT VAR_INPUT ton Timer : TON; END_VAR 74 Version: 1.0.2 TE1000
## Page 75

Programming Inputs Name Type Description ton Timer TON Input of the considered switch-on delay of type TON. Requirements Development environment Required PLC library Twin CAT from v3.1.4024.35 Tc3_XBA from v5.3.0.0 4.3.1.4.1.3 F_BA_Rem Ms Tp The function F_BA_Rem Ms Tp of return type UDINT displays the elapsed time of a TP function (pulse function) in milliseconds. The pulse function to be considered must be applied to input tp Timer. With a rising edge at input IN of the tp Timer function, the milliseconds of the specified time PT are counted down at the return value F_BA_Rem Ms Tp. If the input is still TRUE after the time has elapsed, the return value F_BA_Rem Ms Tp has the value 0. With a falling edge at the input, the return value F_BA_Rem Ms Tp has the time value PT of the function. Syntax FUNCTION F_BA_Rem Secs Tp : UDINT VAR_INPUT tp Timer : TP; END_VAR Inputs Name Type Description tp Timer TP Input of the considered pulse function of type TP. Requirements Development environment Required PLC library Twin CAT from v3.1.4024.35 Tc3_XBA from v5.3.0.0 4.3.1.4.1.4 F_BA_Rem Secs Tof The function F_BA_Rem Secs Tof of return type UDINT displays the elapsed time of a TOF function block (switch-off delay) in seconds. The switch-off delay to be considered must be applied to the input tof Timer. The function block counts down whole seconds when the switch-off delay is activated. If the function block under consideration at input tof Timer is parameterized with 10 s, for example, the function F_BA_Rem Secs Tof counts down 10-9-8 etc. second by second. If the parameterized time is not specified in whole seconds, for example 10.6 s, the function initially has the value "10" for 1.6 s. TE1000 Version: 1.0.2 75
## Page 76

Programming As long as the switch-off delay is not active, the following behavior applies: • if input IN is TRUE and output Q is still FALSE (countdown pending) on the TOF function block under consideration, the F_BA_Rem Secs Tof function is fixed at the programmed time PT of the TOF function block in seconds. It is rounded down to the full second. • if the IN input and the Q output of the TOF function block under consideration are FALSE (countdown has expired), the function F_BA_Rem Secs Tof is fixed at "0". Syntax FUNCTION F_BA_Rem Secs Tof : UDINT VAR_INPUT tof Timer : TOF; END_VAR Inputs Name Type Description tof Timer TOF Input of the considered switch-off delay of type TOF. Requirements Development environment Required PLC library Twin CAT from v3.1.4024.35 Tc3_XBA from v5.3.0.0 4.3.1.4.1.5 F_BA_Rem Secs Tone The function F_BA_Rem Secs Ton of return type UDINT displays the elapsed time of a TON function (switch- on delay) in seconds. The switch-on delay to be considered must be applied to input ton Timer. The function block counts down whole seconds when the switch-on delay is activated. If the function block under consideration is parameterized with 10 s at the input ton Timer, for example, the function F_BA_Rem Secs Ton counts down 10-9-8 etc. second by second. If the parameterized time is not specified in whole seconds, for example 10.6 s, the function initially has the value "10" for 1.6 s. As long as the switch-on delay is not active, the following behavior applies: • if input IN and output Q of the TON function block under consideration are FALSE (countdown pending), the function F_BA_Rem Secs Ton is fixed at the programmed time PT of the TON function block in seconds. It is rounded down to the full second. • if the IN input and the Q output of the TON function block under consideration are TRUE (countdown has expired), the function F_BA_Rem Secs Ton is fixed at "0". Syntax FUNCTION F_BA_Rem Secs Ton : UDINT VAR_INPUT ton Timer : TON; END_VAR Inputs Name Type Description ton Timer TON Input of the considered switch-on delay of type TON. 76 Version: 1.0.2 TE1000
## Page 77

Programming Requirements Development environment Required PLC library Twin CAT from v3.1.4024.35 Tc3_XBA from v5.3.0.0 4.3.1.4.1.6 F_BA_Rem Secs Tp The function F_BA_Rem Secs Tp of return type UDINT displays the elapsed time of a TP function (pulse function) in seconds. The function block counts down whole seconds when the pulse function is activated. If the function block under consideration at input tp Timer is parameterized with 10 s, for example, the function F_BA_Rem Secs Tof counts down 10-9-8 etc. second by second. If the parameterized time is not specified in whole seconds, for example 10.6 s, the function initially has the value "10" for 1.6 s. As long as the pulse function under consideration is not active, the following behavior applies: • if input IN and output Q of the pulse function under consideration are FALSE (countdown pending), the function F_BA_Rem Secs Tp is fixed at the programmed time PT of the TP function block in seconds. It is rounded down to the full second. • if the input IN of the pulse function under consideration is TRUE and the output Q is already FALSE (countdown has expired), the F_BA_Rem Secs Tof function is fixed at "0". Syntax FUNCTION F_BA_Rem Secs Tp : UDINT VAR_INPUT tp Timer : TP; END_VAR Inputs Name Type Description tp Timer TP Input of the considered pulse function of type TP. Requirements Development environment Required PLC library Twin CAT from v3.1.4024.35 Tc3_XBA from v5.3.0.0 4.3.1.4.2 F_BA_Check Enum The function F_BA_Check Enum of return type BOOL determines whether the value n Index of an enumeration exists within a predefined list a Info of type ARRAY [*] OF ST_BA_Enum Info [} 37]. By the syntax ARRAY [*] the reference to fields of undefined size is possible. Sample: a Action : ARRAY[1 .. 2] OF ST_BA_Enum Info := [ (*e Direct*) (s Name := 'Direkt', s Description := 'Gleichläufiger Wirksinn', s Shortcut := ''), (*e Reverse*) (s Name := 'Indirekt', s Description := 'Gegenläufiger Wirksinn', s Shortcut := '') ]; TE1000 Version: 1.0.2 77
## Page 78

Programming If this field would be applied to the IN_OUT variable a Info, the function would return "TRUE" for the values 1 and 2 at n Index, otherwise "FALSE". Syntax FUNCTION F_BA_Check Enum : BOOL VAR_INPUT n Index : INT; END_VAR VAR_IN_OUT a Info : ARRAY [*] OF ST_BA_Enum Info; END_VAR Inputs Name Type Description n Index INT Index to be examined. Inputs/outputs Name Type Description a Info ST_BA_Enum Info List in which the element with the index n Index is to be found. [} 37] Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.4.3 Tc Log 4.3.1.4.3.1 F_BA_Log Message Internally, the function F_BA_Log Message works with the function block FB_Format String. In the first run, a message string is generated from s Log Text. The text s Log Text needs a valid format specification in addition to the message text. The resulting text is preceded by a text argument in square brackets in the second run of FB_Format String. Sample 78 Version: 1.0.2 TE1000
## Page 79

Programming The F_BA_Log Message function is run in ten consecutive cycles, then no more. The log type is ADSLOG_MSGTYPE_ERROR, which means that the message output is of the error message type. The variable s Log Code is assigned the control variable i, which appears in the text in square brackets. The input variable s Log Text of the function contains the text "Message". Output The generated code is used to identify a specific location in the source code. The sample shown above serves to illustrate how this function works. Basically, a distinctive abbreviation (e.g. "IO50" if a message is issued within the method Init Object in line 50) should be explicitly specified for the generation of the log messages. This will display an error at runtime and the shortcut "Ctrl+F" will reach the erroneous location. Syntax FUNCTION F_BA_Log Message VAR_INPUT n Log Type : DWORD := ADSLOG_MSGTYPE_ERROR; s Log Code : STRING := ''; s Log Text : T_Max String; END_VAR TE1000 Version: 1.0.2 79
## Page 80

Programming Inputs Name Type Description n Log Type DWORD Log type, which can be set as a mask. The message is then output depending on the setting of this mask. The mask for ADSLOG_MSGTYPE_LOG is set internally as well. s Log Code STRING An argument in textual form that precedes the message. s Log Text T_Max String Message as text Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.4.3.2 F_BA_Log Message1 Internally, the function works with the function block FB_Format String. In the first run, a message string is generated from s Log Text, which is assigned to t Arg1. The assigned variable must be linked with the correct data type conversion to t Arg1. The text s Log Text needs a valid format specification in addition to the message text. The resulting text is preceded by a text argument in square brackets in the second run of FB_Format String. Sample The F_BA_Log Message1 function is run in ten consecutive cycles, then no more. The log type is ADSLOG_MSGTYPE_ERROR, which means that the message output is of the error message type. The variable s Log Code is assigned the control variable i, which appears in the text in square brackets. In addition to the text "Message" the input variable s Log Text of the function also contains a format specification "%s", which also displays the text "Appendix" of the variable s Text1. Without the format specification " Appendix " would not appear. Output 80 Version: 1.0.2 TE1000
## Page 81

Programming The generated code is used to identify a specific location in the source code. The sample shown above serves to illustrate how this function works. Basically, a distinctive abbreviation (e.g. "IO50" if a message is issued within the method Init Object in line 50) should be explicitly specified for the generation of the log messages. This will display an error at runtime and the shortcut "Ctrl+F" will reach the erroneous location. Syntax FUNCTION F_BA_Log Message VAR_INPUT n Log Type : DWORD := ADSLOG_MSGTYPE_ERROR; s Log Code : STRING := ''; s Log Text : T_Max String; t Arg1 : T_Arg; END_VAR Inputs Name Type Description n Log Type DWORD Log type, which can be set as a mask. The message is then output depending on the setting of this mask. The mask for ADSLOG_MSGTYPE_LOG is set internally as well. s Log Code STRING An argument in textual form that precedes the message. s Log Text T_Max String Message as text. t Arg1 T_Arg Further message text, which is placed at the end. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.4.3.3 F_BA_Log Message2 This function works like F_BA_Log Message1 [} 80], but two message texts t Arg1 and t Arg2 can be added at the end. TE1000 Version: 1.0.2 81
## Page 82

Programming Following the sample program from F_BA_Log Message1 [} 80], a second "%s" must be added to the end of the message to display the additional message. Sample There are eight more blocks of the same type: F_BA_Log Message3 to F_BA_Log Message10. With these functions it is possible to add three to ten additional messages. For each message, another text variable must then be created, s Text3 to s Text10 and a "%s" must be added to the message in line two of the above sample in each case. Output The generated code is used to identify a specific location in the source code. The sample shown above serves to illustrate how this function works. Basically, a distinctive abbreviation (e.g. "IO50" if a message is issued within the method Init Object in line 50) should be explicitly specified for the generation of the log messages. This will display an error at runtime and the shortcut "Ctrl+F" will reach the erroneous location. Syntax FUNCTION F_BA_Log Message VAR_INPUT n Log Type : DWORD := ADSLOG_MSGTYPE_ERROR; s Log Code : STRING := ''; s Log Text : T_Max String; t Arg1 : T_Arg; t Arg2 : T_Arg; END_VAR 82 Version: 1.0.2 TE1000
## Page 83

Programming Inputs Name Type Description n Log Type DWORD Log type, which can be set as a mask. The message is then output depending on the setting of this mask. The mask for ADSLOG_MSGTYPE_LOG is set internally as well. s Log Code STRING An argument in textual form that precedes the message. s Log Text T_Max String Message as text. t Arg1 T_Arg Further message text, which is placed at the end. t Arg2 T_Arg Further message text, which is placed at the end. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.4.3.4 F_BA_Log Message3 Application see F_BA_Log Message2 [} 81]. 4.3.1.4.3.5 F_BA_Log Message4 Application see F_BA_Log Message2 [} 81]. 4.3.1.4.3.6 F_BA_Log Message5 Application see F_BA_Log Message2 [} 81]. 4.3.1.4.3.7 F_BA_Log Message6 Application see F_BA_Log Message2 [} 81]. 4.3.1.4.3.8 F_BA_Log Message7 Application see F_BA_Log Message2 [} 81]. 4.3.1.4.3.9 F_BA_Log Message8 Application see F_BA_Log Message2 [} 81]. 4.3.1.4.3.10 F_BA_Log Message9 Application see F_BA_Log Message2 [} 81]. 4.3.1.4.3.11 F_BA_Log Message10 Application see F_BA_Log Message2 [} 81]. TE1000 Version: 1.0.2 83
## Page 84

Programming 4.3.1.5 Validation Functions 4.3.1.5.1 F_BA_Is Date Val Choice Valid The F_BA_Is Date Val Choice Valid function of return type BOOL checks whether the value of the enumeration applied to input e Choice is within the limits First and Last as defined at E_BA_Date Val Choice [} 11]. Syntax FUNCTION F_BA_Is Date Val Choice Valid : BOOL VAR_INPUT e Choice : E_BA_Date Val Choice; END_VAR Inputs Name Type Description e Choice E_BA_Date Val Choice Enumeration to be checked. [} 11] Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.5.2 F_BA_Is Logging Type Valid The function F_BA_Is Logging Type Valid of return type BOOL checks whether the value of the enumeration applied to input e Type is within the limits First and Last as defined under E_BA_Logging Type [} 16]. Syntax FUNCTION F_BA_Is Logging Type Valid : BOOL VAR_INPUT e Type : E_BA_Logging Type; END_VAR Inputs Name Type Description e Type E_BA_Logging Type Enumeration to be checked. [} 16] Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 84 Version: 1.0.2 TE1000
## Page 85

Programming 4.3.1.5.3 F_BA_Is Unit Valid The function F_BA_Is Unit Valid of return type BOOL checks whether the value of the enumeration applied to the input e Unit is within the limits First and Last as defined at E_BA_Unit [} 17]. Syntax FUNCTION F_BA_Is Unit Valid : BOOL VAR_INPUT e Unit : E_BA_Unit; END_VAR Inputs Name Type Description e Unit E_BA_Unit [} 17] Enumeration to be checked. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.5.4 F_BA_Is Measuring Element Valid The F_BA_Is Measuring Element Valid function of return type BOOL checks whether the value of the enumeration applied to input e Element is within the limits First and Last as defined at E_BA_Measuring Element [} 29]. Syntax FUNCTION F_BA_Is Measuring Element Valid : BOOL VAR_INPUT e Element : E_BA_Measuring Element; END_VAR Inputs Name Type Description e Element E_BA_Measuring Ele Enumeration to be checked. ment [} 29] Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 TE1000 Version: 1.0.2 85
## Page 86

Programming 4.3.1.5.5 F_BA_Is Data Class Valid The F_BA_Is Data Class Valid function of return type BOOL checks whether the value of the enumeration applied to input e Class is within the limits First and Last as defined at E_BA_Data Class [} 14]. Syntax FUNCTION F_BA_Is Data Class Valid : BOOL VAR_INPUT e Class : E_BA_Data Class; END_VAR Inputs Name Type Description e Class E_BA_Data Class Enumeration to be checked. [} 14] Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.1.5.6 F_BA_Is Data Type Valid The F_BA_Is Data Type Valid function of return type BOOL checks whether the value of the enumeration applied to input e Type is within the limits First and Last as defined at E_BA_Data Type [} 15]. Syntax FUNCTION F_BA_Is Data Type Valid : BOOL VAR_INPUT e Type : E_BA_Data Type; END_VAR Inputs Name Type Description e Type E_BA_Data Type Enumeration to be checked. [} 15] Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 86 Version: 1.0.2 TE1000
## Page 87

Programming 4.3.1.5.7 F_BA_Is Weekday Valid The F_BA_Is Weekday Valid function of return type BOOL checks whether the value of the enumeration applied to input e Day is within the limits First and Last as defined at E_BA_Weekday [} 14]. Syntax FUNCTION F_BA_Is Weekday Valid : BOOL VAR_INPUT e Day : E_BA_Weekday; END_VAR Inputs Name Type Description e Day E_BA_Weekday Enumeration to be checked. [} 14] Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.2 Function Blocks 4.3.2.1 Controllers 4.3.2.1.1 FB_BA_PIDCtrl The FB_BA_PIDCtrl function block is a universal PID controller. The controller is divided internally into two consecutive parts: • the controller itself, illustrated in the functional diagrams below as P, I and D part with an output limitation. • a deadband element (neutral zone) that applies a hysteresis to the output changes of the controller. Operation mode "Upstream P part": (e Operation Mode = E_BA_PIDMode.e P1ID) TE1000 Version: 1.0.2 87
## Page 88

Programming "Parallel structure" operation mode: (e Operation Mode = E_BA_PIDMode.e PID ) Control direction If b Actn = FALSE, the control direction of the controller is reversed so that a control deviation of less than 0 causes a change in the control value in the positive direction. This is achieved by a negative calculation of the control deviation: b Actn f E (control deviation) Control direction TRUE f X-f W (actual value-setpoint) direct (cooling) FALSE f W-f X (setpoint-actual value) indirect (heating) Passive behavior (b En = FALSE) The outputs are set as follows: f Y 0.0 f E current control deviation, see control direction. The internal values for the P, I, and D parts are set to 0, also the values for the I and D parts of the preceding cycle. In case of a restart the control value is thus calculated in the first cycle without past values. Active behavior (b En = TRUE) In the first cycle, the I and D parts are calculated without historical values, as already mentioned. Anti-Reset-Windup If the I part is active, the controller ensures that it is retained, if the controller output r Y is about to move beyond the limits f YMin or f YMax. A preliminary calculation of the controller output takes place inside the controller in every cycle. 88 Version: 1.0.2 TE1000
## Page 89

Programming Anti-reset windup at min limit If the precalculation is smaller than the lower output limit f YMin, the I part is prevented from falling further and is limited to the value of the last PLC cycle. However, an increase in the I part remains possible. Anti-reset windup at max limit On the other hand, if the precalculation is greater than the upper limit f YMax, the I part is prevented from increasing further and is also limited to the value of the last PLC cycle. In this case, a drop in the I part remains possible. Synchronizations There are several cases where controller output must not only be limited, but also synchronized to a new value by manipulating the I part (if not active, then the D part or the P part). These cases are prioritized because of the potential for simultaneity: Prio Description Conditions Comments 1 Synchronization via Controller enabled - b En A positive signal on b Sync sets the I part so b Sync/f Sync = TRUE that the control value assumes the value f Sync. If b En and b Sync are set at the same time, this method can be used to set an initial value from which the controller starts. If the I part is not active, the D part is set accordingly. Note that only the rising edge of b Sync is evaluated internally as this is a setting action. A TRUE signal must be applied again to the input b Sync for renewed synchronization, for instance with a transfer value. 2 Range synchronization Controller enabled - b En If the lower range limit has changed and the f YMin = TRUE precalculated controller output is now smaller than f YMin then synchronization is f YMin <> f YMin_1 (last performed to f YMin. cycle) f Y_Test < f YMin 3 Range synchronization Controller enabled - b En if the upper range limit has changed and the f YMax = TRUE precalculated controller output is now greater than f YMax, then synchronization is f YMax <> f YMax_1 (last performed to f YMax cycle) f Y_Test > f YMax 4 Synchronization with Controller enabled - b En It is synchronized so that the output holds reversal of the control = TRUE the value BEFORE the reversal: direction f Y = f Y_1 (last cycle) e Actn <> e Actn_1 (last cycle) 5 Anti-Reset-Windup Controller enabled - b En see Anti-Reset-Windup = TRUE Neutral zone A value of f Neutral Zone > 0.0 enables the function of the neutral zone (deadband). A value equal to zero deactivates the deadband element and the values at the input are passed directly through. If, for the active controller, the change at the input of the element in a PLC cycle is smaller than f Neutral Zone / 2 in comparison with the previous PLC cycle, then the output is held at the value of the previous cycle until the change is larger than or equal to f Neutral Zone / 2. This function is intended to avoid an unnecessarily large number of actuating pulses. TE1000 Version: 1.0.2 89
## Page 90

Programming Syntax VAR_INPUT b En : BOOL; f W : REAL; f X : REAL; e Actn : E_BA_Action := E_BA_Action.e Reverse; f YMax : REAL := 100; f YMin : REAL := 0; b Sync : BOOL; f Sync : REAL; END_VAR VAR_INPUT CONSTANT PERSISTENT n Cycle Call : UDINT := 5; e Operation Mode : E_BA_PIDMode := E_BA_PIDMode.e P1ID; f Proportional Constant : REAL; t Integral Time : TIME; t Derivative Time : TIME; t Damping Time : TIME; f Neutral Zone : REAL := 0.0; END_VAR VAR_OUTPUT f Y : REAL; f E : REAL; END_VAR Inputs Name Type Description b En BOOL Enable of the controller. f W REAL Setpoint of the controlled system. f X REAL Actual value of the controlled system. e Actn E_BA_Action [} 29] Control direction of the controller. f YMax REAL Upper output limit of the controller [%]. f YMin REAL Lower output limit of the controller [%]. The value f YMin is limited upwards by f YMax. b Sync BOOL Synchronizes the controller to the value of f Sync. f Sync REAL Synchronization value. The value f Sync is internally limited to values from f YMin to f YMax. Inputs CONSTANT PERSISTENT Name Type Description n Cycle Call UDINT Call cycle of the function block as a multiple of the cycle time. Internally limited to a minimum value of 1. e Operation Mode E_BA_PIDMode [} 8] Mode of operation of the controller: PID mode or P-ID mode f Proportional Consta REAL Controller gain. Only affects the P part. Internally limited to a nt minimum value of 0. TIntegral Time TIME Integral action time of the I part [ms]. A null value at this parameter disables the I part. t Derivative Time TIME Rate time of the D part [ms]. A null value at this parameter disables the D part. t Damping Time TIME Damping time of the D part [s]. f Neutral Zone REAL Dead zone Outputs Name Type Description f Y REAL Control value. Range limited by f YMin and f YMax. f E REAL Control deviation (The calculation depends on the control direction). 90 Version: 1.0.2 TE1000
## Page 91

Programming Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.2.2 Universal 4.3.2.2.1 I/O 4.3.2.2.1.1 FB_BA_KL32xx The function block FB_BA_KL32xx is for the configuration of Bus Terminals of the types KL3208_0010, Kl3201, KL3202 and Kl3204. Syntax FUNCTION_BLOCK FB_BA_KL32xx VAR_INPUT b Configurate : BOOL; b Read Config : BOOL; e Sensor : E_BA_Measuring Element; END_VAR VAR_OUTPUT n State : USINT; n Data : INT; f Val : REAL; b Err : BOOL; b Wire Break : BOOL; b Short Circuit : BOOL;/ END_VAR VAR_IN_OUT n Raw State : USINT; n Raw Data In : INT; n Raw Ctrl : USINT; n Raw Data Out : INT; END_VAR VAR // [Output-Properties] n Terminal Type : WORD; n Special Type : WORD; n Firmware Version : WORD; s Terminal Description : STRING; s Sensor Name : STRING; END_VAR Inputs Name Type Description b Configurate BOOL A rising edge starts the configuration of the bus terminal. b Read Config BOOL A rising edge starts the reading of the bus terminal. e Sensor E_BA_Measuring Ele Selection of the sensor type. ment TE1000 Version: 1.0.2 91
## Page 92

Programming Outputs Name Type Description n State USINT Output of the present terminal status. n Data INT Output of the present process data. f Val REAL Scaled output value. b Err BOOL Error in the terminal configuration. b Wire Break BOOL A TRUE indicates a wire break at the sensor. b Short Circuit BOOL A TRUE indicates a short circuit at the sensor. Inputs/outputs Name Type Description n Raw State USINT Linking with the corresponding status byte of the bus terminal in the I/O area of the program. n Raw Data In INT Linking with the corresponding raw data (Data In) of the bus terminal in the I/O area of the program (0...32767). n Raw Ctrl USINT Linking with the corresponding control byte of the bus terminal in the I/O area of the program. n Raw Data Out INT Linking with the corresponding raw data (Data Out) of the bus terminal in the I/O area of the program. Properties Name Type Access Description Firmware Version WORD Get Display of the terminal firmware. Sensor Name STRING Get Display of the sensor type. Special Type WORD Get Display of the special version of the terminal. Terminal Description STRING Get Display of the terminal type and firmware Terminal Type WORD Get Display of the terminal type. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.2.2.2 Trigger 4.3.2.2.2.1 FB_BA_ATrig COV The function block FB_BA_ATrig COV is used to detect a value change of a variable x Value of any type. The size of the variable type is internally set to 4 bytes. When the value at x Value changes, the output b Q is set to TRUE for one cycle, likewise when a rising edge occurs at b Force. The block output b Ready changes to TRUE if the linked variable at x Value does not exceed the limit of 4 bytes. If this limit is exceeded, an error message appears in the Twin CAT output window and in the error list. The function block will not check the variable x Value any further and will only respond to changes at the input b Force. The output b Ready is then FALSE. 92 Version: 1.0.2 TE1000
## Page 93

Programming Syntax FUNCTION_BLOCK FB_BA_ATrig COV VAR_INPUT x Value : ANY; b Force : BOOL; END_VAR VAR_OUTPUT b Ready : BOOL; b Q : BOOL; END_VAR Inputs Name Type Description x Value ANY Value to be monitored. It must not exceed 4 bytes. b Force BOOL A rising edge at this input forces a trigger pulse at the output. Outputs Name Type Description b Ready BOOL Switches to TRUE if the variable applied to x Value does not exceed 4 bytes. b Q BOOL In case of a value change at x Value or a rising edge at b Force this output changes to TRUE for one PLC cycle. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.2.2.2.2 FB_BA_RFTrig The function block FB_BA_RFTrig is used to detect a rising or falling edge on a boolean variable. Syntax FUNCTION_BLOCK FB_BA_RFTrig VAR_INPUT b Value :BOOL; END_VAR VAR_OUTPUT Q :BOOL; Qr :BOOL; Qf :BOOL; END_VAR Inputs Name Type Description b Value BOOL Value to be monitored. Outputs Name Type Description Q BOOL TRUE for one cycle if a rising or falling edge was detected at b Value. TE1000 Version: 1.0.2 93
## Page 94

Programming Name Type Description Qr BOOL TRUE for one cycle if a rising edge was detected at b Value (monitored value changes from FALSE to TRUE). Qf BOOL TRUE for one cycle if a falling edge was detected at b Value (monitored value changes from TRUE to FALSE). Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.2.2.3 Ramps filters 4.3.2.2.3.1 FB_BA_Fltr PT1 The function block FB_BA_Fltr PT1 is a first order filter. When the function block is first called (system startup), the output f Out is automatically set to the input f In once. Syntax FUNCTION_BLOCK FB_BA_Fltr PT1 VAR_INPUT f In : REAL; n Damp Const : UDINT; b Set Actl : BOOL; END_VAR VAR_OUTPUT f Out : REAL; END_VAR Inputs Name Type Description f In REAL Input signal n Damp Const UDINT Filter time constant [s]. Internally limited to values between 0 and 86400. b Set Actl BOOL A rising edge at this input switches the output value f Out to the input value f In. Outputs Name Type Description f Out REAL Filtered output signal Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 94 Version: 1.0.2 TE1000
## Page 95

Programming 4.3.2.2.3.2 FB_BA_Ramp Lmt The function block FB_BA_Ramp Lmt limits the increase or decrease speed of an input signal. When f In rises, the output f Out is limited to the slope of (f Hi-f Lo)/n Ti Up. When f In falls, the output f Out is limited to the slope of (f Hi-f Lo)/n Ti Dwn. Syntax FUNCTION_BLOCK FB_BA_Ramp Lmt VAR_INPUT b En : REAL; f In : REAL; b Sync : BOOL; f Sync : REAL; f Hi : REAL; f Lo : REAL; n Ti Up : UDINT; n Ti Dwn : UDINT; END_VAR VAR_OUTPUT f Out : REAL; END_VAR Inputs Name Type Description b En BOOL Enable function block if FALSE, then f Out = 0.0. b En Ramp BOOL Enable ramp limitation, if FALSE, then f Out = f In. f In REAL Input value of the ramp function TE1000 Version: 1.0.2 95
## Page 96

Programming Name Type Description f Hi REAL Upper interpolation point for calculating the ramps f Lo REAL Lower interpolation point for calculating the ramps. f Hi must be greater than f Lo, otherwise an error is output! n Ti Up UDINT Rise time [s] n Ti Dwn UDINT Fall time [s] Outputs Name Type Description f Out REAL Output signal, slope-limited through the ramps. Requirements Development environment Required PLC library Twin CAT 3.1 4024.35 Tc3_BA2_Common from V2.1.20.0 4.3.2.2.4 Hysteresis 2-Point-Control 4.3.2.2.4.1 FB_BA_Swi2P The function block FB_BA_Swi2P is a two-point switch with one switch-on point and one switch-off point. A binary output signal is generated based on a comparison of the input signal f In with the switch-on point f On and the switch-off point f Off. A general function block enable can be implemented at input b En. If b En is FALSE, the output b Q is also FALSE. The control direction of the function block depends on the relative position of the switch-on/switch-off points. If the switch-on point is greater than the switch-off point, the control direction is direct/synchronous (cooling mode). If the switch-off point is greater than the switch-on point, the control direction is indirect/reversed (heating mode). 96 Version: 1.0.2 TE1000
## Page 97

Programming Syntax FUNCTION_BLOCK FB_BA_Swi2P VAR_INPUT b En : BOOL; f In : REAL; f On : REAL; f Off : REAL; {attribute 'parameter Unit':= 's'} n Dly On : UDINT; {attribute 'parameter Unit':= 's'} n Dly Off : UDINT; END_VAR VAR_OUTPUT b Q : BOOL; {attribute 'parameter Unit':= 's'} n Rem Ti Dly On : UDINT; {attribute 'parameter Unit':= 's'} n Rem Ti Dly Off : UDINT; END_VAR Inputs Name Type Description b En BOOL General enable of the function block. f In REAL Input value f On REAL Switch-on point f Off REAL Switch-off point n Dly On UDINT Start-up delay [s] n Dly Off UDINT Switch-off delay [s] Outputs Name Type Description b Q BOOL Calculated output value of the characteristic curve. n Rem Ti Dly On UDINT Remaining time of the start-up delay [s]. n Rem Ti Dly Off UDINT Remaining time of the switch-off delay [s]. Requirements Development environment Required PLC library Twin CAT 3.1 4024.56 Tc3_BA2_Common from V2.2.23.0 TE1000 Version: 1.0.2 97
## Page 98

Programming 4.3.2.2.4.2 FB_BA_Swi Hys2P The function block FB_BA_Swi Hys2P is a two-point switch with adjustable hysteresis and hysteresis offset. A general function block enable can be implemented at input b En. If the function block is locked, the output b Q is FALSE. The setpoint for the two-point switch is connected at input f Sp. The control direction of the function block depends on the input variable b Actn. The active switching points result from the setpoint, the hysteresis and the hysteresis offset. They are output at f Swi Hi and f Swi Low. • The upper switching point is given by f Sp + f Hys/2 + f Hys Offs. • The lower switching point is given by f Sp - f Hys/2 + f Hys Offs. If b Actn TRUE, the result is direct/synchronous control direction (cooling mode). If b Actn is FALSE, the result is indirect/reversed control direction (heating mode). Syntax VAR_INPUT b En : BOOL; f In : REAL; 98 Version: 1.0.2 TE1000
## Page 99

Programming f Sp : REAL; f Hys : REAL; f Hys Offs : REAL; {attribute 'parameter Unit':= 's'} n Dly On : UDINT;// (0.. BAComn_Global.udi Max Sec In Milli) switch-on delay (in [s]) {attribute 'parameter Unit':= 's'} n Dly Off : UDINT;// (0.. BAComn_Global.udi Max Sec In Milli) switch-off delay (in [s]) b Actn : BOOL; END_VAR VAR_OUTPUT b Q : BOOL; f Swi Hi : REAL; f Swi Low : REAL; {attribute 'parameter Unit':= 's'} n Rem Ti Dly On : UDINT;// switch-on delay countdown (in [s]) {attribute 'parameter Unit':= 's'} n Rem Ti Dly Off : UDINT;// switch-off delay countdown (in [s]) END_VAR Inputs Name Type Description b En BOOL General enable of the function block. f In REAL Input value f Sp REAL Setpoint input f Hys REAL Hysteresis f Hys Offs REAL Hysteresis offset n Dly On UDINT Start-up delay [s] n Dly Off UDINT Switch-off delay [s] b Actn BOOL Control direction Outputs Name Type Description b Q BOOL Output f Swi Hi REAL Upper switching point f Swi Low REAL Lower switching point n Rem Ti Dly On UDINT Remaining time of the start-up delay [s]. n Rem Ti Dly Off UDINT Remaining time of the switch-off delay [s]. Requirements Development environment Required PLC library Twin CAT 3.1 4024.56 Tc3_BA2_Common from V2.2.23.0 4.3.2.3 System 4.3.2.3.1 Persistent Data 4.3.2.3.1.1 FB_BA_Persistent Data Handler TE1000 Version: 1.0.2 99
## Page 100

Programming When activated, the function block FB_BA_Persistent Data Handler first saves the persistent data in the file Port_xxx.bootdata. It is not necessary to explicitly specify the port or runtime system at which the PLC is located; this is determined internally. Once the data has been written, the content of the file Port_xxx.bootdata is copied to the backup file Port_xxx.bootdata-old. Thus both files are always synchronized. In case the original file with the persistent data is not readable, the backup copy, which is then read, contains the same data. In any case, the checkmark for "Clear Invalid Persistent Data" must be removed (see Description of persistent data handling under Twin CAT3). The function block can be started in two ways: Via a positive edge at input b Stt, if the function block is not in the set start-up phase. Initially once the start-up phase is completed after a reset or Twin CAT restart. The duration is set at n Init Stt Dly in seconds. If "0" is entered there, the duration of the start-up phase is 0 and an initial execution of the function block is skipped. No commands are accepted at b Stt during the start-up phase. If errors occur while reading, writing, opening or closing the files, this is indicated by a corresponding error message at b Err/s Err Descr. After an internally fixed waiting time of two seconds, the function block automatically attempts to execute the command (read, write, open or close) again. It is therefore advisable to keep an eye on the error outputs or to evaluate them. It is also important to note whether the backup file for the persistent data was loaded during the Twin CAT restart or after a reset. This indicates that the original file cannot be read and that the memory card of the controller is defective. It can be queried for each runtime system with the boolean assignment of Twin CAT_System Info Var List._App Info. Old Boot Data (see Plc App System Info). Sample in ST: Sample in CFC: NOTICE File handle conflicts Make sure that only this function block and only one instance of it accesses the persistent data. If several function blocks open a file and do not close it again, unforeseen file handle conflicts can occur which cannot be intercepted. The persistent data is then no longer updated in the file xxx.bootdata. Description of persistent data handling under Twin CAT 3 100 Version: 1.0.2 TE1000
## Page 101

Programming Twin CAT saves the persistent data for each runtime system in a file during each orderly shutdown, i.e. when switching from Run to Config or Stop mode. The file name consists of the ADS port name of the runtime system with the file extension .bootdata, e.g.: Port_851.bootdata and is stored in the Twin CAT directory under Twin CAT\3.1\Boot\PLC. When the system is restarted, i.e. when switching to Run mode, this file is read and then saved as Port_xxx.bootdata-old. If the file Port_xxx.bootdata-old already exists, it is overwritten. The original file Port_xxx.bootdata no longer exists. It is created again automatically when switching to Stop mode or by the function block FB_Write Persistent Data from the TC2_Utilities library. This behavior applies to each runtime system; each system has its own files with persistent data. If the file is defective when the Twin CAT system is restarted, the system automatically accesses the backup file Port_xxx.bootdata-old. However, this behavior only applies if the Clear Invalid Persistent Data checkmark is unchecked in the runtime settings. If it is checked and the original file is defective, no data will be read. The backup file Port_xxx.bootdata-old is also used when the controller is de-energized. In this case, too, the currently valid persistent data is not saved in Port_xxx.bootdata. When the system is restarted, only the old data is available, unless a more up-to-date file was generated by the function block FB_BA_Persistent Data Handler before the system was switched off. TE1000 Version: 1.0.2 101
## Page 102

Programming Syntax FUNCTION_BLOCK FB_BA_Persistent Data Handler IMPLEMENTS I_BA_Persistent Data Handler VAR_INPUT b Stt : BOOL; {attribute 'parameter Unit':= 's'} n Init Stt Dly : UDINT := 10; 102 Version: 1.0.2 TE1000
## Page 103

Programming VAR_OUTPUT b Busy : BOOL; n Rem Tn Init Stt Dly : UDINT; b Err : BOOL; s Err Descr : T_Max String; END_VAR Inputs Name Type Description b Stt BOOL A rising edge at this input starts the function block if it is not in the start-up phase. n Init Stt Dly UDINT Start-up phase after a reset or Twin CAT restart. The duration is set in seconds. Once the start-up phase has elapsed, the function block is automatically started once. No commands are accepted for b Stt during the start-up phase. If "0" is set at n Init Stt Dly, the start-up phase is skipped. This input is preconfigured with 10 s. Outputs Name Type Description b Busy BOOL The function block is being executed. n Rem Ti Init Stt Dly UDINT Countdown of the set start-up phase. b Err BOOL This output is switched to TRUE if the parameters entered are erroneous. s Err Descr T_MAXSTRING Contains the error description. Error description 01: Error: The number of the ADS port issued by the PLC is "0". 02: Warning: Error when writing the persistent data via the internal function block FB_Write Persistent Data. Additionally its error number. 03: Warning: Error when opening the backup file (xxx.bootdata-old) via the internal function block FB_File Open. Additionally its error number. 04: Warning: Error when reading the original file (xxx.bootdata) via the internal function block FB_File Read. Additionally its error number. 05: Warning: Error when writing the backup file (xxx.bootdata-old) via the internal function block FB_File Write. Additionally its error number. 06: Warning: Error when closing the original file (xxx.bootdata) via the internal function block FB_File Close. Additionally its error number. 07: Warning: Error when closing the backup file (xxx.bootdata-old) via the internal function block FB_File Close. Additionally its error number. Properties Name Type Access Description Busy BOOL Get/Set Signals the processing of the function block. Methods Name Description Utilize Manages the information internally that there is a provider that makes persistent data available. The call is accepted if active write operations are being carried out. Write Possibility to start the function block via the interface. Write Persitent Data Method for writing persistent data. TE1000 Version: 1.0.2 103
## Page 104

Programming Interfaces Type Description I_BA_Persistent Data Hand Interface for displaying the FB_BA_Persistent Data Handler. ler I_BA_Persistent Data Provi Interface for storing persistent data in the boot folder. der Requirements Development environment Required PLC library Twin CAT 3.1 4024.56 Tc3_BA2_Common from V2.2.23.0 104 Version: 1.0.2 TE1000
## Page 106

More Information: www.beckhoff.com/te1000/ Beckhoff Automation Gmb H & Co. KG Hülshorstweg 20 33415 Verl Germany Phone: +49 5246 9630 info@beckhoff.com www.beckhoff.com
